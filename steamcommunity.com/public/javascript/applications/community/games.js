/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3903],
  {
    27522: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Icon: "_2bzHb-caO-Nm9nCFXRj7zq",
        IconGlow: "tH67cztsTrD9IF2zpG8ep",
        AchievementIconWrapper: "_373lENtPG9blrNsyXz0y_J",
        RareAchievementIconGlowContainerRoot: "_39Chtmumni5hlYAbFZt-PU",
        RareAchievementIconGlowContainer: "leuGOqykWKVDUuR082MPV",
        rotate: "_1Mdch_OwSiwWooFB8LxqbE",
        RareAchievementNoAnimation: "_25gJmeIGPjHa2ccPzTntg4",
        RareAchievementIconGlow: "rORbR_CuoyBuXGKfa8_2-",
        HiddenLabel: "_2yMyP8POdcTHs9u9CEQIKY",
      };
    },
    76478: (e) => {
      e.exports = {
        ProgressBar: "yZ55NhARZGx1Awk2qs8pS",
        AnimateProgress: "_1CcdviLW6hebdTPh-3a7DC",
        loadingBarAnim: "BX2Tm1w9-ANfTCqXg431i",
        Indeterminate: "_1sxT4GOX7iqToa-lS_Wx_E",
      };
    },
    89729: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
      };
    },
    33672: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        Gameslistapp: "_2nl8HoZ_rxg3AGpYs0N_UD",
        DisplayControls: "_2_BHLBIwWKIyKmoabfDFH-",
        FilterInput: "_24EKvqXebLSndHLcU0oa9S",
        SortOptions: "_3pgJXGeUvcAyf_Qx8Gviyl",
        SortOption: "YcplNXvbAo_QrR2RGHq7A",
        SelectedSort: "MA0IhL4avzBMZsPIv_Onx",
        BothOwnedFilter: "NKeON8ijAOy_Uhx4o6-oS",
        MeasurementContainer: "ZmRLuak1LI0RT7TdSGaSp",
        PrivacySettingsLink: "mRoicVJ4W3e852Q42-bzU",
      };
    },
    1086: (e) => {
      e.exports = {
        Filter: "ZQQNQC6M0Bnh0edYDcm0p",
        ClearButton: "_2iq6O4IihM1DlK3T6MDriW",
        SearchIcon: "QptTjZmYHOPv7_vqyAhnS",
      };
    },
    19766: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        List: "_3tY9vKLCmyG2H2Q4rUJpkr",
        GamesListItemContainer: "_29H3o3m-GUmx6UfXhQaDAm",
        GamesListItem: "_2-pQFn1G7dZ7667rrakcU3",
        Changing: "_2virZnBQZfVnSt_RLteF8d",
        NavButton: "_3aNUlXqnUCLTuW3Aeu2vQ1",
        GameItemPortrait: "_1bAC6eBHy0MpRWrwTkgT9o",
        FallbackTitle: "MHfYK1d8GyLy-Pw2Zd0oX",
        PortraitContainer: "_1CHM8-0EM9IeDAZ47-cYit",
        HasAdultContent: "_2jXu55ZFxTRANaTIIV7EJ5",
        GameNameContainer: "w6q9piMq3gT16oj_lEvpy",
        GameName: "_22awlPiAoaZjQMqxJhp-KP",
        Playtime: "_2EeyhCvW_KhEdtuarguZYh",
        Hours: "_26nl3MClDebGDV7duYjZVn",
        Hours2weeks: "_1_mJZIdFpISpEwLAdgWwHG",
        LastPlayed: "_2jglu-fYE_XNY6tkn6J99Y",
        FactLabel: "_2L1rk5AZ6FW8trFciJnHSs",
        AchievementContainer: "_38RhR5f2dCM0suwMTTCyMk",
        AchievementsProgress: "_3L-qRrHSjklL-XerpCawLU",
        Buttons: "_1uRB5he6cj97y-rG3RcI6H",
        GameLinks: "_35fxd2upwJHRuX_fNyRbbM",
        GameLinksButton: "_1pXbX5mBA7v__kVWHg0_Ja",
        AppPrivateIndicator: "_2UkkK2haCjZZi3oNZjrHTt",
        DownloadStatus: "bDheibeyyAaooxTc0G5Bh",
        PerfectRibbon: "_1uKlfc1_Z49lxRNSctgO7y",
        ContentLinks: "_1yvGN-lhGKwgwFZ0hqNf3",
        StatLinks: "_1sruH2EotKih-5xc1nw_Ak",
        BottomSheetContainer: "_3EfAk-1beaL1stoa1Zphh2",
        BottomSheetOverlay: "_3M4Jfj5fXzOUlgH9BqKlOq",
        BottomSheet: "_2ywCPkpOvBVojX4Mnn7zuJ",
        GameInfo: "_36tJrb1jp0FbroHbjR6K2b",
        Facts: "_34z3MVFlA6nkaOvj9p0BXg",
        GameTitle: "_3RUE8mOoeGf8bZ77aurU_I",
        AchievementIcons: "_6o-Nn_9cs5UP8u0ZSRljj",
        Portrait: "_3MzPltH_U92rP-soE-XXhZ",
        BlurredBackground: "r1Y-M8ZjYRcmI8sTqnnbW",
        BottomSheetSection: "NZhfSfVUUKzxiu-j4DLM-",
        SectionContent: "_1ynpS-BFysdDH9UAW-iRDf",
        BottomSheetRemoteControls: "_2gji1dsQmGsIQfeoZ3ZDLp",
        BottomSheetLink: "_34fh9Z8MPpZ4_9yScG6sTQ",
        ClientName: "_1Jcm1lR6ir2WXkex7RFhNc",
        NavDropdownMenu: "_1HvmxTJCyuUCUtpqb-Jvbm",
        AchievementIcon: "_2J4HYQJrf2UMRTTLMmtWQY",
        Remainder: "fVmXu5fTPTvdMa9Wfl4-t",
        AchievementHover: "_1Whe1Zq6Wp7xVMB3L_kD7z",
        Background: "OMxTbLGmt5VsNqE2XXp_z",
        Blur: "BPScsrxPEywJlzL3Nps-T",
        TopSection: "_3OoXTDF9l6Vk3NVig_aEs7",
        TextSection: "_3sCHJt5zL0N6_BEWg0qu-e",
        Name: "_2jbhFCR7QFZlm9OjxHKzR4",
        Unlocked: "_1UIA3j5VZhatQINGh2TCP5",
        RareLabel: "_3g9oIyfEdZ_IaqN-AdCrUd",
        AchievementsProgressBar: "_3Z3qpPO7VynFPtiyMoSUOj",
        AchievementsProgressLabel: "_3eZMLQT-bjZ0EhBSvQlDQ0",
        AchievementsFraction: "_1YRRMk6X7vrOL-02K-q1pf",
        emptyDescription: "_3oj8bwi8usJEPiy_cYHLnV",
        GamepadNavigationDropdown: "Ml4QU2rA5poyzlN6Mpn_V",
        GamepadNavigationDropdownButton: "_2u7K0-MM3a_gPWpWBEUSOb",
        placeholderPulse: "_3qZsOXqZUFEK9ISDZudzlL",
        rotate: "_1TDttoOdo6-4lnAb7-9v_0",
      };
    },
    3980: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        ClientSelectDropdown: "_2Z6JLrWwlE-rD6qsK1mpwA",
        ClientListDropdownMenu: "_22iS0ZTKxg-SJsAgi5pqBI",
        RemoteDownloadClientBar: "hQ4Q9MOyzOvVrZauH-tj5",
        RemoteDownloadHeader: "UVZ1rP5saSNYWAWH3yMTl",
        InfoIcon: "_3TWnE-0Q1fkvhkB9mfdf27",
        ClientIndicator: "_2XcV9fHY60YOpjt36jVCfY",
        NoConnection: "E0OMiLaKR_MRnFXmJAZmf",
        RemoteDownloadStatus: "_14QBdf-5S88wYLJbazoFrh",
        RemoteDownloadHelp: "_1pQIr9TvX9JCZcMmMETHx1",
        NoConnectionText: "_1A0dfMNzS5OX5an6RIFIK-",
        LearnMoreCta: "_3XDsbImB-54v0oQIFtqdJj",
        DownloadBarWithLabel: "_14YOdPTduI4LctS9AB_CjI",
        DownloadStatus: "_2JtXwjoHHm0U24wGc2CfVV",
        DownloadProgress: "_2b6Qyvo_fVAbVShbS2jmJQ",
        CurrentSpace: "_3_zPYGBGckOlSj4oGyYok5",
        DownloadEstimate: "_2QWHYy_4BKkdD243QQJWM4",
        DownloadBar: "_4ZW4ifW1Y2eVWWfugmjfC",
        RemoteControls: "_1FputvTUMDlSdMWR6dzBHN",
        ButtonContainer: "_2mcktnnmYz7Erghm5hxnqS",
        NoRemoteControl: "_217EiSw2ETc8OiRB6_XCAN",
        DownloadSize: "_2zfId9cfT2zTYc0lGKOhrr",
        UpdateSchedule: "_nq0rHACsxcW4OBfu3FB9",
        DownloadIconButton: "_2P6595PfFeyY96lncv5stz",
        DownloadBarContainer: "_2Qx7nzrAjG0zOX4ZElhETi",
      };
    },
    54129: (e) => {
      e.exports = {
        WishlistTab: "_1BZR3-r7Ext8HXYzmdK9zn",
        tabList: "_1sHACvEQL-LRtUYan0JxdB",
        TabBaseline: "_2gC9IPFcO2QkemlSXC51zW",
        SelectBaseline: "_1qj0peBs6iRD1XsxTT68xH",
      };
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => c });
      var a = n(47427),
        r = n(82493),
        o = n(4030),
        s = n(20417),
        i = n(37563),
        l = n(35643);
      function c(e) {
        const { children: t, navTreeRef: n, ...c } = e,
          m = a.useRef(),
          d = (0, s.BE)(m, n),
          u = (0, i.id)(),
          p = window.__virtual_keyboard_client;
        if (u) {
          const e = window.__nav_tree_root;
          return a.createElement(
            r.Fe,
            { ...c, navTreeRef: d, secondary: !0, parentEmbeddedNavTree: e },
            a.createElement(
              l.o5,
              { factory: p },
              a.createElement(o.O, null, t),
            ),
          );
        }
        return a.createElement(a.Fragment, null, t);
      }
    },
    71472: (e, t, n) => {
      "use strict";
      n.d(t, { Ar: () => l, Wo: () => c, i9: () => i, ks: () => o });
      var a = n(47427),
        r = n(8285);
      function o(e, t) {
        let n;
        "string" == typeof e
          ? (n = e)
          : "location" in e
            ? (n = e.location.search)
            : "search" in e && (n = e.search);
        const a = new URLSearchParams(n.substring(1));
        if (a.has(t)) {
          const e = a.getAll(t);
          return e[e.length - 1];
        }
      }
      const s = (e) => null != e;
      function i(e, t, n, a = !1) {
        const r = new URLSearchParams(e.location.search.substring(1));
        r.delete(t),
          s(n) && r.append(t, n),
          a
            ? e.replace(`?${r.toString()}`, { ...e.location.state })
            : e.push(`?${r.toString()}`);
      }
      function l(e, t) {
        const n = (0, r.k6)(),
          l = (0, r.TH)(),
          c = (0, a.useMemo)(() => {
            const n = o(l.search, e);
            return s(n)
              ? s(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== n)
                  : t.constructor(n)
                : n
              : t;
          }, [l.search, e, t]),
          m = (0, a.useCallback)(
            (t) => {
              i(n, e, s(t) ? String(t) : null);
            },
            [n, e],
          );
        return [c, m];
      }
      function c(e, t, n = !1) {
        const a = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const n = t[e];
            a.delete(e), s(n) && a.append(e, n);
          }
        n
          ? e.replace(`?${a.toString()}`, { ...e.location.state })
          : e.push(`?${a.toString()}`);
      }
    },
    29480: (e, t, n) => {
      "use strict";
      n.d(t, { T: () => s });
      var a = n(80751),
        r = n.n(a),
        o = n(47427);
      function s(e) {
        const t = o.useRef(r().CancelToken.source());
        return (
          o.useEffect(() => {
            const n = t.current;
            return () => n.cancel(e ? `${e}: unmounting` : "unmounting");
          }, [e]),
          t.current
        );
      }
    },
    54117: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => r });
      var a = n(31846);
      function r(e, t = "#Played_", n = !1) {
        if (e >= 120) {
          let n = e / 60;
          n = Math.round(10 * n) / 10;
          let r = a.Yt.GetPreferredLocales(),
            o = n.toLocaleString(r, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, a.Xx)(t + "Hours", o);
        }
        return n && 1 == e
          ? (0, a.Xx)(t + "Minute", e)
          : (0, a.Xx)(t + "Minutes", e);
      }
    },
    68761: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      let a = { ProfileURL: "" };
    },
    39047: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => Sn });
      var a = n(79545),
        r = n(82182),
        o = n(48746),
        s = n(54879),
        i = n(47427),
        l = n(42718),
        c = n(40057),
        m = n(77581);
      const d = new Map(),
        u = new Map();
      function p(e) {
        const t = (0, l.useQueryClient)(),
          n = (0, l.hashQueryKey)(e.batchKey),
          a = (0, l.hashQueryKey)(e.queryKey);
        return (0, l.useQuery)({
          queryKey: [e.batchKey, a],
          queryFn: () => {
            let r = d.get(n);
            return (
              r || ((r = new Map()), d.set(n, r)),
              r.set(a, e.request),
              new Promise((a, r) => {
                if (u.get(n)) return;
                const o = setTimeout(async () => {
                  try {
                    const a = d.get(n),
                      r = Array.from(a.keys()),
                      o = Array.from(a.values());
                    a.clear(), u.delete(n);
                    const s = await e.queryFn(o);
                    o.forEach((n, a) => {
                      t.setQueryData(
                        [e.batchKey, r[a]],
                        e.requestMatcher
                          ? s.find((t) => e.requestMatcher(n, t))
                          : s[a],
                      );
                    });
                  } catch (e) {
                    r(e);
                  }
                }, e.batchDuration);
                u.set(n, o);
              })
            );
          },
          enabled: e.enabled,
        });
      }
      var f = n(2041),
        _ = n(37563),
        h = n(68761);
      function g(e) {
        let t = e
          .replace(/^the\s/i, "")
          .replace(/^a\s/i, "")
          .replace(/^[^\w]+/u, "");
        if (t != e) return t;
      }
      function v(e) {
        if (!(e < 1e5)) return e;
      }
      class E {
        static Get() {
          return this.s_Singleton
            ? this.s_Singleton
            : (this.s_Singleton = new E(
                (0, _.kQ)("config", "profile_config"),
                (0, _.kQ)("profile-gameslist", "gameslist_config"),
              ));
        }
        constructor(e, t) {
          var n, a, r, o, s, i, c;
          (this.rgGameslistConfig = t),
            (this.setExcludedContentDescriptorIds = new Set()),
            e && Object.assign(h._, e),
            this.BViewingOwnProfile() ||
              null ===
                (r =
                  null ===
                    (a =
                      null === (n = this.rgGameslistConfig) || void 0 === n
                        ? void 0
                        : n.rgContentDescriptorPreferences) || void 0 === a
                    ? void 0
                    : a.content_descriptors_to_exclude) ||
              void 0 === r ||
              r.forEach((e) => {
                this.setExcludedContentDescriptorIds.add(
                  e.content_descriptorid,
                );
              });
          const m = this.GetProfileSteamId();
          if (
            ((null ===
              (s =
                null === (o = this.rgGameslistConfig) || void 0 === o
                  ? void 0
                  : o.rgGames) || void 0 === s
              ? void 0
              : s.length) > 0 &&
              f.U.setQueryData(
                ["OwnedGames", m, _.De.LANGUAGE],
                this.rgGameslistConfig.rgGames.map((e) => ({
                  ...e,
                  rtime_last_played: v(e.rtime_last_played),
                })),
              ),
            (null ===
              (c =
                null === (i = this.rgGameslistConfig) || void 0 === i
                  ? void 0
                  : i.achievement_progress) || void 0 === c
              ? void 0
              : c.length) > 0)
          ) {
            const e = ["AchievementProgress", m, _.De.LANGUAGE];
            f.U.setQueryData(e, this.rgGameslistConfig.achievement_progress);
            for (const t of this.rgGameslistConfig.achievement_progress)
              f.U.setQueryData([e, (0, l.hashQueryKey)([t.appid])], t);
          }
        }
        async FetchAchievementProgressBatch(e, t, n) {
          const o = n.filter((e) => e.has_community_visible_stats);
          if (0 === o.length) return [];
          const s = a.gA.Init(r.M4);
          s.Body().set_steamid(t),
            s.Body().set_language(_.De.LANGUAGE),
            s.Body().set_appids(o.map((e) => e.appid));
          const i = await r.lk.GetAchievementsProgress(e, s);
          if (1 !== i.GetEResult())
            throw (
              (console.error(
                "Received error from GetAchievementsProgress",
                i.GetEResult(),
              ),
              new Error(
                `Error from GetAchievementsProgress: ${i.GetEResult()}`,
              ))
            );
          return i
            .Body()
            .achievement_progress()
            .map((e) => ({
              unlocked: e.unlocked(),
              total: e.total(),
              appid: e.appid(),
            }));
        }
        async FetchTopAchievementsBatch(e, t, n) {
          const o = n.filter((e) => e.has_community_visible_stats);
          if (0 === o.length) return [];
          const s = a.gA.Init(r.OZ);
          s.Body().set_steamid(t),
            s.Body().set_language(_.De.LANGUAGE),
            s.Body().set_appids(o.map((e) => e.appid)),
            s.Body().set_max_achievements(6);
          const i = await r.lk.GetTopAchievementsForGames(e, s);
          if (1 !== i.GetEResult())
            throw (
              (console.error(
                "Received error from GetTopAchievementsForGames",
                i.GetEResult(),
              ),
              new Error(
                `Error from GetTopAchievementsForGames: ${i.GetEResult()}`,
              ))
            );
          return i
            .Body()
            .games()
            .map((e) => ({
              appid: e.appid(),
              total_achievements: e.total_achievements(),
              achievements: e
                .achievements()
                .map((e) => ({
                  icon: e.icon(),
                  name: e.name(),
                  desc: e.desc(),
                  statid: e.statid(),
                  bit: e.bit(),
                  player_percent_unlocked: e.player_percent_unlocked(),
                })),
            }));
        }
        async GetGames(e, t) {
          const n = a.gA.Init(r.pp);
          n.Body().set_steamid(e),
            n.Body().set_include_appinfo(!0),
            n.Body().set_skip_unvetted_apps(!1),
            n.Body().set_include_extended_appinfo(!0),
            n.Body().set_include_played_free_games(!0),
            n.Body().set_language(_.De.LANGUAGE);
          const o = await r.lk.GetOwnedGames(t, n);
          if (15 === o.GetEResult()) return [];
          if (1 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetOwnedGames",
                o.GetEResult(),
              ),
              new Error(`Error from GetOwnedGames: ${o.GetEResult()}`))
            );
          return o
            .Body()
            .games()
            .map((e) => ({
              appid: e.appid(),
              name: e.name(),
              sort_as: e.sort_as() || g(e.name()),
              playtime_forever: e.playtime_forever(),
              playtime_2weeks: e.playtime_2weeks(),
              playtime_disconnected: e.playtime_disconnected(),
              rtime_last_played: v(e.rtime_last_played()),
              capsule_filename: e.capsule_filename(),
              has_dlc: e.has_dlc() || !1,
              has_workshop: e.has_workshop() || !1,
              has_market: e.has_market() || !1,
              has_community_visible_stats:
                e.has_community_visible_stats() || !1,
              has_leaderboards: e.has_leaderboards() || !1,
              content_descriptorids: e.content_descriptorids() || [],
              img_icon_url: e.img_icon_url(),
            }));
        }
        async GetUserFileCount(e, t, n) {
          let r = a.gA.Init(o.AO);
          r.Body().set_steamid(e),
            r.Body().set_filetype(4),
            r.Body().set_totalonly(!0),
            r.Body().set_appid(n);
          const s = await o.vx.GetUserFileCount(t, r);
          if (1 !== s.GetEResult())
            throw (
              (console.error(
                "Received error from GetUserFileCount",
                s.GetEResult(),
              ),
              new Error(`Error from GetUserFileCount: ${s.GetEResult()}`))
            );
          return s.Body().total();
        }
        async GetFriendsWhoPlayCount(e, t) {
          let n = a.gA.Init(r.$_);
          n.Body().set_appid(t);
          const o = await r.lk.GetFriendsGameplayInfo(e, n);
          if (1 !== o.GetEResult())
            throw (
              (console.error(
                "Received error from GetFriendsGameplayInfo",
                o.GetEResult(),
              ),
              new Error(`Error from GetFriendsGameplayInfo: ${o.GetEResult()}`))
            );
          return o.Body().played_recently().length;
        }
        async GetIndividualHasRecommendations(e, t, n) {
          let r = a.gA.Init(s.Vy),
            o = a.gA.Init(s.K9);
          o.Body().set_steamid(e),
            o.Body().set_appid(n),
            r.Body().add_requests(o.Body());
          const i = await s.fG.GetIndividualRecommendations(t, r);
          if (1 !== i.GetEResult() && 42 !== i.GetEResult())
            throw (
              (console.error(
                "Received error from GetIndividualRecommendations",
                i.GetEResult(),
              ),
              new Error(
                `Error from GetIndividualRecommendations: ${i.GetEResult()}`,
              ))
            );
          return i.Body().recommendations().length > 0;
        }
        async GetTradingCardsCount(e, t) {
          const n = `${_.De.COMMUNITY_BASE_URL}/profiles/${e}/ajaxgetbadgeinfo/${t}`,
            a = new AbortController();
          let r, o;
          try {
            const e = setTimeout(() => {
              a.abort();
            }, 6e3);
            (r = await fetch(n, { credentials: "include", signal: a.signal })),
              clearTimeout(e),
              (o = await r.json());
          } catch (e) {
            throw e.response
              ? new Error(`HTTP result ${e.response.status} from ajax of ${n}`)
              : new Error(`Bad HTTP request for ajax for ${n}`);
          }
          const s = null == o ? void 0 : o.badgedata;
          if (!s) return;
          let i = 0,
            l = 0;
          for (let e of s.rgCards) i++, e.owned && l++;
          return { total: i, owned: l };
        }
        GetProfileName() {
          return this.rgGameslistConfig.strProfileName;
        }
        GetProfileSteamId() {
          return this.rgGameslistConfig.strSteamId;
        }
        BViewingOwnProfile() {
          return this.rgGameslistConfig.bViewingOwnProfile;
        }
        GetWebAPIToken() {
          return this.rgGameslistConfig.webapi_token;
        }
        GetGCPDGames() {
          return this.rgGameslistConfig.gcpdGames;
        }
        GetReviewCount() {
          return this.rgGameslistConfig.nUserReviewCount;
        }
        GetFollowedCount() {
          return this.rgGameslistConfig.nUserFollowedCount;
        }
        GetExcludedContentDescriptors() {
          return this.setExcludedContentDescriptorIds;
        }
        GetPerfectUnownedGames() {
          return this.rgGameslistConfig.rgPerfectUnownedGames;
        }
        GetRecentlyPlayedGames() {
          return this.rgGameslistConfig.rgRecentlyPlayedGames;
        }
      }
      function y(e, t = {}) {
        const n = E.Get(),
          a = (0, c.bY)();
        return (0, l.useQuery)({
          queryKey: ["OwnedGames", e, _.De.LANGUAGE],
          queryFn: () => n.GetGames(e, a),
          select: (e) => e.filter((e) => e.img_icon_url),
          ...t,
        });
      }
      function b() {
        return E.Get().GetProfileName();
      }
      function C() {
        return E.Get().GetProfileSteamId();
      }
      function w() {
        return E.Get().BViewingOwnProfile();
      }
      function G() {
        const [e] = (0, i.useState)(
          () => new m.J(_.De.WEBAPI_BASE_URL, E.Get().GetWebAPIToken()),
        );
        return e;
      }
      function L(e) {
        var t;
        const n = E.Get().GetExcludedContentDescriptors();
        return null === (t = null == e ? void 0 : e.content_descriptorids) ||
          void 0 === t
          ? void 0
          : t.some((e) => n.has(e));
      }
      function R(e) {
        const t = (0, c.bY)(),
          n = E.Get(),
          a = (0, l.useQueryClient)(),
          r = ["AchievementProgress", e, _.De.LANGUAGE],
          o = y(e);
        return (0, l.useQuery)({
          queryKey: r,
          queryFn: () => n.FetchAchievementProgressBatch(t, e, o.data),
          onSuccess(e) {
            e.forEach((e) => {
              const t = [r, (0, l.hashQueryKey)([e.appid])];
              a.setQueryData(t, e);
            });
          },
          enabled: void 0 !== o.data && o.data.length > 0,
        });
      }
      function A(e, t) {
        const n = (0, c.bY)(),
          a = E.Get(),
          r = a.GetProfileSteamId();
        return p({
          batchKey: ["AchievementProgress", r, _.De.LANGUAGE],
          queryKey: [e.appid],
          queryFn: (e) => a.FetchAchievementProgressBatch(n, r, e),
          requestMatcher: (e, t) => e.appid === t.appid,
          batchDuration: 100,
          request: e,
          enabled: t,
        });
      }
      function N(e) {
        const t = (0, c.bY)(),
          n = E.Get(),
          a = n.GetProfileSteamId();
        return (0, l.useQuery)(["ScreenshotCount", a, e], () =>
          n.GetUserFileCount(a, t, e),
        );
      }
      var S = n(61134),
        B = n(20417),
        k = n(13043),
        P = n(91618),
        I = n(41130),
        D = n(1485),
        x = n(71472),
        M = n(46882),
        T = n(59728),
        U = n(13129);
      var F = n(31846),
        X = n(33672),
        H = n(58538),
        O = n(62613),
        $ = n(1086);
      function Z(e, t, n = !1) {
        return (0, i.useMemo)(() => {
          var a;
          return {
            data: null === (a = e.data) || void 0 === a ? void 0 : a.filter(t),
            isLoading: e.isLoading || n,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t, n]);
      }
      function Q({ strNameFilter: e, setStrNameFilter: t, className: n }) {
        const a = (0, i.useRef)(null),
          r = e && "" != e;
        return i.createElement(
          "div",
          { className: (0, U.Z)($.Filter, n) },
          i.createElement("input", {
            ref: a,
            onChange: () => {
              var e;
              return t(
                null === (e = a.current) || void 0 === e ? void 0 : e.value,
              );
            },
            value: null != e ? e : "",
            placeholder: (0, F.Xx)("#GamesList_Filter_Placeholder"),
          }),
          r
            ? i.createElement(
                "button",
                { className: $.ClearButton, onClick: () => t("") },
                i.createElement(O.X, null),
              )
            : i.createElement(
                "div",
                { className: $.SearchIcon },
                i.createElement(H.olm, null),
              ),
        );
      }
      function q(e) {
        return i.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 29",
            fill: "none",
            ...e,
          },
          i.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M26 20V25H4V20H0V29H30V20H26Z",
          }),
          i.createElement("path", {
            fill: "currentColor",
            d: "M17 12.1716L21.5858 7.58578L24.4142 10.4142L15 19.8284L5.58582 10.4142L8.41424 7.58578L13 12.1715V0H17V12.1716Z",
          }),
        );
      }
      function W(e) {
        return i.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 30",
            fill: "none",
            ...e,
          },
          i.createElement("path", {
            fill: "currentColor",
            d: "M29.12 4.41L25.59 0.880005L15 11.46L4.41 0.880005L0.880005 4.41L11.46 15L0.880005 25.59L4.41 29.12L15 18.54L25.59 29.12L29.12 25.59L18.54 15L29.12 4.41Z",
          }),
        );
      }
      function Y(e) {
        return i.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 30 30",
            fill: "none",
            ...e,
          },
          i.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M15 0C12.0333 0 9.13318 0.879735 6.66645 2.52796C4.19971 4.17618 2.27712 6.51886 1.14181 9.25975C0.00649166 12.0006 -0.290558 15.0166 0.28822 17.9264C0.866998 20.8361 2.29561 23.5088 4.3934 25.6066C6.49119 27.7044 9.16393 29.133 12.0736 29.7118C14.9834 30.2906 17.9994 29.9935 20.7402 28.8582C23.4811 27.7229 25.8238 25.8003 27.472 23.3336C29.1203 20.8668 30 17.9667 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7402 1.14181C18.9204 0.387987 16.9698 0 15 0ZM17.5 23H12.5V13H17.5V23ZM15 11C14.4067 11 13.8266 10.8241 13.3333 10.4944C12.8399 10.1648 12.4554 9.69623 12.2284 9.14805C12.0013 8.59987 11.9419 7.99667 12.0576 7.41473C12.1734 6.83279 12.4591 6.29824 12.8787 5.87868C13.2982 5.45912 13.8328 5.1734 14.4147 5.05764C14.9967 4.94189 15.5999 5.0013 16.148 5.22836C16.6962 5.45542 17.1648 5.83994 17.4944 6.33329C17.8241 6.82664 18 7.40666 18 8C18 8.79565 17.6839 9.55871 17.1213 10.1213C16.5587 10.6839 15.7956 11 15 11Z",
          }),
        );
      }
      function V(e) {
        return i.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 13 8",
            fill: "none",
            ...e,
          },
          i.createElement("path", {
            fill: "currentColor",
            d: "M12.6128 1.7121C12.7616 1.56087 12.8428 1.3684 12.8428 1.14155C12.8428 0.687862 12.491 0.323534 12.0446 0.323534C11.8214 0.323534 11.6184 0.419772 11.4628 0.577877L6.83601 5.38975L2.22271 0.577877C2.06712 0.419772 1.85743 0.323534 1.64097 0.323534C1.19452 0.323534 0.842773 0.687862 0.842773 1.14155C0.842773 1.3684 0.923946 1.56087 1.07276 1.71211L6.21369 7.06016C6.38956 7.25264 6.60602 7.342 6.84277 7.34888C7.07953 7.34888 7.28246 7.25264 7.4651 7.06016L12.6128 1.7121Z",
          }),
        );
      }
      function j(e) {
        return i.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 14 14",
            fill: "none",
            ...e,
          },
          i.createElement("path", {
            fill: "currentColor",
            d: "M13.6666 8.05776V5.9422L11.9199 5.6222C11.8053 5.22889 11.6457 4.8501 11.4444 4.49331L12.4533 3.03554L10.9644 1.53776L9.50659 2.55554C9.1498 2.35419 8.77101 2.19461 8.3777 2.07998L8.0577 0.333313H5.94214L5.62214 2.07998C5.22883 2.19461 4.85003 2.35419 4.49325 2.55554L3.03547 1.53776L1.5377 3.03554L2.55547 4.49331C2.35412 4.8501 2.19455 5.22889 2.07992 5.6222L0.333252 5.9422V8.05776L2.07992 8.37776C2.19455 8.77107 2.35412 9.14986 2.55547 9.50665L1.5377 10.9644L3.03547 12.4622L4.49325 11.4444C4.85043 11.6427 5.22921 11.7993 5.62214 11.9111L5.94214 13.6666H8.0577L8.3777 11.92C8.77101 11.8053 9.1498 11.6458 9.50659 11.4444L10.9644 12.4533L12.4621 10.9555L11.4444 9.50665C11.6426 9.14947 11.7992 8.77069 11.911 8.37776L13.6666 8.05776ZM6.99992 9.2222C6.56041 9.2222 6.13076 9.09187 5.76532 8.84769C5.39988 8.60351 5.11505 8.25645 4.94685 7.85039C4.77866 7.44433 4.73465 6.99751 4.8204 6.56645C4.90614 6.13538 5.11779 5.73942 5.42857 5.42863C5.73935 5.11785 6.13532 4.9062 6.56638 4.82046C6.99745 4.73471 7.44427 4.77872 7.85033 4.94691C8.25639 5.11511 8.60345 5.39994 8.84763 5.76538C9.09181 6.13082 9.22214 6.56047 9.22214 6.99998C9.22214 7.29181 9.16466 7.58078 9.05299 7.85039C8.94131 8.12 8.77762 8.36498 8.57127 8.57133C8.36491 8.77768 8.11994 8.94137 7.85033 9.05305C7.58071 9.16472 7.29175 9.2222 6.99992 9.2222Z",
            fillOpacity: "0.5",
          }),
        );
      }
      var z = n(38071),
        K = n(95315),
        J = n(75545),
        ee = n(65255);
      function te() {
        const e = (0, c.bY)();
        return (0, l.useQuery)(
          ["AccountPrivateApps"],
          async () => {
            const t = a.gA.Init(J.XR),
              n = await J.kk.GetPrivateAppList(e, t);
            return new Set(n.Body().private_apps(!0).appids());
          },
          { enabled: !!ee.L7.accountid },
        );
      }
      function ne(e) {
        const { data: t } = te();
        return !!ee.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function ae(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function re(e) {
        const t = (0, c.bY)(),
          n = (0, l.useQueryClient)();
        return (0, l.useMutation)({
          mutationFn: async (n) => oe(t, [e], n),
          onSuccess: (t, a) => se(n, [e], a),
          onError() {
            ae(n);
          },
        });
      }
      async function oe(e, t, n) {
        const r = a.gA.Init(J._c);
        r.Body().set_appids(t.slice()), r.Body().set_private(n);
        const o = await J.kk.ToggleAppPrivacy(e, r);
        if (!o.BSuccess()) throw o.GetErrorMessage();
      }
      function se(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const a = new Set(e);
          return (
            t.forEach((e) => {
              n ? a.add(e) : a.delete(e);
            }),
            a
          );
        });
      }
      var ie = n(82493),
        le = n(84686),
        ce = n(77936),
        me = n(53923),
        de = (n(67573), n(83120));
      const ue = "RemoteDownload_OnlineClient",
        pe = "RemoteDownload_ClientAppList",
        fe = "RemoteDownload_ClientAppData";
      class _e extends Error {
        constructor(e, t) {
          super(e), (this.result = t);
        }
      }
      function he() {
        const e = (0, c.bY)(),
          t = (0, me.M)();
        return (0, l.useQuery)(
          [ue, t],
          async () => {
            const t = a.gA.Init(de.II),
              n = await de.b5.GetAllClientLogonInfo(e, t);
            if (1 !== n.GetEResult())
              throw (
                (console.error(
                  "Received error from GetAllClientLogonInfo",
                  n.GetEResult(),
                  n.Hdr().transport_error(),
                ),
                new Error(
                  `Error from GetAllClientLogonInfo: ${n.GetEResult()}`,
                ))
              );
            const r = [];
            for (const e of n.Body().sessions())
              e.device_type() !== ce.gg.k_EGamingDeviceType_Unknown &&
                r.push(e.toObject());
            return {
              sessions: r,
              refetchInterval: n.Body().refetch_interval_sec() || 300,
            };
          },
          {
            staleTime: 3e5,
            refetchInterval: (e) =>
              1e3 * ((null == e ? void 0 : e.refetchInterval) || 300),
          },
        );
      }
      class ge {
        constructor(e) {
          Object.assign(this, e.toObject()),
            (this.bytes_to_download = parseInt(e.bytes_to_download()) || 0),
            (this.bytes_downloaded = parseInt(e.bytes_downloaded()) || 0),
            (this.bytes_staged = parseInt(e.bytes_staged()) || 0),
            (this.bytes_to_stage = parseInt(e.bytes_to_stage()) || 0),
            (this.bytes_required = parseInt(e.bytes_required()) || 0);
        }
        BIsDownloading() {
          return this.num_downloading > 0;
        }
        BIsAtTopOfQueue() {
          return 0 === this.queue_position;
        }
        BIsPaused() {
          return (
            this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage ||
              -1 != this.queue_position)
          );
        }
        BHasPendingUpdate() {
          return (
            !this.BIsDownloading() &&
            !this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage)
          );
        }
      }
      async function ve(e, t, n) {
        const r = t.client_instanceid,
          o = a.gA.Init(de.eV);
        o.Body().set_fields("games"),
          o.Body().set_filters(n),
          o.Body().set_client_instanceid(r),
          o.Body().set_include_client_info(!0);
        const s = await de.b5.GetClientAppList(e, o);
        if (1 !== s.GetEResult())
          throw (
            (console.error(
              "Received error from GetClientAppList",
              s.GetEResult(),
              s.Hdr().transport_error(),
            ),
            new _e(
              `Error from GetClientAppList: ${s.GetEResult()}`,
              s.GetEResult(),
            ))
          );
        const i = new Map();
        for (const e of s.Body().apps()) {
          const t = new ge(e);
          i.set(e.appid(), t);
        }
        return {
          session: t,
          mapApps: i,
          clientInfo: s.Body().client_info().toObject(),
          refetchIntervals: {
            full: s.Body().refetch_interval_sec_full() || 3600,
            changing: s.Body().refetch_interval_sec_changing() || 60,
            updating: s.Body().refetch_interval_sec_updating() || 10,
          },
        };
      }
      function Ee(e, t, n) {
        return [pe, e, t, n];
      }
      function ye(e, t = !0) {
        var n, a;
        const r = he(),
          o = (0, c.bY)(),
          s = (0, me.M)(),
          m = (e) => {
            t && ((21 != e.result && 16 != e.result) || r.refetch());
          },
          d = (0, l.useQueries)(
            (
              (null === (n = r.data) || void 0 === n ? void 0 : n.sessions) ||
              []
            ).map((e) => ({
              queryKey: Ee(s, e.client_instanceid, "none"),
              queryFn: async () => ve(o, e, "none"),
              staletime: 36e5,
              refetchInterval: (e) =>
                1e3 * ((null == e ? void 0 : e.refetchIntervals.full) || 3600),
              enabled: r.isSuccess && !r.isFetching,
              onError: m,
              retry: t,
            })),
          ),
          u = (0, i.useCallback)(
            (t) => {
              if (!e) return t;
              const n = new Map(Array.from(t.mapApps.entries()).filter(e));
              return { ...t, mapApps: n };
            },
            [e],
          ),
          p = (0, l.useQueries)(
            (
              (null === (a = r.data) || void 0 === a ? void 0 : a.sessions) ||
              []
            ).map((e, n) => ({
              queryKey: Ee(s, e.client_instanceid, "changing"),
              queryFn: async () =>
                (async function (e, t, n, a) {
                  if (!a) return;
                  const r = await ve(e, t, n);
                  for (const [e, t] of r.mapApps) a.mapApps.set(e, t);
                  return { ...r, mapApps: a.mapApps };
                })(o, e, "changing", d[n].data),
              enabled: d[n].isSuccess && !d[n].isFetching,
              staletime: 1e4,
              select: u,
              refetchInterval: (e) => {
                if (!e) return 6e4;
                let t = !1;
                for (const n of e.mapApps.values())
                  if (n.num_downloading > 0 || n.uninstalling) {
                    t = !0;
                    break;
                  }
                const n = e.refetchIntervals;
                return 1e3 * (t ? n.updating : n.changing);
              },
              onError: m,
              retry: t,
            })),
          );
        return {
          rgQueries: p.map((e, t) =>
            d[t].isError && !d[t].isFetching ? d[t] : e,
          ),
          refetch: () => {
            for (const e of p) e.remove();
            for (const e of d) e.refetch();
          },
        };
      }
      function be(e, t) {
        return [fe, e, t];
      }
      function Ce(e, t = !0) {
        const n = (0, me.M)(),
          { rgQueries: a } = ye(void 0, t);
        return (0, l.useQuery)(
          be(n, e),
          () => {
            var t, n;
            const r = new Map();
            for (const o of a)
              if (o.isSuccess) {
                const a =
                    null === (t = o.data) || void 0 === t
                      ? void 0
                      : t.session.client_instanceid,
                  s = (
                    null === (n = o.data) || void 0 === n ? void 0 : n.mapApps
                  ).get(e);
                s &&
                  r.set(a, {
                    session: o.data.session,
                    app: s,
                    clientInfo: o.data.clientInfo,
                  });
              }
            return r;
          },
          {
            enabled: a.reduce((e, t) => e && t.isSuccess && !t.isFetching, !0),
            staleTime: 0,
            cacheTime: 0,
          },
        );
      }
      function we(e, t, n, r) {
        const o = (0, c.bY)(),
          s = Ce(e),
          i = (0, me.M)(),
          m = (0, l.useQueryClient)();
        return (0, l.useMutation)(
          async () => {
            var r;
            const l = null == s ? void 0 : s.data,
              c = l && l.get(t);
            if (
              (null === (r = null == c ? void 0 : c.clientInfo) || void 0 === r
                ? void 0
                : r.clientcomm_version) >= 1
            ) {
              const e = a.gA.Init(de.BF);
              e.Body().set_client_instanceid(t), e.Body().set_enable(!n);
              const r = await de.b5.EnableOrDisableDownloads(o, e);
              if (1 != r.GetEResult())
                throw (
                  (console.error(
                    "Received error from EnableOrDisableDownloads",
                    r.GetEResult(),
                  ),
                  new Error(
                    `Error from EnableOrDisableDownloads: ${r.GetEResult()}`,
                  ))
                );
            } else {
              const r = a.gA.Init(de.iH);
              r.Body().set_appid(e),
                r.Body().set_client_instanceid(t),
                r.Body().set_action(n ? 0 : 1);
              const s = await de.b5.SetClientAppUpdateState(o, r);
              if (1 != s.GetEResult())
                throw (
                  (console.error(
                    "Received error from SetClientAppUpdateState",
                    s.GetEResult(),
                  ),
                  new Error(
                    `Error from SetClientAppUpdateState: ${s.GetEResult()}`,
                  ))
                );
            }
            c &&
              ((l.get(t).app.download_paused = n),
              (l.get(t).app.num_downloading = n ? 0 : 1)),
              m.setQueryData(be(i, e), l),
              s.refetch();
          },
          { onSuccess: r },
        );
      }
      var Ge = n(27522),
        Le = n.n(Ge);
      const Re = i.forwardRef(function (
        {
          imgURL: e,
          glow: t,
          pauseAnimation: n,
          hidden: a,
          alt: r,
          className: o,
        },
        s,
      ) {
        const [l, c] = i.useState(!1);
        if (a)
          return i.createElement("div", { className: Le().HiddenLabel }, "?");
        const m = l && t;
        return i.createElement(
          "div",
          {
            ref: s,
            className: (0, U.Z)(
              Le().AchievementIconWrapper,
              o,
              n && Le().RareAchievementNoAnimation,
            ),
          },
          m &&
            i.createElement(
              "div",
              { className: Le().RareAchievementIconGlowContainerRoot },
              i.createElement(
                "div",
                { className: Le().RareAchievementIconGlowContainer },
                i.createElement("div", {
                  className: Le().RareAchievementIconGlow,
                }),
              ),
            ),
          i.createElement("img", {
            className: (0, U.Z)(Le().Icon, m && Le().IconGlow),
            src: e,
            loading: "lazy",
            alt: r,
            onLoad: () => c(!0),
          }),
        );
      });
      var Ae = n(22042),
        Ne = n(10162),
        Se = n(85305),
        Be = n(76478);
      function ke({ nPercent: e, indeterminate: t, animate: n, className: a }) {
        return i.createElement("div", {
          className: (0, U.Z)(
            Be.ProgressBar,
            n && Be.AnimateProgress,
            t && Be.Indeterminate,
            a,
          ),
          style: { "--percent": e / 100 },
        });
      }
      var Pe = n(54117);
      var Ie = n(89729),
        De = n(19766),
        xe = n(50898),
        Me = n(90069),
        Te = n(12251),
        Ue = n(24549),
        Fe = n(3980);
      const Xe = i.createContext(void 0);
      function He() {
        const e = (0, i.useContext)(Xe);
        if (!e)
          throw new Error(
            "Attempted to get download client context outside of provider",
          );
        return e;
      }
      function Oe() {
        const e = He().remoteDownloadClientId,
          t = he(),
          n = ye();
        if (
          !_.De.IN_CLIENT &&
          t.data &&
          0 !== t.data.sessions.length &&
          n.rgQueries.some((e) => e.data)
        )
          return e
            ? t.data.sessions.find((t) => t.client_instanceid === e)
            : t.data.sessions[0];
      }
      function $e({ children: e }) {
        const [t, n] = (0, i.useState)(void 0),
          a = (0, i.useMemo)(
            () => ({ remoteDownloadClientId: t, setRemoteDownloadClientId: n }),
            [t],
          );
        return i.createElement(Xe.Provider, { value: a }, e);
      }
      function Ze(e) {
        switch (e) {
          case ce.gg.k_EGamingDeviceType_StandardPC:
            return (0, F.Xx)("#Library_DeviceType_PC");
          case ce.gg.k_EGamingDeviceType_SteamDeck:
            return (0, F.Xx)("#Library_DeviceType_SteamDeck");
          default:
            return;
        }
      }
      const Qe = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function qe({ sessions: e, setRemoteDownloadClientId: t }) {
        return i.createElement(
          "ul",
          { className: Fe.ClientListDropdownMenu },
          e.map((e) =>
            i.createElement(
              Ae.Zo,
              {
                onSelected: () => {
                  t(e.client_instanceid);
                },
                key: e.client_instanceid,
              },
              (0, F.Xx)(
                "#GamesList_Client_Indicator",
                Ze(e.device_type),
                e.machine_name,
              ),
            ),
          ),
        );
      }
      function We() {
        const e = he(),
          t = Oe(),
          n = He().setRemoteDownloadClientId,
          a = (0, i.useRef)(null),
          r = (0, i.useCallback)(() => {
            e.data &&
              (0, K.yV)(
                i.createElement(qe, {
                  sessions: e.data.sessions,
                  setRemoteDownloadClientId: n,
                }),
                a.current,
                Qe,
              );
          }, [n, a, e.data]);
        return t
          ? i.createElement(
              "div",
              { className: Fe.RemoteDownloadClientBar },
              i.createElement(
                "span",
                { className: Fe.RemoteDownloadHeader },
                (0, F.kQ)(
                  "#GamesList_Header_RemoteDownload",
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(
                      "span",
                      { className: Fe.ClientIndicator },
                      (0, F.Xx)(
                        "#GamesList_Client_Indicator",
                        Ze(t.device_type),
                        t.machine_name,
                      ),
                      e.data.sessions.length > 1 &&
                        i.createElement(
                          "button",
                          {
                            ref: a,
                            onClick: r,
                            className: Fe.ClientSelectDropdown,
                          },
                          i.createElement(V, null),
                        ),
                    ),
                  ),
                ),
              ),
              i.createElement(
                T.HP,
                {
                  toolTipContent: (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  className: Fe.InfoIcon,
                },
                i.createElement(Y, null),
              ),
            )
          : i.createElement(
              "details",
              {
                className: (0, U.Z)(
                  Fe.RemoteDownloadClientBar,
                  Fe.NoConnection,
                ),
              },
              i.createElement(
                "summary",
                { className: Fe.RemoteDownloadHeader },
                i.createElement(
                  "span",
                  { className: Fe.RemoteDownloadStatus },
                  (0, F.kQ)(
                    "#GamesList_Header_RemoteDownloadStatus",
                    i.createElement(
                      "span",
                      { className: Fe.NoConnectionText },
                      (0, F.Xx)("#GamesList_RemoteDownload_NoConnection"),
                    ),
                  ),
                ),
                i.createElement(
                  "span",
                  { className: Fe.LearnMoreCta },
                  (0, F.Xx)("#GamesList_RemoteDownload_LearnMore"),
                  i.createElement(V, null),
                ),
              ),
              i.createElement(
                "p",
                { className: Fe.RemoteDownloadHelp },
                (0, F.kQ)(
                  "#GamesList_RemoteDownload_Info",
                  (0, F.Xx)("#GamesList_RemoteDownload_Help"),
                  i.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/1025-BD94-12FC-3409",
                    },
                    (0, F.Xx)("#GamesList_RemoteDownload_ReadTheFAQ"),
                  ),
                ),
              ),
            );
      }
      function Ye({ app: e, clientid: t }) {
        const n = !e.download_paused,
          a = we(e.appid, t, !0),
          r = we(e.appid, t, !1),
          o = n ? "#GamesList_Header_Downloading" : "#GamesList_Header_Paused",
          s = n ? a : r,
          l = e.bytes_to_download
            ? Math.floor((100 * e.bytes_downloaded) / e.bytes_to_download)
            : 0,
          c = !(e.bytes_downloaded && e.bytes_to_download),
          m = n ? i.createElement(O.dzL, null) : i.createElement(q, null),
          d = n
            ? (0, F.Xx)("#GamesList_Button_Pause")
            : (0, F.Xx)("#GamesList_Button_Resume"),
          u = (0, i.useContext)(hn);
        return (
          (0, i.useEffect)(
            () => (
              null == u || u(e.appid, !0),
              () => (null == u ? void 0 : u(e.appid, !1))
            ),
            [e.appid, u],
          ),
          i.createElement(
            i.Fragment,
            null,
            i.createElement(
              "div",
              { className: Fe.DownloadBarWithLabel },
              i.createElement(
                "span",
                { className: Fe.DownloadStatus },
                (0, F.Xx)(o, l),
              ),
              i.createElement(
                "div",
                { className: Fe.DownloadProgress },
                i.createElement(
                  "span",
                  { className: Fe.CurrentSpace },
                  (0, Ue.l)(e.bytes_downloaded, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
                i.createElement("span", null, " / "),
                i.createElement(
                  "span",
                  { className: Fe.TotalSpace },
                  (0, Ue.l)(e.bytes_to_download, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
              ),
              e.BIsDownloading() &&
                e.estimated_seconds_remaining > 0 &&
                i.createElement(
                  "span",
                  { className: Fe.DownloadEstimate },
                  (0, Te.jA)(e.estimated_seconds_remaining),
                ),
              i.createElement(ke, {
                className: Fe.DownloadBar,
                animate: n,
                nPercent: l,
                indeterminate: c,
              }),
            ),
            i.createElement(
              "button",
              {
                disabled: s.isLoading,
                onClick: () => {
                  s.mutateAsync(), mn(e.appid);
                },
                className: Fe.DownloadIconButton,
              },
              m,
              d,
            ),
          )
        );
      }
      function Ve({ app: e, clientid: t }) {
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "button",
            { disabled: !0, className: Fe.DownloadIconButton },
            i.createElement(W, null),
            (0, F.Xx)("#GamesList_Button_Uninstalling"),
          ),
        );
      }
      function je({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const r = (0, c.bY)(),
              o = Ce(e),
              s = (0, me.M)(),
              i = (0, l.useQueryClient)();
            return (0, l.useMutation)(
              async () => {
                const n = null == o ? void 0 : o.data,
                  l = n && n.get(t),
                  c = a.gA.Init(de.iH);
                c.Body().set_appid(e),
                  c.Body().set_client_instanceid(t),
                  c.Body().set_action(1);
                const m = await de.b5.SetClientAppUpdateState(r, c);
                if (1 != m.GetEResult())
                  throw (
                    (console.error(
                      "Received error from SetClientAppUpdateState",
                      m.GetEResult(),
                    ),
                    new Error(
                      `Error from SetClientAppUpdateState: ${m.GetEResult()}`,
                    ))
                  );
                l &&
                  ((n.get(t).app.download_paused = !1),
                  (n.get(t).app.num_downloading = 1)),
                  i.setQueryData(be(s, e), n),
                  o.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          r = e.rt_time_scheduled,
          o =
            r &&
            (0, F.jr)(r, { bGranularFutureTime: !0 }) +
              " " +
              (0, Te.Sc)(r, { bForce24HourClock: !1 });
        return i.createElement(
          i.Fragment,
          null,
          o && i.createElement("span", { className: Fe.UpdateSchedule }, o),
          i.createElement(
            "button",
            {
              disabled: n.isLoading,
              onClick: () => {
                n.mutateAsync(), mn(e.appid);
              },
              className: Fe.DownloadIconButton,
            },
            i.createElement(O.Lao, null),
            (0, F.Xx)("#GamesList_Button_UpdateRequired"),
          ),
        );
      }
      function ze({ app: e, closeModal: t, onOK: n }) {
        return i.createElement(xe.uH, {
          strOKButtonText: (0, F.Xx)("#GamesList_Button_Uninstall"),
          strCancelButtonText: (0, F.Xx)("#GamesList_Button_Cancel"),
          strDescription: (0, F.Xx)(
            "#GamesList_RemoteDownload_UninstallConfirm",
            e.app,
          ),
          strTitle: (0, F.Xx)("#GamesList_Button_Uninstall"),
          closeModal: t,
          onOK: n,
        });
      }
      function Ke({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const r = (0, c.bY)(),
              o = Ce(e),
              s = (0, me.M)(),
              i = (0, l.useQueryClient)();
            return (0, l.useMutation)(
              async () => {
                const n = a.gA.Init(de.fF);
                n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                const l = await de.b5.InstallClientApp(r, n);
                if (1 != l.GetEResult())
                  throw (
                    (console.error(
                      "Received error from InstallClientApp",
                      l.GetEResult(),
                    ),
                    new Error(`Error from InstallClientApp: ${l.GetEResult()}`))
                  );
                const c = null == o ? void 0 : o.data;
                c &&
                  c.get(t) &&
                  ((c.get(t).app.num_downloading = 1),
                  (c.get(t).app.download_paused = !1)),
                  i.setQueryData(be(s, e), c),
                  o.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          r = (function (e, t, n) {
            const r = (0, c.bY)(),
              o = Ce(e),
              s = (0, me.M)(),
              i = (0, l.useQueryClient)();
            return (0, l.useMutation)(
              async () => {
                const n = a.gA.Init(de.Zu);
                n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                const l = await de.b5.UninstallClientApp(r, n);
                if (1 != l.GetEResult())
                  throw (
                    (console.error(
                      "Received error from UninstallClientApp",
                      l.GetEResult(),
                    ),
                    new Error(
                      `Error from UninstallClientApp: ${l.GetEResult()}`,
                    ))
                  );
                const c = null == o ? void 0 : o.data;
                c && c.get(t) && (c.get(t).app.uninstalling = !0),
                  i.setQueryData(be(s, e), c),
                  o.refetch();
              },
              { onSuccess: n },
            );
          })(e.appid, t),
          o = e.installed ? r : n,
          s = e.installed
            ? () => {
                (0, Me.AM)(
                  i.createElement(ze, {
                    app: e,
                    onOK: () => {
                      r.mutateAsync(), mn(e.appid);
                    },
                  }),
                  window,
                );
              }
            : () => {
                n.mutateAsync(), mn(e.appid);
              },
          m = e.installed
            ? "#GamesList_Button_Uninstall"
            : "#GamesList_Button_Download",
          d = e.installed ? W : q;
        return i.createElement(
          i.Fragment,
          null,
          !e.installed &&
            e.bytes_required > 0 &&
            i.createElement(
              "span",
              { className: Fe.DownloadSize },
              (0, Ue.l)(e.bytes_required, { nDigitsAfterDecimal: 1 }),
            ),
          i.createElement(
            "button",
            {
              disabled: o.isLoading,
              onClick: s,
              className: Fe.DownloadIconButton,
            },
            i.createElement(d, null),
            (0, F.Xx)(m),
          ),
        );
      }
      function Je(e) {
        return e.BIsDownloading() || e.BIsPaused() || e.changing;
      }
      function et({ game: e }) {
        var t;
        const n = Ce(e.appid, !1),
          a = Oe(),
          r = null == a ? void 0 : a.client_instanceid;
        if (
          a &&
          0 === (null === (t = n.data) || void 0 === t ? void 0 : t.size)
        )
          return null;
        if (!n.data || 0 === n.data.size || !a) return null;
        const o = n.data.get(r).app;
        return o.BIsDownloading() || o.BIsPaused()
          ? i.createElement(
              "div",
              { className: Fe.DownloadBarContainer },
              i.createElement(Ye, { key: "downloading", app: o, clientid: r }),
            )
          : null;
      }
      function tt({ game: e, className: t, enableDownloadBar: n = !1 }) {
        var a;
        const r = Ce(e.appid, !1),
          o = Oe(),
          s = null == o ? void 0 : o.client_instanceid;
        if (
          o &&
          0 === (null === (a = r.data) || void 0 === a ? void 0 : a.size)
        )
          return i.createElement(
            "div",
            { className: (0, U.Z)(Fe.RemoteControls, t) },
            i.createElement(
              "span",
              { className: Fe.NoRemoteControl },
              (0, F.Xx)("#GamesList_RemoteDownload_NoRemoteControl"),
            ),
          );
        if (!r.data || 0 === r.data.size || !o) return null;
        const l = [],
          c = r.data.get(s),
          m = null == c ? void 0 : c.app;
        if (!m) return null;
        if (m.BIsDownloading() || m.BIsPaused()) {
          if (!n) return null;
          l.push(
            i.createElement(Ye, { key: "downloading", app: m, clientid: s }),
          );
        } else
          m.uninstalling
            ? l.push(
                i.createElement(Ve, {
                  key: "uninstalling",
                  app: m,
                  clientid: s,
                }),
              )
            : m.BHasPendingUpdate()
              ? l.push(
                  i.createElement(je, {
                    key: "updatePending",
                    app: m,
                    clientid: s,
                  }),
                )
              : l.push(
                  i.createElement(Ke, {
                    key: "installuninstall",
                    app: m,
                    clientid: s,
                  }),
                );
        return i.createElement(
          "div",
          { className: (0, U.Z)(Fe.RemoteControls, t) },
          i.createElement("div", { className: Fe.ButtonContainer }, l),
        );
      }
      function nt({ visible: e, ...t }) {
        return e ? i.createElement(et, { ...t }) : null;
      }
      function at({ visible: e, className: t, ...n }) {
        return Oe()
          ? e
            ? i.createElement(tt, { className: t, ...n })
            : i.createElement("div", {
                className: (0, U.Z)(Fe.RemoteControls, t),
              })
          : null;
      }
      var rt;
      !(function (e) {
        (e.HoursPlayed = "playtime"),
          (e.RecentlyPlayed = "recent"),
          (e.Name = "name"),
          (e.AchievementCompletion = "achievements");
      })(rt || (rt = {}));
      const ot = (0, ce.dt)((0, ce.jM)(_.De.LANGUAGE)),
        st = new Intl.Collator([ot, "en"]);
      function it(e, t) {
        return (
          st.compare(
            (e.sort_as || e.name || "").trim(),
            (t.sort_as || t.name || "").trim(),
          ) ||
          (function (e, t) {
            return e.appid - t.appid;
          })(e, t)
        );
      }
      function lt(e, t, n) {
        var a, r;
        const o =
            null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
              ? a
              : { unlocked: 0, total: 0 },
          s =
            null !== (r = n.find((e) => e.appid === t.appid)) && void 0 !== r
              ? r
              : { unlocked: 0, total: 0 };
        return (
          s.unlocked / (s.total || 1) - o.unlocked / (o.total || 1) ||
          (function (e, t, n) {
            var a, r;
            const o =
              null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
                ? a
                : { unlocked: 0, total: 0 };
            return (
              (null !== (r = n.find((e) => e.appid === t.appid)) && void 0 !== r
                ? r
                : { unlocked: 0, total: 0 }
              ).total - o.total || it(e, t)
            );
          })(e, t, n)
        );
      }
      function ct(e, t) {
        const n = R(C()),
          a = (0, i.useCallback)(
            (e, a) => {
              switch (t) {
                case rt.HoursPlayed:
                  return (
                    (r = e),
                    (null !== (s = (o = a).playtime_forever) && void 0 !== s
                      ? s
                      : 0) -
                      (null !== (i = r.playtime_forever) && void 0 !== i
                        ? i
                        : 0) || it(r, o)
                  );
                case rt.RecentlyPlayed:
                  return (function (e, t) {
                    return (
                      t.rtime_last_played - e.rtime_last_played || it(e, t)
                    );
                  })(e, a);
                case rt.AchievementCompletion:
                  if (n.data) return lt(e, a, n.data);
                default:
                case rt.Name:
                  return it(e, a);
              }
              var r, o, s, i;
            },
            [t, n.data],
          );
        return (0, i.useMemo)(
          () => ({
            data: e.data && [...e.data].sort(a),
            isLoading:
              e.isLoading || (t === rt.AchievementCompletion && n.isLoading),
            error: e.error,
          }),
          [a, e.data, e.isLoading, e.error, n.isLoading, t],
        );
      }
      var mt,
        dt = n(54129);
      function ut(e) {
        var t;
        if (e.isLoading) return "";
        const n = null === (t = e.data) || void 0 === t ? void 0 : t.length;
        return void 0 === n ? "" : `(${n})`;
      }
      function pt(e, t, n, a) {
        const r = w(),
          o = E.Get().GetReviewCount(),
          s = E.Get().GetFollowedCount();
        return (0, i.useMemo)(() => {
          const i = [];
          return (
            i.push({
              tab: mt.RecentlyPlayed,
              label: (0, F.Xx)("#GamesList_Tab_RecentlyPlayed", ut(n)),
            }),
            i.push({
              tab: mt.All,
              label: (0, F.Xx)("#GamesList_Tab_AllGames", ut(t)),
            }),
            (r ||
              e === mt.Perfect ||
              a.isLoading ||
              (a.data && a.data.length > 0)) &&
              i.push({
                tab: mt.Perfect,
                label: (0, F.Xx)("#GamesList_Tab_PerfectGames", ut(a)),
              }),
            i.push(
              {
                tab: mt.Followed,
                href: `${h._.ProfileURL}followedgames`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Followed",
                  s > 0 ? `(${s})` : "",
                ),
              },
              {
                tab: mt.Reviews,
                href: `${h._.ProfileURL}reviews`,
                label: (0, F.Xx)(
                  "#GamesList_Tab_Reviews",
                  o > 0 ? `(${o})` : "",
                ),
              },
              {
                tab: mt.Wishlist,
                href: `${h._.ProfileURL}wishlist`,
                label: (0, F.Xx)("#GamesList_Tab_Wishlist"),
                className: dt.WishlistTab,
              },
            ),
            i
          );
        }, [e, t, n, a, o, s, r]);
      }
      function ft({ tabs: e, strTab: t, setStrTab: n }) {
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            {
              className: (0, U.Z)(
                "sectionTabs item responsive_hidden",
                dt.tabList,
              ),
            },
            e.map((e) =>
              e.href
                ? i.createElement(
                    "a",
                    {
                      className: (0, U.Z)("sectionTab", e.className),
                      href: e.href,
                      key: e.label,
                    },
                    i.createElement("span", null, e.label),
                  )
                : i.createElement(
                    "a",
                    {
                      className: (0, U.Z)(
                        "sectionTab",
                        e.tab === t && "active",
                        e.className,
                      ),
                      key: e.tab,
                      href: `${h._.ProfileURL}games/?tab=${e.tab}`,
                      onClick: (t) => {
                        t.preventDefault(), n(e.tab);
                      },
                    },
                    i.createElement("span", null, e.label),
                  ),
            ),
          ),
          i.createElement(
            "div",
            {
              className: (0, U.Z)(
                "nonresponsive_hidden responsive_tab_ctn sharedfiles_responsive_tab",
                dt.SelectBaseline,
              ),
            },
            i.createElement(
              "div",
              { className: "responsive_tab_control" },
              i.createElement(
                "select",
                {
                  value: t,
                  onChange: (t) => {
                    const a = e.find((e) => e.tab === t.target.value);
                    a &&
                      (t.preventDefault(),
                      a.href ? (location.href = a.href) : n(a.tab));
                  },
                },
                e.map((e) =>
                  e.href
                    ? i.createElement(
                        "option",
                        { value: e.tab, key: e.label },
                        e.label,
                      )
                    : i.createElement(
                        "option",
                        { value: e.tab, key: e.tab },
                        e.label,
                      ),
                ),
              ),
            ),
          ),
          i.createElement("div", {
            id: "tabs_baseline",
            className: (0, U.Z)("responsive_tab_baseline", dt.TabBaseline),
          }),
        );
      }
      !(function (e) {
        (e.All = "all"),
          (e.RecentlyPlayed = "recent"),
          (e.Perfect = "perfect"),
          (e.Followed = "followed"),
          (e.Reviews = "reviews"),
          (e.Wishlist = "wishlist");
      })(mt || (mt = {}));
      const _t =
          n.p +
          "images/applications/community/defaultappheader.png?v=valveisgoodatcaching",
        ht = parseInt(Ie.GameHeight),
        gt = parseInt(Ie.GamePadding),
        vt = parseInt(Ie.RemoteControlsHeight),
        Et = ht + gt;
      function yt() {
        return (function (e) {
          const t = (0, i.useMemo)(() => matchMedia(e), [e]),
            [n, a] = (0, i.useState)(t.matches);
          return (
            (0, i.useEffect)(() => {
              function e(e) {
                a(e.matches);
              }
              return (
                t.addEventListener("change", e),
                () => t.removeEventListener("change", e)
              );
            }, [t]),
            n
          );
        })(`(max-width: ${Ie.MobileBreakpoint})`);
      }
      function bt(e) {
        const t = N(e.appid),
          n = (function (e) {
            const t = (0, c.bY)(),
              n = E.Get();
            return (0, l.useQuery)(["FriendsWhoPlayCount", e], () =>
              n.GetFriendsWhoPlayCount(t, e),
            );
          })(e.appid),
          a = (function (e) {
            const t = E.Get(),
              n = t.GetProfileSteamId();
            return (0, l.useQuery)(["TradingCardsCount", n, e], () =>
              t.GetTradingCardsCount(n, e),
            );
          })(e.appid);
        return (0, i.useMemo)(() => {
          const r = [];
          return (
            r.push({
              href: `${_.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            void 0 !== t.data &&
              r.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemFirstPerson",
                  t.data > 0 ? `(${t.data})` : "",
                ),
                key: "screenshots",
              }),
            void 0 !== n.data &&
              r.push({
                href: `${h._.ProfileURL}friendsthatplay/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_FriendsWhoPlayMenuItemFirstPerson",
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "friendswhoplay",
              }),
            void 0 !== a.data &&
              r.push({
                href: `${h._.ProfileURL}gamecards/${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_TradingCardsMenuItemFirstPerson",
                  `(${a.data.owned}/${a.data.total})`,
                ),
                key: "tradingcards",
              }),
            r.push({
              href: `${h._.ProfileURL}recommended/${e.appid}`,
              label: (0, F.Xx)("#Community_ReviewMenuItemFirstPerson"),
              key: "review",
            }),
            {
              rgLinks: r,
              bIsLoading: t.isLoading || n.isLoading || a.isLoading,
            }
          );
        }, [e, t.data, t.isLoading, n.data, n.isLoading, a.data, a.isLoading]);
      }
      function Ct(e) {
        const t = b(),
          n = N(e.appid),
          a = (function (e) {
            const t = (0, c.bY)(),
              n = E.Get(),
              a = n.GetProfileSteamId();
            return (0, l.useQuery)(
              ["UserIndividualRecommendations", a, e],
              () => n.GetIndividualHasRecommendations(a, t, e),
            );
          })(e.appid);
        return (0, i.useMemo)(() => {
          const r = [];
          return (
            r.push({
              href: `${_.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            n.data &&
              n.data > 0 &&
              r.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, F.Xx)(
                  "#Community_ScreenshotsMenuItemThirdPerson",
                  t,
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "screenshots",
              }),
            a.data &&
              r.push({
                href: `${h._.ProfileURL}recommended/${e.appid}`,
                label: (0, F.Xx)("#Community_ReviewMenuItemThirdPerson", t),
                key: "review",
              }),
            { rgLinks: r, bIsLoading: n.isLoading }
          );
        }, [e, t, n.data, n.isLoading, a.data]);
      }
      function wt(e) {
        return w() ? bt(e) : Ct(e);
      }
      function Gt(e) {
        const t = b(),
          n = (function (e) {
            return E.Get().GetGCPDGames().includes(e.appid);
          })(e),
          a = w();
        return (0, i.useMemo)(() => {
          const r = [];
          return (
            e.has_community_visible_stats &&
              (r.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`,
                label: a
                  ? (0, F.Xx)("#Community_UsersAchievementsFirstPerson")
                  : (0, F.Xx)("#Community_UsersAchievements", t),
                key: "achievements",
              }),
              r.push({
                href: `${_.De.COMMUNITY_BASE_URL}stats/${e.appid}/achievements/`,
                label: (0, F.Xx)("#Community_GlobalAchievements"),
                key: "global_achievements",
              })),
            e.has_leaderboards &&
              (r.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=leaderboards`,
                label: a
                  ? (0, F.Xx)("#Community_UsersLeaderboardsFirstPerson")
                  : (0, F.Xx)("#Community_UsersLeaderboards", t),
                key: "leaderboards",
              }),
              r.push({
                href: `${_.De.COMMUNITY_BASE_URL}stats/${e.appid}/leaderboards/`,
                label: (0, F.Xx)("#Community_GlobalLeaderboards"),
                key: "global_leaderboards",
              })),
            a &&
              n &&
              r.push({
                href: `${h._.ProfileURL}gcpd/${e.appid}/`,
                label: (0, F.Xx)("#Community_GamePersonalData", t),
                key: "gcpd",
              }),
            r
          );
        }, [t, e, n, a]);
      }
      function Lt(e) {
        const t = w(),
          n = ne(e.appid),
          a = t,
          { mutate: r } = re(e.appid);
        return (0, i.useMemo)(() => {
          const t = [];
          return (
            t.push({
              href: `${_.De.STORE_BASE_URL}app/${e.appid}`,
              label: (0, F.Xx)("#Community_StorePage"),
              key: "store",
            }),
            (0, z.e7)(_.De.EREALM) ||
              t.push(
                {
                  href: `${_.De.IN_CLIENT ? "steam://openurl_external/" : ""}${_.De.STORE_BASE_URL}forum/${e.appid}`,
                  label: (0, F.Xx)("#Community_Forums"),
                  key: "forums",
                },
                {
                  href: `${_.De.COMMUNITY_BASE_URL}search/groups/?text=${encodeURIComponent(e.name)}`,
                  label: (0, F.Xx)("#Community_Groups"),
                  key: "groups",
                },
                {
                  href: `${_.De.IN_CLIENT ? "steam://openurl_external/" : ""}${_.De.STORE_BASE_URL}appofficialsite/${e.appid}`,
                  label: (0, F.Xx)("#Community_OfficialWebsite"),
                  key: "website",
                },
                {
                  href: `${_.De.STORE_BASE_URL}news/?appids=${e.appid}`,
                  label: (0, F.Xx)("#Community_News"),
                  key: "news",
                },
              ),
            a &&
              (n
                ? t.push({
                    action: () => r(!1),
                    label: (0, F.Xx)("#AppPrivacy_UnmarkAsPrivate"),
                    key: "appprivacy",
                  })
                : t.push({
                    action: () => r(!0),
                    label: (0, F.Xx)("#AppPrivacy_MarkAsPrivate"),
                    key: "appprivacy",
                    tooltip: (0, F.Xx)("#AppPrivacy_Explanation"),
                  })),
            t
          );
        }, [e, a, n, r]);
      }
      const Rt = i.forwardRef(
        ({ achievement: e, appid: t, className: n }, a) => {
          const r = parseFloat(e.player_percent_unlocked) < 10,
            o = `${_.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${t}/${e.icon}`;
          return i.createElement(Re, {
            ref: a,
            className: (0, U.Z)(
              De.AchievementIcon,
              De.RareAchievementIconWrapper,
              n,
            ),
            glow: r,
            imgURL: o,
          });
        },
      );
      function At({ appid: e, achievement: t }) {
        const n = `${_.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${e}/${t.icon}`,
          a = parseFloat(t.player_percent_unlocked) < 10;
        return i.createElement(
          "div",
          { className: De.AchievementHover },
          i.createElement(
            "div",
            { className: De.Background },
            i.createElement("img", { className: De.Blur, src: n }),
          ),
          i.createElement(
            "div",
            { className: De.TopSection },
            i.createElement(Rt, { appid: e, achievement: t }),
            i.createElement(
              "div",
              { className: De.TextSection },
              i.createElement("div", { className: De.Name }, t.name),
              i.createElement("div", { className: De.Desc }, t.desc),
            ),
          ),
          t.player_percent_unlocked &&
            i.createElement(
              "div",
              { className: De.Unlocked },
              i.createElement(
                "span",
                { className: (0, U.Z)(a && De.RareLabel) },
                (0, F.Xx)(
                  "#GamesList_Achievement_Unlock_Percentage",
                  t.player_percent_unlocked,
                ),
              ),
            ),
        );
      }
      const Nt = {
          direction: "top",
          bEnablePointerEvents: !1,
          style: { width: void 0, height: void 0, minHeight: void 0 },
        },
        St = i.forwardRef(({ appid: e, achievement: t }, n) =>
          i.createElement(
            Se.tl,
            {
              hoverContent: i.createElement(At, { appid: e, achievement: t }),
              hoverProps: Nt,
            },
            i.createElement(Rt, { ref: n, achievement: t, appid: e }),
          ),
        );
      function Bt({
        children: e,
        remainderRenderer: t,
        totalItemOverride: n,
        itemPadding: a = 0,
        ...r
      }) {
        const [o, ...s] = e,
          l = (0, B.yU)((e) => {
            p(e.contentRect.width);
          }),
          c = (0, B.yU)((e) => {
            d(e.contentRect.width);
          }),
          [m, d] = (0, i.useState)(0),
          [u, p] = (0, i.useState)(0),
          f = null != n ? n : e.length;
        let _ = e.length;
        if (u && m) {
          let t = 1,
            n = u;
          for (; n < m; ) (n += a), n + u <= m && ((n += u), t++);
          t < f && (_ = Math.max(0, Math.min(e.length, t - 1)));
        }
        return i.createElement(
          "div",
          { ref: c, ...r, style: 0 === m || 0 === u ? { opacity: 0 } : void 0 },
          _ > 0 && i.cloneElement(o, { ref: l }),
          _ > 1 && s.slice(0, _ - 1),
          _ < f && t(f - _),
        );
      }
      function kt({ game: e, visible: t, totalUnlocked: n }) {
        var a, r;
        const o = (function (e, t) {
            const n = (0, c.bY)(),
              a = E.Get(),
              r = a.GetProfileSteamId();
            return p({
              batchKey: ["TopAchievements", r, _.De.LANGUAGE],
              queryKey: [e.appid],
              queryFn: (e) => a.FetchTopAchievementsBatch(n, r, e),
              requestMatcher: (e, t) => e.appid === t.appid,
              batchDuration: 100,
              request: e,
              enabled: t,
            });
          })(e, t),
          s = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return (null ===
          (r =
            null === (a = o.data) || void 0 === a ? void 0 : a.achievements) ||
        void 0 === r
          ? void 0
          : r.length) > 0
          ? i.createElement(
              Bt,
              {
                className: De.AchievementIcons,
                totalItemOverride: n,
                itemPadding: 8,
                remainderRenderer: (e) =>
                  i.createElement(
                    "a",
                    { href: s, className: De.Remainder },
                    "+",
                    e,
                  ),
              },
              o.data.achievements.map((t) =>
                i.createElement(St, {
                  appid: e.appid,
                  achievement: t,
                  key: `${t.statid}${t.bit}`,
                }),
              ),
            )
          : null;
      }
      function Pt({ game: e, visible: t, showTop: n }) {
        const a = A(e, t).data;
        if (!a) return null;
        if (0 === a.total) return null;
        const r = Math.floor((a.unlocked / a.total) * 100),
          o = (0, F.Xx)("#GamesList_Header_Achievements"),
          s = (0, F.Xx)("#GamesList_Achievement_Fraction", a.unlocked, a.total),
          l = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            { className: De.AchievementsProgress },
            i.createElement(
              "a",
              { className: De.AchievementsProgressLabel, href: l },
              o,
            ),
            i.createElement("span", { className: De.AchievementsFraction }, s),
            i.createElement(ke, {
              className: De.AchievementsProgressBar,
              animate: !1,
              nPercent: r,
            }),
          ),
          n &&
            i.createElement(kt, {
              game: e,
              visible: t,
              totalUnlocked: a.unlocked,
            }),
        );
      }
      function It({ game: e, visible: t }) {
        const n = A(e, t).data;
        return n && t && n.total && n.unlocked === n.total
          ? i.createElement(
              "div",
              { title: (0, F.Xx)("#Perfect_Game_Description") },
              i.createElement(O.Gue, {
                fullcolor: !0,
                className: De.PerfectRibbon,
              }),
            )
          : null;
      }
      const Dt = () => {};
      function xt({ links: e }) {
        return i.createElement(
          Ae.xV,
          { className: De.NavDropdownMenu },
          e.map((e) =>
            i.createElement(
              Ae.Zo,
              { onSelected: "action" in e ? () => e.action() : Dt, key: e.key },
              i.createElement(jt, { link: e }),
            ),
          ),
        );
      }
      function Mt({ game: e }) {
        const t = wt(e);
        return t.bIsLoading
          ? i.createElement(
              Ae.xV,
              { className: De.NavDropdownMenu },
              i.createElement(M.V, { size: "small", position: "center" }),
            )
          : i.createElement(xt, { links: t.rgLinks });
      }
      const Tt = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Ut({ links: e, children: t, className: n }) {
        const a = (0, i.useRef)(null),
          r = (0, i.useCallback)(() => {
            (0, K.yV)(i.createElement(xt, { links: e }), a.current, Tt);
          }, [a, e]);
        return i.createElement(
          P.s,
          {
            className: (0, U.Z)(De.NavButton, n),
            onActivate: r,
            ref: a,
            focusable: !0,
          },
          t,
        );
      }
      function Ft({ links: e, label: t, className: n, onClick: a }) {
        return i.createElement(D.gB, {
          rgOptions: e.map((e) => ({ label: e.label, data: e })),
          onMenuOpened: a,
          onChange: (e) => {
            "href" in e.data ? (location.href = e.data.href) : e.data.action();
          },
          strDefaultLabel: t,
          strClassName: (0, U.Z)(De.GamepadNavigationDropdown, n),
          strDropDownButtonClassName: De.GamepadNavigationDropdownButton,
          highlightOnFocus: !0,
        });
      }
      function Xt({ game: e, setLinkData: t }) {
        const n = wt(e);
        return (
          (0, i.useEffect)(() => {
            t(n.rgLinks);
          }, [t, n.rgLinks]),
          null
        );
      }
      function Ht({ game: e }) {
        const t = w(),
          n = (0, F.Xx)(
            t ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          ),
          [a, r] = (0, i.useState)([]),
          [o, s] = (0, i.useState)(!1);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(Ft, { links: a, label: n, onClick: () => s(!0) }),
          o && i.createElement(Xt, { game: e, setLinkData: r }),
        );
      }
      function Ot(e) {
        const { game: t, children: n } = e,
          a = w();
        return i.createElement(
          "div",
          { className: De.GameLinks },
          a && i.createElement($t, { game: t }),
          n,
        );
      }
      function $t(e) {
        const { game: t } = e,
          n = ne(t.appid),
          a = re(t.appid);
        return !0 !== n
          ? null
          : i.createElement(
              P.s,
              {
                className: (0, U.Z)(
                  De.AppPrivateIndicator,
                  De.GameLinksButton,
                  De.NavButton,
                ),
                onActivate: () => a.mutate(!1),
              },
              i.createElement(H.dQJ, null),
            );
      }
      function Zt({ game: e }) {
        const t = Lt(e);
        return (0, _.id)()
          ? i.createElement(Ft, {
              links: t,
              label: (0, F.Xx)("#Community_GameLinks"),
            })
          : i.createElement(
              Ut,
              { links: t, className: De.GameLinksButton },
              i.createElement(H.bbz, null),
            );
      }
      function Qt({ game: e }) {
        const t = Gt(e),
          n = w(),
          a = (0, _.id)();
        if (0 === t.length) return null;
        const r = (0, F.Xx)(
          n ? "#Community_GameStatsFirstPerson" : "#Community_GameStats",
        );
        return a
          ? i.createElement(Ft, { links: t, label: r })
          : i.createElement(
              Ut,
              { links: t, className: De.StatLinks },
              i.createElement("span", null, " ", r, " "),
              i.createElement(V, null),
            );
      }
      function qt({ game: e }) {
        const t = (0, i.useRef)(null),
          n = (0, c.P9)(),
          a = (0, i.useCallback)(() => {
            (0, K.yV)(
              i.createElement(
                c.Ub,
                {
                  useActiveSteamInterface: n.useActiveSteamInterface,
                  useStorage: n.useStorage,
                },
                i.createElement(Mt, { game: e }),
              ),
              t.current,
              Tt,
            );
          }, [t, e, n]),
          r = w(),
          o = (0, _.id)(),
          s = (0, F.Xx)(
            r ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          );
        return o
          ? i.createElement(Ht, { game: e })
          : i.createElement(
              P.s,
              {
                className: (0, U.Z)(De.NavButton, De.ContentLinks),
                onActivate: a,
                ref: t,
              },
              i.createElement("span", null, " ", s, " "),
              i.createElement(V, null),
            );
      }
      function Wt({ label: e, children: t }) {
        return i.createElement(
          "details",
          { className: De.BottomSheetSection },
          i.createElement("summary", null, e, i.createElement(V, null)),
          i.createElement("div", { className: De.SectionContent }, t),
        );
      }
      function Yt({ game: e }) {
        const t = Gt(e);
        return 0 === t.length
          ? null
          : i.createElement(
              Wt,
              { label: (0, F.Xx)("#Community_GameStats") },
              t.map((e) =>
                i.createElement(jt, {
                  key: e.key,
                  link: e,
                  className: De.BottomSheetLink,
                }),
              ),
            );
      }
      function Vt({ game: e }) {
        const t = wt(e);
        return 0 === t.rgLinks.length
          ? null
          : i.createElement(
              Wt,
              { label: (0, F.Xx)("#Community_GameContent") },
              t.rgLinks.map((e) =>
                i.createElement(jt, {
                  key: e.key,
                  link: e,
                  className: De.BottomSheetLink,
                }),
              ),
            );
      }
      function jt(e) {
        const { link: t, className: n } = e;
        let a;
        return (
          (a =
            "href" in t
              ? i.createElement("a", { className: n, href: t.href }, t.label)
              : i.createElement(
                  "span",
                  { className: n, onClick: () => t.action },
                  t.label,
                )),
          t.tooltip &&
            (a = i.createElement(T.HP, { toolTipContent: t.tooltip }, a)),
          a
        );
      }
      function zt({ game: e }) {
        const t = Lt(e);
        return 0 === t.length
          ? null
          : i.createElement(
              Wt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_GameInfo") },
              t.map((e) =>
                i.createElement(jt, {
                  key: e.key,
                  link: e,
                  className: De.BottomSheetLink,
                }),
              ),
            );
      }
      function Kt({ game: e }) {
        const t = w(),
          n = (function () {
            const e = Oe();
            return e
              ? (0, F.Xx)(
                  "#GamesList_Client_Indicator",
                  Ze(e.device_type),
                  e.machine_name,
                )
              : null;
          })();
        return t && n
          ? i.createElement(
              Wt,
              { label: (0, F.Xx)("#GamesList_MenuLabel_RemoteDownload") },
              i.createElement("span", { className: De.ClientName }, n),
              i.createElement(at, {
                game: e,
                className: De.BottomSheetRemoteControls,
                visible: !0,
                enableDownloadBar: !0,
              }),
            )
          : null;
      }
      function Jt({ tab: e }) {
        const t = on().openGame,
          n = rn(),
          a = (0, i.useRef)(null);
        (0, i.useEffect)(() => {
          var e;
          a.current &&
            (null === (e = a.current.querySelector("summary")) ||
              void 0 === e ||
              e.focus());
        }, [t]);
        const r = L(t);
        if (!t) return null;
        const o =
          _.De.STORE_ICON_BASE_URL +
          `/${t.appid}/${t.capsule_filename || "library_600x900.jpg"}`;
        return i.createElement(
          "div",
          {
            className: (0, U.Z)(
              De.BottomSheetContainer,
              r && De.HasAdultContent,
            ),
            role: "dialog",
            "aria-modal": "true",
            onKeyDown: (e) => {
              "Escape" === e.key && n(void 0);
            },
          },
          i.createElement("div", {
            className: De.BottomSheetOverlay,
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation(), n(void 0);
            },
          }),
          i.createElement(
            "div",
            { className: De.BottomSheet, ref: a },
            i.createElement(
              "div",
              { className: De.GameInfo },
              i.createElement(
                "div",
                { className: De.BlurredBackground },
                i.createElement("img", { src: o, alt: t.name }),
              ),
              i.createElement("img", {
                src: o,
                alt: t.name,
                className: De.Portrait,
              }),
              i.createElement(
                "div",
                { className: De.Facts },
                i.createElement("span", { className: De.GameTitle }, t.name),
                i.createElement(en, { game: t, visible: !0, tab: e }),
              ),
            ),
            i.createElement(Vt, { game: t }),
            i.createElement(Yt, { game: t }),
            i.createElement(zt, { game: t }),
            i.createElement(Kt, { game: t }),
          ),
        );
      }
      function en({ game: e, visible: t, tab: n }) {
        const a = w(),
          r = L(e),
          o = yt(),
          s = n !== mt.All && !(o && n === mt.RecentlyPlayed);
        return i.createElement(
          "div",
          { className: De.Playtime },
          n === mt.RecentlyPlayed &&
            !!e.playtime_2weeks &&
            i.createElement(
              "span",
              { className: De.Hours2weeks },
              i.createElement(
                "span",
                { className: De.FactLabel },
                (0, F.Xx)("#GamesList_Header_TwoWeeks"),
              ),
              (0, Pe.W)(e.playtime_2weeks),
            ),
          !!e.playtime_forever &&
            i.createElement(
              "span",
              { className: De.Hours },
              i.createElement(
                "span",
                { className: De.FactLabel },
                (0, F.Xx)("#GamesList_Header_TotalPlayed"),
              ),
              (0, Pe.W)(
                e.playtime_forever +
                  (e.playtime_disconnected ? e.playtime_disconnected : 0),
              ),
            ),
          n !== mt.RecentlyPlayed &&
            a &&
            !!e.rtime_last_played &&
            i.createElement(
              "span",
              { className: De.LastPlayed },
              i.createElement(
                "span",
                { className: De.FactLabel },
                (0, F.Xx)("#GamesList_Header_LastPlayed"),
              ),
              (0, F.m9)(e.rtime_last_played),
            ),
          !r &&
            i.createElement(
              "div",
              { className: De.AchievementContainer },
              i.createElement(Pt, { game: e, visible: t, showTop: s }),
            ),
        );
      }
      function tn({ game: e }) {
        const t = yt(),
          [n, a] = (0, i.useState)(0),
          r = [
            `${_.De.STORE_ICON_BASE_URL}${e.appid}/${e.capsule_filename || "library_600x900.jpg"}`,
            `${_.De.STORE_ICON_BASE_URL}${e.appid}/portrait.png`,
            _t,
          ],
          o = [`${_.De.STORE_ICON_BASE_URL}${e.appid}/header.jpg`, _t],
          s = t ? r[n] === _t : o[n] === _t;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "picture",
            { onError: () => a((e) => e + 1) },
            i.createElement("source", {
              media: `(max-width: ${Ie.MobileBreakpoint})`,
              srcSet: r[n],
            }),
            i.createElement("img", { src: o[n], alt: e.name, loading: "lazy" }),
          ),
          s && i.createElement("span", { className: De.FallbackTitle }, e.name),
        );
      }
      function nn({ game: e, hasEverBeenVisible: t }) {
        const n = yt();
        return i.createElement(
          "div",
          { className: De.PortraitContainer },
          i.createElement(tn, { game: e }),
          !n && i.createElement(It, { game: e, visible: t }),
        );
      }
      const an = i.memo(function ({ game: e, top: t, tab: n }) {
        const a = `${_.De.STORE_BASE_URL}app/${e.appid}`,
          r = w(),
          o = yt(),
          s = rn(),
          l = o ? "button" : le.eh,
          c = o ? () => s(e) : void 0,
          [m, d] = (0, i.useState)(!1),
          u = (0, B.S1)(
            (0, i.useCallback)((e) => {
              e.isIntersecting && d(!0);
            }, []),
            { rootMargin: "600px" },
          ),
          p = L(e),
          f = (0, _.id)(),
          h = o ? "div" : ie.IS,
          g = o ? "span" : "a";
        return i.createElement(
          "div",
          {
            className: (0, U.Z)(
              De.GamesListItemContainer,
              p && De.HasAdultContent,
            ),
            style: { top: `${t}px` },
            ref: u,
          },
          i.createElement(
            l,
            {
              className: (0, U.Z)(De.GamesListItem, e.changing && De.Changing),
              onClick: c,
            },
            i.createElement(
              h,
              { href: a, className: De.GameItemPortrait },
              i.createElement(nn, { game: e, hasEverBeenVisible: m }),
            ),
            i.createElement(
              "span",
              { className: De.GameNameContainer },
              i.createElement(g, { href: a, className: De.GameName }, e.name),
            ),
            i.createElement(en, { game: e, visible: m, tab: n }),
            !o &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "div",
                  { className: De.Buttons },
                  i.createElement(Qt, { game: e }),
                  i.createElement(qt, { game: e }),
                  f && i.createElement(Zt, { game: e }),
                ),
                !f &&
                  i.createElement(
                    Ot,
                    { game: e },
                    i.createElement(Zt, { game: e }),
                  ),
              ),
            r &&
              !o &&
              i.createElement(at, {
                className: De.DownloadStatus,
                game: e,
                visible: m,
              }),
            o && i.createElement(It, { game: e, visible: m }),
          ),
          r && i.createElement(nt, { game: e, visible: m }),
        );
      });
      function rn() {
        return on().fnSetOpenGame;
      }
      function on() {
        const e = (0, i.useContext)(sn);
        if (!e)
          throw new Error(
            "attempted to use BottomSheetContext outside of provider",
          );
        return e;
      }
      const sn = i.createContext(void 0);
      function ln({ children: e }) {
        const [t, n] = (0, i.useState)(void 0);
        return i.createElement(
          sn.Provider,
          { value: { openGame: t, fnSetOpenGame: n } },
          e,
        );
      }
      const cn = new Set();
      function mn(e) {
        cn.add(e);
      }
      const dn = new Set();
      function un({ games: e, tab: t, fnCalculateGameSize: n }) {
        const [a, r] = (0, i.useMemo)(() => {
          let t = 0;
          const a = e.map((e) => {
            const a = n(e);
            return (t += a), a;
          });
          return [t, a];
        }, [e, n]);
        !(function () {
          const e = (0, i.useRef)(!1);
          (0, i.useEffect)(() => {
            var t;
            if (e.current) return;
            const n =
              null === (t = history.state) || void 0 === t ? void 0 : t.scrollY;
            n && window.scroll({ top: n }), (e.current = !0);
          }, []),
            (0, i.useEffect)(() => {
              let e;
              const t = () => {
                e && clearTimeout(e),
                  (e = setTimeout(() => {
                    var e;
                    history.replaceState(
                      {
                        ...(null !== (e = history.state) && void 0 !== e
                          ? e
                          : {}),
                        scrollY: window.scrollY,
                      },
                      "",
                    );
                  }, 100));
              };
              return (
                addEventListener("scroll", t, { passive: !0 }),
                () => {
                  removeEventListener("scroll", t), e && clearTimeout(e);
                }
              );
            }, []);
        })();
        const o = (0, i.useRef)(null);
        let s = 0;
        return i.createElement(
          P.s,
          { ref: o, className: De.List, style: { height: a }, autoFocus: !0 },
          i.createElement(
            fn,
            {
              disableContinuousRender: e.length > 1024,
              batchSize: 16,
              containerRef: o,
              childSizes: r,
            },
            e.map((e, n) => {
              const a = s;
              return (
                (s += r[n]),
                i.createElement(an, { game: e, key: e.appid, top: a, tab: t })
              );
            }),
          ),
        );
      }
      async function pn() {
        return new Promise((e) => {
          setTimeout(e, 0);
        });
      }
      function fn({
        children: e,
        batchSize: t,
        containerRef: n,
        childSizes: a,
        disableContinuousRender: r,
      }) {
        const [o] = (0, i.useState)([]);
        return (
          (0, i.useEffect)(() => {
            if (r) return () => {};
            let e = !1;
            return (
              (async function () {
                var n;
                for (let a = 0; a < o.length + t; a += t) {
                  for (let r = a; r < a + t; r++) {
                    if (e) return;
                    null === (n = o[r]) || void 0 === n || n.call(o, !0);
                  }
                  await pn();
                }
              })(),
              () => {
                e = !0;
              }
            );
          }, [o, t, e.length, r]),
          (0, i.useEffect)(() => {
            if (!n || !a) return () => {};
            function e() {
              let e = null == t ? void 0 : t.getBoundingClientRect().top;
              e > 0 && (e = 0);
              const n = Math.ceil(window.innerHeight / a[0]);
              let r = 0,
                s = 0;
              for (; r > e; ) (r -= a[s]), s++;
              const i = s - n,
                l = i + 3 * n;
              for (let e = i; e < l; e++)
                setTimeout(() => {
                  var t;
                  null === (t = o[e]) || void 0 === t || t.call(o, !0);
                }, 0);
            }
            const t = n.current;
            return (
              null == t ||
                t.ownerDocument.defaultView.addEventListener("scroll", e),
              e(),
              () => {
                null == t ||
                  t.ownerDocument.defaultView.removeEventListener("scroll", e);
              }
            );
          }, [e.length, e, n, a, t, o]),
          i.createElement(
            i.Fragment,
            null,
            e.map((e, t) =>
              i.createElement(_n, { key: e.key, index: t, renderers: o }, e),
            ),
          )
        );
      }
      function _n({ renderers: e, index: t, children: n }) {
        const [a, r] = (0, i.useState)(!1);
        return (e[t] = r), a ? i.createElement(i.Fragment, null, n) : null;
      }
      const hn = i.createContext(void 0);
      function gn({ query: e, isLoading: t, tab: n }) {
        var a;
        const r = he(),
          o = (function (e) {
            const t = Oe(),
              n = ye(void 0, !1).rgQueries.find((e) => {
                var n;
                return (
                  (null === (n = e.data) || void 0 === n
                    ? void 0
                    : n.session.client_instanceid) ===
                  (null == t ? void 0 : t.client_instanceid)
                );
              });
            return (0, i.useMemo)(() => {
              var t;
              const a = new Set();
              if (null == n ? void 0 : n.data)
                for (const e of n.data.mapApps.values())
                  (dn.has(e.appid) || (!cn.has(e.appid) && Je(e))) &&
                    (a.add(e.appid), dn.add(e.appid));
              const r = [],
                o = [];
              return (
                null === (t = e.data) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    a.has(e.appid) ? r.push({ ...e, changing: !0 }) : o.push(e);
                  }),
                { data: [...r, ...o], isLoading: e.isLoading, error: e.error }
              );
            }, [e.data, e.isLoading, e.error, null == n ? void 0 : n.data]);
          })(e),
          [s, l] = (0, i.useState)({}),
          c = (0, i.useCallback)((e, t) => {
            l((n) => ({ ...n, [e]: t }));
          }, []),
          m = (0, i.useCallback)((e) => (s[e.appid] ? Et + vt : Et), [s]);
        return o.isLoading || r.isLoading || t
          ? i.createElement(M.V, {
              string: (0, F.Xx)("#Loading"),
              position: "center",
            })
          : 0 === (null === (a = o.data) || void 0 === a ? void 0 : a.length) &&
              n === mt.Perfect
            ? i.createElement(
                "p",
                { className: De.emptyDescription },
                (0, F.Xx)("#GamesList_PerfectGames_Description"),
              )
            : i.createElement(
                hn.Provider,
                { value: c },
                !_.De.IN_CLIENT && i.createElement(We, null),
                i.createElement(un, {
                  games: o.data,
                  tab: n,
                  fnCalculateGameSize: m,
                }),
              );
      }
      function vn(e) {
        return Et;
      }
      function En({ query: e, isLoading: t, tab: n }) {
        return void 0 === e.data || t
          ? null
          : i.createElement(un, {
              games: e.data,
              tab: n,
              fnCalculateGameSize: vn,
            });
      }
      const yn = (0, Ne.AP)(
          ({ owned: e, filter: t, dependencyLoading: n, sort: a, tab: r }) => {
            const o = ct(Z(e, t), a),
              s = w(),
              l = o.isLoading || n;
            if (o.error && !l) throw o.error;
            return i.createElement(
              ln,
              null,
              i.createElement(Jt, { tab: r }),
              s
                ? i.createElement(gn, { query: o, isLoading: l, tab: r })
                : i.createElement(En, { query: o, isLoading: l, tab: r }),
            );
          },
        ),
        bn = [
          {
            label: (0, F.Xx)("#GamesList_Sort_HoursPlayed"),
            sortOption: rt.HoursPlayed,
          },
          { label: (0, F.Xx)("#GamesList_Sort_Name"), sortOption: rt.Name },
          {
            label: (0, F.Xx)("#GamesList_Sort_AchievementCompletion"),
            sortOption: rt.AchievementCompletion,
          },
        ];
      function Cn({ strSort: e, setStrSort: t }) {
        return i.createElement(
          "ul",
          { className: X.SortOptions },
          bn.map((n) =>
            i.createElement(
              "li",
              { key: n.sortOption },
              i.createElement(
                "button",
                {
                  className: (0, U.Z)(
                    X.SortOption,
                    e === n.sortOption && X.SelectedSort,
                  ),
                  onClick: () => t(n.sortOption),
                },
                n.label,
              ),
            ),
          ),
        );
      }
      function wn() {
        const [e, t] = (0, x.Ar)("games_in_common", !1);
        return i.createElement(
          "label",
          { className: X.BothOwnedFilter },
          (0, F.Xx)("#GamesList_Filter_BothOwned"),
          i.createElement("input", {
            type: "checkbox",
            checked: e,
            onChange: (e) => t(e.target.checked),
          }),
        );
      }
      function Gn() {
        return i.createElement(
          T.HP,
          {
            toolTipContent: (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            "aria-label": (0, F.Xx)("#GamesList_PrivacySettings_Tooltip"),
            className: X.PrivacySettingsLink,
          },
          i.createElement(
            "a",
            { href: `${h._.ProfileURL}edit/settings` },
            i.createElement(j, null),
          ),
        );
      }
      function Ln(e) {
        const t = new Set();
        return null == e || e.forEach((e) => t.add(e.appid)), t;
      }
      function Rn(e, t, n) {
        const [a, r] = (0, x.Ar)(e, n);
        let o = a;
        return Object.values(t).includes(a) || (o = n), [o, r];
      }
      function An({ children: e }) {
        return (0, _.id)() ? i.createElement(D.vY, null, e) : e;
      }
      function Nn(e) {
        const t = C(),
          [n, a] = Rn("sort", rt, rt.HoursPlayed),
          [r, o] = Rn("tab", mt),
          s = null != r ? r : mt.RecentlyPlayed,
          [l, c, m] = (function (e, t) {
            const [n, a] = (0, i.useState)(e),
              [r, o] = (0, i.useState)(e);
            return (
              (0, i.useEffect)(() => {
                if (t < 1) return o(n), () => {};
                const e = setTimeout(() => o(n), t);
                return () => clearTimeout(e);
              }, [n, t]),
              [n, r, a]
            );
          })(void 0, 100),
          d = s === mt.RecentlyPlayed,
          u = (0, i.useCallback)(
            (e) => {
              var t;
              return (
                !(c && !d) ||
                (null === (t = e.name) || void 0 === t
                  ? void 0
                  : t.toLowerCase().includes(c.toLowerCase()))
              );
            },
            [c, d],
          ),
          p = R(t),
          f = (0, i.useCallback)(
            (e) =>
              !!p.data &&
              p.data.some(
                (t) =>
                  t.appid === e.appid &&
                  0 !== t.unlocked &&
                  t.unlocked === t.total,
              ),
            [p.data],
          ),
          [h] = (0, x.Ar)("games_in_common", !1),
          g = h && s === mt.All,
          v = (function (e) {
            const t = y(_.L7.steamid, { enabled: e });
            return (0, i.useMemo)(
              () => ({ data: Ln(t.data), isLoading: t.isLoading }),
              [t.data, t.isLoading],
            );
          })(g),
          b = (0, i.useCallback)(
            (e) => {
              var t;
              return (
                !g ||
                (null === (t = v.data) || void 0 === t
                  ? void 0
                  : t.has(e.appid))
              );
            },
            [g, v],
          ),
          G = y(t),
          L = E.Get().GetPerfectUnownedGames(),
          A =
            ((N = E.Get().GetRecentlyPlayedGames()),
            (0, i.useMemo)(
              () => ({ data: N, isLoading: !1, error: void 0 }),
              [N],
            ));
        var N;
        const S =
          ((B = Z(G, f, p.isLoading)),
          (D = L),
          (0, i.useMemo)(() => {
            var e;
            return {
              data:
                null === (e = B.data) || void 0 === e ? void 0 : e.concat(D),
              isLoading: B.isLoading,
              error: B.error,
            };
          }, [B.data, B.isLoading, B.error, D]));
        var B, D;
        (0, i.useEffect)(() => {
          !r && A.data && 0 === A.data.length && o(mt.All);
        }, [r, A, o]);
        const T = w(),
          H = (0, _.id)();
        let O = G;
        s === mt.RecentlyPlayed ? (O = A) : s === mt.Perfect && (O = S),
          (0, i.useEffect)(() => {
            cn.clear();
          }, [s]);
        const $ = pt(s, G, A, S),
          q = (function (...e) {
            return (0, i.useCallback)((t) => {
              for (const n of e) if (n && !n(t)) return !1;
              return !0;
            }, e);
          })(c && u, g && b),
          W = (0, U.Z)(X.Gameslistapp, H && "GamepadMode"),
          Y = (0, I.L)(),
          V = n === rt.AchievementCompletion && p.isLoading,
          j = O.isLoading || V;
        return i.createElement(
          k.p,
          { navID: "Gamelist", NavigationManager: Y },
          i.createElement(
            $e,
            null,
            i.createElement(
              An,
              null,
              i.createElement(
                P.s,
                { className: W },
                j &&
                  i.createElement(M.V, {
                    string: (0, F.Xx)("#Loading"),
                    position: "center",
                  }),
                !j &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(ft, { tabs: $, strTab: s, setStrTab: o }),
                    s !== mt.RecentlyPlayed &&
                      i.createElement(
                        "div",
                        { className: X.DisplayControls },
                        i.createElement(Q, {
                          strNameFilter: l,
                          setStrNameFilter: m,
                          className: X.FilterInput,
                        }),
                        T && i.createElement(Gn, null),
                        !T && s === mt.All && i.createElement(wn, null),
                        i.createElement(Cn, { strSort: n, setStrSort: a }),
                      ),
                  ),
                i.createElement(yn, {
                  owned: O,
                  filter: q,
                  sort: s === mt.RecentlyPlayed ? rt.RecentlyPlayed : n,
                  dependencyLoading: j,
                  tab: s,
                }),
              ),
            ),
          ),
        );
      }
      function Sn(e) {
        const t = (0, B.kD)(i.useCallback(() => new S.Z(), []));
        return i.createElement(
          c.Ub,
          { useActiveSteamInterface: G, useStorage: t },
          i.createElement(Nn, { ...e }),
        );
      }
    },
  },
]);
