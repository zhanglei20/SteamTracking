/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4657],
  {
    61088: (e) => {
      e.exports = {
        AppCarouselTrailerCtn: "_2DzJ9TSrYmyo1tY_R-1jym",
        AutoplayCheckbox: "ZZgGaqlJvV83f4CYl3O3N",
        AppVideo: "_3sG-J5T8SrzM0Hjkda7sgL",
        PlayFullTrailer: "_115ZF6m0XsEieocbL7zjo-",
        "microtrailer-trans-out": "HMoi7fPFNjxiHeyrfkgmO",
        PlayMicrotrailer: "_2edFDJ0B9YjtlfqugPTxw0",
        "microtrailer-trans-in": "_3D_pgT8sxFP3ieDxVt_1zp",
        NoTrailer: "WtSN6aaEz7vEnRjVrq2hS",
        "trailer-trans-in": "_3kp7PkbzSVQPFoobA3Xx7N",
        AppMainCap: "_3cc6kgsSpd-DeLRDHEM_lD",
        Hidden: "_133cw4R3W7BUEiogJVas9e",
        "capsule-trans-out": "hckHU2LXCJNx0X37OqCsx",
        PlayButton: "_1y11BvPq_nL5EZFF8GLuD9",
        AutoplayCheckboxCtn: "_2HvO_RKtxiyyhZsELjYyq5",
      };
    },
    57834: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_2u0N2gUX44_tavazJJb_QP",
        TextLink: "_3ZdNCUMz9KZMkwPZlO8zmi",
        DiscoveryQueueCarousel: "_2IRR522890narAsL94Zu3m",
        DiscoveryQueueApp: "_1xJSMubUWBlahkrtb4IFTc",
        Focused: "oUEAvAdCBlYt77MTARAFa",
        DiscoveryQueueWrapper: "_2BYaxM7mBfooJbZYzhEv4D",
        revealDiscoveryQueueWrapper: "brzQbY6Z8TH8Ww-rFL4E0",
        AppDetailsCtn: "_2Zwt2P5vy4W9Ha5ePOv54U",
        AppDetailsCtnTop: "_3TkhdqIi1gqwMzexQDS8Ab",
        AppDetailsHeader: "_3aRcsxMKenJomlIDgFBB3L",
        AppLibraryHero: "_uGgOnTsOzgIVK9BHMTUV",
        RightColumn: "VVNgZo2T-rubrTvNMPSoh",
        AppName: "_3lk6f1XI_loCIhBevOddHP",
        AppTagsCtn: "xXcRKEuacDG8kYtDXu6OH",
        TagEntry: "xmqBa8sZa4Xhgktfr43Uh",
        AppReviews: "_2alBMAZOarIyf-vIiNazRg",
        RelevantCtn: "_3sfhS6SCV1q8dTaRIpWCHB",
        RelevantColumn: "Ne2AhbYmPfTxwJVmj1FZP",
        RelevantItem: "_2OUHZGUrr0FugrwCwIm6dF",
        RelevantCheck: "_1BOH1zFTOxtlgKkeEANpYO",
        IgnoreLink: "fir3UBZYT6EAmdYWAdr3a",
        AppActionButtonsCtn: "_2IQHDn5ZvlB1ThhSb_lhX",
        AppActionJustButtonsCtn: "duAyQ1rUX78lMmmZY1V0n",
        QueueButton: "_22Bfzcdg2l-RQEn-qKSIol",
        ButtonsRowWrap: "_1plvU4aLu4hq22gYwThZnH",
        MainCapBlur: "_3pnstKeF4uZxwwsGWAH8WK",
        DiscoveryQueuePlaceholder: "_2iOwkGv0PwfbFqjX_J1Yyn",
        IgnoredCtn: "_3G1MYmgXVcweTUK5jtU_Ft",
        Active: "_2D_EZlAEopCvqU0_w21FdH",
        IgnoredInfo: "_2j-elz350f4ndxI9CBUbyW",
        IgnoredTitle: "_18alvCecAAMAsyM_6zCY2T",
        IgnoredDescription: "CmI-HxKbBH8PjoSk7IVPC",
        UndoIgnoreButton: "_2E3PfDDIiiKoy4iDQV7Ewl",
        AppDesc: "_3-6CubUJWYN2tbKvwS2N9n",
        YGlyph: "_3ncywKLa2mgKgbsj-g2wJi",
        SummaryContentCtn: "Tvu6zAI3kbdYjGQGbypuQ",
        SummaryTitle: "_2o4_HDWD3bRMkoJT4RfiMv",
        YourStats: "_3-iD7yn2dCmqp9AL5xuwLX",
        SummaryGrid: "_3vRcTzxpTSFxcxVm9BKrlQ",
        GridItem: "_2w3xjuBZIgZJPO9HAa5Hb0",
        GridTitle: "_7HEa84jCz03LkGTjIZa7c",
        GridNumber: "jM11lU9OD9-2Hlu3Akwtj",
        GridSubTitle: "_2n8wa2hMCjKHhvMsS0v3_k",
        SummaryActionButtonsCtn: "nqmYD9sGBA3BEmNjp6qYF",
        TopBarCtn: "_1ewUwegRciiNydBWSQRCX-",
        revealTopBarCtn: "_1NLXxISZY_irucMpI5R4x4",
        TopMargin: "ESrsVvppSYzUdXlrlXxWr",
        BotomBarCtn: "_2RS-Ue5FXXFavL0kzKJygJ",
        LearnMoreLink: "CiFk6OuYAQSbv_DGXoBSX",
        ControlsCtn: "_2Gy72TJcKqY9gqP5-TAmSk",
        Disabled: "_2xsPifNspMLcbkoUSA5Ujl",
        Primary: "_3o2jhEGrGiVndMjUbNpOw-",
        Launch: "_3SOZx68qVakLwDvAYBOPMG",
        Wide: "_1tFfTbcTKjlfSGsMOJvdf_",
        QueueNavArrow: "_2sZ7DAljYV5Xd-nbhtlmyM",
        Enable: "_2CTzbHZ-C-FfnXEtLZPv9q",
        RightArrow: "_30_0NBq3DkV-qL7Eyqva-t",
        LeftArrow: "_36Cln2gIYtwR3sPPcOi9bT",
        ReleventSimilarAppsCtn: "_2akaWEht7jMXdxPJFmf3WN",
        RecommendingCuratorsCtn: "_RZQ6JnUY6lQGmRcgHFNA",
        WhyRelevant: "_29ReJunMtLbnxbnixF6VdE",
        SimilarAppCtn: "_2fNR47HGs7tI_v1HC2-N1h",
        SimilarAppImg: "_1q8mEyt8Rp7JweHMRGm6hq",
        SimilarAppText: "YWLoeGgBPsjUtXywol3_O",
        FriendAvatarsCtn: "_2hxko0SvUWCZ30U4JH4TNn",
        RelevantTextBold: "_1Z_ek2XNBZbkZqyR-QSwlo",
        AppDescription: "_2mksBeuafFs1CMp0t5Z9gX",
        TradingCardCtn: "_13ZcoCKc8H09LSHp4C197Z",
        TradingCardImage: "_2ZB_x5Jq7JGDapJVPsCZTo",
        Bold: "_2P6WAN13LnRVRmRb-VNu_L",
        FriendBlockCtn: "_34aoCP80lDRK3cq6_V0YQ_",
        PersonaStatus: "_1AYnL3n86EbaOCKf18KKV8",
        ProgressCtn: "_1PuKitjqWv0B0oiYlNtQLC",
        ProgressDot: "TlkSt1YkgKK9YnX7QQE4Z",
        ProgressDotActive: "_23RBFZJ1wVhf98uzXlWplC",
        ProgressDotHidden: "_2Fj2kOZWwWE8wXSm0CEN_3",
        DiscoveryQueueName: "D7yeVCEwaFr6qNo_bPGCr",
      };
    },
    12037: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppVideoCtn: "_5T6C7ESpj4ynwbH8LS101",
        WishlistBadge: "_1H947zVMI4eix33y6Vyrm0",
        Active: "QO_OlPouxqbJBf7_YhDcB",
        DeckVerifiedLogo: "_32nCthjo6y3PW8ly04ygbU",
      };
    },
    20019: (e, t, r) => {
      "use strict";
      function n(e) {
        switch (e) {
          case 0:
            return "game";
          case 6:
            return "software";
          case 1:
            return "demo";
          case 4:
            return "dlc";
          case 7:
          case 3:
            return "video";
          case 11:
            return "music";
          case 12:
            return "beta";
          case 2:
            return "mod";
        }
        return "invalid";
      }
      r.d(t, { U: () => n });
    },
    79359: (e, t, r) => {
      "use strict";
      r.d(t, { M: () => o });
      var n = r(90626),
        i = r(6144),
        s = r(73745);
      const a = (e) => null != e;
      function o(e, t) {
        const [r, i] = n.useState(window.localStorage.getItem(e)),
          o = n.useRef(e);
        n.useEffect(() => {
          e != o.current &&
            (i(window.localStorage.getItem(e)), (o.current = e));
        }, [e]);
        const c = e == o.current ? r : window.localStorage.getItem(e);
        let u = t;
        return (
          a(c) &&
            (u = a(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, s.hL)(l.Get().GetLocalStoreChangeCallback(e), i),
          [
            u,
            (t) => {
              const r = a(t) ? String(t) : null;
              window.localStorage.setItem(e, r),
                i(r),
                l.Get().GetLocalStoreChangeCallback(e).Dispatch(r);
            },
          ]
        );
      }
      class l {
        m_mapChangeCallback = new Map();
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new i.lu()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return l.s_Singleton || (l.s_Singleton = new l()), l.s_Singleton;
        }
      }
    },
    39199: (e, t, r) => {
      "use strict";
      r.d(t, {
        Bk: () => _,
        IH: () => w,
        Jy: () => h,
        Uf: () => y,
        WX: () => b,
        aI: () => f,
        bz: () => g,
      });
      var n = r(34629),
        i = r(14947),
        s = r(90626),
        a = r(56545),
        o = r(8114),
        l = r(75487),
        c = r(6144),
        u = r(73745),
        m = r(41338),
        d = r(78327);
      function p(e, t) {
        const r = t?.nSaleTagID,
          n = t?.strContentHubType,
          i = t?.strContentHubCategory,
          s = t?.nContentHubTagID,
          a = t?.bDiscountsOnly,
          o = t?.bPrioritizeDiscounts,
          l = t?.strOptInName,
          c = t?.nOptInTagID,
          u = t?.nPruneTagID;
        let m = e.toString();
        return (
          r
            ? (m += "_" + r)
            : n &&
              ((m += "_" + n),
              "category" === n && i
                ? (m += "_" + i)
                : "tags" === n && s && (m += "_" + s),
              a ? (m += "_d") : o && (m += "_p"),
              l && c && u && (m += "_" + l)),
          m
        );
      }
      function h(e) {
        const t = e?.nSaleTagID,
          r = e?.strContentHubType,
          n = e?.strContentHubCategory,
          i = e?.nContentHubTagID,
          s = e?.bDiscountsOnly,
          a = e?.bPrioritizeDiscounts,
          l = e?.strOptInName,
          c = e?.nOptInTagID,
          u = e?.nPruneTagID,
          m = e?.bOptInOnly,
          d = new o.S7();
        if (t) {
          const e = new o.hw();
          e.set_sale_tagid(t), d.set_sale_filter(e);
        } else if (r) {
          const e = new o.rd();
          if (
            (e.set_hub_type(r),
            "category" === r
              ? e.set_hub_category(n)
              : "tags" === r && e.set_hub_tagid(i),
            s ? e.set_discount_filter(1) : a && e.set_discount_filter(2),
            l)
          ) {
            const t = new o.Q7();
            t.set_name(l),
              t.set_optin_tagid(c),
              t.set_prune_tagid(u),
              t.set_optin_only(m),
              e.set_optin(t);
          }
          d.set_content_hub_filter(e);
        }
        return d;
      }
      function _(e) {
        return (0, m.bt)(JSON.stringify(e));
      }
      function g(e) {
        return JSON.parse((0, m.he)(e));
      }
      class f {
        m_transport;
        m_mapDiscoveryQueues = new Map();
        m_mapSkippedApps = new Map();
        m_mapSkippedAppCount = new Map();
        m_mapInClientCompleted = new Map();
        m_mapInClientCompletedCallback = new Map();
        m_setExhuasted = new Set();
        m_mapExhuastedCallback = new Map();
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const r = p(e, t);
          return this.m_mapDiscoveryQueues.get(r).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const r = p(e, t);
          return this.m_mapSkippedAppCount.get(r) || 0;
        }
        GetSkippedAppKey(e, t, r) {
          return `${e}_${p(t, r)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const r = p(e, t);
          return this.m_mapInClientCompleted.get(r) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const r = p(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(r) ||
              this.m_mapInClientCompletedCallback.set(r, new c.lu()),
            this.m_mapInClientCompletedCallback.get(r)
          );
        }
        GetExhaustedCallback(e, t) {
          const r = p(e, t);
          return (
            this.m_mapExhuastedCallback.has(r) ||
              this.m_mapExhuastedCallback.set(r, new c.lu()),
            this.m_mapExhuastedCallback.get(r)
          );
        }
        BIsExhausted(e, t) {
          const r = p(e, t);
          return this.m_setExhuasted.has(r);
        }
        async LoadDiscoveryQueue(e, t, r) {
          const n = p(e, r),
            i = a.w.Init(l.BL);
          i.Body().set_queue_type(e),
            i.Body().set_country_code(d.TS.COUNTRY || "US"),
            i.Body().set_rebuild_queue(t),
            i.Body().set_rebuild_queue_if_stale(!0),
            (1 !== e && 9 !== e) ||
              i.Body().settings().set_include_coming_soon(!0),
            (Boolean(r?.nSaleTagID) || Boolean(r?.strContentHubType)) &&
              i.Body().set_store_page_filter(h(r));
          const s = await l.nd.GetDiscoveryQueue(this.m_transport, i),
            o = s.GetEResult();
          if (1 == o) {
            const t = s.Body().toObject();
            this.m_mapDiscoveryQueues.set(n, t),
              t.exhausted
                ? this.m_setExhuasted.has(n) ||
                  (this.m_setExhuasted.add(n),
                  this.GetExhaustedCallback(e, r).Dispatch(!0))
                : this.m_setExhuasted.has(n) &&
                  (this.m_setExhuasted.delete(n),
                  this.GetExhaustedCallback(e, r).Dispatch(!1)),
              this.m_mapSkippedAppCount.set(n, t.skipped || 0);
          } else
            console.warn(
              "Error",
              o,
              "failed to get discovery queue type",
              e,
              "key",
              n,
            );
          return o;
        }
        async GetDiscoveryQueueAppsOfType(e, t, r) {
          const n = p(e, r);
          return (
            (!t && this.m_mapDiscoveryQueues.has(n)) ||
              (await this.LoadDiscoveryQueue(e, t, r)),
            {
              appids: this.m_mapDiscoveryQueues.get(n).appids,
              exhausted: this.m_mapDiscoveryQueues.get(n).exhausted,
            }
          );
        }
        async SkipDiscoveryQueueItem(e, t, r) {
          p(t, r);
          const n = this.GetSkippedAppKey(e, t, r);
          if (!this.m_mapSkippedApps.has(n)) {
            const i = p(t, r),
              s = this.m_mapDiscoveryQueues.get(i).appids,
              o = s[s.length - 1] == e;
            this.m_mapSkippedApps.set(n, !0),
              this.m_mapSkippedAppCount.set(
                i,
                (this.m_mapSkippedAppCount.get(i) || 0) + 1,
              );
            const c = a.w.Init(l.fe);
            c.Body().set_appid(e),
              c.Body().set_queue_type(t),
              (Boolean(r?.nSaleTagID) || Boolean(r?.strContentHubType)) &&
                c.Body().set_store_page_filter(h(r));
            const u = (
              await l.nd.SkipDiscoveryQueueItem(this.m_transport, c)
            ).GetEResult();
            1 != u && 29 != u
              ? (console.warn("Error", u, "failed to skip appid ", e),
                this.m_mapSkippedApps.delete(n))
              : o && this.MarkDiscoveryQueueCompleted(t, r);
          }
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const r = p(e, t);
          if (this.m_mapInClientCompleted.has(r)) {
            const n = this.m_mapInClientCompleted.get(r) + 1;
            this.m_mapInClientCompleted.set(r, n),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(n);
          } else
            this.m_mapInClientCompleted.set(r, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        async LoadSkippedApps(e, t) {
          p(e, t);
          const r = a.w.Init(l.pS);
          r.Body().set_steamid(d.iA.steamid),
            r.Body().set_queue_type(e),
            (Boolean(t?.nSaleTagID) || Boolean(t?.strContentHubType)) &&
              r.Body().set_store_page_filter(h(t));
          const n = await l.nd.GetDiscoveryQueueSkippedApps(
            this.m_transport,
            r,
          );
          return 1 === n.GetEResult()
            ? n.Body().appids() || []
            : (console.warn(
                "Failed to retrieve skipped apps for discovery queue.",
                e,
                t,
                n.GetEResult(),
              ),
              []);
        }
        static s_DiscoveryQueueStore = null;
        static Init(e) {
          f.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(f.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new f()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (0, i.Gn)(this);
        }
      }
      function y(e, t) {
        const [r, n] = (0, s.useState)(
          f.Get().GetInClientCompletedQueues(e, t),
        );
        return (
          (0, u.hL)(f.Get().GetInClientCompletedQueuesCallback(e, t), n), r
        );
      }
      function w(e, t) {
        const [r, n] = (0, s.useState)(f.Get().BIsExhausted(e, t));
        return (0, u.hL)(f.Get().GetExhaustedCallback(e, t), n), r;
      }
      function b(e, t) {
        const r = (0, d.Tc)("discovery_queue_name", "application_config");
        return "string" == typeof r && r.length > 0 ? r : "";
      }
      (0, n.Cg)([i.sH], f.prototype, "m_mapDiscoveryQueues", void 0);
    },
    3734: (e, t, r) => {
      "use strict";
      r.d(t, { E2: () => p, PG: () => _ });
      var n = r(90626),
        i = r(20194),
        s = r(56545),
        a = r(94601),
        o = r(72839),
        l = r(16021),
        c = r(44332),
        u = r(23809);
      const m = n.createContext({}),
        d = () => n.useContext(m);
      function p(e) {
        let { defaultOptions: t, children: r } = e,
          i = n.useMemo(() => ({ defaultOptions: t || {} }), [t]);
        return n.createElement(m.Provider, { value: i }, r);
      }
      const h = "StoreQueryStore";
      function _(e, t, r, l) {
        let m = d();
        const p = (0, u.KV)();
        m || (0, c.w)(!1, "useStoreQuery called outside of a <StoreQueryRoot>");
        let _ = m.defaultOptions;
        const f = n.useMemo(() => {
          let e = [];
          return (
            l?.content_descriptors_excluded
              ? (e = l.content_descriptors_excluded)
              : _?.content_descriptors_excluded &&
                (e = _.content_descriptors_excluded),
            { ...t, filters: { content_descriptors_excluded: e, ...t.filters } }
          );
        }, [t, l, _]);
        let y;
        void 0 !== l?.override_country_code
          ? (y = l.override_country_code)
          : void 0 !== _?.override_country_code &&
            (y = _.override_country_code);
        let w = { staleTime: 36e5 };
        l?.reactQuery && (w = { ...w, ...l.reactQuery });
        const b = [h, f, r, l];
        return (0, i.I)({
          queryKey: b,
          queryFn: () =>
            (async function (e, t, r, n, i) {
              const l = s.w.Init(a.iU);
              (0, o.rV)(l), n && (0, o.Bn)(l, n);
              i && l.Body().set_override_country_code(i);
              l.Body().set_query(a.nu.fromObject(r)),
                l.Body().set_query_name(t);
              const c = await a.Fs.Query(e, l);
              if (1 != c.GetEResult())
                throw `Error executing StoreQuery "${t}", EResult: ${c.GetEResult()}`;
              return new g(c, n);
            })(p, e, f, r, y),
          ...w,
        });
      }
      class g {
        m_Items;
        m_rgItemIDs;
        m_metadata;
        constructor(e, t) {
          this.ReadResults(e, t);
        }
        GetItems() {
          return this.m_Items;
        }
        GetItemIDs() {
          return this.m_rgItemIDs;
        }
        GetMetadata() {
          return this.m_metadata;
        }
        ReadResults(e, t) {
          this.m_Items ||
            ((0, c.w)(
              0 == e.Body().metadata().start(),
              "Empty item list - expected to start at 0",
            ),
            (this.m_Items = []));
          const r = e.Body().ids() || [];
          if (
            ((this.m_rgItemIDs = r.map((e) => e.toObject())),
            e.Body().store_items())
          )
            for (const r of e.Body().store_items())
              this.m_Items.push(l.A.Get().ReadItem(r, t));
          this.m_metadata = e.Body().metadata().toObject();
        }
      }
    },
    95034: (e, t, r) => {
      "use strict";
      r.d(t, {
        Bm: () => o,
        QD: () => c,
        f3: () => s,
        iV: () => m,
        ip: () => u,
        le: () => l,
      });
      var n = r(90626),
        i = r(92757);
      function s(e, t) {
        let r;
        "string" == typeof e
          ? (r = e)
          : "location" in e
            ? (r = e.location.search)
            : "search" in e && (r = e.search);
        const n = new URLSearchParams(r.substring(1));
        if (n.has(t)) {
          const e = n.getAll(t);
          return e[e.length - 1];
        }
      }
      const a = (e) => null != e;
      function o(e, t, r, n = !1) {
        const i = new URLSearchParams(e.location.search.substring(1));
        if (a(r)) {
          if (i.get(t) == r) return;
          i.set(t, r);
        } else {
          if (!i.has(t)) return;
          i.delete(t);
        }
        n
          ? e.replace(`?${i.toString()}`, { ...e.location.state })
          : e.push(`?${i.toString()}`);
      }
      function l(e, t, r) {
        o(e, t, r, !0);
      }
      function c(e, t) {
        const r = (0, i.W6)(),
          l = (0, i.zy)(),
          c = (0, n.useMemo)(() => {
            const r = s(l.search, e);
            return a(r)
              ? a(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== r)
                  : t.constructor(r)
                : r
              : t;
          }, [l.search, e, t]),
          u = (0, n.useCallback)(
            (t, n = !1) => {
              o(r, e, a(t) ? String(t) : null, n);
            },
            [r, e],
          );
        return [c, u];
      }
      function u(e, t, r = !1) {
        const n = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const r = t[e];
            n.delete(e), a(r) && n.append(e, r);
          }
        r
          ? e.replace(`?${n.toString()}`, { ...e.location.state })
          : e.push(`?${n.toString()}`);
      }
      function m(e, t) {
        u(e, t, !0);
      }
    },
    60801: (e, t, r) => {
      "use strict";
      r.d(t, { X: () => f });
      var n = r(90626),
        i = r(76217),
        s = r(61088),
        a = r.n(s),
        o = r(12155),
        l = r(2627),
        c = r(61859),
        u = r(7068),
        m = r(52038),
        d = r(79359),
        p = r(78327);
      const h = new (r(60778).wd)("TrailerAppVideo"),
        _ = "bGameHighlightAutoplayDisabled",
        g = "discovery-queue-volume";
      function f(e) {
        const {
            storeItem: t,
            bCurrentlyActive: r,
            bImageOnly: s,
            bSkipMicroTrailer: f,
            autoPlayCookieName: w,
            showScreenshotInsteadOfMainCap: b,
            nFadeRatio: S,
            fnPlayPause: v,
            fnComplete: C,
            bLoopVideo: I,
          } = e,
          B = n.useRef(),
          E = n.useRef(),
          T = n.useRef(),
          [R, A] = n.useState(!0),
          [M, D] = n.useState(!1),
          [G, F] = n.useState(!1),
          [N, k] = (0, d.M)(g),
          [L, O] = n.useState(0),
          [U, P] = n.useState(!1);
        n.useEffect(() => {
          if (r) {
            const e = (0, l.VY)(w ?? _),
              t = !(!e || "true" !== e.toLowerCase());
            A(t), D(!0), F(t);
          }
          return () => D(!1);
        }, [w, r]),
          n.useEffect(() => {
            if (E.current) {
              const e = 0.8;
              (E.current.volume = (N ?? e) * (S ?? 1)),
                (E.current.muted = null == N || N <= 0 || U);
            }
          }, [N, S, U]);
        const q = n.useCallback(() => {
            O(0),
              B.current && (B.current.pause(), (B.current.currentTime = 0)),
              E.current && (E.current.pause(), (E.current.currentTime = 0));
          }, []),
          W = n.useCallback(() => {
            O(2),
              P(!1),
              E.current &&
                (E.current.play().catch((e) => {
                  "NotAllowedError" === e.name
                    ? (P(!0),
                      h.Debug("Failed to play trailer, trying again muted"),
                      (E.current.muted = !0),
                      E.current
                        .play()
                        .catch((e) =>
                          h.Warning("Failed to play main trailer: ", e),
                        ))
                    : h.Warning("Failed to play main trailer: ", e);
                }),
                (E.current.onended = C));
          }, [C]),
          x = n.useCallback(() => {
            0 === L &&
              (O(1),
              f
                ? W()
                : B.current &&
                  (B.current
                    .play()
                    .catch((e) =>
                      h.Warning("Failed to play microtrailer: ", e),
                    ),
                  (B.current.onended = W)));
          }, [f, L, W]),
          z = n.useCallback(
            (e) => {
              (0, l.lc)(w ?? _, String(!e), 3650), A(!e), e || q();
            },
            [w, q],
          );
        n.useEffect(() => {
          M && r && !s && !R && B.current && x(), r || q();
        }, [r, s, R, M, x, q]);
        const Q = n.useCallback(() => {
          const e =
            0 === L ||
            (1 === L && B.current?.paused) ||
            (2 === L && E.current?.paused);
          F(e), v(!R && e);
        }, [R, L, v]);
        y(B, Q), y(E, Q);
        const j = t?.GetMicroTrailer();
        let H = null;
        t?.GetAllTrailers().BHasTrailers() &&
          (H = t.GetAllTrailers().GetHighlightTrailers()[0]);
        const Z = (0, n.useCallback)(
            (e) => {
              if (S && S < 1) return;
              if (U) return;
              const t = e.target,
                r = t.muted ? 0 : t.volume;
              (void 0 === N || Math.abs(N - r) > Number.EPSILON) &&
                (h.Debug("Saving volume to storage", r), k(r));
            },
            [U, N, S, k],
          ),
          V = (0, n.useCallback)(() => {
            0 == L
              ? x()
              : 1 == L && B.current
                ? B.current.paused
                  ? B.current.play()
                  : B.current.pause()
                : 2 == L &&
                  E.current &&
                  (E.current.paused ? E.current.play() : E.current.pause());
          }, [L, x]);
        if (!t.BIsVisible()) return null;
        const Y = { [e.autoplayCheckboxPosition || "top"]: 0 };
        let K = null;
        K =
          2 == L
            ? a().PlayFullTrailer
            : 1 == L
              ? a().PlayMicrotrailer
              : a().NoTrailer;
        const X = (I ?? !0) && !C,
          J =
            b && t.BHasAgeSafeScreenshots()
              ? t.GetOnlyAllAgesSafeScreenshots()[0]
              : t.GetAssets().GetMainCapsuleURL();
        return n.createElement(
          i.Z,
          { className: a().AppCarouselTrailerCtn },
          n.createElement("img", {
            ref: T,
            className: (0, m.A)(a().AppMainCap, 0 != L && a().Hidden),
            src: J,
          }),
          !s &&
            t.GetAllTrailers().BHasTrailers() &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                {
                  onClick: (e) => {
                    e.preventDefault(), e.stopPropagation();
                  },
                  className: a().AutoplayCheckboxCtn,
                },
                n.createElement(u.Yh, {
                  controlled: !0,
                  checked: !R,
                  key: t.GetAppID(),
                  className: a().AutoplayCheckbox,
                  style: Y,
                  label: (0, c.we)("#StoreTrailer_AutoPlayVideos"),
                  onChange: z,
                }),
              ),
              G &&
                n.createElement(
                  i.Z,
                  { focusable: !0, onClick: V, className: a().PlayButton },
                  n.createElement(o.IOc, null),
                ),
              j &&
                n.createElement(
                  "video",
                  {
                    className: (0, m.A)(a().AppVideo, K, "Microtrailer"),
                    ref: B,
                    preload: "auto",
                    playsInline: !0,
                    muted: !0,
                    onClick: V,
                  },
                  n.createElement("source", {
                    src: j.strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.TS.IN_CLIENT) &&
                    n.createElement("source", {
                      src: j.strMP4URL,
                      type: "video/mp4",
                    }),
                ),
              H &&
                n.createElement(
                  "video",
                  {
                    className: (0, m.A)(a().AppVideo, K, "Trailer"),
                    ref: E,
                    onVolumeChange: Z,
                    muted: !(N > 0),
                    preload: "auto",
                    playsInline: !0,
                    loop: X,
                    controls: !0,
                  },
                  n.createElement("source", {
                    src: H.GetTrailer480p().strWebMURL,
                    type: "video/webm",
                  }),
                  Boolean(!p.TS.IN_CLIENT) &&
                    n.createElement("source", {
                      src: H.GetTrailer480p().strMP4URL,
                      type: "video/mp4",
                    }),
                ),
            ),
        );
      }
      function y(e, t) {
        n.useEffect(() => {
          const r = e.current;
          return (
            r?.addEventListener("play", t),
            r?.addEventListener("pause", t),
            () => {
              r?.removeEventListener("play", t),
                r?.removeEventListener("pause", t);
            }
          );
        }, [e, t]);
      }
    },
    32885: (e, t, r) => {
      "use strict";
      r.d(t, { v: () => j });
      var n = r(90626),
        i = r(20194),
        s = r(45699),
        a = r(76217),
        o = r(1035),
        l = r(34181),
        c = r(17720),
        u = r(4796),
        m = r(67165),
        d = r(30894),
        p = r(16021),
        h = r(26101),
        _ = r(12155),
        g = r(52038),
        f = r(61859),
        y = r(60778),
        w = r(56545),
        b = r(80613),
        S = r(89068);
      const v = b.Message;
      class C extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.recommendationid || S.Sg(C.M()),
            v.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  review_text: {
                    n: 2,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  voted_up: { n: 3, br: S.qM.readBool, bw: S.gp.writeBool },
                  is_public: { n: 4, br: S.qM.readBool, bw: S.gp.writeBool },
                  language: { n: 5, br: S.qM.readString, bw: S.gp.writeString },
                  is_in_early_access: {
                    n: 6,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  received_compensation: {
                    n: 7,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  comments_disabled: {
                    n: 8,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  hide_in_steam_china: {
                    n: 9,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = S.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new C();
          return C.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Request";
        }
      }
      class I extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), v.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new I();
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new I();
          return I.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Response";
        }
      }
      class B extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.reaction_type || S.Sg(B.M()),
            v.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: {
                  reaction_type: {
                    n: 1,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  count: { n: 2, br: S.qM.readUint32, bw: S.gp.writeUint32 },
                },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = S.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new B();
          return B.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Recommendation_LoyaltyReaction";
        }
      }
      class E extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.recommendationid || S.Sg(E.M()),
            v.initialize(this, e, 0, -1, [27, 40], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  steamid: {
                    n: 2,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  appid: { n: 3, br: S.qM.readUint32, bw: S.gp.writeUint32 },
                  review: { n: 4, br: S.qM.readString, bw: S.gp.writeString },
                  time_created: {
                    n: 5,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  time_updated: {
                    n: 6,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  votes_up: { n: 7, br: S.qM.readUint32, bw: S.gp.writeUint32 },
                  votes_down: {
                    n: 8,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  vote_score: { n: 9, br: S.qM.readFloat, bw: S.gp.writeFloat },
                  language: {
                    n: 10,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  comment_count: {
                    n: 11,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  voted_up: { n: 12, br: S.qM.readBool, bw: S.gp.writeBool },
                  is_public: { n: 13, br: S.qM.readBool, bw: S.gp.writeBool },
                  moderator_hidden: {
                    n: 14,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  flagged_by_developer: {
                    n: 15,
                    br: S.qM.readEnum,
                    bw: S.gp.writeEnum,
                  },
                  report_score: {
                    n: 16,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  steamid_moderator: {
                    n: 17,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  steamid_developer: {
                    n: 18,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  steamid_dev_responder: {
                    n: 19,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  developer_response: {
                    n: 20,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  time_developer_responded: {
                    n: 21,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  developer_flag_cleared: {
                    n: 22,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  written_during_early_access: {
                    n: 23,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  votes_funny: {
                    n: 24,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  received_compensation: {
                    n: 25,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  unverified_purchase: {
                    n: 26,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  review_qualities: {
                    n: 27,
                    r: !0,
                    q: !0,
                    br: S.qM.readEnum,
                    pbr: S.qM.readPackedEnum,
                    bw: S.gp.writeRepeatedEnum,
                  },
                  weighted_vote_score: {
                    n: 28,
                    br: S.qM.readFloat,
                    bw: S.gp.writeFloat,
                  },
                  moderation_note: {
                    n: 29,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  payment_method: {
                    n: 30,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  playtime_2weeks: {
                    n: 31,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  playtime_forever: {
                    n: 32,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  last_playtime: {
                    n: 33,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  comments_disabled: {
                    n: 34,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  playtime_at_review: {
                    n: 35,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  approved_for_china: {
                    n: 36,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  ban_check_result: {
                    n: 37,
                    br: S.qM.readEnum,
                    bw: S.gp.writeEnum,
                  },
                  refunded: { n: 38, br: S.qM.readBool, bw: S.gp.writeBool },
                  account_score_spend: {
                    n: 39,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                  reactions: { n: 40, c: B, r: !0, q: !0 },
                  ipaddress: {
                    n: 41,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  hidden_in_steam_china: {
                    n: 42,
                    br: S.qM.readBool,
                    bw: S.gp.writeBool,
                  },
                  steam_china_location: {
                    n: 43,
                    br: S.qM.readString,
                    bw: S.gp.writeString,
                  },
                  category_ascii_pct: {
                    n: 44,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  category_meme_pct: {
                    n: 45,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  category_offtopic_pct: {
                    n: 46,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  category_uninformative_pct: {
                    n: 47,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  category_votefarming_pct: {
                    n: 48,
                    br: S.qM.readUint32,
                    bw: S.gp.writeUint32,
                  },
                  deck_playtime_at_review: {
                    n: 49,
                    br: S.qM.readInt32,
                    bw: S.gp.writeInt32,
                  },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = S.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new E();
          return E.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "RecommendationDetails";
        }
      }
      class T extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            T.prototype.appid || S.Sg(T.M()),
            v.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            T.sm_m ||
              (T.sm_m = {
                proto: T,
                fields: {
                  appid: { n: 1, br: S.qM.readUint32, bw: S.gp.writeUint32 },
                },
              }),
            T.sm_m
          );
        }
        static MBF() {
          return T.sm_mbf || (T.sm_mbf = S.w0(T.M())), T.sm_mbf;
        }
        toObject(e = !1) {
          return T.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(T.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(T.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new T();
          return T.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(T.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return T.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(T.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return T.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Request";
        }
      }
      class R extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            R.prototype.accountids_recommended || S.Sg(R.M()),
            v.initialize(this, e, 0, -1, [1, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            R.sm_m ||
              (R.sm_m = {
                proto: R,
                fields: {
                  accountids_recommended: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: S.qM.readUint32,
                    pbr: S.qM.readPackedUint32,
                    bw: S.gp.writeRepeatedUint32,
                  },
                  accountids_not_recommended: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: S.qM.readUint32,
                    pbr: S.qM.readPackedUint32,
                    bw: S.gp.writeRepeatedUint32,
                  },
                },
              }),
            R.sm_m
          );
        }
        static MBF() {
          return R.sm_mbf || (R.sm_mbf = S.w0(R.M())), R.sm_mbf;
        }
        toObject(e = !1) {
          return R.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(R.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(R.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new R();
          return R.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(R.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return R.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(R.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return R.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Response";
        }
      }
      class A extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            A.prototype.requests || S.Sg(A.M()),
            v.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            A.sm_m ||
              (A.sm_m = {
                proto: A,
                fields: { requests: { n: 1, c: M, r: !0, q: !0 } },
              }),
            A.sm_m
          );
        }
        static MBF() {
          return A.sm_mbf || (A.sm_mbf = S.w0(A.M())), A.sm_mbf;
        }
        toObject(e = !1) {
          return A.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(A.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(A.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new A();
          return A.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(A.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return A.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(A.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return A.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request";
        }
      }
      class M extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            M.prototype.steamid || S.Sg(M.M()),
            v.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            M.sm_m ||
              (M.sm_m = {
                proto: M,
                fields: {
                  steamid: {
                    n: 1,
                    br: S.qM.readUint64String,
                    bw: S.gp.writeUint64String,
                  },
                  appid: { n: 2, br: S.qM.readUint32, bw: S.gp.writeUint32 },
                },
              }),
            M.sm_m
          );
        }
        static MBF() {
          return M.sm_mbf || (M.sm_mbf = S.w0(M.M())), M.sm_mbf;
        }
        toObject(e = !1) {
          return M.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(M.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(M.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new M();
          return M.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(M.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return M.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(M.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return M.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request_RecommendationRequest";
        }
      }
      class D extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            D.prototype.recommendations || S.Sg(D.M()),
            v.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            D.sm_m ||
              (D.sm_m = {
                proto: D,
                fields: { recommendations: { n: 1, c: E, r: !0, q: !0 } },
              }),
            D.sm_m
          );
        }
        static MBF() {
          return D.sm_mbf || (D.sm_mbf = S.w0(D.M())), D.sm_mbf;
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return S.BT(D.M(), e, t);
        }
        static fromObject(e) {
          return S.Uq(D.M(), e);
        }
        static deserializeBinary(e) {
          let t = new b.BinaryReader(e),
            r = new D();
          return D.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return S.zj(D.MBF(), e, t);
        }
        serializeBinary() {
          var e = new b.BinaryWriter();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          S.i0(D.M(), e, t);
        }
        serializeBase64String() {
          var e = new b.BinaryWriter();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Response";
        }
      }
      var G;
      !(function (e) {
        (e.Update = function (e, t) {
          return e.SendMsg("UserReviews.Update#1", (0, w.I8)(C, t), I, {
            ePrivilege: 3,
          });
        }),
          (e.GetFriendsRecommendedApp = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetFriendsRecommendedApp#1",
              (0, w.I8)(T, t),
              R,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetIndividualRecommendations = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetIndividualRecommendations#1",
              (0, w.I8)(A, t),
              D,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          });
      })(G || (G = {}));
      var F = r(41735),
        N = r.n(F),
        k = r(23809),
        L = r(3734),
        O = r(78327);
      class U {
        static async LoadFriendsRecommendedApp(e, t) {
          const r = w.w.Init(T);
          r.Body().set_appid(t);
          const n = await G.GetFriendsRecommendedApp(e, r),
            i = n.GetEResult();
          if (1 == i) return n.Body().toObject();
          throw `Error ${i} failed to call GetFriendsRecommendedApp ${t}`;
        }
        static async LoadStoreRelevanceData(e) {
          let t = { appid: e },
            r = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
          const n = (
            await N().get(
              `${O.TS.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )
          ).data;
          return (
            n &&
              1 == n.success &&
              (n.results.similar_played_apps &&
                (r.arrSimilarPlayedApps = n.results.similar_played_apps.map(
                  (e) => ({
                    appid: e.appid,
                    playtimeForever: e.playtime_forever,
                  }),
                )),
              n.results.recommended_by_ir && (r.bRecommendedByIR = !0)),
            r
          );
        }
      }
      var P = r(22797),
        q = r(57834),
        W = r.n(q),
        x = r(14336),
        z = r(26505);
      const Q = new y.wd("AppRelevance").Debug;
      function j(e) {
        const {
            appID: t,
            bShowAvatars: r,
            storeItem: s,
            bHideDescription: a,
            bShowCuratorInfo: o,
            bShowCreatorInfo: l,
          } = e,
          m = (0, z.Nd)(t),
          h = (function (e) {
            const t = (0, k.KV)();
            return (0, i.I)({
              queryKey: ["AppRelevanceStore", "FriendsRecommended", e],
              queryFn: () => U.LoadFriendsRecommendedApp(t, e),
              enabled: O.iA.logged_in,
            });
          })(t),
          _ = (function (e) {
            return (0, i.I)({
              queryKey: ["AppRelevanceStore", "StoreRelevance", e],
              queryFn: () => U.LoadStoreRelevanceData(e),
              enabled: O.iA.logged_in,
            });
          })(t),
          y = (function () {
            const { data: e } = (0, L.PG)("App Relevance Store Top Sellers", {
              sort: 11,
              start: 0,
              count: 100,
            });
            return e;
          })(),
          w = (0, i.I)({
            queryKey: ["SimilarPlayedAppsLoad", t],
            queryFn: () =>
              p.A.Get().QueueMultipleAppRequests(
                _.data.arrSimilarPlayedApps?.map((e) => e.appid),
                { include_basic_info: !0, include_assets: !0 },
              ),
            enabled: _.isSuccess,
          }),
          b = (function (e, t) {
            const r = (0, n.useMemo)(
              () => d.Fm.Get().GetRecommendingCuratorsForApp(e) || [],
              [e],
            );
            return (0, i.I)({
              queryKey: ["RecommendingCurators", e],
              queryFn: () =>
                Promise.all(
                  r?.map((e) => u.ac.LoadClanInfoForClanAccountID(e)),
                ),
              enabled: !!t && r && r.length > 0,
            });
          })(t, o),
          S = (0, n.useMemo)(() => {
            let e = [];
            return (
              s &&
                ((e = e.concat(
                  s
                    .GetAllFranchiseCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "franchise" })),
                )),
                (e = e.concat(
                  s
                    .GetAllDeveloperCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "developer" })),
                )),
                (e = e.concat(
                  s
                    .GetAllPublisherCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "publisher" })),
                )),
                (e = e.filter((e) =>
                  d.Fm.Get().BIsFollowingCurator(e.nAccountID),
                ))),
              e
            );
          }, [s]),
          v = (0, i.I)({
            queryKey: ["FollowedCreators", t],
            queryFn: () =>
              u.ac
                .LoadClanInfoForClanAccountID(S[0].nAccountID)
                .then((e) => ({ clanInfo: e, type: S[0].type })),
            enabled: !!l && S && S.length > 0,
          }),
          C = (0, i.I)({
            queryKey: ["PlayerSummaries", t, r],
            queryFn: async () => {
              let e = [],
                t = [],
                n = [];
              const i = r ? 10 : 1;
              for (
                let t = 0;
                t < h.data.accountids_recommended?.length && t < i;
                t++
              ) {
                const r = c.b.InitFromAccountID(
                  h.data.accountids_recommended[t],
                );
                e.push(r.ConvertTo64BitString());
              }
              for (let e = 0; e < m.data.in_wishlist?.length && e < i; e++) {
                const r = new c.b(m.data.in_wishlist[e].steamid);
                t.push(r.ConvertTo64BitString());
              }
              for (let e = 0; e < m.data.owns?.length && e < i; e++) {
                const t = new c.b(m.data.owns[e].steamid);
                n.push(t.ConvertTo64BitString());
              }
              return {
                rgRecommendedFriends: e,
                rgWishlistFriends: t,
                rgOwnedFriends: n,
              };
            },
            enabled: h.isSuccess && m.isSuccess,
          });
        if (
          !y ||
          w.isLoading ||
          _.isLoading ||
          h.isLoading ||
          m.isLoading ||
          b.isLoading ||
          v.isLoading ||
          C.isLoading
        )
          return n.createElement(P.t, { size: "medium", position: "center" });
        let I = [];
        _.isSuccess &&
          _.data.arrSimilarPlayedApps &&
          _.data.arrSimilarPlayedApps.forEach((e) => {
            const r = p.A.Get().GetApp(e.appid);
            r
              ? I.push(
                  n.createElement(V, {
                    key: e.appid,
                    lifetimePlaytime: e.playtimeForever,
                    storeItem: r,
                  }),
                )
              : console.error("Failed to load store data ", t);
          });
        const B = y.GetItemIDs().findIndex((e) => e.appid === t),
          E = _.data?.bRecommendedByIR,
          T = I.length > 0,
          R = m.data?.owns?.length,
          A = m.data?.in_wishlist?.length,
          M = h.data?.accountids_recommended?.length;
        let D = 0;
        return (
          R > 0 && D++,
          A > 0 && D++,
          M > 0 && D++,
          E && D++,
          B >= 0 && D++,
          I.length > 0 && D++,
          o && b?.data?.length > 0 && D++,
          l && Boolean(v.data) && D++,
          Q(
            "FriendsOwned: ",
            R,
            " FriendsWishlisted: ",
            A,
            "cRecommended: ",
            M,
          ),
          n.createElement(
            n.Fragment,
            null,
            D > 0 &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: W().WhyRelevant },
                  (0, f.we)("#DiscoveryQueue_WhyRelevant"),
                ),
                n.createElement(
                  "div",
                  { className: W().RelevantCtn },
                  T &&
                    n.createElement(
                      $,
                      { header: (0, f.we)("#DiscoveryQueue_SimilarGames") },
                      n.createElement(
                        "div",
                        { className: W().ReleventSimilarAppsCtn },
                        I,
                      ),
                    ),
                  o &&
                    b?.data?.length > 0 &&
                    n.createElement(
                      $,
                      {
                        header: (0, f.we)(
                          "#ContentHub_Recommendation_Curators",
                        ),
                      },
                      n.createElement(
                        "div",
                        {
                          className: (0, g.A)(
                            W().ReleventSimilarAppsCtn,
                            W().RecommendingCuratorsCtn,
                          ),
                        },
                        b.data
                          .filter(Boolean)
                          .map((e) =>
                            n.createElement(Z, {
                              key: "curator_" + e.clanAccountID,
                              curator: e,
                            }),
                          ),
                      ),
                    ),
                  l &&
                    Boolean(v.data) &&
                    n.createElement(H, { creatorInfo: v.data }),
                  B >= 0 &&
                    n.createElement($, {
                      header: (0, f.um)(
                        "#DiscoveryQueue_TopSellers",
                        (B + 1).toLocaleString(),
                        n.createElement("span", {
                          className: W().RelevantTextBold,
                        }),
                      ),
                    }),
                  E &&
                    !T &&
                    n.createElement($, {
                      header: (0, f.we)("#DiscoveryQueue_RecommendedByIR"),
                    }),
                  n.createElement(Y, {
                    bShowAvatars: r,
                    count: h.data?.accountids_recommended?.length,
                    locToken: "#DiscoveryQueue_FriendsRecommended",
                    arrSteamIDs: C.data?.rgRecommendedFriends,
                  }),
                  n.createElement(Y, {
                    bShowAvatars: r,
                    count: m.data?.owns?.length,
                    locToken: "#DiscoveryQueue_FriendsOwned",
                    arrSteamIDs: C.data?.rgOwnedFriends,
                  }),
                  n.createElement(Y, {
                    bShowAvatars: r,
                    count: m.data?.in_wishlist?.length,
                    locToken: "#DiscoveryQueue_FriendsWishlisted",
                    arrSteamIDs: C.data?.rgWishlistFriends,
                  }),
                ),
              ),
            (!a || 0 == D) &&
              n.createElement(
                "div",
                { className: (0, g.A)(W().AppDescription, D && W().Divider) },
                s.GetShortDescription(),
              ),
          )
        );
      }
      function H(e) {
        const { creatorInfo: t } = e;
        if (!t) return null;
        let r;
        switch (t.type) {
          case "publisher":
            r = "#ContentHub_Recommendation_FollowedPublisher";
            break;
          case "developer":
            r = "#ContentHub_Recommendation_FollowedDeveloper";
            break;
          case "franchise":
            r = "#ContentHub_Recommendation_FollowedFranchise";
        }
        return r
          ? n.createElement($, {
              header: (0, f.PP)(
                r,
                n.createElement(
                  "span",
                  { className: W().RelevantTextBold },
                  t.clanInfo?.group_name,
                ),
              ),
            })
          : null;
      }
      function Z(e) {
        const { curator: t } = e,
          r = (0, m.FV)(t?.clanAccountID);
        return t && r
          ? n.createElement(
              s.Ii,
              { href: r.GetCreatorHomeURL(null) },
              n.createElement("img", { src: t.avatar_medium_url }),
            )
          : null;
      }
      function V(e) {
        const { lifetimePlaytime: t, storeItem: r } = e;
        return n.createElement(
          "div",
          { className: W().SimilarAppCtn },
          n.createElement(
            h.Qf,
            {
              item: { type: "game", id: r.GetAppID() },
              bHidePrice: !0,
              hoverProps: {
                direction: "overlay",
                nBodyAlignment: 1,
                style: { minWidth: "320px", zIndex: 5e3 },
              },
            },
            n.createElement("img", {
              className: W().SimilarAppImg,
              src: r.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
        );
      }
      function Y(e) {
        const { arrSteamIDs: t, count: r, locToken: i, bShowAvatars: s } = e;
        return r
          ? 1 != r || s
            ? n.createElement(
                $,
                {
                  header: (0, f.um)(
                    i,
                    r,
                    n.createElement("span", {
                      className: W().RelevantTextBold,
                    }),
                  ),
                },
                s &&
                  t.length > 0 &&
                  n.createElement(
                    "div",
                    { className: W().FriendAvatarsCtn },
                    1 == r
                      ? n.createElement(J, { steamid: t[0] })
                      : n.createElement(X, { arrSteamIDs: t }),
                  ),
              )
            : n.createElement($, {
                header: (0, f.PP)(
                  i + "_Single",
                  n.createElement(K, { steamid: t[0] }),
                ),
              })
          : null;
      }
      function K(e) {
        const { steamid: t } = e,
          { data: r } = (0, x.js)(t);
        return r && r.m_bInitialized
          ? n.createElement(
              "span",
              {
                "data-miniprofile": "s" + r.m_steamid.ConvertTo64BitString(),
                className: W().RelevantTextBold,
              },
              r.m_strPlayerName,
            )
          : null;
      }
      function X(e) {
        const { arrSteamIDs: t } = e,
          r = (0, x.DW)(t);
        return n.createElement(
          n.Fragment,
          null,
          r.map(
            ({ data: e }) =>
              e &&
              n.createElement(o.i8, {
                key: e.m_steamid.ConvertTo64BitString(),
                "data-miniprofile": "s" + e.m_steamid.ConvertTo64BitString(),
                persona: e,
                size: "Small",
                statusPosition: "right",
              }),
          ),
        );
      }
      function J(e) {
        const { steamid: t } = e,
          { data: r } = (0, x.js)(t);
        return r
          ? n.createElement(
              a.Z,
              { className: W().FriendBlockCtn, "data-miniprofile": "s" + t },
              n.createElement(o.i8, {
                persona: r,
                size: "Small",
                statusPosition: "right",
              }),
              n.createElement(l.D, {
                className: W().PersonaStatus,
                persona: r,
                eFriendRelationship: 3,
                bIsSelf: !1,
                strNickname: null,
                bParenthesizeNicknames: !1,
                bCompactView: !1,
                bNoMask: !0,
              }),
            )
          : null;
      }
      function $(e) {
        const { children: t, header: r } = e;
        return n.createElement(
          "div",
          { className: W().RelevantItem },
          n.createElement(
            "div",
            { className: W().RelevantCheck },
            n.createElement(_.Jlk, null),
          ),
          n.createElement(
            "div",
            { className: W().RelevantColumn },
            n.createElement("div", { className: W().ReleventText }, r),
            t,
          ),
        );
      }
    },
    57315: (e, t, r) => {
      "use strict";
      r.d(t, { _: () => s });
      var n = r(55963),
        i = r(61336);
      function s(e, t) {
        const r = (0, n.VZ)(e, t);
        return (0, i.NT)(r);
      }
    },
    35391: (e, t, r) => {
      "use strict";
      r.d(t, { jM: () => he, LB: () => me, lS: () => ue });
      var n = r(90626),
        i = r(73860),
        s = r(45699),
        a = r(7445),
        o = r(76217),
        l = r(37788),
        c = r(1977),
        u = r(30894),
        m = r(56545),
        d = r(72034),
        p = r(58222),
        h = r(78327);
      class _ {
        m_transport = void 0;
        m_dateSaleStart = new Date("2024-06-27T17:00:00Z");
        m_dateSaleEnd = new Date("2024-07-11T17:00:00Z");
        BIsSaleActive() {
          Date.now();
          return !1;
        }
        async GetNumTradingCardsEarned() {
          this.LazyInitTransport();
          const e = { earned_today: 0, earned_lifetime: 0, eresult: 2 },
            t = Date.now(),
            r =
              864e5 * Math.floor((t - this.m_dateSaleStart.getTime()) / 864e5) +
              this.m_dateSaleStart.getTime(),
            n = m.w.Init(p.qc);
          let i = await p.uy.GetNumTradingCardsEarned(this.m_transport, n),
            s = i.GetEResult();
          return 1 !== s
            ? ((e.eresult = s), e)
            : ((e.earned_lifetime = i.Body().num_trading_cards()),
              n.Body().set_timestamp_start(r / 1e3),
              (i = await p.uy.GetNumTradingCardsEarned(this.m_transport, n)),
              (s = i.GetEResult()),
              1 != s
                ? ((e.eresult = s), e)
                : ((e.earned_today = i.Body().num_trading_cards()),
                  (e.eresult = 1),
                  e));
        }
        static s_Singleton;
        static Get() {
          return (
            _.s_Singleton ||
              ((_.s_Singleton = new _()),
              "dev" == h.TS.WEB_UNIVERSE &&
                (window.g_SeasonalSaleStore = _.s_Singleton)),
            _.s_Singleton
          );
        }
        LazyInitTransport() {
          if (!this.m_transport) {
            const e = (0, h.Tc)("loyalty_webapi_token", "application_config");
            "string" == typeof e
              ? (this.m_transport = new d.D(
                  h.TS.WEBAPI_BASE_URL,
                  e,
                ).GetServiceTransport())
              : console.error("CSeasonalSaleStore failed to load webapi token");
          }
        }
        constructor() {}
      }
      var g = r(16021),
        f = r(62093),
        y = r(34629),
        w = r(72739),
        b = r(73745),
        S = r(19719),
        v = r(79516),
        C = r(48399),
        I = r(53534),
        B = r(69381),
        E = r(60778),
        T = r(76011);
      const R = new E.wd("VirtualizedBoxCarousel").Debug,
        A = n.forwardRef(function (e, t) {
          const { name: r, initialColumn: i } = e,
            [s, a] = (0, T.SP)("VBC_" + r, i || 0),
            o = (0, h.Qn)();
          return n.createElement(M, {
            ...e,
            ref: t,
            focusedColumn: s,
            setFocusedColumn: a,
            autoHeight: !o,
          });
        });
      class M extends n.PureComponent {
        static defaultProps = {
          nIndexLeftmost: 0,
          scrollDuration: 100,
          scrollTiming: "sine",
          enableBumperPaging: !1,
          initialColumn: 0,
          bPlaySoundOnFailedScroll: !0,
        };
        state = { nContainerWidth: 0, nRightPadding: 0 };
        m_refContainer = n.createRef();
        m_refGrid = void 0;
        m_refGridElement = void 0;
        m_resizeObserver;
        m_scrollAnimation = null;
        m_mapRefs = new Map();
        m_iStart = 0;
        m_iEnd = 0;
        m_activeScrollTo = null;
        StartScrollAnimation(e, t, r, n, i) {
          let s = this.m_refGrid;
          if (s)
            if (i) {
              const s = this.m_refGridElement;
              R("StartScrollAnimation", r, n, i);
              let a = {
                msDuration: i,
                timing: this.props.scrollTiming,
                onComplete: () => this.OnAnimationScrollComplete(e, t, r, n),
              };
              this.m_scrollAnimation && this.m_scrollAnimation.End(),
                (this.m_scrollAnimation = new B.JV(s, { scrollLeft: n }, a)),
                this.m_scrollAnimation.Start();
            } else
              s.scrollToPosition({ scrollLeft: n, scrollTop: 0 }),
                this.OnAnimationScrollComplete(e, t, r, n);
        }
        RestoreScrollPosition(e) {
          this.StartScrollAnimation(
            I.pR.INVALID,
            0,
            "RestoreScrollPosition",
            e,
            0,
          );
        }
        m_timeout = void 0;
        SendScrollNotification(e) {
          this.m_timeout && window.clearTimeout(this.m_timeout);
          const t = this.props.fnOnScroll;
          this.m_timeout = window.setTimeout(() => {
            t && t(e), (this.m_timeout = void 0);
          }, 250);
        }
        OnAnimationScrollComplete(e, t, r, n) {
          w.unstable_batchedUpdates(() => {
            R("OnAnimationScrollComplete", r, n),
              this.SendScrollNotification(n);
            const i = this.m_mapRefs.get(r);
            i &&
              i.current &&
              (R("Sending focus to", r), i.current.TakeFocus(e)),
              this.props.setFocusedColumn(t),
              (this.m_scrollAnimation = null),
              (this.m_activeScrollTo = null);
          });
        }
        m_nTouchStartClientX = void 0;
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientX = e.touches[0].clientX);
        }
        OnTouchEnd(e) {
          this.m_nTouchStartClientX = void 0;
        }
        OnTouchMove(e) {
          if (!this.m_refGrid || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientX - e.touches[0].clientX;
          this.BlockMovementLeftPastFirstElement(e, t);
        }
        m_bMouseDown = !1;
        OnMouseDown(e) {
          this.m_bMouseDown = !0;
        }
        OnMouseUp(e) {
          this.m_bMouseDown = !1;
        }
        BlockMovementLeftPastFirstElement(e, t) {
          const r = this.m_refGrid.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.m_refGridElement.scrollLeft - r.scrollLeft + t < 0 &&
            e.cancelable &&
            (console.warn("Blocking touch scroll out of bounds"),
            e.cancelable && e.preventDefault());
        }
        SnapBackToFirstElement(e) {
          console.warn("Carousel out of bounds, scrolling back to", e),
            this.RestoreScrollPosition(e);
        }
        OnScroll(e) {
          const t = this.m_refGrid?.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.SendScrollNotification(e.scrollLeft),
            e.scrollLeft < Math.floor(t?.scrollLeft) &&
              this.SnapBackToFirstElement(t.scrollLeft),
            this.UpdateScrollArrows();
        }
        GetCellColumnWidth(e) {
          let { fnGetColumnWidth: t } = this.props,
            r = t(e.index) + this.props.nItemMarginX;
          return (
            e.index == this.props.nNumItems - 1 &&
              (r += this.state.nRightPadding),
            r
          );
        }
        OnItemFocused(e, t) {
          this.m_bMouseDown ||
            this.ScrollToItem(
              I.pR.INVALID,
              t,
              this.props.scrollToAlignment || "auto",
              void 0,
              0,
            );
        }
        CellRenderer(e) {
          const {
              fnGetColumnWidth: t,
              fnGetId: r,
              fnItemRenderer: i,
              nItemHeight: a,
              autoFocus: l,
            } = this.props,
            { key: c, columnIndex: u, style: m } = e,
            d = t(u),
            p = parseInt(m.left.toString()),
            h = r(u),
            _ = !this.m_mapRefs.has(h),
            g = this.m_mapRefs.get(h) || (0, s.b$)();
          return (
            this.m_mapRefs.set(h, g),
            n.createElement(
              o.Z,
              {
                key: c,
                navKey: c,
                navRef: g,
                focusable: !1,
                onGamepadDirection: this.OnGamepadDirection,
                autoFocus: l && u == this.props.focusedColumn && _,
                "data-id": h,
                onFocus: (e) => this.OnItemFocused(e, u),
                style: m,
              },
              i(u, d, a, p),
            )
          );
        }
        OnSectionRendered(e) {
          (this.m_iStart = e.columnStartIndex),
            (this.m_iEnd = e.columnStopIndex),
            R("Section rendered", this.m_iStart, this.m_iEnd),
            this.UpdateScrollArrows();
        }
        get alignment() {
          return this.props.scrollToAlignment || "start";
        }
        GetLastFocusableColumn() {
          let e = this.props.nNumItems - 1;
          if (this.props.fnDoesItemTakeFocus)
            for (
              ;
              !this.props.fnDoesItemTakeFocus(e) &&
              e > this.props.nIndexLeftmost;
            )
              e--;
          return R("LastFocusableColumn: ", e), e;
        }
        UpdateScrollArrows() {
          if (this.props.fnUpdateArrows) {
            const e = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.props.nIndexLeftmost,
              }),
              t = this.m_refGrid?.getOffsetForCell({
                alignment: this.props.scrollToAlignment,
                columnIndex: this.GetLastFocusableColumn(),
              }),
              r = Math.round(this.m_refGridElement?.scrollLeft),
              n =
                r != Math.floor(e?.scrollLeft) &&
                r != Math.round(e?.scrollLeft),
              i =
                r != Math.floor(t?.scrollLeft) &&
                r != Math.round(t?.scrollLeft);
            R(
              "ShowLeftArrow: ",
              n,
              e,
              " ShowRightArrow: ",
              i,
              t,
              " ScrollPos: ",
              r,
            ),
              this.props.fnUpdateArrows(n, i);
          }
        }
        BindGridObject(e) {
          if (
            (this.m_refGridElement &&
              (this.m_refGridElement.removeEventListener(
                "touchstart",
                this.OnTouchStart,
              ),
              this.m_refGridElement.removeEventListener(
                "touchend",
                this.OnTouchEnd,
              ),
              this.m_refGridElement.removeEventListener(
                "touchmove",
                this.OnTouchMove,
              ),
              this.m_refGridElement.removeEventListener(
                "mousedown",
                this.OnMouseDown,
              ),
              this.m_refGridElement.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              )),
            (this.m_refGrid = e),
            (this.m_refGridElement = void 0),
            this.m_refGrid)
          ) {
            const e = w.findDOMNode(this.m_refGrid);
            (this.m_refGridElement = e),
              e?.addEventListener("touchstart", this.OnTouchStart),
              e?.addEventListener("touchend", this.OnTouchEnd),
              e?.addEventListener("touchmove", this.OnTouchMove, {
                passive: !1,
              }),
              e?.addEventListener("mousedown", this.OnMouseDown),
              e?.addEventListener("mouseup", this.OnMouseUp);
            const t = window.getComputedStyle(e),
              r = parseInt(t.getPropertyValue("padding-right")) || 0,
              n = parseInt(t.getPropertyValue("scroll-padding-right")) || 0,
              i = Math.max(r, n);
            i != this.state.nRightPadding &&
              (R("Computed", i, "additional right padding"),
              this.setState({ nRightPadding: i }, () => {
                this.m_refGrid.recomputeGridSize({
                  columnIndex: this.props.nNumItems - 1,
                });
              }));
          }
        }
        componentDidMount() {
          this.m_refContainer.current &&
            ((this.m_resizeObserver = (0, b.Fd)(
              this.m_refContainer.current,
              this.OnResize,
            )),
            R(
              "componentDidMount Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({
              nContainerWidth: this.m_refContainer.current.clientWidth,
            }));
        }
        componentDidUpdate(e) {
          this.props.fnGetColumnWidth != e.fnGetColumnWidth &&
            (R("Column width function changes, recalculating sizes"),
            this.m_refGrid?.recomputeGridSize());
        }
        componentWillUnmount() {
          this.m_resizeObserver?.disconnect();
        }
        OnResize() {
          const e = this.m_refContainer.current.clientWidth;
          e != this.state.nContainerWidth &&
            (R(
              "OnResize Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({ nContainerWidth: e })),
            this.UpdateScrollArrows();
        }
        ScrollLeft(e) {
          const t = this.m_iEnd - this.m_iStart,
            r = (0, S.OQ)(
              this.props.focusedColumn - t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            n = this.alignment;
          return this.ScrollToItem(I.pR.INVALID, r, n, e);
        }
        ScrollRight(e) {
          const t = this.m_iEnd - this.m_iStart,
            r = (0, S.OQ)(
              this.props.focusedColumn + t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            n = this.alignment;
          return this.ScrollToItem(I.pR.INVALID, r, n, e);
        }
        ScrollToFirstChild() {
          return this.ScrollToItem(
            I.pR.INVALID,
            this.props.nIndexLeftmost,
            "auto",
          );
        }
        MoveLeft(e) {
          R("MoveLeft from", this.props.focusedColumn);
          let t = this.props.focusedColumn - 1;
          for (
            ;
            t != this.props.nIndexLeftmost - 1 &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);
          )
            t--;
          return t == this.props.nIndexLeftmost - 1
            ? (R("At left edge, not handling left gamepad"), !1)
            : (R("MoveLeft to", t),
              this.ScrollToItem(
                e ? e.detail.button : I.pR.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        MoveRight(e) {
          R("MoveRight from", this.props.focusedColumn);
          let t = this.props.focusedColumn + 1;
          for (
            ;
            t != this.props.nNumItems &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);
          )
            t++;
          return t == this.props.nNumItems
            ? (R("At right edge, not handling right gamepad"), !1)
            : (R("MoveRight to", t),
              this.ScrollToItem(
                e ? e.detail.button : I.pR.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        ScrollToItem(e, t, r, n, i) {
          if (
            this.m_activeScrollTo &&
            this.m_activeScrollTo.alignment === r &&
            this.m_activeScrollTo.iNewFocus === t
          )
            return !0;
          if (
            (R("ScrollToItem", t, r, n, i),
            t != this.props.focusedColumn &&
              this.m_refGrid &&
              (!this.props.fnDoesItemTakeFocus ||
                this.props.fnDoesItemTakeFocus(t)))
          ) {
            const s = this.m_refGrid.getOffsetForCell({
                alignment: r,
                columnIndex: t,
                rowIndex: 0,
              }),
              a = this.props.fnGetId(t);
            return (
              R("Scrolling to item", t, a, r, s.scrollLeft, i),
              (this.m_activeScrollTo = { iNewFocus: t, alignment: r }),
              this.props.fnOnFocusedColumnChange &&
                this.props.fnOnFocusedColumnChange(this.props.focusedColumn, t),
              this.StartScrollAnimation(
                e,
                t,
                a,
                s.scrollLeft,
                i ?? this.props.scrollDuration,
              ),
              n?.stopPropagation(),
              n?.preventDefault(),
              !0
            );
          }
          return !1;
        }
        OnGamepadButtonDown(e) {
          switch ((R("OnGamepadButtonDown", e.detail), e.detail.button)) {
            case I.pR.BUMPER_LEFT:
              return !!this.props.enableBumperPaging && this.ScrollLeft(e);
            case I.pR.BUMPER_RIGHT:
              return !!this.props.enableBumperPaging && this.ScrollRight(e);
          }
          return !1;
        }
        OnGamepadDirection(e) {
          switch ((R("OnGamepadDirection", e.detail), e.detail.button)) {
            case I.pR.DIR_LEFT:
              return this.MoveLeft(e);
            case I.pR.DIR_RIGHT:
              return this.MoveRight(e);
          }
          return !1;
        }
        render() {
          const {
              className: e,
              nNumItems: t,
              nIndexLeftmost: r,
              nHeight: i,
              nItemHeight: s,
              overscan: a = 3,
              scrollToAlignment: l,
              focusedColumn: c,
              autoHeight: u,
            } = this.props,
            m = this.state.nContainerWidth;
          return (
            R("Inner render", this.props.name, this.props.nNumItems, m, r, c),
            n.createElement(
              o.Z,
              {
                ref: this.m_refContainer,
                "flow-children": "row",
                onButtonDown: this.OnGamepadButtonDown,
                focusable: !1,
              },
              m &&
                n.createElement(C.xA, {
                  ref: this.BindGridObject,
                  className: e,
                  cellRenderer: this.CellRenderer,
                  onScroll: this.OnScroll,
                  onSectionRendered: this.OnSectionRendered,
                  columnCount: t,
                  columnWidth: this.GetCellColumnWidth,
                  overscanColumnCount: a,
                  overscanIndicesGetter: ({
                    cellCount: e,
                    overscanCellsCount: t,
                    startIndex: r,
                    stopIndex: n,
                  }) => ({
                    overscanStartIndex: Math.max(0, r - t),
                    overscanStopIndex: Math.min(e - 1, n + t),
                  }),
                  rowCount: 1,
                  rowHeight: s,
                  height: i,
                  width: m,
                  containerStyle: { overflow: "visible" },
                  scrollToAlignment: this.alignment,
                  scrollToColumn: c,
                  tabIndex: null,
                  autoHeight: u,
                }),
            )
          );
        }
      }
      (0, y.Cg)([b.oI], M.prototype, "RestoreScrollPosition", null),
        (0, y.Cg)([b.oI], M.prototype, "OnAnimationScrollComplete", null),
        (0, y.Cg)([b.oI], M.prototype, "OnTouchStart", null),
        (0, y.Cg)([b.oI], M.prototype, "OnTouchEnd", null),
        (0, y.Cg)([b.oI], M.prototype, "OnTouchMove", null),
        (0, y.Cg)([b.oI], M.prototype, "OnMouseDown", null),
        (0, y.Cg)([b.oI], M.prototype, "OnMouseUp", null),
        (0, y.Cg)(
          [b.oI, (0, v.s)(250)],
          M.prototype,
          "SnapBackToFirstElement",
          null,
        ),
        (0, y.Cg)([b.oI], M.prototype, "OnScroll", null),
        (0, y.Cg)([b.oI], M.prototype, "GetCellColumnWidth", null),
        (0, y.Cg)([b.oI], M.prototype, "OnItemFocused", null),
        (0, y.Cg)([b.oI], M.prototype, "CellRenderer", null),
        (0, y.Cg)([b.oI], M.prototype, "OnSectionRendered", null),
        (0, y.Cg)(
          [b.oI, (0, v.s)(250)],
          M.prototype,
          "UpdateScrollArrows",
          null,
        ),
        (0, y.Cg)([b.oI], M.prototype, "BindGridObject", null),
        (0, y.Cg)([b.oI], M.prototype, "OnResize", null),
        (0, y.Cg)([b.oI], M.prototype, "ScrollLeft", null),
        (0, y.Cg)([b.oI], M.prototype, "ScrollRight", null),
        (0, y.Cg)([b.oI], M.prototype, "ScrollToFirstChild", null),
        (0, y.Cg)([b.oI], M.prototype, "MoveLeft", null),
        (0, y.Cg)([b.oI], M.prototype, "MoveRight", null),
        (0, y.Cg)([b.oI], M.prototype, "OnGamepadButtonDown", null),
        (0, y.Cg)([b.oI], M.prototype, "OnGamepadDirection", null);
      var D = r(44325),
        G = r(12155),
        F = r(32630),
        N = r(4434),
        k = r(52038),
        L = r(61859),
        O = r(44691),
        U = r(30143),
        P = r(39199),
        q = r(57834),
        W = r.n(q),
        x = r(20019),
        z = r(62792),
        Q = r(55263),
        j = r(80782),
        H = r(26101),
        Z = r(94095),
        V = r(44986),
        Y = r(60014),
        K = r(20713),
        X = r(84364),
        J = r(32885),
        $ = r(57315),
        ee = r(60338);
      const te = new E.wd("DiscoveryQueueApp").Debug;
      function re(e) {
        const {
            appID: t,
            nItemHeight: r,
            nItemWidth: s,
            fnOnAppFocus: a,
            index: l,
            focused: c,
            eStoreDiscoveryQueueType: u,
            storePageFilter: m,
            bPreferDemoStorePage: d,
            elVideo: p,
            elDetails: _,
          } = e,
          [g] = (0, Q.t7)(t, ee.Gy),
          f = (0, h.Qn)(),
          y = (0, i.R7)(),
          w = y?.ownerWindow || window,
          b = ne(g, u, m, d),
          { bIsIgnored: S, fnUpdateIgnored: v } = (0, ee.TK)(t),
          { bIsWishlisted: C, fnUpdateWishlist: I } = (0, ee.u4)(t, ue);
        if (
          (n.useEffect(() => {
            te("Index Focused: ", l, " Focus? ", c), c && a?.(l);
          }, [a, c, l]),
          !g)
        )
          return console.warn("Error: missing store item for appid ", t), null;
        const B = { width: s || void 0, height: r || void 0 };
        return n.createElement(
          o.Z,
          {
            focusable: !0,
            style: B,
            onFocus: () => a?.(l),
            className: (0, k.A)(W().DiscoveryQueueApp, c && W().Focused),
            onOptionsActionDescription: C
              ? (0, L.we)("#DiscoveryQueue_RemoveFromWishlist")
              : (0, L.we)("#DiscoveryQueue_AddToWishlist"),
            onOptionsButton: I,
            onOKActionDescription: (0, L.we)("#DiscoveryQueue_ViewStorePage"),
            onOKButton: () => {
              w.location.href = b;
            },
            onSecondaryActionDescription: S
              ? (0, L.we)("#DiscoveryQueue_Undo")
              : (0, L.we)("#DiscoveryQueue_IgnoreLink"),
            onSecondaryButton: v,
          },
          n.createElement(
            "div",
            { className: (0, k.A)(W().IgnoredCtn, S && W().Active) },
            n.createElement(
              "div",
              { className: (0, k.A)(W().IgnoredInfo, S && W().Active) },
              n.createElement(
                "div",
                { className: W().IgnoredTitle },
                (0, L.we)("#DiscoveryQueue_Ignored"),
              ),
              n.createElement(
                "div",
                { className: W().IgnoredDescription },
                (0, L.we)("#DiscoveryQueue_IgnoredConfirmation"),
              ),
              n.createElement(
                o.Z,
                {
                  className: (0, k.A)(W().QueueButton, W().UndoIgnoreButton),
                  onClick: v,
                },
                f &&
                  n.createElement(V.$m, {
                    button: K.g4.X,
                    type: V.wt.Light,
                    size: V.xY.Medium,
                  }),
                (0, L.we)("#DiscoveryQueue_Undo"),
              ),
            ),
          ),
          p,
          _,
        );
      }
      function ne(e, t, r, i) {
        const s = (0, Y.n9)();
        return n.useMemo(() => {
          if (!e) return;
          const n = (0, P.Bk)(r),
            a = t ? "?inqueue=" + t + (r ? "_" + n : "") : "";
          return (0, $._)(e.GetStorePageURL(i) + a, s);
        }, [i, t, s, e, r]);
      }
      function ie(e) {
        const {
            appID: t,
            bShowMinimizedDisplay: r,
            eStoreDiscoveryQueueType: i,
            storePageFilter: s,
            bPreferDemoStorePage: a,
          } = e,
          [l] = (0, Q.t7)(t, ee.Gy),
          { fnUpdateIgnored: c } = (0, ee.TK)(t),
          { bIsWishlisted: u, fnUpdateWishlist: m } = (0, ee.u4)(t, ue),
          d = ne(l, i, s, a),
          p = (0, h.Qn)(),
          _ = p,
          g = (0, j.LG)(l?.GetTagIDs());
        if (!l) return;
        const f = l.GetAssets().GetLibraryCapsuleURL();
        return n.createElement(
          o.Z,
          { className: W().AppDetailsCtn },
          n.createElement(
            "div",
            { className: W().AppDetailsCtnTop },
            n.createElement(
              "div",
              { className: W().AppDetailsHeader },
              f &&
                n.createElement("img", {
                  className: W().AppLibraryHero,
                  src: f,
                }),
              n.createElement(
                "div",
                { className: W().RightColumn },
                n.createElement("div", { className: W().AppName }, l.GetName()),
                n.createElement(Z.wc, {
                  bSingleLineMode: !0,
                  info: { id: t, type: (0, x.U)(l.GetAppType()) },
                }),
              ),
            ),
            n.createElement(se, { rgTagNames: g }),
            n.createElement(
              "div",
              { className: W().AppReviews },
              n.createElement(H.Jz, {
                bShowTooltip: !0,
                bTruncateTotalReviews: r,
                appInfo: { id: t, type: (0, x.U)(l.GetAppType()) },
              }),
            ),
            n.createElement(
              "div",
              { className: W().AppRelevanceCtn },
              n.createElement(J.v, {
                bShowAvatars: !r,
                storeItem: l,
                appID: t,
              }),
            ),
          ),
          !p &&
            n.createElement(
              "div",
              { className: W().AppActionButtonsCtn },
              n.createElement(
                "div",
                { className: W().AppActionJustButtonsCtn },
                l.BHasDemo() &&
                  n.createElement(X.j, {
                    info: {
                      id: l.GetAppID(),
                      type: (0, z._4)(l.GetStoreItemType(), l.GetAppType()),
                    },
                    className: (0, k.A)(
                      W().QueueButton,
                      W().Primary,
                      W().Launch,
                    ),
                  }),
                n.createElement(
                  "a",
                  {
                    className: (0, k.A)(W().QueueButton, W().Primary),
                    href: d,
                  },
                  _ &&
                    n.createElement(V.$m, {
                      button: K.g4.Y,
                      type: V.wt.Light,
                      size: V.xY.Medium,
                      additionalClassName: W().YGlyph,
                    }),
                  " ",
                  (0, L.we)("#DiscoveryQueue_ViewStorePage"),
                ),
                n.createElement(
                  "div",
                  { className: W().ButtonsRowWrap },
                  n.createElement(
                    o.Z,
                    { focusable: !0, className: W().QueueButton, onClick: m },
                    _ &&
                      n.createElement(V.$m, {
                        button: K.g4.Y,
                        type: V.wt.Light,
                        size: V.xY.Medium,
                        additionalClassName: W().YGlyph,
                      }),
                    u
                      ? (0, L.we)("#DiscoveryQueue_RemoveFromWishlist")
                      : (0, L.we)("#DiscoveryQueue_AddToWishlist"),
                  ),
                  n.createElement(
                    o.Z,
                    { focusable: !0, className: W().QueueButton, onClick: c },
                    (0, L.we)("#DiscoveryQueue_IgnoreLink"),
                  ),
                ),
              ),
            ),
        );
      }
      function se(e) {
        const { rgTagNames: t } = e,
          r = (0, ee.W3)(t);
        return n.createElement(
          "div",
          { className: W().AppTagsCtn },
          r.map((e) =>
            n.createElement(
              "div",
              { key: e.name, className: W().TagEntry },
              e.name,
            ),
          ),
        );
      }
      const ae = new E.wd("DiscoveryQueueWizard").Debug,
        oe = 0,
        le = 1,
        ce = 1400,
        ue = "discoveryqueue2022",
        me = {
          include_assets: !0,
          include_trailers: !0,
          include_basic_info: !0,
          include_tag_count: 20,
          include_release: !0,
          include_platforms: !0,
        };
      async function de(e, t, r, n) {
        let i = [],
          s = !1;
        try {
          const { appids: a, exhausted: o } = await P.aI
            .Get()
            .GetDiscoveryQueueAppsOfType(e, t, n);
          (i = [...a]),
            (s = o),
            r && -1 === i.findIndex((e) => e === r) && i.unshift(r),
            await g.A.Get().QueueMultipleAppRequests(i, ee.Gy);
        } catch (e) {
          console.error("Failed getting discovery queue apps", e);
        }
        return { appids: i, exhausted: s };
      }
      const pe = (e) =>
        h.TS.IN_STEAMUI
          ? n.createElement(a.q, null, e.children)
          : n.createElement(
              D.Qs,
              { navID: "DiscoveryQueueWizard" },
              e.children,
            );
      function he(e) {
        const {
            eStoreDiscoveryQueueType: t,
            bWizardVisible: r,
            fnCloseModal: a,
            includeAppID: l,
            storePageFilter: m,
            bPreferDemoStorePage: d,
          } = e,
          [p, _] = n.useState([]),
          [g, y] = n.useState(1),
          [w, S] = n.useState(800),
          [v, C] = n.useState(24),
          [I, B] = n.useState("DiscoveryQueue"),
          [E, T] = n.useState(!0),
          [R, M] = n.useState(!1),
          [q, x] = n.useState(!1),
          z = n.useRef(),
          Q = (0, h.Qn)(),
          j = (0, i.R7)(),
          H = j?.ownerWindow || window,
          Z = (0, N.m)("DiscoveryQueueWizard"),
          V = (0, f.b)();
        (0, O.E)("ArrowLeft", (e) => z.current.MoveLeft(e)),
          (0, O.E)("Left", (e) => z.current.MoveLeft(e)),
          (0, O.E)("ArrowRight", (e) => z.current.MoveRight(e)),
          (0, O.E)("Right", (e) => z.current.MoveRight(e)),
          (0, O.E)("Escape", () => a && a()),
          (0, O.E)("Esc", () => a && a());
        const Y = n.useCallback(
            (e) => {
              const t = Math.max((H.innerWidth / 100) * 2.8 + 40, 24),
                r = Math.min(1400, H.innerWidth / 1.3 - 2 * t - 48 + 220),
                n = (H.innerWidth - w - 2 * t) / 2;
              S(r), C(n);
            },
            [H.innerWidth, w],
          ),
          K = (0, b.wY)(Y),
          X = n.useMemo(() => (9 / 16) * (w - 0.3 * w), [w]),
          J = n.useMemo(() => Boolean(H.innerWidth < ce), [H]),
          te = n.useCallback(
            async (e) => {
              let { appids: r } = await de(t, !e, e && l, m);
              if (e && !r.length) {
                let { appids: e } = await de(t, !0, void 0, m);
                r = e;
              }
              let n = p;
              if (e) r.unshift(le);
              else {
                const e = n.lastIndexOf(le);
                -1 !== e && n.splice(e, 1);
              }
              r.push(oe),
                r.push(le),
                (n = n.concat(r)),
                Z?.token?.reason || _(n),
                e || z?.current?.MoveRight(),
                ae("Loaded new discovery queue apps: ", r);
            },
            [t, l, m, p, Z?.token?.reason],
          );
        n.useEffect(() => {
          q ||
            (te(!0).then(() => x(!0)),
            u.Fm.Get().HintLoad(),
            B(
              (() => {
                const e = Math.floor(1e6 * Math.random());
                return `DiscoveryQueue_${h.iA.accountid}_${e}`;
              })(),
            ),
            Y());
        }, [t, te, Y, q]);
        const ne = n.useCallback(
            (e) =>
              p[e] == oe
                ? "Summary" + e
                : p[e] == le
                  ? "Placeholder" + e
                  : p[e].toString(),
            [p],
          ),
          se = n.useCallback((e) => w, [w]),
          me = n.useCallback(
            (e) => {
              ae("Currently focused index: ", e), V.AddImpression(p[e], ue);
            },
            [V, p],
          ),
          [he] = n.useState(new Map()),
          ge = n.useCallback(
            (r, i, s, l) => {
              if (p[r] == oe) {
                let o = 0;
                for (let e = r - 1; e >= 0; e--) p[e] == oe && (o += 1);
                let l = 0;
                for (let e = r - 1; e >= 0 && p[e] !== oe && p[e] !== le; e--)
                  l++;
                return (
                  he.has(o) ||
                    he.set(
                      o,
                      P.aI.Get().GetTotalSkippedAppsForDiscoveryQueue(t, m),
                    ),
                  n.createElement(_e, {
                    ...e,
                    key: ne(r),
                    focused: g === r,
                    fnLoadNextQueue: te,
                    fnCloseModal: a,
                    summaryCardIndex: o,
                    eStoreDiscoveryQueueType: t,
                    nItemHeight: s,
                    nItemWidth: i,
                    viewedAppCount: (he.get(o) || 0) + l,
                  })
                );
              }
              return p[r] == le
                ? n.createElement(o.Z, {
                    focusable: !1,
                    style: { width: i, height: X },
                    className: (0, k.A)(W().DiscoveryQueuePlaceholder),
                  })
                : n.createElement(re, {
                    eStoreDiscoveryQueueType: t,
                    storePageFilter: m,
                    focused: g === r,
                    index: r,
                    fnOnAppFocus: me,
                    nItemHeight: X,
                    nItemWidth: i,
                    appID: p[r],
                    bPreferDemoStorePage: d,
                    elVideo: n.createElement(ee.y3, {
                      appID: p[r],
                      focused: g === r,
                      snrCode: ue,
                    }),
                    elDetails: n.createElement(ie, {
                      appID: p[r],
                      bShowMinimizedDisplay: J,
                      eStoreDiscoveryQueueType: t,
                      storePageFilter: m,
                      bPreferDemoStorePage: d,
                    }),
                  });
            },
            [p, X, J, t, m, g, me, d, he, e, ne, te, a],
          ),
          fe = n.useCallback(
            (e, t) => {
              Q || (M(e), T(t));
            },
            [Q],
          ),
          ye = n.useCallback((e) => p[e] !== le, [p]),
          we = n.useCallback(
            (e, r) => {
              ae("New Focused Column: ", r, " Prev Focused Column: ", e),
                p[e] !== le &&
                  p[e] !== oe &&
                  P.aI.Get().SkipDiscoveryQueueItem(p[e], t, m),
                y(r);
            },
            [t, p, m],
          ),
          be = n.useCallback(
            (e, t) => {
              const r = [];
              for (let i = 0; i < t; ++i)
                r.push(
                  n.createElement("img", {
                    key: "dot_" + i,
                    className: (0, k.A)({
                      [W().ProgressDot]: !0,
                      [W().ProgressDotActive]: i <= e,
                      [W().ProgressDotHidden]: p[g] === le || p[g] === oe,
                    }),
                    src: U.A,
                  }),
                );
              return n.createElement("div", { className: W().ProgressCtn }, r);
            },
            [g, p],
          ),
          Se = n.useMemo(() => {
            let e = 0;
            for (let t = g; t >= 0; --t)
              if (p[t] === le || p[t] === oe) {
                e = t;
                break;
              }
            let t = 0;
            for (let r = e + 1; r < p.length && p[r] !== le && p[r] !== oe; ++r)
              t++;
            return [g - e - 1, t];
          }, [g, p]),
          ve = (0, P.WX)(t, m);
        return q
          ? n.createElement(
              D.EN,
              { active: r },
              n.createElement(
                pe,
                null,
                n.createElement(
                  F.A,
                  { feature: ue },
                  n.createElement(
                    o.Z,
                    {
                      autoFocus: !0,
                      focusable: !0,
                      className: W().DiscoveryQueueCarouselCtn,
                      navEntryPreferPosition: c.iU.LAST,
                      onCancelButton: () => a && a(),
                      onCancelActionDescription: (0, L.we)("#Button_Close"),
                    },
                    n.createElement(
                      o.Z,
                      {
                        "flow-children": "row",
                        className: (0, k.A)(W().TopBarCtn, Q && W().TopMargin),
                      },
                      n.createElement(
                        o.Z,
                        { className: W().LearnMore },
                        (0, L.oW)(
                          "#DiscoveryQueue_LearnMore_Default",
                          n.createElement(s.Ii, {
                            className: W().LearnMoreLink,
                            href: (0, $._)(h.TS.STORE_BASE_URL + "explore"),
                          }),
                        ),
                      ),
                      n.createElement(
                        o.Z,
                        { className: W().ControlsCtn },
                        !1,
                        n.createElement(
                          o.Z,
                          {
                            focusable: !0,
                            className: W().QueueButton,
                            onClick: a,
                            onActivate: () => a && a(),
                          },
                          n.createElement(G.X, null),
                        ),
                      ),
                    ),
                    n.createElement(
                      "div",
                      { ref: K, className: W().DiscoveryQueueWrapper },
                      n.createElement(
                        o.Z,
                        { "flow-children": "row" },
                        n.createElement(
                          "div",
                          { className: W().DiscoveryQueueName },
                          ve,
                        ),
                      ),
                      n.createElement(
                        o.Z,
                        {
                          onClick: (e) => z.current.MoveLeft(e),
                          className: (0, k.A)(
                            W().QueueNavArrow,
                            W().LeftArrow,
                            R && W().Enable,
                          ),
                        },
                        n.createElement(G.l8x, { angle: 180 }),
                      ),
                      n.createElement(A, {
                        name: I,
                        className: W().DiscoveryQueueCarousel,
                        ref: z,
                        fnDoesItemTakeFocus: ye,
                        fnOnFocusedColumnChange: we,
                        fnUpdateArrows: fe,
                        nNumItems: p.length,
                        nHeight: X,
                        scrollDuration: 400,
                        nItemHeight: X,
                        nItemMarginX: v,
                        fnGetColumnWidth: se,
                        fnGetId: ne,
                        fnItemRenderer: ge,
                        scrollToAlignment: "center",
                        nIndexLeftmost: 1,
                        initialColumn: 1,
                        autoFocus: !0,
                        scrollTiming: "cubic-in-out",
                        overscan: 3,
                      }),
                      n.createElement(
                        o.Z,
                        {
                          onClick: (e) => z.current.MoveRight(e),
                          className: (0, k.A)(
                            W().QueueNavArrow,
                            W().RightArrow,
                            E && W().Enable,
                          ),
                        },
                        n.createElement(G.l8x, { angle: 0 }),
                      ),
                      !Q &&
                        n.createElement(
                          o.Z,
                          { "flow-children": "row" },
                          be(Se[0], Se[1]),
                        ),
                    ),
                    n.createElement(
                      o.Z,
                      {
                        "flow-children": "row",
                        className: (0, k.A)(W().BotomBarCtn),
                      },
                      n.createElement(
                        o.Z,
                        { className: W().LabsHeader },
                        (0, L.oW)(
                          "#DiscoveryQueue_LabsHeader",
                          n.createElement("span", { className: W().Bold }),
                          n.createElement(s.Ii, {
                            className: W().LearnMoreLink,
                            href: (0, $._)(
                              h.TS.COMMUNITY_BASE_URL +
                                "groups/SteamLabs/discussions/17/",
                            ),
                          }),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      function _e(e) {
        const {
            nItemHeight: t,
            nItemWidth: r,
            eStoreDiscoveryQueueType: i,
            fnCloseModal: s,
            summaryCardIndex: a,
            focused: c,
            fnLoadNextQueue: m,
            storePageFilter: d,
            fnDisplaySummaryReward: p,
            viewedAppCount: g,
          } = e,
          f = { width: r || void 0, height: t || void 0 },
          [y, w] = n.useState(),
          b = (0, h.Qn)(),
          S = c && null == y;
        n.useEffect(() => {
          S &&
            u.Fm.Get()
              .HintLoad()
              .then(() => {
                P.aI.Get().LoadSkippedApps(i, d).then(w);
              });
        }, [S, i, d]);
        const v = n.useMemo(
            () =>
              y?.reduce(
                (e, t) => (u.Fm.Get().BIsGameWishlisted(t) ? e + 1 : e),
                0,
              ) || 0,
            [y],
          ),
          C = n.useMemo(
            () =>
              y?.reduce(
                (e, t) => (u.Fm.Get().BIsGameIgnored(t) ? e + 1 : e),
                0,
              ) || 0,
            [y],
          ),
          [I, B] = n.useState(!1),
          E = (0, Y.n9)(),
          T = (0, P.IH)(i, d),
          R = (0, N.m)("DiscoveryQueueSummary"),
          A = n.useCallback(() => {
            B(!0),
              m(!1).then(() => {
                R?.token?.reason || B(!0);
              });
          }, [R?.token?.reason, m]);
        return n.createElement(
          l.YZ,
          {
            style: f,
            className: (0, k.A)(
              W().SummaryCtn,
              W().DiscoveryQueueApp,
              c && W().Focused,
            ),
            onOptionsActionDescription: (0, L.we)(
              "#DiscoveryQueue_ViewWishlist",
            ),
            onOptionsButton: () => {
              window.location.href = (0, $._)(
                h.TS.STORE_BASE_URL + "wishlist",
                E,
              );
            },
            onOKActionDescription: (0, L.we)("#Button_Continue"),
            onOKButton: A,
            onCancelActionDescription: (0, L.we)("#ActionButtonLabelDone"),
            onCancelButton: () => s && s(),
          },
          n.createElement(
            "div",
            { className: W().SummaryContentCtn },
            n.createElement(
              "div",
              { className: W().SummaryTitle },
              (0, L.we)("#DiscoveryQueue_SummaryTitle"),
            ),
            n.createElement(
              "div",
              { className: W().YourStats },
              (0, L.we)("#DiscoveryQueue_YourStats"),
            ),
            n.createElement(
              o.Z,
              { "flow-children": "row", className: W().SummaryGrid },
              n.createElement(
                "div",
                { className: W().GridItem },
                n.createElement(
                  "div",
                  { className: W().GridTitle },
                  (0, L.we)("#DiscoveryQueue_ViewedCaps"),
                ),
                n.createElement(
                  "div",
                  { className: W().GridNumber },
                  g.toLocaleString(),
                ),
                n.createElement(
                  "div",
                  { className: W().GridSubTitle },
                  (0, L.we)("#DiscoveryQueue_Titles"),
                ),
              ),
              n.createElement(
                "div",
                { className: W().GridItem },
                n.createElement(
                  "div",
                  { className: W().GridTitle },
                  (0, L.we)("#DiscoveryQueue_WishlistedCaps"),
                ),
                n.createElement(
                  "div",
                  { className: W().GridNumber },
                  v.toLocaleString(),
                ),
                n.createElement(
                  "a",
                  {
                    className: (0, k.A)(W().GridSubTitle, W().TextLink),
                    href: (0, $._)(h.TS.STORE_BASE_URL + "wishlist", E),
                  },
                  (0, L.we)("#DiscoveryQueue_ViewWishlist"),
                ),
              ),
              n.createElement(
                "div",
                { className: W().GridItem },
                n.createElement(
                  "div",
                  { className: W().GridTitle },
                  (0, L.we)("#DiscoveryQueue_IgnoredCaps"),
                ),
                n.createElement(
                  "div",
                  { className: W().GridNumber },
                  C.toLocaleString(),
                ),
                n.createElement(
                  "a",
                  {
                    className: (0, k.A)(W().GridSubTitle, W().TextLink),
                    href: (0, $._)(
                      h.TS.STORE_BASE_URL + "account/notinterested",
                      E,
                    ),
                  },
                  (0, L.we)("#DiscoveryQueue_ViewIgnored"),
                ),
              ),
            ),
            !b &&
              n.createElement(
                o.Z,
                { className: W().SummaryActionButtonsCtn },
                n.createElement(
                  o.Z,
                  {
                    className: (0, k.A)(W().QueueButton, W().Wide),
                    onClick: s,
                  },
                  (0, L.we)("#ActionButtonLabelDone"),
                ),
                !T &&
                  n.createElement(
                    o.Z,
                    {
                      className: (0, k.A)(
                        I && W().Disabled,
                        W().QueueButton,
                        W().Primary,
                        W().Wide,
                      ),
                      onClick: A,
                    },
                    I ? (0, L.we)("#Loading") : (0, L.we)("#Button_Continue"),
                  ),
              ),
          ),
          Boolean(!T) &&
            n.createElement(
              n.Fragment,
              null,
              Boolean(_.Get().BIsSaleActive()) &&
                n.createElement(ge, { focused: c }),
              Boolean(p) && p(a + 1),
            ),
        );
      }
      function ge(e) {
        const { focused: t } = e,
          [r, i] = n.useState(null),
          s = ((0, h.Qn)(), _.Get().BIsSaleActive() && r);
        n.useEffect(() => {
          t &&
            _.Get().BIsSaleActive() &&
            !r &&
            _.Get()
              .GetNumTradingCardsEarned()
              .then((e) => {
                1 === e.eresult && i(e);
              });
        }, [t, r]);
        const a = (0, Y.n9)(),
          l = (0, $._)(h.TS.STORE_BASE_URL + "sale/summersaletradingcards", a);
        return s
          ? n.createElement(
              o.Z,
              { className: W().TradingCardCtn },
              n.createElement("img", {
                className: W().TradingCardImage,
                src:
                  h.TS.MEDIA_CDN_URL +
                  "store/promo/summer2022/card_stack.png?v-1",
              }),
              n.createElement(
                o.Z,
                { className: W().TradingCardColumn },
                n.createElement(
                  "div",
                  { className: W().TradingCardText },
                  (0, L.oW)(
                    r?.earned_today > 0
                      ? "#DiscoveryQueue_TradingCardsEarned_Today"
                      : "#DiscoveryQueue_TradingCards_Desc",
                    n.createElement("a", { className: W().TextLink, href: l }),
                  ),
                ),
              ),
            )
          : null;
      }
    },
    26749: (e, t, r) => {
      "use strict";
      r.d(t, { G: () => l });
      var n = r(90626),
        i = r(23809),
        s = r(39199),
        a = r(30894),
        o = r(30470);
      function l() {
        const [e, t] = (0, n.useState)(!o.iA.logged_in),
          [r] = (0, a.L2)(),
          l = (0, i.KV)();
        return (
          (0, n.useEffect)(() => {
            e || (s.aI.Init(l), t(!0));
          }, [e, l]),
          e && !r
        );
      }
    },
    60338: (e, t, r) => {
      "use strict";
      r.d(t, {
        Gy: () => h,
        TK: () => g,
        W3: () => y,
        u4: () => f,
        y3: () => _,
      });
      var n = r(90626),
        i = r(12037),
        s = r.n(i),
        a = r(52038),
        o = r(61859),
        l = r(76217),
        c = r(65946),
        u = r(91822),
        m = r(60801),
        d = r(30894),
        p = r(55263);
      const h = {
        include_assets: !0,
        include_trailers: !0,
        include_basic_info: !0,
        include_platforms: !0,
      };
      function _(e) {
        const {
            appID: t,
            focused: r,
            snrCode: i,
            skipMicroTrailer: c,
            autoPlayCookieName: d,
            showScreenshotInsteadOfMainCap: _,
            fadeRatio: y,
            fnPlayPause: w,
            fnComplete: b,
            loopVideo: S,
          } = e,
          [v] = (0, p.t7)(t, h),
          { bIsIgnored: C } = g(t),
          { bIsWishlisted: I } = f(t, i),
          B = (0, u.er)();
        if (v)
          return n.createElement(
            l.Z,
            { className: s().AppVideoCtn },
            n.createElement(
              "div",
              { className: (0, a.A)(s().WishlistBadge, I && s().Active) },
              (0, o.we)("#Sale_OnWishlist"),
            ),
            B &&
              n.createElement(u.$o, {
                className: s().DeckVerifiedLogo,
                category: v.GetPlatforms().steam_deck_compat_category,
              }),
            n.createElement(m.X, {
              key: t,
              storeItem: v,
              bCurrentlyActive: r,
              bImageOnly: C,
              autoplayCheckboxPosition: "top",
              autoPlayCookieName: d,
              bSkipMicroTrailer: c,
              nFadeRatio: y,
              showScreenshotInsteadOfMainCap: _,
              fnPlayPause: w,
              fnComplete: b,
              bLoopVideo: S,
            }),
          );
      }
      function g(e) {
        const t = (0, c.q3)(() => d.Fm.Get().BIsGameIgnored(e)),
          r = n.useCallback(() => {
            d.Fm.Get().UpdateAppIgnore(e, !t);
          }, [e, t]);
        return { bIsIgnored: t, fnUpdateIgnored: r };
      }
      function f(e, t) {
        const r = (0, c.q3)(() => d.Fm.Get().BIsGameWishlisted(e)),
          i = n.useCallback(() => {
            d.Fm.Get().UpdateGameWishlist(e, !r, t);
          }, [e, r, t]);
        return { bIsWishlisted: r, fnUpdateWishlist: i };
      }
      function y(e) {
        return n.useMemo(
          () =>
            e.sort((e, t) =>
              d.Fm.Get().GetRecommendedTags().has(e.tagid) &&
              d.Fm.Get().GetRecommendedTags().has(t.tagid)
                ? 0
                : d.Fm.Get().GetRecommendedTags().has(e.tagid)
                  ? 1
                  : -1,
            ),
          [e],
        );
      }
    },
  },
]);
