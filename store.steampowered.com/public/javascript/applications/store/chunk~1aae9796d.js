/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [5603],
  {
    15830: (e) => {
      e.exports = {
        DiscoveryQueueWidgetCtn: "_3PAP1PfUymQrLEveRsxQxP",
        WidgetHeaderCtn: "_3i8xWeKjrdNgEjml1PQRuq",
        AppCarouselPosition: "_1DaxYFphX9KPH-YWeuNTvO",
        Initialized: "gjxSD08f5aogKCSeys9k5",
        Spinner: "_3QqziF_w5iNtHF8dOkfrD0",
        AppCarouselCtn: "_2qPvUCeD7uiBSn261-Gg25",
        FadeIn: "Qc0gimNJ0GLAPE87EH3Gp",
        AppCapsuleCtn: "_3G65z75zOTQeHrXxszHO4b",
        AppName: "r6OCNSBahfTSSDTqXDVqY",
        LibraryImage: "_1QVat7gXKVzPNiStElIJCt",
        CapsuleColumn: "_3OUOaqR0a3uYqsWOZbfSSh",
      };
    },
    15527: (e) => {
      e.exports = {
        BroadcastPlayerLite: "SAxf3Rqn792kM6c4U_vx5",
        BroadcastPlayerLiteVideo: "yCd0zjymzfw3HkVm-1YwX",
        BroadcastContext: "_3TnYLKMweBMIC69qFU6OJj",
        BroadcastPlaceholderImg: "_3hxn99MT14hFUCrUp6zbsf",
      };
    },
    15392: (e) => {
      e.exports = {
        Link: "-HlDBB290kjpl61uUmRed",
        Banner: "_2bT8irkKNnA5sxFG3MUXzH",
        Big: "sGy-bB7uqEt4Hoe7U5iA1",
        Mobile: "mhii5hgMCQvO2tXOUdWPQ",
      };
    },
    40594: (e) => {
      e.exports = {
        ProgressBar: "_3szjUMH5QeRwtXAsLRcWt9",
        AnimateProgress: "_3DjdoQj5NoknowwV5t5JPN",
        loadingBarAnim: "_2SA1xV5w3BGirkDWosGYoX",
        Indeterminate: "_3G7KLhFOuTiHW-fGxtWtRs",
        Circular: "_3wMS41OoTPnZyEddTVwzy_",
        Full: "_3t_UEZDy1QxxcYfn3TTvD2",
      };
    },
    61088: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppCarouselTrailerCtn: "_2DzJ9TSrYmyo1tY_R-1jym",
        AutoplayCheckbox: "ZZgGaqlJvV83f4CYl3O3N",
        AppVideo: "_3sG-J5T8SrzM0Hjkda7sgL",
        Microtrailer: "_24GFDabY2zeyuzhvACpldO",
        PlayFullTrailer: "_115ZF6m0XsEieocbL7zjo-",
        "microtrailer-trans-out": "HMoi7fPFNjxiHeyrfkgmO",
        PlayMicrotrailer: "_2edFDJ0B9YjtlfqugPTxw0",
        "microtrailer-trans-in": "_3D_pgT8sxFP3ieDxVt_1zp",
        NoTrailer: "WtSN6aaEz7vEnRjVrq2hS",
        Trailer: "_1_z8vE2vYRzSyf1HQIcm5O",
        "trailer-trans-in": "_3kp7PkbzSVQPFoobA3Xx7N",
        AppMainCap: "_3cc6kgsSpd-DeLRDHEM_lD",
        AppMainCapFadeIn: "_2tGHq2pbqmrGJVCXoN5f0r",
        PlayButton: "_1y11BvPq_nL5EZFF8GLuD9",
        PlayButtonCapFadeIn: "_3Nk6pNRuMCIddyuE9mWS55",
        AutoplayCheckboxCtn: "_2HvO_RKtxiyyhZsELjYyq5",
        AOWarning: "_19l-UjQZVVGNK5SKnOrmJB",
        Text: "VoAJhMdtQTylTg3G03nJo",
        "capsule-trans-out": "hckHU2LXCJNx0X37OqCsx",
      };
    },
    71477: (e) => {
      e.exports = {
        WidgetHeaderCtn: "_2-tz2hqtOXPPtMnVPHNSdx",
        LaunchAction: "xD8XE561L4OLHkp9K3UIV",
        DiscoveryQueueWidget: "aKZCakHw7WVaUN3j36Nh",
        WidgetHeaderText: "_1mKVZY4-l46AZiZvctCEmx",
        WidgetHeaderSubText: "O2jA-VCFl9bmblncfI4k2",
        LoginButton: "_3u1HeR7JRPiiuKIT78j2Cc",
        Placeholder: "_3qFL88r7vVtG3lg2enLhfi",
        SaleTopSection: "_3Xj9phC0S8zL6qrQ5T1sUJ",
        StickerArrangement: "_1hvmhK7qgdrqLwH_Duphah",
        SaleSticker: "_19psoPSyaHlg76v5Cd9H-n",
        SaleTextCtn: "cwQNGPoPuJS67rykUgZdU",
        BoldText: "_1LS-qczKUuqKzg56ll_C0A",
      };
    },
    57834: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_2u0N2gUX44_tavazJJb_QP",
        TextLink: "_3ZdNCUMz9KZMkwPZlO8zmi",
        DiscoveryQueueApp: "_1xJSMubUWBlahkrtb4IFTc",
        DiscoveryQueueWrapper: "_2BYaxM7mBfooJbZYzhEv4D",
        revealDiscoveryQueueWrapper: "brzQbY6Z8TH8Ww-rFL4E0",
        DiscoveryQueueItemsCtn: "_3q6eNRFBrPSFSGEn8uRFZ3",
        DiscoveryQueueItemPositioner: "_16tdfw6vxg9Hdy0KfCutXn",
        Selected: "_2aeAhZ2Y99YIR2-zD6l27U",
        InRange: "_1XPIeNMxObbkYolTEj0Bwh",
        Dragging: "_3fTO0TgoWEAo4zdaHOCTh0",
        FarLeft: "vkLp1smRjDnZg7XQcMqjk",
        Left: "_3gBoKuhIxMBjlxU7FZ2L3a",
        Current: "_2CgJDPFhM9rbjsq9n0c9I_",
        Right: "_1AGP_wKeaN9phzlq_2K9H7",
        FarRight: "hBGRzfrW2Obp7QpzYCi2L",
        AppDetailsCtn: "_2Zwt2P5vy4W9Ha5ePOv54U",
        AppDetailsCtnTop: "_3TkhdqIi1gqwMzexQDS8Ab",
        CapsuleLink: "_2m8YEKXvKa2bcFNjqXdJu7",
        AppLibraryHero: "_uGgOnTsOzgIVK9BHMTUV",
        AppHeader: "Vwr5XZLr5tOEaVLYbj1mZ",
        RightColumn: "VVNgZo2T-rubrTvNMPSoh",
        AppName: "_3lk6f1XI_loCIhBevOddHP",
        AppTagsCtn: "xXcRKEuacDG8kYtDXu6OH",
        TagEntry: "xmqBa8sZa4Xhgktfr43Uh",
        AppReviews: "_2alBMAZOarIyf-vIiNazRg",
        RelevantCtn: "_3sfhS6SCV1q8dTaRIpWCHB",
        RelevantColumn: "Ne2AhbYmPfTxwJVmj1FZP",
        RelevantItem: "_2OUHZGUrr0FugrwCwIm6dF",
        RelevantCheck: "_1BOH1zFTOxtlgKkeEANpYO",
        IgnoreLink: "fir3UBZYT6EAmdYWAdr3a",
        AppActionButtonsCtn: "_2IQHDn5ZvlB1ThhSb_lhX",
        AppActionJustButtonsCtn: "duAyQ1rUX78lMmmZY1V0n",
        QueueButton: "_22Bfzcdg2l-RQEn-qKSIol",
        ButtonsRowWrap: "_1plvU4aLu4hq22gYwThZnH",
        IgnoredCtn: "_3G1MYmgXVcweTUK5jtU_Ft",
        Active: "_2D_EZlAEopCvqU0_w21FdH",
        IgnoredInfo: "_2j-elz350f4ndxI9CBUbyW",
        IgnoredTitle: "_18alvCecAAMAsyM_6zCY2T",
        IgnoredDescription: "CmI-HxKbBH8PjoSk7IVPC",
        UndoIgnoreButton: "_2E3PfDDIiiKoy4iDQV7Ewl",
        AppDesc: "_3-6CubUJWYN2tbKvwS2N9n",
        YGlyph: "_3ncywKLa2mgKgbsj-g2wJi",
        SummaryContentCtn: "Tvu6zAI3kbdYjGQGbypuQ",
        SummaryTitle: "_2o4_HDWD3bRMkoJT4RfiMv",
        YourStats: "_3-iD7yn2dCmqp9AL5xuwLX",
        SummaryGrid: "_3vRcTzxpTSFxcxVm9BKrlQ",
        GridItem: "_2w3xjuBZIgZJPO9HAa5Hb0",
        GridTitle: "_7HEa84jCz03LkGTjIZa7c",
        GridNumber: "jM11lU9OD9-2Hlu3Akwtj",
        GridSubTitle: "_2n8wa2hMCjKHhvMsS0v3_k",
        SummaryActionButtonsCtn: "nqmYD9sGBA3BEmNjp6qYF",
        TopBarCtn: "_1ewUwegRciiNydBWSQRCX-",
        LearnMoreLink: "CiFk6OuYAQSbv_DGXoBSX",
        ControlsCtn: "_2Gy72TJcKqY9gqP5-TAmSk",
        Disabled: "_2xsPifNspMLcbkoUSA5Ujl",
        Primary: "_3o2jhEGrGiVndMjUbNpOw-",
        Launch: "_3SOZx68qVakLwDvAYBOPMG",
        Wide: "_1tFfTbcTKjlfSGsMOJvdf_",
        QueueNavArrow: "_2sZ7DAljYV5Xd-nbhtlmyM",
        Enable: "_2CTzbHZ-C-FfnXEtLZPv9q",
        RightArrow: "_30_0NBq3DkV-qL7Eyqva-t",
        LeftArrow: "_36Cln2gIYtwR3sPPcOi9bT",
        ReleventSimilarAppsCtn: "_2akaWEht7jMXdxPJFmf3WN",
        RecommendingCuratorsCtn: "_RZQ6JnUY6lQGmRcgHFNA",
        AppRelevanceCtn: "_367qBdIRU4xAYHt5cqhPVa",
        WhyRelevant: "_29ReJunMtLbnxbnixF6VdE",
        SimilarAppCtn: "_2fNR47HGs7tI_v1HC2-N1h",
        SimilarAppImg: "_1q8mEyt8Rp7JweHMRGm6hq",
        SimilarAppText: "YWLoeGgBPsjUtXywol3_O",
        FriendAvatarsCtn: "_2hxko0SvUWCZ30U4JH4TNn",
        RelevantTextBold: "_1Z_ek2XNBZbkZqyR-QSwlo",
        AppDescription: "_2mksBeuafFs1CMp0t5Z9gX",
        TradingCardCtn: "_13ZcoCKc8H09LSHp4C197Z",
        TradingCardImage: "_2ZB_x5Jq7JGDapJVPsCZTo",
        Bold: "_2P6WAN13LnRVRmRb-VNu_L",
        FriendBlockCtn: "_34aoCP80lDRK3cq6_V0YQ_",
        PersonaStatus: "_1AYnL3n86EbaOCKf18KKV8",
        ProgressHidden: "UdYhfFDOguxduU7c3PVpv",
        DiscoveryQueueName: "D7yeVCEwaFr6qNo_bPGCr",
        SaleRewardsCtn: "u42zSEWdGrvBDimhV4QNI",
        RewardStatusCtn: "_2C1i6xEuF431h_KHPB53zS",
        SaleRewardAppTitle: "_1-pK3SWEOk30eo-q0EKyH7",
      };
    },
    25599: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        ProgressCtn: "_3ed1Al-hFnjq4HQeLo6cIT",
        ProgressDot: "_2R187sMx7MTX5XQ2KN3Xnx",
        ProgressDotActive: "_3z2pS3DFn3MEl5ZPw6lsa9",
        ProgressDotSelected: "_1qJVCZsv51RtfBGao-PV8V",
        ProgressDotClickable: "jKfeFH4S6YhaeZ7RCZ8BN",
      };
    },
    34418: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppVideoCtn: "_5T6C7ESpj4ynwbH8LS101",
        WishlistBadge: "_1H947zVMI4eix33y6Vyrm0",
        Active: "QO_OlPouxqbJBf7_YhDcB",
        DeckVerifiedLogo: "_32nCthjo6y3PW8ly04ygbU",
        VideoArea: "_1dktHf2Jq2wDCCvlx1tpMJ",
        IgnoredCtn: "_1fmpWkA3raMRNRb2988jsO",
        IgnoredInfo: "_12r_HcaLl4JO7AfMLMEZqE",
        IgnoredTitle: "_2NLzxMudKrBejIZmxYz-Wu",
        IgnoredDescription: "_3ViR4YrtH0a-mK6EiPgOSB",
        UndoIgnoreButton: "_177VX9-0Tj1sNozNrm8bN1",
        UndoButton: "_3HOpXzFuRFY1WwrPL-fxOi",
        Disabled: "_3xyNp4rGNpDJtxvww4ZCOR",
      };
    },
    828: (e) => {
      e.exports = {
        TrailerTitle: "_3HELOo0qFfDrRZ9Sa1GXeF",
        Category: "_2YhOhoyYNbue9fEPMYPiq2",
        Visible: "_2cpBClyttSkWAsgMArc0BM",
      };
    },
    20019: (e, t, r) => {
      "use strict";
      function n(e) {
        switch (e) {
          case 0:
            return "game";
          case 6:
            return "software";
          case 1:
            return "demo";
          case 4:
            return "dlc";
          case 7:
          case 3:
            return "video";
          case 11:
            return "music";
          case 12:
            return "beta";
          case 2:
            return "mod";
        }
        return "invalid";
      }
      r.d(t, { U: () => n });
    },
    72224: (e, t, r) => {
      "use strict";
      r.r(t),
        r.d(t, {
          BroadcastDetails: () => ae,
          LinkOverlay: () => oe,
          default: () => K,
        });
      var n = r(34629),
        s = r(14947),
        a = r(75844),
        i = r(90626),
        o = r(88997),
        l = r(55963),
        c = r(54728),
        u = r(82097),
        d = r(84933),
        m = r(6144);
      class p extends i.Component {
        m_elCanvas;
        m_Context;
        m_schUpdate = new m.LU();
        m_bSetupComplete = !1;
        componentDidMount() {
          0 == this.props.updateRate && this.updateCanvas();
        }
        componentWillUnmount() {
          this.m_schUpdate.Cancel();
        }
        componentDidUpdate() {
          this.updateCanvas();
        }
        BindCanvasRef(e) {
          this.m_elCanvas = e;
        }
        updateCanvas() {
          if (
            null == this.props.elementRef ||
            null == this.m_elCanvas ||
            this.m_bSetupComplete
          )
            return;
          let e = this.props.scaleFactor || [1, 1],
            t = this.props.elementRef,
            r = this.props.updateRate;
          this.m_Context = this.m_elCanvas.getContext("2d");
          let n = Math.floor(
              this.m_elCanvas.clientWidth / this.props.reductionFactor,
            ),
            s = Math.floor(
              this.m_elCanvas.clientHeight / this.props.reductionFactor,
            );
          (this.m_elCanvas.width = n),
            (this.m_elCanvas.height = s),
            this.props.blurAmount > 0 &&
              (this.m_Context.filter = "blur(" + this.props.blurAmount + "px)");
          let a = () => {
            this.m_Context.drawImage(t, 0, 0, n * e[0], s * e[1]),
              r > 0 && this.m_schUpdate.Schedule(r, a);
          };
          a(), (this.m_bSetupComplete = !0);
        }
        render() {
          return i.createElement("canvas", {
            id: this.props.id,
            className: this.props.className,
            ref: this.BindCanvasRef,
            width: this.props.width,
            height: this.props.height,
          });
        }
      }
      (0, n.Cg)([d.oI], p.prototype, "BindCanvasRef", null),
        (0, n.Cg)([d.oI], p.prototype, "updateCanvas", null);
      var h = r(60155),
        g = r(16569),
        _ = r(90740),
        S = r(52038);
      const v = 500;
      class b extends i.Component {
        render() {
          let {
            keyExtractor: e,
            style: t,
            duration: r = v,
            className: n,
            children: s,
            childRef: a,
            ...o
          } = this.props;
          const l = { ...(t || {}), transitionDuration: r / 1e3 + "s" };
          return i.createElement(
            g.A,
            { ...o, className: (0, S.A)("crossfade", n) },
            i.createElement(
              _.A,
              {
                nodeRef: a,
                classNames: "crossfade-anim",
                timeout: r,
                key: e(),
                style: l,
              },
              s,
            ),
          );
        }
      }
      function y(e) {
        const { src: t, ...r } = e,
          n = { backgroundImage: `url(${t})` },
          s = i.useRef(null);
        return i.createElement(
          b,
          { style: n, keyExtractor: () => t, childRef: s, ...r },
          i.createElement("div", { ref: s, className: "crossfade-img" }),
        );
      }
      var f = r(45359),
        C = r(69409),
        w = r(81416),
        E = r(12155),
        I = r(51272),
        D = r(56011),
        M = r(61859),
        B = r(82227),
        T = r(25489),
        A = r(78327),
        k = r(3067),
        P = r(36064),
        R = r(15527),
        N = r.n(R),
        O = r(22797);
      function G() {
        return i.createElement(
          "div",
          { className: "STV_ReplayBanner" },
          (0, M.we)("#DASHPlayerControls_IsReplay"),
        );
      }
      const V = (0, a.PA)((e) => {
        let t = e.video;
        if (t && (t.IsBroadcastClip() || t.IsBroadcastVOD())) return null;
        let r = c.fK.Loading,
          n = "";
        if (t) {
          (r = t.GetBroadcastState()), (n = t.GetBroadcastStateDescription());
          let e = t.IsBuffering();
          r == c.fK.Unlocking && ((r = c.fK.Loading), (n = "")),
            r == c.fK.Ready && e && ((r = c.fK.Loading), (n = ""));
        }
        if (t && r != c.fK.Error && t.GetUserInputNeeded()) return null;
        if (r == c.fK.Ready) return null;
        let s = r == c.fK.Loading;
        return i.createElement(
          "div",
          {
            className: "BroadcastVideoWatchState",
            style: { filter: "hue-rotate(40deg)" },
          },
          s && i.createElement(O.t, null),
          !s &&
            i.createElement(
              "div",
              { className: "BroadcastVideoWatchState_Text" },
              n,
            ),
        );
      });
      class L extends i.Component {
        OnClick() {
          c.es.UserInputClickVideo(this.props.video);
        }
        render() {
          return i.createElement(
            "div",
            {
              className: "BroadcastVideoUserInputNeeded",
              onClick: this.OnClick,
            },
            i.createElement(E.jGG, null),
            i.createElement(
              "span",
              null,
              (0, M.we)("#DASHPlayerControls_ClickToPlay"),
            ),
          );
        }
      }
      (0, n.Cg)([d.oI], L.prototype, "OnClick", null);
      let F = class extends i.Component {
        constructor(e) {
          super(e);
        }
        HideStats() {
          this.props.closeStats && this.props.closeStats();
        }
        render() {
          let e = this.props.stats;
          return i.createElement(
            "div",
            { className: "dash_video_stats" },
            i.createElement(
              "button",
              { className: "dash_stat_close_button", onClick: this.HideStats },
              i.createElement(E.sED, null),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_BufferingResolution"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBufferingResolutionToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_PlaybackResolution"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPlaybackResolutionToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_HtmlResolution"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetHTMLVideoResolutionToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_ContentServer"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetContentServerToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_StallEvents"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetStalledEventsToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_FailedDownloads"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetFailedDownloadsToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_TimeToFirstFrame"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetTimeToFirstFrameToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_PlaybackRate"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPlaybackRateForDisplay(),
              ),
            ),
            i.createElement(x, { stats: e }),
          );
        }
      };
      (0, n.Cg)([d.oI], F.prototype, "HideStats", null),
        (F = (0, n.Cg)([a.PA], F));
      let x = class extends i.Component {
        constructor(e) {
          super(e);
        }
        createBufferedRange(e) {
          let t = this.props.stats,
            r = [],
            n = e ? "vidbuf" : "audbuf",
            s = e
              ? t.GetNumBufferedVideoRanges()
              : t.GetNumBufferedAudioRanges();
          if (s > 0)
            for (let a = 0; a < s; ++a) {
              let s = (0, M.we)(
                  e
                    ? "#DASHPlayerStats_VideoBufferRange"
                    : "#DASHPlayerStats_AudioBufferRange",
                  a,
                ),
                o = e
                  ? t.GetBufferedVideoSegmentForDisplay(a)
                  : t.GetBufferedAudioSegmentForDisplay(a);
              r.push(
                i.createElement(
                  "div",
                  { key: n + a },
                  s,
                  " ",
                  i.createElement("span", { className: "videoStatsValue" }, o),
                ),
              );
            }
          else {
            let t = (0, M.we)(
              e
                ? "#DASHPlayerStats_VideoNoRangeInformation"
                : "#DASHPlayerStats_AudioNoRangeInformation",
            );
            r.push(i.createElement("div", { key: n + "none" }, t));
          }
          return r;
        }
        render() {
          let e = this.props.stats;
          return i.createElement(
            "div",
            { className: "dash_video_quick_stats" },
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_BytesReceived"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBytesReceivedToDisplay(),
              ),
            ),
            this.props.stats.BHasFrameInformation() &&
              i.createElement(
                "div",
                null,
                (0, M.we)("#DASHPlayerStats_DroppedFrames"),
                " ",
                i.createElement(
                  "span",
                  { className: "videoStatsValue" },
                  e.GetDroppedFramesToDisplay(),
                ),
              ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_VideoBuffered"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetVideoBufferedToDisplay(),
                " ",
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_AudioBuffered"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetAudioBufferedToDisplay(),
                " ",
              ),
            ),
            this.createBufferedRange(!0),
            this.createBufferedRange(!1),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_BandwidthRequired"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwidthRequiredToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_BandwidthVideo"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwithVideoToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_BandwidthNums"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwidthStatsToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_DownloadNums"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetDownloadTimeStatsToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_ActiveDownloads"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetActiveDownloadsToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_VideoDownloadProgress"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetVideoDownloadProgressToDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_DroppingFrames"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPersistentFrameDropsForDisplay(),
              ),
            ),
            i.createElement(
              "div",
              null,
              (0, M.we)("#DASHPlayerStats_CurrentFPS"),
              " ",
              i.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetCurrentFPSForDisplay(),
              ),
            ),
          );
        }
      };
      x = (0, n.Cg)([a.PA], x);
      var U = r(74872);
      class H extends i.Component {
        m_elSettingsButton;
        m_SettingsButtonPos;
        m_elClickListener;
        m_elSettingsPanel;
        m_elSubtitlesButton = i.createRef();
        m_elSubtitlesPanel = i.createRef();
        m_SubtitlesButtonPos;
        constructor(e) {
          super(e), (this.state = { bSettingsOpen: !1, bSubtitlesOpen: !1 });
        }
        OnVideoControlClick(e) {
          this.setState({ bSettingsOpen: !this.state.bSettingsOpen }),
            (this.m_SettingsButtonPos = [
              this.m_elSettingsButton.offsetLeft,
              this.m_elSettingsButton.offsetTop,
            ]),
            (this.m_elClickListener =
              e.currentTarget.ownerDocument.defaultView),
            this.m_elClickListener.addEventListener(
              "mouseup",
              this.OnMouseUp,
              !0,
            );
        }
        OnSubtitlesClick(e) {
          this.setState({ bSubtitlesOpen: !this.state.bSubtitlesOpen }),
            (this.m_SubtitlesButtonPos = [
              this.m_elSubtitlesButton.current.offsetLeft,
              this.m_elSubtitlesButton.current.offsetTop,
            ]),
            (this.m_elClickListener =
              e.currentTarget.ownerDocument.defaultView),
            this.m_elClickListener.addEventListener(
              "mouseup",
              this.OnMouseUp,
              !0,
            );
        }
        OnMouseUp(e) {
          this.m_elClickListener.removeEventListener(
            "mouseup",
            this.OnMouseUp,
            !0,
          ),
            (0, D.id)(this.m_elSettingsPanel, e.target) ||
              this.setState({ bSettingsOpen: !1 }),
            (0, D.id)(this.m_elSubtitlesPanel.current, e.target) ||
              this.setState({ bSubtitlesOpen: !1 });
        }
        bindSettingsButton(e) {
          this.m_elSettingsButton = e;
        }
        BindSettingsPanel(e) {
          this.m_elSettingsPanel = e;
        }
        OnShowStats(e) {
          this.props.onShowStats(e),
            this.setState({ bSettingsOpen: !this.state.bSettingsOpen });
        }
        render() {
          let e = !1,
            t = !1;
          const { video: r, actions: n } = this.props;
          let s,
            a,
            o = 0,
            l = i.createElement("div", {
              key: "separator",
              className: "settingsMenuSeparator",
            });
          if (
            (this.state.bSettingsOpen &&
              ((e = !0),
              (s = this.props.video.GetVideoRepresentations()),
              (a = s.map((e) =>
                i.createElement(
                  U.n,
                  {
                    key: e.id,
                    onClick: () => {
                      this.props.video.SetVideoRepresentation(e),
                        this.setState({
                          bSettingsOpen: !this.state.bSettingsOpen,
                        });
                    },
                    bChecked: e.selected,
                  },
                  e.displayName,
                ),
              )),
              a.push(l),
              a.push(
                i.createElement(
                  U.D,
                  { key: "statsToggle", onClick: this.OnShowStats },
                  (0, M.we)("#Broadcast_VideoContext_ToggleStats"),
                  "\t",
                ),
              ),
              (o = 0 - (21 * a.length + 32))),
            this.state.bSubtitlesOpen)
          ) {
            (t = !0),
              (a = []),
              a.push(
                i.createElement(
                  U.n,
                  {
                    key: "none",
                    onClick: () => {
                      this.props.video.SetSubtitles(null),
                        this.setState({
                          bSubtitlesOpen: !this.state.bSubtitlesOpen,
                        });
                    },
                    className: "NoSubtitles",
                    bChecked: !1,
                  },
                  (0, M.we)("#Broadcast_None"),
                ),
              );
            for (let e = 0; e < this.props.video.ListSubtitles().length; e++) {
              const t = this.props.video.ListSubtitles()[e];
              a.push(
                i.createElement(
                  U.n,
                  {
                    key: t.language,
                    onClick: () => {
                      this.props.video.SetSubtitles(t.language),
                        this.setState({
                          bSubtitlesOpen: !this.state.bSubtitlesOpen,
                        });
                    },
                    bChecked: "showing" === t.mode,
                  },
                  t.label,
                ),
              );
            }
            o = -292;
          }
          const c =
            this.props.video.BHasPlayer() && this.props.video.BHasTimedText();
          return i.createElement(
            "div",
            { className: "STV_BroadcastSettings" },
            c &&
              i.createElement(
                "div",
                {
                  className:
                    "videoControlButton" + (c ? " ClosedCaptionsActive" : ""),
                  onClick: this.OnSubtitlesClick,
                  ref: this.m_elSubtitlesButton,
                },
                i.createElement(E.N8C, null),
              ),
            i.createElement(
              "div",
              {
                className:
                  "videoControlButton VideoSettings " +
                  (e ? " VideoSettingsOpen" : ""),
                onClick: this.OnVideoControlClick,
                ref: this.bindSettingsButton,
              },
              i.createElement(E.wB_, null),
            ),
            i.createElement(W, { video: r }),
            n &&
              n.map((e) =>
                i.createElement(
                  "div",
                  {
                    key: e.key,
                    className: "videoControlButton videoControlFitWidth",
                  },
                  e,
                ),
              ),
            e &&
              i.createElement(
                "div",
                {
                  ref: this.BindSettingsPanel,
                  className: "STV_BroadcastSettingsPanel",
                  style: {
                    left: this.m_SettingsButtonPos[0],
                    top: this.m_SettingsButtonPos[1],
                    marginTop: o,
                  },
                },
                i.createElement(
                  "div",
                  { className: "STV_BroadcastSettingsMenuItems" },
                  a,
                ),
              ),
            t &&
              i.createElement(
                "div",
                {
                  ref: this.m_elSubtitlesPanel,
                  className: "STV_BroadcastSettingsPanel SubtitlesMenu",
                  style: {
                    maxHeight: "260px",
                    left: this.m_SubtitlesButtonPos[0],
                    top: this.m_SubtitlesButtonPos[1],
                    marginTop: o,
                  },
                },
                i.createElement(
                  "div",
                  { className: "STV_BroadcastSettingsMenuItems" },
                  a,
                ),
              ),
          );
        }
      }
      (0, n.Cg)([d.oI], H.prototype, "OnVideoControlClick", null),
        (0, n.Cg)([d.oI], H.prototype, "OnSubtitlesClick", null),
        (0, n.Cg)([d.oI], H.prototype, "OnMouseUp", null),
        (0, n.Cg)([d.oI], H.prototype, "bindSettingsButton", null),
        (0, n.Cg)([d.oI], H.prototype, "BindSettingsPanel", null),
        (0, n.Cg)([d.oI], H.prototype, "OnShowStats", null);
      let W = class extends i.Component {
        constructor(e) {
          super(e), (0, s.Gn)(this);
        }
        k_nHideSliderTimeout = 1500;
        m_bShowSlider = true;
        m_schHideSlider = new m.LU();
        m_bChildDragging = !1;
        m_bMouseOver = !1;
        componentWillUnmount() {
          this.m_schHideSlider.Cancel();
        }
        ToggleMute() {
          let e = this.props.video,
            t = e.IsMuted();
          e.SetMute(!t), e.GetVolume() < 0.01 && e.SetVolume(0.5);
        }
        OnMouseEnter(e) {
          (this.m_bShowSlider = !0),
            (this.m_bMouseOver = !0),
            this.m_schHideSlider.Cancel();
        }
        OnMouseLeave(e) {
          (this.m_bMouseOver = !1), this.ScheduleHide();
        }
        OnChildDrag(e) {
          (this.m_bChildDragging = e), this.ScheduleHide();
        }
        ScheduleHide() {
          this.m_bMouseOver ||
            this.m_bChildDragging ||
            this.m_schHideSlider.Schedule(
              this.k_nHideSliderTimeout,
              () => (this.m_bShowSlider = true),
            );
        }
        render() {
          let e = this.props.video,
            t = e.IsMuted(),
            r = 100 * e.GetVolume(),
            n = "videoControlButton";
          r > 65
            ? (n += " HighestVolume")
            : r > 45
              ? (n += " HighVolume")
              : r < 46 && r > 24
                ? (n += " MedVolume")
                : r < 25 && (n += " LowVolume");
          let s = "BroadcastVolumeControl";
          return (
            this.m_bShowSlider && (s += " ShowVolumeSlider"),
            t && (s += " muted"),
            i.createElement(
              "div",
              {
                className: s,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
              },
              i.createElement(
                "div",
                { className: "BroadcastVolumeControl_FixedLayout" },
                i.createElement(
                  "div",
                  { className: n, onClick: this.ToggleMute },
                  i.createElement(E.fSs, null),
                ),
                i.createElement(q, { video: e, onDrag: this.OnChildDrag }),
              ),
            )
          );
        }
      };
      (0, n.Cg)([s.sH], W.prototype, "m_bShowSlider", void 0),
        (0, n.Cg)([d.oI], W.prototype, "ToggleMute", null),
        (0, n.Cg)([d.oI], W.prototype, "OnMouseEnter", null),
        (0, n.Cg)([d.oI], W.prototype, "OnMouseLeave", null),
        (0, n.Cg)([d.oI], W.prototype, "OnChildDrag", null),
        (W = (0, n.Cg)([a.PA], W));
      let q = class extends i.Component {
        constructor(e) {
          super(e), (0, s.Gn)(this);
        }
        m_elSlider = null;
        m_nVolumeStartOfDrag = 0;
        OnMouseDown(e) {
          let t = e.currentTarget;
          (this.m_elSlider = t),
            (this.m_nVolumeStartOfDrag = this.props.video.GetVolume()),
            this.SetVolumeWithCoord(t, e.clientX),
            t.ownerDocument.defaultView.addEventListener(
              "mousemove",
              this.OnMouseMove,
            ),
            t.ownerDocument.defaultView.addEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            this.props.onDrag(!0);
        }
        OnMouseMove(e) {
          this.m_elSlider &&
            this.SetVolumeWithCoord(this.m_elSlider, e.clientX);
        }
        OnMouseUp(e) {
          if (!this.m_elSlider) return;
          this.SetVolumeWithCoord(this.m_elSlider, e.clientX);
          let t = this.props.video;
          t.IsMuted() && t.SetVolume(this.m_nVolumeStartOfDrag),
            this.m_elSlider.ownerDocument.defaultView.removeEventListener(
              "mousemove",
              this.OnMouseMove,
            ),
            this.m_elSlider.ownerDocument.defaultView.removeEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            (this.m_nVolumeStartOfDrag = 0),
            (this.m_elSlider = null),
            this.props.onDrag(!1);
        }
        SetVolumeWithCoord(e, t) {
          let r = e.getBoundingClientRect(),
            n = T.Fu(t, r.left, r.right, 0, 1),
            s = T.OQ(n, 0, 1),
            a = this.props.video;
          a.SetMute(n < 0.01), a.SetVolume(s);
        }
        render() {
          let e = this.props.video,
            t = 100 * e.GetVolume();
          e.IsMuted() && (t = 0);
          let r = { left: `${t}%` },
            n = { width: `${t}%` };
          return i.createElement(
            "div",
            {
              className: "BroadcastVolumeSlider",
              onMouseDown: this.OnMouseDown,
            },
            i.createElement("div", {
              className: "BroadcastVolumeSlider_Track",
            }),
            i.createElement("div", {
              className: "BroadcastVolumeSlider_Fill",
              style: n,
            }),
            i.createElement("div", {
              className: "BroadcastVolumeSlider_Thumb",
              style: r,
            }),
          );
        }
      };
      (0, n.Cg)([d.oI], q.prototype, "OnMouseDown", null),
        (0, n.Cg)([d.oI], q.prototype, "OnMouseMove", null),
        (0, n.Cg)([d.oI], q.prototype, "OnMouseUp", null),
        (0, n.Cg)([s.XI], q.prototype, "SetVolumeWithCoord", null),
        (q = (0, n.Cg)([a.PA], q));
      var z = r(15759);
      const Q = 15;
      let j = class extends i.Component {
        m_schHideControls = new m.LU();
        m_schUnmountControls = new m.LU();
        m_elVideo = null;
        m_elBroadcastPlayer = null;
        m_bMouseDown = !1;
        m_elMouseDown = null;
        m_listeners = new m.Ji();
        constructor(e) {
          super(e),
            (this.state = {
              bMountControls: !1,
              bControlsVisible: !1,
              bShowStats: !1,
              video: null,
              nResizedHeight: null,
              bFullscreen: !1,
            });
        }
        StopVideo() {
          let e = this.state.video;
          e &&
            (c.es.StopVideo(e),
            this.setState({ video: null }),
            this.props.fnSetBroadcastVideo?.(null));
        }
        IsMuted() {
          let e = this.state.video;
          return !e || e.IsMuted();
        }
        StopPlaybackTillUserInput() {
          let e = this.state.video;
          e && e.StopPlaybackTillUserInput();
        }
        componentDidUpdate(e, t) {
          !t.bMountControls && this.state.bMountControls
            ? setTimeout(() => {
                this.setState((e) => ({ bControlsVisible: e.bMountControls }));
              }, 15)
            : t.bControlsVisible &&
              !this.state.bControlsVisible &&
              this.state.video &&
              !this.state.video.IsPaused() &&
              this.m_schUnmountControls.Schedule(2e3, this.UmountControls),
            this.props.steamIDBroadcast !== e.steamIDBroadcast &&
              this.BindVideoRef(this.m_elVideo),
            !this.props.nAppIDVOD ||
              (void 0 !== t.strInitialCapsuleImageUrl &&
                e.nAppIDVOD == this.props.nAppIDVOD) ||
              u.A.Get()
                .QueueAppRequest(this.props.nAppIDVOD, {
                  include_assets: !0,
                  include_trailers: !0,
                })
                .then(() => {
                  const e = u.A.Get().GetApp(this.props.nAppIDVOD),
                    t = e?.GetAssets().GetMainCapsuleURL() || "";
                  this.setState({ strInitialCapsuleImageUrl: t });
                });
        }
        componentWillUnmount() {
          this.m_listeners.Unregister(),
            this.m_schHideControls.Cancel(),
            this.m_schUnmountControls.Cancel(),
            this.StopVideo();
        }
        BindBroadcastPlayerRef(e) {
          this.m_listeners.Unregister(),
            (this.m_elBroadcastPlayer = e),
            e &&
              (this.m_listeners.AddEventListener(
                e,
                "fullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "mozfullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "webkitfullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "msfullscreenchange",
                this.OnFullscreenChange,
              ));
        }
        BindVideoRef(e) {
          let t;
          this.StopVideo(),
            this.props.steamIDBroadcast
              ? e &&
                (t = c.es.CreateBroadcastVideo(
                  e,
                  this.props.steamIDBroadcast,
                  this.props.watchLocation,
                  this.props.bWebRTC,
                ))
              : this.props.broadcastClipID
                ? e &&
                  (t = c.es.CreateClipVideo(
                    e,
                    this.props.broadcastClipID,
                    this.props.watchLocation,
                  ))
                : this.props.nAppIDVOD &&
                  e &&
                  ((t = c.es.CreateVODVideo(
                    e,
                    this.props.nAppIDVOD,
                    this.props.watchLocation,
                  )),
                  this.props.fnOnVideoEnd &&
                    t.SetOnVideoCallback(this.props.fnOnVideoEnd)),
            t &&
              (this.props.bStartMuted && t.SetMute(!0),
              this.props.bStartWithSubtitles && t.SetStartWithSubtitles(!0),
              this.props.bStartPaused
                ? t.StopPlaybackTillUserInput()
                : t.Play()),
            this.setState({ video: t }),
            this.props.fnSetBroadcastVideo?.(t),
            (this.m_elVideo = e);
        }
        OnMouseDown(e) {
          (this.m_bMouseDown = !0),
            (this.m_elMouseDown = e.currentTarget),
            this.m_elMouseDown.ownerDocument.defaultView.addEventListener(
              "mouseup",
              this.OnMouseUp,
            );
        }
        OnMouseUp(e) {
          (this.m_bMouseDown = !1),
            this.m_elMouseDown.ownerDocument.defaultView.removeEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            this.m_schHideControls.Schedule(3200, this.HideControls);
        }
        OnMouseMove(e) {
          this.m_schHideControls.Cancel(),
            this.m_schUnmountControls.Cancel(),
            this.state.bMountControls
              ? this.state.bControlsVisible ||
                this.setState({ bControlsVisible: !0 })
              : this.setState({ bMountControls: !0 }),
            this.m_schHideControls.Schedule(3200, this.HideControls);
        }
        OnMouseLeave(e) {
          this.HideControls();
        }
        HideControls() {
          this.state.bControlsVisible &&
            !this.m_bMouseDown &&
            this.setState({ bControlsVisible: !1 });
        }
        UmountControls() {
          this.setState((e) => {
            if (!e.bControlsVisible && e.bMountControls)
              return { bMountControls: !1 };
          });
        }
        ShowStatsView() {
          let e = this.state.video;
          e &&
            (this.state.bShowStats ||
              (this.setState({ bShowStats: !0 }), e.SetStatsViewIsVisible(!0)));
        }
        OnContextMenu(e) {
          this.state.bFullscreen ||
            ((0, o.lX)(
              i.createElement(h.tz, null, this.GetContextMenuItems()),
              e,
            ),
            e.preventDefault());
        }
        ToggleStatsView(e) {
          let t = !this.state.bShowStats;
          this.setState({ bShowStats: t });
          let r = this.state.video;
          r && r.SetStatsViewIsVisible(t);
        }
        ShowStorePage(e) {
          let t = this.state.video;
          if (!t || !this.props.onOpenLinkInNewWindow) return;
          let r = t.GetBroadcastInfo();
          if (!r) return;
          let n = (0, l.k2)(`${A.TS.STORE_BASE_URL}app/${r.m_strAppId}`);
          this.props.onOpenLinkInNewWindow(e, n), e.stopPropagation();
        }
        GetContextMenuItems() {
          let e = [],
            t = this.state.video;
          if (!t) return e;
          let r = t.GetBroadcastInfo();
          return (
            e.push(
              i.createElement(
                h.IK,
                {
                  key: "togglestats",
                  bChecked: this.state.bShowStats,
                  onSelected: (e) => {
                    this.ToggleStatsView(e);
                  },
                },
                (0, M.we)("#Broadcast_VideoContext_ToggleStats"),
              ),
            ),
            r &&
              "0" != r.m_strAppId &&
              Number.parseInt(r.m_strAppId) != c.fO &&
              e.push(
                i.createElement(
                  h.kt,
                  {
                    key: "visitstore",
                    onSelected: (e) => {
                      this.ShowStorePage(e);
                    },
                  },
                  (0, M.we)("#Broadcast_VideoContext_OpenStore"),
                ),
              ),
            e
          );
        }
        CloseStats() {
          let e = this.state.video;
          e &&
            this.state.bShowStats &&
            (this.setState({ bShowStats: !1 }), e.SetStatsViewIsVisible(!1));
        }
        OnToggleFullscreen() {
          this.m_elBroadcastPlayer &&
            ((0, D.ww)(this.m_elBroadcastPlayer)
              ? (0, D.MS)(this.m_elBroadcastPlayer)
              : (0, D.tl)(this.m_elBroadcastPlayer, this.m_elVideo));
        }
        OnFullscreenChange(e) {
          if (!this.m_elBroadcastPlayer) return;
          let t = (0, D.ww)(this.m_elBroadcastPlayer);
          this.setState({ bFullscreen: t });
        }
        BHideVideoControls() {
          let e = this.state.video;
          return (
            !e ||
            !!e.GetUserInputNeeded() ||
            c.es.GetBroadcastState(e) == c.fK.Error
          );
        }
        render() {
          const e = this.state.video,
            t = e && e.IsPaused(),
            r = e && e.BHasDASHStats() && this.state.bShowStats,
            n = Boolean(e && e.IsReplay()),
            s = this.state.bMountControls,
            a = this.state.bControlsVisible || t,
            o = e && e.GetUserInputNeeded(),
            l =
              e?.IsBroadcastVOD() && o && this.state.strInitialCapsuleImageUrl;
          let c = "videoContainer";
          a || (c += " HidePlayerControls"),
            t && (c += " VideoPaused"),
            this.state.bFullscreen && (c += " fullscreenVideo"),
            this.props.classes && (c += " " + this.props.classes);
          let u = [];
          !this.state.bFullscreen &&
            this.props.actions &&
            (u = u.concat(this.props.actions)),
            !this.state.bFullscreen &&
              this.props.onTheaterMode &&
              u.push(
                i.createElement("div", {
                  key: "ChatPosToggle ChatTheaterToggle",
                  onClick: this.props.onTheaterMode,
                  title: (0, M.we)("#Broadcast_View_Theater"),
                  className: "BroadcastTheaterToggle",
                }),
              ),
            u.push(
              i.createElement("div", {
                key: "FullscreenToggle",
                title: (0, M.we)("#Broadcast_View_Fullscreen"),
                onClick: this.OnToggleFullscreen,
                className: "BroadcastFullscreenToggle",
              }),
            );
          const d = s && !this.BHideVideoControls(),
            m = s && !this.state.bFullscreen,
            h =
              this.props.fnRenderBroadcastContext &&
              this.props.fnRenderBroadcastContext();
          return i.createElement(
            "div",
            {
              ref: this.BindBroadcastPlayerRef,
              className: c,
              onMouseMove: this.OnMouseMove,
              onClick: this.OnMouseMove,
              onMouseLeave: this.OnMouseLeave,
              onContextMenu: this.OnContextMenu,
              onMouseDown: this.OnMouseDown,
            },
            h && i.createElement("div", { className: N().BroadcastContext }, h),
            n && i.createElement(G, null),
            this.props.showVideoBackgroundBlur &&
              i.createElement(p, {
                className: "videoBlur",
                elementRef: this.m_elVideo,
                updateRate: 33,
                width: 320,
                height: 180,
                reductionFactor: 10,
                blurAmount: 5,
              }),
            i.createElement("video", {
              className: "videoSrc",
              ref: this.BindVideoRef,
              muted: this.props.bMuted ?? !0,
              autoPlay: !0,
              playsInline: !0,
              controls: !1,
              onVolumeChange: this.props.fnVolumeChanged,
              onClick: this.props.fnVideoClick,
            }),
            this.props.linkRegions
              ? i.createElement(oe, {
                  linkRegions: this.props.linkRegions,
                  editMode: this.props.editMode,
                  onSaveLinkRegions: this.props.onSaveLinkRegions,
                })
              : null,
            this.props.linkElement,
            l &&
              i.createElement("img", {
                loading: "lazy",
                className: (0, S.A)(
                  N().BroadcastPlaceholderImg,
                  "BroadcastPlaceholderImg",
                ),
                src: this.state.strInitialCapsuleImageUrl,
              }),
            d &&
              i.createElement(Z, {
                video: e,
                actions: u,
                onOpenLinkInNewWindow: this.props.onOpenLinkInNewWindow,
                onShowStats: this.ToggleStatsView,
                bIncludeClipEditor: this.props.bIncludeClipEditor,
              }),
            m && i.createElement(Y, { onClick: this.props.onRequestClose }),
            r &&
              i.createElement(F, {
                stats: e.GetDASHPlayerStats(),
                closeStats: this.CloseStats,
              }),
            i.createElement(V, { video: e }),
            o && i.createElement(L, { video: e }),
          );
        }
      };
      (0, n.Cg)([d.oI], j.prototype, "BindBroadcastPlayerRef", null),
        (0, n.Cg)([d.oI], j.prototype, "BindVideoRef", null),
        (0, n.Cg)([d.oI], j.prototype, "OnMouseDown", null),
        (0, n.Cg)([d.oI], j.prototype, "OnMouseUp", null),
        (0, n.Cg)([d.oI], j.prototype, "OnMouseMove", null),
        (0, n.Cg)([d.oI], j.prototype, "OnMouseLeave", null),
        (0, n.Cg)([d.oI], j.prototype, "HideControls", null),
        (0, n.Cg)([d.oI], j.prototype, "UmountControls", null),
        (0, n.Cg)([d.oI], j.prototype, "ShowStatsView", null),
        (0, n.Cg)([d.oI], j.prototype, "OnContextMenu", null),
        (0, n.Cg)([d.oI], j.prototype, "ToggleStatsView", null),
        (0, n.Cg)([d.oI], j.prototype, "ShowStorePage", null),
        (0, n.Cg)([d.oI], j.prototype, "CloseStats", null),
        (0, n.Cg)([d.oI], j.prototype, "OnToggleFullscreen", null),
        (0, n.Cg)([d.oI], j.prototype, "OnFullscreenChange", null),
        (j = (0, n.Cg)([a.PA], j));
      const K = j;
      let Z = class extends i.Component {
        render() {
          const { video: e } = this.props;
          if (!e) return null;
          let t = e.has_segments;
          return i.createElement(
            "div",
            { className: "videoControls" },
            i.createElement(ae, {
              steamID: this.props.video.GetBroadcastSteamID(),
              bHideThumbnail: !0,
              bVerticalBroadcastChat: !0,
              onOpenLinkInNewWindow: this.props.onOpenLinkInNewWindow,
            }),
            i.createElement(
              "div",
              { className: "videoControlsBottom" + (t ? "" : " noSegments") },
              i.createElement(se, {
                video: e,
                bIncludeClipEditor: this.props.bIncludeClipEditor,
              }),
              i.createElement(
                "div",
                { className: "STV_BroadcastController" },
                i.createElement("div", {
                  className: "videoControlsButtons LeftSpacer",
                }),
                i.createElement(J, { video: e }),
                i.createElement(X, { video: e }),
                i.createElement(H, {
                  video: e,
                  actions: this.props.actions,
                  onShowStats: this.props.onShowStats,
                }),
              ),
            ),
          );
        }
      };
      Z = (0, n.Cg)([a.PA], Z);
      class Y extends i.PureComponent {
        render() {
          return this.props.onClick
            ? i.createElement(
                "div",
                {
                  className: "STV_BroadcastClose",
                  onClick: this.props.onClick,
                },
                i.createElement(E.sED, null),
              )
            : null;
        }
      }
      class J extends i.Component {
        OnJumpBackward() {
          this.props.video.JumpTime(-15);
        }
        OnJumpForward() {
          this.props.video.JumpTime(Q);
        }
        render() {
          let e = this.props.video,
            t = e.CanSeek();
          return i.createElement(
            "div",
            { className: "videoControlsButtons PlayControls" },
            i.createElement(ee, { video: e }),
            t &&
              i.createElement(
                "div",
                {
                  className: "videoControlButton videoControlJump controlFlip",
                  onClick: this.OnJumpBackward,
                },
                i.createElement(E.tID, {
                  bHidePostArrow: !0,
                  bHidePreArrow: !0,
                  bShowJumpAheadBox: !0,
                  bFlipHorizontal: !0,
                }),
                i.createElement("div", { className: "jumpAheadValue" }, Q),
              ),
            i.createElement($, { video: e }),
            t &&
              i.createElement(
                "div",
                {
                  className: "videoControlButton videoControlJump",
                  onClick: this.OnJumpForward,
                },
                i.createElement(E.tID, {
                  bHidePostArrow: !0,
                  bHidePreArrow: !0,
                  bShowJumpAheadBox: !0,
                  bFlipHorizontal: !1,
                }),
                i.createElement("div", { className: "jumpAheadValue" }, Q),
              ),
            t && i.createElement(te, { video: e }),
          );
        }
      }
      (0, n.Cg)([d.oI], J.prototype, "OnJumpBackward", null),
        (0, n.Cg)([d.oI], J.prototype, "OnJumpForward", null);
      const X = (0, a.PA)((e) => {
        if (e.video.IsBroadcastClip() || e.video.IsBroadcastVOD()) return null;
        let t = e.video.IsOnLiveEdge();
        return i.createElement(
          "div",
          { className: "videoControlsButtons GoLive" },
          i.createElement(
            "div",
            {
              className:
                "videoControlButton videoControlGoLive" +
                (t ? " isLiveEdge" : ""),
              onClick: t
                ? null
                : (t) => {
                    e.video.JumpToLiveEdge();
                  },
            },
            i.createElement(E.tID, {
              bHidePreArrow: !0,
              bHidePostArrow: !0,
              bFlipHorizontal: !1,
            }),
            i.createElement(
              "div",
              { className: "jumpGoLive" },
              (0, M.we)(
                t ? "#DASHPlayerControls_IsLive" : "#DASHPlayerControls_GoLive",
              ),
            ),
          ),
        );
      });
      let $ = class extends i.Component {
        OnTogglePlayPause() {
          this.props.video.TogglePlayPause();
        }
        render() {
          let e = this.props.video.IsPaused();
          return i.createElement(
            "div",
            {
              className: "videoControlButton buttonPlayPause",
              onClick: this.OnTogglePlayPause,
            },
            e ? i.createElement(E.jGG, null) : i.createElement(E.vRz, null),
          );
        }
      };
      (0, n.Cg)([d.oI], $.prototype, "OnTogglePlayPause", null),
        ($ = (0, n.Cg)([a.PA], $));
      let ee = class extends i.Component {
        constructor(e) {
          super(e), (0, s.Gn)(this), (this.video = e.video);
        }
        componentDidUpdate() {
          this.video = this.props.video;
        }
        video = void 0;
        get has_previous_marker() {
          return void 0 !== this.GetPreviousMarkerTime();
        }
        GetPreviousMarkerTime() {
          if (!this.video.has_markers) return;
          let e = this.video.GetTimelineMarkers(),
            t = this.video.GetPlaybackTime();
          for (let r = e.length - 1; r >= 0; r--)
            if (!(e[r].nTime >= t)) return e[r].nTime;
        }
        OnJumpToPreviousMarkerClicked(e) {
          let t = this.GetPreviousMarkerTime();
          void 0 !== t && this.props.video.Seek(t - 0.2);
        }
        render() {
          let e = this.props.video.BHasMarkersOrSegments();
          return i.createElement(
            "div",
            {
              className:
                "videoControlButton jumpToMarker controlFlip" +
                (e ? "" : " noMarkersOrSegments") +
                (this.has_previous_marker ? "" : " noMarkersInDirection"),
              onClick: this.OnJumpToPreviousMarkerClicked,
            },
            i.createElement(E.tID, { bHidePostArrow: !0, bFlipHorizontal: !0 }),
          );
        }
      };
      (0, n.Cg)([s.sH], ee.prototype, "video", void 0),
        (0, n.Cg)([s.EW], ee.prototype, "has_previous_marker", null),
        (0, n.Cg)([d.oI], ee.prototype, "OnJumpToPreviousMarkerClicked", null),
        (ee = (0, n.Cg)([a.PA], ee));
      let te = class extends i.Component {
        constructor(e) {
          super(e), (0, s.Gn)(this), (this.video = e.video);
        }
        componentDidUpdate() {
          this.video = this.props.video;
        }
        video = void 0;
        get has_next_marker() {
          return void 0 !== this.GetNextMarkerTime();
        }
        GetNextMarkerTime() {
          if (!this.video.has_markers) return;
          let e = this.video.GetTimelineMarkers(),
            t = this.video.GetPlaybackTime();
          for (let r = 0; r < e.length; r++)
            if (!(e[r].nTime <= t)) return e[r].nTime;
        }
        OnJumpToNextMarkerClicked(e) {
          let t = this.GetNextMarkerTime();
          void 0 !== t && this.props.video.Seek(t);
        }
        render() {
          let e = this.props.video.BHasMarkersOrSegments();
          return i.createElement(
            "div",
            {
              className:
                "videoControlButton jumpToMarker" +
                (e ? "" : " noMarkersOrSegments") +
                (this.has_next_marker ? "" : " noMarkersInDirection"),
              onClick: this.OnJumpToNextMarkerClicked,
            },
            i.createElement(E.tID, { bHidePostArrow: !0, bFlipHorizontal: !1 }),
          );
        }
      };
      (0, n.Cg)([s.sH], te.prototype, "video", void 0),
        (0, n.Cg)([s.EW], te.prototype, "has_next_marker", null),
        (0, n.Cg)([d.oI], te.prototype, "OnJumpToNextMarkerClicked", null),
        (te = (0, n.Cg)([a.PA], te));
      const re = (e) =>
        i.createElement(
          "div",
          {
            className: "timelineMarker",
            title: e.label,
            style: { left: e.pos + "%" },
            onMouseEnter: () => e.onMouseEnter(e.pos),
            onMouseLeave: e.onMouseLeave,
            onMouseDown: e.onMouseDown ? e.onMouseDown : void 0,
          },
          i.createElement(
            "div",
            { className: "timelineMarkerIcon" },
            i.createElement(E.Dp6, null),
          ),
        );
      function ne(e) {
        let t = e.startPos,
          r = e.endPos,
          n = "",
          s = 1;
        return (
          t < 0 && ((s = (r - t) / 10), (t = 0), (n = " hideFront")),
          i.createElement(
            "div",
            {
              className: "STV_timelineSegment" + n,
              style: { left: t + "%", width: r - t + "%", opacity: s },
              onClick: e.onClick,
            },
            i.createElement("div", {
              className: "STV_timelineSegmentFrontFill",
              style: { borderColor: "rgb(" + e.color + ")" },
            }),
            i.createElement(
              "div",
              {
                className: "STV_timelineSegmentLabel",
                style: { color: "rgb(" + e.color + ")" },
              },
              e.label,
            ),
            i.createElement("div", {
              className: "STV_timelineSegmentBackFill",
              style: { borderColor: "rgb(" + e.color + ")" },
            }),
          )
        );
      }
      let se = class extends i.Component {
        m_elSlider = i.createRef();
        m_rectSlider = void 0;
        constructor(e) {
          super(e),
            (this.state = {
              nGrabberMouseDownTime: 0,
              bGrabberMouseDown: !1,
              nHoverValue: void 0,
              hoverX: 0,
              bStartMouseDown: !1,
              bEndMouseDown: !1,
              thumbnailURL: "",
            });
        }
        OnMouseDown(e, t) {
          if (this.m_elSlider) {
            e.persist(),
              (this.m_rectSlider =
                this.m_elSlider.current &&
                this.m_elSlider.current.getBoundingClientRect());
            let r = {};
            "start" === t
              ? ((r = { bStartMouseDown: !0 }), e.stopPropagation())
              : "end" === t
                ? ((r = { bEndMouseDown: !0 }), e.stopPropagation())
                : (r = { bGrabberMouseDown: !0 }),
              this.setState(r, () => this.AdjustSliderForClientX(e.clientX)),
              this.m_elSlider.current.ownerDocument.defaultView.addEventListener(
                "mousemove",
                this.OnMouseMove,
              ),
              this.m_elSlider.current.ownerDocument.defaultView.addEventListener(
                "mouseup",
                this.OnMouseUp,
              );
          }
        }
        OnMouseMove(e) {
          this.AdjustSliderForClientX(e.clientX);
        }
        OnMouseUp(e) {
          this.state.bStartMouseDown
            ? this.setState({ bStartMouseDown: !1 })
            : this.state.bEndMouseDown
              ? this.setState({ bEndMouseDown: !1 })
              : (this.props.video.Seek(this.state.nGrabberMouseDownTime),
                this.setState({
                  bGrabberMouseDown: !1,
                  nGrabberMouseDownTime: 0,
                })),
            this.m_elSlider.current &&
              (this.m_elSlider.current.ownerDocument.defaultView.removeEventListener(
                "mousemove",
                this.OnMouseMove,
              ),
              this.m_elSlider.current.ownerDocument.defaultView.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              ));
        }
        OnKeyDown(e) {
          37 == e.keyCode
            ? (this.props.video.JumpTime(-15), e.preventDefault())
            : 39 == e.keyCode &&
              (this.props.video.JumpTime(15), e.preventDefault());
        }
        AdjustSliderForClientX(e) {
          let t = this.props.video,
            r = t.GetTimelineStartPos(),
            n = t.GetTimelineStartPos() + t.GetTimelineDuration(),
            s = t.GetTimeAtMousePosition(e, this.m_rectSlider, r, n);
          if (this.state.bStartMouseDown) {
            const e = T.OQ(s, r, t.m_editorEndTime - 5);
            t.m_editorStartTime = e;
          } else if (this.state.bEndMouseDown) {
            const e = T.OQ(s, t.m_editorStartTime + 5, n);
            t.m_editorEndTime = e;
          } else
            s != this.state.nGrabberMouseDownTime &&
              this.setState({ nGrabberMouseDownTime: s });
        }
        OnMouseHoverMove(e) {
          this.AdjustHoverForClientX(e.clientX);
        }
        OnMouseHoverLeave(e) {
          this.setState({ hoverX: 0 });
        }
        AdjustHoverForClientX(e) {
          let t = this.props.video,
            r = t.GetTimelineStartPos(),
            n = t.GetTimelineStartPos() + t.GetTimelineDuration();
          this.m_rectSlider =
            this.m_elSlider.current &&
            this.m_elSlider.current.getBoundingClientRect();
          t.GetTimeAtMousePosition(e, this.m_rectSlider, r, n);
        }
        OnSegmentClick(e) {
          this.props.video.Seek(e);
        }
        OnMarkerMouseEnter(e) {
          this.setState({ nHoverValue: e });
        }
        OnMarkerMouseLeave() {
          this.setState({ nHoverValue: void 0 });
        }
        render() {
          let e = this.props.video,
            t = this.state.bGrabberMouseDown,
            r = e.GetPercentOffsetFromTime(
              this.state.nGrabberMouseDownTime,
              c.a0.Timeline,
            ),
            n = e.GetPercentOffsetFromTime(e.GetPlaybackTime(), c.a0.Timeline),
            s = e.GetPercentOffsetFromTime(
              e.GetVideoAvailableStartTime(),
              c.a0.Timeline,
            );
          s < 0.05 && (s = 0);
          let a = T.OQ(r, 0, 100).toFixed(1) + "%",
            o = T.OQ(n, 0, 100).toFixed(1) + "%",
            l = T.OQ(s, 0, 100).toFixed(1) + "%",
            u = {},
            d = {},
            m = {},
            p = {};
          t
            ? ((p.left = a), (u.width = a), (d.width = o), (m.width = l))
            : ((p.left = o), (d.width = o), (m.width = l));
          let h = (0, P.ap)(e.GetPlaybackTime()),
            g = (0, P.ap)(this.state.nHoverValue),
            _ = "STV_timelineContainer";
          this.state.bGrabberMouseDown && (_ += " grabberDown"),
            e.IsTimelineMapActive() && (_ += " minimapActive");
          let S = "";
          (r = t ? r : n),
            r > 100
              ? (S = " grabberOffScreenRight grabberOffscreen")
              : r < 0 && (S = " grabberOffScreenLeft grabberOffscreen");
          let v = [];
          e.GetTimelineMarkers().forEach((t, r) => {
            let n = e.GetPercentOffsetFromTime(t.nTime, c.a0.Timeline);
            n < 0 ||
              n > 100 ||
              v.push(
                i.createElement(re, {
                  key: r,
                  pos: n,
                  label: t.strTemplateName,
                  onMouseEnter: this.OnMarkerMouseEnter,
                  onMouseLeave: this.OnMarkerMouseLeave,
                }),
              );
          });
          let b = [];
          e.GetTimelineSegments().forEach((t, r) => {
            let n = e.GetPercentOffsetFromTime(t.nTimeStart, c.a0.Timeline);
            if (n > 100) return;
            let s = e.GetPercentOffsetFromTime(t.nTimeEnd, c.a0.Timeline);
            s < 0 ||
              b.push(
                i.createElement(ne, {
                  key: r,
                  startPos: n,
                  endPos: s,
                  label: t.strTemplateName,
                  color: t.color,
                  onClick: (e) => this.OnSegmentClick(t.nTimeStart),
                }),
              );
          });
          const y = e.GetPercentOffsetFromTime(
              e.m_editorStartTime,
              c.a0.Timeline,
            ),
            f = e.GetPercentOffsetFromTime(e.m_editorEndTime, c.a0.Timeline),
            C = this.props.bIncludeClipEditor
              ? [
                  i.createElement(re, {
                    key: "start",
                    pos: y,
                    label: (0, M.we)("#DASHPlayerControls_Start"),
                    onMouseEnter: this.OnMarkerMouseEnter,
                    onMouseLeave: this.OnMarkerMouseLeave,
                    onMouseDown: (e) => this.OnMouseDown(e, "start"),
                  }),
                  i.createElement(re, {
                    key: "end",
                    pos: f,
                    label: (0, M.we)("#DASHPlayerControls_End"),
                    onMouseEnter: this.OnMarkerMouseEnter,
                    onMouseLeave: this.OnMarkerMouseLeave,
                    onMouseDown: (e) => this.OnMouseDown(e, "end"),
                  }),
                ]
              : [];
          return i.createElement(
            "div",
            {
              className: "videoTimelineMain",
              tabIndex: 0,
              onKeyDown: this.OnKeyDown,
            },
            i.createElement(
              "div",
              { className: _ },
              i.createElement("div", { className: "DialogLabel" }, h),
              i.createElement(
                "div",
                { className: "STV_timelineSegmentsContainer" },
                b,
              ),
              i.createElement(
                "div",
                {
                  onMouseDown: this.OnMouseDown,
                  onMouseMove: this.OnMouseHoverMove,
                  onMouseLeave: this.OnMouseHoverLeave,
                  ref: this.m_elSlider,
                },
                i.createElement(
                  "div",
                  { className: "VideoTimelineSlider" },
                  i.createElement("div", {
                    className: "STV_timelineValue",
                    style: u,
                  }),
                  i.createElement("div", {
                    className: "STV_timelineGhostValue",
                    style: d,
                  }),
                  i.createElement("div", {
                    className: "STV_timelineNoVideo",
                    style: m,
                  }),
                  v,
                  C,
                  Boolean(this.state.hoverX) &&
                    i.createElement(
                      "div",
                      {
                        key: "grabbertime",
                        style: {
                          position: "absolute",
                          left: this.state.hoverX - 75,
                          bottom: "30px",
                        },
                      },
                      i.createElement(
                        "div",
                        {
                          style: {
                            position: "relative",
                            display: "flex",
                            justifyContent: "center",
                          },
                        },
                        this.state.thumbnailURL &&
                          i.createElement("img", {
                            style: { width: "150px" },
                            src: this.state.thumbnailURL,
                          }),
                        i.createElement(
                          "span",
                          {
                            className: "STV_timelineGrabberValue",
                            style: { position: "absolute", bottom: "4px" },
                          },
                          g,
                        ),
                      ),
                    ),
                  i.createElement(
                    "div",
                    { className: "STV_timelineGrabber_Wrapper", style: p },
                    i.createElement(
                      "div",
                      { className: "STV_timelineGrabber" + S },
                      i.createElement(
                        "div",
                        { className: "STV_timelineGrabberArrow" },
                        i.createElement(E.apU, null),
                      ),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([d.oI], se.prototype, "OnMouseDown", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMouseMove", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMouseUp", null),
        (0, n.Cg)([d.oI], se.prototype, "OnKeyDown", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMouseHoverMove", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMouseHoverLeave", null),
        (0, n.Cg)([d.oI], se.prototype, "AdjustHoverForClientX", null),
        (0, n.Cg)([d.oI], se.prototype, "OnSegmentClick", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMarkerMouseEnter", null),
        (0, n.Cg)([d.oI], se.prototype, "OnMarkerMouseLeave", null),
        (se = (0, n.Cg)([a.PA], se));
      let ae = class extends i.Component {
        state = { info: null };
        static getDerivedStateFromProps(e, t) {
          if (
            (!t.info || t.info.m_steamIDBroadcast !== e.steamID) &&
            (t.info && (c.es.StopInfo(t.info), (t.info = null)), e.steamID)
          ) {
            return { info: c.es.StartInfo(e.steamID) };
          }
          return null;
        }
        componentWillUnmount() {
          this.state.info && c.es.StopInfo(this.state.info);
        }
        RenderStreamSwitcher() {
          const e = this.props.steamID;
          return k.td.stream[e]
            ? i.createElement(ie, {
                value: e,
                options: k.td.stream,
                onChange: this.props.onLocalStreamChange,
              })
            : null;
        }
        render() {
          let { info: e } = this.state;
          if (!e) return null;
          let t = "";
          e.m_nViewerCount && (t = (0, B.Dq)(e.m_nViewerCount));
          let r =
              k.td.bValid && k.td.stream && k.td.stream[e.m_steamIDBroadcast],
            n =
              !this.props.bHideThumbnail &&
              this.props.bVerticalBroadcastChat &&
              (parseInt(e.m_strAppId) > 0 || r);
          const s =
            !this.props.bHideThumbnail &&
            this.props.bVerticalBroadcastChat &&
            r &&
            k.td.gidEvent;
          return i.createElement(
            "div",
            { className: "BroadcastDetails" },
            !this.props.bHideThumbnail &&
              i.createElement(y, {
                className: "broadcastDetailsThumbBlur",
                src: e.m_strThumbnailUrl,
                draggable: !1,
                duration: 2500,
              }),
            i.createElement(
              "div",
              { className: "BroadcastDetailsHeader" },
              e &&
                e.m_strAppTitle &&
                i.createElement(
                  "div",
                  { className: "displayColumn" },
                  i.createElement(
                    "div",
                    { className: "Info" },
                    i.createElement(
                      "span",
                      { className: "AppTitle" },
                      e.m_strAppTitle,
                    ),
                    e.m_strTitle &&
                      i.createElement(
                        "span",
                        { className: "BroadcastTitle" },
                        " - ",
                        e.m_strTitle,
                      ),
                    this.props.onLocalStreamChange &&
                      this.RenderStreamSwitcher(),
                  ),
                  t &&
                    i.createElement(
                      "div",
                      { className: "BroadcastDetailsHeader_ViewerCount" },
                      i.createElement(E.y_e, null),
                      (0, M.Yp)("#Broadcast_ViewerCount", t),
                    ),
                ),
              r &&
                this.props.onOpenLinkInNewWindow &&
                i.createElement(
                  "div",
                  { className: "Actions" },
                  i.createElement(
                    "div",
                    {
                      onClick: (e) =>
                        this.props.onOpenLinkInNewWindow(e, k.td.link),
                      className: "BroadcastLink",
                    },
                    k.td.linkName,
                  ),
                ),
            ),
            s && i.createElement(C.m, { gidEvent: k.td.gidEvent }),
            n &&
              i.createElement(f.pb, {
                id:
                  k.td.bValid &&
                  k.td.stream &&
                  k.td.stream[e.m_steamIDBroadcast]
                    ? k.td.appID
                    : parseInt(e.m_strAppId),
                type: "game",
              }),
          );
        }
      };
      ae = (0, n.Cg)([a.PA], ae);
      class ie extends i.Component {
        showContextMenu(e) {
          const { options: t, value: r, onChange: n } = this.props,
            s = Object.keys(t).map((e) =>
              i.createElement(
                h.IK,
                { key: e, onSelected: () => n(e), bChecked: e === r },
                (0, M.we)(t[e]),
              ),
            );
          (0, o.lX)(i.createElement(h.tz, null, s), e);
        }
        render() {
          const { value: e, options: t } = this.props,
            r = t[e];
          return i.createElement(
            "div",
            { className: "BroadcastLanguage", onClick: this.showContextMenu },
            i.createElement("span", null, " - ", (0, M.we)(r)),
            i.createElement(
              "div",
              { className: "ContextMenuButton" },
              i.createElement(E.GB9, null),
            ),
          );
        }
      }
      (0, n.Cg)([d.oI], ie.prototype, "showContextMenu", null);
      let oe = class extends i.Component {
        constructor(e) {
          super(e), (this.state = { sizableRegion: [] });
        }
        async AddLinkRegion() {
          let e = this.state.sizableRegion.length;
          this.state.sizableRegion.push({
            xPosPct: 2.5 + e,
            yPosPct: 2.5 + e,
            widthPct: 20,
            heightPct: 15,
          }),
            this.setState({ sizableRegion: this.state.sizableRegion }, () =>
              this.OnSaveRegions(),
            );
        }
        componentDidUpdate(e) {
          0 == e.linkRegions.length &&
            this.props.linkRegions.forEach((e, t) => {
              this.LoadLinkRegion(e, t);
            });
        }
        async LoadLinkRegion(e, t) {
          this.state.sizableRegion.length;
          this.state.sizableRegion.push({
            xPosPct: e.left,
            yPosPct: e.top,
            widthPct: e.width,
            heightPct: e.height,
            link_url: e.url,
            link_description: e.link_description,
            link_index: e.link_index,
          }),
            await this.setState({ sizableRegion: this.state.sizableRegion });
        }
        OnSaveRegions() {
          let e;
          e = { links: [] };
          for (let t = 0; t < this.state.sizableRegion.length; t++) {
            let r;
            (r = {
              left: Math.floor(100 * this.state.sizableRegion[t].xPosPct),
              top: Math.floor(100 * this.state.sizableRegion[t].yPosPct),
              width: Math.floor(100 * this.state.sizableRegion[t].widthPct),
              height: Math.floor(100 * this.state.sizableRegion[t].heightPct),
              url: this.state.sizableRegion[t].link_url,
              link_description: this.state.sizableRegion[t].link_description,
              link_index: t,
            }),
              e.links.push(r);
          }
          this.props.onSaveLinkRegions(e);
        }
        async DeleteRegion(e) {
          this.state.sizableRegion.splice(e, 1),
            console.log("keys: ", this.state.sizableRegion.keys),
            this.setState({ sizableRegion: this.state.sizableRegion }, () =>
              this.OnSaveRegions(),
            );
        }
        async UpdatePanel(e, t) {
          const r = [...this.state.sizableRegion];
          (r[e] = t),
            this.setState({ sizableRegion: r }, () => this.OnSaveRegions());
        }
        render() {
          return i.createElement(
            "div",
            { className: "LinkOverlayContainer" },
            i.createElement(
              "div",
              { className: "LinkOverlayValidRegion" },
              !this.props.editMode && this.props.linkRegions
                ? this.props.linkRegions.map((e) => {
                    const t = (0, z.p)(e.url);
                    return i.createElement(
                      I.uU,
                      {
                        key: e.link_index,
                        href: e.url,
                        bForceExternal: t,
                        bUseLinkFilter: t,
                      },
                      i.createElement(
                        "div",
                        {
                          className: "LinkRegion",
                          style: {
                            left: e.left + "%",
                            top: e.top + "%",
                            width: e.width + "%",
                            height: e.height + "%",
                          },
                        },
                        i.createElement(
                          "div",
                          { className: "LinkRegionText" },
                          e.link_description,
                          " ",
                        ),
                      ),
                    );
                  })
                : null,
              this.props.editMode &&
                this.state.sizableRegion.map((e, t) =>
                  i.createElement(w.I, {
                    key: 100 * t + e.xPosPct,
                    index: t,
                    deleteFn: this.DeleteRegion,
                    updateFn: this.UpdatePanel,
                    xPosPct: e.xPosPct,
                    yPosPct: e.yPosPct,
                    widthPct: e.widthPct,
                    heightPct: e.heightPct,
                    link_url: e.link_url,
                    link_description: e.link_description,
                  }),
                ),
              this.props.editMode &&
                i.createElement(
                  "div",
                  { className: "AddLinkRegion", onClick: this.AddLinkRegion },
                  (0, M.we)("#SteamTV_AddLinkRegion"),
                ),
            ),
            i.createElement(
              "div",
              { className: "LinkOverlayInvalidRegion" },
              i.createElement(
                "div",
                null,
                (0, M.we)("#SteamTV_LinkRegionReserved"),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([d.oI], oe.prototype, "AddLinkRegion", null),
        (0, n.Cg)([d.oI], oe.prototype, "LoadLinkRegion", null),
        (0, n.Cg)([d.oI], oe.prototype, "OnSaveRegions", null),
        (0, n.Cg)([d.oI], oe.prototype, "DeleteRegion", null),
        (0, n.Cg)([d.oI], oe.prototype, "UpdatePanel", null),
        (oe = (0, n.Cg)([a.PA], oe));
    },
    92834: (e, t, r) => {
      "use strict";
      function n(...e) {
        return e.join(" ");
      }
      r.d(t, { q: () => n });
    },
    79359: (e, t, r) => {
      "use strict";
      r.d(t, { M: () => o });
      var n = r(90626),
        s = r(6144),
        a = r(84933);
      const i = (e) => null != e;
      function o(e, t) {
        const [r, s] = n.useState(window.localStorage.getItem(e)),
          o = n.useRef(e);
        n.useEffect(() => {
          e != o.current &&
            (s(window.localStorage.getItem(e)), (o.current = e));
        }, [e]);
        const c = e == o.current ? r : window.localStorage.getItem(e);
        let u = t;
        return (
          i(c) &&
            (u = i(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, a.hL)(l.Get().GetLocalStoreChangeCallback(e), s),
          [
            u,
            (t) => {
              const r = i(t) ? String(t) : null;
              window.localStorage.setItem(e, r),
                s(r),
                l.Get().GetLocalStoreChangeCallback(e).Dispatch(r);
            },
          ]
        );
      }
      class l {
        m_mapChangeCallback = new Map();
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new s.lu()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return l.s_Singleton || (l.s_Singleton = new l()), l.s_Singleton;
        }
      }
    },
    39199: (e, t, r) => {
      "use strict";
      r.d(t, {
        Bk: () => _,
        IH: () => y,
        Uf: () => b,
        WX: () => f,
        aI: () => v,
        bz: () => S,
      });
      var n = r(34629),
        s = r(90626),
        a = r(14947),
        i = r(56545),
        o = r(75487),
        l = r(6144),
        c = r(84933),
        u = r(41338),
        d = r(78327),
        m = r(64753),
        p = r(83561),
        h = r(7860);
      function g(e, t) {
        const r = t?.nSaleTagID,
          n = t?.strContentHubType,
          s = t?.strContentHubCategory,
          a = t?.nContentHubTagID,
          i = t?.bDiscountsOnly,
          o = t?.bPrioritizeDiscounts,
          l = t?.strOptInName,
          c = t?.nOptInTagID,
          u = t?.nPruneTagID;
        let d = e.toString();
        return (
          r
            ? (d += "_" + r)
            : n &&
              ((d += "_" + n),
              "category" === n && s
                ? (d += "_" + s)
                : "tags" === n && a && (d += "_" + a),
              i ? (d += "_d") : o && (d += "_p"),
              l && c && u && (d += "_" + l)),
          d
        );
      }
      function _(e) {
        return (0, u.bt)(JSON.stringify(e));
      }
      function S(e) {
        return JSON.parse((0, u.he)(e));
      }
      class v {
        m_transport;
        m_mapDiscoveryQueues = new Map();
        m_mapSkippedApps = new Map();
        m_mapSkippedAppCount = new Map();
        m_mapInClientCompleted = new Map();
        m_mapInClientCompletedCallback = new Map();
        m_setExhuasted = new Set();
        m_mapExhuastedCallback = new Map();
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const r = g(e, t);
          return this.m_mapDiscoveryQueues.get(r).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const r = g(e, t);
          return this.m_mapSkippedAppCount.get(r) || 0;
        }
        GetSkippedAppKey(e, t, r) {
          return `${e}_${g(t, r)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const r = g(e, t);
          return this.m_mapInClientCompleted.get(r) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const r = g(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(r) ||
              this.m_mapInClientCompletedCallback.set(r, new l.lu()),
            this.m_mapInClientCompletedCallback.get(r)
          );
        }
        GetExhaustedCallback(e, t) {
          const r = g(e, t);
          return (
            this.m_mapExhuastedCallback.has(r) ||
              this.m_mapExhuastedCallback.set(r, (0, l.Jc)(!1)),
            this.m_mapExhuastedCallback.get(r)
          );
        }
        BIsExhausted(e, t) {
          const r = g(e, t);
          return this.m_setExhuasted.has(r);
        }
        async LoadDiscoveryQueue(e, t, r) {
          const n = g(e, r);
          try {
            const s = (0, p.cw)(this.m_transport, e, t, r);
            t && (await h.L.invalidateQueries({ queryKey: s.queryKey }));
            const a = await h.L.fetchQuery(s);
            return (
              this.m_mapDiscoveryQueues.set(n, a),
              a.exhausted
                ? (this.m_setExhuasted.add(n),
                  this.GetExhaustedCallback(e, r).Set(!0))
                : (this.m_setExhuasted.delete(n),
                  this.GetExhaustedCallback(e, r).Set(!1)),
              this.m_mapSkippedAppCount.set(n, a.skipped || 0),
              1
            );
          } catch (t) {
            return (
              console.warn(
                "Error",
                t,
                "failed to get discovery queue type",
                e,
                "key",
                n,
              ),
              2
            );
          }
        }
        async GetDiscoveryQueueAppsOfType(e, t, r) {
          const n = g(e, r);
          return (
            (!t && this.m_mapDiscoveryQueues.has(n)) ||
              (await this.LoadDiscoveryQueue(e, t, r)),
            {
              appids: this.m_mapDiscoveryQueues.get(n).appids,
              exhausted: this.m_mapDiscoveryQueues.get(n).exhausted,
            }
          );
        }
        async SkipDiscoveryQueueItem(e, t, r) {
          g(t, r);
          const n = this.GetSkippedAppKey(e, t, r);
          if (!this.m_mapSkippedApps.has(n)) {
            const s = g(t, r),
              a = this.m_mapDiscoveryQueues.get(s).appids,
              l = a[a.length - 1] == e;
            this.m_mapSkippedApps.set(n, !0),
              this.m_mapSkippedAppCount.set(
                s,
                (this.m_mapSkippedAppCount.get(s) || 0) + 1,
              );
            const c = i.w.Init(o.fe);
            c.Body().set_appid(e),
              c.Body().set_queue_type(t),
              (Boolean(r?.nSaleTagID) || Boolean(r?.strContentHubType)) &&
                c.Body().set_store_page_filter((0, p.Jy)(r));
            const u = (
              await o.nd.SkipDiscoveryQueueItem(this.m_transport, c)
            ).GetEResult();
            1 != u && 29 != u
              ? (console.warn("Error", u, "failed to skip appid ", e),
                this.m_mapSkippedApps.delete(n))
              : l && this.MarkDiscoveryQueueCompleted(t, r);
          }
          return Promise.resolve();
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const r = g(e, t);
          if (this.m_mapInClientCompleted.has(r)) {
            const n = this.m_mapInClientCompleted.get(r) + 1;
            this.m_mapInClientCompleted.set(r, n),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(n);
          } else
            this.m_mapInClientCompleted.set(r, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        async LoadSkippedApps(e, t) {
          g(e, t);
          const r = i.w.Init(o.pS);
          r.Body().set_steamid(d.iA.steamid),
            r.Body().set_queue_type(e),
            (Boolean(t?.nSaleTagID) || Boolean(t?.strContentHubType)) &&
              r.Body().set_store_page_filter((0, p.Jy)(t));
          const n = await o.nd.GetDiscoveryQueueSkippedApps(
            this.m_transport,
            r,
          );
          return 1 === n.GetEResult()
            ? n.Body().appids() || []
            : (console.warn(
                "Failed to retrieve skipped apps for discovery queue.",
                e,
                t,
                n.GetEResult(),
              ),
              []);
        }
        static s_DiscoveryQueueStore = null;
        static Init(e) {
          v.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(v.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new v()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (0, a.Gn)(this);
        }
      }
      function b(e, t) {
        const [r, n] = (0, s.useState)(
          v.Get().GetInClientCompletedQueues(e, t),
        );
        return (
          (0, c.hL)(v.Get().GetInClientCompletedQueuesCallback(e, t), n), r
        );
      }
      function y(e, t) {
        return (0, m.gc)(v.Get().GetExhaustedCallback(e, t));
      }
      function f(e, t) {
        const r = s.useMemo(
          () => (0, d.Tc)("discovery_queue_name", "application_config"),
          [],
        );
        return "string" == typeof r && r.length > 0 ? r : "";
      }
      (0, n.Cg)([a.sH], v.prototype, "m_mapDiscoveryQueues", void 0);
    },
    3734: (e, t, r) => {
      "use strict";
      r.d(t, { E2: () => p, PG: () => g });
      var n = r(90626),
        s = r(20194),
        a = r(56545),
        i = r(94601),
        o = r(72839),
        l = r(82097),
        c = r(81393),
        u = r(23809);
      const d = n.createContext({}),
        m = () => n.useContext(d);
      function p(e) {
        let { defaultOptions: t, children: r } = e,
          s = n.useMemo(() => ({ defaultOptions: t || {} }), [t]);
        return n.createElement(d.Provider, { value: s }, r);
      }
      const h = "StoreQueryStore";
      function g(e, t, r, l) {
        let d = m();
        const p = (0, u.KV)();
        d ||
          (0, c.wT)(!1, "useStoreQuery called outside of a <StoreQueryRoot>");
        let g = d.defaultOptions;
        const S = n.useMemo(() => {
          let e = [];
          return (
            l?.content_descriptors_excluded
              ? (e = l.content_descriptors_excluded)
              : g?.content_descriptors_excluded &&
                (e = g.content_descriptors_excluded),
            { ...t, filters: { content_descriptors_excluded: e, ...t.filters } }
          );
        }, [t, l, g]);
        let v;
        void 0 !== l?.override_country_code
          ? (v = l.override_country_code)
          : void 0 !== g?.override_country_code &&
            (v = g.override_country_code);
        let b = { staleTime: 36e5 };
        l?.reactQuery && (b = { ...b, ...l.reactQuery });
        const y = [h, S, r, l];
        return (0, s.I)({
          queryKey: y,
          queryFn: () =>
            (async function (e, t, r, n, s) {
              const l = a.w.Init(i.iU);
              (0, o.rV)(l), n && (0, o.Bn)(l, n);
              s && l.Body().set_override_country_code(s);
              l.Body().set_query(i.nu.fromObject(r)),
                l.Body().set_query_name(t);
              const c = await i.Fs.Query(e, l);
              if (1 != c.GetEResult())
                throw `Error executing StoreQuery "${t}", EResult: ${c.GetEResult()}`;
              return new _(c, n);
            })(p, e, S, r, v),
          ...b,
        });
      }
      class _ {
        m_Items;
        m_rgItemIDs;
        m_metadata;
        constructor(e, t) {
          this.ReadResults(e, t);
        }
        GetItems() {
          return this.m_Items;
        }
        GetItemIDs() {
          return this.m_rgItemIDs;
        }
        GetMetadata() {
          return this.m_metadata;
        }
        ReadResults(e, t) {
          this.m_Items ||
            ((0, c.wT)(
              0 == e.Body().metadata().start(),
              "Empty item list - expected to start at 0",
            ),
            (this.m_Items = []));
          const r = e.Body().ids() || [];
          if (
            ((this.m_rgItemIDs = r.map((e) => e.toObject())),
            e.Body().store_items())
          )
            for (const r of e.Body().store_items())
              this.m_Items.push(l.A.Get().ReadItem(r, t));
          this.m_metadata = e.Body().metadata().toObject();
        }
      }
    },
    69409: (e, t, r) => {
      "use strict";
      r.d(t, { m: () => m });
      var n = r(90626),
        s = r(22837),
        a = r(38390),
        i = r(52038),
        o = r(61859),
        l = r(61336),
        c = r(78327),
        u = r(15392),
        d = r(27666);
      function m(e) {
        const { gidEvent: t } = e,
          r = (0, a.RR)(t),
          [m, p] = (0, n.useMemo)(() => {
            if (
              r?.jsondata?.localized_sale_product_banner?.length > 0 &&
              r?.jsondata?.localized_sale_product_mobile_banner?.length > 0
            ) {
              const e = (0, s.sf)(c.TS.LANGUAGE),
                t = o.NT.GetWithFallback(
                  r.jsondata.localized_sale_product_banner,
                  e,
                ),
                n = o.NT.GetWithFallback(
                  r.jsondata.localized_sale_product_mobile_banner,
                  e,
                );
              if (t?.length > 0 && n?.length > 0)
                return [
                  d.z.GenerateURLFromHashAndExt(r.clanSteamID, t),
                  d.z.GenerateURLFromHashAndExt(r.clanSteamID, n),
                ];
            }
            return [null, null];
          }, [r]);
        return m?.length > 0 && p?.length > 0
          ? n.createElement(
              "a",
              { href: (0, l.k2)(r.GetSaleURL()), className: u.Link },
              n.createElement("img", {
                src: m,
                className: (0, i.A)(u.Banner, u.Big),
              }),
              n.createElement("img", {
                src: p,
                className: (0, i.A)(u.Banner, u.Mobile),
              }),
            )
          : null;
      }
    },
    38405: (e, t, r) => {
      "use strict";
      r.d(t, { g: () => B });
      var n = r(65946),
        s = r(90626),
        a = r(30894),
        i = r(82097),
        o = r(3734),
        l = r(5907),
        c = r(26749),
        u = r(52038),
        d = r(61859),
        m = r(78327),
        p = r(39199),
        h = r(71477),
        g = r.n(h),
        _ = r(93973),
        S = r(62490),
        v = r(20194),
        b = r(76217),
        y = r(60383),
        f = r(39777),
        C = r(42834),
        w = r(15830);
      function E(e) {
        const {
            arrDiscoveryApps: t,
            onClick: r,
            className: n,
            bDisableAnimation: a = !1,
            children: i,
            ...o
          } = e,
          l = (0, m.Qn)(),
          [c, p] = (0, s.useState)(!l),
          h = s.useCallback(
            (e) => {
              l || p(e);
            },
            [l],
          );
        return s.createElement(
          y.J,
          { trigger: "repeated", onVisibilityChange: h },
          s.createElement(
            b.Z,
            {
              focusable: !0,
              onGamepadFocus: () => p(!0),
              onMouseEnter: () => l && p(!0),
              onGamepadBlur: () => p(!1),
              onMouseLeave: () => l && p(!1),
              onActivate: r,
              onOKActionDescription: (0, d.we)("#DiscoveryQueue_OpenWizard"),
              className: (0, u.A)(
                w.DiscoveryQueueWidgetCtn,
                n,
                void 0 !== t && w.Initialized,
              ),
              ...o,
            },
            s.createElement(D, { rgAppIDs: t, bAnimationEnabled: !a && c }),
            i,
          ),
        );
      }
      let I;
      function D(e) {
        const {
            rgAppIDs: t,
            bAnimationEnabled: r = !0,
            nCapsuleWidth: n = 320,
          } = e,
          [a, i] = s.useState(null);
        return (
          s.useEffect(() => {
            if (!r || !a) return;
            let e;
            I || (I = performance.now());
            const t = () => {
              const r =
                (((performance.now() - I) / 40) %
                  (a.offsetWidth - 3 * n - 16)) +
                n;
              (a.style.transform = `translateX( -${r}px )`),
                (e = requestAnimationFrame(t));
            };
            return (
              (e = requestAnimationFrame(t)), () => cancelAnimationFrame(e)
            );
          }, [a, r, n]),
          t && t.length
            ? s.createElement(
                "div",
                {
                  className: w.AppCarouselPosition,
                  style: { "--capsule-width": `${n}px` },
                },
                s.createElement(
                  "div",
                  {
                    ref: i,
                    className: (0, u.A)(w.AppCarouselCtn, "vt-scrollable"),
                    style: { transform: `translateX( -${n}px )` },
                  },
                  t.map((e) =>
                    s.createElement(M, { key: "Capsule_" + e, appID: e }),
                  ),
                  [...t, ...t]
                    .slice(0, 3)
                    .map((e, t) =>
                      s.createElement(M, {
                        key: `Capsule2_${t}_${e}`,
                        appID: e,
                      }),
                    ),
                ),
              )
            : null
        );
      }
      function M(e) {
        const { appID: t } = e,
          r = { appid: t },
          { data: n } = (0, f.J$)(r),
          a = (0, C.pd)(t),
          i = (0, C.DT)(r) || [],
          { data: o } = (0, f.lv)(r);
        if (!a) return null;
        let l = i.length
          ? (0, C.bu)(i[0], "600x338")
          : o && (0, C.b0)(o, "main_capsule");
        const c = {
          backgroundImage:
            "radial-gradient(135% 125% at 100% 0%, rgba(0, 0, 0, 0) 22.5%, rgba(0, 0, 0, 1) 92.5%)" +
            (l ? `, url('${l}')` : ""),
        };
        return s.createElement(
          "div",
          { className: w.AppCapsuleCtn, style: c },
          s.createElement(
            "div",
            { className: (0, u.A)(w.CapsuleColumn, w.LibraryImage) },
            s.createElement("img", { src: a, alt: n?.name }),
          ),
          s.createElement(
            "div",
            { className: w.CapsuleColumn },
            s.createElement("div", { className: w.AppName }, n?.name),
          ),
        );
      }
      function B(e) {
        return (0, c.G)()
          ? s.createElement(
              T,
              null,
              s.createElement(R, null),
              m.iA.logged_in
                ? s.createElement(A, { ...e })
                : s.createElement(P, { ...e }),
            )
          : null;
      }
      function T(e) {
        const [t, r] = (0, a.L2)();
        let i = (0, n.q3)(() => r.ExcludedContentDescriptor),
          l = s.useMemo(() => ({ content_descriptors_excluded: i }), [i]);
        return t
          ? null
          : s.createElement(o.E2, { defaultOptions: l }, e.children);
      }
      function A(e) {
        const {
            eStoreDiscoveryQueueType: t,
            storePageFilter: r,
            strQueueDescriptionOverride: n,
            bPreferDemoStorePage: a,
            bShowAOAutoPlayWarning: o,
          } = e,
          [c, u] = (0, s.useState)(!1),
          [d, h] = (function (e, t) {
            const { data: r } = (0, v.I)({
              queryKey: ["DiscoveryQueueLoader", e, t],
              queryFn: async () => {
                const { appids: r, exhausted: n } = await p.aI
                  .Get()
                  .GetDiscoveryQueueAppsOfType(e, !1, t);
                let s = { ...l.LB, include_screenshots: !0 };
                return (
                  await i.A.Get().QueueMultipleAppRequests(r, s),
                  { rgDiscoveryApps: r, exhausted: n }
                );
              },
              enabled: m.iA.logged_in,
            });
            return [r?.rgDiscoveryApps, r?.exhausted];
          })(t, r),
          _ = s.useCallback(() => {
            !h && u(!0);
          }, [h]),
          S = s.useCallback((e) => {
            u(!1), e?.stopPropagation();
          }, []),
          b = s.useId();
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            E,
            {
              "aria-labelledby": b,
              onClick: _,
              arrDiscoveryApps: d,
              bDisableAnimation: c,
              className: g().DiscoveryQueueWidget,
            },
            !h && s.createElement(k, { id: b, strQueueDescriptionOverride: n }),
          ),
          d &&
            c &&
            s.createElement(l.jM, {
              ...e,
              bWizardVisible: c,
              fnCloseModal: S,
              eStoreDiscoveryQueueType: t,
              bPreferDemoStorePage: a,
              showAOAutoPlayWarning: o,
            }),
        );
      }
      function k(e) {
        const { strQueueDescriptionOverride: t, id: r } = e,
          n = t ?? (0, d.we)("#DiscoveryQueue_WidgetHeader");
        return s.createElement(
          "div",
          {
            id: r,
            className: (0, u.A)(g().WidgetHeaderCtn, "WidgetHeaderCtn"),
          },
          s.createElement(
            "div",
            { className: g().WidgetHeaderText },
            (0, d.we)("#DiscoveryQueue_WidgetHeader_Yours"),
          ),
          s.createElement("div", { className: g().WidgetHeaderSubText }, n),
        );
      }
      function P(e) {
        const t = (function (e) {
            let { data: t } = (0, o.PG)(
              "DiscoveryQueueWidget",
              {
                sort: 11,
                start: 0,
                count: 12,
                filters: { type_filters: { include_games: !0 } },
              },
              { ...l.LB, include_screenshots: !0 },
              { reactQuery: { enabled: e, staleTime: 1 / 0 } },
            );
            return (0, s.useMemo)(
              () => t && t.GetItemIDs().map((e) => e.appid),
              [t],
            );
          })(!0),
          r = s.useCallback(() => {
            window.location.href = `${m.TS.STORE_BASE_URL}login?redir=${encodeURIComponent(document.location.href)}`;
          }, []);
        return s.createElement(
          E,
          { onClick: r, arrDiscoveryApps: t },
          s.createElement(
            "div",
            { className: (0, u.A)(g().WidgetHeaderCtn, "WidgetHeaderCtn") },
            s.createElement(
              "div",
              { className: g().WidgetHeaderText },
              (0, d.we)("#DiscoveryQueue_WidgetHeader_Yours"),
            ),
            s.createElement(
              "div",
              { className: g().WidgetHeaderSubText },
              (0, d.we)("#DiscoveryQueue_WidgetHeader_LoggedOut"),
            ),
            s.createElement(
              "div",
              { className: g().LoginButton },
              (0, d.we)("#DiscoveryQueue_Error_Login_Title"),
            ),
          ),
        );
      }
      function R() {
        const e = (0, _.Qt)(2, m.TS.LANGUAGE, !0),
          t = (0, m.Qn)();
        if (!e.data?.definition || !e.data?.reward_items.length) return null;
        const r = e?.data.reward_items;
        (0, S.fW)(r);
        const n = r.slice(0, 3);
        let a = null;
        return (
          m.iA.logged_in &&
            !t &&
            (a = s.createElement(
              s.Fragment,
              null,
              " - ",
              s.createElement(
                "a",
                { href: m.TS.COMMUNITY_BASE_URL + "my/itemcollection" },
                (0, d.we)("#DiscoveryQueue_SaleStatus_Link"),
              ),
            )),
          s.createElement(
            "div",
            { className: g().SaleTopSection },
            s.createElement(N, { rgRewardItems: n }),
            s.createElement(
              "div",
              { className: g().SaleTextCtn },
              s.createElement(
                "div",
                { className: g().BoldText },
                (0, d.we)("#DiscoveryQueue_Widget_SaleDesc"),
              ),
              s.createElement(
                "div",
                null,
                (0, d.we)(
                  "#DiscoveryQueue_Widget_SaleTitle",
                  (0, d._l)(e.data.definition.rtime_end_time, !1, !1, !1, !1),
                ),
                a,
              ),
            ),
          )
        );
      }
      function N(e) {
        const { rgRewardItems: t } = e,
          r = t.map((e) => {
            const t = `${m.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${e.appid}/${e.community_definition.item_image_small}`;
            return s.createElement(
              "div",
              {
                key: e.community_definition.item_name.toString(),
                className: g().SaleSticker,
              },
              s.createElement("img", { src: t }),
            );
          });
        return s.createElement("div", { className: g().StickerArrangement }, r);
      }
    },
    5907: (e, t, r) => {
      "use strict";
      r.d(t, { jM: () => Le, LB: () => Ge });
      var n = r(45699),
        s = r(76217),
        a = r(37788),
        i = r(23310),
        o = r(62093),
        l = r(60014),
        c = r(90626),
        u = r(13871),
        d = r(30894),
        m = r(93973),
        p = r(82097),
        h = r(55263),
        g = r(51706),
        _ = r(12155),
        S = r(32630),
        v = r(4434),
        b = r(52038),
        y = r(61859),
        f = r(60778),
        C = r(25489),
        w = r(44691),
        E = r(78327),
        I = r(39199),
        D = r(40594);
      const M = ({ nPercent: e, size: t = 120, strokeWidth: r = 20 }) => {
        const n = (t - r) / 2,
          s = 2 * Math.PI * n,
          a = s - (e / 100) * s,
          i = 100 == e;
        return c.createElement(
          "div",
          { className: (0, b.A)({ [D.Circular]: !0, [D.Full]: i }) },
          c.createElement(
            "svg",
            { width: t, height: t, style: { transform: "rotate(-90deg)" } },
            c.createElement("circle", {
              cx: t / 2,
              cy: t / 2,
              r: n,
              stroke: "#0c131d",
              strokeWidth: r,
              fill: "none",
            }),
            c.createElement("circle", {
              cx: t / 2,
              cy: t / 2,
              r: n,
              stroke: "#1a9fff",
              strokeWidth: r,
              fill: "none",
              strokeDasharray: s,
              strokeDashoffset: a,
              style: { transition: "stroke-dashoffset 0.3s ease-in-out" },
            }),
          ),
        );
      };
      var B,
        T = r(22797),
        A = r(10224),
        k = r(20019),
        P = r(62792),
        R = r(26101),
        N = r(94095),
        O = r(44986),
        G = r(32754),
        V = r(20713),
        L = r(30786),
        F = r(20194),
        x = r(1035),
        U = r(34181),
        H = r(17720),
        W = r(4796),
        q = r(67165),
        z = r(56545),
        Q = r(80613),
        j = r.n(Q),
        K = r(89068);
      class Z extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Z.prototype.recommendationid || K.Sg(Z.M()),
            Q.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Z.sm_m ||
              (Z.sm_m = {
                proto: Z,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  review_text: {
                    n: 2,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  voted_up: { n: 3, br: K.qM.readBool, bw: K.gp.writeBool },
                  is_public: { n: 4, br: K.qM.readBool, bw: K.gp.writeBool },
                  language: { n: 5, br: K.qM.readString, bw: K.gp.writeString },
                  is_in_early_access: {
                    n: 6,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  received_compensation: {
                    n: 7,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  comments_disabled: {
                    n: 8,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  hide_in_steam_china: {
                    n: 9,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                },
              }),
            Z.sm_m
          );
        }
        static MBF() {
          return Z.sm_mbf || (Z.sm_mbf = K.w0(Z.M())), Z.sm_mbf;
        }
        toObject(e = !1) {
          return Z.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(Z.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(Z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new Z();
          return Z.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(Z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(Z.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Request";
        }
      }
      class Y extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), Q.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return Y.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new Y();
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new Y();
          return Y.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Response";
        }
      }
      class J extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            J.prototype.reaction_type || K.Sg(J.M()),
            Q.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            J.sm_m ||
              (J.sm_m = {
                proto: J,
                fields: {
                  reaction_type: {
                    n: 1,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  count: { n: 2, br: K.qM.readUint32, bw: K.gp.writeUint32 },
                },
              }),
            J.sm_m
          );
        }
        static MBF() {
          return J.sm_mbf || (J.sm_mbf = K.w0(J.M())), J.sm_mbf;
        }
        toObject(e = !1) {
          return J.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(J.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(J.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new J();
          return J.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(J.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(J.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Recommendation_LoyaltyReaction";
        }
      }
      class X extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            X.prototype.recommendationid || K.Sg(X.M()),
            Q.Message.initialize(this, e, 0, -1, [27, 40, 53], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            X.sm_m ||
              (X.sm_m = {
                proto: X,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  steamid: {
                    n: 2,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  appid: { n: 3, br: K.qM.readUint32, bw: K.gp.writeUint32 },
                  review: { n: 4, br: K.qM.readString, bw: K.gp.writeString },
                  time_created: {
                    n: 5,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  time_updated: {
                    n: 6,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  votes_up: { n: 7, br: K.qM.readUint32, bw: K.gp.writeUint32 },
                  votes_down: {
                    n: 8,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  vote_score: { n: 9, br: K.qM.readFloat, bw: K.gp.writeFloat },
                  language: {
                    n: 10,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  comment_count: {
                    n: 11,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  voted_up: { n: 12, br: K.qM.readBool, bw: K.gp.writeBool },
                  is_public: { n: 13, br: K.qM.readBool, bw: K.gp.writeBool },
                  moderator_hidden: {
                    n: 14,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  flagged_by_developer: {
                    n: 15,
                    br: K.qM.readEnum,
                    bw: K.gp.writeEnum,
                  },
                  report_score: {
                    n: 16,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  steamid_moderator: {
                    n: 17,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  steamid_developer: {
                    n: 18,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  steamid_dev_responder: {
                    n: 19,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  developer_response: {
                    n: 20,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  time_developer_responded: {
                    n: 21,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  developer_flag_cleared: {
                    n: 22,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  written_during_early_access: {
                    n: 23,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  votes_funny: {
                    n: 24,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  received_compensation: {
                    n: 25,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  unverified_purchase: {
                    n: 26,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  review_qualities: {
                    n: 27,
                    r: !0,
                    q: !0,
                    br: K.qM.readEnum,
                    pbr: K.qM.readPackedEnum,
                    bw: K.gp.writeRepeatedEnum,
                  },
                  weighted_vote_score: {
                    n: 28,
                    br: K.qM.readFloat,
                    bw: K.gp.writeFloat,
                  },
                  moderation_note: {
                    n: 29,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  payment_method: {
                    n: 30,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  playtime_2weeks: {
                    n: 31,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  playtime_forever: {
                    n: 32,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  last_playtime: {
                    n: 33,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  comments_disabled: {
                    n: 34,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  playtime_at_review: {
                    n: 35,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  approved_for_china: {
                    n: 36,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  ban_check_result: {
                    n: 37,
                    br: K.qM.readEnum,
                    bw: K.gp.writeEnum,
                  },
                  refunded: { n: 38, br: K.qM.readBool, bw: K.gp.writeBool },
                  account_score_spend: {
                    n: 39,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  reactions: { n: 40, c: J, r: !0, q: !0 },
                  ipaddress: {
                    n: 41,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  hidden_in_steam_china: {
                    n: 42,
                    br: K.qM.readBool,
                    bw: K.gp.writeBool,
                  },
                  steam_china_location: {
                    n: 43,
                    br: K.qM.readString,
                    bw: K.gp.writeString,
                  },
                  category_ascii_pct: {
                    n: 44,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  category_meme_pct: {
                    n: 45,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  category_offtopic_pct: {
                    n: 46,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  category_uninformative_pct: {
                    n: 47,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  category_votefarming_pct: {
                    n: 48,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  deck_playtime_at_review: {
                    n: 49,
                    br: K.qM.readInt32,
                    bw: K.gp.writeInt32,
                  },
                  is_bot_review_pct: {
                    n: 50,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  positivity_pct: {
                    n: 51,
                    br: K.qM.readUint32,
                    bw: K.gp.writeUint32,
                  },
                  tags: {
                    n: 53,
                    r: !0,
                    q: !0,
                    br: K.qM.readUint64String,
                    pbr: K.qM.readPackedUint64String,
                    bw: K.gp.writeRepeatedUint64String,
                  },
                },
              }),
            X.sm_m
          );
        }
        static MBF() {
          return X.sm_mbf || (X.sm_mbf = K.w0(X.M())), X.sm_mbf;
        }
        toObject(e = !1) {
          return X.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(X.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(X.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new X();
          return X.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(X.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(X.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "RecommendationDetails";
        }
      }
      class $ extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $.prototype.appid || K.Sg($.M()),
            Q.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $.sm_m ||
              ($.sm_m = {
                proto: $,
                fields: {
                  appid: { n: 1, br: K.qM.readUint32, bw: K.gp.writeUint32 },
                },
              }),
            $.sm_m
          );
        }
        static MBF() {
          return $.sm_mbf || ($.sm_mbf = K.w0($.M())), $.sm_mbf;
        }
        toObject(e = !1) {
          return $.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT($.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq($.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new $();
          return $.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj($.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0($.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Request";
        }
      }
      class ee extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ee.prototype.accountids_recommended || K.Sg(ee.M()),
            Q.Message.initialize(this, e, 0, -1, [1, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ee.sm_m ||
              (ee.sm_m = {
                proto: ee,
                fields: {
                  accountids_recommended: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: K.qM.readUint32,
                    pbr: K.qM.readPackedUint32,
                    bw: K.gp.writeRepeatedUint32,
                  },
                  accountids_not_recommended: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: K.qM.readUint32,
                    pbr: K.qM.readPackedUint32,
                    bw: K.gp.writeRepeatedUint32,
                  },
                },
              }),
            ee.sm_m
          );
        }
        static MBF() {
          return ee.sm_mbf || (ee.sm_mbf = K.w0(ee.M())), ee.sm_mbf;
        }
        toObject(e = !1) {
          return ee.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(ee.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new ee();
          return ee.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Response";
        }
      }
      class te extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            te.prototype.requests || K.Sg(te.M()),
            Q.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            te.sm_m ||
              (te.sm_m = {
                proto: te,
                fields: { requests: { n: 1, c: re, r: !0, q: !0 } },
              }),
            te.sm_m
          );
        }
        static MBF() {
          return te.sm_mbf || (te.sm_mbf = K.w0(te.M())), te.sm_mbf;
        }
        toObject(e = !1) {
          return te.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(te.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(te.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new te();
          return te.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(te.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(te.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request";
        }
      }
      class re extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            re.prototype.steamid || K.Sg(re.M()),
            Q.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            re.sm_m ||
              (re.sm_m = {
                proto: re,
                fields: {
                  steamid: {
                    n: 1,
                    br: K.qM.readUint64String,
                    bw: K.gp.writeUint64String,
                  },
                  appid: { n: 2, br: K.qM.readUint32, bw: K.gp.writeUint32 },
                },
              }),
            re.sm_m
          );
        }
        static MBF() {
          return re.sm_mbf || (re.sm_mbf = K.w0(re.M())), re.sm_mbf;
        }
        toObject(e = !1) {
          return re.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(re.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(re.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new re();
          return re.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(re.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(re.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request_RecommendationRequest";
        }
      }
      class ne extends Q.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ne.prototype.recommendations || K.Sg(ne.M()),
            Q.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ne.sm_m ||
              (ne.sm_m = {
                proto: ne,
                fields: { recommendations: { n: 1, c: X, r: !0, q: !0 } },
              }),
            ne.sm_m
          );
        }
        static MBF() {
          return ne.sm_mbf || (ne.sm_mbf = K.w0(ne.M())), ne.sm_mbf;
        }
        toObject(e = !1) {
          return ne.toObject(e, this);
        }
        static toObject(e, t) {
          return K.BT(ne.M(), e, t);
        }
        static fromObject(e) {
          return K.Uq(ne.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (j().BinaryReader)(e),
            r = new ne();
          return ne.deserializeBinaryFromReader(r, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return K.zj(ne.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (j().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          K.i0(ne.M(), e, t);
        }
        serializeBase64String() {
          var e = new (j().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Response";
        }
      }
      !(function (e) {
        (e.Update = function (e, t) {
          return e.SendMsg("UserReviews.Update#1", (0, z.I8)(Z, t), Y, {
            ePrivilege: 3,
          });
        }),
          (e.GetFriendsRecommendedApp = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetFriendsRecommendedApp#1",
              (0, z.I8)($, t),
              ee,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetIndividualRecommendations = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetIndividualRecommendations#1",
              (0, z.I8)(te, t),
              ne,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          });
      })(B || (B = {}));
      var se = r(41735),
        ae = r.n(se),
        ie = r(23809),
        oe = r(3734);
      class le {
        static async LoadFriendsRecommendedApp(e, t) {
          const r = z.w.Init($);
          r.Body().set_appid(t);
          const n = await B.GetFriendsRecommendedApp(e, r),
            s = n.GetEResult();
          if (1 == s) return n.Body().toObject();
          throw `Error ${s} failed to call GetFriendsRecommendedApp ${t}`;
        }
        static async LoadStoreRelevanceData(e) {
          let t = { appid: e },
            r = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
          const n = (
            await ae().get(
              `${E.TS.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )
          ).data;
          return (
            n &&
              1 == n.success &&
              (n.results.similar_played_apps &&
                (r.arrSimilarPlayedApps = n.results.similar_played_apps.map(
                  (e) => ({
                    appid: e.appid,
                    playtimeForever: e.playtime_forever,
                  }),
                )),
              n.results.recommended_by_ir && (r.bRecommendedByIR = !0)),
            r
          );
        }
      }
      var ce = r(57834),
        ue = r.n(ce),
        de = r(14336),
        me = r(26505);
      const pe = new f.wd("AppRelevance").Debug;
      function he(e) {
        const {
            appID: t,
            bShowAvatars: r,
            storeItem: n,
            bHideDescription: s,
            bShowCuratorInfo: a,
            bShowCreatorInfo: i,
          } = e,
          o = (0, me.Nd)(t),
          l = (function (e) {
            const t = (0, ie.KV)();
            return (0, F.I)({
              queryKey: ["AppRelevanceStore", "FriendsRecommended", e],
              queryFn: () => le.LoadFriendsRecommendedApp(t, e),
              enabled: E.iA.logged_in,
            });
          })(t),
          u = (function (e) {
            return (0, F.I)({
              queryKey: ["AppRelevanceStore", "StoreRelevance", e],
              queryFn: () => le.LoadStoreRelevanceData(e),
              enabled: E.iA.logged_in,
            });
          })(t),
          m = (function () {
            const { data: e } = (0, oe.PG)("App Relevance Store Top Sellers", {
              sort: 11,
              start: 0,
              count: 100,
            });
            return e;
          })(),
          h = (0, F.I)({
            queryKey: ["SimilarPlayedAppsLoad", t],
            queryFn: () =>
              p.A.Get().QueueMultipleAppRequests(
                u.data.arrSimilarPlayedApps?.map((e) => e.appid),
                { include_basic_info: !0, include_assets: !0 },
              ),
            enabled: u.isSuccess,
          }),
          g = (function (e, t) {
            const r = (0, c.useMemo)(
              () => d.Fm.Get().GetRecommendingCuratorsForApp(e) || [],
              [e],
            );
            return (0, F.I)({
              queryKey: ["RecommendingCurators", e],
              queryFn: () =>
                Promise.all(
                  r?.map((e) => W.ac.LoadClanInfoForClanAccountID(e)),
                ),
              enabled: !!t && r && r.length > 0,
            });
          })(t, a),
          _ = (0, c.useMemo)(() => {
            let e = [];
            return (
              n &&
                ((e = e.concat(
                  n
                    .GetAllFranchiseCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "franchise" })),
                )),
                (e = e.concat(
                  n
                    .GetAllDeveloperCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "developer" })),
                )),
                (e = e.concat(
                  n
                    .GetAllPublisherCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "publisher" })),
                )),
                (e = e.filter((e) =>
                  d.Fm.Get().BIsFollowingCurator(e.nAccountID),
                ))),
              e
            );
          }, [n]),
          S = (0, F.I)({
            queryKey: ["FollowedCreators", t],
            queryFn: () =>
              W.ac
                .LoadClanInfoForClanAccountID(_[0].nAccountID)
                .then((e) => ({ clanInfo: e, type: _[0].type })),
            enabled: !!i && _ && _.length > 0,
          }),
          v = (0, F.I)({
            queryKey: ["PlayerSummaries", t, r],
            queryFn: async () => {
              let e = [],
                t = [],
                n = [];
              const s = r ? 10 : 1;
              for (
                let t = 0;
                t < l.data.accountids_recommended?.length && t < s;
                t++
              ) {
                const r = H.b.InitFromAccountID(
                  l.data.accountids_recommended[t],
                );
                e.push(r.ConvertTo64BitString());
              }
              for (let e = 0; e < o.data.in_wishlist?.length && e < s; e++) {
                const r = new H.b(o.data.in_wishlist[e].steamid);
                t.push(r.ConvertTo64BitString());
              }
              for (let e = 0; e < o.data.owns?.length && e < s; e++) {
                const t = new H.b(o.data.owns[e].steamid);
                n.push(t.ConvertTo64BitString());
              }
              return {
                rgRecommendedFriends: e,
                rgWishlistFriends: t,
                rgOwnedFriends: n,
              };
            },
            enabled: l.isSuccess && o.isSuccess,
          });
        if (
          !m ||
          h.isLoading ||
          u.isLoading ||
          l.isLoading ||
          o.isLoading ||
          g.isLoading ||
          S.isLoading ||
          v.isLoading
        )
          return c.createElement(T.t, { size: "medium", position: "center" });
        let f = [];
        u.isSuccess &&
          u.data.arrSimilarPlayedApps &&
          u.data.arrSimilarPlayedApps.forEach((e) => {
            const r = p.A.Get().GetApp(e.appid);
            r
              ? f.push(
                  c.createElement(Se, {
                    key: e.appid,
                    lifetimePlaytime: e.playtimeForever,
                    storeItem: r,
                  }),
                )
              : console.error("Failed to load store data ", t);
          });
        const C = m.GetItemIDs().findIndex((e) => e.appid === t),
          w = u.data?.bRecommendedByIR,
          I = f.length > 0,
          D = o.data?.owns?.length,
          M = o.data?.in_wishlist?.length,
          B = l.data?.accountids_recommended?.length;
        let A = 0;
        return (
          D > 0 && A++,
          M > 0 && A++,
          B > 0 && A++,
          w && A++,
          C >= 0 && A++,
          f.length > 0 && A++,
          a && g?.data?.length > 0 && A++,
          i && Boolean(S.data) && A++,
          pe(
            "FriendsOwned: ",
            D,
            " FriendsWishlisted: ",
            M,
            "cRecommended: ",
            B,
          ),
          c.createElement(
            c.Fragment,
            null,
            A > 0 &&
              c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: ue().WhyRelevant },
                  (0, y.we)("#DiscoveryQueue_WhyRelevant"),
                ),
                c.createElement(
                  "div",
                  { role: "list", className: ue().RelevantCtn },
                  I &&
                    c.createElement(
                      Ce,
                      { header: (0, y.we)("#DiscoveryQueue_SimilarGames") },
                      c.createElement(
                        "div",
                        { className: ue().ReleventSimilarAppsCtn },
                        f,
                      ),
                    ),
                  a &&
                    g?.data?.length > 0 &&
                    c.createElement(
                      Ce,
                      {
                        header: (0, y.we)(
                          "#ContentHub_Recommendation_Curators",
                        ),
                      },
                      c.createElement(
                        "div",
                        {
                          className: (0, b.A)(
                            ue().ReleventSimilarAppsCtn,
                            ue().RecommendingCuratorsCtn,
                          ),
                        },
                        g.data
                          .filter(Boolean)
                          .map((e) =>
                            c.createElement(_e, {
                              key: "curator_" + e.clanAccountID,
                              curator: e,
                            }),
                          ),
                      ),
                    ),
                  i &&
                    Boolean(S.data) &&
                    c.createElement(ge, { creatorInfo: S.data }),
                  C >= 0 &&
                    c.createElement(Ce, {
                      header: (0, y.um)(
                        "#DiscoveryQueue_TopSellers",
                        (C + 1).toLocaleString(),
                        c.createElement("span", {
                          className: ue().RelevantTextBold,
                        }),
                      ),
                    }),
                  w &&
                    !I &&
                    c.createElement(Ce, {
                      header: (0, y.we)("#DiscoveryQueue_RecommendedByIR"),
                    }),
                  c.createElement(ve, {
                    bShowAvatars: r,
                    count: l.data?.accountids_recommended?.length,
                    locToken: "#DiscoveryQueue_FriendsRecommended",
                    arrSteamIDs: v.data?.rgRecommendedFriends,
                  }),
                  c.createElement(ve, {
                    bShowAvatars: r,
                    count: o.data?.owns?.length,
                    locToken: "#DiscoveryQueue_FriendsOwned",
                    arrSteamIDs: v.data?.rgOwnedFriends,
                  }),
                  c.createElement(ve, {
                    bShowAvatars: r,
                    count: o.data?.in_wishlist?.length,
                    locToken: "#DiscoveryQueue_FriendsWishlisted",
                    arrSteamIDs: v.data?.rgWishlistFriends,
                  }),
                ),
              ),
            s && 0 != A
              ? c.createElement("div", {
                  "aria-label": n.GetShortDescription(),
                })
              : c.createElement(
                  "div",
                  {
                    className: (0, b.A)(ue().AppDescription, A && ue().Divider),
                  },
                  n.GetShortDescription(),
                ),
          )
        );
      }
      function ge(e) {
        const { creatorInfo: t } = e;
        if (!t) return null;
        let r;
        switch (t.type) {
          case "publisher":
            r = "#ContentHub_Recommendation_FollowedPublisher";
            break;
          case "developer":
            r = "#ContentHub_Recommendation_FollowedDeveloper";
            break;
          case "franchise":
            r = "#ContentHub_Recommendation_FollowedFranchise";
        }
        return r
          ? c.createElement(Ce, {
              header: (0, y.PP)(
                r,
                c.createElement(
                  "span",
                  { className: ue().RelevantTextBold },
                  t.clanInfo?.group_name,
                ),
              ),
            })
          : null;
      }
      function _e(e) {
        const { curator: t } = e,
          r = (0, q.FV)(t?.clanAccountID);
        return t && r
          ? c.createElement(
              n.Ii,
              { href: r.GetCreatorHomeURL(null) },
              c.createElement("img", { src: t.avatar_medium_url }),
            )
          : null;
      }
      function Se(e) {
        const { lifetimePlaytime: t, storeItem: r } = e;
        return c.createElement(
          "div",
          { className: ue().SimilarAppCtn },
          c.createElement(
            R.Qf,
            {
              item: { type: "game", id: r.GetAppID() },
              bHidePrice: !0,
              hoverProps: {
                direction: "overlay",
                nBodyAlignment: 1,
                style: { minWidth: "320px", zIndex: 5e3 },
              },
            },
            c.createElement("img", {
              className: ue().SimilarAppImg,
              alt: r.GetName(),
              src: r.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
        );
      }
      function ve(e) {
        const { arrSteamIDs: t, count: r, locToken: n, bShowAvatars: s } = e;
        return r
          ? 1 != r || s
            ? c.createElement(
                Ce,
                {
                  header: (0, y.um)(
                    n,
                    r,
                    c.createElement("span", {
                      className: ue().RelevantTextBold,
                    }),
                  ),
                },
                s &&
                  t.length > 0 &&
                  c.createElement(
                    "div",
                    { className: ue().FriendAvatarsCtn },
                    1 == r
                      ? c.createElement(fe, { steamid: t[0] })
                      : c.createElement(ye, { arrSteamIDs: t }),
                  ),
              )
            : c.createElement(Ce, {
                header: (0, y.PP)(
                  n + "_Single",
                  c.createElement(be, { steamid: t[0] }),
                ),
              })
          : null;
      }
      function be(e) {
        const { steamid: t } = e,
          { data: r } = (0, de.js)(t);
        return r && r.m_bInitialized
          ? c.createElement(
              "span",
              {
                "data-miniprofile": "s" + r.m_steamid.ConvertTo64BitString(),
                className: ue().RelevantTextBold,
              },
              r.m_strPlayerName,
            )
          : null;
      }
      function ye(e) {
        const { arrSteamIDs: t } = e,
          r = (0, de.DW)(t);
        return c.createElement(
          c.Fragment,
          null,
          r.map(
            ({ data: e }) =>
              e &&
              c.createElement(x.i8, {
                key: e.m_steamid.ConvertTo64BitString(),
                "data-miniprofile": "s" + e.m_steamid.ConvertTo64BitString(),
                persona: e,
                size: "Small",
                statusPosition: "right",
              }),
          ),
        );
      }
      function fe(e) {
        const { steamid: t } = e,
          { data: r } = (0, de.js)(t);
        return r
          ? c.createElement(
              s.Z,
              { className: ue().FriendBlockCtn, "data-miniprofile": "s" + t },
              c.createElement(x.i8, {
                persona: r,
                size: "Small",
                statusPosition: "right",
              }),
              c.createElement(U.D, {
                className: ue().PersonaStatus,
                persona: r,
                eFriendRelationship: 3,
                bIsSelf: !1,
                strNickname: null,
                bParenthesizeNicknames: !1,
                bCompactView: !1,
                bNoMask: !0,
              }),
            )
          : null;
      }
      function Ce(e) {
        const { children: t, header: r } = e;
        return c.createElement(
          "div",
          { className: ue().RelevantItem },
          c.createElement(
            "div",
            { className: ue().RelevantCheck },
            c.createElement(_.Jlk, null),
          ),
          c.createElement(
            "div",
            { className: ue().RelevantColumn },
            c.createElement("div", { className: ue().ReleventText }, r),
            t,
          ),
        );
      }
      var we = r(43188),
        Ee = r(60779),
        Ie = r(61336),
        De = r(92834);
      new f.wd("DiscoveryQueueApp").Debug;
      function Me(e) {
        const {
            appID: t,
            nItemHeight: r,
            nItemWidth: n,
            selected: a,
            fnFocused: i,
            eStoreDiscoveryQueueType: o,
            storePageFilter: l,
            bPreferDemoStorePage: d,
            elVideo: m,
            elDetails: p,
            appAriaIDs: g,
          } = e,
          [_] = (0, h.t7)(t, we.Gy),
          S = (0, E.Qn)(),
          v = (0, u.R7)(),
          f = v?.ownerWindow || window,
          C = Be(_, o, l, d),
          { bIsIgnored: w, fnUpdateIgnored: I } = (0, we.TK)(t),
          { bIsWishlisted: D, fnUpdateWishlist: M } = (0, we.u4)(t),
          B = c.useRef();
        if (
          (c.useEffect(() => {
            a && B.current && B.current.focus({ preventScroll: !0 });
          }, [a]),
          !_)
        )
          return console.warn("Error: missing store item for appid ", t), null;
        const T = { width: n || void 0, height: r || void 0 };
        return c.createElement(
          s.Z,
          {
            "aria-labelledby": (0, De.q)(
              g.nameId,
              g.tagsId,
              g.reviewId,
              g.relevanceId,
              g.buttonsId,
            ),
            ref: B,
            style: T,
            className: (0, b.A)(ue().DiscoveryQueueApp, a && ue().Selected),
            onOptionsActionDescription: D
              ? (0, y.we)("#DiscoveryQueue_RemoveFromWishlist")
              : (0, y.we)("#DiscoveryQueue_AddToWishlist"),
            onOptionsButton: M,
            onOKActionDescription: (0, y.we)("#DiscoveryQueue_ViewStorePage"),
            onOKButton: () => {
              f.location.href = C;
            },
            onSecondaryActionDescription: w
              ? (0, y.we)("#DiscoveryQueue_Undo")
              : (0, y.we)("#DiscoveryQueue_IgnoreLink"),
            onSecondaryButton: I,
            fnScrollIntoViewHandler: () => (i(), !0),
          },
          c.createElement(
            "div",
            { className: (0, b.A)(ue().IgnoredCtn, w && ue().Active) },
            c.createElement(
              "div",
              { className: (0, b.A)(ue().IgnoredInfo, w && ue().Active) },
              c.createElement(
                "div",
                { className: ue().IgnoredTitle },
                (0, y.we)("#DiscoveryQueue_Ignored"),
              ),
              c.createElement(
                "div",
                { className: ue().IgnoredDescription },
                (0, y.we)("#DiscoveryQueue_IgnoredConfirmation"),
              ),
              c.createElement(
                s.Z,
                {
                  className: (0, b.A)(ue().QueueButton, ue().UndoIgnoreButton),
                  onClick: I,
                },
                S &&
                  c.createElement(O.$m, {
                    button: V.g4.X,
                    type: O.wt.Light,
                    size: O.xY.Medium,
                  }),
                (0, y.we)("#DiscoveryQueue_Undo"),
              ),
            ),
          ),
          m,
          p,
        );
      }
      function Be(e, t, r, n) {
        const s = (0, l.n9)();
        return c.useMemo(() => {
          if (!e) return;
          const a = (0, I.Bk)(r),
            i = t >= 0 ? "?inqueue=" + t + (r ? "_" + a : "") : "",
            o = (0, l.bV)(s, e.GetStorePageURL(n) + i);
          return (0, Ie.NT)(o);
        }, [n, t, s, e, r]);
      }
      function Te(e) {
        const {
            appID: t,
            bShowMinimizedDisplay: r,
            eStoreDiscoveryQueueType: n,
            storePageFilter: a,
            bPreferDemoStorePage: i,
            appAriaIDs: o,
          } = e,
          [l] = (0, h.t7)(t, we.Gy),
          { bIsIgnored: u, fnUpdateIgnored: d } = (0, we.TK)(t),
          { bIsWishlisted: m, fnUpdateWishlist: p } = (0, we.u4)(t),
          g = Be(l, n, a, i),
          S = (0, E.Qn)(),
          v = S;
        if (!l) return;
        const f = l.GetAssets().GetLibraryCapsuleURL(),
          C = l.GetAssets().GetHeaderURL();
        return c.createElement(
          s.Z,
          { className: ue().AppDetailsCtn },
          c.createElement(
            "div",
            { className: ue().AppDetailsCtnTop },
            f &&
              c.createElement(
                "a",
                { className: (0, b.A)(ue().CapsuleLink), href: g },
                c.createElement("img", {
                  className: ue().AppLibraryHero,
                  src: f,
                }),
                C &&
                  c.createElement("img", { className: ue().AppHeader, src: C }),
              ),
            c.createElement(
              "div",
              { id: o.nameId, className: ue().RightColumn },
              c.createElement(
                "a",
                { className: (0, b.A)(ue().AppName), href: g },
                l.GetName(),
              ),
              c.createElement(N.wc, {
                bSingleLineMode: !0,
                info: { id: t, type: (0, k.U)(l.GetAppType()) },
              }),
            ),
            c.createElement(Ae, {
              rgTagIDs: l.GetTagIDs(),
              ariaLabelID: o.tagsId,
            }),
            c.createElement(
              "div",
              { className: ue().AppReviews, id: o.reviewId },
              c.createElement(R.Jz, {
                bShowTooltip: !0,
                bTruncateTotalReviews: r,
                appInfo: { id: t, type: (0, k.U)(l.GetAppType()) },
              }),
            ),
            c.createElement(
              "div",
              { id: o.relevanceId, className: ue().AppRelevanceCtn },
              c.createElement(he, {
                bHideDescription: S,
                bShowAvatars: !r,
                storeItem: l,
                appID: t,
              }),
            ),
          ),
          !S &&
            c.createElement(
              "div",
              { className: ue().AppActionButtonsCtn },
              c.createElement(
                "div",
                { id: o.buttonsId, className: ue().AppActionJustButtonsCtn },
                c.createElement(
                  "div",
                  { className: ue().ButtonsRowWrap },
                  l.BHasDemo() &&
                    c.createElement(L.j, {
                      info: {
                        id: l.GetAppID(),
                        type: (0, P._4)(l.GetStoreItemType(), l.GetAppType()),
                      },
                      className: (0, b.A)(
                        ue().QueueButton,
                        ue().Primary,
                        ue().Launch,
                      ),
                    }),
                  c.createElement(
                    "a",
                    {
                      className: (0, b.A)(ue().QueueButton, ue().Primary),
                      href: g,
                    },
                    v &&
                      c.createElement(O.$m, {
                        button: V.g4.Y,
                        type: O.wt.Light,
                        size: O.xY.Medium,
                        additionalClassName: ue().YGlyph,
                      }),
                    " ",
                    (0, y.we)("#DiscoveryQueue_ViewStorePage"),
                  ),
                  c.createElement(
                    G.he,
                    {
                      toolTipContent: m
                        ? (0, y.we)("#RemoveFromWishlist_ttip")
                        : (0, y.we)("#AddToWishlist_ttip"),
                    },
                    c.createElement(
                      s.Z,
                      {
                        "aria-label": m
                          ? (0, y.we)("#Sale_RemoveFromWishlist")
                          : (0, y.we)("#Sale_AddToWishlist"),
                        focusable: !0,
                        className: (0, b.A)(ue().QueueButton, m && ue().Active),
                        onClick: p,
                      },
                      v &&
                        c.createElement(O.$m, {
                          button: V.g4.Y,
                          type: O.wt.Light,
                          size: O.xY.Medium,
                          additionalClassName: ue().YGlyph,
                        }),
                      m
                        ? c.createElement(_.qnF, null)
                        : c.createElement(_.T4m, null),
                    ),
                  ),
                  c.createElement(
                    G.he,
                    {
                      toolTipContent: (0, y.we)(
                        "#SaleTrailerCarousel_IgnoreLink_ttip",
                      ),
                    },
                    c.createElement(
                      s.Z,
                      {
                        "aria-label": (0, y.we)("#DiscoveryQueue_IgnoreLink"),
                        focusable: !0,
                        className: (0, b.A)(ue().QueueButton, u && ue().Active),
                        onClick: d,
                      },
                      c.createElement(_.NtH, null),
                    ),
                  ),
                ),
              ),
            ),
        );
      }
      function Ae(e) {
        const { rgTagIDs: t, ariaLabelID: r } = e,
          n = [...(0, we.W3)(t)].slice(0, 8);
        return c.createElement(
          "div",
          { id: r, role: "list", className: ue().AppTagsCtn },
          n.map((e) =>
            c.createElement(
              "div",
              { key: e, role: "listitem", className: ue().TagEntry },
              c.createElement(Ee.K, { tagid: e }),
            ),
          ),
        );
      }
      var ke = r(60884);
      const Pe = new f.wd("DiscoveryQueueWizard").Debug,
        Re = 1,
        Ne = 1400,
        Oe = "discoveryqueue2022",
        Ge = {
          include_assets: !0,
          include_trailers: !0,
          include_basic_info: !0,
          include_tag_count: 20,
          include_release: !0,
          include_platforms: !0,
        };
      async function Ve(e, t, r, n) {
        let s = [],
          a = !1;
        try {
          const { appids: i, exhausted: o } = await I.aI
            .Get()
            .GetDiscoveryQueueAppsOfType(e, t, n);
          (s = [...i]),
            (a = o),
            r && -1 === s.findIndex((e) => e === r) && s.unshift(r),
            await p.A.Get().QueueMultipleAppRequests(s, { ...we.Gy, ...Ge });
        } catch (e) {
          console.error("Failed getting discovery queue apps", e);
        }
        return { appids: s, exhausted: a };
      }
      function Le(e) {
        const {
            eStoreDiscoveryQueueType: t,
            bWizardVisible: r,
            fnCloseModal: a,
            includeAppID: m,
            storePageFilter: p,
            bPreferDemoStorePage: h,
            showAOAutoPlayWarning: f,
          } = e,
          [D, M] = c.useState(0),
          [B, T] = c.useState(void 0),
          [k, P] = c.useState(0),
          R = (0, u.R7)(),
          N = R?.ownerWindow || window,
          O = (0, l.ru)(Oe),
          [G, V] = c.useState(0),
          L = (0, o.b)();
        (0, w.E)("ArrowLeft", () => H(!1), !0, !0),
          (0, w.E)("Left", () => H(!1), !0, !0),
          (0, w.E)("ArrowRight", () => H(!0), !0, !0),
          (0, w.E)("Right", () => H(!0), !0, !0),
          (0, w.E)("Escape", () => a?.(), !0, !0),
          (0, w.E)("Esc", () => a?.(), !0, !0);
        const F = c.useMemo(() => Boolean(N.innerWidth < Ne), [N]),
          { fnGetDiscoveryQueue: x, rgAppIDs: U } = (function (e, t, r) {
            const [n, s] = c.useState([]),
              a = (0, v.m)("DiscoveryQueueWizard"),
              i = async (i) => {
                let { appids: o } = await Ve(e, !i, i && r, t);
                if (i && !o.length) {
                  let { appids: r } = await Ve(e, !0, void 0, t);
                  o = r;
                }
                if (!a?.token?.reason) {
                  const e = [...(n ?? []), ...o, Re];
                  s(e);
                }
                Pe("Loaded new discovery queue apps: ", o);
              };
            return { fnGetDiscoveryQueue: i, rgAppIDs: n };
          })(t, p, m);
        c.useEffect(() => {
          x(!0), d.Fm.Get().HintLoad();
        }, []),
          c.useEffect(() => {
            const e = U[D];
            e != B && (e && e != Re && L.AddImpression(e, O), T(e));
          }, [L, D, B, U, O]);
        const H = (e) => {
          const t = C.OQ(D + (e ? 1 : -1), 0, U.length - 1);
          t != D &&
            (M(t), Pe("New selected index: ", t, " Prev selected index: ", D));
        };
        c.useEffect(() => {
          U?.length &&
            U[D] !== Re &&
            (V((e) => e + 1),
            I.aI
              .Get()
              .SkipDiscoveryQueueItem(U[D], t, p)
              .then(() => V((e) => e - 1)));
        }, [t, D, U, p]),
          c.useEffect(() => {
            U.length != k &&
              (P(U.length), U.length > k && U[D] == Re && M(D + 1));
          }, [k, D, U]);
        const [W] = c.useState(new Map()),
          q = (0, I.WX)(t, p),
          z = !(0, A.c5)() && D > 0,
          Q = !(0, A.c5)() && D < U.length - 1,
          {
            refContainer: j,
            bIsDragging: K,
            nDragOffset: Z,
            nDragSelectedOffsetIndex: Y,
            handleTouchStart: J,
            handleTouchMove: X,
            handleTouchEnd: $,
          } = (function (e, t) {
            const r = c.useRef(null),
              [n, s] = c.useState(0),
              [a, i] = c.useState(!1),
              [o, l] = c.useState(0),
              u = c.useRef(0),
              d = 50,
              m = (e) => {
                i(!0), (u.current = e.touches[0].clientX), s(0), l(0);
              },
              p = (e) => {
                if (!a) return;
                const t = e.touches[0].clientX - u.current;
                s(t), l(n > d ? 1 : n < -d ? -1 : 0);
              },
              h = () => {
                a &&
                  (i(!1),
                  n > d
                    ? e((e) => Math.max(e - 1, 0))
                    : n < -d && e((e) => Math.min(e + 1, t - 1)),
                  s(0),
                  l(0));
              };
            return {
              refContainer: r,
              bIsDragging: a,
              nDragOffset: n,
              nDragSelectedOffsetIndex: o,
              handleTouchStart: m,
              handleTouchMove: p,
              handleTouchEnd: h,
            };
          })((e) => M(e), U.length),
          ee = (e) => C.W(D + e, U) && (C.LA(e, -1, 1) || K),
          te = (0, l.aL)(E.TS.STORE_BASE_URL + "explore?dq=widget"),
          re = U[D] !== Re,
          { nQueueStart: ne, nCount: se } = (function (e, t) {
            let r = 0;
            for (let n = 0; n < e; n++) t[n] == Re && (r = n + 1);
            let n = 0;
            for (let r = e; r < t.length; r++) {
              if (t[r] == Re) {
                n = r;
                break;
              }
              r == t.length - 1 && (n = t.length);
            }
            const s = n - r;
            return { nQueueStart: r, nQueueEnd: n, nCount: s };
          })(D, U);
        return c.createElement(
          g.EN,
          { active: r },
          c.createElement(
            S.Ay,
            { feature: Oe },
            c.createElement(
              s.Z,
              {
                role: "dialog",
                focusable: !1,
                "flow-children": "column",
                className: ue().DiscoveryQueueCarouselCtn,
                navEntryPreferPosition: i.iU.LAST,
                onCancelButton: () => a?.(),
                onCancelActionDescription: (0, y.we)("#Button_Close"),
              },
              c.createElement(
                "div",
                {
                  className: ue().DiscoveryQueueWrapper,
                  onClick: (e) => {
                    e.target == e.currentTarget && (a?.(), e.stopPropagation());
                  },
                },
                q.length > 0 &&
                  c.createElement(
                    s.Z,
                    {
                      "flow-children": "row",
                      className: ue().DiscoveryQueueName,
                    },
                    q,
                  ),
                c.createElement(
                  s.Z,
                  { "flow-children": "row", className: ue().TopBarCtn },
                  c.createElement(
                    s.Z,
                    { className: ue().LearnMore },
                    (0, y.oW)(
                      "#DiscoveryQueue_LearnMore_Default",
                      c.createElement(n.Ii, {
                        className: ue().LearnMoreLink,
                        href: (0, Ie.NT)(te),
                      }),
                    ),
                  ),
                  c.createElement(
                    s.Z,
                    { className: ue().ControlsCtn },
                    c.createElement(
                      s.Z,
                      {
                        focusable: !0,
                        className: ue().QueueButton,
                        onClick: a,
                        "aria-label": (0, y.we)("#Button_Close"),
                        onActivate: () => a && a(),
                      },
                      c.createElement(_.X, null),
                    ),
                  ),
                ),
                c.createElement(
                  s.Z,
                  {
                    role: "button",
                    "aria-label": (0, y.we)("#Carousel_Next"),
                    onClick: () => H(!1),
                    className: (0, b.A)(
                      ue().QueueNavArrow,
                      ue().LeftArrow,
                      z && ue().Enable,
                    ),
                  },
                  c.createElement(_.l8x, { angle: 180 }),
                ),
                c.createElement(
                  s.Z,
                  {
                    role: "button",
                    "aria-label": (0, y.we)("#Carousel_Prev"),
                    onClick: () => H(!0),
                    className: (0, b.A)(
                      ue().QueueNavArrow,
                      ue().RightArrow,
                      Q && ue().Enable,
                    ),
                  },
                  c.createElement(_.l8x, { angle: 0 }),
                ),
                c.createElement(
                  s.Z,
                  {
                    ref: j,
                    className: ue().DiscoveryQueueItemsCtn,
                    focusable: !1,
                    onTouchStart: J,
                    onTouchMove: X,
                    onTouchEnd: $,
                  },
                  [-2, -1, 0, 1, 2].map((e) =>
                    c.createElement(
                      "div",
                      {
                        key: D + e,
                        className: (0, b.A)({
                          [ue().DiscoveryQueueItemPositioner]: !0,
                          [ue().Dragging]: K,
                          [ue().InRange]: ee(e),
                          [ue().FarLeft]: -2 == e,
                          [ue().Left]: -1 == e,
                          [ue().Current]: 0 == e,
                          [ue().Right]: 1 == e,
                          [ue().FarRight]: 2 == e,
                          [ue().Selected]: e + Y == 0,
                        }),
                        style: { "--dragOffsetX": `${Z}px` },
                      },
                      ee(e) &&
                        c.createElement(Fe, {
                          eStoreDiscoveryQueueType: t,
                          storePageFilter: p,
                          rgAppIDs: U,
                          index: D + e,
                          bShowMinimizedDisplay: F,
                          selectedIndex: D,
                          bPreferDemoStorePage: h,
                          mapViewedAppCount: W,
                          fnCloseModal: a,
                          fnLoadNextQueue: () => x(!1),
                          fnAdvance: H,
                          bSkipAppRequestPending: Boolean(0 != G),
                          showAOAutoPlayWarning: f,
                        }),
                    ),
                  ),
                ),
                c.createElement(ke.A, {
                  className: (0, b.A)(!re && ue().ProgressHidden),
                  showPriorAsActive: !0,
                  count: se,
                  selectedIndex: D - ne,
                }),
              ),
            ),
          ),
        );
      }
      function Fe(e) {
        const {
            eStoreDiscoveryQueueType: t,
            storePageFilter: r,
            rgAppIDs: n,
            index: s,
            bShowMinimizedDisplay: a,
            selectedIndex: i,
            bPreferDemoStorePage: o,
            mapViewedAppCount: l,
            fnCloseModal: u,
            fnLoadNextQueue: d,
            fnAdvance: m,
            bSkipAppRequestPending: p,
            showAOAutoPlayWarning: h,
          } = e,
          [g, _] = c.useState(!1),
          S = {
            nameId: c.useId(),
            tagsId: c.useId(),
            reviewId: c.useId(),
            relevanceId: c.useId(),
            buttonsId: c.useId(),
          },
          v = () => {
            i != s && m(s > i);
          },
          b = i === s,
          y = c.useRef(b);
        if (
          (c.useEffect(() => {
            const e = y.current;
            if (((y.current = b), e && !b)) {
              _(!0);
              const e = setTimeout(() => _(!1), 500);
              return () => {
                clearTimeout(e);
              };
            }
          }, [b]),
          n[s] == Re)
        ) {
          let a = 0;
          for (let e = s - 1; e >= 0; e--) n[e] == Re && (a += 1);
          let o = 0;
          for (let e = s - 1; e >= 0 && n[e] !== Re; e--) o++;
          return (
            l.has(a) ||
              l.set(a, I.aI.Get().GetTotalSkippedAppsForDiscoveryQueue(t, r)),
            c.createElement(xe, {
              ...e,
              key: i,
              selected: b,
              lastCard: i == n.length - 1,
              fnLoadNextQueue: d,
              fnCloseModal: u,
              summaryCardIndex: a,
              eStoreDiscoveryQueueType: t,
              viewedAppCount: (l.get(a) || 0) + o,
              fnFocused: v,
              fnAdvance: () => m(!0),
              bSkipAppRequestPending: p,
            })
          );
        }
        const f = b || y.current || g;
        return c.createElement(Me, {
          appAriaIDs: S,
          eStoreDiscoveryQueueType: t,
          storePageFilter: r,
          selected: b,
          appID: n[s],
          bPreferDemoStorePage: o,
          fnFocused: v,
          elVideo: c.createElement(we.y3, {
            appID: n[s],
            focused: f,
            showAOAutoPlayWarning: h,
          }),
          elDetails: c.createElement(Te, {
            appID: n[s],
            bShowMinimizedDisplay: a,
            eStoreDiscoveryQueueType: t,
            storePageFilter: r,
            bPreferDemoStorePage: o,
            appAriaIDs: S,
          }),
        });
      }
      function xe(e) {
        const {
            eStoreDiscoveryQueueType: t,
            fnCloseModal: r,
            summaryCardIndex: n,
            lastCard: a,
            selected: i,
            fnLoadNextQueue: o,
            storePageFilter: u,
            fnDisplaySummaryReward: p,
            viewedAppCount: h,
            fnFocused: g,
            fnAdvance: _,
            bSkipAppRequestPending: S,
          } = e,
          [f, C] = c.useState(!1),
          w = (0, E.Qn)(),
          D = (0, m.Qt)(2, E.TS.LANGUAGE, !1),
          [M, B] = c.useState(0),
          [T, A] = c.useState(0);
        c.useEffect(() => {
          i &&
            !f &&
            d.Fm.Get()
              .HintLoad()
              .then(() => {
                I.aI
                  .Get()
                  .LoadSkippedApps(t, u)
                  .then((e) => {
                    B(
                      e.reduce(
                        (e, t) => (d.Fm.Get().BIsGameWishlisted(t) ? e + 1 : e),
                        0,
                      ),
                    ),
                      A(
                        e.reduce(
                          (e, t) => (d.Fm.Get().BIsGameIgnored(t) ? e + 1 : e),
                          0,
                        ),
                      ),
                      C(!0);
                  });
              });
        }, [f, t, i, u]);
        const [k, P] = c.useState(!1),
          R = (0, I.IH)(t, u),
          N = (0, v.m)("DiscoveryQueueSummary"),
          O = async () => {
            a ? k || (P(!0), await o(), N?.token?.reason || P(!1)) : _();
          };
        return c.createElement(
          Ue,
          {
            selected: i,
            fnFocused: g,
            fnOnContinue: O,
            fnCloseModal: r,
            bLoaded: f,
          },
          c.createElement(
            "div",
            { className: ue().SummaryContentCtn },
            c.createElement(
              "div",
              { className: ue().SummaryTitle },
              (0, y.we)("#DiscoveryQueue_SummaryTitle"),
            ),
            !R &&
              i &&
              D.data?.definition &&
              c.createElement(We, {
                bSkipAppRequestPending: S,
                summaryCardIdx: n,
              }),
            c.createElement(
              "div",
              { className: ue().YourStats },
              (0, y.we)("#DiscoveryQueue_YourStats"),
            ),
            c.createElement(
              s.Z,
              { "flow-children": "row", className: ue().SummaryGrid },
              c.createElement(
                "div",
                { className: ue().GridItem },
                c.createElement(
                  "div",
                  { className: ue().GridTitle },
                  (0, y.we)("#DiscoveryQueue_ViewedCaps"),
                ),
                c.createElement(
                  "div",
                  { className: ue().GridNumber },
                  h.toLocaleString(),
                ),
                c.createElement(
                  "div",
                  { className: ue().GridSubTitle },
                  (0, y.we)("#DiscoveryQueue_Titles"),
                ),
              ),
              c.createElement(
                "div",
                { className: ue().GridItem },
                c.createElement(
                  "div",
                  { className: ue().GridTitle },
                  (0, y.we)("#DiscoveryQueue_WishlistedCaps"),
                ),
                c.createElement(
                  "div",
                  { className: ue().GridNumber },
                  M.toLocaleString(),
                ),
                c.createElement(
                  l.Fh,
                  {
                    className: (0, b.A)(ue().GridSubTitle, ue().TextLink),
                    href: (0, Ie.NT)(E.TS.STORE_BASE_URL + "wishlist"),
                  },
                  (0, y.we)("#DiscoveryQueue_ViewWishlist"),
                ),
              ),
              c.createElement(
                "div",
                { className: ue().GridItem },
                c.createElement(
                  "div",
                  { className: ue().GridTitle },
                  (0, y.we)("#DiscoveryQueue_IgnoredCaps"),
                ),
                c.createElement(
                  "div",
                  { className: ue().GridNumber },
                  T.toLocaleString(),
                ),
                c.createElement(
                  l.Fh,
                  {
                    className: (0, b.A)(ue().GridSubTitle, ue().TextLink),
                    href: (0, Ie.NT)(
                      E.TS.STORE_BASE_URL + "account/notinterested",
                    ),
                  },
                  (0, y.we)("#DiscoveryQueue_ViewIgnored"),
                ),
              ),
            ),
            !w &&
              c.createElement(
                s.Z,
                { className: ue().SummaryActionButtonsCtn },
                c.createElement(
                  s.Z,
                  {
                    className: (0, b.A)(ue().QueueButton, ue().Wide),
                    onClick: r,
                  },
                  (0, y.we)("#ActionButtonLabelDone"),
                ),
                !R &&
                  c.createElement(
                    s.Z,
                    {
                      className: (0, b.A)(
                        k && ue().Disabled,
                        ue().QueueButton,
                        ue().Primary,
                        ue().Wide,
                      ),
                      onClick: O,
                    },
                    k ? (0, y.we)("#Loading") : (0, y.we)("#Button_Continue"),
                  ),
              ),
          ),
          Boolean(!R) &&
            c.createElement(c.Fragment, null, Boolean(p) && p(n + 1)),
        );
      }
      function Ue(e) {
        const {
            children: t,
            selected: r,
            fnOnContinue: n,
            fnCloseModal: s,
            fnFocused: i,
            bLoaded: o,
          } = e,
          d = (0, l.aL)(E.TS.STORE_BASE_URL + "wishlist"),
          m = (0, u.R7)(),
          p = m?.ownerWindow || window,
          h = c.useRef();
        return (
          c.useEffect(() => {
            r && h.current && h.current.focus({ preventScroll: !0 });
          }, [r]),
          c.createElement(
            a.YZ,
            {
              ref: h,
              "aria-live": "polite",
              className: (0, b.A)(
                ue().SummaryCtn,
                ue().DiscoveryQueueApp,
                r && ue().Selected,
              ),
              onOptionsActionDescription: (0, y.we)(
                "#DiscoveryQueue_ViewWishlist",
              ),
              onOptionsButton: () => {
                p.location.href = (0, Ie.NT)(d);
              },
              onOKActionDescription: (0, y.we)("#Button_Continue"),
              onOKButton: () => {
                n();
              },
              onCancelActionDescription: (0, y.we)("#ActionButtonLabelDone"),
              onCancelButton: () => s && s(),
              fnScrollIntoViewHandler: () => (i(), !0),
            },
            o
              ? t
              : c.createElement(T.t, {
                  className: ue().DiscoveryQueueThrobber,
                  msDelayAppear: 200,
                  size: "large",
                  position: "center",
                }),
          )
        );
      }
      function He() {
        return c.createElement(
          s.Z,
          { className: ue().SaleRewardsCtn },
          c.createElement(T.t, { size: "large", position: "center" }),
        );
      }
      function We(e) {
        const { bSkipAppRequestPending: t, summaryCardIdx: r } = e;
        return t
          ? c.createElement(He, null)
          : c.createElement(qe, { summaryCardIdx: r });
      }
      function qe(e) {
        const { summaryCardIdx: t } = e,
          r = (0, m.os)(2, E.TS.LANGUAGE, !1, t.toString()),
          [n] = (0, h.t7)(r?.data?.current_def?.appid, {}),
          a = (0, E.Qn)();
        if (!r?.data?.current_def || !n?.GetName().length)
          return c.createElement(He, null);
        const i = r.data.num_items_earned,
          o = r.data.current_def.num_items_per_def,
          l = o - i,
          u = (i / o) * 100;
        return c.createElement(
          s.Z,
          { className: ue().SaleRewardsCtn },
          c.createElement(M, { nPercent: u, size: 70, strokeWidth: 12 }),
          c.createElement(
            s.Z,
            { className: ue().RewardStatusCtn },
            c.createElement(
              "div",
              { className: ue().SaleRewardAppTitle },
              (0, y.we)(
                "#DiscoveryQueue_SaleStatus_Title" + (l ? "" : "_Complete"),
                i.toLocaleString(),
                n.GetName(),
              ),
            ),
            l > 0 &&
              c.createElement(
                "div",
                { className: ue().SaleRewardAppTitle },
                (0, y.we)(
                  "#DiscoveryQueue_SaleStatus_Desc",
                  l.toLocaleString(),
                  n.GetName(),
                ),
              ),
            !a &&
              c.createElement(
                "a",
                {
                  href: (0, Ie.NT)(
                    E.TS.COMMUNITY_BASE_URL + "my/itemcollection",
                  ),
                },
                (0, y.we)("#DiscoveryQueue_SaleStatus_Link"),
              ),
          ),
        );
      }
    },
    26749: (e, t, r) => {
      "use strict";
      r.d(t, { G: () => l });
      var n = r(90626),
        s = r(23809),
        a = r(39199),
        i = r(30894),
        o = r(30470);
      function l() {
        const [e, t] = (0, n.useState)(!o.iA.logged_in),
          [r] = (0, i.L2)(),
          l = (0, s.KV)();
        return (
          (0, n.useEffect)(() => {
            e || (a.aI.Init(l), t(!0));
          }, [e, l]),
          e && !r
        );
      }
    },
    60884: (e, t, r) => {
      "use strict";
      r.d(t, { A: () => l });
      var n = r(90626),
        s = r(25599),
        a = r.n(s),
        i = r(76217),
        o = r(52038);
      function l(e) {
        const {
          className: t,
          showPriorAsActive: r,
          count: s,
          selectedIndex: l,
          fnNavigate: c,
        } = e;
        return n.createElement(
          i.Z,
          { "flow-children": "row", className: (0, o.A)(a().ProgressCtn, t) },
          Array.from({ length: s }).map((e, t) =>
            n.createElement("div", {
              key: "dot_" + t,
              className: (0, o.A)({
                [a().ProgressDot]: !0,
                [a().ProgressDotActive]: r && t < l,
                [a().ProgressDotSelected]: t == l,
                [a().ProgressDotClickable]: !!c,
              }),
              onClick: c ? () => c(t) : void 0,
            }),
          ),
        );
      }
    },
    43188: (e, t, r) => {
      "use strict";
      r.d(t, {
        y3: () => L,
        Gy: () => V,
        W3: () => H,
        TK: () => F,
        u4: () => U,
      });
      var n = r(90626),
        s = r(34418),
        a = r.n(s),
        i = r(52038),
        o = r(61859),
        l = r(76217),
        c = r(65946),
        u = r(91822),
        d = r(61088),
        m = r.n(d),
        p = r(12155),
        h = r(2627),
        g = r(10981),
        _ = r(79359),
        S = r(78327),
        v = r(60778),
        b = r(72224),
        y = r(14947),
        f = r(46253),
        C = r(38535);
      const w = new v.wd("TrailerAppVideo"),
        E = "bGameHighlightAutoplayDisabled",
        I = "discovery-queue-volume";
      function D(e) {
        const {
            storeItem: t,
            bCurrentlyActive: r,
            autoPlayCookieName: s,
            bPlayWithBroadcastPlayer: a,
            showScreenshotInsteadOfMainCap: c,
            autoplayCheckboxPosition: u,
            refTogglePlayPause: d,
            bShowAOAutoPlayWarning: p,
            ...g
          } = e,
          [_, S] = n.useState(!1),
          [v, b] = n.useState(!1),
          y = (0, C.$9)(),
          w = (function (e, t) {
            const r = e?.GetAllTrailers().GetAllTrailers("blocked" == t);
            return r && r.length > 0 ? r[0] : void 0;
          })(t, y),
          I = (p ?? !0) && w && !w.BIsAllAges() && "masked" == y,
          D = (0, C.AS)(),
          [B, T] = n.useState(!1),
          [k, P] = n.useState(0),
          R = n.useRef(),
          N = n.useRef(),
          [O, G] = n.useState(),
          { bCookieLoaded: V } = (function (e, t, r) {
            const s = n.useCallback(() => {
              const t = (0, h.VY)(e ?? E),
                n = !(!t || "true" !== t.toLowerCase());
              r(!n);
            }, [e, r]);
            return (function (e, t) {
              const [r, s] = n.useState(!1);
              return (
                n.useEffect(() => (e && (t(), s(!0)), () => s(!1)), [e, t]),
                { bCookieLoaded: r }
              );
            })(t, s);
          })(s, r, S),
          L = V;
        n.useEffect(() => {
          r && L && (_ || a) && !I && b(!0);
        }, [_, L, r, a, I]),
          n.useEffect(() => {
            I && v && _ && D();
          }, [v, I, _, D]);
        const F = (function (e, t, r, s, a) {
          return n.useCallback(() => {
            0 == e
              ? t(!0)
              : 1 == e && r.current
                ? r.current.paused
                  ? r.current.play()
                  : r.current.pause()
                : 2 == e && s.current
                  ? s.current.paused
                    ? s.current.play()
                    : s.current.pause()
                  : 2 == e && a && a.TogglePlayPause();
          }, [a, e, s, r, t]);
        })(k, b, R, N, O);
        n.useEffect(() => {
          d && (d.current = F);
        }, [F, d]);
        const x = t.GetScreenshots("allowed" != y),
          U = c && x.length > 0 ? x[0] : t.GetAssets().GetMainCapsuleURL();
        return n.createElement(
          l.Z,
          {
            className: m().AppCarouselTrailerCtn,
            onMouseEnter: () => T(!0),
            onMouseLeave: () => T(!1),
          },
          n.createElement("img", {
            className: (0, i.A)(m().AppMainCap, 0 != k && m().Hidden),
            src: U,
            onClick: F,
          }),
          !a &&
            n.createElement(A, {
              storeItem: t,
              bAutoplayVideos: _,
              autoplayCheckboxPosition: u,
              fnSetAutoPlayVideos: (e) => {
                (0, h.lc)(s ?? E, String(!e), 3650), S(e), b(e);
              },
            }),
          n.createElement(f.h, {
            name: t.GetName(),
            trailerCategory: w?.GetTrailerCategory(),
            trailerDisplay: k,
            mouseOver: B,
          }),
          n.createElement(M, {
            eTrailerDisplay: k,
            setTrailerDisplay: P,
            featuredTrailer: w,
            refMicroTrailer: R,
            refMainTrailer: N,
            loadedAndActive: L && r,
            setVideoShouldStart: b,
            bMouseOverVideo: B,
            storeItem: t,
            broadcastVideo: O,
            fnSetBroadcastVideo: G,
            fnTogglePlayPause: F,
            bAutoplayVideos: _,
            bVideoShouldStart: v,
            bPlayWithBroadcastPlayer: a,
            ...g,
          }),
          I &&
            _ &&
            n.createElement(
              "div",
              { className: m().AOWarning },
              n.createElement(
                "div",
                { className: m().Text },
                (0, o.we)("#StoreTrailer_AOWarning_1"),
              ),
              n.createElement(
                "div",
                { className: m().Text },
                (0, o.we)("#StoreTrailer_AOWarning_2"),
              ),
            ),
        );
      }
      function M(e) {
        const {
            storeItem: t,
            featuredTrailer: r,
            bPlayWithBroadcastPlayer: s,
            bSkipMicroTrailer: a,
            nFadeRatio: i,
            fnPlayPause: o,
            bRequestPause: c,
            fnComplete: u,
            bLoopVideo: d,
            nDefaultVolume: h,
            eTrailerDisplay: g,
            setTrailerDisplay: v,
            refMainTrailer: f,
            refMicroTrailer: E,
            loadedAndActive: D,
            setVideoShouldStart: M,
            broadcastVideo: A,
            fnSetBroadcastVideo: P,
            fnTogglePlayPause: R,
            bAutoplayVideos: N,
            bVideoShouldStart: O,
          } = e,
          [G, V] = n.useState(!1),
          [L, F] = n.useState(!1),
          [x, U] = n.useState(!1),
          [H, W] = (0, _.M)(I),
          [q, z] = n.useState(!1),
          [Q, j] = n.useState(!1),
          [K, Z] = n.useState(!1),
          Y = (0, C.$9)();
        n.useEffect(() => {
          if (f.current) {
            const e = h ?? 0.8;
            (f.current.volume = (H ?? e) * (i ?? 1)),
              (f.current.muted = null == H || H <= 0 || q);
          }
        }, [H, i, q, h, f]);
        const J = t?.GetMicroTrailer("blocked" == Y),
          X = !!J || !!r;
        n.useEffect(() => {
          let e = !1;
          D && x && X && (e = 0 === g || (1 === g && !Q) || (2 === g && !K)),
            V(e),
            o?.(N && e);
        }, [o, g, K, Q, D, N, x, X]),
          k(E, j),
          k(f, Z),
          n.useEffect(() => {
            O ||
              (v(0),
              V(!1),
              U(!1),
              E.current && (E.current.pause(), (E.current.currentTime = 0)),
              f.current && (f.current.pause(), (f.current.currentTime = 0)));
          }, [O, f, E, v]),
          n.useEffect(() => {
            f.current && (f.current.onended = u);
          }, [u, f]);
        const $ = n.useRef(!1);
        n.useEffect(() => {
          if (D && 0 === g)
            if ((U(!0), O))
              if (f.current) {
                w.Debug("Starting microtrailer"), v(1);
                const e = () =>
                  (function (e, t, r, n) {
                    if (e.current) return;
                    (e.current = !0),
                      w.Debug("Starting main trailer"),
                      t(2),
                      r(!1),
                      B(n, "main trailer", (e) => {
                        e && r(!0);
                      });
                  })($, v, z, f.current);
                a || !E.current
                  ? e()
                  : (j(!0),
                    (E.current.onended = e),
                    B(E.current, "microtrailer", () => j(!1)));
              } else
                A &&
                  (w.Debug("Starting broadcast player"), v(2), z(!1), A.Play());
            else w.Debug("Showing image");
        }, [D, g, a, O, u, A, v, f, E]),
          (function (e, t) {
            n.useEffect(() => {
              if (!t.current || !t.current.onended) return;
              if (!e) return;
              let r = t.current.onended,
                n = setTimeout(() => {
                  r();
                }, 6e3);
              return () => clearTimeout(n);
            }, [e, t]);
          })(Q, E),
          n.useEffect(() => {
            D || M(!1);
          }, [D, M]),
          n.useEffect(() => {
            const e = (0, y.fm)(() => {
              F(A?.GetUserInputNeeded()), Z(!A?.IsPaused());
            });
            return () => e();
          }, [A]);
        if (
          ((function (e, t, r, s, a, i, o) {
            const [l, c] = n.useState(!1);
            n.useEffect(() => {
              e && !l
                ? 1 == t && r && s
                  ? (r.pause(), c(!0))
                  : 2 == t && a && i
                    ? (a.pause(), c(!0))
                    : 2 == t && o && !o.IsPaused() && (o.Pause(), c(!0))
                : !e &&
                  l &&
                  (1 == t && r
                    ? r.play()
                    : 2 == t && a
                      ? a.play()
                      : 2 == t && o && o.IsPaused() && o.Play(),
                  c(!1));
            }, [o, t, e, l, s, i, r, a]);
          })(c, g, E.current, Q, f.current, K, A),
          !t || !t.BIsVisible())
        )
          return null;
        const ee = (d ?? !0) && !u;
        return (
          (r || s) &&
          n.createElement(
            n.Fragment,
            null,
            G &&
              !L &&
              n.createElement(
                l.Z,
                { focusable: !0, onClick: R, className: m().PlayButton },
                n.createElement(p.IOc, null),
              ),
            J &&
              n.createElement(
                "video",
                {
                  className: T(!0, g),
                  ref: E,
                  preload: "auto",
                  playsInline: !0,
                  muted: !0,
                  onClick: R,
                },
                n.createElement("source", {
                  src: J.strWebMURL,
                  type: "video/webm",
                }),
                Boolean(!S.TS.IN_CLIENT) &&
                  n.createElement("source", {
                    src: J.strMP4URL,
                    type: "video/mp4",
                  }),
              ),
            r &&
              !s &&
              n.createElement(
                "video",
                {
                  className: T(!1, g),
                  ref: f,
                  onVolumeChange: (e) => {
                    if (i && i < 1) return;
                    if (q) return;
                    const t = e.target,
                      r = t.muted ? 0 : t.volume;
                    (void 0 === H || Math.abs(H - r) > Number.EPSILON) &&
                      (w.Debug("Saving volume to storage", r), W(r));
                  },
                  muted: !(H > 0),
                  preload: "auto",
                  playsInline: !0,
                  loop: ee,
                  controls: !0,
                },
                n.createElement("source", {
                  src: r.GetTrailer480p().strWebMURL,
                  type: "video/webm",
                }),
                Boolean(!S.TS.IN_CLIENT) &&
                  n.createElement("source", {
                    src: r.GetTrailer480p().strMP4URL,
                    type: "video/mp4",
                  }),
              ),
            s &&
              n.createElement(b.default, {
                classes: T(!1, g),
                nAppIDVOD: t.GetAppID(),
                watchLocation: 15,
                fnOnVideoEnd: u,
                fnVideoClick: R,
                fnSetBroadcastVideo: P,
                bStartWithSubtitles: !0,
                bStartMuted: !0,
              }),
          )
        );
      }
      function B(e, t, r) {
        e.play().catch((n) => {
          const s = "NotAllowedError" === n.name;
          r(s),
            "NotAllowedError" === n.name
              ? (w.Debug(`Failed to play ${t}, trying again muted`),
                (e.muted = !0),
                e.play().catch((e) => {
                  w.Warning(`Failed to play ${t}: `, e);
                }))
              : w.Warning(`Failed to play ${t}: `, n);
        });
      }
      function T(e, t) {
        return (0, i.A)({
          [m().AppVideo]: !0,
          [m().PlayFullTrailer]: 2 == t,
          [m().PlayMicrotrailer]: 1 == t,
          [m().NoTrailer]: 0 == t,
          [m().Microtrailer]: e,
          [m().Trailer]: !e,
        });
      }
      function A(e) {
        const {
            storeItem: t,
            bAutoplayVideos: r,
            fnSetAutoPlayVideos: s,
            autoplayCheckboxPosition: a,
          } = e,
          i = { [a || "top"]: 0 };
        return n.createElement(
          "div",
          {
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation();
            },
            className: m().AutoplayCheckboxCtn,
          },
          n.createElement(g.Yh, {
            controlled: !0,
            checked: r,
            key: t.GetAppID(),
            className: m().AutoplayCheckbox,
            style: i,
            label: (0, o.we)("#StoreTrailer_AutoPlayVideos"),
            onChange: s,
          }),
        );
      }
      function k(e, t) {
        n.useEffect(() => {
          const r = e.current;
          if (!r) return;
          const n = () => t(!0),
            s = () => t(!1);
          return (
            r.addEventListener("play", n),
            r.addEventListener("pause", s),
            () => {
              r.removeEventListener("play", n),
                r.removeEventListener("pause", s);
            }
          );
        }, [t, e]);
      }
      var P = r(30894),
        R = r(55263),
        N = r(44986),
        O = r(20713),
        G = r(60014);
      const V = {
        include_assets: !0,
        include_trailers: !0,
        include_basic_info: !0,
        include_tag_count: 20,
        include_release: !0,
        include_platforms: !0,
        include_screenshots: !0,
        include_reviews: !0,
      };
      function L(e) {
        const {
            appID: t,
            focused: r,
            skipMicroTrailer: s,
            playWithBroadcastPlayer: c,
            autoPlayCookieName: d,
            showAOAutoPlayWarning: m,
            showScreenshotInsteadOfMainCap: p,
            fadeRatio: h,
            fnPlayPause: g,
            refTogglePlayPause: _,
            bRequestPause: S,
            fnComplete: v,
            loopVideo: b,
            defaultVolume: y,
          } = e,
          [f] = (0, R.t7)(t, V),
          { bIsIgnored: C } = F(t),
          { bIsWishlisted: w } = U(t),
          [E, I] = (0, u.FD)();
        return n.createElement(
          l.Z,
          { className: (0, i.A)(a().AppVideoCtn, "AppVideoCtn") },
          n.createElement(
            "div",
            { className: (0, i.A)(a().WishlistBadge, w && a().Active) },
            (0, o.we)("#Sale_OnWishlist"),
          ),
          E &&
            n.createElement(u.Ff, {
              eDisplay: I,
              className: a().DeckVerifiedLogo,
              storeItem: f,
            }),
          n.createElement(
            "div",
            { className: a().VideoArea },
            n.createElement(x, { appID: t }),
            n.createElement(D, {
              key: t,
              storeItem: f,
              bCurrentlyActive: r && !C,
              autoplayCheckboxPosition: "top",
              autoPlayCookieName: d,
              bShowAOAutoPlayWarning: m,
              bSkipMicroTrailer: s,
              bPlayWithBroadcastPlayer: c,
              nFadeRatio: h,
              showScreenshotInsteadOfMainCap: p,
              fnPlayPause: g,
              refTogglePlayPause: _,
              bRequestPause: S,
              fnComplete: v,
              bLoopVideo: b,
              nDefaultVolume: y,
            }),
          ),
        );
      }
      function F(e) {
        const t = (0, c.q3)(() => P.Fm.Get().BIsGameIgnored(e)),
          r = (0, G.ru)(),
          s = n.useCallback(() => {
            P.Fm.Get().UpdateAppIgnore(e, !t, r);
          }, [e, r, t]);
        return { bIsIgnored: t, fnUpdateIgnored: s };
      }
      function x(e) {
        const { appID: t } = e,
          r = (0, S.Qn)(),
          { bIsIgnored: s, fnUpdateIgnored: c } = F(t);
        return n.createElement(
          "div",
          { className: (0, i.A)(a().IgnoredCtn, s && a().Active) },
          n.createElement(
            "div",
            { className: (0, i.A)(a().IgnoredInfo, s && a().Active) },
            n.createElement(
              "div",
              { className: a().IgnoredTitle },
              (0, o.we)("#SaleTrailerCarousel_Ignored"),
            ),
            n.createElement(
              "div",
              { className: a().IgnoredDescription },
              (0, o.we)("#SaleTrailerCarousel_IgnoredConfirmation"),
            ),
            n.createElement(
              l.Z,
              {
                className: (0, i.A)(a().UndoButton, a().UndoIgnoreButton),
                onClick: c,
              },
              r &&
                n.createElement(N.$m, {
                  button: O.g4.X,
                  type: N.wt.Light,
                  size: N.xY.Medium,
                }),
              (0, o.we)("#SaleTrailerCarousel_Undo"),
            ),
          ),
        );
      }
      function U(e) {
        const t = (0, c.q3)(() => P.Fm.Get().BIsGameWishlisted(e)),
          r = (0, G.ru)(),
          s = n.useCallback(() => {
            P.Fm.Get().UpdateGameWishlist(e, !t, r);
          }, [e, t, r]);
        return { bIsWishlisted: t, fnUpdateWishlist: s };
      }
      function H(e) {
        const t = P.Fm.Get().GetRecommendedTags(),
          r = n.useMemo(() => new Map(t.map((e, t) => [e, t])), [t]),
          s = n.useMemo(() => new Map(e.map((e, t) => [e, t])), [e]);
        return n.useMemo(
          () =>
            e
              .slice()
              .sort((e, t) =>
                r.has(e) && !r.has(t)
                  ? -1
                  : !r.has(e) && r.has(t)
                    ? 1
                    : r.has(e)
                      ? r.get(e) - r.get(t)
                      : s.get(e) - s.get(t),
              ),
          [s, r, e],
        );
      }
    },
    46253: (e, t, r) => {
      "use strict";
      r.d(t, { h: () => c });
      var n = r(90626),
        s = r(52038),
        a = r(61859),
        i = r(828),
        o = r.n(i),
        l = r(33917);
      function c(e) {
        const {
            name: t,
            trailerCategory: r,
            trailerDisplay: i,
            mouseOver: c,
          } = e,
          [u, d] = n.useState(!1);
        if (
          (n.useEffect(() => {
            0 != i && d(!0);
          }, [i]),
          n.useEffect(() => {
            if (c) return void d(!0);
            if (!u) return;
            const e = setTimeout(() => d(!1), 3e3);
            return () => clearTimeout(e);
          }, [u, c]),
          null == r || 0 == i)
        )
          return;
        const m =
          1 == i
            ? (0, a.we)("#StoreTrailer_Title_TrailerPreview")
            : (0, l.e)(r);
        return n.createElement(
          "div",
          { className: (0, s.A)({ [o().TrailerTitle]: !0, [o().Visible]: u }) },
          (0, a.PP)(
            "#StoreTrailer_Title_Combiner",
            n.createElement("span", { className: o().Category }, m),
            t,
          ),
        );
      }
    },
    33917: (e, t, r) => {
      "use strict";
      r.d(t, { e: () => s });
      var n = r(61859);
      function s(e) {
        switch (e) {
          case 1:
            return (0, n.we)("#StoreTrailer_Title_Category_Gameplay");
          case 2:
            return (0, n.we)("#StoreTrailer_Title_Category_Teaser");
          case 3:
            return (0, n.we)("#StoreTrailer_Title_Category_Cinematic");
          case 4:
            return (0, n.we)("#StoreTrailer_Title_Category_Update");
          case 5:
            return (0, n.we)("#StoreTrailer_Title_Category_Accolades");
          case 6:
            return (0, n.we)("#StoreTrailer_Title_Category_Interview");
        }
        return (0, n.we)("#StoreTrailer_Title_Category_Unknown");
      }
    },
  },
]);
