/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [774],
  {
    34633: (e) => {
      e.exports = { CartCard: "tVR7nCVynuzImpvF9viMI" };
    },
    86711: (e) => {
      e.exports = {
        CartCard: "_1MfAwU630QwDv6FuV9c_Dr",
        LineItemsCtn: "_3ypRUtQoOfOrCsyHlzfGm4",
        StoreSalePriceBox: "_5m_q0MLlnLkt_KBd7iMbO",
        StoreSaleDiscountedPriceCtn: "_1ZzX6NkuELfMhPL0SJCQSK",
        LineItemWrapper: "XjPmFc2t_i1DAuEXEbIX",
        LineItemCapsule: "_2Xz_WXO8PfREP4c9ZWAuNg",
        HeaderImg: "_37_1K2XQrVBwncWFXTcpMP",
        LineItemPlaceholder: "_1_mV-2sC0r25eLrKyufPRK",
        AddRemoveLinks: "_2Agry3evdkG3gKPyhNf7Hz",
        RemoveLineItem: "_3YCgcpoCojlbS6DvkNsG2J",
        AddLineItem: "_2qvlyUCwtTBUslo1Z7-RlG",
        LineItemRightCol: "ysGS-IPPWEkwN-O5rr-0V",
        InnerLineItemCtn: "_3F0SnUeC_obtI4WyQtijAa",
        LineItemDetailsCtn: "_3GKl4T2MbvnGPvRzyXC5nQ",
        LineItemCol: "HhD4RK0A4phOlAwZQDckk",
        LineItemDetailsRow: "_1wLomHB2PWPNx7TsNYpdtm",
        LineItemDetailsRowTop: "_1aXXp4afkXP3Ez03MjTY3D",
        LineItemSpaceBetween: "_3L6hUlrzXOezye2BqWz-T7",
        LineItemTitle: "EflKs0JjldhDSxbUBaiOp",
        LineItemPricingOptions: "_2BTcfC4-tZENmEAXbVzKA7",
        LineItemDropDown: "QL-7d2s_ZGbceWxP5eoY4",
        PlatformIcons: "_2FgjpNRRiZkDXAB53vFFOh",
        AddLineItemCtn: "_3-GZz-m5p_fxd2pqPGK6u9",
        AddLineItemIcon: "_4Uz7u01J6OO_P0hhfb0Kc",
        PendingLineItem: "_3w61e3curroiu7lCOKvLN8",
        FlexRow: "_2Y0WvaYzp-79xegxjV_kQI",
        PriceWidget: "_3_q-F_MXXBH_JQPJvWznnc",
        Warning: "_1_vNtL4JTtFLtSgY25zz_5",
        LineItemNoticeAppsCtn: "_2bBPt2vaBRl7xTiWEkA-PR",
        LoadingThrobber: "_9ECtylscKVGNrQpLPlds0",
        DropDownThin: "_2GLDG_XIMaVS7hU2xEFzBo",
        DropDownOptionsCtnThin: "_1Vsr8vtFZd-ID4w4nvUjbe",
        DropDownOptionItem: "_3RfIktrc1KzaKTWmWS3JLC",
        WhiteText: "_1CYn6Bwc5kuZ25-Gyb9btE",
        ErrorLineItem: "_2Qnb-DOaU8BbFWOUBG3hs1",
        Left: "Twv2unKjIVTB3vmgieygi",
        Error: "_2LPurUnl-MyMX6q6B0uNX",
        Muted: "_3efIWtJm5nAuQLmq9N3nJd",
        GiftForNotice: "tKoWmz4HQdpU6S-Fq6IEh",
        Name: "_2BZrRaucjIMeqixZMVlakn",
        RemoveButton: "_1j8t9ZjX3tyKrSBnkY6IeG",
      };
    },
    12916: (e) => {
      e.exports = {
        EventTimeSection: "_3HyTVTASSmLacvaM964sgu",
        EventTimeTitle: "_2lG5hFYhu9PGPn6RoFeQOL",
        EventVisibilityItem: "_1she-lvNiCP3ASjTnl4q7x",
        EventEditorInputPaneContainer: "_1fCy4cz5Hyj9wDivcVseuc",
        TimeWidth: "_3JGsBe8Ou5QGqfihv0OPed",
        EventPublishTimeCtn: "_2QIVvn2p9gUwsAlifi-nkM",
        DateWidth: "_2P2kw0vHZogg7Ny7cAjQBo",
        PacificTimeHint: "_18FxDrpsfO5Tt8EFui49hV",
        TimeZone: "-x3Rw6W2fJfWRMs7vKr1I",
        InputBorder: "_1_H1sN2GVTzxSaz55gv03s",
        TimeBlock: "_2xLBsAMYVDoygyWbl2YIzI",
        TimeRowContainer: "BWmgg29ZeDbO6oj7Z1U7T",
        TimeRowDropDown: "_3ECiyuGLUqPzuS1hKCdfDm",
        EndDateAmountCtn: "_1BIlZEGSO_4tw5Lmc1Kkbf",
        EndRound: "jwuNowbLB28M6nkqFkF_C",
        VisibilityItemList: "_3B0QM3cOEqER2AD2Y85NFy",
        VisibilityItems: "_1WleIEEiF-9nJ57tLWkRmS",
        EventEditorVisibilityCtn: "_4gWwydbAbp2t1NCeW9LLV",
        DateErrorCtn: "_1Ao_g72kBAdoOo0lGUG7Mr",
      };
    },
    98972: (e) => {
      e.exports = {
        CartCard: "_3s8SimT1ZQwPeXXdDFPQLK",
        TradingCardContainer: "_2haWAmlu7TDqdL95bf4G8g",
        EarnedMessage: "_2p5xYmfnLWerjNkmBDfZXp",
        Right: "_18eO4-XadW5jmTpgdATkSz",
        ProgressSection: "_2M_5i3fmNkCv4pCoMmk1Os",
        Progress: "lf5WnbH_ohSVbUnvd3Nf2",
        ProgressRail: "_3TjWhPYAqbU3Hrzm6Iq6il",
        IneligbleList: "_1r6njhPeny9XyTQKt2-__7",
      };
    },
    50169: (e) => {
      e.exports = {
        CartCard: "qp08vFwlN2mRCsja6T_-g",
        CartUpsellArea: "_2rkDlHZ2yi-tFtDk4-CC4U",
        CartUpsellTitle: "_2dxsG5kVzdAeX8R0mGOiV8",
        UpsellRow: "_24yiwSg4qoT0NRBSlWoUXw",
        Specials: "_2-sCaPlOkBP6wsNVrDNHvZ",
        Loading: "pUmkjugwizSD0CopYMP1P",
        DailyDeals: "rpifv8i-Dj8KDO5qKGvWG",
        Spotlights: "udcFpqnwSDcMv_byU2oQc",
      };
    },
    50829: (e) => {
      e.exports = {
        CouponPickerRowGlow: "_2ETXQ6ojtTNSbACqQ2o0Yv",
        CouponPickerRow: "_3wfeHGptWCHP2ctMNwtAr8",
        ModifyLink: "_3JmdOP-Eoam3irQDjytJ9V",
        CouponRepresentation: "_1_LYYN59DADLVYtqwZYjSm",
        PackageName: "_3L1DF5dTgbrn6BlQIgv8c-",
        CouponListContainer: "ir0tpMmQQazulD77PH8DZ",
        CouponListItem: "_3pw4q_MAfhjbHBkGJVrYyz",
        Disabled: "_1GFD8zuMK_JuYQUQhOo4zz",
        Image: "_2gY_V_NV2khWDAjW5A9Nmd",
        Info: "_1Je1cc8-t1TZpSr6VwGwbN",
        Discount: "_3KPbt6pUHnz1M3cEORSHvV",
        CouponInfoText: "FicMnlG4nr7BEujcPpbGp",
        Checkbox: "_265qJZDbyz2JxqvT15KpRr",
        Hidden: "_21w270Ne6__P31083H0FFV",
      };
    },
    83934: (e) => {
      e.exports = {
        GiftFormDivider: "_1mAU7zkVivAPGFPI3maedz",
        GiftFormSection: "_1tguxhk732P4gi865oLjSE",
        FormTextLabel: "_1TulC_KnETCU3Ks4Y1hQ70",
        FormTitle: "NYKHMrCLjXgs0HgP8G8ei",
        RedText: "_1Ja8Ra-vrBec1_MVpbvrL",
        GiftNoteInput: "_3wPcWGmcqJzbUXHRTPYsXa",
        GiftRecipientPickerModal: "_3R_gixvbcQCJxxRTmCvpJw",
        GiftFriendsListCtn: "_321Woxp4ONn3k90_NLayE0",
        GiftRecipientPickerFormCtn: "_2SDa5ofHp4X7qHQE540cIS",
        GiftFriendsInput: "_1OuNJQWR-7lSdtgyJf69uF",
        GiftRecipientSaveBtn: "_18bhpboMEhi47IMCRQt-2s",
        GiftPickerFriendBlock: "_3qPIR-iXdtj8oUzr8cH1Ey",
        FriendAvatar: "_1AeyMd0eAcDoRyiR0KkOwC",
        Focused: "_11n414df5ioq8YLpNJuHpM",
        Disabled: "_3jwhGaqW0tVwkzg9eXjJWZ",
        Selected: "_1Wx7OLK94f5EXTrnc8MqUs",
        PersonaName: "_1ki9msaNQoGECm27Yz5YGX",
        FriendsGiftLabel: "_3FPeG6FVHnapQP5UKhrMvC",
        OwnsGame: "YK5pj3LG0Q81ZMKdO9Mcc",
        OnWishlist: "_28yZdTwE0gz4jOV6olyg7F",
        GiftFormRecipient: "_2bnjZDtqxcOZI3eITR0MuL",
        ChangeGiftRecipientBtn: "_2nYV3mGmdDtVEkoMoIWCLo",
        LinkButton: "_12zYFuKO2U-1QfeVxlGfwF",
        GiftDatePicker: "VZsqgN_QGXQcRsD6OgscT",
        ScheduleGiftBtn: "_3gADDjjeuuq4YHM8O1IeiQ",
        GiftScheduleIcon: "_742UkQg_TM_Sdf4w5Ye2a",
        GiftRadioLabel: "_3IlfjNwkM2GwzkZyD0llva",
        GiftRadioRow: "RMDo0KSLaIgeffA12m9Ln",
        GiftSignatureInput: "_3tP7DCVH8b-Vyu5ig2fTAk",
        ScheduleError: "_3y4BqvBTwDLWUl1TCNqWp9",
        LoadingError: "_35a12Zg31sBh2Lj4ClSTRz",
        GamepadTimePickerRow: "_2EZzsNeqqWMVcuzawVZc56",
        TimezoneDisplay: "_1zgxnwJ3wM_SzElTI5DOyw",
        FamilyGiftNotice: "_1B5Eew-T7ehFeKRYrle_-l",
      };
    },
    11543: (e) => {
      e.exports = {
        CartCard: "_2w0ZEap3hR1c0K0_DxJDdN",
        ShoppingCartPage: "_22xtsolKcQit92o-LBeRWD",
        CartCheckboxNoMargin: "_1S9a0tZYJv0d4x3-DrxbuS",
        ShoppingCartHeader: "bCGAC51za6R_thjPd7_vw",
        ShoppingCartCtn: "_1jqUY_WcPgZnIOE-d9x7wc",
        ShoppingCartLeftCol: "_17GFdSD2pc0BquZk5cejg8",
        ShoppingCartRightCol: "_3HIve50RR17shqpJqmrUps",
        SmallCart: "_31YlKoxrUknOG_d7armP5n",
        LoadingThrobber: "eDdFpOTz0O9U7xBshZJUx",
        CartRightColStickyCtn: "_1bCdGv5zX6cYDovFfcBfdg",
        CartSummaryCtn: "_2bIzQo07mxubFvscA8RIA8",
        EstimatedTotalFlex: "_2DjadWLFH3keW9rGWZKxSk",
        SummaryMarginBottom: "qV80oahDZsbXiS6lIDLND",
        LicenseContextCtn: "jY9l4aHTdQLHeTWfPonTr",
        LicenseTitle: "p8XFGmprI4snkQjm11Pf2",
        LicenseLink: "_2Wg3oyIvxKKM_o6q7rXdc5",
        ResponsiveShoppingCartSummary: "dpVdC9qAMjdzrN7VWFria",
        RequestPurchaseCtn: "_2jup-7OkSAzTBG-K9r9OCX",
        CartNoteText: "_31DQWsrdb_9oV-vMOaaPqI",
        CartLabelText: "_3ayrhzEm-T_IRhWeQ4HFxr",
        CartValueText: "_2WLaY5TxjBGVyuWe_6KS3N",
        ShoppingCartBreadcrumbs: "_2FKdJT3nRLNX_ue4Zj-qdK",
        CurrentBreadcrumb: "_3TtUDn-J9j6rkwHqjT-i4Y",
        ShoppingCartModal: "_28yxHQw3ZhIBbVa9EZ27Vo",
        ShoppingCartModalBtns: "_1qRagOpQN0EH1x4-13UjR5",
        FooterNotice: "LXZhw7nTAlKyny-hrKcX9",
        NoticeIndex: "_3GJopp-lG4ZnUYB5mqk2q0",
        CartFooter: "_1Sdz1qnoKoD9eEPpC340Yj",
        Button: "_1rk1xUIAHMcMMDm4jz3MOM",
        BetaNotice: "_1DTyDw3G0f4gmhjAvr_MGb",
        Text: "I4Bz94kh1lGOH1KrPzxzk",
        BackgroundImage: "FaiD8bJRAZ-HoNo0VvLOO",
        HeaderNotices: "_3SXN1YgsAs-4iju4Oo7cx5",
        HeaderNotice: "_2zWY-ti_XANR3ab5tC4YrI",
        ErrorModalContent: "_1Fli53rt96SoYErpk1TqAg",
        ErrorModalMessage: "vNpgPsE5lRrVJ55wTdc1i",
        ErrorModalBottom: "_5g0iBBKqtjiGHu5VHzz1h",
        ErrorModalCode: "_34Q7Jyhi9BetqDtEOzt-26",
      };
    },
    71460: (e) => {
      e.exports = { UserCountrySelector: "_1G8JdfmCwhonn-pZk-tfwP" };
    },
    90485: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => _, t: () => p });
      var r = n(56545),
        a = n(3411),
        i = n(71430),
        s = n(23809),
        o = n(75233),
        l = n(51614),
        c = n(79443),
        m = n(12229),
        u = n(42701),
        d = n(93676);
      function p(e) {
        const t = (0, s.KV)(),
          n = (0, o.jE)(),
          p = (0, u.j4)();
        return (0, l.n)({
          mutationFn: async () =>
            await (async function (e, t, n) {
              if ((0, c.c2)(t)) {
                const t = r.w.Init(a.tj);
                t.Body().set_line_item_id(n);
                const i = await a.t8.RemoveItemFromCart(e, t);
                return (0, m.WZ)(), i.Body().toObject();
              }
              {
                const a = r.w.Init(i.VJ);
                a.Body().set_gidlineitems([n]),
                  a.Body().set_gidshoppingcart(t.gid);
                const s = await i.Q2.RemoveLineItems(e, a);
                return (0, m.WZ)(), s.Body().toObject();
              }
            })(t, p, e),
          onSuccess: (e) => {
            "cart" in e ? (0, d.LN)(n, p, e.cart) : (0, d.Cd)(n, p);
          },
        });
      }
      function _() {
        const e = (0, s.KV)(),
          t = (0, o.jE)(),
          n = (0, u.j4)();
        return (0, l.n)({
          mutationFn: async () =>
            await (async function (e, t) {
              if ((0, c.c2)(t)) {
                const t = r.w.Init(a.HK);
                return (await a.t8.DeleteCart(e, t)).BSuccess();
              }
              {
                const n = await (0, m.d0)(e, t);
                if (n && n.line_items && n.line_items.length) {
                  const a = r.w.Init(i.VJ);
                  return (
                    a
                      .Body()
                      .set_gidlineitems(
                        n.line_items.map(({ line_item_id: e }) => e),
                      ),
                    a.Body().set_gidshoppingcart(t.gid),
                    (await i.Q2.RemoveLineItems(e, a)).BSuccess()
                  );
                }
                return !1;
              }
            })(e, n),
          onSuccess: () => (0, d.Cd)(t, n),
        });
      }
    },
    70343: (e, t, n) => {
      "use strict";
      n.d(t, {
        Rz: () => u,
        UD: () => p,
        UW: () => m,
        dR: () => g,
        dp: () => _,
        vF: () => d,
      });
      var r = n(64238),
        a = n.n(r),
        i = n(90626),
        s = n(76217),
        o = n(86711),
        l = n.n(o),
        c = n(22797);
      function m(e) {
        const { flex: t, children: n, className: r } = e;
        return i.createElement(
          s.Z,
          {
            "flow-children": "row",
            className: a()(l().LineItemDetailsRow, t && l().FlexRow, r),
          },
          n,
        );
      }
      function u(e) {
        const { placeholder: t, className: n, children: r } = e;
        return i.createElement(
          s.Z,
          {
            className: a()(
              l().LineItemWrapper,
              t && l().LineItemPlaceholder,
              n,
            ),
          },
          r,
        );
      }
      function d() {
        return i.createElement(
          u,
          { placeholder: !0 },
          i.createElement(p, null),
        );
      }
      function p() {
        return i.createElement(
          "div",
          { className: l().LoadingThrobber },
          i.createElement(c.t, {
            size: "medium",
            position: "center",
            msDelayAppear: 250,
          }),
        );
      }
      function _(e) {
        const { children: t } = e;
        return i.createElement(
          m,
          { flex: !0 },
          i.createElement("div", { className: l().Warning }, t),
        );
      }
      function g(e) {
        if (e.coupon_applied) return e.coupon_applied.discount_pct;
        const t = parseInt(e.original_price.amount_in_cents),
          n = parseInt(e.subtotal.amount_in_cents);
        return Math.min(99, Math.floor(((t - n) / t) * 100 + 0.5));
      }
    },
    12447: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => l });
      var r = n(8871),
        a = n(90626),
        i = n(78327),
        s = n(85585),
        o = n(7445);
      function l(e) {
        const { children: t, navTreeRef: n, NavigationManager: l, ...c } = e,
          m = a.useRef(),
          u = (0, r.Ue)(m, n);
        if ((0, i.Qn)()) {
          const e = window.__nav_tree_root;
          return a.createElement(
            s.B,
            { ...c, navTreeRef: u, secondary: !0, parentEmbeddedNavTree: e },
            a.createElement(o.q, null, t),
          );
        }
        return a.createElement(a.Fragment, null, t);
      }
    },
    84746: (e, t, n) => {
      "use strict";
      n.d(t, { N: () => c });
      var r = n(90626),
        a = n(92757),
        i = (n(73745), n(39575)),
        s = n(76217),
        o = n(79613);
      const l = "FocusNavHistoryID";
      function c(e) {
        const { children: t, timeoutMS: n, ...c } = e,
          m = (function (e = 2) {
            const t = (0, a.W6)(),
              n = r.useRef(),
              s = (0, a.zy)(),
              c = (0, o.ho)(),
              m = s.state && s.state[l],
              u = r.useRef();
            return (
              r.useLayoutEffect(() => {
                if (!n.current) return;
                const e = n.current;
                return e
                  .Node()
                  .Tree.WindowContext.FocusChangedCallbacks.Register(
                    (n, r, a) => {
                      const s = t.location;
                      let o = s.state && s.state[l];
                      o ||
                        ((o = c
                          ? `State_${s.key}`
                          : `State_${e.Node().Tree.id}`),
                        (u.current = o),
                        t.replace({
                          ...t.location,
                          state: { ...s.state, [l]: o },
                        })),
                        u.current == o &&
                          (c
                            ? e.SaveState(o)
                            : window.history.replaceState(
                                {
                                  ...window.history.state,
                                  [o]: (0, i.Ze)(e.Node()),
                                },
                                null,
                              ));
                    },
                  ).Unregister;
              }, [t, c]),
              r.useLayoutEffect(() => {
                if (n.current && u.current != m) {
                  const t = n.current.NavTree().DeferredFocus;
                  t.SuppressFocus();
                  const r = c ? null : window.history.state?.[m],
                    a = window.setTimeout(() => {
                      let e = !1;
                      c
                        ? (e = n.current.RestoreState(m, 1))
                        : r && ((0, i.LU)(n.current.Node(), r, 0), (e = !0)),
                        e ? t.Reset() : t.ExecuteQueuedFocus(),
                        (u.current = m);
                    }, e);
                  return () => {
                    window.clearTimeout(a), t.ExecuteQueuedFocus();
                  };
                }
              }, [m, t, c, e]),
              n
            );
          })(n);
        return r.createElement(s.Z, { ...c, navRef: m }, t);
      }
    },
    3088: (e, t, n) => {
      "use strict";
      n.d(t, { c: () => s });
      var r = n(34629),
        a = n(90626),
        i = n(73745);
      class s extends a.Component {
        m_refImage = a.createRef();
        constructor(e) {
          super(e), (this.state = { nImage: 0 });
        }
        componentDidUpdate(e) {
          JSON.stringify(this.props.rgSources) != JSON.stringify(e.rgSources) &&
            this.setState({ nImage: 0 });
        }
        get src() {
          let e = "";
          return (
            this.props.rgSources &&
              this.props.rgSources.length > this.state.nImage &&
              (e = this.props.rgSources[this.state.nImage]),
            e ||
              (console.warn(
                "MultiSourceImage created with no image src",
                this.props,
                this.state.nImage,
              ),
              (e =
                "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")),
            e
          );
        }
        get imgRef() {
          return this.m_refImage;
        }
        OnImageError(e) {
          this.props.onIncrementalError &&
            this.props.onIncrementalError(
              e,
              this.props.rgSources[this.state.nImage],
              this.state.nImage,
            );
          let t = this.state.nImage + 1;
          t >= this.props.rgSources.length &&
            this.props.onError &&
            this.props.onError(e),
            t < this.props.rgSources.length && this.setState({ nImage: t });
        }
        render() {
          const {
              rgSources: e,
              onIncrementalError: t,
              onError: n,
              ...r
            } = this.props,
            i = this.src;
          return a.createElement("img", {
            ref: this.m_refImage,
            ...r,
            src: i,
            onError: this.OnImageError,
          });
        }
      }
      (0, r.Cg)([i.oI], s.prototype, "OnImageError", null);
    },
    43595: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => c });
      var r = n(90626),
        a = n(94607),
        i = n(55963),
        s = n(62093),
        o = n(60014),
        l = n(3578);
      function c(e) {
        const {
            item: t,
            feature: n,
            depth: c,
            children: m,
            noImpressionTracking: u,
            ...d
          } = e,
          p = r.useRef(0),
          _ = 0 == t.GetStoreItemType() ? t.GetAppID() : null,
          g = (0, o.n9)(),
          f = r.useMemo(
            () => i.Ay.GetLinkParam({ ...g, feature: n || g.feature }, c),
            [g, n, c],
          ),
          h = r.useMemo(
            () => l.A.AddNavParamToURL(t.GetStorePageURL(), f),
            [t, f],
          ),
          E = (0, s.b)(),
          C = r.useCallback(() => {
            _ && p.current != _ && (E.AddImpression(_, f), (p.current = _));
          }, [E, _, f, p]),
          I = r.createElement("a", { ...d, href: h }, m);
        return _ && !u ? r.createElement(a.Y, { onEnter: C }, I) : I;
      }
    },
    43830: (e, t, n) => {
      "use strict";
      n.d(t, {
        Vh: () => v,
        lP: () => T,
        xz: () => N,
        ZB: () => S,
        S0: () => F,
        uQ: () => D,
        EJ: () => b,
        sI: () => M,
        jY: () => G,
        Ck: () => B,
        zJ: () => R,
        UI: () => y.UI,
        F$: () => O,
        CM: () => L,
        g7: () => A,
      });
      var r = n(79443),
        a = n(56545),
        i = n(94076),
        s = n(76170),
        o = n(23809),
        l = n(97310),
        c = n(58214),
        m = n(20194),
        u = n(30470),
        d = n(42701),
        p = n(93676);
      function _(e, t) {
        const n = (0, o.KV)(),
          _ = (0, d.j4)(),
          { storeBrowseContext: g, cacheStoreItemData: f } = (0, l.yn)();
        return (0, m.I)({
          queryKey: (0, p.m4)(_, e),
          queryFn: async () =>
            (async function (e, t, n, o, l, m) {
              const u = a.w.Init(i.vL);
              (0, r.kx)(t) || (0, r.uU)(t)
                ? (u.Body().set_gidshoppingcart(t.gid),
                  o && u.Body().set_gift_info(s.$z.fromObject(o)))
                : (0, r.sb)(t) && u.Body().set_gidreplayoftransid(t.gid);
              (0, c.rV)(n, u), l && (0, c.Bn)(u, l);
              const d = await i._o.ValidateCart(e, u);
              d.BSuccess() ||
                console.warn(
                  `Failed to validate shopping cart: ${d.GetEResult()}`,
                );
              if (l && m)
                for (const e of d.Body().cart_items()) m(e.store_item(), l);
              return d.Body().toObject();
            })(n, _, g, e, t, f),
          staleTime: 1 / 0,
          enabled: u.iA.logged_in || !(0, r.c2)(_),
        });
      }
      var g = n(22837),
        f = n(3411),
        h = (n(71430), n(75233)),
        E = n(51614),
        C = n(10247),
        I = n(14860),
        w = n(24484),
        y = n(12229);
      function v() {
        return (0, w.Fd)("cart_config", "application_config");
      }
      function S() {
        const e = (0, d.j4)();
        return !(0, r.uU)(e) && !(0, r.sb)(e);
      }
      function b() {
        const e = (0, d.j4)();
        return (0, r.sb)(e);
      }
      function L(e) {
        const t = (0, d.j4)(),
          n = (0, o.KV)(),
          r = (0, h.jE)(),
          i = (0, p.GO)(t);
        return (0, E.n)({
          mutationFn: (e) =>
            (async function (e, t, n, r, i) {
              const o = a.w.Init(f.Bk);
              o.Body().set_line_item_id(t),
                o.Body().set_user_country(u.iA.country_code),
                r && o.Body().set_gift_info(s.$z.fromObject(r)),
                n && o.Body().set_flags(f.Eo.fromObject(n)),
                i && o.Body().set_apply_gidcoupon(i);
              const l = await f.t8.ModifyLineItem(e, o);
              return (
                l.BSuccess() ||
                  console.warn(`Failed to update gift info: ${l.GetEResult()}`),
                [l.GetEResult(), l.Body().toObject()]
              );
            })(n, e.lineItemID, e.lineItemFlags, e.giftInfo, e.gidCoupon),
          onMutate: async (e) => {
            await r.cancelQueries({ queryKey: i });
            const t = r.getQueryData(i);
            return (
              r.setQueryData(i, (t) => ({
                ...t,
                line_items: t.line_items.map((t) =>
                  t.line_item_id !== e.lineItemID
                    ? t
                    : {
                        ...t,
                        flags: e.lineItemFlags || t.flags,
                        gift_info: e.giftInfo || t.gift_info,
                      },
                ),
              })),
              { previousCart: t }
            );
          },
          onSuccess: ([n, a], s, { previousCart: o }) => {
            1 == n ? ((0, p.LN)(r, t, a.cart), e && e()) : r.setQueryData(i, o);
          },
          onError: (e, t, { previousCart: n }) => {
            r.setQueryData(i, n);
          },
        });
      }
      const T = {
          include_basic_info: !0,
          include_assets: !0,
          include_platforms: !0,
          include_release: !0,
        },
        N = { ...T, include_included_items: !0, included_item_data_request: T };
      function A() {
        const [e] = (0, C.fg)();
        return _(e, N);
      }
      function D(e) {
        return (
          e?.cart_items.length &&
          e.cart_items.every(
            ({ store_item: e }) =>
              1 == e.item_type &&
              (e.self_purchase_option || e.best_purchase_option)
                ?.requires_shipping,
          )
        );
      }
      function B() {
        const e = (0, o.KV)();
        return (0, m.I)({
          queryKey: ["shopping_cart", "relevant_coupons"],
          queryFn: async () => {
            const t = await (async function (e) {
              const t = a.w.Init(f.wi);
              t.Body().set_language((0, g.sf)(u.TS.LANGUAGE));
              const n = await f.t8.GetRelevantCoupons(e, t);
              return n.BIsValid()
                ? n.Body().toObject()
                : (console.error("Failed to load relevant coupons"), {});
            })(e);
            return t.line_items.reduce(
              (e, t) => ((e[t.line_item_id] = t.coupons), e),
              {},
            );
          },
          enabled: u.iA.logged_in,
          placeholderData: () => ({}),
        });
      }
      function R() {
        return (0, m.I)({
          queryKey: ["shopping_cart", "sale_drop_progress"],
          queryFn: async () => {
            const e = await fetch(
                `${u.TS.STORE_BASE_URL}cart/ajaxsaledropprogress`,
              ),
              t = await e.json();
            return (
              1 !== t.eresult &&
                console.error("Failed to load sale drop progress"),
              t
            );
          },
          enabled: u.iA.logged_in,
        });
      }
      function G() {
        const e = (0, d.j4)(),
          [t] = (0, C.fg)(),
          n = `${u.TS.STORE_CHECKOUT_BASE_URL}checkout/`;
        if ((0, r.c2)(e)) return `${n}?accountcart=1`;
        if ((0, r.sb)(e)) return `${n}?gidreplay=${e.gid}`;
        {
          const r = new URLSearchParams();
          return (
            r.append("cart", e.gid),
            t &&
              t.accountid_giftee &&
              (r.append("purchasetype", "gift"),
              r.append("bIsGift", "1"),
              r.append("giftInfo", encodeURIComponent(JSON.stringify(t)))),
            `${n}?${r.toString()}`
          );
        }
      }
      function M() {
        const e = (0, d.j4)();
        return (0, r.uU)(e) ? e.requestID : null;
      }
      function F() {
        const e = (0, d.j4)(),
          t = (0, I.vo)(),
          n = A(),
          a = t.isSuccess && 2 == t.data.role(),
          i = n.data?.cart_items.some(
            (e) => e.item_id.packageid && !e.can_purchase_as_gift,
          );
        return (
          !(
            !a ||
            !(function (e) {
              return (0, r.c2)(e) || (0, r.kx)(e);
            })(e)
          ) && !i
        );
      }
      function O() {
        const e = (0, d.j4)(),
          t = (0, I.vo)();
        return t.isSuccess && 1 == t.data.role() && (0, r.uU)(e);
      }
    },
    7151: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => O });
      var r = n(90485),
        a = n(23809),
        i = n(75233),
        s = n(51614),
        o = n(79443),
        l = n(12229),
        c = n(42701),
        m = n(93676),
        u = n(97310),
        d = n(60014);
      var p = n(86711),
        _ = n.n(p),
        g = n(70343),
        f = n(43830),
        h = n(98362),
        E = n(90626),
        C = n(28567),
        I = n(76217),
        w = n(14336),
        y = n(16021),
        v = n(62792),
        S = n(55263),
        b = n(33737),
        L = n(84811),
        T = n(26101),
        N = n(10962),
        A = n(72237),
        D = n(70809),
        B = n(43595),
        R = n(52038),
        G = n(61859),
        M = n(30470),
        F = n(10247);
      function O(e) {
        const {
          lineItems: t = [],
          cartValidation: n,
          LineItemContainer: r = j,
        } = e;
        if (!t.length) return E.createElement(z, null);
        const a = n?.cart_items
          ? n.cart_items.reduce((e, t) => ((e[t.line_item_id] = t), e), {})
          : {};
        return E.createElement(
          "div",
          { className: _().LineItemsCtn },
          t &&
            t.map((e, t) =>
              e
                ? E.createElement(k, {
                    key: e.line_item_id,
                    item: e,
                    loading: void 0 === n,
                    validatedItem: a[e.line_item_id],
                    LineItemContainer: r,
                  })
                : E.createElement(g.vF, { key: t }),
            ),
        );
      }
      const P = {
        1: function (e) {
          const { item: t, validatedItem: n } = e,
            [r, a] = (0, S.Gg)(t.packageid, {}),
            [i, s] = (0, S.mZ)(t.packageid, 1, f.lP),
            o = (i && !i.BIsVisible()) || 2 === s || 2 === a,
            l = r?.GetSelfPurchaseOption();
          return o || (r && !l)
            ? E.createElement(U, {
                lineItemID: t.line_item_id,
                validatedItem: n,
                storeItem: i,
              })
            : i && r
              ? E.createElement(W, {
                  ...e,
                  storeItem: r,
                  displayItem: i,
                  lineItem: t,
                  purchaseOption: l,
                })
              : E.createElement(g.vF, null);
        },
        2: function (e) {
          const { item: t, validatedItem: n } = e,
            [r, a] = (0, S.G6)(t.bundleid, 2, f.xz);
          if ((r && !r.BIsVisible()) || 2 === a)
            return E.createElement(U, {
              lineItemID: t.line_item_id,
              validatedItem: n,
              storeItem: r,
            });
          if (!r) return E.createElement(g.vF, null);
          const i = r.GetSelfPurchaseOption();
          return E.createElement(W, {
            ...e,
            storeItem: r,
            displayItem: r,
            lineItem: t,
            validatedItem: n,
            purchaseOption: i,
          });
        },
      };
      function k(e) {
        const { item: t, loading: n, ...r } = e,
          a = n ? g.vF : P[t.type];
        return a
          ? E.createElement(
              L.tH,
              { fallback: (t) => E.createElement(x, { ...e, error: t }) },
              E.createElement(a, { item: t, ...r }),
            )
          : (console.error(`Unknown line item type (${t.type})`), null);
      }
      function x(e) {
        const { item: t, error: n } = e,
          a = (0, r.t)(t.line_item_id);
        return E.createElement(
          g.Rz,
          { className: _().ErrorLineItem },
          E.createElement(
            "div",
            { className: _().Left },
            E.createElement(
              "div",
              { className: _().Error },
              (0, G.we)("#Cart_LineItem_ErrorBoundary"),
            ),
            E.createElement("div", { className: _().Muted }, n.message),
          ),
          E.createElement(
            I.Z,
            { onActivate: () => a.mutate(), className: _().RemoveButton },
            (0, G.we)("#Cart_Remove"),
          ),
        );
      }
      function z() {
        return E.createElement(
          g.Rz,
          { className: _().ErrorLineItem },
          E.createElement(
            "div",
            { className: _().Left },
            E.createElement(
              "div",
              { className: _().LineItemTitle },
              (0, G.we)("#Cart_Empty"),
            ),
          ),
        );
      }
      function U(e) {
        const { lineItemID: t, validatedItem: n, storeItem: a } = e,
          i = H(a),
          s = (0, r.t)(t),
          o = s.isPending;
        return E.createElement(
          g.Rz,
          { placeholder: !0 },
          o && E.createElement(g.UD, null),
          E.createElement(
            "div",
            {
              className: (0, R.A)(
                _().InnerLineItemCtn,
                o && _().PendingLineItem,
              ),
            },
            E.createElement(
              "div",
              { className: (0, R.A)(_().LineItemColumn, _().LineItemCapsule) },
              E.createElement(
                B.p,
                { item: a, noImpressionTracking: !0 },
                E.createElement("img", { className: _().HeaderImg, src: i }),
              ),
            ),
            E.createElement(
              "div",
              { className: _().LineItemDetailsCtn },
              E.createElement(
                g.UW,
                { flex: !0, className: _().LineItemDetailsRowTop },
                E.createElement(
                  "div",
                  { className: _().LineItemTitle },
                  a?.GetName() || (0, G.we)("#SteamCharts_UnknownGameTitle"),
                ),
              ),
              E.createElement(Y, { validatedItem: n }),
              E.createElement(
                g.UW,
                { className: _().LineItemSpaceBetween },
                E.createElement(
                  I.Z,
                  {
                    onActivate: () => s.mutate(),
                    className: _().RemoveLineItem,
                  },
                  (0, G.we)("#Cart_Remove"),
                ),
              ),
            ),
          ),
        );
      }
      function W(e) {
        const {
            storeItem: t,
            displayItem: n,
            lineItem: a,
            purchaseOption: i,
            validatedItem: s,
            LineItemContainer: o,
          } = e,
          l = a.line_item_id,
          c = {
            id: t?.GetID(),
            type: (0, v._4)(t?.GetStoreItemType(), t?.GetAppType()),
          },
          m = (0, r.t)(l),
          u = m.isPending || m.isSuccess,
          d = H(n),
          p = t.GetIncludedAppIDsOrSelf(),
          { data: f, isLoading: h } = (0, C.Pt)(),
          I = p.filter((e) => f?.has(e));
        if (h) return E.createElement(g.vF, null);
        const w = a.flags?.is_gift,
          y = I.length === p.length,
          S = !w && I.length > 0 && !y;
        let b = w ? "gift" : "myself";
        return (
          "myself" === b && y && (b = "private"),
          E.createElement(
            o,
            { lineItem: a, storeItem: t, validatedItem: s },
            u && E.createElement(g.UD, null),
            E.createElement(
              "div",
              {
                className: (0, R.A)(
                  _().InnerLineItemCtn,
                  u && _().PendingLineItem,
                ),
              },
              E.createElement(
                "div",
                {
                  className: (0, R.A)(_().LineItemColumn, _().LineItemCapsule),
                },
                E.createElement(
                  B.p,
                  { item: n, feature: "cart-items", noImpressionTracking: !0 },
                  E.createElement("img", { className: _().HeaderImg, src: d }),
                ),
              ),
              E.createElement(
                "div",
                { className: _().LineItemDetailsCtn },
                E.createElement(
                  g.UW,
                  { flex: !0, className: _().LineItemDetailsRowTop },
                  E.createElement(
                    "div",
                    { className: _().LineItemTitle },
                    t.GetName(),
                  ),
                ),
                t.BIsComingSoon() && E.createElement(Q, { storeItem: t }),
                E.createElement(
                  Y,
                  { validatedItem: s },
                  E.createElement(J, { item: t }),
                  E.createElement(X, { item: t }),
                ),
                E.createElement(re, { storeItem: t }),
                S && E.createElement(ae, { appids: I }),
                E.createElement(
                  g.UW,
                  { className: _().LineItemSpaceBetween },
                  E.createElement(
                    "div",
                    { className: (0, R.A)(_().LineItemCol, _().PlatformIcons) },
                    E.createElement(A.Q, {
                      item: c,
                      strClassName: _().LineItemPlatforms,
                    }),
                  ),
                ),
                E.createElement(q, { purchaseOption: i, validatedItem: s }),
                E.createElement(V, {
                  lineItem: a,
                  storeItem: t,
                  purchaseOption: i,
                  validatedItem: s,
                  initialPurchaseOption: b,
                  fnRemoveLineItem: m.mutate,
                }),
              ),
            ),
          )
        );
      }
      function j(e) {
        return E.createElement(
          I.Z,
          null,
          E.createElement(g.Rz, null, e.children),
        );
      }
      function q(e) {
        const { purchaseOption: t, validatedItem: n } = e;
        let r = t?.formatted_original_price,
          a = t?.formatted_final_price,
          i = t?.discount_pct;
        return (
          n &&
            n.original_price &&
            ((r = n.original_price.formatted_amount),
            (a = n.subtotal.formatted_amount),
            (i = (0, g.dR)(n))),
          E.createElement(
            "div",
            { className: _().LineItemRightCol },
            E.createElement(N.kb, {
              className: _().PriceWidget,
              formatted_orig_price: r,
              formatted_final_price: a,
              discount_percent: i,
              bHideDiscountPercentForCompliance:
                t.hide_discount_pct_for_compliance,
              bDiscountFromCoupon: !!n?.coupon_discount?.amount_in_cents,
            }),
          )
        );
      }
      function V(e) {
        const {
            lineItem: t,
            storeItem: n,
            purchaseOption: r,
            validatedItem: p,
            initialPurchaseOption: h,
            fnRemoveLineItem: C,
          } = e,
          w = (0, f.EJ)(),
          [y] = (0, F.fg)(),
          v =
            y?.accountid_giftee || (w ? t.gift_info?.accountid_giftee : void 0),
          S = (0, f.ZB)() && !p?.restrict_add_additional_to_cart,
          b = (function (e, t, n, r) {
            const p = (0, c.j4)(),
              _ = (0, a.KV)(),
              g = (0, i.jE)(),
              { country: f } = (0, u.ce)(),
              h = (0, d.Gd)();
            return (0, s.n)({
              mutationFn: async () => {
                if (!e && !t) throw "nPackageID or nBundleID must be passed.";
                if ((0, o.c2)(p)) return (0, l.Jn)(_, f, e, t, n, h);
                if ((0, o.kx)(p)) return (0, l.SI)(_, e ? [e] : void 0, t, n);
                throw "Invalid cart type";
              },
              onSuccess: ([n, a]) => {
                if (1 == n && a) {
                  let n;
                  if ("line_item_ids" in a)
                    (n = a.line_item_ids), (0, m.LN)(g, p, a.cart);
                  else {
                    if (!("lineitems" in a))
                      throw "Invalid response when adding items to cart";
                    {
                      const r = e
                        ? a.lineitems?.filter(
                            (t) =>
                              t.package_item &&
                              t.package_item.packageid == e &&
                              !t.package_item.gidbundle,
                          )
                        : a.lineitems?.filter(
                            (e) => e.bundle_item && e.bundle_item.bundleid == t,
                          );
                      (n = r?.map((e) => e.gidlineitem) || []),
                        (0, m.LN)(g, p, (0, l.qS)(a));
                    }
                  }
                  r && r(n);
                }
              },
            });
          })(t.packageid, t.bundleid, se(r));
        return E.createElement(
          g.UW,
          { className: _().LineItemSpaceBetween },
          E.createElement(
            "div",
            { className: _().LineItemCol },
            v
              ? E.createElement(Z, { recipient: v })
              : E.createElement(te, {
                  lineItem: t,
                  storeItem: n,
                  initialValue: h,
                  purchaseOption: r,
                }),
          ),
          E.createElement(
            "div",
            { className: (0, R.A)(_().LineItemRightCol, _().AddRemoveLinks) },
            S &&
              E.createElement(
                E.Fragment,
                null,
                E.createElement(
                  I.Z,
                  {
                    onActivate: () => !b.isPending && b.mutate(),
                    className: _().AddLineItem,
                    title: (0, G.we)("#Cart_LineItem_Add_Tooltip"),
                  },
                  (0, G.we)("#Cart_Add"),
                ),
                "|",
              ),
            !w &&
              E.createElement(
                I.Z,
                { onActivate: () => C(), className: _().RemoveLineItem },
                (0, G.we)("#Cart_Remove"),
              ),
          ),
        );
      }
      function Z(e) {
        const t = (0, w.js)(e.recipient);
        return E.createElement(
          "div",
          { className: _().GiftForNotice },
          (0, G.PP)(
            "#Cart_GiftForNotice",
            t.data
              ? E.createElement(
                  "span",
                  { className: _().Name },
                  t.data.m_strPlayerName,
                )
              : "",
          ),
        );
      }
      function H(e) {
        const t = `${M.TS.STORE_BASE_URL}public/images/checkout/Cart_generic_header_logo.png`;
        if (!e) return t;
        const n = e.GetAssets();
        if (!n) return t;
        const r = n.GetHeaderURL(),
          a = n.GetSmallCapsuleURL();
        return r || a || t;
      }
      function Q(e) {
        const { storeItem: t } = e;
        let n = (0, G.we)("#Cart_ComingSoon", t.GetFormattedSteamReleaseDate());
        return (
          t.BIsCustomComingSoonDisplay() &&
            (n = t.GetFormattedSteamReleaseDate()),
          E.createElement(g.dp, null, n)
        );
      }
      function Y(e) {
        const { validatedItem: t, children: n } = e,
          r = (0, h.sc)(t);
        return E.createElement(
          "div",
          { className: (0, R.A)(_().LineItemSpaceBetween) },
          r.map((e) =>
            E.createElement(K, { key: e.purchase_state, notice: e }),
          ),
          n,
        );
      }
      function K(e) {
        const { notice: t } = e,
          n = (0, h.i0)(t.purchase_state);
        return E.createElement(
          g.dp,
          null,
          t.notice_text,
          n && E.createElement("sup", null, n),
          E.createElement($, { rgAppIDs: t.appids }),
        );
      }
      function J(e) {
        const { item: t } = e;
        return t.GetSelfPurchaseOption()?.requires_shipping
          ? E.createElement(g.dp, null, E.createElement(D.r, { item: t }))
          : null;
      }
      function X(e) {
        const { item: t } = e;
        if (!t || 1 != t.GetStoreItemType()) return null;
        const n = t.GetSelfPurchaseOption(),
          r = n?.recurrence_info;
        if (!r) return null;
        let a = "#Package";
        2 === r.billing_agreement_type && (a = "#GameBillingPackage");
        const i = t.GetSelfPurchaseOption(),
          s = i.formatted_final_price && i.discount_pct;
        let o = n.formatted_final_price;
        s && ((a += "WithDiscount"), (o = n.formatted_original_price));
        const l =
          a +
          "CostIncludesSubscriptionBy" +
          {
            1: "Second",
            2: "Minute",
            3: "Hour",
            4: "Day",
            5: "Week",
            6: "Month",
            7: "Year",
          }[r.renewal_time_unit];
        return E.createElement(
          g.dp,
          null,
          (0, G.we)(
            l,
            i.formatted_final_price,
            o,
            r.renewal_time_period,
            i.discount_pct,
          ),
        );
      }
      function $(e) {
        const { rgAppIDs: t } = e;
        return t && 0 != t.length
          ? t.map((e, n) =>
              E.createElement(ee, {
                key: `${e}_${n}`,
                appid: e,
                last: n >= t.length - 1,
              }),
            )
          : null;
      }
      function ee(e) {
        const { appid: t, last: n } = e,
          [r] = (0, S.t7)(t, { include_basic_info: !0 });
        return r
          ? E.createElement(
              le,
              { appid: t },
              E.createElement(
                B.p,
                { item: r, noImpressionTracking: !0 },
                r.GetName(),
              ),
              !n && E.createElement(E.Fragment, null, ", "),
            )
          : null;
      }
      function te(e) {
        const {
            lineItem: t,
            storeItem: n,
            initialValue: r,
            purchaseOption: a,
          } = e,
          [i, s] = E.useState(r),
          o = (0, f.CM)(),
          l = (0, C.DT)(),
          c = (0, f.EJ)(),
          m = !se(a) || c,
          u = !(!(d = a).is_commercial_license && !d.requires_shipping);
        var d;
        const p = [
          { data: "myself", label: (0, G.we)("#Cart_LineItemOptions_Myself") },
          !u && {
            data: "private",
            label: (0, G.we)("#Cart_LineItemOptions_Privately"),
            tooltip: (0, G.we)("#Cart_LineItemOptions_PrivateTooltip"),
          },
          !m && {
            data: "gift",
            label: (0, G.we)("#Cart_LineItemOptions_Gift"),
          },
        ].filter(Boolean);
        if (1 === p.length) return null;
        return E.createElement(ne, {
          onChange: (e) => {
            if (i === e.data) return;
            const r = (e) =>
                l.mutate({
                  rgAppIDs: n.GetIncludedAppIDsOrSelf(),
                  bPrivate: e,
                }),
              a = (e) =>
                o.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: { ...t.flags, is_gift: e },
                });
            "private" === i ? r(!1) : "gift" === i && a(!1),
              "private" === e.data ? r(!0) : "gift" === e.data && a(!0),
              s(e.data);
          },
          selectedOption: i,
          rgOptions: p,
        });
      }
      function ne(e) {
        return E.createElement(b.m, {
          strClassName: _().LineItemDropDown,
          strDropDownItemClassName: _().DropDownOptionItem,
          strDropDownClassName: _().DropDownOptionsCtnThin,
          strDropDownButtonClassName: _().DropDownThin,
          ...e,
        });
      }
      function re(e) {
        const { storeItem: t } = e,
          [n, r] = E.useState([]);
        return (
          E.useEffect(() => {
            if (2 == t.GetStoreItemType()) {
              let e = [];
              t.GetIncludedAppIDs().forEach((n, r) => {
                const a = y.A.Get().GetApp(n);
                a &&
                  e.push(
                    E.createElement(
                      le,
                      { key: n, appid: n },
                      E.createElement(
                        B.p,
                        {
                          item: a,
                          feature: "bundle-contents",
                          noImpressionTracking: !0,
                        },
                        a.GetName(),
                      ),
                      r < t.GetIncludedAppIDs().length - 1 ? ", " : "",
                    ),
                  );
              }),
                r(e);
            }
          }, [t]),
          n.length
            ? E.createElement(
                g.UW,
                { flex: !0 },
                E.createElement(
                  "span",
                  null,
                  (0, G.Yp)("#Cart_IncludesItems", n.length),
                  ": ",
                ),
                n,
              )
            : null
        );
      }
      function ae(e) {
        const { appids: t } = e,
          n = t.map((e, t) =>
            E.createElement(
              E.Fragment,
              { key: e },
              t > 0 && ", ",
              E.createElement(ie, { key: e, appid: e }),
            ),
          );
        return E.createElement(
          g.UW,
          { flex: !0 },
          E.createElement(
            "span",
            null,
            (0, G.we)("#Cart_Notice_SomeAppsPrivate"),
            " ",
          ),
          n,
        );
      }
      function ie(e) {
        const { appid: t } = e,
          [n] = (0, S.t7)(t, {});
        return E.createElement(
          le,
          { appid: t },
          E.createElement(
            B.p,
            { item: n, noImpressionTracking: !0 },
            n.GetName(),
          ),
        );
      }
      function se(e) {
        return e.user_can_purchase_as_gift;
      }
      const oe = {
        direction: "right",
        style: { width: "320px", height: (125 / 184) * 320 + "px" },
      };
      function le(e) {
        const { appid: t, children: n } = e;
        return E.createElement(
          T.Qf,
          {
            item: { type: "game", id: t },
            hoverProps: oe,
            bShowWishlistButton: !1,
          },
          n,
        );
      }
    },
    98362: (e, t, n) => {
      "use strict";
      n.d(t, {
        LP: () => u,
        ZZ: () => c,
        i0: () => p,
        sc: () => _,
        wW: () => l,
      });
      var r = n(90626),
        a = n(61859),
        i = n(11543),
        s = n.n(i);
      const o = r.createContext(null);
      function l(e) {
        const { validateCart: t, children: n } = e,
          i = (function (e) {
            return r.useMemo(() => {
              let t = new Map(),
                n = new Map(),
                r = 1;
              const i = (e, t) => {
                n.has(e) || n.set(e, { index: r++, footnote_text: t });
              };
              return (
                e?.cart_items?.forEach((e) => {
                  let n = !!e.gift_info?.accountid_giftee;
                  e.errors?.duplicate_appids_in_cart?.length &&
                    i(1, (0, a.we)("#Cart_Error_DuplicateApps_FootNote")),
                    e.errors?.owned_appids?.length &&
                      (e.errors?.has_existing_billing_agreement
                        ? i(
                            15,
                            (0, a.we)(
                              "#Cart_Error_ExistingBillingAgreement_FootNote",
                            ),
                          )
                        : i(
                            2,
                            (0, a.we)(
                              n
                                ? "#Cart_Error_AlreadyOwned_GiftFootNote"
                                : "#Cart_Error_AlreadyOwned_FootNote",
                            ),
                          )),
                    e.errors?.unavailable_in_country &&
                      i(
                        8,
                        (0, a.we)("#Cart_Error_UnavailableCountry_FootNote"),
                      ),
                    e.errors?.missing_must_own_appids &&
                      i(
                        16,
                        n
                          ? (0, a.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNoteGift",
                            )
                          : (0, a.we)(
                              "#Cart_Error_MissingMustOwnApps_FootNote",
                            ),
                      ),
                    e.warnings?.appids_in_mastersub?.length &&
                      i(
                        4,
                        (0, a.we)("#Cart_Error_MasterSubscription_FootNote"),
                      ),
                    e.warnings?.price_has_changed &&
                      t.set(
                        10,
                        (0, a.we)("#Cart_Warning_PriceChange_FootNote"),
                      );
                }),
                {
                  rgCartLevelNotices: Array.from(t.values()),
                  mapValidateNoticesToFootnote: n,
                }
              );
            }, [e]);
          })(t);
        return r.createElement(o.Provider, { value: i }, n);
      }
      function c() {
        const { rgCartLevelNotices: e } = r.useContext(o);
        return e && e.length
          ? r.createElement(
              "div",
              { className: s().HeaderNotices },
              e.map((e, t) => r.createElement(m, { key: t }, e)),
            )
          : null;
      }
      function m(e) {
        const { children: t } = e;
        return r.createElement("div", { className: s().HeaderNotice }, t);
      }
      function u() {
        const { mapValidateNoticesToFootnote: e } = r.useContext(o);
        return e && e.size
          ? r.createElement(
              "div",
              { className: s().FooterNoticesCtn },
              Array.from(e).map(([e, t]) =>
                r.createElement(d, { key: t.index, notice: t }),
              ),
            )
          : null;
      }
      function d(e) {
        const { notice: t } = e;
        return r.createElement(
          "div",
          { className: s().FooterNotice },
          r.createElement(
            "div",
            { className: s().NoticeIndex },
            r.createElement("sup", null, t.index),
          ),
          r.createElement(
            "div",
            { className: s().NoticeText },
            t.footnote_text,
          ),
        );
      }
      function p(e) {
        const t = r.useContext(o);
        return t?.mapValidateNoticesToFootnote.get(e)?.index;
      }
      function _(e) {
        return r.useMemo(
          () =>
            e
              ? (function (e) {
                  let t = [],
                    n = !!e.gift_info?.accountid_giftee;
                  e.errors?.duplicate_appids_in_cart?.length &&
                    t.push({
                      purchase_state: 1,
                      notice_text: (0, a.we)(
                        "#Cart_Error_DuplicateApps_LineItem",
                      ),
                      appids: e.errors.duplicate_appids_in_cart,
                    });
                  if (e.errors?.owned_appids?.length)
                    if (e.errors?.has_existing_billing_agreement)
                      t.push({
                        purchase_state: 15,
                        notice_text: (0, a.we)(
                          "#Cart_Error_ExistingBillingAgreement",
                        ),
                      });
                    else {
                      const r = (e.store_item?.included_appids.length ?? 0) > 1;
                      let i = (0, a.we)(
                        n
                          ? "#Cart_Error_AlreadyOwned_GiftLineItem_Game"
                          : "#Cart_Error_AlreadyOwned_LineItem_Game",
                      );
                      r &&
                        (i = (0, a.we)(
                          n
                            ? "#Cart_Error_AlreadyOwned_GiftLineItem"
                            : "#Cart_Error_AlreadyOwned_LineItem",
                        )),
                        t.push({
                          purchase_state: 2,
                          notice_text: i,
                          appids: r ? e.errors.owned_appids : null,
                        });
                    }
                  e.errors?.unavailable_in_country &&
                    t.push({
                      purchase_state: 8,
                      notice_text: (0, a.we)(
                        "#Cart_Error_UnavailableCountry_LineItem",
                      ),
                    });
                  e.errors?.coupon_exclusive_promo &&
                    t.push({
                      purchase_state: 13,
                      notice_text: (0, a.we)(
                        "#Cart_Error_CouponIsExclusivePromo",
                      ),
                    });
                  e.errors?.invalid_coupon &&
                    t.push({
                      purchase_state: 11,
                      notice_text: (0, a.we)("#Cart_Error_CouponIsInvalid"),
                    });
                  e.errors?.invalid_coupon_for_item &&
                    t.push({
                      purchase_state: 12,
                      notice_text: (0, a.we)(
                        "#Cart_Error_CouponIsInvalidForItem",
                      ),
                    });
                  e.errors?.too_many_in_cart &&
                    t.push({
                      purchase_state: 14,
                      notice_text: (0, a.we)("#Cart_Error_TooManyInCart"),
                    });
                  e.errors?.missing_must_own_appids?.length &&
                    t.push({
                      purchase_state: 16,
                      notice_text: n
                        ? (0, a.we)(
                            "#Cart_Error_MissingMustOwnApps_GiftLineItem",
                          )
                        : (0, a.we)("#Cart_Error_MissingMustOwnApps_LineItem"),
                      appids: Array.from(
                        new Set(e.errors.missing_must_own_appids).values(),
                      ),
                    });
                  e.warnings?.appids_in_mastersub?.length &&
                    t.push({
                      purchase_state: 4,
                      notice_text: (0, a.we)(
                        "#Cart_Error_MasterSubscription_LineItem",
                      ),
                      appids: e.warnings.appids_in_mastersub.map(
                        (e) => e.cart_appid,
                      ),
                    });
                  e.warnings?.owned_appids?.length &&
                    t.push({
                      purchase_state: 3,
                      notice_text: (0, a.we)(
                        "#Cart_Warning_AlreadyOwned_LineItem",
                      ),
                      appids: e.warnings.owned_appids,
                    });
                  e.warnings?.owned_appids_extra_copy?.length &&
                    t.push({
                      purchase_state: 9,
                      notice_text: (0, a.we)(
                        "#Cart_Warning_ExtraCopies_LineItem",
                      ),
                      appids: e.warnings.owned_appids_extra_copy,
                    });
                  e.warnings?.price_has_changed &&
                    t.push({
                      purchase_state: 10,
                      notice_text: (0, a.we)(
                        "#Cart_Warning_PriceChange_LineItem",
                      ),
                    });
                  e.warnings?.non_refundable &&
                    t.push({
                      purchase_state: 5,
                      notice_text: (0, a.we)("#Cart_Warning_NoRefund_LineItem"),
                    });
                  return t;
                })(e)
              : [],
          [e],
        );
      }
    },
    35335: (e, t, n) => {
      "use strict";
      n.r(t),
        n.d(t, {
          BaseCartPage: () => Jt,
          default: () => Ht,
          useInitCartLocalization: () => Xt,
        });
      var r = n(90485),
        a = n(43830),
        i = n(90626),
        s = n(92757),
        o = n(14860),
        l = n(28567),
        c = n(45699),
        m = n(12447),
        u = n(84746),
        d = n(46115);
      function p(e) {
        const { children: t, name: n = "GamepadWebRoot" } = e,
          r = (0, d.A)();
        return i.createElement(
          m.u,
          { NavigationManager: r, navID: n },
          i.createElement(u.N, null, t),
        );
      }
      var _ = n(76217),
        g = n(17690),
        f = n(16021),
        h = n(55263),
        E = n(33737),
        C = n(84811),
        I = n(82477),
        w = n(32630),
        y = n(22797),
        v = n(2627),
        S = n(61859),
        b = n(30470),
        L = n(52038),
        T = n(34633);
      function N(e) {
        return i.createElement(
          "div",
          { className: (0, L.A)(T.CartCard, e.className) },
          e.children,
        );
      }
      var A = n(2160),
        D = n(98972);
      function B(e) {
        const { cart: t } = e,
          n = (function (e) {
            const t = (0, a.zJ)();
            if (!e || !t.isSuccess || !t.data?.sale_name) return null;
            const n = new Set();
            let r = 0;
            for (const t of e.cart_items) {
              t.store_item.release?.is_coming_soon &&
              t.store_item.best_purchase_option?.packageid
                ? n.add(t.store_item.name)
                : (r += parseInt(t.subtotal.amount_in_cents));
            }
            const {
                sale_name: i,
                spend_earned_for_next_drop: s,
                spend_needed_for_next_drop: o,
                formatted_spend_per_drop: l,
              } = t.data,
              c = r + s,
              m = Math.floor(c / o),
              u = Math.floor(((c % o) * 100) / o);
            return {
              cEarned: m,
              pctProgress: u,
              strFormattedSpendPerDrop: l,
              rgPrepurchaseApps: Array.from(n),
              strSaleName: i,
            };
          })(t);
        if (
          !t ||
          !b.iA.logged_in ||
          !n ||
          (0, A.nA)(b.TS.EREALM) ||
          !n.strSaleName
        )
          return null;
        const {
            cEarned: r,
            pctProgress: s,
            rgPrepurchaseApps: o,
            strFormattedSpendPerDrop: l,
            strSaleName: c,
          } = n,
          m = r > 0,
          u = i.createElement(
            "div",
            { className: D.Explanation },
            (0, S.we)("#Cart_SaleCardDrops_Explanation", c),
          );
        return i.createElement(
          N,
          { className: D.TradingCardContainer },
          m &&
            i.createElement(
              "div",
              { className: D.EarnedMessage },
              (0, S.Yp)("#Cart_SaleCardDrops_EarnedMessage", r, c),
            ),
          !m && u,
          i.createElement(
            "div",
            { className: D.ProgressSection },
            i.createElement(
              "div",
              null,
              (0, S.we)("#Cart_SaleCardDrops_ProgressLabel"),
            ),
            i.createElement(R, { value: s }),
            i.createElement(
              "div",
              { className: D.Right },
              "(",
              (0, S.we)("#Cart_SaleCardDrops_CardCost", l),
              ")",
            ),
          ),
          m && u,
          o.length > 0 &&
            i.createElement(
              "div",
              { className: D.IneligbleList },
              i.createElement(
                "p",
                null,
                (0, S.we)("#Cart_SaleCardDrops_PrepurchaseIneligible", c),
              ),
              i.createElement(
                "ul",
                null,
                o.map((e) => i.createElement("li", { key: e }, e)),
              ),
            ),
        );
      }
      function R(e) {
        const { value: t } = e,
          n = Math.min(100, Math.max(0, t));
        return i.createElement(
          "div",
          { className: D.ProgressRail },
          i.createElement("div", {
            className: D.Progress,
            style: { width: `${n}%` },
          }),
        );
      }
      var G = n(1977),
        M = n(62792),
        F = n(54171),
        O = n(46416),
        P = n(56545),
        k = n(15161),
        x = n(80613),
        z = n(89068);
      const U = x.Message;
      class W extends U {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            W.prototype.context || z.Sg(W.M()),
            U.initialize(this, e, 0, -1, [9], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            W.sm_m ||
              (W.sm_m = {
                proto: W,
                fields: {
                  context: { n: 1, c: k.TS },
                  data_request: { n: 2, c: k.gn },
                  include_spotlights: { n: 5, c: j },
                  include_dailydeals: {
                    n: 6,
                    br: z.qM.readBool,
                    bw: z.gp.writeBool,
                  },
                  include_top_specials_count: {
                    n: 7,
                    br: z.qM.readInt32,
                    bw: z.gp.writeInt32,
                  },
                  include_purchase_recommendations: {
                    n: 8,
                    br: z.qM.readBool,
                    bw: z.gp.writeBool,
                  },
                  additional_purchase_item_ids: { n: 9, c: k.O4, r: !0, q: !0 },
                },
              }),
            W.sm_m
          );
        }
        static MBF() {
          return W.sm_mbf || (W.sm_mbf = z.w0(W.M())), W.sm_mbf;
        }
        toObject(e = !1) {
          return W.toObject(e, this);
        }
        static toObject(e, t) {
          return z.BT(W.M(), e, t);
        }
        static fromObject(e) {
          return z.Uq(W.M(), e);
        }
        static deserializeBinary(e) {
          let t = new x.BinaryReader(e),
            n = new W();
          return W.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return z.zj(W.MBF(), e, t);
        }
        serializeBinary() {
          var e = new x.BinaryWriter();
          return W.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          z.i0(W.M(), e, t);
        }
        serializeBase64String() {
          var e = new x.BinaryWriter();
          return W.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Request";
        }
      }
      class j extends U {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            j.prototype.location || z.Sg(j.M()),
            U.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            j.sm_m ||
              (j.sm_m = {
                proto: j,
                fields: {
                  location: { n: 1, br: z.qM.readString, bw: z.gp.writeString },
                  category: { n: 2, br: z.qM.readString, bw: z.gp.writeString },
                  genre_id: { n: 3, br: z.qM.readInt32, bw: z.gp.writeInt32 },
                },
              }),
            j.sm_m
          );
        }
        static MBF() {
          return j.sm_mbf || (j.sm_mbf = z.w0(j.M())), j.sm_mbf;
        }
        toObject(e = !1) {
          return j.toObject(e, this);
        }
        static toObject(e, t) {
          return z.BT(j.M(), e, t);
        }
        static fromObject(e) {
          return z.Uq(j.M(), e);
        }
        static deserializeBinary(e) {
          let t = new x.BinaryReader(e),
            n = new j();
          return j.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return z.zj(j.MBF(), e, t);
        }
        serializeBinary() {
          var e = new x.BinaryWriter();
          return j.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          z.i0(j.M(), e, t);
        }
        serializeBase64String() {
          var e = new x.BinaryWriter();
          return j.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Request_SpotlightFilter";
        }
      }
      class q extends U {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            q.prototype.spotlights || z.Sg(q.M()),
            U.initialize(this, e, 0, -1, [1, 2, 3, 4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            q.sm_m ||
              (q.sm_m = {
                proto: q,
                fields: {
                  spotlights: { n: 1, c: V, r: !0, q: !0 },
                  daily_deals: { n: 2, c: Z, r: !0, q: !0 },
                  specials: { n: 3, c: Z, r: !0, q: !0 },
                  purchase_recommendations: { n: 4, c: Z, r: !0, q: !0 },
                },
              }),
            q.sm_m
          );
        }
        static MBF() {
          return q.sm_mbf || (q.sm_mbf = z.w0(q.M())), q.sm_mbf;
        }
        toObject(e = !1) {
          return q.toObject(e, this);
        }
        static toObject(e, t) {
          return z.BT(q.M(), e, t);
        }
        static fromObject(e) {
          return z.Uq(q.M(), e);
        }
        static deserializeBinary(e) {
          let t = new x.BinaryReader(e),
            n = new q();
          return q.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return z.zj(q.MBF(), e, t);
        }
        serializeBinary() {
          var e = new x.BinaryWriter();
          return q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          z.i0(q.M(), e, t);
        }
        serializeBase64String() {
          var e = new x.BinaryWriter();
          return q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response";
        }
      }
      class V extends U {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            V.prototype.item_id || z.Sg(V.M()),
            U.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            V.sm_m ||
              (V.sm_m = {
                proto: V,
                fields: {
                  item_id: { n: 1, c: k.O4 },
                  associated_item: { n: 2, c: k.vB },
                  spotlight_template: {
                    n: 3,
                    br: z.qM.readString,
                    bw: z.gp.writeString,
                  },
                  spotlight_title: {
                    n: 4,
                    br: z.qM.readString,
                    bw: z.gp.writeString,
                  },
                  spotlight_body: {
                    n: 5,
                    br: z.qM.readString,
                    bw: z.gp.writeString,
                  },
                  asset_url: {
                    n: 6,
                    br: z.qM.readString,
                    bw: z.gp.writeString,
                  },
                  spotlight_link_url: {
                    n: 7,
                    br: z.qM.readString,
                    bw: z.gp.writeString,
                  },
                },
              }),
            V.sm_m
          );
        }
        static MBF() {
          return V.sm_mbf || (V.sm_mbf = z.w0(V.M())), V.sm_mbf;
        }
        toObject(e = !1) {
          return V.toObject(e, this);
        }
        static toObject(e, t) {
          return z.BT(V.M(), e, t);
        }
        static fromObject(e) {
          return z.Uq(V.M(), e);
        }
        static deserializeBinary(e) {
          let t = new x.BinaryReader(e),
            n = new V();
          return V.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return z.zj(V.MBF(), e, t);
        }
        serializeBinary() {
          var e = new x.BinaryWriter();
          return V.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          z.i0(V.M(), e, t);
        }
        serializeBase64String() {
          var e = new x.BinaryWriter();
          return V.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response_Spotlight";
        }
      }
      class Z extends U {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Z.prototype.item_id || z.Sg(Z.M()),
            U.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Z.sm_m ||
              (Z.sm_m = {
                proto: Z,
                fields: { item_id: { n: 1, c: k.O4 }, item: { n: 2, c: k.vB } },
              }),
            Z.sm_m
          );
        }
        static MBF() {
          return Z.sm_mbf || (Z.sm_mbf = z.w0(Z.M())), Z.sm_mbf;
        }
        toObject(e = !1) {
          return Z.toObject(e, this);
        }
        static toObject(e, t) {
          return z.BT(Z.M(), e, t);
        }
        static fromObject(e) {
          return z.Uq(Z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new x.BinaryReader(e),
            n = new Z();
          return Z.deserializeBinaryFromReader(n, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return z.zj(Z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new x.BinaryWriter();
          return Z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          z.i0(Z.M(), e, t);
        }
        serializeBase64String() {
          var e = new x.BinaryWriter();
          return Z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreMarketing_GetItemsToFeature_Response_FeaturedItem";
        }
      }
      var H;
      !(function (e) {
        e.GetItemsToFeature = function (e, t) {
          return e.SendMsg(
            "StoreMarketing.GetItemsToFeature#1",
            (0, P.I8)(W, t),
            q,
            { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
          );
        };
      })(H || (H = {}));
      var Q = n(23809),
        Y = n(97310),
        K = n(58214),
        J = n(20194);
      function X(e, t = !0) {
        return (function (e, t, n = !0) {
          const r = (0, Q.KV)(),
            { storeBrowseContext: a, cacheStoreItemData: i } = (0, Y.yn)();
          return (0, J.I)({
            queryKey: ["ItemsToFeature", e],
            queryFn: async () => {
              const n = P.w.Init(W);
              (0, K.rV)(a, n),
                (0, K.Bn)(n, t),
                n.Body().set_include_dailydeals(!0),
                n.Body().set_include_top_specials_count(8),
                e.spotlightLocation &&
                  n
                    .Body()
                    .set_include_spotlights(j.fromObject(e.spotlightLocation)),
                void 0 !== e.rgAdditionalRecommendationIDs &&
                  (n.Body().set_include_purchase_recommendations(!0),
                  e.rgAdditionalRecommendationIDs.forEach((e) =>
                    n
                      .Body()
                      .add_additional_purchase_item_ids(k.O4.fromObject(e)),
                  ));
              const s = await H.GetItemsToFeature(r, n);
              if (!s) throw s.GetErrorMessage();
              return (
                s
                  .Body()
                  .spotlights()
                  .forEach(
                    (e) => e.associated_item(!1) && i(e.associated_item(), t),
                  ),
                s
                  .Body()
                  .daily_deals()
                  .forEach((e) => e.item(!1) && i(e.item(), t)),
                s
                  .Body()
                  .specials()
                  .forEach((e) => e.item(!1) && i(e.item(), t)),
                s
                  .Body()
                  .purchase_recommendations()
                  .forEach((e) => e.item(!1) && i(e.item(), t)),
                s.Body().toObject()
              );
            },
            staleTime: 36e5,
            enabled: n,
          });
        })(
          {
            spotlightLocation: { location: "cart" },
            rgAdditionalRecommendationIDs: e,
          },
          { include_assets: !0, include_release: !0 },
          t,
        );
      }
      var $ = n(50169);
      function ee(e, t = []) {
        return t.filter(
          ({ item_id: t, item: n }) =>
            !t ||
            (!e[t.appid] &&
              (n?.appid
                ? !e[n?.appid]
                : !n?.included_appids ||
                  n.included_appids.every((t) => !e[t]))),
        );
      }
      function te(e) {
        const { cart: t, validatedCart: n } = e,
          [r, a] = i.useState(void 0),
          s = (n?.cart_items || []).reduce(
            (e, t) => e.concat(t.store_item.included_appids),
            [],
          );
        i.useEffect(() => {
          void 0 === r &&
            t &&
            a(
              t?.line_items.map((e) =>
                e.packageid
                  ? { packageid: e.packageid }
                  : { bundleid: e.bundleid },
              ),
            );
        }, [r, t]);
        const o = X(r, void 0 !== r);
        if (o.isError) return null;
        const l = s.reduce((e, t) => ((e[t] = !0), e), {}),
          c = ee(l, o.data?.purchase_recommendations),
          m = ee(l, o.data?.specials),
          u = ee(l, o.data?.daily_deals),
          d = ee(l, o.data?.spotlights);
        return i.createElement(
          "div",
          { className: $.CartUpsellArea },
          i.createElement(
            "div",
            { className: $.CartUpsellTitle },
            (0, S.we)("#Recommendations_Header"),
          ),
          c?.length > 3
            ? i.createElement(ne, {
                type: "recommended",
                data: c,
                isLoaded: !o.isLoading,
              })
            : i.createElement(ne, {
                type: "specials",
                data: m,
                isLoaded: !o.isLoading,
              }),
          i.createElement(ae, { data: u, isLoaded: !o.isLoading }),
          i.createElement(ie, { data: d, isLoaded: !o.isLoading }),
        );
      }
      function ne(e) {
        const { data: t, isLoaded: n, type: r } = e;
        return !t && n
          ? null
          : i.createElement(
              w.A,
              { feature: `upsell-${r}` },
              i.createElement(
                se,
                { className: (0, L.A)($.Specials) },
                t
                  ?.slice(0, 3)
                  .map(({ item_id: e, item: t }) =>
                    i.createElement(re, {
                      key: (0, M.wD)(e),
                      item_id: e,
                      item: t,
                    }),
                  ),
              ),
            );
      }
      function re(e) {
        const { item: t } = e;
        return i.createElement(O.W, {
          capsule: { id: t.id, type: (0, M._4)(t.item_type, t.type) },
          imageType: "header",
          onlyOneDiscountPct: !0,
        });
      }
      function ae(e) {
        const { data: t, isLoaded: n } = e;
        return !t && n
          ? null
          : i.createElement(
              se,
              { className: (0, L.A)($.DailyDeals, !n && $.Loading) },
              t
                ?.slice(0, 2)
                .map((e) =>
                  i.createElement(F.lt, {
                    key: (0, M.wD)(e.item_id),
                    dailyDeal: e,
                  }),
                ),
            );
      }
      function ie(e) {
        const { data: t, isLoaded: n } = e,
          r = i.useMemo(
            () =>
              t
                ?.filter((e) => "weeklong_deals" != e.spotlight_template)
                .slice(0, 2),
            [t],
          );
        return !r && n
          ? null
          : i.createElement(
              se,
              { className: (0, L.A)($.Spotlights, !n && $.Loading) },
              r.map((e) =>
                i.createElement(F.kv, {
                  key: e.item_id ? (0, M.wD)(e.item_id) : e.spotlight_title,
                  spotlight: e,
                }),
              ),
            );
      }
      function se(e) {
        const { className: t, children: n } = e;
        return i.createElement(
          _.Z,
          {
            "flow-children": "row",
            navEntryPreferPosition: G.iU.MAINTAIN_X,
            className: (0, L.A)($.UpsellRow, t),
          },
          n,
        );
      }
      var oe = n(34629),
        le = n(75844),
        ce = n(69917),
        me = n.n(ce),
        ue = n(44894),
        de = n(44165),
        pe = n(95695),
        _e = n.n(pe),
        ge = n(73745),
        fe = n(32754),
        he = n(12916),
        Ee = n.n(he),
        Ce = n(87937),
        Ie = n.n(Ce);
      let we = class extends i.Component {
        constructor(e) {
          super(e),
            (this.state = {
              timeAsString: null,
              dateAsString: null,
              bEndTimeBeforeStartTime: !1,
              strError: null,
            });
        }
        OnTimeChange(e) {
          const {
            nEarliestTime: t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: r,
            disabled: a,
          } = this.props;
          if (a) return;
          if ("string" == typeof e) {
            let t = Ie()(e, "h:m a +-h:m", !0);
            if (!t.isValid()) return void this.setState({ timeAsString: e });
            e = t;
          }
          let i = this.props.fnGetTimeToUpdate(),
            s = 0;
          if (i) {
            const t = Ie().unix(i);
            e.year(t.year()),
              e.month(t.month()),
              e.day(t.day()),
              (s = e.unix());
          } else {
            s =
              Ie().unix(t).hour(0).second(0).minutes(0).unix() +
              3600 * e.hour() +
              60 * e.minutes();
          }
          n(s);
          let o = r && !0 === r();
          (null == this.state.timeAsString &&
            o == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ timeAsString: null, bEndTimeBeforeStartTime: o });
        }
        OnDateChange(e) {
          const { disabled: t } = this.props;
          if (t) return;
          if ("string" == typeof e) {
            let t = Ie()(e, "M/D/YYYY", !0);
            if (!t.isValid()) return void this.setState({ dateAsString: e });
            e = t;
          }
          const n = this.props.fnGetTimeToUpdate(),
            r = Ie().unix(n || de.HD.GetTimeNowWithOverride());
          e.hour(r.hour()),
            e.minute(r.minute()),
            e.second(0),
            this.props.fnSetTimeToUpdate(e.unix());
          let a =
            this.props.fnIsValidDateTime &&
            !0 === this.props.fnIsValidDateTime();
          (null == this.state.dateAsString &&
            a == this.state.bEndTimeBeforeStartTime) ||
            this.setState({ dateAsString: null, bEndTimeBeforeStartTime: a });
        }
        IsValidDate(e) {
          if (this.props.disabled) return !1;
          const {
              nEarliestTime: t,
              nLatestTime: n,
              bWeekdaysOnly: r,
            } = this.props,
            a = Ie().unix(t).hour(0).seconds(0).minute(0);
          let i = e.unix() >= a.unix();
          if (i && n && n >= t) {
            const t = Ie().unix(n).hour(23).minute(59).seconds(59);
            i = e.unix() <= t.unix();
          }
          return (
            i && r && ((0 != e.weekday() && 6 != e.weekday()) || (i = !1)), i
          );
        }
        SetToNow() {
          this.props.fnSetToNow
            ? this.props.fnSetToNow(de.HD.GetTimeNowWithOverride())
            : this.props.fnSetTimeToUpdate(de.HD.GetTimeNowWithOverride());
        }
        componentDidMount() {
          this.UpdateError();
        }
        componentDidUpdate() {
          this.UpdateError();
        }
        UpdateError() {
          const { fnIsValidDateTime: e } = this.props,
            t = e && e();
          let n = null;
          (this.state.timeAsString ||
            this.state.dateAsString ||
            "string" == typeof t ||
            !1 === t) &&
            ((n = (0, S.we)("#DateTimePicker_Fallback_Invalid_DateTime")),
            this.state.timeAsString
              ? (n = (0, S.we)("#DateTimePicker_Time_CannotParse"))
              : this.state.dateAsString
                ? (n = (0, S.we)("#DateTimePicker_Date_CannotParse"))
                : "string" == typeof t && (n = t)),
            this.state.strError !== n &&
              (this.setState({ strError: n }),
              this.props.onError && this.props.onError(n));
        }
        render() {
          const {
            nLatestTime: e,
            nEarliestTime: t,
            fnGetTimeToUpdate: n,
            onError: r,
            strAlsoShowTimeZone: a,
            disabled: s,
            bNoDefaultDate: o,
          } = this.props;
          let l = n(),
            c = l > 0 ? new Date(1e3 * l) : null,
            m = "h:mm A";
          const u = !r && this.state.strError;
          let d, p;
          if (e && t && e == t && t > de.HD.GetTimeNowWithOverride()) {
            let e = Ie().unix(t);
            (d = {
              hours: { max: e.hour(), min: e.hour(), step: 0 },
              minutes: { max: e.minute(), min: e.minute(), step: 0 },
              seconds: { max: e.seconds(), min: e.seconds(), step: 0 },
              milliseconds: { max: 0, min: 0, step: 0 },
            }),
              (m = "HH:mm");
          }
          l || !t || o || (p = Ie().unix(t));
          const _ = Ie().tz.guess(),
            g = Ie().unix(l).tz(_),
            f = !!a && _ != a && Ie().unix(l).tz(a);
          return i.createElement(
            "div",
            {
              className: (0, L.A)(Ee().EventTimeSection, this.props.className),
            },
            i.createElement(
              "div",
              { className: (0, L.A)(Ee().EventTimeTitle, "DialogLabel") },
              i.createElement(
                fe.he,
                { toolTipContent: this.props.strDescToolTip, direction: "top" },
                Boolean(this.props.strDescription) &&
                  i.createElement("span", null, this.props.strDescription),
              ),
              u &&
                i.createElement(
                  "span",
                  { className: Ee().DateErrorCtn },
                  i.createElement("img", { src: ue.A }),
                  u,
                ),
            ),
            i.createElement(
              "div",
              { className: _e().FlexRowContainer },
              i.createElement(
                "div",
                { className: (0, L.A)(_e().InputBorder, Ee().TimeBlock) },
                i.createElement(me(), {
                  onChange: this.OnDateChange,
                  timeFormat: !1,
                  value: this.state.dateAsString ? this.state.dateAsString : c,
                  isValidDate: this.IsValidDate,
                  initialValue: p,
                  inputProps: {
                    placeholder: (0, S.we)("#DateTimePicker_Enter_Date"),
                    className: (0, L.A)(
                      Ee().DateWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: s,
                  },
                }),
                !!f &&
                  i.createElement(
                    "div",
                    { className: Ee().PacificTimeHint },
                    f.format("L"),
                  ),
              ),
              i.createElement(
                "div",
                { className: (0, L.A)(_e().InputBorder, Ee().TimeBlock) },
                i.createElement(me(), {
                  onChange: this.OnTimeChange,
                  dateFormat: !1,
                  timeFormat: m,
                  timeConstraints: d,
                  value: this.state.timeAsString ? this.state.timeAsString : c,
                  inputProps: {
                    placeholder: (0, S.we)("#DateTimePicker_Enter_Time"),
                    className: (0, L.A)(
                      Ee().TimeWidth,
                      "DialogInput",
                      "DialogTextInputBase",
                    ),
                    disabled: s,
                  },
                }),
                !!f &&
                  i.createElement(
                    "div",
                    { className: Ee().PacificTimeHint },
                    f.format("LT"),
                  ),
              ),
              this.props.bShowTimeZone &&
                i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    { className: Ee().TimeZone },
                    g.zoneAbbr(),
                  ),
                  !!f &&
                    i.createElement(
                      "div",
                      { className: Ee().TimeZone },
                      f.zoneAbbr(),
                    ),
                ),
            ),
            Boolean(d) &&
              i.createElement(
                "div",
                null,
                (0, S.we)("#DateTimePicker_DateTime_Fixed"),
              ),
          );
        }
      };
      (0, oe.Cg)([ge.oI], we.prototype, "OnTimeChange", null),
        (0, oe.Cg)([ge.oI], we.prototype, "OnDateChange", null),
        (0, oe.Cg)([ge.oI], we.prototype, "IsValidDate", null),
        (0, oe.Cg)([ge.oI], we.prototype, "SetToNow", null),
        (we = (0, oe.Cg)([le.PA], we));
      var ye = n(14771),
        ve = n(78327),
        Se = n(83934),
        be = n.n(Se);
      const Le = i.memo(function (e) {
        const { scheduledTime: t, onScheduledTimeChange: n } = e,
          [r, a] = i.useState(null),
          s = t > 0;
        return i.createElement(
          ot,
          null,
          i.createElement(mt, null, (0, S.we)("#Cart_GiftDelivery_Label")),
          i.createElement(
            ct,
            null,
            i.createElement(E.Od, {
              controlled: !0,
              checked: !s,
              onChange: (e) => e && void n(0),
              label: (0, S.we)("#Cart_GiftDelivery_Now"),
            }),
          ),
          i.createElement(
            ct,
            null,
            i.createElement(E.Od, {
              controlled: !0,
              checked: s,
              onChange: (e) => e && void (t || n(Date.now() / 1e3)),
              label: (0, S.we)("#Cart_GiftDelivery_ScheduleDelivery"),
            }),
            i.createElement("div", { style: { clear: "both" } }),
            r && i.createElement("div", { className: be().ScheduleError }, r),
            s &&
              i.createElement(
                C.tH,
                null,
                i.createElement(Te, {
                  scheduledTime: t,
                  onScheduledTimeChange: n,
                  setScheduledError: a,
                }),
              ),
          ),
        );
      });
      function Te(e) {
        const {
          scheduledTime: t,
          onScheduledTimeChange: n,
          setScheduledError: r,
        } = e;
        if ((0, ve.Qn)())
          return i.createElement(Ae, {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: r,
          });
        {
          const e = () => Ne(t);
          return i.createElement(we, {
            bShowTimeZone: !0,
            className: be().GiftDatePicker,
            nEarliestTime: Date.now() / 1e3,
            fnGetTimeToUpdate: () => t,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: e,
            onError: r,
          });
        }
      }
      function Ne(e) {
        const t = Date.now() / 1e3 + ye.Kp.PerYear,
          n = new Date(null, null, null, 0, 0, 0, 0).getTime() / 1e3;
        return e > t
          ? (0, S.we)("#Cart_GiftScheduleError_TooFar")
          : !(e < n) || (0, S.we)("#Cart_GiftScheduleError_InvalidDate");
      }
      function Ae(e) {
        const {
            scheduledTime: t,
            onScheduledTimeChange: n,
            setScheduledError: r,
          } = e,
          a = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              hour: "numeric",
            });
            return (
              e.resolvedOptions().hour12 ||
              "h12" == e.resolvedOptions().hourCycle
            );
          }, []),
          s = new Date(1e3 * t),
          [o, l] = (0, i.useState)(s.getMonth()),
          [c, m] = (0, i.useState)(s.getDate()),
          [u, d] = (0, i.useState)(s.getFullYear()),
          [p, _] = (0, i.useState)(() =>
            (function (e, t) {
              let n = e.getHours(),
                r = e.getMinutes();
              return (
                t && (n > 12 ? (n -= 12) : 0 == n && (n = 12)),
                `${n}:${r < 10 ? "0" : ""}${r}`
              );
            })(s, a),
          ),
          [g, f] = (0, i.useState)(s.getHours() >= 12 ? "PM" : "AM");
        i.useEffect(() => {
          let e = p.match(/^\s*([012]?[0-9]):([0-9]{2})\s*/);
          if (!e) return;
          let t = parseInt(e[1]);
          const i = parseInt(e[2]);
          a &&
            ("PM" == g && t < 12 ? (t += 12) : "AM" == g && 12 == t && (t = 0));
          const s = new Date(u, o, c, t, i, 0, 0).getTime() / 1e3,
            l = Ne(s);
          !0 === l ? (r(null), n(s)) : r(l);
        }, [u, o, c, p, g, a, n, r]);
        const h = "US" == ve.TS.COUNTRY && "english" == ve.TS.LANGUAGE;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            E.Xp,
            { className: be().GamepadTimePickerRow },
            h && i.createElement(Be, { month: o, setMonth: l }),
            i.createElement(Re, { year: u, month: o, day: c, setDay: m }),
            !h && i.createElement(Be, { month: o, setMonth: l }),
            i.createElement(De, { year: u, setYear: d }),
          ),
          i.createElement(
            E.Xp,
            { className: be().GamepadTimePickerRow },
            i.createElement(E.pd, {
              value: p,
              onChange: (e) => _(e.currentTarget.value),
            }),
            a && i.createElement(Ge, { strAMPM: g, setAMPM: f }),
            i.createElement(
              E.VP,
              { className: be().TimezoneDisplay },
              i.createElement(C.tH, null, i.createElement(Me, null)),
            ),
            !a && i.createElement(E.VP, null, " "),
          ),
        );
      }
      function De(e) {
        const { year: t, setYear: n } = e,
          r = i.useMemo(() => {
            const e = new Date(),
              t = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
                year: "numeric",
              });
            return [e.getFullYear(), e.getFullYear() + 1].map((e) => ({
              label: t.format(new Date(e, 0, 1)),
              data: e,
            }));
          }, []);
        return i.createElement(E.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function Be(e) {
        const { month: t, setMonth: n } = e,
          r = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              month: "short",
            });
            return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map((t) => ({
              label: e.format(new Date(null, t)),
              data: t,
            }));
          }, []);
        return i.createElement(E.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function Re(e) {
        const { year: t, month: n, day: r, setDay: a } = e,
          s = i.useMemo(() => {
            const e = new Date(t, n + 1, 0).getDate(),
              r = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
                day: "numeric",
              });
            let a = [];
            for (let t = 1; t <= e; t++)
              a.push({ label: r.format(new Date(null, null, t)), data: t });
            return a;
          }, [n, t]);
        return i.createElement(E.m, {
          selectedOption: r,
          onChange: (e) => a(e.data),
          rgOptions: s,
        });
      }
      function Ge(e) {
        const { strAMPM: t, setAMPM: n } = e,
          r = i.useMemo(() => {
            const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
              hour: "numeric",
              hour12: !0,
            });
            return [
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 5))
                    .find((e) => "dayPeriod" == e.type)?.value || "AM",
                data: "AM",
              },
              {
                label:
                  e
                    .formatToParts(new Date(null, null, null, 17))
                    .find((e) => "dayPeriod" == e.type)?.value || "PM",
                data: "PM",
              },
            ];
          }, []);
        return i.createElement(E.m, {
          selectedOption: t,
          onChange: (e) => n(e.data),
          rgOptions: r,
        });
      }
      function Me() {
        const e = new Intl.DateTimeFormat(S.pf.GetPreferredLocales(), {
          timeZoneName: "short",
        })
          .formatToParts()
          .find((e) => "timeZoneName" == e.type);
        return i.createElement(i.Fragment, null, e ? e.value : "");
      }
      var Fe = n(1035),
        Oe = n(14336),
        Pe = n(94076),
        ke = n(26505);
      function xe(e) {
        const t = (function (e) {
            const t = (0, Q.KV)(),
              n = (0, M.Je)(e.GetID(), e.GetStoreItemType());
            return (0, J.I)({
              queryKey: ["FriendOwnershipForGifting", n],
              queryFn: async () => {
                const e = P.w.Init(Pe.HM);
                e.Body().set_item_ids([k.O4.fromObject(n)]);
                const r = await Pe._o.GetFriendOwnershipForGifting(t, e);
                if (!r.BSuccess()) throw r.GetEResult();
                return r.Body().toObject();
              },
            });
          })(e),
          n = (0, ke.d0)({ loadFavorites: !0, loadNicknames: !0 }),
          r = t?.data?.ownership_info[0]?.friend_ownership,
          a = i.useMemo(
            () => new Map(r && r.map((e) => [e.accountid, e])),
            [r],
          );
        if (t.isLoading || n.isLoading) return { isLoading: !0 };
        if (t.isError || n.isError) return { isError: !0 };
        const s = n.data.map((e, t) => {
          const n = a.get(e.accountid) || { already_owns: !1, wishes_for: !1 };
          return { ...e, ownership: n };
        });
        return (
          s.sort((e, t) => {
            if (e.is_favorite != t.is_favorite) return e.is_favorite ? -1 : 1;
            if (e.ownership.wishes_for) {
              if (!t.ownership.wishes_for) return -1;
            } else if (t.ownership.wishes_for) return 1;
            if (e.ownership.already_owns) {
              if (!t.ownership.already_owns) return 1;
            } else if (t.ownership.already_owns) return -1;
            return e.persona.m_strPlayerName.localeCompare(
              t.persona.m_strPlayerName,
            );
          }),
          { rgFriendsForGifting: s }
        );
      }
      var ze = n(75204),
        Ue = n(34181),
        We = n(17720),
        je = n(44325);
      function qe(e) {
        const {
          storeItem: t,
          lineItem: n,
          bShowGiftRecipientModal: r,
          fnOnDismiss: a,
        } = e;
        return i.createElement(
          je.mt,
          { className: be().GiftRecipientPickerModal, active: r, onDismiss: a },
          i.createElement(Ve, { onDismiss: a, lineItem: n, storeItem: t }),
        );
      }
      const Ve = i.memo(function (e) {
        const {
          rgFriendsForGifting: t,
          isLoading: n,
          isError: r,
        } = xe(e.storeItem);
        return i.createElement(Ze, {
          ...e,
          rgFriendsForGifting: t,
          isLoading: n,
          isError: r,
        });
      });
      function Ze(e) {
        const {
            lineItem: t,
            onDismiss: n,
            rgFriendsForGifting: r,
            isLoading: s,
            isError: o,
          } = e,
          l = (0, a.CM)(),
          [c, m] = i.useState(""),
          u = i.useMemo(() => {
            if (!r) return [];
            const e = c.toLocaleLowerCase();
            return r.filter(
              (t) =>
                t.persona.m_strPlayerName.toLocaleLowerCase().indexOf(e) > -1 ||
                !!(
                  t.nickname && t.nickname.toLocaleLowerCase().indexOf(e) > -1
                ),
            );
          }, [c, r]),
          d = t.gift_info?.accountid_giftee,
          p = (e) => {
            if (e) {
              const n = new We.b(e);
              n.BIsValid() &&
                l.mutate({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: { accountid_giftee: n && n.GetAccountID() },
                });
            }
            n();
          };
        return o
          ? i.createElement(
              He,
              null,
              i.createElement(
                "div",
                { className: be().LoadingError },
                (0, S.we)("#Cart_GiftRecipientModal_IssueLoading"),
              ),
            )
          : i.createElement(
              He,
              { loading: s },
              i.createElement(Qe, { value: c, onChange: m }),
              i.createElement(
                Ye,
                null,
                u.map((e) =>
                  i.createElement(Ke, {
                    key: e.accountid,
                    selected: e.accountid === d,
                    onSelect: p,
                    ownsGame: e.ownership.already_owns,
                    wishlistsGame: e.ownership.wishes_for,
                    persona: e.persona,
                    nickname: e.nickname,
                  }),
                ),
              ),
            );
      }
      function He(e) {
        const { loading: t, children: n } = e;
        return i.createElement(
          _.Z,
          { className: be().GiftRecipientPickerFormCtn },
          i.createElement(
            "div",
            { className: be().FormTitle },
            (0, S.we)("#Cart_GiftRecipientModal_Title"),
          ),
          t && i.createElement(y.t, { position: "center", size: "large" }),
          !t && n,
        );
      }
      function Qe(e) {
        const { value: t, onChange: n } = e;
        return i.createElement(E.pd, {
          autoFocus: !0,
          bShowClearAction: !0,
          className: be().GiftFriendsInput,
          placeholder: (0, S.we)("#Cart_GiftRecipientModal_Placeholder"),
          value: t,
          onChange: (e) => n(e.currentTarget.value),
        });
      }
      function Ye(e) {
        return i.createElement(ze.MS, {
          className: be().GiftFriendsListCtn,
          ...e,
        });
      }
      function Ke(e) {
        const {
            selected: t,
            onSelect: n,
            nickname: r,
            persona: a,
            ownsGame: s,
            wishlistsGame: o,
          } = e,
          l = s,
          c = i.useCallback(() => {
            l || n(a.m_steamid.ConvertTo64BitString());
          }, [l, n, a]);
        let m = null;
        return (
          s
            ? (m = i.createElement(
                "div",
                { className: (0, L.A)(be().FriendsGiftLabel, be().OwnsGame) },
                (0, S.we)("#Cart_GiftRecipientModal_OwnsGameLabel"),
              ))
            : o &&
              (m = i.createElement(
                "div",
                { className: (0, L.A)(be().FriendsGiftLabel, be().OnWishlist) },
                (0, S.we)("#Cart_GiftRecipientModal_OnWishlist"),
              )),
          i.createElement(
            _.Z,
            {
              className: (0, L.A)(
                be().GiftPickerFriendBlock,
                t && be().Selected,
                l && be().Disabled,
              ),
              focusClassName: be().Focused,
              noFocusRing: !0,
              onActivate: c,
            },
            i.createElement(Fe.i8, {
              className: be().FriendAvatar,
              statusPosition: "right",
              persona: a,
            }),
            i.createElement(Ue.A, {
              bParenthesizeNicknames: !0,
              strNickname: r,
              persona: a,
              className: be().PersonaName,
            }),
            m,
          )
        );
      }
      var Je = n(29233);
      function Xe(e) {
        const { giftInfo: t, onChange: n } = e,
          r = (0, Oe.js)(t.accountid_giftee);
        return r.data
          ? i.createElement(
              st,
              null,
              i.createElement(
                lt,
                null,
                i.createElement(mt, null, (0, S.we)("#Cart_PurchaseFor_Label")),
                i.createElement(
                  "a",
                  { href: r.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(Fe.i8, {
                    className: be().FriendAvatar,
                    statusPosition: "right",
                    persona: r.data,
                  }),
                ),
                r.data.m_strPlayerName,
              ),
              i.createElement(rt, { giftInfo: t, onChange: n }),
            )
          : null;
      }
      function $e(e) {
        const { lineItem: t } = e,
          n = t.gift_info?.accountid_giftee;
        return i.createElement(
          st,
          null,
          !n && i.createElement(et, { ...e }),
          n && i.createElement(tt, { ...e }),
          n && i.createElement(nt, { lineItem: t }),
          n &&
            i.createElement(dt, {
              gifteeAccountID: t.gift_info?.accountid_giftee,
            }),
        );
      }
      function et(e) {
        const { lineItem: t, storeItem: n } = e,
          [r, a] = i.useState(!1);
        return i.createElement(
          ot,
          null,
          i.createElement(
            E.jn,
            { onClick: () => a(!0) },
            (0, S.we)("#Cart_SelectGiftRecipient"),
          ),
          r &&
            i.createElement(qe, {
              bShowGiftRecipientModal: r,
              fnOnDismiss: () => a(!1),
              lineItem: t,
              storeItem: n,
            }),
        );
      }
      function tt(e) {
        const { lineItem: t, storeItem: n } = e,
          [r, a] = i.useState(!1),
          s = (0, Oe.js)(t.gift_info.accountid_giftee);
        return s.data
          ? i.createElement(
              ot,
              null,
              i.createElement("div", { className: be().GiftFormDivider }),
              i.createElement(
                lt,
                null,
                i.createElement(
                  mt,
                  null,
                  (0, S.we)("#Cart_GiftRecipient_Label"),
                ),
                i.createElement(
                  "a",
                  { href: s.data.GetCommunityProfileURL(), target: "_blank" },
                  i.createElement(Fe.i8, {
                    className: be().FriendAvatar,
                    statusPosition: "right",
                    persona: s.data,
                  }),
                ),
                s.data.m_strPlayerName,
                i.createElement(
                  ut,
                  { onClick: () => a(!0) },
                  "(",
                  (0, S.we)("#Cart_Edit"),
                  ")",
                ),
              ),
              r &&
                i.createElement(qe, {
                  bShowGiftRecipientModal: r,
                  fnOnDismiss: () => a(!1),
                  lineItem: t,
                  storeItem: n,
                }),
            )
          : null;
      }
      function nt(e) {
        const { lineItem: t } = e,
          [n, r] = i.useState(t.gift_info?.time_scheduled_send),
          s = i.useRef(n),
          [o, l] = i.useState(t.gift_info?.gift_message?.message || ""),
          c = i.useRef(o),
          [m, u] = i.useState(t.gift_info?.gift_message?.signature || ""),
          d = i.useRef(m),
          p = (0, ge._g)(3e3),
          { mutate: _ } = (0, a.CM)(),
          g = i.useCallback(
            (e) => {
              p(() =>
                _({
                  lineItemID: t.line_item_id,
                  lineItemFlags: t.flags,
                  giftInfo: e,
                }),
              );
            },
            [_, t.line_item_id, t.flags, p],
          );
        return (
          (0, i.useEffect)(() => {
            (s.current == n && c.current == o && d.current == m) ||
              (g({
                accountid_giftee: t.gift_info?.accountid_giftee,
                gift_message: { message: o, signature: m },
                time_scheduled_send: n,
              }),
              (s.current = n),
              (c.current = o),
              (d.current = m));
          }, [o, m, n, g, t.gift_info?.accountid_giftee]),
          i.createElement(it, {
            id: t.line_item_id,
            message: o,
            onMessageChange: l,
            signature: m,
            onSignatureChange: u,
            scheduledTime: n,
            onScheduledTimeChange: r,
          })
        );
      }
      function rt(e) {
        const { giftInfo: t, onChange: n } = e;
        return i.createElement(it, {
          id: "cart",
          message: t.gift_message?.message || "",
          onMessageChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, message: e } }),
          signature: t.gift_message?.signature || "",
          onSignatureChange: (e) =>
            n({ ...t, gift_message: { ...t.gift_message, signature: e } }),
          scheduledTime: t.time_scheduled_send,
          onScheduledTimeChange: (e) => n({ ...t, time_scheduled_send: e }),
        });
      }
      const at = 160;
      function it(e) {
        const {
            id: t,
            message: n,
            onMessageChange: r,
            signature: a,
            onSignatureChange: s,
            scheduledTime: o,
            onScheduledTimeChange: l,
            onBlur: c,
          } = e,
          m = at - n.length,
          [u, d] = i.useState(!1),
          { data: p } = (0, Oe.js)(b.iA.accountid);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            ot,
            null,
            i.createElement(
              mt,
              null,
              (0, S.PP)(
                "#Cart_GiftDelivery_Body",
                i.createElement(
                  "span",
                  { className: m <= 0 ? be().RedText : null },
                  m,
                ),
              ),
            ),
            i.createElement(E.Cl, {
              nMinHeight: 50,
              className: be().GiftNoteInput,
              value: n,
              onBlur: c,
              onChange: (e) => r(e.target.value),
            }),
          ),
          i.createElement(
            ot,
            null,
            i.createElement(
              "div",
              { className: be().GiftFormRecipient },
              i.createElement(mt, null, (0, S.we)("#Cart_GiftDelivery_From")),
              i.createElement(Fe.i8, {
                className: be().FriendAvatar,
                statusPosition: "right",
                persona: p,
              }),
              " ",
              p?.m_strPlayerName || "",
              !u &&
                i.createElement(
                  ut,
                  { onClick: () => d(!0) },
                  "(",
                  (0, S.we)("#Cart_GiftDelivery_AddSignature"),
                  ")",
                ),
            ),
          ),
          u &&
            i.createElement(
              ot,
              null,
              i.createElement(
                mt,
                null,
                (0, S.we)("#Cart_GiftDelivery_Signature"),
              ),
              i.createElement(E.pd, {
                value: a,
                className: be().GiftSignatureInput,
                onChange: (e) => s(e.target.value),
                onBlur: c,
                maxChars: at,
              }),
            ),
          i.createElement(Le, { scheduledTime: o, onScheduledTimeChange: l }),
        );
      }
      function st(e) {
        return i.createElement(
          "div",
          { className: be().GiftFormCtn },
          e.children,
        );
      }
      function ot(e) {
        return i.createElement(
          "div",
          { className: be().GiftFormSection },
          e.children,
        );
      }
      function lt(e) {
        return i.createElement(
          "div",
          { className: be().GiftFormRecipient },
          e.children,
        );
      }
      function ct(e) {
        return i.createElement(
          "div",
          { className: be().GiftRadioRow },
          e.children,
        );
      }
      function mt(e) {
        return i.createElement(
          "div",
          { className: be().FormTextLabel },
          e.children,
        );
      }
      function ut(e) {
        return i.createElement(_.Z, {
          onActivate: e.onClick,
          children: e.children,
          className: be().LinkButton,
        });
      }
      function dt(e) {
        const { gifteeAccountID: t } = e,
          { isLoading: n, data: r } = (0, o.vo)(!0);
        if (n || r.is_not_member_of_any_group() || 2 === r.role()) return null;
        const a = Je.b2
          .InitFromAccountID(t, b.TS.EUNIVERSE)
          .ConvertTo64BitString();
        return r
          .family_group()
          .members()
          .some((e) => e.steamid() === a && 2 === e.role())
          ? i.createElement(
              "div",
              { className: be().FamilyGiftNotice },
              " ",
              (0, S.we)("#Cart_FamilyGift_Notice"),
            )
          : null;
      }
      var pt = n(79443),
        _t = n(42701),
        gt = n(22837),
        ft = n(81393),
        ht = n(43527),
        Et = n(50829),
        Ct = n(97232);
      function It(e) {
        const {
            lineItem: t,
            storeItem: n,
            couponApplied: r,
            availableCoupons: s,
          } = e,
          [{ bDialogActive: o, strDialogTitle: l }, c] = i.useState({
            bDialogActive: !1,
          }),
          m = (0, a.CM)();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(wt, {
            couponApplied: r,
            numAvailable: s.length,
            onModifyClick: () =>
              c({
                bDialogActive: !0,
                strDialogTitle: (0, S.we)(
                  r ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
                ),
              }),
          }),
          i.createElement(vt, {
            active: o,
            title: l || (0, S.we)("#Cart_CouponModify_Add"),
            packageName: n.GetName(),
            onRequestClose: () => c({ bDialogActive: !1 }),
            couponApplied: r,
            availableCoupons: s,
            onCouponChange: (e) => {
              m.mutate({
                lineItemID: t.line_item_id,
                giftInfo: t.gift_info,
                lineItemFlags: { ...t.flags },
                gidCoupon: e,
              });
            },
          }),
        );
      }
      function wt(e) {
        const { couponApplied: t, numAvailable: n, onModifyClick: r } = e,
          a = (0, S.we)(
            t ? "#Cart_CouponModify_Change" : "#Cart_CouponModify_Add",
          );
        return i.createElement(
          "div",
          { className: Et.CouponPickerRowGlow },
          i.createElement(
            "div",
            { className: Et.CouponPickerRow },
            t ? i.createElement(yt, { ...t }) : null,
            i.createElement(Lt, null, (0, S.Yp)("#Cart_CouponAvailability", n)),
            i.createElement(
              "div",
              { className: Et.ModifyLink },
              i.createElement(ut, { onClick: r }, a),
            ),
          ),
        );
      }
      function yt(e) {
        const { large_icon_url: t, title: n } = e;
        return i.createElement("img", {
          className: Et.CouponRepresentation,
          src: t,
          title: n,
        });
      }
      function vt(e) {
        const {
            active: t,
            onRequestClose: n,
            packageName: r,
            title: a,
            couponApplied: s,
            availableCoupons: o,
            onCouponChange: l,
          } = e,
          [c, m] = i.useState(s?.gidcoupon || "");
        return i.createElement(
          je.mt,
          { active: t, onDismiss: n },
          i.createElement(E.Y9, null, a),
          i.createElement(
            E.a3,
            null,
            (0, S.PP)(
              "#Cart_SelectCouponToApply",
              i.createElement("span", { className: Et.PackageName }, r),
            ),
          ),
          i.createElement(St, {
            availableCoupons: o,
            couponApplied: s?.gidcoupon,
            couponSelected: c,
            onSelectedChange: m,
          }),
          i.createElement(E.CB, {
            onCancel: n,
            onOK: () => {
              n(), l(c || gt.kF);
            },
            strOKText: (0, S.we)("#Button_Done"),
          }),
        );
      }
      function St(e) {
        const {
            availableCoupons: t,
            couponApplied: n,
            couponSelected: r,
            onSelectedChange: s,
          } = e,
          { data: o } = (0, a.g7)(),
          l = (o?.cart_items || []).map((e) => e.coupon_applied?.gidcoupon);
        return i.createElement(
          "div",
          { className: Et.CouponListContainer },
          t.map((e) =>
            i.createElement(bt, {
              key: e.gidcoupon,
              ...e,
              applied: n === e.gidcoupon,
              selected: r === e.gidcoupon,
              inUse: l.includes(e.gidcoupon),
              onSelected: (t) => s(t ? e.gidcoupon : ""),
            }),
          ),
        );
      }
      function bt(e) {
        const {
            applied: t,
            inUse: n,
            selected: r,
            large_icon_url: a,
            title: s,
            discount_pct: o,
            onSelected: l,
          } = e,
          c = !t && n,
          m = c ? void 0 : () => l(!r);
        return i.createElement(
          "div",
          {
            className: (0, L.A)(Et.CouponListItem, c && Et.Disabled),
            onClick: m,
          },
          i.createElement(Tt, { checked: r, hidden: c }),
          i.createElement("img", { src: a, title: s, className: Et.Image }),
          i.createElement(
            "div",
            { className: Et.Info },
            t && i.createElement(Lt, null, (0, S.we)("#Cart_Coupons_Applied")),
            c && i.createElement(Lt, null, (0, S.we)("#Cart_Coupons_InUse")),
          ),
          i.createElement("div", { className: Et.Discount }, "-", o, "%"),
        );
      }
      function Lt(e) {
        return i.createElement(
          "div",
          { className: Et.CouponInfoText },
          e.children,
        );
      }
      function Tt(e) {
        const { checked: t, hidden: n } = e;
        return i.createElement(
          "div",
          { className: (0, L.A)(Et.Checkbox, n && Et.Hidden) },
          t && i.createElement(Ct.Jl, null),
        );
      }
      var Nt = n(98362),
        At = n(71460),
        Dt = n.n(At),
        Bt = n(11543),
        Rt = n.n(Bt);
      function Gt() {
        const [e, t] = i.useState(null);
        return (
          i.useEffect(() => {
            t((0, a.Vh)()?.rgUserCountryOptions);
          }, []),
          e
            ? i.createElement(
                "div",
                {
                  className: (0, L.A)(
                    Rt().EstimatedTotalFlex,
                    Dt().UserCountrySelector,
                  ),
                },
                i.createElement(
                  "div",
                  { className: Rt().CartLabelText },
                  (0, S.we)("#Cart_UserCountrySelector"),
                ),
                i.createElement(
                  "div",
                  { className: Rt().CartValueText },
                  i.createElement(Mt, { rgCountryOptions: e }),
                ),
              )
            : null
        );
      }
      function Mt(e) {
        const { rgCountryOptions: t } = e,
          [n, r] = i.useState(b.TS.COUNTRY),
          a = i.useMemo(
            () => Object.keys(t).map((e) => ({ label: t[e], data: e })),
            [t],
          ),
          s = i.useCallback((e) => {
            e.data != b.TS.COUNTRY &&
              PresentCountryCurrencyChangeDialog("help" == e.data),
              r(e.data);
          }, []);
        return i.createElement(E.m, {
          selectedOption: n,
          onChange: s,
          rgOptions: a,
          contextMenuPositionOptions: { bMatchWidth: !1 },
        });
      }
      var Ft = n(7151),
        Ot = n(70343),
        Pt = n(10247);
      function kt(e) {
        const { children: t } = e;
        return i.createElement(xt, null, t);
      }
      function xt(e) {
        const { children: t } = e,
          n = (0, a.UI)(),
          { data: r } = (0, a.Ck)(),
          s = n.isLoading || !n.data,
          o = (0, ve.Qn)(),
          [l, c] = (0, Pt.fg)(),
          { sortedLineItems: m, bCartIncludesGifts: u } = i.useMemo(() => {
            const e = n?.data?.line_items || [],
              t = e.some((e) => e.flags?.is_gift);
            return {
              sortedLineItems: e.sort((e, t) => {
                const n = e.bundleid ?? e.packageid,
                  r = t.bundleid ?? t.packageid;
                return e.time_added == t.time_added
                  ? n < r
                    ? 1
                    : -1
                  : e.time_added < t.time_added
                    ? 1
                    : -1;
              }),
              bCartIncludesGifts: t,
            };
          }, [n?.data?.line_items]),
          d = i.useCallback(
            (e) =>
              i.createElement(zt, {
                ...e,
                availableCoupons: (r && r[e.lineItem.line_item_id]) || [],
              }),
            [r],
          ),
          { data: p } = (0, a.g7)();
        return i.createElement(
          Nt.wW,
          { validateCart: p },
          i.createElement(Nt.ZZ, null),
          i.createElement(
            _.Z,
            { className: Rt().ShoppingCartCtn },
            i.createElement(
              _.Z,
              { className: Rt().ShoppingCartLeftCol },
              s && i.createElement(Ot.UD, null),
              !!l &&
                i.createElement(
                  C.tH,
                  null,
                  i.createElement(
                    N,
                    null,
                    i.createElement(Xe, { giftInfo: l, onChange: c }),
                  ),
                ),
              i.createElement(
                C.tH,
                null,
                i.createElement(Ft.p, {
                  lineItems: m,
                  cartValidation: p,
                  LineItemContainer: d,
                }),
              ),
              i.createElement(Nt.LP, null),
              !o &&
                i.createElement(
                  "div",
                  { className: Rt().ResponsiveShoppingCartSummary },
                  i.createElement(Ut, {
                    bCartIncludesGifts: u,
                    strEstimatedTotal:
                      p?.estimated_totals?.subtotal.formatted_amount,
                  }),
                ),
              t && t({ cart: n.data, validatedCart: p }),
            ),
            i.createElement(
              _.Z,
              {
                className: (0, L.A)(
                  Rt().ShoppingCartRightCol,
                  m?.length <= 2 && Rt().SmallCart,
                ),
              },
              i.createElement(
                "div",
                { className: Rt().CartRightColStickyCtn },
                i.createElement(Ut, {
                  bCartIncludesGifts: u,
                  strEstimatedTotal:
                    p?.estimated_totals?.subtotal.formatted_amount,
                }),
                i.createElement(jt, null),
              ),
            ),
          ),
        );
      }
      function zt(e) {
        const {
            lineItem: t,
            storeItem: n,
            validatedItem: r,
            availableCoupons: a,
            children: s,
          } = e,
          [o] = (0, Pt.Ez)(),
          l = "gifts" === o && !!t.flags.is_gift,
          c = !!a.length;
        return i.createElement(
          _.Z,
          null,
          i.createElement(
            Ot.Rz,
            null,
            s,
            l && i.createElement($e, { storeItem: n, lineItem: t }),
          ),
          c &&
            i.createElement(It, {
              storeItem: n,
              lineItem: t,
              couponApplied: r?.coupon_applied,
              availableCoupons: a,
            }),
        );
      }
      const Ut = (0, C.Nr)(function (e) {
        const { strEstimatedTotal: t, bCartIncludesGifts: n } = e,
          r = (0, a.UI)(),
          s = (0, a.g7)(),
          o = s.isSuccess && s.data.cart_items.every((e) => !e.errors),
          [l, c] = (0, Pt.Ez)(),
          m = (0, a.EJ)(),
          u = (0, a.uQ)(s.data),
          d =
            r.isSuccess &&
            r.data.line_items.some(
              (e) => e.flags?.is_gift && !e.gift_info?.accountid_giftee,
            ),
          p =
            b.iA.logged_in &&
            (("initial" === l && !n && !o) ||
              ("gifts" === l && (!o || d)) ||
              (r.isSuccess && 0 == r.data.line_items.length));
        let _;
        return (
          (_ = b.iA.logged_in
            ? n && "initial" == l && !m
              ? "gifts"
              : "checkout"
            : "login"),
          i.createElement(
            "div",
            { className: Rt().CartSummaryCtn },
            i.createElement(C.tH, null, i.createElement(Gt, null)),
            i.createElement(
              "div",
              {
                className: (0, L.A)(
                  Rt().EstimatedTotalFlex,
                  Rt().SummaryMarginBottom,
                ),
              },
              i.createElement(
                "div",
                { className: Rt().CartLabelText },
                (0, S.we)("#Cart_EstimatedTotal"),
              ),
              i.createElement("div", { className: Rt().CartValueText }, t),
            ),
            i.createElement(
              "div",
              {
                className: (0, L.A)(
                  Rt().CartNoteText,
                  Rt().SummaryMarginBottom,
                ),
              },
              (0, S.we)("#Cart_Note_SalesTax"),
            ),
            i.createElement(
              C.wC,
              null,
              i.createElement(Wt, {
                bDisabled: p,
                nextStep: _,
                bGuestOption: u,
              }),
              i.createElement(Vt, { disabled: p || n }),
              i.createElement(qt, { bDisabled: p }),
            ),
          )
        );
      });
      function Wt(e) {
        const { bDisabled: t, nextStep: n, bGuestOption: r } = e,
          o = (0, a.jY)(),
          l = (0, s.W6)(),
          [c, m] = (0, Pt.Ez)(),
          u = (0, _t.j4)();
        let d = gt.kF;
        (0, pt.kx)(u) && (d = u.gid);
        const p = (function (e) {
            return "login" == e
              ? (0, S.we)("#Cart_ContinueButton_Payment")
              : "gifts" == e
                ? (0, S.we)("#Cart_ContinueButton_Gifts")
                : "checkout" == e
                  ? (0, S.we)("#Cart_ContinueButton_Payment")
                  : ((0, ft.z)(e, "unhandled step"), "");
          })(n),
          _ = (0, L.A)(Rt().CartSummaryBtn, Rt().SummaryMarginBottom);
        return i.createElement(
          E.jn,
          {
            disabled: t,
            className: _,
            onClick: () => {
              switch (n) {
                case "login":
                  if (d != gt.kF && r) {
                    const e =
                      b.TS.STORE_CHECKOUT_BASE_URL +
                      "checkout?purchasetype=self&cart=" +
                      d;
                    (0, I.pZ)(e, r);
                  } else (0, I.vg)();
                  break;
                case "gifts":
                  m("gifts"), l.push(ht.B.ShoppingCartGifts());
                  break;
                case "checkout":
                  location.href = o;
                  break;
                default:
                  (0, ft.z)(n, "unhandled step");
              }
            },
          },
          p,
        );
      }
      function jt() {
        const e = `${b.TS.STORE_BASE_URL}subscriber_agreement/`;
        return i.createElement(
          _.Z,
          { className: Rt().LicenseContextCtn },
          i.createElement("img", {
            src: `${b.TS.IMG_URL}/checkout/computer.png`,
          }),
          i.createElement(
            "div",
            { className: Rt().LicenseTitle },
            (0, S.we)("#Cart_LicenseContextTitle"),
          ),
          i.createElement(
            "div",
            { className: Rt().LicenseLink },
            (0, S.PP)(
              "#Cart_LicenseContextLink",
              i.createElement(
                "a",
                { href: e },
                (0, S.we)("#Cart_LicenseContextSSA"),
              ),
            ),
          ),
        );
      }
      function qt(e) {
        const { bDisabled: t } = e,
          n = (0, o.vo)(),
          r = (0, a.sI)(),
          s = (0, a.F$)(),
          l = (0, o.Ke)(n.data?.family_groupid(), r, 1);
        return s
          ? i.createElement(
              E.$n,
              {
                disabled: t,
                className: (0, L.A)(
                  Rt().CartSummaryBtn,
                  Rt().SummaryMarginBottom,
                ),
                onClick: () => {
                  l.mutate(void 0, {
                    onSuccess: () => {
                      location.href = `${b.TS.STORE_BASE_URL}account/familymanagement?tab=requests`;
                    },
                  });
                },
              },
              (0, S.we)("#Cart_DeclinePurchaseRequest"),
            )
          : null;
      }
      function Vt(e) {
        const { disabled: t } = e,
          n = (0, o.vo)(),
          r = n.data?.family_groupid(),
          s = (0, o.Yc)(r, b.iA.country_code),
          l = (0, a.S0)(),
          [c, m] = i.useState(!1);
        return l
          ? i.createElement(
              "div",
              {
                className: (0, L.A)(
                  Rt().RequestPurchaseCtn,
                  Rt().SummaryMarginBottom,
                ),
              },
              i.createElement(
                E.jn,
                {
                  disabled: t || c,
                  className: (0, L.A)(Rt().CartSummaryBtn),
                  onClick: () => {
                    t ||
                      c ||
                      (m(!0),
                      s.mutate(void 0, {
                        onSuccess: () => {
                          window.location.assign((0, o.Vo)(r));
                        },
                      }));
                  },
                },
                (0, S.we)("#Cart_RequestPurchase"),
              ),
              i.createElement(
                "div",
                null,
                (0, S.we)("#Cart_RequestPurchaseExplanation"),
              ),
            )
          : null;
      }
      var Zt = n(50438);
      function Ht(e) {
        const t = Xt(),
          n = (function () {
            const e = (0, s.zy)();
            return (0, i.useMemo)(() => {
              let t = new URLSearchParams(e.search);
              if (t.get("gidreplay"))
                return { type: "replay", gid: t.get("gidreplay") };
              if (b.iA.logged_in) return { type: "account", global: !0 };
              const n = "shoppingCartGID";
              return { type: "anonymous", gid: (0, v.VY)(n), global: !0 };
            }, [e.search]);
          })();
        (0, h.YM)();
        let r = null;
        return (
          (r = t
            ? "replay" == n.type
              ? i.createElement(Kt, { cartID: n })
              : i.createElement(Yt, { cartID: n, ...e })
            : i.createElement(y.t, { position: "center", msDelayAppear: 250 })),
          i.createElement(i.Fragment, null, i.createElement(Qt, null), r)
        );
      }
      function Qt() {
        return (0, l.Pt)(), (0, o.vo)(), null;
      }
      function Yt(e) {
        const { cartID: t, initialStep: n = "initial" } = e,
          [r, a] = i.useState(n),
          s = (function (e) {
            if ("gifts" === e) return (0, S.we)("#Cart_GiftOptions");
            return (0, S.we)("#Cart_YourShoppingCart");
          })(r);
        return i.createElement(
          Jt,
          { cartID: t, title: s, step: r, onStepChange: a },
          ({ cart: e, validatedCart: t }) =>
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                C.tH,
                null,
                i.createElement(en, {
                  isCartEmpty: !e || 0 === e.line_items.length,
                  cart: t,
                }),
              ),
              i.createElement(
                C.tH,
                null,
                i.createElement(te, { cart: e, validatedCart: t }),
              ),
            ),
        );
      }
      function Kt(e) {
        const { cartID: t } = e;
        return b.iA.logged_in
          ? i.createElement(
              Jt,
              {
                cartID: t,
                title: (0, S.we)("#Cart_Replay_SavedCart"),
                step: "initial",
                onStepChange: () => {},
              },
              () =>
                i.createElement(
                  N,
                  null,
                  (0, S.we)("#Cart_Replay_Instructions", 72),
                ),
            )
          : i.createElement(I.Cg, null);
      }
      function Jt(e) {
        const {
            children: t,
            cartID: n,
            title: r,
            step: a,
            onStepChange: s,
            ...o
          } = e,
          l = (function (e) {
            if ("gifts" === e)
              return i.createElement(
                i.Fragment,
                null,
                "> ",
                i.createElement(
                  "a",
                  { href: b.TS.STORE_BASE_URL + "cart" },
                  (0, S.we)("#Cart_YourShoppingCart"),
                ),
              );
            return null;
          })(a);
        return i.createElement(
          p,
          null,
          i.createElement(
            w.A,
            { controller: "cart", method: "display", submethod: a },
            i.createElement(
              Pt.iZ,
              { cartID: n, step: a, setStep: s, ...o },
              i.createElement($t, null),
              i.createElement(
                "div",
                { className: Rt().ShoppingCartPage },
                i.createElement(
                  "div",
                  { className: Rt().ShoppingCartBreadcrumbs },
                  i.createElement(
                    "a",
                    { href: b.TS.STORE_BASE_URL },
                    (0, S.we)("#Cart_Bradcrumb_Home"),
                  ),
                  " ",
                  l,
                  " ",
                  i.createElement(
                    "span",
                    { className: Rt().CurrentBreadcrumb },
                    "> ",
                    r,
                  ),
                ),
                i.createElement(
                  "div",
                  { className: Rt().ShoppingCartHeader },
                  r,
                ),
                i.createElement(kt, null, t),
              ),
            ),
          ),
        );
      }
      function Xt() {
        const [e, t] = i.useState(!1);
        return (
          i.useEffect(() => {
            e || (0, Zt.U)().then(() => t(!0));
          }, [e]),
          e
        );
      }
      function $t(e) {
        const t = (function () {
          const e = i.useRef(""),
            t = (0, a.UI)(),
            { data: n } = (0, a.g7)(),
            r = !e.current;
          let s = g.sc,
            o = -1;
          if (r && void 0 !== n) {
            const e = t.data?.line_items || [],
              n = e.length
                ? e.reduce((e, t) => (e.time_added > t.time_added ? e : t))
                : null;
            (s = n?.bundleid || n?.packageid || g.sc),
              (o = s === n?.bundleid ? 2 : 1);
          }
          const [l] = (0, h.G6)(s, o, a.xz);
          if (l && r) {
            const t = f.A.Get(),
              n = l.GetIncludedAppIDs();
            for (const r of n) {
              const n = t.GetApp(r);
              if (!n) continue;
              const a = n.GetAssets().GetPageBackgroundURL();
              if (a) {
                e.current = a;
                break;
              }
            }
          }
          return e.current;
        })();
        return i.createElement("div", {
          className: Rt().BackgroundImage,
          style: t ? { backgroundImage: `url("${t}")` } : null,
        });
      }
      function en(e) {
        const { isCartEmpty: t, cart: n } = e;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(nn, null),
          !t && i.createElement(B, { cart: n }),
          i.createElement(
            _.Z,
            { "flow-children": "row", className: Rt().CartFooter },
            i.createElement(
              "div",
              null,
              i.createElement(
                E.$n,
                {
                  onClick: () => (window.location.href = b.TS.STORE_BASE_URL),
                  className: Rt().Button,
                },
                (0, S.we)("#Cart_ContinueShopping"),
              ),
            ),
            !t && i.createElement(tn, null),
          ),
        );
      }
      function tn() {
        const e = (0, r.Z)();
        return i.createElement(
          ut,
          { onClick: () => e.mutate() },
          (0, S.we)("#Cart_RemoveAll"),
        );
      }
      function nn() {
        return b.TS.IN_MOBILE_WEBVIEW
          ? i.createElement(
              N,
              { className: Rt().BetaNotice },
              i.createElement(
                "div",
                { className: Rt().Icon },
                i.createElement(
                  "svg",
                  {
                    width: "31",
                    height: "34",
                    viewBox: "0 0 31 34",
                    fill: "none",
                    xmlns: "http://www.w3.org/2000/svg",
                  },
                  i.createElement("path", {
                    d: "M25.3961 12.8759L22.738 22.5112C22.6109 22.9968 22.3261 23.4263 21.9284 23.7325C21.5307 24.0386 21.0426 24.204 20.5407 24.2027H11.1395C10.6503 24.2032 10.1741 24.0453 9.78207 23.7526C9.39006 23.46 9.10332 23.0483 8.96472 22.5792L5.71017 12.8759H1.51172V9.85547H6.25385C6.7284 9.85636 7.1907 10.0063 7.57548 10.284C7.96026 10.5618 8.24811 10.9533 8.39838 11.4035L8.89676 12.9137L25.3961 12.8759ZM11.3282 27.2232C10.9549 27.2232 10.5899 27.3339 10.2794 27.5413C9.96899 27.7487 9.72703 28.0436 9.58414 28.3885C9.44126 28.7335 9.40388 29.113 9.47672 29.4792C9.54956 29.8454 9.72935 30.1818 9.99336 30.4458C10.2574 30.7098 10.5937 30.8896 10.9599 30.9625C11.3261 31.0353 11.7057 30.9979 12.0507 30.855C12.3956 30.7122 12.6904 30.4702 12.8979 30.1597C13.1053 29.8493 13.216 29.4843 13.216 29.1109C13.216 28.6103 13.0171 28.1301 12.6631 27.7761C12.3091 27.422 11.8289 27.2232 11.3282 27.2232ZM20.3896 27.2232C20.0163 27.2232 19.6513 27.3339 19.3408 27.5413C19.0304 27.7487 18.7884 28.0436 18.6455 28.3885C18.5027 28.7335 18.4653 29.113 18.5381 29.4792C18.611 29.8454 18.7908 30.1818 19.0548 30.4458C19.3188 30.7098 19.6551 30.8896 20.0213 30.9625C20.3875 31.0353 20.7671 30.9979 21.1121 30.855C21.457 30.7122 21.7518 30.4702 21.9593 30.1597C22.1667 29.8493 22.2774 29.4843 22.2774 29.1109C22.2774 28.6103 22.0785 28.1301 21.7245 27.7761C21.3705 27.422 20.8903 27.2232 20.3896 27.2232Z",
                    fill: "white",
                  }),
                  i.createElement("path", {
                    d: "M16.9883 17.8628L18.599 18.3772C18.8242 18.4457 18.9974 18.6172 19.0666 18.8401L19.5862 20.4346L20.1058 18.8401C20.1751 18.6172 20.3483 18.4457 20.5735 18.3772L22.1842 17.8628L20.5735 17.3484C20.3483 17.2799 20.1751 17.1084 20.1058 16.8855L19.5862 15.291L19.0666 16.8855C18.9974 17.1084 18.8242 17.2799 18.599 17.3484L16.9883 17.8628Z",
                    fill: "#1A9FFF",
                  }),
                  i.createElement("path", {
                    d: "M13.5938 14.8777L14.4078 15.1349C14.5117 15.1692 14.5983 15.2549 14.6329 15.3578L14.8927 16.1636L15.1525 15.3578C15.1872 15.2549 15.2738 15.1692 15.3777 15.1349L16.1917 14.8777L15.3777 14.6205C15.2738 14.5862 15.1872 14.5005 15.1525 14.3976L14.8927 13.5918L14.6329 14.3976C14.5983 14.5005 14.5117 14.5862 14.4078 14.6205L13.5938 14.8777Z",
                    fill: "#1A9FFF",
                  }),
                  i.createElement(
                    "g",
                    { opacity: "0.8" },
                    i.createElement("path", {
                      d: "M14.5352 6.07357L17.6444 7.07657C18.0707 7.20194 18.3967 7.55299 18.5471 7.97926L19.5501 11.0885L20.5531 7.97926C20.6785 7.55299 21.0296 7.22702 21.4558 7.07657L24.5651 6.07357L21.4558 5.07057C21.0296 4.9452 20.7036 4.59415 20.5531 4.16788L19.5501 1.05859L18.5471 4.16788C18.4218 4.59415 18.0707 4.92013 17.6444 5.07058L14.5352 6.07357Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M25.1016 2.57178L26.7123 3.08614C26.9375 3.15472 27.1106 3.32617 27.1799 3.54906L27.6995 5.14357L28.2191 3.54906C28.2884 3.32617 28.4616 3.15472 28.6867 3.08614L30.2975 2.57178L28.6867 2.05743C28.4616 1.98885 28.2884 1.81739 28.2191 1.59451L27.6995 -3.613e-07L27.1799 1.59451C27.1106 1.81739 26.9375 1.98885 26.7123 2.05743L25.1016 2.57178Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M28.4023 9.14038L29.2164 9.39756C29.3203 9.43185 29.4069 9.51758 29.4415 9.62045L29.7013 10.4263L29.9611 9.62045C29.9958 9.51758 30.0824 9.43185 30.1863 9.39756L31.0003 9.14038L30.1863 8.88321C30.0824 8.84891 29.9958 8.76319 29.9611 8.66032L29.7013 7.85449L29.4415 8.66032C29.4069 8.76319 29.3203 8.84891 29.2164 8.88321L28.4023 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M22.4609 10.4617L23.275 10.7189C23.3789 10.7531 23.4655 10.8389 23.5001 10.9417L23.7599 11.7476L24.0197 10.9417C24.0543 10.8389 24.1409 10.7531 24.2449 10.7189L25.0589 10.4617L24.2449 10.2045C24.1409 10.1702 24.0543 10.0845 24.0197 9.98161L23.7599 9.17578L23.5001 9.98161C23.4655 10.0845 23.3789 10.1702 23.275 10.2045L22.4609 10.4617Z",
                      fill: "#1A9FFF",
                    }),
                    i.createElement("path", {
                      d: "M11.8945 9.14038L12.7086 9.39756C12.8125 9.43185 12.8991 9.51758 12.9337 9.62045L13.1935 10.4263L13.4533 9.62045C13.4879 9.51758 13.5745 9.43185 13.6785 9.39756L14.4925 9.14038L13.6785 8.8832C13.5745 8.84891 13.4879 8.76319 13.4533 8.66032L13.1935 7.85449L12.9337 8.66032C12.8991 8.76319 12.8125 8.84891 12.7086 8.8832L11.8945 9.14038Z",
                      fill: "#1A9FFF",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: Rt().Text },
                (0, S.oW)(
                  "#Cart_GenericBetaNotice",
                  i.createElement(c.Ii, {
                    href: "https://steamcommunity.com/groups/SteamClientBeta/discussions/3/4038104598693698820/",
                  }),
                ),
              ),
            )
          : null;
      }
    },
    10247: (e, t, n) => {
      "use strict";
      n.d(t, { Ez: () => o, fg: () => l, iZ: () => c });
      var r = n(42701),
        a = n(90626);
      const i = a.createContext({ step: "initial", setStep: () => {} });
      function s() {
        return (0, a.useContext)(i);
      }
      function o() {
        const e = s();
        return [e.step, e.setStep];
      }
      function l() {
        const e = s();
        return [e.cartWideGiftInfo, e.onCartWideGiftInfoChange];
      }
      function c(e) {
        const {
            step: t,
            setStep: n,
            cartID: s,
            cartWideGiftInfo: o,
            onCartWideGiftInfoChange: l,
            children: c,
          } = e,
          m = a.useMemo(
            () => ({
              step: t,
              setStep: n,
              cartWideGiftInfo: o,
              onCartWideGiftInfoChange: l,
            }),
            [t, n, o, l],
          );
        return a.createElement(
          i.Provider,
          { value: m },
          a.createElement(r.h3, { cartID: s }, c),
        );
      }
    },
    44894: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => r });
      const r =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcJJREFUeNqkUz1PAkEQfStggjESejU0GozlGqn8SGywkYIYY0IsaLCwIBTQUN5fMLGm8S8QSWwslVAYjAlUBEJDhCgWwp3nzN6eHqIVl8zN7rx5b+dm9oRt25jlmcOMj59f10JAkPcBcXIGWdECyqYn6TfGdZ9S9d4K4gQYx4WCtJzE+G/sKJudwpQABUGnGSf5vKzX60jmctL8SYzz+iCdls1mEzuplMIsLSC4iSUh1ClUlpHIZGStVkM0GsVNqVRlIJZIyG63i1AohMdKpUrZRQqXz4j7LWA7VSiR/WRSNhsNRRgOh+i02wgGg3hrtRSZelLmI6cExs7nKJGVtTX50uupMn0+H157PUWmZpYDXLoWUFPo6MC87jivx4MBFtxOWZYS11VipNdT98DWDVsPh2XQNLFIMdc4xpg9OZ3JMdIpRowSXVKt36+yuXvGxn+N0XS+3zj0kG+JSPEi261H5FCLmN9lUyNWyZ+Qag54eA6Hbfa8j1A88g+2qrlqCkKIZdovbAG7m8D5E3B5D9xR7IPsk/u7DextABd14OrBwd6J23YFligQ0IPwXE7lbedXUAPya5yHMiLuq5j1d/4SYAAj3NATBGE4PgAAAABJRU5ErkJggg==";
    },
    54806: (e, t, n) => {
      "use strict";
      n.d(t, { E: () => g });
      var r = n(90626),
        a = n(86709),
        i = n(45747),
        s = n(74500),
        o = n(57168);
      function l(e, t) {
        return e.filter((e) => !t.includes(e));
      }
      var c = class extends s.Q {
          #e;
          #t;
          #n;
          #r;
          #a;
          #i;
          #s;
          constructor(e, t, n) {
            super(),
              (this.#e = e),
              (this.#n = []),
              (this.#r = []),
              (this.#t = []),
              this.setQueries(t);
          }
          onSubscribe() {
            1 === this.listeners.size &&
              this.#r.forEach((e) => {
                e.subscribe((t) => {
                  this.#o(e, t);
                });
              });
          }
          onUnsubscribe() {
            this.listeners.size || this.destroy();
          }
          destroy() {
            (this.listeners = new Set()),
              this.#r.forEach((e) => {
                e.destroy();
              });
          }
          setQueries(e, t, n) {
            (this.#n = e),
              a.j.batch(() => {
                const e = this.#r,
                  t = this.#l(this.#n);
                t.forEach((e) =>
                  e.observer.setOptions(e.defaultedQueryOptions, n),
                );
                const r = t.map((e) => e.observer),
                  a = r.map((e) => e.getCurrentResult()),
                  i = r.some((t, n) => t !== e[n]);
                (e.length !== r.length || i) &&
                  ((this.#r = r),
                  (this.#t = a),
                  this.hasListeners() &&
                    (l(e, r).forEach((e) => {
                      e.destroy();
                    }),
                    l(r, e).forEach((e) => {
                      e.subscribe((t) => {
                        this.#o(e, t);
                      });
                    }),
                    this.#c()));
              });
          }
          getCurrentResult() {
            return this.#t;
          }
          getQueries() {
            return this.#r.map((e) => e.getCurrentQuery());
          }
          getObservers() {
            return this.#r;
          }
          getOptimisticResult(e, t) {
            const n = this.#l(e),
              r = n.map((e) =>
                e.observer.getOptimisticResult(e.defaultedQueryOptions),
              );
            return [
              r,
              (e) => this.#m(e ?? r, t),
              () =>
                n.map((e, t) => {
                  const a = r[t];
                  return e.defaultedQueryOptions.notifyOnChangeProps
                    ? a
                    : e.observer.trackResult(a, (e) => {
                        n.forEach((t) => {
                          t.observer.trackProp(e);
                        });
                      });
                }),
            ];
          }
          #m(e, t) {
            return t
              ? ((this.#a && this.#t === this.#s && t === this.#i) ||
                  ((this.#i = t),
                  (this.#s = this.#t),
                  (this.#a = (0, o.BH)(this.#a, t(e)))),
                this.#a)
              : e;
          }
          #l(e) {
            const t = this.#r,
              n = new Map(t.map((e) => [e.options.queryHash, e])),
              r = e.map((e) => this.#e.defaultQueryOptions(e)),
              a = r.flatMap((e) => {
                const t = n.get(e.queryHash);
                return null != t
                  ? [{ defaultedQueryOptions: e, observer: t }]
                  : [];
              }),
              s = new Set(a.map((e) => e.defaultedQueryOptions.queryHash)),
              o = r.filter((e) => !s.has(e.queryHash)),
              l = (e) => {
                const t = this.#e.defaultQueryOptions(e);
                return (
                  this.#r.find((e) => e.options.queryHash === t.queryHash) ??
                  new i.$(this.#e, t)
                );
              },
              c = o.map((e) => ({ defaultedQueryOptions: e, observer: l(e) }));
            return a
              .concat(c)
              .sort(
                (e, t) =>
                  r.indexOf(e.defaultedQueryOptions) -
                  r.indexOf(t.defaultedQueryOptions),
              );
          }
          #o(e, t) {
            const n = this.#r.indexOf(e);
            -1 !== n &&
              ((this.#t = (function (e, t, n) {
                const r = e.slice(0);
                return (r[t] = n), r;
              })(this.#t, n, t)),
              this.#c());
          }
          #c() {
            a.j.batch(() => {
              this.listeners.forEach((e) => {
                e(this.#t);
              });
            });
          }
        },
        m = n(75233),
        u = n(22730),
        d = n(43424),
        p = n(19086),
        _ = n(44407);
      function g({ queries: e, ...t }, n) {
        const s = (0, m.jE)(n),
          o = (0, u.w)(),
          l = (0, d.h)(),
          g = r.useMemo(
            () =>
              e.map((e) => {
                const t = s.defaultQueryOptions(e);
                return (
                  (t._optimisticResults = o ? "isRestoring" : "optimistic"), t
                );
              }),
            [e, s, o],
          );
        g.forEach((e) => {
          (0, _.tu)(e), (0, p.LJ)(e, l);
        }),
          (0, p.wZ)(l);
        const [f] = r.useState(() => new c(s, g, t)),
          [h, E, C] = f.getOptimisticResult(g, t.combine);
        r.useSyncExternalStore(
          r.useCallback(
            (e) => (o ? () => {} : f.subscribe(a.j.batchCalls(e))),
            [f, o],
          ),
          () => f.getCurrentResult(),
          () => f.getCurrentResult(),
        ),
          r.useEffect(() => {
            f.setQueries(g, t, { listeners: !1 });
          }, [g, t, f]);
        const I = h.some((e, t) => (0, _.EU)(g[t], e))
          ? h.flatMap((e, t) => {
              const n = g[t];
              if (n) {
                const t = new i.$(s, n);
                if ((0, _.EU)(n, e)) return (0, _.iL)(n, t, l);
                (0, _.nE)(e, o) && (0, _.iL)(n, t, l);
              }
              return [];
            })
          : [];
        if (I.length > 0) throw Promise.all(I);
        const w = h.find((e, t) => {
          const n = g[t];
          return (
            n &&
            (0, p.$1)({
              result: e,
              errorResetBoundary: l,
              throwOnError: n.throwOnError,
              query: s.getQueryCache().get(n.queryHash),
            })
          );
        });
        if (w?.error) throw w.error;
        return E(C());
      }
    },
  },
]);
