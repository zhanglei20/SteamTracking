/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkstore = self.webpackChunkstore || []).push([
  [4268],
  {
    63292: (e) => {
      e.exports = {
        LanguageHeader: "_3lQvIyPYpaHHXs7hQOWgDs",
        CuratorInfoRow: "_3tR2dfU_Wenr_xcshy1wUY",
        CuratorInfoImg: "_1BVHFIbcMgjId-0ciy-1ob",
        CuratorInfoName: "_2X1CS5jZKk28-_m8wP08G8",
        CuratorInfoTitleCtn: "_3odsmWB7MUrxxcucBMYcgN",
        CuratorInfoActionCtn: "_2y3rSYHLpo0MERj2EMWQQ9",
        CuratorInfoPreview: "_1EbwpNpOWS4nmsjolxyUhi",
        CuratorInfoIcon: "_3Y0jFDFWk_msMNnvpgfjwB",
        CuratorInfoFollow: "_1I_eQgAgorxHE60P5m2zqq",
        CuratorHoverContainer: "_38fVPOADgxGJbfbw7jz_uG",
        CuratorHoverToolTip: "rSTyUxh3-fZYKih45mKb1",
      };
    },
    68224: (e) => {
      e.exports = {
        FeedSuggestContainerBG: "_3ICp4Zk0uKS3wBOo3rcx-6",
        FeedSuggestContainer: "_1420TVzKCePW589d4gqd4d",
        FeedSuggestCaption: "_38Zh0nmnrxXlh3yhtCnIPn",
        RowContainer: "_39bJZgNeIUX9mSWi0r8tNT",
        ClanInfo: "_2gUTgIVt7XIFc01CxohM9B",
        DismissButton: "_3YtGjvmV0WmN0i3sdMqGz2",
        BrowseMore: "_2nWAPvq239PI0lGHmtFmgc",
      };
    },
    10686: (e) => {
      e.exports = {
        strMaxMobileWidth: "700px",
        strMinMobileHeight: "360px",
        strDesktopControlBarWidth: "300px",
        strDesktopGlobalHeaderHeight: "104px",
        strMobileGlobalHeaderHeight: "62px",
        strDesktopLabsBannerHeight: "46px",
        strMobileLabsBannerHeight: "42px",
        strDesktopHubBannerHeight: "80px",
        strMobileHubBannerHeight: "80px",
        strJumboHubBannerHeight: "150px",
        strDesktopGroupHeaderHeight: "70px",
        strMobileGroupHeaderHeight: "37px",
        strMobileNavBannerHeight: "52px",
        strLogInBannerLargeHeight: "239px",
        strLogInBannerSmallHeight: "70px",
        HubBanner: "_2zTu0OPJoqo1BXb1J9pDJ2",
        LargeMode: "_3OnTrhLh97xov3GKenO-l_",
        CloseFilterPage: "_3XZe_jfTYppPFYW0hZ0LRl",
        ShowSettings: "_1qCUdL_PYKT0_bKFAFAWQa",
        ControlPageContainer: "_2LztMgS2eI0MWKHJ3v-l0H",
        FiltersTitle: "tQZ7I-5Bxpp4zpDf48imu",
        FiltersDescription: "_17nuaBuSlylN8eWUkcLsAv",
        SideSteamLabsBannerCtn: "_1UOp4B_Y4H72j2sToElzRf",
        SteamLabsIdentifiers: "_3SWqwk3OkmIyA0ID3h7V3G",
        SteamLabsName: "_1wILkHwglmD4JCdY_6Qw_H",
        SteamLabsNumber: "_2ByePau03c09GPc7l80smz",
        SteamLabsButton: "_3YoSz4AbfNlw05okAd2yQa",
        SteamLabsBanner: "_8sQflgMCSidxvEXBYL4n_",
        SteamLabsBannerCtn: "_3olyO1vhDEhoc4qwI4pDyt",
        SidebarContainer: "_15YLDKm80opUF5Tivo7UK-",
        SidebarCollapsed: "_3x2Igmho_SeKqPI3_cnWfG",
        CollapseButton: "_1RCioHSgo99b0iUemHy2OE",
        DesktopButton: "_2vMIlVM2BeWTC0m5_Ys2WN",
        SidebarBackground: "_1ZO60tnVO9UhZWFk1zLM4r",
        Sidebar: "_1nf0vlWuKk9Qn7ncHC5uhq",
        SidebarTitle: "_3uZE-tI5d1lF6NQwSrxauh",
        FilterControlPage: "_uX0hAa1v6coYNh6Al4D6",
        FilterOption: "_2LoObf7xShKZbZ1G71rR_3",
        FilterSubOption: "_2ctVaeTDGGfjh-pOjQ4ktO",
        SideBarFilterNavLinks: "fhYfjG7Ry-VB6uq75Ccbm",
        FilterLink: "_1zyVyzldzUj085oNa8Y0r1",
        NumberDisplay: "_23qmf5MYL9D2szWuV-txE2",
        FilterSettingsCtn: "_3CSX8aqaZna9ZM6WLxhZC3",
        OpenFilterSettings: "_3cMESjaODP5L2fXHzANkNT",
        SidebarBackLink: "_2NQEg_ngTN4otkyy-9VfGQ",
        MobileCloseButton: "_3Es2qlfJBkwe2Yqco9B1VL",
        FilterSection: "_34HOA5NqMETdKvOv8I0QPz",
        FilterSubSection: "_1Ko6oJ92gSqJKHJhVCi2Pc",
        FilterSubSectionTitle: "MeJhm7ZvNEcgMNrj4YyRg",
        ConfigPanelSteamLabs: "_3wJ-zapSyyDGYNL9munfGQ",
        ForceResponsiveLink: "_3dRqLQAbzE1yESy7-PmVZK",
        SidebarLink: "_2VFTM7o6Mn2fvJXYr9mSVo",
        SidebarManageMutedApps: "_2IWYfBr6LLolwVjYdZcBco",
        MutedSourcesGroup: "_2B7QL2HvQhNvxTElRnADjb",
        MutedSourcesCount: "_3nwCq_gduAro-qt7Kt3x6s",
        SidebarFooter: "_3sXsgTKq8xa1K7EYzNNOBq",
        FooterLegal: "_3YG_3Z8DhgeYtKBWrOkNAA",
        MobileButton: "_3cMvc6AfC8k2OaILY81XXB",
        BodyNoScroll: "_1d-cxT1sPNzIVcm8qsNT7o",
        EventCalendarContainer: "_1e3WbBz7-mqMKmK8HnpzFF",
        ReserveControlSpace: "_18npkDI3gKg9S7EeTFOj-2",
        WideLeftGutter: "ws9ANxmy2MKDDodGRGkqN",
        LogInFeedRow: "nydHEEVdYQNQyocchG2Kr",
        RowContainer: "_3yqpPRFLwr6ETVDgLGT37s",
        Loading: "_2XF_gSfLb9JlFYAqd0PRA8",
        LoadingProgress: "_2k5Q_MrQn9caFbIUp8eEdr",
        AdjustFiltersText: "gM9YyLCnVPfTKfy2_Hsue",
        Rows: "r3Dia2Yw2X-goqFn-_UPT",
        FutureSection: "_290nkT9By-jIKGFyKBcIn3",
        PastSection: "_3FpvGiwJqnukNOcrsKd_sN",
        DarkerBackground: "_1U2BW9tpHKOVi_TG0XvjT",
        EmptySectionText: "_3TwYr6FsLY9hGiZ2Ed5897",
        CalendarEventListRow: "_3m6GW1eCeaSg9ypsv0JVD9",
        CalendarEventListContainer: "_3QenzSfSDt0SQcUy8yeaD-",
        CalendarRow: "_398u23KF15gxmeH741ZSyL",
        EventListTitle: "_qpO2uX5bg1l7b0G2FbFI",
        GroupHeader: "_3j2deAP85R6gftsIWiHe7n",
        GroupHeaderTitle: "_2aVLRsz60HV81P8VKT3kQj",
        GroupHeaderLine: "bcTEUtZM5us_nPhh-83J9",
        SeeAllLink: "_28rp7N0KcAtfF3xtD0m2DZ",
        SeeAllCount: "IOckOLV5f75IljZ0DqXdX",
        HorizontalTileContainer: "muk0v4M7AjwCVox0Kk1Q6",
        HorizontalTiles: "_1YVOyhzWrYyfeINbwhHVqc",
        HeaderAtTop: "_2VZunYlTR5OcMdubo0AYh_",
        EndOfRows: "_1lK7p5C13fouRsvpdUxeya",
        BackToThePast: "_18uWsMJww9J9esJ56PvIGe",
        MobileSeeAllink: "_3yeVNRj7J_UtR-fgIDVAMr",
        NoCount: "_2qW89hLYPJtBAANjQ9kJR-",
        LiveText: "_14EbBf2Uz8VI7xVl0RuDue",
        UpdatePageBanner: "_1hWgY3UxRcdnjka_axlCxE",
        LoginPrompt: "_1EXXCsUBCckCnFzBip-EwP",
        LoginButton: "_1wuxXz1nGOaX_Hj3qnXchJ",
        SpecialEventListGroup: "_5UEq9U_QY0YTaXXOsSIV2",
        SpecialEventListTitle: "_2fFKiTlt1nFQb3dFvEaqWW",
        SpecialEventList: "_3AESvlyhJ0vmRThgNB6Ebb",
        SpecialEvent: "_2s-UQIMf5ZWwh4641BF6Vy",
        SpecialEventTitle: "_3xq6Fl5_4RS4LYFK0NJGY1",
        SpecialEventTime: "_3cGYpNuy_GrG8AK-OwuvIZ",
        NewsChannelGroup: "_3U5MYaJE0i8UYZ_pUzyNk7",
        NewsChannelListTitle: "_3X16Tg0OrHJJL36_8dwlHo",
        NewsChannelList: "_19CIwB_GEUli1IquP3CIHn",
        NewsChannel: "_1n4vpyqKJYF8lc1kW9fr8-",
        NewsChannelText: "_2NbubYs7clHa8InE5qSifq",
        NewsChannelCount: "_1HQl8PnDDWs3V4bob4bBNk",
        NewsChannelOnPage: "kJoC7bJXT-uU6GorEljio",
        NewsChannelTitle: "_11O61s8Pr7CrLbKxzm9VMK",
        NewsChannelSubtitle: "_3_CIMpiaZYsgSD9rEIImZh",
        DiscoverGroup: "kUY00QAjWvDLtDIbUN5A",
        NewsChannelIcon: "_2NCtvce1qaFUggZ9OFpf8N",
        SidePanelGameSearch: "_1LTVIwFRYJjiwzhWzSVOd4",
        MobileNavBannerCtn: "_20PrZ-yvcNH561NUmAH7_Y",
        SearchDismiss: "eIKAr3iSqLCgmFyiNryB2",
        SearchBox: "_2i8gkeopkt1mSdGiNXYmd-",
        SearchExpanded: "_3rn-PPTfKI7di5ILvkjVyy",
        SettingsPanel: "tifiV2QTtklqCycSc8RpW",
        MobileNavHScroll: "yps0ywc-By1zfTHujot5E",
        MobileNavBannerList: "_3xi45UCnCWYdn3vwsjNkYD",
        MobileNavButton: "_3kOf_98MdXe617YcQtkFO6",
        MobileNavCount: "_3m7pyQzrfOHXYdheEaL0oM",
        MobileNavButtonActive: "_2XXBax726YbJCKgIAAgPhM",
        CalendarEventList: "_3Pm1aWPIBv2SjplauZbDnI",
        LogInSmallMode: "_21ANYFXCED2fJk0gtzrBci",
        LogInFeedText: "_3HgPBoJHm2b4URrMDxMeAs",
        PromptCtn: "_19gywKI5KqBR4uSRoXMxmB",
        LogInFeedTitle: "cmQc676wTF0GVI4iDpw_g",
        LogInButton: "_35WTOIomH5SPesM-UbjHBB",
        LazyCalendarSectionCtn: "_1_BP6N2tGh4484bcmYnZeX",
        TimeEventRow: "_2JQL9twuHonw_iuvnsdVBi",
        TimeEventLastPlayed: "_1QplXJ_L-d0BqrYdzD7uSN",
        TimeEventWishlisted: "_3_HujJS7DVArS8dgqixpOJ",
      };
    },
    57688: (e) => {
      e.exports = {
        simpleTitleSmallHeight: "80",
        simpleTitleLargeHeight: "200",
        SimpleTitleHeaderCtn: "_3VhPz9bkSXYdTyrsNHyclF",
        CollectionBannerGroup: "XKrAaB35oi_F1FfPvgMIe",
        AppBannerLogoCtn: "_1Vrsgns9yWeU55IkUV47iw",
        SimpleTitleCtn: "zWLw0Q_JjKfhgFgSDvBu1",
        Title: "_1_MCH_a2eJssfIIs2ipZjw",
        Subtitle: "_2Ym_jx4AIkRhj7T0qvKwhx",
        LargeHeader: "_1Y7af9n7NgyJVP8OA1voO5",
        NoHeaderImg: "_1wnpWYTPyd-qnyinYlNKwa",
        AppBannerLogo: "QDuRwp2w0MLb6hWd0_HT8",
      };
    },
    72978: (e) => {
      e.exports = {
        narrowWidth: "500px",
        GameTitleContainer: "WHJ_WMTSDKqO4yn_MLrau",
        AppIcon: "_3gwk6hFh7bUc2K174mzjyQ",
        TileTextAppName: "_71phFKOzg8aQlBU1rCA2T",
        EnableHovers: "_2BniJe0boLDKV9lwtWTCtm",
        TileContainer: "_1E3Anhs34BXsWWWqH4RNPL",
        CoverImageCtn: "_3HF9tOy_soo1B_odf1XArk",
        GameShortDescription: "_3Se1TZA5yo9V-vrUszNDAI",
        LiveText: "RNDf0d63hDSUu28sIkteH",
        LiveNow: "EVDkYKG_ikfyfH16lmQ-1",
        FutureDateText: "_2xdhMrjKEposPfgPK9UPe-",
        PastDateText: "_4-fqVd8yRSHEAjj7Hkx_V",
        GameSource: "vfv1QjSe1vEobRaHWlf3",
        SourceList: "_3BIx7glwN6Q0_mUUMyFyHu",
        Source: "_2lYFqIB0i1IONPFV4BTvfl",
        RecommendedSource: "_3ayJyXzZoAWy8wXs6YlftR",
        SourceRecommended: "_1yaRLkRkzjuw8xLjPX-zlc",
        DateAndSourceLine: "_2xxMBw-_ndXEC-SIBejGuu",
        EventTypeAndDateCtn: "sUBHF-Qdb_RUPYOBkgO1a",
        LeaveRoomForReminder: "_3djUmSsXnHX2qN5HdooYJz",
        SmallAppName: "_1-Jl_evfBGuwaMNm1CNSR5",
        TileTextCategoryType: "_1LkWXJVxWYdKiKf2Mxq3zs",
        EventType28: "_1qGfEmcWJdG1dp2gDhH7oP",
        EventType10: "_22QY5O4_i6LqHbtIXgilEV",
        EventType11: "_2Gv13-3mXe6Q4QJmTs3mNX",
        EventType23: "_590_lEtmh8atjjKVBT9t7",
        EventType35: "_2wHiBVvtv56AMUWeVWRbuz",
        EventType13: "_2D0ZNOuC3rrY9bf_BY1msw",
        EventType14: "_2mVdtaB_oY5b1fladlbBaM",
        EventType15: "_2Xke62sWB6bPMJuv72Qkw8",
        Tile: "_3xvUZtQ1j-pu-l2xy-lFAq",
        MainContentContainer: "_2pq2vP5kJ_wI2nw-igwJXF",
        YoutubePreviewImage: "_1UgZvqy4xNDdu4gJ6tlT-Q",
        TileImage: "d8bPiEt0DUII_mRqek_ht",
        TileTextContainer: "_3IQK4rcEU5IYtZuW-Ogsgu",
        EventType12: "_2X_hMZpqI8fyqbeFPi4JPj",
        EventName: "_1M8-Pa3b3WboayCgd5VBJT",
        EventSubTitle: "_1JjUp7sfpntpaOqu1_lyvO",
        GameCapsuleCtn: "_3HJFiuJiM5fUKk0czInoZg",
        AppBannerLogo: "u8z1m_ainssHj7AbLKOZs",
        FallbackImage: "_9rv9PL7ZWe4vZofYqYl3M",
        ClanSource: "_17Iog8CXlR0s8DuWS0rD0n",
        TileTextHeader: "_3-0KOhYVQX2zIP3z-jCAdu",
        PatchIconCtn: "Fm9_5yqk4wkh8BTsDC7CU",
        EventTitleCtn: "_1h5cJPC1IYFGDEMbRAWSNy",
        Footer: "_1tdf14bc7ZlvhWfiLIlpEf",
        EventCapsuleCtn: "_27kWH1D3y2WfR8D-sD8Rw2",
        LiveBroadcastPreview: "_4UYuS9QM4MsN9y4q5Livc",
        TileBackgroundImage: "gGujG17QdIx5Nn89DjTl8",
        TileCoverImagePlayable: "_2eoFkqfZovVT02IaU8nRNn",
        TileCoverLiveIcon: "_dmbjH8bEtPkaRrVTzwov",
        ReminderContainer: "_1_taBomEIggVub90iRWW1Y",
        OnlyIcon: "iO5Eug6GGz9JIqPndBJIG",
        EventSummaryDefault: "_2g3JjlrRkzgUWXF57w3leW",
        Vote_NotLoggedIn: "_17oqR-EnZiAHLri2CKnxmC",
        Vote_LimitedUser: "_2FlPoqF3vz8s8KjjoZ7sXn",
        Vote_Positive: "ysX-kDvwrjduqk2LGUkUg",
        RateIcon: "_2se4HtRbAckWOfTCGHox0X",
        Vote_Negative: "_3LqNuO0ebCJ_aJo3YJYjdE",
        Vote_Ready: "_3issE2anPtdsqPA_3_72Z0",
        FooterRightSide: "_1Hhqg7g-POjV0ysalDN4YM",
        Options: "_3nZg0h8xaxxZeW0g870Htl",
        TileViewerCount: "pg-a3zK8HAVaAKqUDx7t-",
        FooterStat: "_3_86JJo-1O_KkOZwRl2uZ6",
        CommentIcon: "Wn7qAQikmqUtnSPDCnzi3",
        CommentIconCtn: "PR8xM_Lig1kieA79gLjOB",
        LoadingTile: "_24QfL3thPI_MZMIbgL7tmb",
        CarouselMode: "_144ghSsl2jkmXzzHxgtQtX",
        UpcomingMode: "_2vzY3sqcpyNcqGqlP6cLOv",
        TileVideoIcon: "aK0jlBL0B6MxMGC4n-WzB",
        DateAndTime: "_1gEM9daUydLT65bFx2wXwE",
        HasVideo: "qbgBAwp3iK3ESknHvr2SQ",
        SubTitleShown: "_5C13zntXVrSwbAGXNrmv6",
        VideoPlayerReady: "_1onQjxTJsTnadbj-DAgoPK",
      };
    },
    25738: (e) => {
      e.exports = {
        EventTileCarousel: "_1mKD0MQ507t89Ii7mxDqSO",
        HorizontalTiles: "_1mUGBQxkYbGPRBk1SDhMHi",
        EventTileCarouselTitleContainer: "_3I_aGTx-KPOMeeyG7MAhPl",
        EventTileCarouselTextTitle: "_1kQ9N4FGH5M9XE7WS_Tk4o",
        EventTileCarouselTitle: "_3X3hCmDBBr2dKG-77H4TuQ",
        EventTileCarouselFollow: "_1qgVA9sM06WHigo755qFWq",
      };
    },
    29868: (e) => {
      e.exports = {
        countdownCtn: "GWWacIf04lQysYMFJma0A",
        Closed: "ATX_xEE69rX8wVxQvONEx",
        CountDownCtn: "_11RwPICMOmmvNXkOq9bjPc",
        CountDownTime: "eh0pMnSr-nk203Ealq_Rq",
        CountDownText: "_3VKQ3h7Z4wO_U-Z_vXUZkk",
        LearnMore: "_1q98mjxkCUwQuFALsiNtD7",
        Throbber: "bEkRtFmRUW_smWksM-k9g",
        WinnerInfo: "_2LTFl4ZFuL1BeNbqYPExWv",
        WinnerCount: "Z7ScP-i1XHPQn4eeFdJ3g",
        WinnerText: "chkuqox_QD6U5ID_AHTLk",
      };
    },
    29342: (e) => {
      e.exports = {
        LanguageFeedNoteBucket: "r8580cv-HTxYA6k0N1n-U",
        LanguageFeedNoteCtn: "_3jTgs16YR8cjlIdBj-VfXM",
        BodyFlow: "_1JI7CLvlOj0UNyivvhIaO4",
        LeftColumn: "_3l03TsLKQ1kgJ9y9srfOtu",
        RightColumn: "XKuYh_bCSCQcXf-hL_G3Y",
        Title: "TzlhguvzJY0mbc-5KxGQW",
        LanguageList: "_1VBz-c24qcoV4360Y5ZW2b",
        Text: "_1SGbC-0D-qeX8p1wEKWHcN",
        DismissButton: "_3zHKDN908qfKPXxxiQRS1A",
      };
    },
    12088: (e) => {
      e.exports = {
        LegalFooter: "_2XzXRucgCsdN2x7oRwSJu0",
        FooterLegal: "_7TrXidlVTKkfcdujKCtM5",
        mainmenu_socials_china: "sfMZciSGx86izSy_6vXjH",
        mainmenu_social_box: "_1BGLVq8Z8sJY-fjcMuT2VP",
        mainmenu_line: "ykCRRQsIcQBjAwGpnQFG7",
        mainmenu_links_china: "_9ImS9D7NtBJGkHgcrwlUX",
        mainmenu_legal_china: "_3hCum12eFRKC9ukPg3-305",
        mainmenu_legal_pwlegal: "_3RFkMNbBZIBVARA4st-AjH",
        mainmenu_logos_china: "_3D_5cMcjUFurdWptDxoP3y",
        mainmenu_china_wechat_logo: "_2sDKMGZPUGhXYuJnr4RO2g",
        mainmenu_china_weibo_logo: "E2dhWjYyH6xGs7zJ2KHC8",
        mainmenu_china_pw_logo: "_2vnv_k5xmD37qKbr7I8pTr",
        mainmenu_china_valve_logo: "Ig7VEoh78RH53WEJS3MKv",
        mainmenu_footer_spacer: "_3w1gNL-euGEyq49PCOGvbQ",
        china_spacer: "_16fnFsYrB3xAg2va_37FfV",
      };
    },
    16345: (e) => {
      e.exports = {
        SuggestContainer: "_2gBFqL_6eXiRN7TI_GDjzF",
        Results: "_3eXNgAtnlHBfgWZbxO2n3h",
        EmptyResults: "_3w0K5X735sKAZhhifZGs84",
        ResultSectionHeader: "_1KK1sGDuxehec0lBB_4lpU",
        ResultRow: "_16oSf0MiTpUTJe7YQpCV2A",
        AvatarImage: "_3dr2A8wfoYU0kJtS9ACoR1",
        GameName: "_3CWrph5moGF_F746uM5tdI",
        Label: "I1zVikvORZt41zc-QTAsw",
      };
    },
    70758: (e) => {
      e.exports = {
        YoutubePreviewImage: "_3bVwKmAuh70AH8XVDnyf5z",
        YoutubePlayer: "_3oXEPQSJY3yN1IVhfxeSy0",
      };
    },
    9905: (e) => {
      e.exports = { ErrorMsg: "_1ZEL9R8kTy3jJqcuU_IguM" };
    },
    94057: (e, t, n) => {
      "use strict";
      n.d(t, { w: () => h });
      var a = n(34629),
        r = n(41735),
        o = n.n(r),
        l = n(14947),
        s = n(65946),
        i = n(90626),
        c = n(6419),
        u = n(6144),
        d = n(84933),
        m = n(78327);
      class p {
        constructor() {
          (0, l.Gn)(this);
        }
        giveaway_id = void 0;
        seconds_until_drawing = void 0;
        rtime_start = void 0;
        rtime_end = void 0;
        closed = void 0;
        winner_count = void 0;
        BIsValid() {
          return void 0 !== this.giveaway_id && null !== this.giveaway_id;
        }
        BStarted() {
          return (
            this.BIsValid() &&
            (this.seconds_until_drawing >= 0 || this.winner_count > 0)
          );
        }
        clone() {
          const e = new p();
          return (
            (e.giveaway_id = this.giveaway_id),
            (e.seconds_until_drawing = this.seconds_until_drawing),
            (e.rtime_start = this.rtime_start),
            (e.rtime_end = this.rtime_end),
            (e.closed = this.closed),
            (e.winner_count = this.winner_count),
            e
          );
        }
      }
      (0, a.Cg)([l.sH], p.prototype, "giveaway_id", void 0),
        (0, a.Cg)([l.sH], p.prototype, "seconds_until_drawing", void 0),
        (0, a.Cg)([l.sH], p.prototype, "rtime_start", void 0),
        (0, a.Cg)([l.sH], p.prototype, "rtime_end", void 0),
        (0, a.Cg)([l.sH], p.prototype, "closed", void 0),
        (0, a.Cg)([l.sH], p.prototype, "winner_count", void 0);
      class g {
        constructor() {
          (0, l.Gn)(this);
        }
        m_mapGiveawayIDToNextDrawInfo = new Map();
        m_mapGiveawayIDAndInstanceToNextDrawInfo = new Map();
        m_bLoadedFromConfig = !1;
        m_mapNextDrawChangeCallback = new Map();
        GetKey(e, t) {
          return e + "_" + t;
        }
        GetInfoByInstance(e, t) {
          return this.m_mapGiveawayIDAndInstanceToNextDrawInfo.get(
            this.GetKey(e, t),
          );
        }
        GetNextDrawChangeCallback(e) {
          return (
            this.m_mapNextDrawChangeCallback.has(e) ||
              this.m_mapNextDrawChangeCallback.set(e, new u.lu()),
            this.m_mapNextDrawChangeCallback.get(e)
          );
        }
        CopyToGiveaway(e, t) {
          t.closed != e.closed && (t.closed = e.closed),
            t.giveaway_id != e.giveaway_id && (t.giveaway_id = e.giveaway_id),
            t.rtime_start != e.rtime_start && (t.rtime_start = e.rtime_start),
            t.rtime_end != e.rtime_end && (t.rtime_end = e.rtime_end),
            t.winner_count != e.winner_count &&
              (t.winner_count = e.winner_count),
            t.seconds_until_drawing != e.seconds_until_drawing &&
              (t.seconds_until_drawing = e.seconds_until_drawing);
        }
        async ReloadGiveaway(e, t) {
          if (!e) return null;
          let n = m.TS.STORE_BASE_URL + "prizes/nextdraw/" + e,
            a = null,
            r = { origin: self.origin };
          return (
            (a = await o().get(n, { params: r })),
            (0, l.h5)(() => {
              if (
                (this.m_mapGiveawayIDToNextDrawInfo.has(e) ||
                  this.m_mapGiveawayIDToNextDrawInfo.set(e, new p()),
                this.CopyToGiveaway(
                  a.data,
                  this.m_mapGiveawayIDToNextDrawInfo.get(e),
                ),
                void 0 !== t)
              ) {
                const n = this.GetKey(e, t);
                this.m_mapGiveawayIDAndInstanceToNextDrawInfo.has(n) ||
                  this.m_mapGiveawayIDAndInstanceToNextDrawInfo.set(n, new p()),
                  this.CopyToGiveaway(
                    a.data,
                    this.m_mapGiveawayIDAndInstanceToNextDrawInfo.get(n),
                  );
              }
            }),
            this.GetNextDrawChangeCallback(e).Dispatch(
              this.m_mapGiveawayIDToNextDrawInfo.get(e),
            ),
            this.m_mapGiveawayIDToNextDrawInfo.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            g.s_Singleton ||
              ((g.s_Singleton = new g()),
              g.s_Singleton.Init(),
              "dev" == m.TS.WEB_UNIVERSE &&
                (window.g_GiveawayStore = g.s_Singleton)),
            g.s_Singleton
          );
        }
        Init() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, m.Tc)("giveawaynextdraw", "application_config");
            if (e && e.giveaway_id) {
              let t = new p();
              this.CopyToGiveaway(e, t),
                this.m_mapGiveawayIDToNextDrawInfo.set(e.giveaway_id, t);
            }
            this.m_bLoadedFromConfig = !0;
          }
        }
      }
      (0, a.Cg)([l.sH], g.prototype, "m_mapGiveawayIDToNextDrawInfo", void 0),
        (0, a.Cg)([l.XI], g.prototype, "CopyToGiveaway", null);
      class _ {
        m_intervalID;
        m_intervalCountDownID;
        static s_GlobalInstance = 0;
        m_myInstanceNumber = 0;
        constructor() {
          (this.m_myInstanceNumber = _.s_GlobalInstance),
            (_.s_GlobalInstance += 1);
        }
        ClearRefreshInterval() {
          this.m_intervalID &&
            (window.clearInterval(this.m_intervalID),
            (this.m_intervalID = void 0));
        }
        ClearCountDown() {
          this.m_intervalCountDownID &&
            (window.clearInterval(this.m_intervalCountDownID),
            (this.m_intervalCountDownID = void 0));
        }
        SetupRefreshDataInterval(e, t) {
          if ((this.ClearRefreshInterval(), !e.closed)) {
            let n =
              e.seconds_until_drawing <= 0 && 0 == e.winner_count ? 6e4 : 5e3;
            this.m_intervalID = window.setInterval(t, n);
          }
        }
        SetupCountDown(e, t) {
          e > 0 && (this.m_intervalCountDownID = window.setInterval(t, 1e3));
        }
      }
      function v(e, t) {
        const n = g.Get().GetInfoByInstance(e, t.m_myInstanceNumber);
        (n.seconds_until_drawing -= 1),
          0 == n.seconds_until_drawing && t.ClearCountDown();
      }
      function h(e) {
        const [t] = (0, i.useState)(new _()),
          n = (0, d.CH)();
        (0, i.useEffect)(
          () => (
            g
              .Get()
              .ReloadGiveaway(e, t.m_myInstanceNumber)
              .then((a) => {
                t.SetupRefreshDataInterval(a, () =>
                  (function (e, t) {
                    const n = g
                      .Get()
                      .GetInfoByInstance(e, t.m_myInstanceNumber);
                    n &&
                      n.BIsValid() &&
                      n.seconds_until_drawing <= 0 &&
                      !n.closed &&
                      (t.ClearCountDown(),
                      g
                        .Get()
                        .ReloadGiveaway(e, t.m_myInstanceNumber)
                        .then((n) => {
                          t.SetupCountDown(n.seconds_until_drawing, () =>
                            v(e, t),
                          );
                        }));
                  })(e, t),
                ),
                  t.SetupCountDown(a.seconds_until_drawing, () => v(e, t)),
                  n();
              }),
            () => {
              t.ClearRefreshInterval(), t.ClearCountDown();
            }
          ),
          [t, e, n],
        );
        const a = g.Get().GetInfoByInstance(e, t.m_myInstanceNumber),
          [r, o, l] = (0, s.q3)(() => [
            a?.winner_count,
            a?.closed,
            a?.seconds_until_drawing,
          ]);
        return {
          bLoadingGiveawayInfo:
            !a || null == a.giveaway_id || !a.BStarted() || void 0 === r,
          winner_count: r,
          closed: o,
          seconds_until_drawing: l,
        };
      }
      (0, a.Cg)([c.o], _.prototype, "ClearRefreshInterval", null),
        (0, a.Cg)([c.o], _.prototype, "ClearCountDown", null),
        (0, a.Cg)([c.o], _.prototype, "SetupRefreshDataInterval", null),
        (0, a.Cg)([c.o], _.prototype, "SetupCountDown", null);
    },
    94743: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => m, r: () => d });
      var a = n(90626),
        r = n(26296),
        o = n(12155),
        l = n(48211),
        s = n(52038),
        i = n(61859),
        c = n(70758),
        u = n.n(c);
      const d = (e) => {
          const t = ["maxresdefault", "mqdefault", "default"],
            [n, o] = a.useState(0);
          a.useEffect(() => o(0), [e.video]);
          const l = a.useRef();
          if (e.altImgWithFallback && e.altImgWithFallback.length > 0)
            return a.createElement(r.o, {
              className: e.className,
              srcs: e.altImgWithFallback,
            });
          if (e.altImg)
            return a.createElement("img", {
              src: e.altImg,
              className: e.className,
            });
          {
            const r =
                "https://img.youtube.com/vi/" + e.video + "/" + t[n] + ".jpg",
              i = () => {
                n + 1 < t.length && o(n + 1);
              },
              c = () => {
                l.current && l.current.naturalHeight < 91 && i();
              };
            return a.createElement("img", {
              ref: l,
              onLoad: c,
              onError: i,
              src: r,
              className: (0, s.A)(u().YoutubePreviewImage, e.className),
            });
          }
        },
        m = (e) => {
          const [t, n] = a.useState(!1);
          if (
            (a.useEffect(() => {
              e.preloadYoutubeScripts && (0, l.o)(() => {});
            }, [e.preloadYoutubeScripts]),
            t)
          )
            return a.createElement(l.N, {
              ...e,
              classnames: (0, s.A)(u().YoutubePlayer, e.classnames),
            });
          {
            const t = (t) => {
              e.onPlayerActivated && e.onPlayerActivated(),
                n(!0),
                t.stopPropagation(),
                t.preventDefault();
            };
            return a.createElement(
              "div",
              {
                className: (0, s.A)(
                  "YoutubePreviewContainer",
                  u().YoutubePreviewImage,
                  e.imageClassnames,
                ),
                onClick: t,
              },
              a.createElement(d, {
                className: "YoutubePreviewImage",
                altImgWithFallback: e.altImgWithFallback,
                altImg: e.altImg,
                video: e.video,
              }),
              a.createElement(
                "div",
                { className: "YoutubePreviewPlay" },
                a.createElement(o.IOc, null),
              ),
              a.createElement(
                "div",
                { className: "VideoHintText" },
                (0, i.we)("#EventCalendar_WatchYouTubeVideo"),
              ),
            );
          }
        };
    },
    81881: (e, t, n) => {
      "use strict";
      n.d(t, { d: () => Ce });
      var a = n(19367),
        r = n(90626),
        o = n(72034),
        l = n(51006),
        s = n(60746),
        i = n(6379),
        c = n(61859),
        u = n(78327),
        d = n(59952),
        m = n(41735),
        p = n.n(m),
        g = n(68797);
      class _ {
        m_counts = null;
        m_promise;
        GetCounts() {
          return this.m_counts;
        }
        async LoadCounts() {
          return Boolean(this.m_counts)
            ? this.m_counts
            : (this.m_promise || (this.m_promise = this.LoadInternalCount()),
              this.m_promise);
        }
        async LoadInternalCount() {
          let e = null;
          try {
            const t =
                u.TS.STORE_BASE_URL + "saleaction/ajaxgetuserdeckcompatcounts",
              n = await p().get(t, {});
            if (200 == n?.status && 1 == n.data?.success && n.data?.counts)
              return (this.m_counts = n.data.counts), this.m_counts;
            e = (0, g.H)(n);
          } catch (t) {
            e = (0, g.H)(t);
          }
          return (
            console.error(
              "CDeckCompCountStore.LoadInternalCount failed: " + e?.strErrorMsg,
              e,
            ),
            null
          );
        }
        static s_globalSingletonStore;
        static Get() {
          return (
            _.s_globalSingletonStore ||
              ((_.s_globalSingletonStore = new _()),
              ("dev" != u.TS.WEB_UNIVERSE && "beta" != u.TS.WEB_UNIVERSE) ||
                (window.g_DeckCompatCountStores = _.s_globalSingletonStore)),
            _.s_globalSingletonStore
          );
        }
        constructor() {
          if (document.getElementById("application_config")) {
            let e = (0, u.Tc)("deckcompatcount", "application_config");
            _.ValidateListCompat(e) && (this.m_counts = e);
          }
        }
        static ValidateListCompat(e) {
          const t = e;
          return (
            t &&
            "number" == typeof t.verified &&
            "number" == typeof t.unsupported &&
            "number" == typeof t.playable
          );
        }
      }
      var v = n(85320),
        h = n(56631),
        E = n(35400),
        C = n(28188),
        S = n(22797),
        w = n(6878),
        f = n(94057),
        I = n(29868);
      function b(e) {
        return e < 10 ? "0" + e : e;
      }
      function y(e) {
        const { giveawayid: t } = e,
          n = (0, f.w)(t),
          {
            bLoadingGiveawayInfo: a,
            winner_count: o,
            closed: l,
            seconds_until_drawing: s,
          } = n;
        return a
          ? null
          : r.createElement(
              "div",
              { className: I.countdownCtn },
              Boolean(l) &&
                r.createElement(
                  "div",
                  { className: I.Closed },
                  o > 0
                    ? (0, c.we)("#Giveaway_Closed", o.toLocaleString())
                    : (0, c.we)("#Giveaway_Closed_NoWinnerInfo"),
                ),
              Boolean(!l) &&
                r.createElement(
                  r.Fragment,
                  null,
                  Boolean(s <= 0)
                    ? r.createElement(
                        "div",
                        { className: I.Throbber },
                        r.createElement(S.t, { size: "small" }),
                        r.createElement(
                          "div",
                          null,
                          (0, c.we)("#Giveaway_RandomDraw"),
                        ),
                      )
                    : r.createElement(
                        "div",
                        { className: I.CountDownCtn },
                        r.createElement(
                          "div",
                          { className: I.CountDownTime },
                          b(Math.floor(s / 60)) + ":" + b(s % 60),
                        ),
                        r.createElement(
                          "div",
                          { className: I.CountDownText },
                          (0, c.we)("#Giveaway_CountDown2"),
                          " ",
                          (0, c.we)("#Giveaway_KeepWatching"),
                        ),
                      ),
                  Boolean(o > 0) &&
                    r.createElement(
                      "div",
                      { className: I.WinnerInfo },
                      r.createElement(
                        "div",
                        { className: I.WinnerCount },
                        o.toLocaleString(),
                      ),
                      r.createElement(
                        "div",
                        { className: I.WinnerText },
                        (0, c.we)("#Giveaway_Congratulation"),
                      ),
                    ),
                ),
            );
      }
      var N = n(10962),
        T = n(39733),
        G = n(10981),
        D = n(12155),
        k = n(82477),
        B = n(92757),
        A = n(39256),
        L = n(99487),
        F = n(7193),
        H = n(39199),
        M = n(96971),
        R = n(53677),
        x = n(40353);
      function O(e) {
        const { eventModel: t, nEventBadgeID: n } = e,
          a = (0, T.fy)(n);
        if (a?.level > 0) {
          let e = a.level;
          if (t?.BHasSaleEnabled()) {
            const a = t.GetSaleSectionsByType("badge_progress");
            if (1 == a?.length) {
              const o = a[0].badge_progress;
              if (o?.event_badgeid == n && o?.granted_by_discovery_queue) {
                const n = o.levels[o.levels.length - 1].level;
                return r.createElement(P, {
                  eventModel: t,
                  nBadgeLevel: e,
                  nMaxLevel: n,
                });
              }
            }
          }
          return r.createElement(
            "span",
            { className: "DisplayBadgeProgress" },
            e.toLocaleString(),
          );
        }
        return null;
      }
      function P(e) {
        const { eventModel: t, nBadgeLevel: n, nMaxLevel: a } = e,
          o = r.useMemo(() => {
            const e = t
              .GetSaleSections()
              .filter((e) => "discoveryqueue" == e.section_type);
            return e?.length > 0 ? e[0] : null;
          }, [t]),
          { storePageFilter: l, eStoreDiscoveryQueueType: s } = r.useMemo(
            () => (0, F.lx)(t, o),
            [t, o],
          ),
          i = (0, H.Uf)(s, l),
          c = Math.min(n + i, a);
        return r.createElement(
          "span",
          { className: "DisplayBadgeProgress" },
          c.toLocaleString(),
        );
      }
      function U(e) {
        const { event: t } = e.context,
          n = Number.parseInt((0, d.j$)(e.args, "eventid"));
        return u.iA.logged_in && n
          ? r.createElement(O, { nEventBadgeID: n, eventModel: t })
          : null;
      }
      function V(e) {
        const { nDoorIndex: t, children: n } = e,
          a = (0, E.OM)(t),
          { fnOpenDoor: o } = (0, E.OC)(),
          [l, s] = r.useState(!1),
          [i, d] = r.useState(!1);
        return r.createElement(
          G.$n,
          {
            disabled: a,
            onClick: (e) => {
              l ||
                (u.iA.logged_in
                  ? (s(!0),
                    o(t, !0, null, !1)
                      .then((e) => {
                        e || d(!0), s(!1);
                      })
                      .catch(() => {
                        d(!0), s(!1);
                      }))
                  : (0, k.vg)());
            },
          },
          Boolean(i)
            ? r.createElement("div", null, (0, c.we)("#GrantAwardError_Busy"))
            : r.createElement(
                r.Fragment,
                null,
                Boolean(l) && r.createElement(S.t, { size: "small" }),
                Boolean(a) && r.createElement(D.Jlk, null),
                n,
              ),
        );
      }
      function W(e) {
        const t = Number.parseInt((0, d.j$)(e.args)) || 0;
        return t >= 0 && t < 32
          ? r.createElement(V, { nDoorIndex: t }, e.children)
          : null;
      }
      const q = (0, B.y)(R.H);
      function Y(e) {
        const t = Number.parseInt((0, d.j$)(e.args)),
          { event: n, showErrorInfo: a } = e.context;
        if (t) {
          const o = n?.jsondata?.sale_sections?.findIndex(
            (e) => e.unique_id == t,
          );
          if (o >= 0) {
            const t = n.GetDayIndexFromEventStart();
            return r.createElement(
              M.Cs,
              { location: a ? 2 : 0 },
              r.createElement(q, {
                event: n,
                section: n.jsondata.sale_sections[o],
                activeTab: new L.y(null, t),
                language: e.language,
                nSaleDayIndex: t,
                promotionName: "",
                appVisibilityTracker: null,
                ePreviewMode: a
                  ? x.S.EPreviewMode_Enabled
                  : x.S.EPreviewMode_Disabled,
              }),
            );
          }
          if (a)
            return r.createElement(
              "div",
              { className: A.ErrorDiv },
              "Error could not find sale section ",
              t,
            );
        }
        return null;
      }
      var K = n(84811),
        j = n(77291),
        z = n(19267),
        J = n(8527),
        X = n(62490);
      const Q = r.Fragment;
      function Z(e) {
        const {
            reservationPackageID: t,
            event: n,
            depositPackageID: a,
            bIsPreview: o,
            psuLessPackageID: l,
            strOutOfStockOverride: s,
            strDeliveryOverride: i,
            bDeliveryOverrideOnlyIfOutOfStock: u,
          } = e,
          d = (0, z.DR)(t),
          m = (0, z.DR)(l),
          p = (0, r.useMemo)(
            () => [
              {
                unique_id: "reservation_bbcode_" + t,
                reservation_package: t,
                deposit_package: a,
                localized_reservation_desc: (0, X.$Y)([], 31, null),
                localized_out_of_stock_override: (0, X.$Y)(
                  [s || null],
                  31,
                  null,
                ),
                localized_delivery_override_desc: (0, X.$Y)(
                  [i || null],
                  31,
                  null,
                ),
                override_delivery_only_out_of_stock: Boolean(u),
                psu_less_package: l,
              },
            ],
            [t, a, s, i, u, l],
          );
        if (!d || (l && !m))
          return r.createElement(S.t, {
            string: (0, c.we)("#Loading"),
            size: "small",
            position: "center",
          });
        const g = !J.iA.logged_in || !d.account_restricted_from_purchasing;
        return r.createElement(
          K.tH,
          null,
          r.createElement(
            r.Suspense,
            { fallback: null },
            r.createElement(Q, { bIsPreview: o, rgReservationDef: p }),
          ),
          Boolean(d.allow_purchase_in_country) &&
            r.createElement(
              "div",
              { className: p[0].unique_id },
              r.createElement(j.bk, {
                reservationDef: p[0],
                hardwareDetail: d,
                bPSULessModel: !1,
              }),
              g &&
                r.createElement(j.pc, {
                  event: n,
                  reservationDef: p[0],
                  hardwareDetail: d,
                }),
              Boolean(m?.allow_purchase_in_country) &&
                r.createElement(j.bk, {
                  reservationDef: p[0],
                  hardwareDetail: m,
                  bPSULessModel: !0,
                }),
            ),
        );
      }
      var $ = n(60014),
        ee = n(55963),
        te = n(83284),
        ne = n.n(te),
        ae = n(52038),
        re = n(26101);
      function oe(e) {
        const t = (0, $.n9)(),
          n = (0, ee.L3)(t);
        return r.createElement(re.EP, {
          snr: n,
          appID: e.appid,
          classOverride: (0, ae.A)(ne().WishlistButtonNotTop, "WishlistButton"),
        });
      }
      function le(e) {
        const t = Number(e.args.appid);
        return t ? r.createElement(oe, { appid: t }) : null;
      }
      let se = null;
      function ie(e) {
        const { event: t } = e.context,
          n = Number.parseInt((0, d.j$)(e.args, "appid")),
          a = Number.parseInt((0, d.j$)(e.args, "itemdefid")),
          o = Number.parseInt((0, d.j$)(e.args, "maxquantity")),
          l = (0, d.j$)(e.args, "calltoaction");
        return (0, h.gS)(n, a)
          ? r.createElement(C.f, {
              language: e.language,
              clanAccountID: t.clanSteamID.GetAccountID(),
              itemDefSetting: { nAppID: n, nItemDefID: a, max_quantity: o },
              strCallToAction: l,
            })
          : r.createElement(S.t, {
              size: "small",
              position: "center",
              string: (0, c.we)("#Loading"),
            });
      }
      function ce(e) {
        const t = (function () {
          const [e, t] = r.useState(_.Get().GetCounts());
          return (
            r.useEffect(() => {
              e || _.Get().LoadCounts().then(t);
            }, []),
            e
          );
        })();
        if (!t) return r.createElement(S.t, { size: "small" });
        const n = Number.parseInt((0, d.j$)(e.args));
        let a = t.verified;
        switch (n) {
          case 2:
            a = t.playable;
            break;
          case 1:
            a = t.unsupported;
        }
        return r.createElement("span", null, Number(a).toLocaleString());
      }
      function ue(e) {
        const t = (0, v.j)("library");
        if (!t) return r.createElement(S.t, { size: "small" });
        const n = Number.parseInt((0, d.j$)(e.args));
        let a = t.verifiedList?.length || 0;
        switch (n) {
          case 2:
            a = t.playableList?.length || 0;
            break;
          case 1:
            a = t.unsupportedList?.length || 0;
            break;
          case 0:
            a = t.unknownList?.length || 0;
        }
        return r.createElement("span", null, Number(a).toLocaleString());
      }
      function de(e) {
        const t = Number.parseInt((0, d.j$)(e.args)),
          n =
            "hide" in e.args &&
            Boolean(Number.parseInt((0, d.j$)(e.args, "hide")));
        return t >= 0
          ? r.createElement(me, { nDoorIndex: t, bHide: n }, e.children)
          : null;
      }
      function me(e) {
        const { nDoorIndex: t, bHide: n, children: a } = e,
          o = (0, E.OM)(t);
        return null == o
          ? null
          : (o && !n) || (!o && n)
            ? r.createElement(r.Fragment, null, e.children)
            : null;
      }
      function pe(e) {
        if (u.iA.logged_in) {
          const t = Number.parseInt((0, d.j$)(e.args)),
            n = Number.parseInt((0, d.j$)(e.args, "mod"));
          if (n > 0 && t < n && u.iA.accountid % n == t) return e.children;
        }
        return null;
      }
      function ge(e) {
        const t = (0, d.j$)(e.args);
        return t?.trim().length > 0
          ? r.createElement("div", { className: t.trim() }, e.children)
          : r.createElement(r.Fragment, null, e.children);
      }
      function _e(e) {
        return r.createElement(
          "span",
          { className: w.LocalizeBlock },
          (0, c.oW)(
            e.children,
            r.createElement("b", null),
            r.createElement("b", null),
            r.createElement("b", null),
            r.createElement("b", null),
          ),
        );
      }
      function ve(e) {
        let t = (0, d.j$)(e.args);
        return t
          ? r.createElement(y, { giveawayid: t })
          : r.createElement(r.Fragment, null);
      }
      function he(e) {
        const { event: t, showErrorInfo: n } = e.context,
          a = Number.parseInt((0, d.j$)(e.args));
        if (a) {
          const n = Number.parseInt((0, d.j$)(e.args, "depositpackageid")),
            o = Number.parseInt((0, d.j$)(e.args, "psulesspackageid")),
            l = (0, d.j$)(e.args, "out_of_stock_override"),
            s = (0, d.j$)(e.args, "delivery_override"),
            i = (0, d.j$)(e.args, "delivery_override_out_of_stock");
          return r.createElement(Z, {
            reservationPackageID: a,
            event: t,
            depositPackageID: n,
            psuLessPackageID: o,
            strOutOfStockOverride: l,
            strDeliveryOverride: i || s,
            bDeliveryOverrideOnlyIfOutOfStock: Boolean(i),
          });
        }
        return r.createElement(r.Fragment, null);
      }
      var Ee = n(43616);
      function Ce(e) {
        const { bSalePage: t } = e,
          [n, d] = r.useState(s.KN.IsInitialized());
        return (
          r.useEffect(() => {
            l.Vw.Init(new o.D(u.TS.WEBAPI_BASE_URL)),
              i.O3.Init(),
              t &&
                Ee.f.AddDictionary(
                  (null == se &&
                    (se = new Map([
                      [
                        "itemdef",
                        {
                          Constructor: ie,
                          autocloses: !1,
                          skipInternalNewline: !0,
                          allowWrapTextForCopying: !0,
                        },
                      ],
                      ["wishlist", { Constructor: le, autocloses: !1 }],
                      ["deckcompatcount", { Constructor: ce, autocloses: !1 }],
                      [
                        "deckcompatuserlibrarycount",
                        { Constructor: ue, autocloses: !1 },
                      ],
                      ["giveawayinfo", { Constructor: ve, autocloses: !1 }],
                      ["price", { Constructor: N.zD, autocloses: !1 }],
                      ["pricesavings", { Constructor: N.y7, autocloses: !1 }],
                      [
                        "eventdoorvisibility",
                        { Constructor: de, autocloses: !1 },
                      ],
                      ["chooseaccount", { Constructor: pe, autocloses: !1 }],
                      ["badgecurrentlevel", { Constructor: U, autocloses: !1 }],
                      ["optindoorquest", { Constructor: W, autocloses: !1 }],
                      ["classname", { Constructor: ge, autocloses: !1 }],
                      ["localize", { Constructor: _e, autocloses: !1 }],
                      ["salesection", { Constructor: Y, autocloses: !1 }],
                      [
                        "reservationbutton",
                        { Constructor: he, autocloses: !1 },
                      ],
                    ])),
                  se),
                ),
              s.KN.InitGlobal().then(() => d(!0));
          }, [t]),
          r.useEffect(() => {
            const e = (0, c.l4)();
            e && a.locale(e);
          }, []),
          n ? e.children : null
        );
      }
    },
    86252: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => Mn });
      var a = n(43527),
        r = n(90626),
        o = n(92757),
        l = n(17720),
        s = n(95034),
        i = n(41735),
        c = n.n(i),
        u = n(75844),
        d = n(22837),
        m = n(2160),
        p = n(4796),
        g = n(73964),
        _ = n(84811),
        v = n(30756),
        h = n(8107),
        E = n(75113),
        C = n(35685),
        S = n(92557),
        w = n(90316),
        f = n.n(w),
        I = n(95695),
        b = n.n(I),
        y = n(22797),
        N = n(52038),
        T = n(61859),
        G = n(68797),
        D = n(78327),
        k = n(9905),
        B = n.n(k),
        A = n(43068),
        L = n(82097),
        F = n(55263);
      const H = g.$.Get();
      function M() {
        document.body.classList.contains("events_hub") &&
          document.body.classList.remove("events_hub");
      }
      const R = (0, u.PA)((e) => {
          const {
              bInfiniteScroll: t,
              event_gid: n,
              announcement_gid: a,
              clansteamid: o,
              appid: l,
            } = e,
            [s, i] = (0, r.useState)(n ? H.GetClanEventModel(n) : void 0),
            [u] = (0, F.t7)(s?.appid, {
              include_assets: !0,
              include_release: !0,
              include_platforms: !0,
              include_screenshots: !0,
            }),
            [g, w] = (0, r.useState)(!1),
            I = (e, t) => {
              t.token.reason ||
                (i(e),
                (function (e) {
                  let t;
                  if (e && e.appid) t = L.A.Get().GetApp(e.appid)?.GetName();
                  else if (e && e.clanSteamID) {
                    const n = p.ac.GetClanInfoByClanAccountID(
                      e.clanSteamID.GetAccountID(),
                    );
                    t = n && n.group_name;
                  }
                  const n =
                    e && e.GetNameWithFallback((0, d.sf)(D.TS.LANGUAGE));
                  if (e && t && n) {
                    const e = (0, T.we)(
                      "#EventCalendar_TabTitle_GroupNameAndEventDetail",
                      t,
                      n,
                    );
                    document.title != e && (document.title = e);
                  }
                })(e));
            },
            k = (e) => {
              const t = (0, G.H)(e);
              console.error("StoreEventDetailView failed " + t.strErrorMsg, t),
                w(!0);
            };
          if (
            ((0, r.useEffect)(M, []),
            (0, r.useEffect)(() => {
              const e = c().CancelToken.source();
              return (
                s ||
                  (n && !H.GetClanEventModel(n)
                    ? H.LoadPartnerEventGeneric(o, l, n, void 0, 0)
                        .then((t) => I(t, e))
                        .catch(() => {
                          e.token.reason ||
                            H.LoadPartnerEventGeneric(o, l, void 0, n, 0)
                              .then((t) => I(t, e))
                              .catch(k);
                        })
                    : a &&
                      !H.GetClanEventGIDFromAnnouncementGID(a) &&
                      H.LoadPartnerEventGeneric(o, l, void 0, a, 0)
                        .then((t) => I(t, e))
                        .catch(k)),
                () => {
                  e.cancel("StoreEventDetailView: unmounting");
                }
              );
            }, [n, o, l, a, s]),
            g || !s || (s?.appid && !u))
          ) {
            const e = "lang_" + (0, d.ww)((0, d.sf)(D.TS.LANGUAGE)),
              t = "";
            return r.createElement(
              "div",
              {
                className: (0, N.A)(
                  f().EventDetailsPageContainer,
                  e,
                  b().PartnerEventFont,
                  f().NoTitleArtwork,
                ),
              },
              r.createElement("div", { style: { height: "100px" } }),
              r.createElement(S.K8, { strImageURL: t }),
              r.createElement(S.P2, {
                strImageURL: t,
                body: g
                  ? r.createElement(
                      "div",
                      { className: B().ErrorMsg },
                      (0, T.PP)(
                        "#Events_FailedToFind",
                        r.createElement(
                          "a",
                          { href: D.TS.STORE_BASE_URL + "news/" },
                          (0, T.we)("#EventDisplay_NewsHubSubtitle"),
                        ),
                      ),
                    )
                  : r.createElement(y.t, {
                      string: (0, T.we)("#Loading"),
                      size: "medium",
                      position: "center",
                    }),
                postbody: Boolean(g && o)
                  ? r.createElement(C.rN, {
                      clanAccountID: o.GetAccountID(),
                      partnerEventStore: H,
                    })
                  : void 0,
              }),
            );
          }
          return t
            ? r.createElement(
                _.tH,
                null,
                r.createElement(h.N, {
                  appid: s.appid,
                  trackingLocation: 7,
                  announcementGID: s.GetAnnouncementGID(),
                  partnerEventStore: H,
                  eventModel: s,
                  showAppHeader: !0,
                  closeModal: () =>
                    e.history.push(
                      (0, E.qT)(s, E.PH.k_eStoreNewsHub, "allowRelative"),
                    ),
                }),
              )
            : r.createElement(
                _.tH,
                null,
                r.createElement(S.jA, {
                  lang: (0, d.sf)(D.TS.LANGUAGE),
                  partnerEventStore: H,
                  event: s,
                  adminPanel:
                    D.TS.EREALM === m.TU.k_ESteamRealmChina
                      ? r.createElement(A.P, { eventModel: s })
                      : r.createElement(v.g, {
                          eventModel: s,
                          partnerEventStore: H,
                        }),
                  otherEventRow: r.createElement(C.rN, {
                    clanAccountID: s.clanSteamID.GetAccountID(),
                    gidAnnouncement: s.AnnouncementGID,
                    partnerEventStore: H,
                  }),
                }),
              );
        }),
        x = (0, o.y)(R);
      var O = n(34629),
        P = n(14947),
        U = n(65946),
        V = n(31561),
        W = n(47822),
        q = n(77516),
        Y = n(86355),
        K = n(95886),
        j = n(46910),
        z = n(67540),
        J = n(44165),
        X = n(60746),
        Q = n(1059),
        Z = n(6379),
        $ = n(17083),
        ee = n(81886),
        te = n(10981),
        ne = n(12155),
        ae = n(32754),
        re = n(51272),
        oe = n(81393),
        le = n(56011),
        se = n(84933),
        ie = n(738),
        ce = n(30894);
      class ue {
        static s_newsCuratorStore;
        m_mapNewsCurators = new Map();
        m_bIsLoadComplete = !1;
        m_mapLangToNewsCurators = new Map();
        m_LoadingPromise = null;
        static Get() {
          return (
            ue.s_newsCuratorStore ||
              ((ue.s_newsCuratorStore = new ue()),
              (ue.s_newsCuratorStore.m_LoadingPromise =
                ue.s_newsCuratorStore.Init()),
              (window.g_NewsCuratorStore = ue.s_newsCuratorStore)),
            ue.s_newsCuratorStore
          );
        }
        constructor() {
          (0, P.Gn)(this);
        }
        IsLoaded() {
          return this.m_bIsLoadComplete;
        }
        WaitForInitialLoad() {
          return this.m_LoadingPromise;
        }
        get allNewsCurators() {
          return Array.from(this.m_mapNewsCurators.values());
        }
        GetCuratorsForLang(e) {
          return this.m_mapLangToNewsCurators.get(e);
        }
        GetNewsCuratorForAccount(e) {
          return this.m_mapNewsCurators.get(e);
        }
        BIsTrustedPressAccount(e) {
          return void 0 !== this.GetNewsCuratorForAccount(e);
        }
        async Init() {
          T.A0.GetLanguageListForRealms([D.TS.EREALM]).forEach((e) =>
            this.m_mapLangToNewsCurators.set(e, []),
          );
          const e = D.TS.STORE_BASE_URL + "events/ajaxgetnewscurators";
          let t = { origin: self.origin };
          const n = await c().get(e, { params: t });
          (0, P.h5)(() => {
            n.data && n.data.success && this.HandleCuratorResponse(n.data),
              (this.m_bIsLoadComplete = !0);
          });
        }
        HandleCuratorResponse(e) {
          if (
            (e.groupvanityinfo && p.ac.RegisterClanData(e.groupvanityinfo),
            e.newscuratorinfo)
          )
            for (const t of e.newscuratorinfo) {
              if (this.m_mapNewsCurators.has(t.clanAccountID)) continue;
              this.m_mapNewsCurators.set(t.clanAccountID, t);
              const e = p.ac.GetClanInfoByClanAccountID(t.clanAccountID);
              e && this.m_mapLangToNewsCurators.get(e.rss_language)?.push(t);
            }
        }
      }
      (0, O.Cg)([P.sH], ue.prototype, "m_mapNewsCurators", void 0),
        (0, O.Cg)([P.sH], ue.prototype, "m_bIsLoadComplete", void 0),
        (0, O.Cg)([P.sH], ue.prototype, "m_mapLangToNewsCurators", void 0),
        (0, O.Cg)([P.EW], ue.prototype, "allNewsCurators", null),
        (0, O.Cg)([P.XI], ue.prototype, "HandleCuratorResponse", null);
      var de = n(6144),
        me = n(41338),
        pe = n(16345),
        ge = n.n(pe);
      function _e(e) {
        const t = new Set();
        return (
          (e.indexOf("games") >= 0 || e.indexOf("dlc") >= 0) && t.add("apps"),
          e.indexOf("curators") >= 0 && t.add("curators"),
          t
        );
      }
      class ve extends r.Component {
        state = {
          strSearchString: "",
          rgAppSuggestions: null,
          rgCuratorSuggestions: null,
        };
        m_nHighestSentRequestID = 0;
        m_mapHighestReceivedRequestIDFromBackEnd = new Map([
          ["apps", 0],
          ["curators", 0],
        ]);
        m_timerForChange = new de.LU();
        componentWillUnmount() {
          this.m_timerForChange.Cancel();
        }
        CloseSuggestions() {
          this.setState({
            rgCuratorSuggestions: null,
            rgAppSuggestions: null,
            strSearchString: "",
          });
        }
        async GetSuggestionsFromServer(e) {
          const t = _e(this.props.rgCorporaToSearch);
          t.has("apps") && this.GetAppSuggestionsFromServer(e),
            t.has("curators") && this.GetCuratorSuggestions(e);
        }
        async GetCuratorSuggestions(e) {
          const t = ue.Get().allNewsCurators,
            n = [];
          for (const a of t) {
            const t = p.ac.GetClanInfoByClanAccountID(a.clanAccountID),
              o = {
                corpus: "curators",
                id: a.clanAccountID,
                name: t?.group_name,
                img: t?.avatar_full_url,
              };
            if ((t?.group_name?.toLocaleLowerCase() || "").indexOf(e) >= 0) {
              if (
                this.props.fnFilterSuggestion &&
                !this.props.fnFilterSuggestion(o)
              )
                continue;
              if (ce.Fm.Get().BIsIgnoringCurator(t.clanAccountID)) continue;
              const e = ce.Fm.Get().BIsFollowingCurator(t.clanAccountID),
                a = r.createElement(he, {
                  key: "curatorsug_" + o.id,
                  suggestion: o,
                  fnOnSelected: this.props.fnOnSelected,
                  bShowFollowingLabel: e,
                });
              n.push(
                this.props.fnDecorateSuggestion
                  ? this.props.fnDecorateSuggestion(o, a)
                  : a,
              );
            }
          }
          this.m_mapHighestReceivedRequestIDFromBackEnd.set(
            "curators",
            this.m_nHighestSentRequestID,
          ),
            this.setState({ rgCuratorSuggestions: n });
        }
        async GetAppSuggestionsFromServer(e) {
          const t = this.m_nHighestSentRequestID,
            n = [];
          this.props.rgCorporaToSearch.indexOf("games") >= 0 &&
            (n.push("game"), n.push("software")),
            this.props.rgCorporaToSearch.indexOf("dlc") >= 0 &&
              (n.push("dlc"), n.push("music"));
          const a = {
              cc: D.TS.COUNTRY,
              l: D.TS.LANGUAGE,
              realm: m.TU.k_ESteamRealmGlobal,
              origin: self.origin,
              f: "jsonfull",
              term: e.replace(" ", "+"),
              require_type: n.join(","),
              excluded_tags: ce.Fm.Get().GetExcludedTagsSortedByID(),
              excluded_content_descriptors:
                ce.Fm.Get().ExcludedContentDescriptor,
            },
            o = `${D.TS.STORE_BASE_URL}search/suggest`,
            l = await c().get(o, { params: a, withCredentials: !0 });
          if (t < this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps"))
            return;
          let s;
          this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps", t),
            l?.data?.length &&
              (s = l.data.map((e) => {
                const t = {
                  corpus:
                    ((n = e.type),
                    "game" == n || "software" == n
                      ? "games"
                      : "dlc" == n || "music" == n
                        ? "dlc"
                        : null),
                  ...e,
                  id: parseInt(e.id),
                };
                var n;
                if (
                  this.props.fnFilterSuggestion &&
                  !this.props.fnFilterSuggestion(t)
                )
                  return null;
                const a = r.createElement(he, {
                  key: t.type + t.id,
                  suggestion: t,
                  fnOnSelected: this.props.fnOnSelected,
                });
                return this.props.fnDecorateSuggestion
                  ? this.props.fnDecorateSuggestion(t, a)
                  : a;
              })),
            this.setState({ rgAppSuggestions: s });
        }
        async UpdateSuggestions(e) {
          const t = e.target.value && e.target.value.trim().toLocaleLowerCase();
          if ((this.m_nHighestSentRequestID++, !t?.length))
            return (
              Array.from(_e(this.props.rgCorporaToSearch)).forEach((e) =>
                this.m_mapHighestReceivedRequestIDFromBackEnd.set(
                  e,
                  this.m_nHighestSentRequestID,
                ),
              ),
              this.m_timerForChange.Cancel(),
              this.setState({ strSearchString: "" }),
              void this.ResetSuggestions()
            );
          this.setState({ strSearchString: t }),
            this.m_timerForChange.Schedule(300, () =>
              this.GetSuggestionsFromServer(t),
            );
        }
        ResetSuggestions() {
          this.setState({ rgAppSuggestions: null, rgCuratorSuggestions: null });
        }
        GetLimitedSuggestions() {
          let { rgAppSuggestions: e, rgCuratorSuggestions: t } = this.state;
          let n = e ? e.length : 10,
            a = t ? t.length : 10;
          return (
            n + a > 10 && (n = 10 - Math.min(a, 2)),
            (a = 10 - n),
            (e = e?.slice(0, n)),
            (t = t?.slice(0, a)),
            { rgAppSuggestions: e, rgCuratorSuggestions: t }
          );
        }
        render() {
          const {
              strLabel: e,
              focusOnMount: t,
              rgCorporaToSearch: n,
              strResultsClass: a,
            } = this.props,
            { strSearchString: o } = this.state,
            { rgAppSuggestions: l, rgCuratorSuggestions: s } =
              this.GetLimitedSuggestions(),
            i = o?.length > 0,
            c = l?.length > 0,
            u = s?.length > 0,
            d = _e(n).size > 1,
            m =
              d &&
              c &&
              (0, T.we)(
                n.indexOf("dlc") >= 0
                  ? "#EventCalendar_SearchResultsHeader_GameAndDLCSection"
                  : "#EventCalendar_SearchResultsHeader_GameSection",
              ),
            p = Array.from(_e(n)).some(
              (e) =>
                this.m_nHighestSentRequestID >
                this.m_mapHighestReceivedRequestIDFromBackEnd.get(e),
            ),
            g = !u && !c && !p;
          return r.createElement(
            "div",
            { className: ge().SuggestContainer },
            r.createElement(te.pd, {
              type: "text",
              label: e,
              onChange: this.UpdateSuggestions,
              bAlwaysShowClearAction: i,
              focusOnMount: t,
            }),
            i &&
              r.createElement(
                "div",
                { className: (0, N.A)(ge().Results, a) },
                c &&
                  r.createElement(
                    "div",
                    { key: "game-suggestions" },
                    d &&
                      r.createElement(
                        "div",
                        { className: ge().ResultSectionHeader },
                        m,
                      ),
                    l,
                  ),
                u &&
                  r.createElement(
                    "div",
                    { key: "curator-suggestions" },
                    d &&
                      r.createElement(
                        "div",
                        { className: ge().ResultSectionHeader },
                        (0, T.we)(
                          "#EventCalendar_SearchResultsHeader_CuratorSection",
                        ),
                      ),
                    s,
                  ),
                g &&
                  r.createElement(
                    "div",
                    { className: ge().EmptyResults, key: "empty-results" },
                    (0, T.we)("#EventCalendar_GameSearch_NoneFound"),
                  ),
                p && r.createElement(y.t, { size: "small" }),
              ),
          );
        }
      }
      (0, O.Cg)([se.oI], ve.prototype, "UpdateSuggestions", null);
      const he = (e) =>
        r.createElement(
          "div",
          {
            className: ge().ResultRow,
            key: `suggestion-${e.suggestion.id}`,
            onClick: () => e.fnOnSelected(e.suggestion),
          },
          r.createElement("img", {
            src: e.suggestion.img,
            className: ge().AvatarImage,
          }),
          r.createElement(
            "div",
            { className: ge().GameName },
            " ",
            (0, me.EK)(e.suggestion.name),
            " ",
          ),
          e.bShowFollowingLabel &&
            r.createElement(
              "div",
              { className: ge().Label },
              (0, T.we)("#EventCalendar_FollowingCurator"),
            ),
        );
      var Ee = n(51706),
        Ce = n(32541),
        Se = n(48838),
        we = n(63292),
        fe = n.n(we);
      const Ie = (e) =>
          r.createElement(
            Ee.x_,
            { onEscKeypress: e.closeModal },
            r.createElement(
              _.tH,
              null,
              r.createElement(
                te.UC,
                null,
                r.createElement(
                  te.Y9,
                  null,
                  (0, T.we)("#EventCurator_BrowseDialog_Title"),
                ),
                r.createElement(
                  te.nB,
                  null,
                  r.createElement(
                    "div",
                    null,
                    (0, T.we)("#EventCurator_BrowseDialog_Desc"),
                  ),
                  r.createElement(ye, null),
                ),
                r.createElement(
                  te.wi,
                  null,
                  r.createElement(
                    te.jn,
                    { onClick: e.closeModal },
                    (0, T.we)("#Button_Dismiss"),
                  ),
                ),
              ),
            ),
          ),
        be = (e) =>
          r.createElement(
            $e,
            {
              title: (0, T.we)("#EventCurator_BrowseDialog_Title"),
              description: (0, T.we)("#EventCurator_BrowseDialog_Desc"),
            },
            r.createElement(ye, null),
          ),
        ye = (e) => {
          const [t, n] = r.useState(ue.Get().IsLoaded());
          r.useEffect(() => {
            if (!t) {
              (async () => {
                await ue.Get().WaitForInitialLoad(), n(!0);
              })();
            }
          }, [t]);
          let a = new Array();
          if (t) {
            T.pf
              .GetELanguageFallbackOrder([m.TU.k_ESteamRealmGlobal])
              .forEach((e) =>
                a.push(r.createElement(Ne, { key: "curlang" + e, lang: e })),
              );
          }
          return r.createElement(
            r.Fragment,
            null,
            t
              ? r.createElement(r.Fragment, null, a)
              : r.createElement(y.t, {
                  size: "medium",
                  position: "center",
                  string: (0, T.we)("#Loading"),
                }),
          );
        },
        Ne = (e) => {
          const t = ue.Get().GetCuratorsForLang(e.lang);
          if (!t) return null;
          const n = t
            .map((e) => p.ac.GetClanInfoByClanAccountID(e.clanAccountID))
            .filter((e) => Boolean(e));
          if (0 == n.length) return null;
          n.sort((e, t) => e.group_name.localeCompare(t.group_name));
          const a = n.map((e) =>
            r.createElement(Ge, {
              clanInfo: e,
              key: "curatorbrowse_" + e.clanAccountID,
              layout: "row",
            }),
          );
          return r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: fe().LanguageHeader },
              (0, T.we)(
                "#EventCurator_BrowseDialog_LangCurator",
                (0, T.we)("#Language_" + (0, d.Lg)(e.lang)),
              ),
            ),
            a,
          );
        },
        Te = (0, u.PA)((e) => {
          const t = p.ac.GetClanInfoByClanAccountID(e.clanid);
          if (!t) return r.createElement("div", null, e.children);
          const n = {
              clan_account_id: t.clanAccountID,
              name: t.group_name,
              type: "developer",
            },
            a = r.createElement(
              "div",
              { className: fe().CuratorHoverContainer },
              r.createElement(Ce.hA, {
                creatorID: n,
                bSmallFormat: !0,
                bHideCreatorType: !0,
                bHideFollowButton: !0,
              }),
            );
          return r.createElement(
            ae.m9,
            { toolTipContent: a, bTopmost: !0 },
            e.children,
          );
        }),
        Ge = (e) => {
          const [t, n] = r.useState(!1),
            a = () => {
              (0, ie.pg)(
                r.createElement(Ee.KG, {
                  strDescription: (0, T.we)("#EventCurator_NoEventsFound_Body"),
                  strTitle: (0, T.we)("#EventCurator_NoEventsFound_Title"),
                }),
                window,
              ),
                n(!1);
            },
            { clanInfo: o, layout: l } = e,
            s = "row" === l ? fe().CuratorInfoRow : fe().CuratorInfoIcon,
            i = r.createElement(
              Te,
              { clanid: o.clanSteamID.GetAccountID() },
              r.createElement(
                "div",
                {
                  className: (0, N.A)(
                    b().FlexRowContainer,
                    fe().CuratorInfoTitleCtn,
                  ),
                  onClick: () => n(!0),
                },
                r.createElement("img", {
                  className: fe().CuratorInfoImg,
                  src: o.avatar_full_url,
                  alt: o.group_name,
                }),
                r.createElement(
                  "div",
                  { className: fe().CuratorInfoName },
                  o.group_name,
                ),
              ),
            );
          return r.createElement(
            "div",
            { className: (0, N.A)(b().FlexRowWrapSpaceBetweenContainer, s) },
            t
              ? r.createElement(
                  _.tH,
                  null,
                  r.createElement(h.N, {
                    onEventNotFound: a,
                    appid: 0,
                    clanSteamID: e.clanInfo.clanSteamID,
                    trackingLocation: 8,
                    eventModel: void 0,
                    announcementGID: void 0,
                    partnerEventStore: Z.O3,
                    showAppHeader: !0,
                    closeModal: () => n(!1),
                  }),
                )
              : null,
            r.createElement("div", { onClick: () => n(!0) }, i),
            r.createElement(
              "div",
              {
                className: (0, N.A)(
                  b().FlexRowContainer,
                  fe().CuratorInfoActionCtn,
                ),
              },
              r.createElement(Se.of, {
                clanAccountID: o.clanAccountID,
                className: fe().CuratorInfoFollow,
              }),
            ),
          );
        };
      var De = n(10686),
        ke = n.n(De),
        Be = n(19367),
        Ae = n.n(Be);
      class Le {
        m_dateLoadTime = J.HD.GetTimeNowWithOverrideAsDate();
        IsCurrentlyVisible(e) {
          return (
            (!e.startVisible || e.startVisible <= this.m_dateLoadTime) &&
            (!e.endVisible || e.endVisible >= this.m_dateLoadTime)
          );
        }
        static IsCurrentlyActive(e) {
          const t = J.HD.GetTimeNowWithOverrideAsDate();
          return (
            (!e.startEvent || e.startEvent <= t) &&
            (!e.endEvent || e.endEvent >= t)
          );
        }
        static LocalizeDateString(e) {
          if (!e.startEvent) return null;
          const t = e.startEvent.toLocaleDateString(
            T.pf.GetPreferredLocales(),
            { month: "long", day: "numeric" },
          );
          if (!e.endEvent) return t;
          const n = {
            month:
              e.startEvent.getMonth() != e.endEvent.getMonth()
                ? "long"
                : void 0,
            day: "numeric",
          };
          return `${t} - ${e.endEvent.toLocaleDateString(T.pf.GetPreferredLocales(), n)}`;
        }
        GetVisibleSpecialEvents() {
          return [
            {
              sLocToken: "#NewsHubSpecialEvent_GameFestival",
              startVisible: new Date(
                1e3 * Ae()("2020-06-16T14:00:00-07:00").unix(),
              ),
              endVisible: new Date(
                1e3 * Ae()("2020-06-22T10:00:00-07:00").unix(),
              ),
              startEvent: new Date(
                1e3 * Ae()("2020-06-16T10:00:00-07:00").unix(),
              ),
              endEvent: new Date(
                1e3 * Ae()("2020-06-22T10:00:00-07:00").unix(),
              ),
              newshubUrl: "news/collection/GameFestival2020",
            },
          ].filter((e) => this.IsCurrentlyVisible(e));
        }
      }
      const Fe = new Le();
      class He extends r.Component {
        render() {
          const { specialEvent: e } = this.props,
            t = window.location.href === D.TS.STORE_BASE_URL + e.newshubUrl,
            n = Le.IsCurrentlyActive(e),
            a = Le.LocalizeDateString(e);
          return r.createElement(
            $.N_,
            { to: "/" + e.newshubUrl },
            r.createElement(
              "div",
              {
                className: (0, N.A)(
                  ke().SpecialEvent,
                  t && ke().SpecialEventOnPage,
                  n && ke().SpecialEventActive,
                ),
              },
              r.createElement(
                "div",
                { className: ke().SpecialEventTitle },
                (0, T.we)(e.sLocToken),
              ),
              a &&
                r.createElement("div", { className: ke().SpecialEventTime }, a),
            ),
          );
        }
      }
      class Me extends r.Component {
        render() {
          const e = Fe.GetVisibleSpecialEvents();
          return 0 === e.length
            ? null
            : r.createElement(
                "div",
                { className: ke().SpecialEventListGroup },
                r.createElement(
                  "div",
                  { className: ke().SpecialEventListTitle },
                  (0, T.we)("#Events_SpecialEvents"),
                ),
                r.createElement(
                  "div",
                  { className: ke().SpecialEventList },
                  e.map((e) =>
                    r.createElement(He, { key: e.sLocToken, specialEvent: e }),
                  ),
                ),
              );
        }
      }
      var Re = n(91941),
        xe = n(12088),
        Oe = n.n(xe);
      function Pe() {
        return (0, T.vl)(new Date());
      }
      const Ue = (e) => {
          const t = D.TS.PUBLIC_SHARED_URL + "images/";
          return r.createElement(
            "div",
            { className: Oe().LegalFooter },
            r.createElement(
              "div",
              { className: Oe().mainmenu_links_china },
              r.createElement(
                "a",
                { href: D.TS.STORE_BASE_URL + "about" },
                "关于蒸汽平台",
              ),
              "  |  ",
              r.createElement(
                "a",
                { href: D.TS.STORE_BASE_URL + "steam_refunds" },
                "退款政策",
              ),
              "  |  ",
              r.createElement(
                "a",
                { href: D.TS.STORE_BASE_URL + "subscriber_agreement" },
                "软件许可服务协议",
              ),
              "  |  ",
              r.createElement("br", null),
              r.createElement(
                "a",
                { href: D.TS.STORE_BASE_URL + "privacy_agreement" },
                "个人信息保护政策",
              ),
              "  |  ",
              r.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/content_report.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "不良内容举报投诉",
              ),
              "  |  ",
              r.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/infringement_report.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "侵权投诉",
              ),
              "  |  ",
              r.createElement(
                "a",
                {
                  href: "https://about.steamchina.com/parentguardianship_agreement.html",
                  target: "_blank",
                  rel: "noreferrer",
                },
                "家长监护",
              ),
            ),
            r.createElement("div", { className: Oe().mainmenu_line }),
            r.createElement(
              "div",
              { className: Oe().mainmenu_logos_china },
              r.createElement(
                "a",
                {
                  href: "https://www.wanmei.com/",
                  target: "_blank",
                  rel: "noreferrer",
                },
                r.createElement("img", {
                  className: Oe().mainmenu_china_pw_logo,
                  src: t + "footer/pw_logo_gy.svg?v=1",
                }),
              ),
              r.createElement(
                "a",
                {
                  href: "https://valvesoftware.com",
                  target: "_blank",
                  rel: "noreferrer",
                },
                r.createElement("img", {
                  className: Oe().mainmenu_china_valve_logo,
                  src: t + "footer/valve_logo_gy.svg?v=1",
                }),
              ),
            ),
            r.createElement(
              "div",
              { className: Oe().mainmenu_legal_china },
              r.createElement(
                "div",
                { className: Oe().mainmenu_legal_valvelegal },
                `© ${Pe()} Valve Corporation 版权所有，完美世界已获授权`,
                r.createElement("br", null),
                "所有商标均属于其在美国或其他国家的拥有者。",
              ),
              r.createElement(
                "div",
                { className: Oe().mainmenu_legal_pwlegal },
                "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。",
                r.createElement("br", null),
                "增值电信业务经营许可证沪B2-20180406",
              ),
            ),
          );
        },
        Ve = (e) =>
          r.createElement(
            "div",
            { className: Oe().LegalFooter },
            r.createElement("img", {
              src:
                D.TS.STORE_CDN_URL + "public/images/footerLogo_valve_new.png",
            }),
            r.createElement(
              "div",
              { className: Oe().FooterLegal },
              (0, T.we)("#Legal_Footer_WithYear", Pe()),
            ),
          ),
        We = (e) =>
          (0, D.Y2)() ? r.createElement(Ue, null) : r.createElement(Ve, null);
      class qe {
        m_curDisplay = "desktop_navigation";
        m_fnGetRouterHistory = void 0;
        static s_GlobalStore;
        static Get() {
          return (
            qe.s_GlobalStore || (qe.s_GlobalStore = new qe()), qe.s_GlobalStore
          );
        }
        constructor() {
          (0, P.Gn)(this);
        }
        UpdateLocation(e, t) {
          this.m_fnGetRouterHistory = e;
          const n = (0, s.f3)(t, "optionpane");
          if (n)
            switch (n) {
              case "event_filter":
              case "browse_curator":
              case "desktop_navigation":
                this.m_curDisplay != n && (this.m_curDisplay = n);
            }
          else
            "desktop_navigation" != this.m_curDisplay &&
              (this.m_curDisplay = "desktop_navigation");
          return this.m_curDisplay;
        }
        SetDisplay(e) {
          (this.m_curDisplay = e),
            this.m_fnGetRouterHistory &&
              (0, s.Bm)(
                this.m_fnGetRouterHistory(),
                "optionpane",
                "desktop_navigation" == this.m_curDisplay
                  ? void 0
                  : this.m_curDisplay,
              );
        }
        GetDisplay() {
          return this.m_curDisplay;
        }
        ShowBrowseCurator(e) {
          Cn()
            ? qe.Get().SetDisplay("browse_curator")
            : (0, ie.pg)(r.createElement(Ie, null), (0, le.uX)(e));
        }
      }
      (0, O.Cg)([P.sH], qe.prototype, "m_curDisplay", void 0);
      let Ye = class extends r.Component {
        GetVisibilityStore() {
          return (0, K.v0)().m_visibilityStore;
        }
        OnEventTypeChange(e, t) {
          this.GetVisibilityStore().SetEventTypeGroupAllowed(e, t),
            this.props.fnOnFilterChange();
        }
        RenderEventTypeCheckbox(e) {
          const t = this.GetVisibilityStore().BIsEventTypeGroupAllowed(e);
          return r.createElement(
            ae.he,
            {
              key: `group-${e}`,
              toolTipContent: (0, T.we)(
                "#EventCalendar_EventTypeGroup_ttip_" + e,
              ),
              direction: "top",
            },
            r.createElement(Ze, {
              label: (0, T.we)("#EventCalendar_EventTypeGroup_" + e),
              checked: t,
              onChange: (t) => this.OnEventTypeChange(e, t),
            }),
          );
        }
        OnGameSourceChange(e, t) {
          this.GetVisibilityStore().SetGameSourceAllowed(e, t),
            this.props.fnOnFilterChange();
        }
        RenderGameSourceCheckbox(e, t) {
          const n =
            this.GetVisibilityStore().BIsGameSourceAllowed(e) ||
            (e == j.FD.k_ELibrary &&
              this.GetVisibilityStore().BIsGameSourceAllowed(j.FD.k_ERecent));
          return r.createElement(
            ae.he,
            {
              key: `gs-${e}`,
              direction: "top",
              toolTipContent: t
                ? (0, T.we)("#EventCalendar_DisabledFilter_LoginPrompt")
                : (0, T.we)("#EventCalendar_GameSource_ttip_" + e),
            },
            r.createElement(Ze, {
              label: (0, T.we)("#EventCalendar_GameSource_" + e),
              checked: n,
              disabled: t,
              onChange: (t) => this.OnGameSourceChange(e, t),
            }),
          );
        }
        render() {
          const { bUserIsLoggedIn: e } = this.props,
            t = (0, K.v0)();
          let n = !0;
          if (t.BIsSingleGroupCalendar()) {
            let e = p.ac.GetClanInfoByClanAccountID(t.GetSingleGroupID());
            e && e.has_rss_feed && (n = !1);
          } else
            !t.BIsCollectionCalendar() ||
              (t.GetKey().collectionid != z.g.Press &&
                t.GetKey().collectionid != z.g.Dev_Sales &&
                t.GetKey().collectionid != z.g.Dev_AssociatedPress) ||
              (n = !1);
          const a = (function (e) {
              return (
                e.BIsCollectionCalendar() && "steam" === e.GetCollectionID()
              );
            })(t),
            o = Q.S.Get().GetMutedSourceCount(),
            l =
              t.BIsSingleSourceMuted() ||
              (!t.BIsSingleSourceCalendar() && o > 0);
          return r.createElement(
            $e,
            {
              title: (0, T.we)("#EventCalendar_FiltersTitle"),
              description: (0, T.we)(
                t.BIsGlobalCalendar()
                  ? "#EventCalendar_FiltersDescription"
                  : "#EventCalendar_FiltersDescription_NonPersonalized",
              ),
            },
            r.createElement(
              "div",
              { className: ke().FilterSection },
              n &&
                r.createElement(
                  Ke,
                  null,
                  r.createElement(
                    je,
                    null,
                    (0, T.we)(
                      "#EventCalendar_FilterSubSection_EventTypeGroups",
                    ),
                  ),
                  this.RenderEventTypeCheckbox(j.xj.k_EEvents),
                  this.RenderEventTypeCheckbox(j.xj.k_EStreaming),
                  this.RenderEventTypeCheckbox(j.xj.k_EUpdates),
                  this.RenderEventTypeCheckbox(j.xj.k_EReleases),
                  this.RenderEventTypeCheckbox(j.xj.k_ESales),
                  this.RenderEventTypeCheckbox(j.xj.k_ENews),
                ),
              Boolean(t.BIsGlobalCalendar()) &&
                r.createElement(
                  Ke,
                  null,
                  r.createElement(
                    je,
                    null,
                    (0, T.we)("#EventCalendar_FilterSubSection_GameSources"),
                  ),
                  this.RenderGameSourceCheckbox(j.FD.k_ELibrary, !e),
                  r.createElement(
                    "div",
                    { className: ke().FilterSubOption },
                    this.RenderGameSourceCheckbox(j.FD.k_ERecent, !e),
                  ),
                  this.RenderGameSourceCheckbox(j.FD.k_EWishlist, !e),
                  J.HD.bIsFollowingEnabled &&
                    this.RenderGameSourceCheckbox(j.FD.k_EFollowing, !e),
                  this.RenderGameSourceCheckbox(j.FD.k_ERecommended, !e),
                  this.RenderGameSourceCheckbox(j.FD.k_ESteam),
                  J.HD.bIncludeFeaturedAsGameSource &&
                    this.RenderGameSourceCheckbox(j.FD.k_EFeatured),
                ),
              Boolean(
                J.HD.bIsCuratorsEnabled &&
                  (t.BIsGlobalCalendar() || t.BIsSingleAppCalendar()),
              ) &&
                r.createElement(
                  Ke,
                  null,
                  r.createElement(
                    je,
                    null,
                    (0, T.we)("#EventCalendar_FilterSubSection_CuratorSources"),
                  ),
                  this.RenderGameSourceCheckbox(j.FD.k_ECurator, !e),
                  r.createElement(
                    ze,
                    { onClick: qe.Get().ShowBrowseCurator },
                    (0, T.we)("#EventCalendar_BrowseCurators"),
                  ),
                ),
              a &&
                r.createElement(Je, {
                  calendar: t,
                  onFilterChange: this.props.fnOnFilterChange,
                }),
              Boolean(t.BIsSingleSourceMuted()) &&
                r.createElement(
                  "div",
                  null,
                  (0, T.we)(
                    t.BIsSingleGroupCalendar()
                      ? "#EventCalendar_SingleGroupIsMuted"
                      : "#EventCalendar_SingleAppIsMuted",
                  ),
                ),
            ),
            r.createElement(
              "div",
              { className: ke().SideBarFilterNavLinks },
              l &&
                r.createElement(
                  re.uU,
                  {
                    className: ke().MutedSourcesGroup,
                    href: D.TS.STORE_BASE_URL + "account/emailoptout/app",
                    bDisableContextMenu: !0,
                  },
                  r.createElement(
                    ze,
                    null,
                    r.createElement(ne.fSs, { muted: !0 }),
                    (0, T.we)("#EventCalendar_ManageMutedSources"),
                    r.createElement(
                      "div",
                      { className: ke().NumberDisplay },
                      o,
                    ),
                  ),
                ),
              r.createElement(
                re.uU,
                {
                  href: D.TS.STORE_BASE_URL + "account/preferences",
                  bDisableContextMenu: !0,
                },
                r.createElement(
                  ze,
                  null,
                  r.createElement(ne.nkJ, null),
                  (0, T.we)("#EventCalendar_ManageStorePref"),
                ),
              ),
            ),
          );
        }
      };
      Ye = (0, O.Cg)([u.PA], Ye);
      const Ke = (0, re.Ri)(ke().FilterSubSection),
        je = (0, re.Ri)(ke().FilterSubSectionTitle),
        ze = (0, re.Ri)(ke().FilterLink);
      function Je(e) {
        const { calendar: t, onFilterChange: n } = e,
          [a, o] = (0, U.q3)(() => [
            t
              .GetAllClans()
              .filter((e) => p.ac.GetClanInfoByClanAccountID(e)?.group_name),
            t.GetAllApps().filter((e) => L.A.Get().GetApp(e)?.GetName()),
          ]);
        return (
          (0, oe.wT)(
            t.BIsCollectionCalendar,
            "Attempted to render collection source filters for a non collection calendar",
          ),
          t.BIsCollectionCalendar()
            ? r.createElement(
                Ke,
                null,
                r.createElement(
                  je,
                  null,
                  (0, T.we)(
                    "#EventCalendar_FilterSubSection_CollectionSources",
                  ),
                ),
                a.map((e) =>
                  r.createElement(Xe, {
                    calendar: t,
                    clanid: e,
                    key: e,
                    onFilterChange: n,
                  }),
                ),
                o.map((e) =>
                  r.createElement(Qe, {
                    calendar: t,
                    appid: e,
                    key: e,
                    onFilterChange: n,
                  }),
                ),
              )
            : null
        );
      }
      function Xe(e) {
        const { calendar: t, clanid: n, onFilterChange: a } = e,
          o = (0, U.q3)(() => t.m_visibilityStore.BIsClanVisible(n));
        return r.createElement(Ze, {
          label: p.ac.GetClanInfoByClanAccountID(n)?.group_name,
          checked: o,
          onChange: (e) => {
            t.m_visibilityStore.SetClanVisibility(n, e), a();
          },
        });
      }
      function Qe(e) {
        const { calendar: t, appid: n, onFilterChange: a } = e,
          o = t.m_visibilityStore.BIsAppVisible(n);
        return r.createElement(Ze, {
          label: L.A.Get().GetApp(n)?.GetName(),
          checked: o,
          onChange: (e) => {
            t.m_visibilityStore.SetAppVisibility(n, e), a();
          },
        });
      }
      function Ze(e) {
        return r.createElement(
          "div",
          { className: ke().FilterOption },
          r.createElement(te.Yh, { ...e }),
        );
      }
      const $e = (e) =>
        r.createElement(
          "div",
          { className: ke().FilterControlPage },
          r.createElement("div", { className: ke().FiltersTitle }, e.title),
          Boolean(e.description) &&
            r.createElement(
              "div",
              { className: ke().FiltersDescription },
              e.description,
            ),
          e.children,
        );
      let et = class extends r.Component {
        OpenFilterSettings(e) {
          qe.Get().SetDisplay(e ? "event_filter" : "desktop_navigation");
        }
        render() {
          const {
              bUserIsLoggedIn: e,
              nDisappearingHeaderVisibleHeight: t,
              bIsCollapsed: n,
              fnToggleCollapsed: a,
              fnOnFilterChange: o,
            } = this.props,
            l = Cn(),
            s = r.createElement(
              "div",
              {
                className: ke().MobileCloseButton,
                onClick: () => {
                  this.OpenFilterSettings(!1), a();
                },
              },
              r.createElement(ne.i6V, null),
            ),
            i = n ? Math.max(0, t) : 0,
            c = l
              ? null
              : r.createElement(
                  "div",
                  { onClick: a, className: ke().CollapseButton },
                  r.createElement(
                    "div",
                    {
                      style: { marginTop: `${i}px` },
                      className: ke().DesktopButton,
                    },
                    r.createElement(ne.F2T, { angle: n ? 180 : 0 }),
                  ),
                ),
            u = l
              ? null
              : r.createElement(
                  "div",
                  {
                    onClick: () => this.OpenFilterSettings(!1),
                    className: ke().CollapseButton,
                  },
                  r.createElement(
                    "div",
                    {
                      style: { marginTop: `${i}px` },
                      className: ke().DesktopButton,
                    },
                    r.createElement(ne.i6V, null),
                  ),
                ),
            d = "desktop_navigation" != qe.Get().GetDisplay() ? u : c,
            m = n ? null : { top: `${t}px` };
          (0, K.v0)();
          let p;
          switch (qe.Get().GetDisplay()) {
            case "event_filter":
              p = r.createElement(Ye, {
                bUserIsLoggedIn: e,
                fnOnFilterChange: o,
              });
              break;
            case "browse_curator":
              p = r.createElement(be, null);
              break;
            case "desktop_navigation":
              p = r.createElement(tt, {
                ...this.props,
                fnOpenFilterSettings: this.OpenFilterSettings,
              });
          }
          return r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              {
                className: (0, N.A)(
                  ke().SidebarContainer,
                  n && ke().SidebarCollapsed,
                ),
                style: m,
              },
              n
                ? d
                : r.createElement(
                    "div",
                    { className: ke().Sidebar },
                    s,
                    d,
                    r.createElement(
                      "div",
                      { className: ke().ControlPageContainer },
                      p,
                    ),
                  ),
            ),
          );
        }
      };
      (0, O.Cg)([se.oI], et.prototype, "OpenFilterSettings", null),
        (et = (0, O.Cg)([u.PA], et));
      const tt = (0, u.PA)((e) => {
        const { bShouldIncludeLegalFooter: t, bShowUpcoming: n } = e,
          a =
            "Responsive_RequestMobileView" in window &&
            window.Responsive_RequestMobileView;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: ke().SidebarBackground },
            r.createElement(ne.Qte, null),
          ),
          r.createElement(
            "div",
            { className: ke().SidebarTitle },
            (0, T.PP)("#EventCalendar_Title", r.createElement("br", null)),
          ),
          r.createElement(ut, { bIsUpcoming: n }),
          r.createElement(Me, null),
          r.createElement(
            "div",
            { className: ke().SidePanelGameSearch },
            r.createElement(nt, {
              label: (0, T.we)("#EventCalendar_UniversalSearch"),
            }),
          ),
          r.createElement(dt, { bIsUpcoming: n }),
          r.createElement(
            "div",
            { className: ke().FilterSettingsCtn },
            r.createElement(
              "div",
              {
                className: (0, N.A)(ke().FilterLink, ke().OpenFilterSettings),
                onClick: () => e.fnOpenFilterSettings(!0),
              },
              r.createElement(ne.wB_, null),
              (0, T.we)("#EventCalendar_EditFilters"),
            ),
          ),
          a &&
            r.createElement(
              "div",
              {
                className: (0, N.A)(ke().SidebarLink, ke().ForceResponsiveLink),
                onClick: a,
              },
              (0, T.we)("#EventCalendar_ShowResponsiveView"),
            ),
          t && r.createElement(We, null),
        );
      });
      let nt = class extends r.Component {
        DecorateSearchSuggestion(e, t) {
          if (e && e.id) {
            let n = "";
            return (
              "curators" == e.corpus
                ? (n = "group/" + e.id)
                : "games" == e.corpus &&
                  ((0, oe.wT)(
                    (0, ee.f)(e.type),
                    "Unexpected app type " + e.type,
                  ),
                  (n = "app/" + e.id)),
              r.createElement(
                $.N_,
                { key: `suggestion-${e.id}`, to: `/${(0, E.LJ)()}/${n}/` },
                t,
              )
            );
          }
          return t;
        }
        render() {
          return r.createElement(ve, {
            strLabel: this.props.label,
            fnOnSelected: () => {},
            fnDecorateSuggestion: this.DecorateSearchSuggestion,
            rgCorporaToSearch: ["games", "curators"],
            focusOnMount: this.props.focusOnMount,
          });
        }
      };
      nt = (0, O.Cg)([u.PA], nt);
      function at(e, t) {
        const n = (0, z.d)(e);
        if (((0, oe.wT)(!!n, "Must define collection " + e), !n)) return null;
        let a,
          r = (0, K.v0)().GetCollectionID() == e;
        switch (e) {
          case z.g.Default:
            r = (0, K.v0)().BIsGlobalCalendar() && !t;
            break;
          case z.g.Upcoming:
            (r = (0, K.v0)().BIsGlobalCalendar() && t),
              (a = (function () {
                if (!(0, K.v0)().BIsGlobalCalendar()) return;
                if (!D.iA.logged_in) return;
                const e =
                    (0, K.v0)().GetStoreInitializationTimestamp().getTime() /
                    1e3,
                  t = (0, K.v0)().GetCurrentlyLoadedEventCount(e);
                if (!t) return;
                return (0, K.v0)().BHitEventHorizon("forward")
                  ? String(t.nCount)
                  : t.nCount + "+";
              })());
        }
        return {
          name: n.strName,
          shortName: n.strShortName,
          key: e,
          url: n.strUrl,
          subtitle: n.strSubtitle,
          onPage: r,
          count: a,
          bValveOnly: n.bIsValveOnly,
        };
      }
      function rt(e, t) {
        const n = new Array();
        return n.push(at(z.g.Default, e)), n.push(at(z.g.Upcoming, e)), n;
      }
      function ot(e, t) {
        const n = new Array();
        return (
          n.push(at(z.g.Featured, e)),
          n.push(at(z.g.Steam, e)),
          J.HD.GetTimeNowWithOverride() < 1668160800 &&
            n.push(at(z.g.Halloween, e)),
          n
        );
      }
      function lt(e, t) {
        (0, K.v0)().BIsCollectionCalendar(), (0, E.LJ)();
        const n = new Array();
        if ((J.HD.bIsCuratorsEnabled && n.push(at(z.g.Press, e)), t))
          for (const e of Fe.GetVisibleSpecialEvents()) {
            const t = !1;
            n.push({
              name: (0, T.we)(e.sLocToken),
              url: e.newshubUrl,
              onPage: t,
              key: "event_" + e.sLocToken,
            });
          }
        return (
          D.iA.is_support &&
            (n.push(at(z.g.Dev_All, e)),
            n.push(at(z.g.Dev_Sales, e)),
            n.push(at(z.g.Dev_AssociatedPress, e))),
          n
        );
      }
      const st = (e) => {
        const {
          shortName: t,
          name: n,
          url: a,
          onPage: o,
          count: l,
          bValveOnly: s,
        } = e.element;
        return !D.iA.is_support && s
          ? null
          : r.createElement(
              $.N_,
              { to: "/" + a },
              r.createElement(
                "div",
                {
                  className: (0, N.A)(
                    ke().MobileNavButton,
                    o && ke().MobileNavButtonActive,
                  ),
                },
                t || n,
                l &&
                  r.createElement("div", { className: ke().MobileNavCount }, l),
              ),
            );
      };
      let it = class extends r.Component {
        state = { bSearchExpanded: !1 };
        onExpandSearch(e) {
          this.setState({ bSearchExpanded: e });
        }
        render() {
          const { bSearchExpanded: e } = this.state,
            t = [
              ...rt(this.props.bIsUpcoming),
              ...ot(this.props.bIsUpcoming),
              ...lt(this.props.bIsUpcoming, !1),
            ];
          return r.createElement(
            "div",
            {
              style: { transform: `translateY(${this.props.nTopOffset}px)` },
              className: ke().MobileNavBannerCtn,
            },
            r.createElement(
              "div",
              {
                className: ke().SettingsPanel,
                onClick: this.props.fnToggleCollapsed,
              },
              r.createElement(ne.wB_, null),
            ),
            r.createElement(
              "div",
              {
                className: (0, N.A)(
                  ke().SettingsPanel,
                  e && ke().SearchExpanded,
                ),
                onClick: () => this.onExpandSearch(!e),
              },
              r.createElement(ne.eSy, null),
            ),
            e &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement("div", {
                  className: ke().SearchDismiss,
                  onClick: () => this.onExpandSearch(!1),
                }),
                r.createElement(
                  "div",
                  {
                    className: (0, N.A)(
                      ke().SearchBox,
                      e && ke().SearchExpanded,
                    ),
                  },
                  r.createElement(nt, { focusOnMount: !0 }),
                ),
              ),
            r.createElement(
              Re.Z,
              { className: ke().MobileNavHScroll },
              r.createElement(
                "div",
                { className: ke().MobileNavBannerList },
                t.map((e) => r.createElement(st, { key: e.key, element: e })),
              ),
            ),
          );
        }
      };
      (0, O.Cg)([se.oI], it.prototype, "onExpandSearch", null),
        (it = (0, O.Cg)([u.PA], it));
      const ct = (e) => {
        const {
          key: t,
          name: n,
          subtitle: a,
          url: o,
          onPage: l,
          count: s,
          bValveOnly: i,
          icon: c,
        } = e.element;
        return !D.iA.is_support && i
          ? null
          : r.createElement(
              $.N_,
              { to: "/" + o },
              r.createElement(
                "div",
                {
                  className: (0, N.A)(
                    ke().NewsChannel,
                    l && ke().NewsChannelOnPage,
                    i && b().ValveOnlyBackground,
                  ),
                },
                Boolean(c) &&
                  r.createElement("img", {
                    className: (0, N.A)(ke().NewsChannelIcon),
                    src: c,
                  }),
                r.createElement(
                  "div",
                  { className: ke().NewsChannelText },
                  r.createElement(
                    "div",
                    { className: ke().NewsChannelTitle },
                    i && "(VO) ",
                    n,
                  ),
                  a &&
                    r.createElement(
                      "div",
                      { className: ke().NewsChannelSubtitle },
                      a,
                    ),
                ),
                Boolean(void 0 !== s) &&
                  r.createElement(
                    "div",
                    { className: ke().NewsChannelCount },
                    s,
                  ),
              ),
            );
      };
      let ut = class extends r.Component {
        render() {
          const e = rt(this.props.bIsUpcoming),
            t = ot(this.props.bIsUpcoming);
          return r.createElement(
            "div",
            { className: ke().NewsChannelGroup },
            r.createElement(
              "div",
              { className: ke().NewsChannelListTitle },
              (0, T.we)("#EventCalendar_NewsChannels"),
            ),
            r.createElement(
              "div",
              { className: ke().NewsChannelList },
              e.map((e) => r.createElement(ct, { key: e.key, element: e })),
            ),
            r.createElement(
              "div",
              { className: ke().NewsChannelListTitle },
              (0, T.we)("#EventCalendar_NewsChannels_Global"),
            ),
            r.createElement(
              "div",
              { className: ke().NewsChannelList },
              t.map((e) => r.createElement(ct, { key: e.key, element: e })),
            ),
          );
        }
      };
      ut = (0, O.Cg)([u.PA], ut);
      class dt extends r.Component {
        render() {
          const e = lt(this.props.bIsUpcoming, !1);
          return e && e.length > 0
            ? r.createElement(
                "div",
                {
                  className: (0, N.A)(
                    ke().NewsChannelGroup,
                    ke().DiscoverGroup,
                  ),
                },
                r.createElement(
                  "div",
                  { className: ke().NewsChannelListTitle },
                  (0, T.we)("#EventCalendar_NewsChannels_Discover"),
                ),
                r.createElement(
                  "div",
                  { className: ke().NewsChannelList },
                  e.map((e) => r.createElement(ct, { key: e.key, element: e })),
                ),
              )
            : null;
        }
      }
      var mt = n(94607),
        pt = n(81477),
        gt = n(42011),
        _t = n(88997),
        vt = n(60155),
        ht = n(61336),
        Et = n(72978),
        Ct = n.n(Et);
      let St = class extends r.Component {
        OnMuteButton(e) {
          const { calendarEvent: t } = this.props;
          let n = t.GetEntityName();
          (0, ie.pg)(
            r.createElement(
              Ee.o0,
              {
                strTitle: (0, T.we)("#EventCalendar_MuteApp_Title", n),
                strDescription: (0, T.we)("#EventCalendar_MuteApp_details", n),
                onOK: () =>
                  (0, K.v0)().UpdateEventBlockFromCalendarEvent(t, !1),
              },
              r.createElement(
                "a",
                {
                  href: D.TS.STORE_BASE_URL + "account/emailoptout/app",
                  target: D.TS.IN_CLIENT ? void 0 : "_blank",
                },
                (0, T.we)("#EventCalendar_ManageMutedSources"),
              ),
            ),
            (0, le.uX)(e),
          );
        }
        OnUnMuteButton() {
          const { calendarEvent: e } = this.props;
          (0, K.v0)().UpdateEventBlockFromCalendarEvent(e, !0);
        }
        HideAllEventsOfMyType() {
          const { eventModel: e } = this.props,
            t = this.GetVisibilityStore().MapClanEventTypeToGroup(
              e.GetEventType(),
            );
          this.GetVisibilityStore().SetEventTypeGroupAllowed(t, !1);
        }
        GetVisibilityStore() {
          return (0, K.v0)().m_visibilityStore;
        }
        AddContextMenuForSource(e, t, n, a = !0) {
          this.GetVisibilityStore().BIsGameSourceAllowed(t) &&
            (a &&
              e.push(
                r.createElement(
                  vt.kt,
                  {
                    key: `item-source-${n}-${t}`,
                    disabled: !0,
                    onSelected: () => {},
                  },
                  (0, T.we)("#EventCalender_Reason_" + t),
                ),
              ),
            e.push(
              r.createElement(
                vt.kt,
                {
                  key: `item-hidesource-${n}-${t}`,
                  onSelected: () => {
                    this.GetVisibilityStore().SetGameSourceAllowed(t, !1);
                  },
                },
                (0, T.we)("#EventCalender_Hide_Reason_" + t),
              ),
            ));
        }
        GotoGameOrClanHub() {
          const { eventModel: e } = this.props,
            t = (0, E.qT)(e, E.PH.k_eStoreNewsHub, "allowRelative");
          t.startsWith("http")
            ? (window.location.href = t)
            : this.props.history.push(t);
        }
        ToggleFollowCurator() {
          (0, Se.cI)(this.props.eventModel.clanSteamID.GetAccountID());
        }
        CreateContextMenu(e) {
          const { eventModel: t, calendarEvent: n } = this.props;
          let a = [];
          const o = n.GetSource(),
            l = n.unique_id,
            s = (0, D.Y2)(),
            i = (0, K.v0)();
          if (
            (i.BIsGlobalCalendar() &&
              (o &&
                o & W.bK.k_eLibrary &&
                (this.GetVisibilityStore().BIsGameSourceAllowed(
                  j.FD.k_ERecent,
                ) && n.appInfo
                  ? (a.push(
                      r.createElement(
                        vt.kt,
                        {
                          key: `item-source-${l}-lastplayed`,
                          disabled: !0,
                          onSelected: () => {},
                        },
                        (0, T.we)(
                          "#EventCalender_LastPlayed",
                          (0, T.Hq)(
                            J.HD.GetTimeNowWithOverride() -
                              n.appInfo.last_played,
                          ),
                        ),
                      ),
                    ),
                    this.AddContextMenuForSource(a, j.FD.k_ERecent, l, !1))
                  : this.AddContextMenuForSource(a, j.FD.k_ELibrary, l)),
              o &&
                o & W.bK.k_eWishlist &&
                this.AddContextMenuForSource(a, j.FD.k_EWishlist, l),
              o &&
                o & W.bK.k_eFollowing &&
                this.AddContextMenuForSource(a, j.FD.k_EFollowing, l),
              !s &&
                o &&
                o & W.bK.k_eCurator &&
                this.AddContextMenuForSource(a, j.FD.k_ECurator, l),
              o &&
                o & W.bK.k_eRecommended &&
                this.AddContextMenuForSource(a, j.FD.k_ERecommended, l),
              o &&
                o & W.bK.k_eSteam &&
                this.AddContextMenuForSource(a, j.FD.k_ESteam, l),
              o &&
                o & W.bK.k_eFeatured &&
                this.AddContextMenuForSource(a, j.FD.k_EFeatured, l)),
            a.push(
              r.createElement(
                vt.kt,
                {
                  key: t.GID + "hidetype",
                  onSelected: this.HideAllEventsOfMyType,
                },
                (0, T.we)(
                  "#EVentCalendar_Hide_EventType",
                  (0, T.we)(
                    "#EventCalendar_EventTypeGroup_" +
                      this.GetVisibilityStore().MapClanEventTypeToGroup(
                        t.GetEventType(),
                      ),
                  ),
                ),
              ),
            ),
            D.iA.logged_in &&
              (Q.S.Get().BIsEventBlocked(n)
                ? a.push(
                    r.createElement(
                      vt.kt,
                      {
                        key: t.GID + "unmuteapp",
                        onSelected: this.OnUnMuteButton,
                      },
                      r.createElement(
                        ae.he,
                        {
                          toolTipContent: (0, T.we)(
                            "#EventCalendar_UnMuteApp_ttip",
                          ),
                        },
                        (0, T.we)(
                          "#EventCalendar_UnMuteApp_Title",
                          this.props.calendarEvent.GetEntityName(),
                        ),
                      ),
                    ),
                  )
                : a.push(
                    r.createElement(
                      vt.kt,
                      { key: t.GID + "muteapp", onSelected: this.OnMuteButton },
                      r.createElement(
                        ae.he,
                        {
                          toolTipContent: (0, T.we)(
                            "#EventCalendar_MuteApp_ttip",
                          ),
                        },
                        (0, T.we)(
                          "#EventCalendar_MuteApp_Title",
                          this.props.calendarEvent.GetEntityName(),
                        ),
                      ),
                    ),
                  )),
            !t.BIsOGGEvent() && !s)
          ) {
            const e = ce.Fm.Get().BIsFollowingCurator(t.clanSteamID);
            a.push(
              r.createElement(
                vt.kt,
                {
                  key: t.GID + "followcurator",
                  onSelected: this.ToggleFollowCurator,
                },
                r.createElement(
                  ae.he,
                  {
                    toolTipContent: (0, T.we)(
                      e
                        ? "#EventCalendar_UnFollowCurator_ttip"
                        : "#EventCalendar_FollowCurator_ttip",
                    ),
                  },
                  (0, T.we)(
                    e
                      ? "#EventCalendar_UnFollowCurator"
                      : "#EventCalendar_FollowCurator",
                    this.props.calendarEvent.GetEntityName(),
                  ),
                ),
              ),
            );
          }
          i.BIsSingleSourceCalendar() ||
            a.push(
              r.createElement(
                vt.kt,
                { key: t.GID + "goto", onSelected: this.GotoGameOrClanHub },
                (0, T.we)(
                  "#EventCalendar_Goto_SpecificCalendar",
                  n.GetEntityName(),
                ),
              ),
            ),
            t.appid &&
              a.push(
                r.createElement(
                  vt.kt,
                  {
                    key: t.GID + "goto",
                    onSelected: () =>
                      (window.location.href = (0, ht.k2)(
                        D.TS.STORE_BASE_URL + "app/" + t.appid,
                      )),
                  },
                  (0, T.we)("#EventDisplay_ViewStorePage"),
                ),
              ),
            (0, _t.lX)(r.createElement(vt.tz, null, a), e);
        }
        render() {
          return r.createElement(
            "div",
            {
              className: (0, N.A)(Ct().FooterStat, Ct().Options),
              onClick: this.CreateContextMenu,
            },
            r.createElement(ne.faJ, null),
          );
        }
      };
      (0, O.Cg)([se.oI], St.prototype, "OnMuteButton", null),
        (0, O.Cg)([se.oI], St.prototype, "OnUnMuteButton", null),
        (0, O.Cg)([se.oI], St.prototype, "HideAllEventsOfMyType", null),
        (0, O.Cg)([se.oI], St.prototype, "AddContextMenuForSource", null),
        (0, O.Cg)([se.oI], St.prototype, "GotoGameOrClanHub", null),
        (0, O.Cg)([se.oI], St.prototype, "ToggleFollowCurator", null),
        (0, O.Cg)([se.oI], St.prototype, "CreateContextMenu", null),
        (St = (0, O.Cg)([u.PA], St));
      const wt = (0, o.y)(St);
      var ft = n(74976),
        It = n(43667),
        bt = n(76684),
        yt = n(10224),
        Nt = n(94743),
        Tt = n(82227),
        Gt = n(27543);
      function Dt(e) {
        const {
            eventModel: t,
            calendarEvent: n,
            bSuppressHoverEffects: a,
            mode: o,
            bHideGameTitle: s,
            fnOnClicked: i,
          } = e,
          [c, u] = r.useState(!1);
        r.useEffect(() => {
          if (n.clanInfo) {
            let e = l.b.InitFromClanID(n.clanInfo.clanid);
            p.ac.LoadClanInfoForClanSteamID(e);
          }
        }, [n.clanInfo]);
        const m = X.KN.Get(),
          g = (0, d.sf)(D.TS.LANGUAGE),
          _ = "capsule",
          [v, h, C, S, w, f, I, b, y, T, G] = (0, U.q3)(() => [
            t.has_live_stream,
            t.GetEventType(),
            t.GetAllTags(),
            t.GetCategoryAsString(),
            t.GetNameWithFallback(g),
            t.BImageNeedScreenshotFallback(_, g),
            t.appid,
            t.GID,
            t.GetStartTimeAndDateUnixSeconds(),
            t.GetSubTitleWithLanguageFallback(g),
            t.GetSummaryWithFallback(g),
          ]),
          [k, B] = r.useState(() =>
            (0, yt.c5)() && 14 == h ? Y.wI.full : Y.wI.capsule_main,
          ),
          A = (0, U.q3)(() =>
            Boolean(f && I)
              ? t.GetFallbackArtworkScreenshot()
              : t.GetImageURLWithFallback(_, g, k),
          ),
          L =
            "upcoming" !== o &&
            (function (e, t, n, a) {
              const { video_preview_type: o, video_preview_id: l, type: s } = e,
                i = t.appid;
              if (!l) return null;
              if (12 === s) return null;
              if ("youtube" === o) {
                const t = (0, d.sf)(D.TS.LANGUAGE),
                  o = (0, yt.c5)() && 14 == s ? Y.wI.full : Y.wI.capsule_main,
                  c = e.GetImageForSizeAsArrayWithFallback("capsule", t, o, !0);
                if ("carousel" === a)
                  return r.createElement(Nt.r, {
                    altImgWithFallback: c,
                    video: l,
                    className: Ct().YoutubePreviewImage,
                  });
                const u = () => {
                  pt.V.RecordAppInteractionEvent(i, pt.E.k_ePlayedVideo), n(!0);
                };
                return r.createElement(Nt.l, {
                  video: l,
                  altImgWithFallback: c,
                  autoplay: !0,
                  autopause: !0,
                  showFullscreenBtn: !0,
                  controls: !0,
                  imageClassnames: Ct().YoutubePreviewImage,
                  onPlayerActivated: u,
                  preloadYoutubeScripts: !0,
                  playsInline: !0,
                });
              }
              return null;
            })(t, n, u, o),
          F = Ct()[`EventType${h}`],
          H = C.map((e) => Ct()[`Tag-${e}`]),
          M = (0, N.A)(
            Ct().TileContainer,
            F,
            v && Ct().TileVideoIcon,
            a ? Ct().DisableHovers : Ct().EnableHovers,
            c && Ct().VideoPlayerReady,
            L && Ct().HasVideo,
            m.HasEventBeenRead(b) && Ct().HasBeenRead,
            "wide" === o && Ct().WideMode,
            "carousel" === o && Ct().CarouselMode,
            "upcoming" === o && Ct().UpcomingMode,
            ...H,
          );
        let R = T,
          x = G;
        R === x && (x = void 0), R === w && (R = void 0);
        const O = (0, q.j3)(A),
          P = r.createElement(kt, {
            videoPreview: L,
            calendarEvent: n,
            eventModel: t,
            mode: o,
            artworkType: _,
            strCapsuleImgURLForBackground: O,
            fnSetCoverSize: B,
          }),
          V = a && 14 != h && !(L && "carousel" !== o),
          W = V && P,
          K = !V && P,
          j = "wide" !== o || a,
          z =
            28 !== h &&
            12 !== h &&
            J.HD.GetTimeNowWithOverride() < y &&
            r.createElement(
              "div",
              {
                className: (0, N.A)(Ct().ReminderContainer, j && Ct().OnlyIcon),
              },
              r.createElement(It.j, {
                eventModel: t,
                lang: g,
                bShowStartTime: !0,
                bOnlyShowIcon: j,
                bExpandLeft: j,
              }),
            ),
          Q = Boolean(12 !== h && x),
          Z = Boolean(
            R &&
              (!Q ||
                !(function (e, t) {
                  const n = (e) => e.replace(/\W+/g, "").toLocaleLowerCase(),
                    a = n(e);
                  return n(t).startsWith(a);
                })(R, x)),
          );
        return r.createElement(
          "div",
          { className: M },
          r.createElement(ft.C, { event: t, recordNewsHubStats: !0 }),
          r.createElement(
            E.tj,
            { eventModel: t, route: E.PH.k_eView },
            r.createElement(
              "div",
              {
                className: Ct().Tile,
                onClick: (e) => {
                  pt.V.RecordAppInteractionEvent(n.appid, pt.E.k_eClickThrough),
                    i(t),
                    e.stopPropagation(),
                    e.preventDefault();
                },
              },
              14 === h &&
                r.createElement("div", {
                  className: (0, N.A)(
                    Ct().TileBackgroundImage,
                    f && Ct().FallbackImage,
                  ),
                  style: { backgroundImage: `url(${O})` },
                }),
              r.createElement(
                "div",
                { className: Ct().MainContentContainer },
                r.createElement(
                  "div",
                  { className: Ct().TileTextContainer },
                  Boolean(12 == h) &&
                    r.createElement(
                      "div",
                      { className: Ct().PatchIconCtn },
                      r.createElement(ne.vjL, null),
                    ),
                  r.createElement(
                    "div",
                    { className: Ct().EventTitleCtn },
                    W,
                    !s &&
                      r.createElement(
                        "div",
                        { className: Ct().GameSource },
                        r.createElement(At, { ...e }),
                        n && r.createElement(Ft, { calendarEvent: n }),
                      ),
                    r.createElement("div", { className: Ct().EventName }, w),
                    r.createElement(
                      "div",
                      { className: Ct().EventTypeAndDateCtn },
                      r.createElement(
                        "div",
                        { className: (0, N.A)(Ct().TileTextCategoryType, F) },
                        S,
                      ),
                      r.createElement(Lt, {
                        eventModel: t,
                        className: (0, N.A)(j && Ct().LeaveRoomForReminder),
                      }),
                      j && z,
                    ),
                    Z &&
                      r.createElement(
                        "div",
                        { className: Ct().EventSubTitle },
                        R,
                      ),
                    Q &&
                      r.createElement(
                        "div",
                        {
                          className: (0, N.A)(
                            Ct().EventSummaryDefault,
                            R ? Ct().SubTitleShown : "",
                          ),
                        },
                        x,
                      ),
                  ),
                  !j && z,
                ),
                K,
              ),
            ),
          ),
          r.createElement(Mt, { ...e }),
        );
      }
      function kt(e) {
        const {
            videoPreview: t,
            eventModel: n,
            calendarEvent: a,
            mode: o,
            artworkType: l,
            strCapsuleImgURLForBackground: s,
            fnSetCoverSize: i,
          } = e,
          c = (0, d.sf)(D.TS.LANGUAGE),
          u = !t && "upcoming" !== o,
          [m, g, _, v, h, E] = (0, U.q3)(() => [
            n.GetEventType(),
            n.has_live_stream,
            n.has_live_stream,
            n.clanSteamID.GetAccountID(),
            a.GetGameCapsule(),
            n.BImageNeedScreenshotFallback(l, c),
          ]);
        r.useEffect(() => {
          const e = new Image();
          (e.src = s),
            (e.onerror = () => {
              i(Y.wI.full);
            });
        }, [s, i]);
        const C = p.ac.GetClanInfoByClanAccountID(v),
          S = C && !C.is_ogg;
        let w = n.GetSummaryWithFallback(c);
        return (
          n.GetSubTitleWithLanguageFallback(c) === w && (w = void 0),
          r.createElement(
            "div",
            { className: Ct().CoverImageCtn },
            t,
            u &&
              r.createElement(
                r.Fragment,
                null,
                12 === m &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      "div",
                      { className: Ct().GameCapsuleCtn },
                      r.createElement("div", {
                        className: (0, N.A)({
                          [Ct().AppBannerLogo]: !0,
                          [Ct().FallbackImage]: E,
                          [Ct().ClanSource]: S,
                        }),
                        style: { backgroundImage: `url(${h})` },
                      }),
                    ),
                    r.createElement(
                      "div",
                      { className: Ct().GameShortDescription },
                      w,
                    ),
                  ),
                12 !== m &&
                  r.createElement(
                    "div",
                    {
                      className: (0, N.A)({
                        [Ct().EventCapsuleCtn]: !0,
                        [Ct().LiveBroadcastPreview]: _,
                      }),
                    },
                    r.createElement("div", {
                      className: (0, N.A)({
                        [Ct().TileImage]: !0,
                        [Ct().FallbackImage]: E,
                        [Ct().ClanSource]: S,
                      }),
                      style: { backgroundImage: `url(${s})` },
                    }),
                    _ &&
                      r.createElement("div", {
                        className: Ct().TileCoverImagePlayable,
                      }),
                    g &&
                      r.createElement(
                        "div",
                        { className: Ct().TileCoverLiveIcon },
                        (0, T.we)("#home_page_live_broadcast"),
                      ),
                    _ &&
                      r.createElement(
                        "div",
                        { className: "VideoHintText" },
                        (0, T.we)("#EventCalendar_WatchLiveBroadcast"),
                      ),
                  ),
              ),
          )
        );
      }
      let Bt = class extends r.Component {
        OnTitleClick(e) {
          const { eventModel: t } = this.props,
            n = (0, E.qT)(t, E.PH.k_eStoreNewsHub, "allowRelative");
          n.startsWith("http")
            ? (window.location.href = n)
            : this.props.history.push(n),
            e.stopPropagation(),
            e.preventDefault();
        }
        render() {
          const {
              eventModel: e,
              calendarEvent: t,
              bSuppressHoverEffects: n,
            } = this.props,
            a = t.GetEntityName(),
            o = t.GetGameIcon(),
            l = (0, N.A)(
              Ct().GameTitleContainer,
              n ? Ct().DisableHovers : Ct().EnableHovers,
            );
          return r.createElement(
            _.tH,
            null,
            r.createElement(
              "div",
              { className: Ct().TileTextHeader },
              r.createElement(
                "div",
                { className: l, onClick: this.OnTitleClick },
                r.createElement("img", { className: Ct().AppIcon, src: o }),
                r.createElement(
                  "div",
                  { className: Ct().TileTextAppName },
                  a,
                  " ",
                ),
              ),
            ),
          );
        }
      };
      (0, O.Cg)([se.oI], Bt.prototype, "OnTitleClick", null),
        (Bt = (0, O.Cg)([u.PA], Bt));
      const At = (0, o.y)(Bt),
        Lt = (0, u.PA)((e) => {
          const { eventModel: t, calendarEvent: n, className: a } = e,
            o = (0, K.v0)().GetStoreInitializationTimestamp().getTime() / 1e3,
            l = t ? t.GetStartTimeAndDateUnixSeconds() : n.start_time,
            s = t && (0, Gt.JS)(t.type) && t.GetEndTimeAndDateUnixSeconds();
          if (s && l < o && o < s) {
            const e = s - o,
              t = (0, T.Hq)(e, !0);
            return r.createElement(
              "div",
              { className: (0, N.A)(Ct().LiveText, a) },
              r.createElement(
                bt.gS,
                { rtFullDate: l, stylesmodule: Ct() },
                r.createElement(
                  "div",
                  { className: Ct().LiveNow },
                  (0, T.we)("#EventCalendar_LiveNow"),
                ),
              ),
              r.createElement(
                bt.gS,
                { rtFullDate: s, stylesmodule: Ct() },
                (0, T.we)("#EventCalendar_TimeLeft", t),
              ),
            );
          }
          if (l < o) {
            const e = o - l,
              t = e < 86400 ? (0, T.Hq)(e, !1, !0) : (0, T._l)(l);
            return r.createElement(
              bt.gS,
              { className: a, rtFullDate: l, stylesmodule: Ct() },
              r.createElement("div", { className: Ct().PastDateText }, t),
            );
          }
          {
            const e = new Date(1e3 * o);
            e.setHours(0, 0, 0, 1);
            const t = e.getTime() / 1e3,
              n = Math.floor((l - t) / 86400),
              s = n > 1 && n <= 5 ? (0, T.cc)(new Date(1e3 * l)) : (0, T._l)(l),
              i = (0, bt.pg)(l);
            return r.createElement(
              bt.gS,
              { className: a, rtFullDate: l, stylesmodule: Ct() },
              r.createElement(
                "div",
                { className: Ct().FutureDateText },
                (0, T.we)("#EventCalendar_WillStartAtDateTime", s, i),
              ),
            );
          }
        }),
        Ft = (0, u.PA)((e) => {
          const t = e.calendarEvent.GetSource(),
            n = [],
            a = (0, K.v0)().m_visibilityStore;
          t & W.bK.k_eLibrary && a.BIsGameSourceAllowed(j.FD.k_ELibrary)
            ? n.push({
                id: W.bK.k_eLibrary,
                name: "#EventCalendar_GameSource_inLibrary",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_library",
                styles: Ct().LibrarySource,
              })
            : t & W.bK.k_eWishlist && a.BIsGameSourceAllowed(j.FD.k_EWishlist)
              ? n.push({
                  id: W.bK.k_eWishlist,
                  name: "#EventCalendar_GameSource_onWishlist",
                  ttip: "#EventCalendar_GameSource_EventExplanation_ttip_wishlist",
                  styles: Ct().WishlistSource,
                })
              : t & W.bK.k_eRecommended &&
                  a.BIsGameSourceAllowed(j.FD.k_ERecommended)
                ? n.push({
                    id: W.bK.k_eRecommended,
                    name: "#EventCalendar_GameSource_recommended_Verbose",
                    ttip: "#EventCalendar_GameSource_EventExplanation_ttip_recommended",
                    styles: Ct().RecommendedSource,
                  })
                : t & W.bK.k_eFeatured &&
                  a.BIsGameSourceAllowed(j.FD.k_EFeatured) &&
                  n.push({
                    id: W.bK.k_eFeatured,
                    name: "#EventCalendar_GameSource_featured",
                    ttip: "#EventCalendar_GameSource_ttip_featured",
                    styles: Ct().FeaturedSource,
                  }),
            t & W.bK.k_eFollowing &&
              a.BIsGameSourceAllowed(j.FD.k_EFollowing) &&
              n.push({
                id: W.bK.k_eFollowing,
                name: "#EventCalendar_GameSource_followed",
                ttip: "#EventCalendar_GameSource_EventExplanation_ttip_following",
                styles: Ct().FollowingSource,
              });
          const o = n.map((t, a) => {
            const r = e.calendarEvent.unique_id;
            return Ht(
              `item-source-${r}-${t.id}`,
              t.name,
              t.ttip,
              t.styles,
              a + 1 < n.length,
            );
          });
          return r.createElement("div", { className: Ct().SourceList }, o);
        }),
        Ht = (e, t, n, a, o) =>
          r.createElement(
            ae.he,
            {
              key: e,
              className: (0, N.A)(Ct().Source, a),
              toolTipContent: (0, T.we)(n),
            },
            (0, T.we)(t) + (o ? ", " : ""),
          );
      let Mt = class extends r.Component {
        OnPerformVoteUp() {
          const { eventModel: e } = this.props,
            t = X.KN.Get();
          !0 !== t.GetPreviouslyLoadedVote(this.props.eventModel) &&
            (0, gt.W)(e, t) &&
            (t.Vote(e, !0, c().CancelToken.source()),
            pt.V.RecordAppInteractionEvent(e.appid, pt.E.k_eThumbsUp));
        }
        OnDiscussionClicked() {
          const { eventModel: e } = this.props;
          pt.V.RecordAppInteractionEvent(e.appid, pt.E.k_eDiscussions);
        }
        render() {
          const e = X.KN.Get(),
            { eventModel: t } = this.props,
            n = Math.max(0, t.nVotesUp - t.nVotesDown),
            a = e.GetPreviouslyLoadedVote(this.props.eventModel),
            o = (function (e, t) {
              return e.BIsUserLoggedIn()
                ? D.iA.is_limited
                  ? Ct().Vote_LimitedUser
                  : !0 === t
                    ? Ct().Vote_Positive
                    : !1 === t
                      ? Ct().Vote_Negative
                      : Ct().Vote_Ready
                : Ct().Vote_NotLoggedIn;
            })(e, a),
            l = t.GetForumTopicURL(),
            s = !(0, D.Y2)() && l,
            i =
              t.live_stream_viewer_count > 0
                ? t.live_stream_viewer_count
                : void 0;
          return r.createElement(
            "div",
            { className: Ct().Footer },
            r.createElement(
              "div",
              { className: Ct().FooterRightSide },
              Boolean(i) &&
                r.createElement(
                  "div",
                  { className: Ct().TileViewerCount },
                  (0, Tt.Dq)(i),
                ),
              r.createElement(
                "div",
                {
                  className: (0, N.A)(Ct().FooterStat, Ct().Vote, o),
                  onClick: this.OnPerformVoteUp,
                },
                r.createElement(ne.bfp, { className: Ct().RateIcon }),
                r.createElement("span", null, Number(n).toLocaleString()),
              ),
              s &&
                r.createElement(
                  "div",
                  { className: Ct().FooterStat },
                  r.createElement(
                    "a",
                    {
                      href: l,
                      className: Ct().CommentIconCtn,
                      target: "_blank",
                      onClick: this.OnDiscussionClicked,
                    },
                    r.createElement(ne._h6, { className: Ct().CommentIcon }),
                    r.createElement(
                      "span",
                      null,
                      Number(t.nCommentCount).toLocaleString(),
                    ),
                  ),
                ),
              r.createElement(wt, { ...this.props }),
            ),
          );
        }
      };
      (0, O.Cg)([se.oI], Mt.prototype, "OnPerformVoteUp", null),
        (0, O.Cg)([se.oI], Mt.prototype, "OnDiscussionClicked", null),
        (Mt = (0, O.Cg)([u.PA], Mt));
      const Rt = {
        include_assets: !0,
        include_release: !0,
        include_screenshots: !0,
      };
      const xt = (0, u.PA)((e) => {
          const {
              calendarEvent: t,
              partnerEventStore: n,
              mode: a,
              forceParentUpdate: o,
            } = e,
            l = "-500px",
            s = Ct()[`EventType${t.event_type}`],
            i = (0, N.A)(Ct().TileContainer, s),
            c = "carousel" === a;
          return r.createElement(
            mt.Y,
            {
              onEnter: () => {
                !(function (e, t, n) {
                  const a = Array();
                  a.push(t.QueueLoadPartnerEvent(e.clanid, e.unique_id)),
                    e.appid && a.push(L.A.Get().QueueAppRequest(e.appid, Rt)),
                    e.clanInfo &&
                      a.push(
                        p.ac.LoadClanInfoForClanAccountID(e.clanInfo.clanid),
                      ),
                    Promise.all(a).then(() => {
                      const a = t.GetClanEventModel(e.unique_id);
                      a &&
                      a.appid &&
                      a.appid != e.appid &&
                      !L.A.Get().BHasApp(a.appid, Rt)
                        ? L.A.Get().QueueAppRequest(a.appid, Rt).then(n)
                        : n();
                    });
                })(t, n, o);
              },
              topOffset: l,
              bottomOffset: l,
            },
            r.createElement(
              "div",
              { className: i },
              r.createElement(
                "div",
                { className: (0, N.A)(Ct().Tile, Ct().LoadingTile) },
                c && r.createElement(y.t, null),
              ),
              r.createElement("div", { className: Ct().Footer }),
            ),
          );
        }),
        Ot = (0, u.PA)((e) => {
          const { partnerEventStore: t, calendarEvent: n, ...a } = e,
            o = t.GetClanEventModel(n.unique_id),
            l = (function (e, t) {
              const n = t.GetClanEventModel(e.unique_id);
              return !(
                !n ||
                (e.appid && !L.A.Get().BHasApp(e.appid, Rt)) ||
                (n.appid &&
                  n.appid != e.appid &&
                  !L.A.Get().BHasApp(n.appid, Rt)) ||
                (e.clanInfo && !p.ac.HasLoadedClanAccountID(e.clanInfo.clanid))
              );
            })(n, t),
            s = (0, se.CH)();
          return l
            ? r.createElement(Dt, { eventModel: o, calendarEvent: n, ...a })
            : r.createElement(xt, {
                calendarEvent: n,
                partnerEventStore: t,
                ...a,
                forceParentUpdate: s,
              });
        });
      var Pt = n(96236),
        Ut = n(17009),
        Vt = n.n(Ut),
        Wt = n(41841),
        qt = n(4434),
        Yt = n(62490),
        Kt = n(68224),
        jt = n.n(Kt);
      const zt = "SteamNewsHub_SuggestCuratorsDismissed";
      function Jt() {
        const e = T.pf.GetELanguageFallbackOrder();
        void 0 === e.find((e) => 0 === e) && e.push(0);
        const t = new Array();
        for (const n of e) {
          const e = ue.Get().GetCuratorsForLang(n);
          if (!e) continue;
          const a = e.filter(
            (e) => !ce.Fm.Get().BIsIgnoringCurator(e.clanAccountID),
          );
          (0, Yt.fW)(a), t.push(...a);
        }
        return t;
      }
      function Xt(e) {
        const { bCanDismiss: t } = e,
          [n, a] = (0, r.useState)(() =>
            (function () {
              const e = JSON.parse(localStorage.getItem(zt));
              return e && e.bDismissed;
            })(),
          ),
          [o, l] = (0, r.useState)(0),
          [s, i] = (0, r.useState)(null),
          c = (0, r.useRef)(),
          u = (0, qt.m)("CuratorFeedSuggestRow"),
          d = (0, r.useCallback)(() => {
            if (!u.token.reason)
              if (c.current) {
                const e = 118,
                  t = Math.floor(
                    Math.min(c.current.clientWidth, window.innerWidth) / e,
                  );
                l(Math.max(t - 1, 0));
              } else l(0);
          }, [u.token.reason]);
        if (
          ((0, r.useEffect)(() => d(), [d]),
          (0, r.useEffect)(() => {
            if (null == s) {
              (async () => {
                await ue.Get().WaitForInitialLoad(), u.token.reason || i(Jt);
              })();
            }
            return (
              window.addEventListener("resize", d),
              () => window.removeEventListener("resize", d)
            );
          }, [u.token.reason, d, s]),
          n)
        )
          return null;
        let m = s?.slice(0, o).map((e) => {
          const t = p.ac.GetClanInfoByClanAccountID(e.clanAccountID);
          return t
            ? r.createElement(
                "div",
                { className: jt().ClanInfo, key: t.clanAccountID },
                r.createElement(Ge, { clanInfo: t, layout: "icon" }),
              )
            : null;
        });
        return r.createElement(
          _.tH,
          null,
          r.createElement(
            "div",
            { className: jt().FeedSuggestContainerBG },
            r.createElement(
              "div",
              { className: jt().FeedSuggestContainer },
              r.createElement(
                "div",
                { className: jt().FeedSuggestCaption },
                (0, T.we)("#EventCurator_FeedCaption_Long"),
              ),
              t &&
                r.createElement(
                  "div",
                  {
                    className: jt().DismissButton,
                    onClick: (e) => {
                      (0, ie.pg)(
                        r.createElement(Ee.o0, {
                          strTitle: (0, T.we)("#EventCurator_DismissTitle"),
                          strDescription: (0, T.we)(
                            "#EventCurator_DismissBody",
                          ),
                          onOK: () => {
                            localStorage.setItem(
                              zt,
                              JSON.stringify({ bDismissed: !0 }),
                            ),
                              u.token.reason || a(!0);
                          },
                        }),
                        (0, le.uX)(e),
                      );
                    },
                  },
                  r.createElement(ne.i6V, null),
                ),
              r.createElement(
                "div",
                { className: jt().RowContainer, ref: c },
                m || r.createElement(y.t, null),
                r.createElement(
                  "div",
                  {
                    className: jt().BrowseMore,
                    onClick: qe.Get().ShowBrowseCurator,
                  },
                  (0, T.we)("#EventCurator_BrowseMore"),
                ),
              ),
            ),
          ),
        );
      }
      var Qt = n(57688),
        Zt = n.n(Qt);
      const $t = (e) => {
        const {
            titleToken: t,
            subtitleToken: n,
            backgroundImg: a,
            headerImg: o,
            headerURL: l,
          } = e,
          s = a ? { backgroundImage: a } : {};
        return r.createElement(
          "div",
          {
            className: (0, N.A)(
              Zt().CommonHeaderStyles,
              Zt().SimpleTitleHeaderCtn,
              e.largeHeader && Zt().LargeHeader,
            ),
            style: s,
          },
          r.createElement(
            "div",
            {
              className: (0, N.A)(
                Zt().CollectionBannerGroup,
                o ? Zt().HeaderImg : Zt().NoHeaderImg,
              ),
            },
            Boolean(l && o) &&
              r.createElement(
                "a",
                { href: l, className: Zt().AppBannerLogoCtn },
                r.createElement("img", {
                  className: Zt().AppBannerLogo,
                  src: o,
                }),
              ),
            Boolean(o && !l) &&
              r.createElement(
                "div",
                { className: Zt().AppBannerLogoCtn },
                r.createElement("img", {
                  className: Zt().AppBannerLogo,
                  src: o,
                }),
              ),
            r.createElement(
              "div",
              { className: Zt().SimpleTitleCtn },
              r.createElement(
                "div",
                { className: Zt().Title },
                t.startsWith("#") ? (0, T.we)(t) : t,
              ),
              n &&
                r.createElement(
                  "div",
                  { className: Zt().Subtitle },
                  n.startsWith("#") ? (0, T.we)(n) : n,
                ),
            ),
          ),
        );
      };
      function en(e) {
        const t = (0, z.d)(e);
        return (
          (0, oe.wT)(!!t, "Must define collection " + e),
          {
            collection: e,
            smallHeight: Number(Zt().simpleTitleSmallHeight),
            largeHeight: Number(Zt().simpleTitleLargeHeight),
            component: (e, n, a) =>
              r.createElement($t, {
                largeHeader: e,
                titleToken: t.strHeaderTitle,
                subtitleToken: t.strHeaderSubtitle,
                headerImg: n,
                headerURL: a,
              }),
          }
        );
      }
      let tn = null;
      function nn() {
        return (
          tn ||
            ((tn = new Array()),
            tn.push(en(z.g.Press)),
            tn.push(en(z.g.Halloween))),
          tn
        );
      }
      var an,
        rn = n(1596),
        on = n(25738),
        ln = n.n(on);
      let sn = class extends r.Component {
        render() {
          const {
            rgCalendarItems: e,
            bSuppressHoverEffects: t,
            strMultipleSourceTitle: n,
          } = this.props;
          if (!e || 0 == e.length) return null;
          const a = e[0];
          if (!e.every((e) => e.appid === a.appid && e.clanid === a.clanid))
            return n
              ? r.createElement(
                  "div",
                  { className: ln().EventTileCarouselTitleContainer },
                  r.createElement(
                    "div",
                    { className: ln().EventTileCarouselTextTitle },
                    n,
                  ),
                )
              : null;
          const o = Boolean(0 === a.appid && D.iA.accountid);
          return r.createElement(
            "div",
            { className: ln().EventTileCarouselTitleContainer },
            r.createElement(
              "div",
              { className: ln().EventTileCarouselTitle },
              r.createElement(Tn, {
                calendarItem: a,
                bSuppressHoverEffects: t,
              }),
            ),
            o &&
              r.createElement(
                "div",
                { className: ln().EventTileCarouselFollow },
                r.createElement(Se.of, { clanAccountID: a.clanid }),
              ),
          );
        }
      };
      sn = (0, O.Cg)([u.PA], sn);
      let cn = (an = class extends r.Component {
        state = {
          bScreenIsWide: an.IsWideScreen(),
          nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow(),
        };
        componentDidMount() {
          window.addEventListener("resize", this.OnResize);
        }
        componentWillUnmount() {
          window.removeEventListener("resize", this.OnResize);
        }
        static IsWideScreen() {
          return window.innerWidth >= 910;
        }
        GetMaxCapsulesPerRow() {
          return an.IsWideScreen() ? 3 : window.innerWidth > 700 ? 2 : 1;
        }
        OnResize() {
          this.setState({
            bScreenIsWide: an.IsWideScreen(),
            nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow(),
          });
        }
        render() {
          const {
            rgCalendarItems: e,
            fnOnEventClick: t,
            bSuppressHoverEffects: n,
            bHideGameTitle: a,
            strMultipleSourceTitle: o,
          } = this.props;
          if (!e || 0 == e.length) return null;
          const l = e.map((o) =>
            r.createElement(Ot, {
              key: "ht-" + o.unique_id,
              calendarEvent: o,
              partnerEventStore: Z.O3,
              fnOnClicked: t,
              bSuppressHoverEffects: n,
              mode: e.length > 1 ? "carousel" : "wide",
              bHideGameTitle: a,
            }),
          );
          return r.createElement(
            "div",
            { className: ln().CalendarRow },
            r.createElement(sn, {
              rgCalendarItems: e,
              bSuppressHoverEffects: n,
              strMultipleSourceTitle: o,
            }),
            r.createElement(
              "div",
              {
                className: (0, N.A)(
                  ln().EventTileCarousel,
                  "EventTileCarouselCtn",
                ),
              },
              r.createElement(
                rn.F,
                {
                  hideArrows: !0,
                  visibleElements: Math.min(
                    this.state.nMaxCapsulesPerRow,
                    this.props.rgCalendarItems.length,
                  ),
                  className: ln().HorizontalTiles,
                  useTestScrollbar: !0,
                  bLazyRenderChildren: !0,
                  disableEdgeWrap: !0,
                  screenIsWide: this.state.bScreenIsWide,
                },
                l,
              ),
            ),
          );
        }
      });
      (0, O.Cg)([se.oI], cn.prototype, "OnResize", null),
        (cn = an = (0, O.Cg)([u.PA], cn));
      var un = n(29342),
        dn = n.n(un);
      const mn = (e) => {
          let t = new Array();
          return (
            D.TS.SUPPORTED_LANGUAGES?.length
              ? (t = D.TS.SUPPORTED_LANGUAGES.map((e) => e.localizedName))
              : t.push((0, T.we)("#Language_" + D.TS.LANGUAGE)),
            r.createElement(
              "div",
              { className: dn().LanguageList },
              t.join(", "),
            )
          );
        },
        pn = (e) => {
          const t = "SteamNewsHub_LanguageDismissed",
            [n, a] = r.useState(
              (() => {
                const e = JSON.parse(localStorage.getItem(t));
                return e && e.bDismissed;
              })(),
            );
          if (n) return null;
          if ((0, D.Y2)()) return null;
          const o = D.TS.STORE_BASE_URL + "account/languagepreferences/";
          return r.createElement(
            "div",
            { className: dn().LanguageFeedNoteBucket },
            r.createElement(
              "div",
              { className: dn().LanguageFeedNoteCtn },
              r.createElement(
                "div",
                {
                  className: dn().DismissButton,
                  onClick: () => {
                    a(!0),
                      localStorage.setItem(
                        t,
                        JSON.stringify({ bDismissed: !0 }),
                      );
                  },
                },
                r.createElement(ne.i6V, null),
              ),
              r.createElement(
                "div",
                { className: dn().BodyFlow },
                r.createElement(
                  "div",
                  { className: dn().LeftColumn },
                  r.createElement(ne.vCk, null),
                ),
                r.createElement(
                  "div",
                  { className: dn().RightColumn },
                  r.createElement(
                    "div",
                    { className: dn().Title },
                    (0, T.we)("#EventCalendar_NewsLanguage_Title"),
                  ),
                  r.createElement(mn, null),
                  r.createElement(
                    "div",
                    { className: dn().Text },
                    (0, T.PP)(
                      "#EventCalendar_NewsLanguage_Text",
                      r.createElement(
                        "a",
                        { href: o },
                        (0, T.we)(
                          "#EventCalendar_NewsLanguage_TextInHyperlink",
                        ),
                      ),
                    ),
                  ),
                ),
              ),
            ),
          );
        };
      var gn,
        _n,
        vn = n(82477);
      const hn = "global_header";
      function En() {
        const e = document.getElementById(hn);
        if (e && "none" != getComputedStyle(e).display) return e;
        const t = document.getElementsByClassName("responsive_header");
        if (
          ((0, oe.wT)(t.length <= 1, "Must have at most one responsive_header"),
          1 == t.length)
        ) {
          return t[0];
        }
        return null;
      }
      function Cn() {
        const e = En();
        return (e && e.id != hn) || D.TS.IN_MOBILE_WEBVIEW;
      }
      function Sn() {
        return (
          Cn() ||
          window.innerWidth <
            parseInt(ke().strDesktopControlBarWidth) +
              parseInt(ke().strMaxMobileWidth)
        );
      }
      let wn = class extends r.Component {
        static {
          gn = this;
        }
        state = {
          bUserIsLoggedIn: D.iA.logged_in,
          nVisibleHeight: 0,
          nScrollTop: 0,
          bControlBarIsCollapsed: Sn(),
          bControlBarWasOpenedByUser: !1,
          nDisappearingHeaderTop: 0,
          nSteamNavHeaderHeight: 0,
          nMobileNavBannerHeight: 0,
          nHubBannerHeight: 0,
          nGroupHeaderHeight: 0,
          nLogInBannerHeight: 0,
          nAccumScrollUp: 0,
          nAccumScrollDown: 0,
        };
        m_refControlBar = r.createRef();
        m_cancelSignal = c().CancelToken.source();
        componentDidMount() {
          this.InitEventCalendarStore(),
            this.UpdateDocumentUI(),
            window.addEventListener("resize", this.OnResize),
            window.addEventListener("scroll", this.OnScroll),
            this.setState({ nVisibleHeight: window.innerHeight }),
            window.scrollTo(0, 0),
            this.UpdateEventControlLocationAndVisibility(),
            D.TS.IN_MOBILE_WEBVIEW &&
              this.props.location &&
              0 == this.props.history.length &&
              this.props.history.push(this.props.location);
        }
        componentDidUpdate(e, t) {
          (t.bUserIsLoggedIn == this.state.bUserIsLoggedIn &&
            JSON.stringify(e.filter_to_appids) ==
              JSON.stringify(this.props.filter_to_appids) &&
            JSON.stringify(e.filter_to_clanids) ==
              JSON.stringify(this.props.filter_to_clanids) &&
            e.filter_to_collection === this.props.filter_to_collection &&
            e.filter_to_saleid === this.props.filter_to_saleid &&
            e.filter_to_contenthub_hubtype ===
              this.props.filter_to_contenthub_hubtype &&
            e.filter_to_contenthub_category_or_language ===
              this.props.filter_to_contenthub_category_or_language &&
            e.filter_to_contenthub_tag_name ===
              this.props.filter_to_contenthub_tag_name &&
            e.section_by_day === this.props.section_by_day) ||
            (window.scrollTo(0, 0), this.InitEventCalendarStore()),
            this.UpdateDocumentUI(),
            this.LoadEventToShowAsModal(),
            this.UpdateEventControlLocationAndVisibility();
        }
        UpdateEventControlLocationAndVisibility() {
          if (this.props.location) {
            const e = qe
              .Get()
              .UpdateLocation(() => this.props.history, this.props.location);
            (("desktop_navigation" != e && this.state.bControlBarIsCollapsed) ||
              ("desktop_navigation" == e &&
                !this.state.bControlBarIsCollapsed &&
                Cn())) &&
              this.ToggleControlBarCollapsed();
          }
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted"),
            window.removeEventListener("resize", this.OnResize),
            window.removeEventListener("scroll", this.OnScroll),
            this.UpdateBodyScrollState(!0);
          const e = En();
          e && (e.style.transform = "");
        }
        GetCurrentHubBannerHeight(e) {
          const t = e && !(0, yt.c5)();
          return (0, K.v0)().GetCollectionID()
            ? (function (e, t) {
                if (!e) return 0;
                const n = nn().find((t) => t.collection === e);
                return n ? (t ? n.largeHeight : n.smallHeight) : 0;
              })((0, K.v0)().GetCollectionID(), t)
            : (0, K.v0)().BIsSaleCalendar()
              ? ((n = (0, K.v0)().GetSaleID()),
                (a = t),
                n && Z.O3.GetClanEventModel(n)
                  ? Number(
                      a
                        ? Zt().simpleTitleLargeHeight
                        : Zt().simpleTitleSmallHeight,
                    )
                  : 0)
              : (0, K.v0)().BIsSingleSourceCalendar()
                ? parseInt(
                    t
                      ? ke().strJumboHubBannerHeight
                      : ke().strDesktopHubBannerHeight,
                  ) - 1
                : 0;
          var n, a;
        }
        BShowLogInBanner() {
          return Boolean(
            !this.state.bUserIsLoggedIn && (0, K.v0)().BIsGlobalCalendar(),
          );
        }
        GetCurrentHeaderHeights(e) {
          const t = Cn(),
            n = (0, yt.c5)();
          let a = 0;
          En() &&
            ((a = parseInt(
              t
                ? ke().strMobileGlobalHeaderHeight
                : ke().strDesktopGlobalHeaderHeight,
            )),
            (a -= 1));
          const r =
              parseInt(
                n
                  ? ke().strMobileGroupHeaderHeight
                  : ke().strDesktopGroupHeaderHeight,
              ) - 1,
            o = (t ? parseInt(ke().strMobileNavBannerHeight) : 0) - 1,
            l = this.GetCurrentHubBannerHeight(e);
          let s = 0;
          return (
            this.BShowLogInBanner() &&
              (s =
                e && !n
                  ? parseInt(ke().strLogInBannerLargeHeight)
                  : parseInt(ke().strLogInBannerSmallHeight)),
            {
              nSteamNavHeaderHeight: a,
              nMobileNavBannerHeight: o,
              nHubBannerHeight: l,
              nGroupHeaderHeight: r,
              nLogInBannerHeight: s,
            }
          );
        }
        async LoadEventToShowAsModal() {
          const e = (0, s.f3)(this.props.location, "megaphone");
          if (!!e && "0" !== e && "false" !== e) {
            (0, s.le)(this.props.history, "megaphone", null);
            const e = { exclude_tags: ["patchnotes", "skip_megaphone"] },
              t = await Z.O3.LoadAdjacentPartnerEvents(
                null,
                null,
                q.DU,
                0,
                1,
                e,
              );
            if (1 == t?.length) {
              const e = t[0];
              (0, s.iV)(this.props.history, {
                emclan: e.clanSteamID.ConvertTo64BitString(),
                emgid: e.GID,
              });
            } else
              console.error("Could not find the most recent Steam Blog post.");
          }
          const t = (0, s.f3)(this.props.location, "clientpatchnotes");
          if (!!t && "0" !== t && "false" !== t) {
            (0, s.le)(this.props.history, "clientpatchnotes", null);
            const [e, n] = "beta" === t ? [null, q.Ro] : [q.DU, null],
              a = { require_tags: ["patchnotes"] },
              r = await Z.O3.LoadAdjacentPartnerEvents(
                null,
                l.b.InitFromClanID(n),
                e,
                0,
                1,
                a,
              );
            if (1 == r?.length) {
              const e = r[0];
              (0, s.iV)(this.props.history, {
                emclan: e.clanSteamID.ConvertTo64BitString(),
                emgid: e.GID,
              });
            } else
              console.error(
                "Could not find the most recent Steam client patch notes.",
              );
          }
          const n = (0, s.f3)(this.props.location, "emclan"),
            a = (0, s.f3)(this.props.location, "emgid");
          if (n && a) {
            const e = new l.b(n);
            if (
              this.state.modalEvent &&
              this.state.modalEvent.clanSteamID.ConvertTo64BitString() ==
                e.ConvertTo64BitString() &&
              this.state.modalEvent.GID == a
            )
              return;
            const t = await Z.O3.LoadPartnerEventFromClanEventGIDAndClanSteamID(
              e,
              a,
              0,
            );
            this.setState({ modalEvent: t });
          } else this.state.modalEvent && this.setState({ modalEvent: null });
        }
        BShowFutureView() {
          const e = (0, s.f3)(this.props.location, "upcoming");
          return e && "false" != e;
        }
        BShowUpdatesOnly() {
          return !(
            !this.props.filter_to_appids ||
            1 != this.props.filter_to_appids.length ||
            "true" != (0, s.f3)(this.props.location, "updates")
          );
        }
        UpdateDocumentUI() {
          let e, t;
          const n = (0, K.v0)();
          if (n.BIsGlobalCalendar()) {
            const t = (0, z.d)(
              this.BShowFutureView() ? z.g.Upcoming : z.g.Default,
            );
            e = t?.strHeaderTitle ?? t?.strName;
          } else if (n.BIsSingleAppCalendar()) {
            const t = n.GetSingleAppID();
            e = L.A.Get().GetApp(t)?.GetName();
          } else if (n.BIsSingleGroupCalendar()) {
            const t = n.GetSingleGroupID(),
              a = t && p.ac.GetClanInfoByClanAccountID(t);
            e = a && a.group_name;
          } else if (n.BIsCollectionCalendar()) {
            const t = n.GetCollectionID(),
              a = (0, z.d)(t);
            e = a?.strHeaderTitle ?? a?.strName;
          } else if (n.BIsSaleCalendar()) {
            const a = Z.O3.GetClanEventModel(n.GetSaleID());
            if (a) {
              if (a.appid) e = L.A.Get().GetApp(a.appid)?.GetName();
              else {
                const t = a.clanSteamID?.GetAccountID(),
                  n = t && p.ac.GetClanInfoByClanAccountID(t);
                e = n && n.group_name;
              }
              t = a && a.GetNameWithFallback((0, d.sf)(D.TS.LANGUAGE));
            }
          }
          let a = (0, T.we)("#EventCalendar_TabTitle_Global");
          e &&
            (a = t
              ? (0, T.we)(
                  "#EventCalendar_TabTitle_GroupNameAndEventDetail",
                  e,
                  t,
                )
              : (0, T.we)("#EventCalendar_TabTitle_GroupHub", e)),
            document.title != a && (document.title = a),
            document.body.classList.contains("events_hub") ||
              document.body.classList.add("events_hub");
        }
        OnResize() {
          this.setState((e) => {
            const t = window.innerHeight,
              n = !e.bControlBarWasOpenedByUser && Sn(),
              a = this.GetCurrentHeaderHeights(this.state.nScrollTop <= 0);
            return (
              this.UpdateBodyScrollState(n),
              { nVisibleHeight: t, bControlBarIsCollapsed: n, ...a }
            );
          });
        }
        OnScroll() {
          const e = Math.round(window.scrollY);
          this.setState((t) => {
            const n = t.nScrollTop <= 0,
              a = e <= 0;
            let { nHubBannerHeight: r, nLogInBannerHeight: o } = t;
            if (n != a) {
              const e = this.GetCurrentHeaderHeights(a);
              (r = e.nHubBannerHeight), (o = e.nLogInBannerHeight);
            }
            const l = e - t.nScrollTop;
            let s = Math.max(0, t.nAccumScrollUp - l),
              i = Math.max(0, t.nAccumScrollDown + l),
              c = t.nDisappearingHeaderTop;
            let u = t.nDisappearingHeaderTop < 0;
            i > 80 && ((s = 0), (i = 0), (u = !0)),
              (s > 100 || a) && ((s = 0), (i = 0), (u = !1)),
              this.state.bControlBarIsCollapsed || (u = !1),
              t.modalEvent && (u = !0);
            const d = t.nSteamNavHeaderHeight + r + t.nMobileNavBannerHeight;
            if (((c = u ? -1 * d : 0), c !== t.nDisappearingHeaderTop)) {
              const e = En();
              e && (e.style.transform = `translateY(${c}px)`);
            }
            return {
              nScrollTop: e,
              nAccumScrollUp: s,
              nAccumScrollDown: i,
              nDisappearingHeaderTop: c,
              nHubBannerHeight: r,
              nLogInBannerHeight: o,
            };
          });
        }
        static m_bInitialLoad = !0;
        async InitEventCalendarStore() {
          const e = {
              appids: this.props.filter_to_appids,
              clanaccountids: this.props.filter_to_clanids,
              collectionid: this.props.filter_to_collection,
              saleid: this.props.filter_to_saleid,
              hubtype: this.props.filter_to_contenthub_hubtype,
              category_or_language:
                this.props.filter_to_contenthub_category_or_language,
              tag_name: this.props.filter_to_contenthub_tag_name,
              bSectionByDay: this.props.section_by_day,
            },
            t = (0, K.Zr)(e, this.props.initialFilters),
            n = (0, K.v0)(),
            a =
              (Q.S.Get(),
              Boolean(this.state.bUserIsLoggedIn && D.iA.accountid)),
            r = n.BIsGlobalCalendar() && a ? "local" : "session",
            o = n.BIsGlobalCalendar() ? "U" + D.iA.accountid : t;
          n.m_visibilityStore.Init(
            a,
            this.BShowUpdatesOnly(),
            n.BIsShowingFeaturedFeed(),
            o,
            r,
          );
          const s = !n.BIsCollectionCalendar();
          if (
            (n.SetFilteredView(
              (e) => n.m_visibilityStore.BShouldDisplayEvent(e),
              s,
            ),
            gn.m_bInitialLoad)
          ) {
            const e = (0, D.Tc)("metadatainfo", "application_config");
            n.SetCollectionMetaData(n.ValidateCollectionMetadata(e) ? e : null);
          }
          const i =
            gn.m_bInitialLoad &&
            (0, D.Tc)("initialEvents", "application_config");
          i
            ? (await n.RegisterCalendarEventsAndModels(i),
              (gn.m_bInitialLoad = !1))
            : await n.RegisterCalendarEventsAndModels({ success: 1 }),
            n.BIsSingleSourceCalendar() &&
              (n.BIsSingleAppCalendar()
                ? L.A.Get().QueueAppRequest(n.GetSingleAppID(), {
                    include_assets: !0,
                    include_platforms: !0,
                    include_basic_info: !0,
                    include_release: !0,
                  })
                : p.ac.LoadClanInfoForClanSteamID(
                    l.b.InitFromClanID(n.GetSingleGroupID()),
                  )),
            this.OnResize();
        }
        UpdateBodyScrollState(e) {
          const t = !e && Cn(),
            n = document.body;
          n &&
            (t
              ? n.classList.add(ke().BodyNoScroll)
              : n.classList.remove(ke().BodyNoScroll));
        }
        MobileNavOpenSettings() {
          this.ToggleControlBarCollapsed(),
            this.m_refControlBar.current &&
              this.m_refControlBar.current.OpenFilterSettings(!0);
        }
        ToggleControlBarCollapsed() {
          this.setState((e) => {
            const t = !e.bControlBarIsCollapsed,
              n = e.bControlBarIsCollapsed,
              a = t ? e.nDisappearingHeaderTop : 0,
              r = En();
            return (
              r && (r.style.transform = `translateY(${a}px)`),
              this.UpdateBodyScrollState(t),
              {
                bControlBarIsCollapsed: t,
                bControlBarWasOpenedByUser: n,
                nDisappearingHeaderTop: a,
              }
            );
          });
        }
        OnControlBarChange() {
          window.scrollTo(0, 0);
        }
        CloseEventModal() {
          const e = En();
          e &&
            (e.style.transform = `translateY(${this.state.nDisappearingHeaderTop}px)`),
            "PUSH" === this.props.history.action
              ? this.props.history.goBack()
              : (0, s.ip)(this.props.history, {
                  emclan: void 0,
                  emgid: void 0,
                });
        }
        OnEventClicked(e) {
          X.KN.Get().RecordEventRead(e, 8);
          const t =
              this.state.nSteamNavHeaderHeight +
              this.state.nHubBannerHeight +
              this.state.nMobileNavBannerHeight,
            n = En();
          if (
            (n && (n.style.transform = `translateY(${-1 * t}px)`),
            J.HD.bOpenEventLandingPage)
          ) {
            const t = (0, E.qT)(e, E.PH.k_eStoreView, "allowRelative");
            this.props.history.push(t);
          } else
            (0, s.ip)(this.props.history, {
              emclan: e.clanSteamID.ConvertTo64BitString(),
              emgid: e.GID,
            });
        }
        ToggleFutureView() {
          (0, s.Bm)(
            this.props.history,
            "upcoming",
            this.BShowFutureView() ? "false" : "true",
          );
        }
        ResetAllFilters() {
          (0, s.Bm)(this.props.history, "updates", void 0),
            (0, K.v0)().m_visibilityStore.InitDefaultCheckboxes(
              this.state.bUserIsLoggedIn,
              !1,
            );
        }
        render() {
          const e =
              this.state.nSteamNavHeaderHeight +
              this.state.nHubBannerHeight +
              this.state.nMobileNavBannerHeight +
              this.state.nLogInBannerHeight,
            t =
              this.state.nDisappearingHeaderTop +
              this.state.nSteamNavHeaderHeight,
            n = t + this.state.nMobileNavBannerHeight,
            a = n + this.state.nLogInBannerHeight,
            o = this.state.nVisibleHeight <= parseInt(ke().strMinMobileHeight),
            l = o
              ? 0
              : this.state.nDisappearingHeaderTop +
                this.state.nSteamNavHeaderHeight,
            s = o ? 0 : this.state.nDisappearingHeaderTop + e,
            i = (0, K.v0)().m_visibilityStore.BAreAnyEventsFiltered(
              this.state.bUserIsLoggedIn,
            )
              ? this.ResetAllFilters
              : null;
          return r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              { className: ke().EventCalendarContainer },
              r.createElement(
                _.tH,
                null,
                this.state.modalEvent
                  ? r.createElement(h.N, {
                      appid: this.state.modalEvent.appid,
                      trackingLocation: 8,
                      announcementGID:
                        this.state.modalEvent.GetAnnouncementGID(),
                      partnerEventStore: Z.O3,
                      eventModel: this.state.modalEvent,
                      showAppHeader: !0,
                      closeModal: this.CloseEventModal,
                    })
                  : null,
              ),
              r.createElement(
                _.tH,
                null,
                r.createElement(et, {
                  ref: this.m_refControlBar,
                  bUserIsLoggedIn: this.state.bUserIsLoggedIn,
                  nDisappearingHeaderVisibleHeight: l,
                  bIsCollapsed: this.state.bControlBarIsCollapsed,
                  bShowUpcoming: this.BShowFutureView(),
                  bShouldIncludeLegalFooter: !Cn(),
                  fnToggleCollapsed: this.ToggleControlBarCollapsed,
                  fnOnFilterChange: this.OnControlBarChange,
                }),
              ),
              r.createElement(
                _.tH,
                null,
                r.createElement(
                  "div",
                  {
                    className: (0, N.A)(
                      ke().ReserveControlSpace,
                      !this.state.bControlBarIsCollapsed && ke().WideLeftGutter,
                    ),
                  },
                  r.createElement(
                    _.tH,
                    null,
                    this.state.nLogInBannerHeight > 0 &&
                      r.createElement(Bn, {
                        nTopOffset: n,
                        bLargeMode: this.state.nScrollTop <= 0 && !(0, yt.c5)(),
                      }),
                  ),
                  r.createElement(
                    _.tH,
                    null,
                    this.state.nMobileNavBannerHeight > 0 &&
                      r.createElement(it, {
                        bIsUpcoming: this.BShowFutureView(),
                        nTopOffset: t,
                        fnToggleCollapsed: this.MobileNavOpenSettings,
                      }),
                    r.createElement(In, {
                      nTopOffset: a,
                      bLargeMode: this.state.nScrollTop <= 0 && !(0, yt.c5)(),
                    }),
                  ),
                  r.createElement(
                    _.tH,
                    null,
                    r.createElement(bn, {
                      bShowFutureViewOnly: this.BShowFutureView(),
                      bShowUpdatesOnly: this.BShowUpdatesOnly(),
                      fnOnEventClick: this.OnEventClicked,
                      fnToggleSeeFuture: this.ToggleFutureView,
                      fnResetFilters: i,
                      nVisibleHeight: this.state.nVisibleHeight,
                      nScrollTop: this.state.nScrollTop,
                      nDisappearingHeaderVisibleHeight: s,
                      bUserIsLoggedIn: Boolean(
                        this.state.bUserIsLoggedIn && D.iA.accountid,
                      ),
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, O.Cg)([se.oI], wn.prototype, "OnResize", null),
        (0, O.Cg)([se.oI], wn.prototype, "OnScroll", null),
        (0, O.Cg)([se.oI], wn.prototype, "MobileNavOpenSettings", null),
        (0, O.Cg)([se.oI], wn.prototype, "ToggleControlBarCollapsed", null),
        (0, O.Cg)([se.oI], wn.prototype, "OnControlBarChange", null),
        (0, O.Cg)([se.oI], wn.prototype, "CloseEventModal", null),
        (0, O.Cg)([se.oI], wn.prototype, "OnEventClicked", null),
        (0, O.Cg)([se.oI], wn.prototype, "ToggleFutureView", null),
        (0, O.Cg)([se.oI], wn.prototype, "ResetAllFilters", null),
        (wn = gn = (0, O.Cg)([u.PA], wn));
      const fn = (0, o.y)(wn);
      function In(e) {
        const t = (0, U.q3)(() => (0, K.v0)()),
          [n, a, o, s, i, c, u, m] = (0, U.q3)(() => [
            t.GetCollectionMetaData()?.clan_event_gid || void 0,
            t.GetCollectionID(),
            t.BHasCollectionMetaData(),
            t.BIsSaleCalendar(),
            t.GetSaleID(),
            t.BIsSingleSourceCalendar(),
            t.BIsSingleAppCalendar() ? t.GetSingleAppID() : void 0,
            t.BIsSingleGroupCalendar() ? t.GetSingleGroupID() : void 0,
          ]),
          [p, g] = r.useState(!1),
          _ = (0, d.sf)(D.TS.LANGUAGE);
        if (
          (r.useEffect(() => {
            if (o && n && !Z.O3.GetClanEventModel(n)) {
              g(!0);
              (async () => {
                const e = t.GetCollectionMetaData(),
                  n = l.b.InitFromClanID(e.clanid);
                await Z.O3.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                  n,
                  e.clan_event_gid,
                  0,
                ),
                  g(!1);
              })();
            }
          }, [t, o, n]),
          a)
        ) {
          let t, l;
          if (o && !p) {
            const e = Z.O3.GetClanEventModel(n);
            e &&
              ((t = e.GetImageURLWithFallback("capsule", _, Y.wI.capsule_main)),
              (l = e.GetSaleURL()));
          }
          const s = (function (e, t, n, a) {
            if (!e) return null;
            const r = nn().find((t) => t.collection === e);
            return r ? r.component(t, n, a) : null;
          })(a, e.bLargeMode, t, l);
          if (!s) return null;
          const i = (0, N.A)(ke().HubBanner, Vt().WideBanner);
          return r.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: i,
            },
            s,
          );
        }
        if (s) {
          const t = (function (e, t) {
            if (!e) return null;
            let n = Z.O3.GetClanEventModel(e);
            if (!n) return null;
            let a = (0, d.sf)(D.TS.LANGUAGE);
            return r.createElement($t, {
              largeHeader: t,
              titleToken: n.GetNameWithFallback(a),
              subtitleToken: n.GetSubTitleWithSummaryFallback(a),
              headerImg: n.GetImageURLWithFallback(
                "capsule",
                a,
                Y.wI.capsule_main,
              ),
            });
          })(i, e.bLargeMode);
          if (!t) return null;
          const n = (0, N.A)(ke().HubBanner, Vt().WideBanner);
          return r.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: n,
            },
            t,
          );
        }
        if (c) {
          const t = (0, N.A)(
            ke().HubBanner,
            Vt().WideBanner,
            e.bLargeMode && ke().LargeMode,
            e.bLargeMode && Vt().TallBanner,
          );
          return r.createElement(
            "div",
            {
              style: { transform: `translateY(${e.nTopOffset}px)` },
              className: t,
            },
            r.createElement(Wt.W, { appId: u, clanId: m, bShowRSSFeed: !0 }),
          );
        }
        return null;
      }
      let bn = class extends r.Component {
        GetCurrentSectionLayout() {
          let e = 0;
          return (0, K.v0)()
            .GetCalendarSections(this.props.bShowFutureViewOnly)
            .map((t) => {
              const n = Math.max(e, t.nTopOffset),
                a = n + t.nRenderedHeight;
              return (e = a), { section: t, nTopOfSection: n };
            });
        }
        GetMergeEventsType() {
          const e = (0, K.v0)(),
            t = e.GetCollectionID();
          return e.BIsSingleSourceCalendar() || t === z.g.Steam
            ? "none"
            : e.BIsShowingFeaturedFeed()
              ? "full"
              : t
                ? "samesource"
                : "full";
        }
        GetCuratorSuggestionSettings(e) {
          if (D.iA.accountid && J.HD.bIsCuratorsEnabled)
            if (e.BIsGlobalCalendar() && !this.props.bShowFutureViewOnly) {
              if (e.m_visibilityStore.BIsGameSourceAllowed(j.FD.k_ECurator))
                return {
                  nInlineOffset: 1e3,
                  bInlineDismissable: !0,
                  bShowAtEnd: !0,
                };
            } else if (e.GetCollectionID() === z.g.Press)
              return {
                nInlineOffset: 1e3,
                bInlineDismissable: !1,
                bShowAtEnd: !1,
              };
          return {
            nInlineOffset: void 0,
            bInlineDismissable: !1,
            bShowAtEnd: !1,
          };
        }
        render() {
          const e = (0, K.v0)(),
            {
              bShowFutureViewOnly: t,
              bShowUpdatesOnly: n,
              fnOnEventClick: a,
              fnToggleSeeFuture: o,
              fnResetFilters: l,
              nScrollTop: s,
              nDisappearingHeaderVisibleHeight: i,
            } = this.props,
            c = e.GetCalendarSections(t);
          if (0 == c.length) return null;
          const u = (0, yt.c5)(),
            d = e.m_visibilityStore.BAreAllEventsHidden(),
            m = s;
          let p = !0;
          const g = this.GetCuratorSuggestionSettings(e);
          let _;
          const v = d
            ? []
            : this.GetCurrentSectionLayout().map(
                ({ section: e, nTopOfSection: n }, l) => {
                  const {
                      strId: s,
                      strSectionLabel: i,
                      rtSectionStart: c,
                      rtSectionEnd: d,
                      bIsFutureSection: v,
                      nRenderedHeight: h,
                    } = e,
                    E = n < m,
                    C = (0, N.A)(ke().PastSection, p && ke().DarkerBackground);
                  h > 0 &&
                    ((p = !p),
                    void 0 !== g.nInlineOffset &&
                      n >= g.nInlineOffset &&
                      void 0 === _ &&
                      (_ = l));
                  const S = !t && v;
                  return r.createElement(
                    Pt.K,
                    {
                      key: s,
                      className: ke().LazyCalendarSectionCtn,
                      placeholderHeight: h,
                      rootMargin: "100% 0px 100% 0px",
                    },
                    r.createElement(Dn, {
                      bRenderStickyHeader: E,
                      strSectionLabel: i,
                      rtSectionStart: c,
                      rtSectionEnd: d,
                      strSectionClassname: C,
                      bUseHorizontalLayout: S,
                      fnOnSeeFutureClick: o,
                      bShowEarliestFirst: t || S,
                      section: e,
                      fnOnEventClick: a,
                      bSuppressHoverEffects: u,
                      strMergeEvents: this.GetMergeEventsType(),
                    }),
                  );
                },
              );
          void 0 !== _ &&
            v.splice(
              _,
              0,
              r.createElement(Xt, {
                key: "CuratorSuggestions",
                bCanDismiss: g.bInlineDismissable,
              }),
            ),
            e.GetCollectionID() === z.g.Press &&
              v.splice(0, 0, r.createElement(pn, { key: "LanguageFeedRow" }));
          const h = c[0].rtSectionStart,
            E = (0, K.v0)().GetCurrentlyLoadedEventCount(0, h),
            C = (0, K.v0)().GetCurrentlyLoadedEventCount(h);
          let S =
              E &&
              (E.nCount
                ? "#EventCalendar_NoMorePastEvents"
                : "#EventCalendar_NoPastEvents"),
            w =
              l &&
              r.createElement(
                ae.he,
                {
                  key: "link-back",
                  toolTipContent: (0, T.we)("#EventCalendar_ResetFilters_ttip"),
                  className: (0, N.A)(ke().BackToThePast, ke().NoCount),
                  onClick: l,
                },
                (0, T.we)("#EventCalendar_ResetFiltersButton"),
              );
          d && this.props.fnResetFilters
            ? (S = "#EventCalendar_EmptyCalendar")
            : t
              ? ((S =
                  C &&
                  (C.nCount
                    ? "#EventCalendar_NoMoreFutureEvents"
                    : "#EventCalendar_NoFutureEvents")),
                (w =
                  E &&
                  r.createElement(
                    "div",
                    {
                      key: "link-back",
                      className: ke().BackToThePast,
                      onClick: o,
                    },
                    (0, T.we)("#EventCalendar_PastEventsLink"),
                    r.createElement(
                      "span",
                      { className: ke().SeeAllCount },
                      E.nCount + (E.bIsComplete ? "" : "+"),
                    ),
                  )))
              : n &&
                (S =
                  E &&
                  (E.nCount
                    ? "#EventCalendar_NoMorePastUpdates"
                    : "#EventCalendar_NoPastUpdates"));
          let f = null;
          return (
            (d || e.BHitEventHorizon(t ? "forward" : "backward")) &&
              (f = r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  {
                    key: "no-more-events",
                    className: (0, N.A)(ke().EndOfRows, ke().CalendarRow),
                  },
                  r.createElement(
                    "div",
                    { className: ke().NoMoreRows },
                    " ",
                    (0, T.we)(S),
                    " ",
                  ),
                ),
                g.bShowAtEnd &&
                  r.createElement(Xt, {
                    key: "CuratorSuggestions",
                    bCanDismiss: !1,
                  }),
                w,
              )),
            r.createElement(
              "div",
              {
                className: ke().RowContainer,
                style: { transform: `translateY(${i - 1}px)` },
              },
              r.createElement(
                "div",
                { className: ke().Rows },
                n &&
                  r.createElement(
                    "div",
                    { className: ke().UpdatePageBanner },
                    (0, T.we)("#EventCalendar_UpdatesViewHeader"),
                  ),
                v,
                f,
              ),
            )
          );
        }
      };
      bn = (0, O.Cg)([u.PA], bn);
      let yn = class extends r.Component {
        render() {
          const e = this.props.rgCalendarItems[0].start_time,
            t = (0, K.v0)().GetCurrentlyLoadedEventCount(e);
          return this.props.rgCalendarItems.length <= 1
            ? null
            : r.createElement(
                "div",
                {
                  key: "see-all-link",
                  className: ke().MobileSeeAllink,
                  onClick: this.props.fnOnSeeFutureClick,
                },
                (0, T.we)("#EventCalendar_FutureEventsLink"),
                r.createElement(
                  "span",
                  { className: ke().SeeAllCount },
                  t.nCount + (t.bIsComplete ? "" : "+"),
                ),
              );
        }
      };
      yn = (0, O.Cg)([u.PA], yn);
      let Nn = class extends r.Component {
        render() {
          const {
            rgCalendarItems: e,
            fnOnEventClick: t,
            fnOnSeeFutureClick: n,
            bSuppressHoverEffects: a,
          } = this.props;
          return e && 0 != e.length
            ? r.createElement(
                "div",
                { className: ke().CalendarRow },
                r.createElement(
                  "div",
                  {
                    className: (0, N.A)(
                      ke().HorizontalTileContainer,
                      "HorizontalTileCtn",
                    ),
                  },
                  r.createElement(
                    "div",
                    { className: ke().HorizontalTiles },
                    e.map((n) =>
                      r.createElement(Ot, {
                        key: "ht-" + n.unique_id,
                        calendarEvent: n,
                        partnerEventStore: Z.O3,
                        fnOnClicked: t,
                        bSuppressHoverEffects: a,
                        mode: e.length > 1 ? "upcoming" : "wide",
                        bHideGameTitle:
                          (0, K.v0)().BIsSingleSourceCalendar() &&
                          (0, K.v0)().BEventMatchCalendarSingleSource(n),
                      }),
                    ),
                  ),
                  r.createElement(yn, {
                    rgCalendarItems: e,
                    fnOnSeeFutureClick: n,
                  }),
                ),
              )
            : null;
        }
      };
      Nn = (0, O.Cg)([u.PA], Nn);
      const Tn = (0, u.PA)((e) => {
        const { calendarItem: t, bSuppressHoverEffects: n } = e,
          a = Z.O3.GetClanEventModel(t.unique_id);
        return a
          ? r.createElement(
              "div",
              { className: ke().EventListTitle },
              r.createElement(At, {
                eventModel: a,
                calendarEvent: t,
                bSuppressHoverEffects: n,
              }),
            )
          : null;
      });
      var Gn;
      !(function (e) {
        e[(e.eCurators = 1)] = "eCurators";
      })(Gn || (Gn = {}));
      let Dn = (_n = class extends r.Component {
        m_ref = r.createRef();
        rtSectionStart = void 0;
        rtSectionEnd = void 0;
        constructor(e) {
          super(e),
            (0, P.Gn)(this),
            (this.rtSectionStart = e.rtSectionStart),
            (this.rtSectionEnd = e.rtSectionEnd);
        }
        componentDidMount() {
          this.UpdatePositioning();
        }
        componentDidUpdate() {
          this.UpdatePositioning(),
            (this.rtSectionStart = this.props.rtSectionStart),
            (this.rtSectionEnd = this.props.rtSectionEnd);
        }
        UpdatePositioning() {
          this.m_ref.current &&
            (0, P.h5)(() => {
              const { section: e } = this.props,
                t = this.m_ref.current.getBoundingClientRect().height;
              e.nRenderedHeight != t && (e.nRenderedHeight = t);
              const n = this.m_ref.current.offsetTop;
              e.nTopOffset != n && (e.nTopOffset = n);
            });
        }
        get cachedCalendarItems() {
          return (0, K.v0)().GetCalendarItemsInTimeRange(
            (0, V.uP)(() => this.rtSectionStart),
            (0, V.uP)(() => this.rtSectionEnd),
          );
        }
        GetCarouselGroupTitle(e) {
          return e.BIsShowingFeaturedFeed()
            ? (0, T.we)("#EventCalendar_GroupTitle_FeaturedCurators")
            : e.BIsGlobalCalendar()
              ? (0, T.we)("#EventCalendar_GroupTitle_Curators")
              : "";
        }
        GenerateKeyFromItem(e, t) {
          return t.GetSource() & W.bK.k_eSteam || t.appid || "full" !== e
            ? t.clanid
            : Gn.eCurators;
        }
        static IsTimestampInRange(e, t, n) {
          return Boolean(e) && t < e && e <= n;
        }
        GetTimestampEvents(e) {
          const t = new Array();
          return t;
        }
        AddTimestampEventsInInterval(e, t, n, a) {
          for (const r of e)
            _n.IsTimestampInRange(r.rtTime, t, n) && a.push(r.component);
        }
        RenderEventList(e) {
          const {
              fnOnEventClick: t,
              bSuppressHoverEffects: n,
              strMergeEvents: a,
            } = this.props,
            o = (0, K.v0)();
          let l = null;
          if ("none" !== a) {
            l = new Map();
            for (const t of e) {
              const e = this.GenerateKeyFromItem(a, t),
                n = l.get(e);
              if (n) n.push(t);
              else {
                const n = new Array();
                n.push(t), l.set(e, n);
              }
            }
          }
          const s = new Array(),
            i = new Array(),
            c = "full" === a ? i : s,
            u = this.GetTimestampEvents(o);
          let d = this.props.bShowEarliestFirst
            ? this.props.rtSectionStart
            : this.props.rtSectionEnd;
          for (const i of e) {
            let e = s;
            if (l) {
              const s = this.GenerateKeyFromItem(a, i),
                u = l.get(s);
              if (!u) continue;
              if ((s === Gn.eCurators && (e = c), u.length >= 3)) {
                const a =
                    s === Gn.eCurators ? this.GetCarouselGroupTitle(o) : "",
                  c = !u.find((e) => e.clanid != i.clanid);
                u.sort((e, t) =>
                  t.score != e.score
                    ? t.score - e.score
                    : t.start_time - e.start_time,
                ),
                  e.push(
                    r.createElement(
                      "div",
                      {
                        key: i.unique_id,
                        className: ke().CalendarEventListRow,
                      },
                      r.createElement(
                        "div",
                        { className: ke().CalendarEventListContainer },
                        r.createElement(cn, {
                          key: i.unique_id,
                          rgCalendarItems: u,
                          bSuppressHoverEffects: n,
                          fnOnEventClick: t,
                          bHideGameTitle: c,
                          strMultipleSourceTitle: a,
                        }),
                      ),
                    ),
                  ),
                  l.delete(s);
                continue;
              }
            }
            e === s &&
              (this.AddTimestampEventsInInterval(
                u,
                Math.min(d, i.start_time),
                Math.max(d, i.start_time),
                s,
              ),
              (d = i.start_time)),
              e.push(
                r.createElement(
                  "div",
                  { key: i.unique_id, className: ke().CalendarRow },
                  r.createElement(Ot, {
                    calendarEvent: i,
                    partnerEventStore: Z.O3,
                    mode: "wide",
                    fnOnClicked: t,
                    bSuppressHoverEffects: n,
                    bHideGameTitle:
                      o.BIsSingleSourceCalendar() &&
                      o.BEventMatchCalendarSingleSource(i),
                  }),
                ),
              );
          }
          return (
            this.props.bShowEarliestFirst
              ? this.AddTimestampEventsInInterval(
                  u,
                  d,
                  this.props.rtSectionEnd,
                  s,
                )
              : this.AddTimestampEventsInInterval(
                  u,
                  this.props.rtSectionStart,
                  d,
                  s,
                ),
            s.push(...i),
            s
          );
        }
        render() {
          const {
            bRenderStickyHeader: e,
            strSectionLabel: t,
            strSectionClassname: n,
            bUseHorizontalLayout: a,
            fnOnSeeFutureClick: o,
            bShowEarliestFirst: l,
            fnOnEventClick: s,
            bSuppressHoverEffects: i,
          } = this.props;
          let { rgCalendarItems: c, bIsComplete: u } = this.cachedCalendarItems;
          if (0 == c.length && u)
            return r.createElement("div", { ref: this.m_ref, className: n });
          c.length && l && (c = c.slice().reverse());
          let d = null;
          c.length > 0 &&
            (d = r.createElement(
              "div",
              {
                className: (0, N.A)(
                  ke().GroupHeader,
                  ke().CalendarRow,
                  e && ke().HeaderAtTop,
                ),
              },
              r.createElement(
                "div",
                { className: ke().GroupHeaderTitle },
                r.createElement("span", null, t),
                r.createElement("div", { className: ke().GroupHeaderLine }),
                a &&
                  c.length > 3 &&
                  r.createElement(
                    "div",
                    { className: ke().SeeAllLink, onClick: o },
                    (0, T.we)("#EventCalendar_FutureEventsLink"),
                    r.createElement(
                      "span",
                      { className: ke().SeeAllCount },
                      c.length + (u ? "" : "+"),
                    ),
                  ),
              ),
            ));
          let m = null;
          return (
            (!J.HD.bRequireAllEventsLoadedInTimeBlock ||
              u ||
              (a && c.length >= 3)) &&
              (m = a
                ? r.createElement(Nn, {
                    rgCalendarItems: c.slice(0, 3),
                    fnOnEventClick: s,
                    fnOnSeeFutureClick: o,
                    bSuppressHoverEffects: i,
                  })
                : this.RenderEventList(c)),
            r.createElement(
              "div",
              { ref: this.m_ref, className: n },
              d,
              m,
              !u &&
                !a &&
                r.createElement(kn, {
                  bShowEarliestFirst: this.props.bShowEarliestFirst,
                }),
            )
          );
        }
      });
      (0, O.Cg)([P.sH], Dn.prototype, "rtSectionStart", void 0),
        (0, O.Cg)([P.sH], Dn.prototype, "rtSectionEnd", void 0),
        (0, O.Cg)([P.EW], Dn.prototype, "cachedCalendarItems", null),
        (Dn = _n = (0, O.Cg)([u.PA], Dn));
      const kn = (e) => {
          const t = (0, K.v0)().GetTimeEdgeForDirection(
            e.bShowEarliestFirst ? "forward" : "backward",
            void 0,
          );
          return r.createElement(
            "div",
            { className: ke().Loading },
            r.createElement(y.t, { size: "xlarge", position: "center" }),
            t &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: ke().LoadingProgress },
                  (0, T.we)(
                    "#EventCalendar_LoadEventsProgress",
                    Number((0, K.v0)().GetNumEventsLoaded()).toLocaleString(),
                    (0, T.lQ)(t),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: ke().AdjustFiltersText },
                  (0, T.we)("#EventCalendar_LoadEventsFilters"),
                ),
              ),
          );
        },
        Bn = (e) =>
          r.createElement(
            "div",
            {
              className: (0, N.A)(
                ke().LogInFeedRow,
                !e.bLargeMode && ke().LogInSmallMode,
              ),
              style: { transform: `translateY(${e.nTopOffset}px)` },
            },
            r.createElement(
              "div",
              { className: ke().PromptCtn },
              r.createElement(
                "div",
                { className: ke().LogInFeedTitle },
                (0, T.we)("#EventCalendar_SignIn_Title"),
              ),
              r.createElement(
                "button",
                { onClick: vn.vg, className: ke().LogInButton },
                (0, T.we)("#Login_SignIn"),
              ),
              r.createElement(
                "div",
                { className: ke().LogInFeedText },
                (0, T.we)("#EventCalendar_SignIn_Text"),
              ),
            ),
          );
      var An = n(81881),
        Ln = n(39020),
        Fn = n(30470);
      function Hn(e) {
        if ("steam" === e) {
          if ("beta" !== new URLSearchParams().get("branch"))
            return { rgHiddenClans: [q.Ro] };
        }
      }
      const Mn = (e) => {
        const [t] = (0, s.QD)("byday", !1),
          [n] = (0, s.QD)("upcoming", !1);
        return (0, Ln.vb)(Fn.TS.LANGUAGE)
          ? r.createElement(
              An.d,
              { bSalePage: !0 },
              r.createElement(
                o.dO,
                null,
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.EventViewByApp(
                    ":appid(\\d+)",
                    ":event_gid(\\d+)",
                    ":vanity?",
                  ),
                  render: (e) =>
                    r.createElement(x, {
                      key: "detailview_" + e.match.params.event_gid,
                      ...e,
                      appid:
                        e.match.params.appid &&
                        Number.parseInt(e.match.params.appid),
                      event_gid: e.match.params.event_gid,
                      bInfiniteScroll: "inline" == e.match.params.viewtype,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.EventViewByGroup(
                    ":groupid(\\d+)",
                    ":event_gid(\\d+)",
                    ":vanity?",
                  ),
                  render: (e) =>
                    r.createElement(x, {
                      key: "detailview_" + e.match.params.event_gid,
                      ...e,
                      clansteamid: new l.b(e.match.params.groupid),
                      event_gid: e.match.params.event_gid,
                      bInfiniteScroll: "inline" == e.match.params.viewtype,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.OldAnnouncementViewByApp(
                    ":appid(\\d+)",
                    ":announcement_gid(\\d+)",
                    ":vanity?",
                  ),
                  render: (e) =>
                    r.createElement(x, {
                      key: "detailoldview_" + e.match.params.announcement_gid,
                      ...e,
                      appid:
                        e.match.params.appid &&
                        Number.parseInt(e.match.params.appid),
                      announcement_gid: e.match.params.announcement_gid,
                      bInfiniteScroll: "old_inline" == e.match.params.viewtype,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.OldAnnouncementViewByGroup(
                    ":groupid(\\d+)",
                    ":announcement_gid(\\d+)",
                    ":vanity?",
                  ),
                  render: (e) =>
                    r.createElement(x, {
                      key: "detailoldview_" + e.match.params.announcement_gid,
                      ...e,
                      clansteamid: new l.b(e.match.params.groupid),
                      announcement_gid: e.match.params.announcement_gid,
                      bInfiniteScroll: "old_inline" == e.match.params.viewtype,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHubApp(":appid(\\d+)", ":vanity?"),
                  render: (e) =>
                    r.createElement(fn, {
                      key: e.match.params.appid,
                      ...e,
                      filter_to_appids: [Number(e.match.params.appid)],
                      section_by_day: t,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHubGroup(":groupid(\\d+)", ":vanity?"),
                  render: (e) =>
                    r.createElement(fn, {
                      key: e.match.params.groupid,
                      ...e,
                      filter_to_clanids: [Number(e.match.params.groupid)],
                      section_by_day: t,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHubCollection(":collectionid", ":vanity?"),
                  render: (e) =>
                    r.createElement(fn, {
                      key: e.match.params.collectionid,
                      initialFilters: Hn(e.match.params.collectionid),
                      ...e,
                      filter_to_collection: e.match.params.collectionid,
                      section_by_day: t,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHubSale(":saleid", ":vanity?"),
                  render: (e) =>
                    r.createElement(fn, {
                      key: e.match.params.saleid,
                      ...e,
                      filter_to_saleid: e.match.params.saleid,
                      section_by_day: t || n,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHubContentHub(
                    ":hubtype",
                    ":category_or_language?",
                    ":tag_name?",
                  ),
                  render: (e) =>
                    r.createElement(fn, {
                      key:
                        e.match.params.hubtype +
                        "_" +
                        e.match.params.category_or_language +
                        "_" +
                        e.match.params.tag_name,
                      ...e,
                      filter_to_contenthub_hubtype: e.match.params.hubtype,
                      filter_to_contenthub_category_or_language:
                        e.match.params.category_or_language,
                      filter_to_contenthub_tag_name: e.match.params.tag_name,
                      section_by_day: t,
                    }),
                }),
                r.createElement(o.qh, {
                  exact: !0,
                  path: a.B.NewsHub(),
                  render: (e) =>
                    r.createElement(fn, {
                      key: "global",
                      ...e,
                      section_by_day: t,
                    }),
                }),
              ),
            )
          : null;
      };
    },
  },
]);
