const CLSTAMP = 9650136;

import {
  A as is,
  B as rs,
  C as R_,
  D as us,
  E as ss,
  F as bs,
  G as P_,
  H as co,
  I as Xd,
  J as po,
  K as M_,
  N as ps,
  O as Hs,
  P as ds,
  Q as ys,
  a as Xu,
  b as Jt,
  c as S_,
  h as Zu,
  i as Nn,
  l as es,
  m as ts,
  n as ns,
  s as os,
  w as as,
  x as ba,
  y as mo,
  z as On,
} from "./chunk-H5KWO2DM.js";
import { a as Es } from "./chunk-KVYSDYCU.js";
import { a as h, c as he } from "./chunk-MKDDXVIF.js";
import { a as lo } from "./chunk-P7GBBKEJ.js";
import { a as Ds, c as Bs } from "./chunk-OOR54FOD.js";
import "./chunk-YO3WRQQ5.js";
import {
  a as At,
  d as Fu,
  i as xt,
  u as z,
  v as Wu,
  x as qu,
} from "./chunk-ELDU6GNH.js";
import { a as Qd } from "./chunk-7DESWHQK.js";
import {
  b as En,
  d as gs,
  f as Ms,
  g as x_,
  k as Ls,
  m as Ns,
} from "./chunk-ISFCJC3S.js";
import "./chunk-PYKMIR4B.js";
import {
  A as la,
  a as Ku,
  b as Ju,
  c as bo,
  d as oa,
  e as aa,
  f as Tt,
  g as _a,
  h as ia,
  i as Yu,
} from "./chunk-3F4DGW7D.js";
import "./chunk-75BZWA34.js";
import { a as st, b as x, c as sa, e as Ts } from "./chunk-V57BFN4R.js";
import { h as $u, i as mt } from "./chunk-HIVCLXPV.js";
import { a as zs } from "./chunk-QHRQHLVL.js";
import "./chunk-XEA6MXLW.js";
import { a as Rs, l as Ps } from "./chunk-ASHNC7S3.js";
import {
  A as un,
  B,
  a as A_,
  c as Cs,
  d as ma,
  e as hs,
  g as In,
  i as fs,
  j as vs,
  k as ks,
  m as ws,
  o as Ss,
} from "./chunk-LO42DGM4.js";
import { c as ls, f as ms, g as cs } from "./chunk-3I7V66YX.js";
import {
  A as g_,
  D as lu,
  F as mu,
  G as Qu,
  H as tt,
  J as ua,
  a as su,
  b as k,
  c as S,
  d as Y,
  e as Q,
  f as X,
  g as $,
  h as Z,
  i as ee,
  o as bu,
  r as y_,
  t as Ze,
  u as Re,
} from "./chunk-UKYUA5SV.js";
import "./chunk-D3UH7XG2.js";
import { a as Pt } from "./chunk-3DSWPP42.js";
import { a as uu } from "./chunk-K7QQAC7U.js";
import {
  a as ra,
  c as As,
  d as ca,
  e as Fn,
  f as jn,
  h as xs,
  k as Pe,
} from "./chunk-VARXYOCI.js";
import {
  A as Ln,
  B as Nu,
  G as Ou,
  H as F,
  a as Ee,
  b as wu,
  c as qt,
  d as Su,
  e as Ru,
  f as Pu,
  h as et,
  i as so,
  j as Mu,
  k as Au,
  l as xu,
  n as w_,
  o as Tu,
  p as Du,
  r as zu,
  s as Bu,
  v as Lu,
  x as Mt,
  y as Kt,
  z as Eu,
} from "./chunk-E3DFKZCX.js";
import { a as bt } from "./chunk-DKD2IIKU.js";
import { a as _s } from "./chunk-FQGDHUSH.js";
import {
  B as k_,
  C as vu,
  D as ku,
  a as rn,
  b as Le,
  c as na,
  d as cu,
  e as C_,
  f as pu,
  g as Vt,
  h as h_,
  i as Hu,
  j as f_,
  k as Wt,
  m as du,
  n as v_,
  o as yu,
  q as gu,
  r as Bn,
  t as Cu,
  u as hu,
  w as fu,
} from "./chunk-UNPMX6VQ.js";
import {
  a as ju,
  b as Gu,
  c as lt,
  e as Uu,
  f as Vu,
} from "./chunk-ZPLSSCBY.js";
import "./chunk-JBQOR54O.js";
import "./chunk-3DHZ3D7W.js";
import { a as Ce } from "./chunk-6GVOFTIA.js";
import { a as Iu } from "./chunk-ZFAGXXLP.js";
import {
  a as Xo,
  c as ro,
  g as zn,
  s as iu,
  t as ru,
} from "./chunk-NJLDZKBU.js";
import "./chunk-TEHPVM5M.js";
import { a as ou, d as Dn } from "./chunk-HSDZMS7H.js";
import {
  b as $o,
  d as au,
  e as _n,
  h as Zo,
  i as ea,
  j as uo,
  k as ta,
  n as ut,
  r as y,
  x as _u,
} from "./chunk-6XJQQZ7Z.js";
import {
  a as Tn,
  b as Qo,
  c as nu,
  i as oe,
  k as Rt,
  l as C,
  m as io,
  o as H,
} from "./chunk-C37XGPEG.js";
import { a as w } from "./chunk-4HQPZ5LY.js";
import { c as Yd, d as b, e as p, f as tu } from "./chunk-HHDRG5ZJ.js";
function pa() {
  return location.href;
}
function Os(t) {
  return t == 1 || t == 2 || t == 13;
}
var Ha = b(w(), 1);
var T_ = b(H(), 1),
  $d = Ha.default.lazy(() => import("./metrics-LW72Y47B.js"));
function Is(t) {
  let e = iu();
  return e.metrics
    ? (0, T_.jsx)(Ha.Suspense, {
        children: (0, T_.jsx)($d, { metrics: e.metrics, ...t }),
      })
    : null;
}
var Fs = b(bt(), 1);
var Ho = {
  HeaderContainer: "NS66-vzC3B4-",
  PillTabs: "HfUir0ARlEg-",
  PillTabItem: "_6YKIMRZJgjI-",
  Active: "cVEuwqCXKqk-",
};
var da = b(H(), 1);
function js(t) {
  let { gamepadUiTabs: e } = t;
  if (e.length === 0) return null;
  let n = pa(),
    o = [...e]
      .sort((a, _) => _.href.length - a.href.length)
      .find((a) => n.startsWith(a.href));
  return (0, da.jsx)("div", {
    className: Ho.HeaderContainer,
    children: (0, da.jsx)("div", {
      className: Ho.PillTabs,
      children: e.map((a) =>
        (0, da.jsx)(
          x,
          {
            gamepadFocusable: !0,
            noFocusRing: !0,
            className: (0, Fs.default)(
              Ho.PillTabItem,
              a === o && Ho.Active,
              a.className,
            ),
            snr: !0,
            to: a.href,
            children: a.label,
          },
          a.href,
        ),
      ),
    }),
  });
}
var ya = b(w());
var Gs = "D6LHFgi1JYw-";
var Us = "-ygkyFbonHM-";
var Vs = "-ocPE8koGWA-";
var Ws = "wScBjl6G2E8-";
var D_ = "J8QB0JMqyaM-";
var qs = "-mBLWqp7JFk-";
var Ks = "./cookies_brazilian-K4WP2HCA.json";
var Js = "./cookies_bulgarian-3F25L7AA.json";
var Ys = "./cookies_czech-WZ2UGHAA.json";
var Qs = "./cookies_danish-UON7TKDA.json";
var Xs = "./cookies_dutch-GCBILAAA.json";
var $s = "./cookies_english-FDTNVUAA.json";
var Zs = "./cookies_finnish-ZUSYHYAA.json";
var eb = "./cookies_french-NATP6HBA.json";
var tb = "./cookies_german-5QBUI7CA.json";
var nb = "./cookies_greek-AWKYX4DA.json";
var ob = "./cookies_hungarian-7N6TKDDA.json";
var ab = "./cookies_indonesian-TTEY42CA.json";
var _b = "./cookies_italian-YNFQT3DA.json";
var ib = "./cookies_japanese-XFKOMEAA.json";
var rb = "./cookies_koreana-OJE7BYDA.json";
var ub = "./cookies_latam-KMOOIBBA.json";
var sb = "./cookies_norwegian-NQ26SHAA.json";
var bb = "./cookies_polish-535OIIBA.json";
var lb = "./cookies_portuguese-UMJSLPBA.json";
var mb = "./cookies_romanian-JBZRLJBA.json";
var cb = "./cookies_russian-KMFNLJDA.json";
var pb = "./cookies_schinese-4CG5QJAA.json";
var Hb = "./cookies_spanish-ATUIC6DA.json";
var db = "./cookies_swedish-4LF6D6AA.json";
var yb = "./cookies_tchinese-4CGDFUBA.json";
var gb = "./cookies_thai-UBSW2GCA.json";
var Cb = "./cookies_turkish-DHSZCYAA.json";
var hb = "./cookies_ukrainian-WH35XMDA.json";
var fb = "./cookies_vietnamese-VG3ISECA.json";
var j = {};
j.brazilian = Ks;
j.bulgarian = Js;
j.czech = Ys;
j.danish = Qs;
j.dutch = Xs;
j.english = $s;
j.finnish = Zs;
j.french = eb;
j.german = tb;
j.greek = nb;
j.hungarian = ob;
j.indonesian = ab;
j.italian = _b;
j.japanese = ib;
j.koreana = rb;
j.latam = ub;
j.norwegian = sb;
j.polish = bb;
j.portuguese = lb;
j.romanian = mb;
j.russian = cb;
j.schinese = pb;
j.spanish = Hb;
j.swedish = db;
j.tchinese = yb;
j.thai = gb;
j.turkish = Cb;
j.ukrainian = hb;
j.vietnamese = fb;
async function z_(t) {
  if (j[t]) return (await fetch(new URL(j[t], import.meta.url))).json();
}
var yo = Dn(z_);
var Ue = b(H());
async function vb(t) {
  let e = C.STORE_BASE_URL + "account/ajaxsetcookiepreferences",
    n = new FormData();
  n.set("bAllow", t.toString()), n.set("sessionId", Tt(Ju));
  let o = await fetch(e, { method: "POST", credentials: "include", body: n });
  if (o.ok) {
    let a = await o.json();
    a.transfer_urls &&
      a.transfer_params &&
      a.transfer_urls.forEach(async (_) => {
        let i = new FormData();
        i.set("transfer_params", a.transfer_params),
          fetch(_, { method: "POST", credentials: "include", body: i });
      });
  }
}
function Ay() {
  let t = (0, ya.useRef)(null);
  return (
    (0, ya.useEffect)(() => {
      let e = setTimeout(() => {
        t.current?.show();
      }, 4e3);
      return () => {
        clearTimeout(e);
      };
    }, []),
    (0, Ue.jsxs)("dialog", {
      className: Gs,
      ref: t,
      children: [
        (0, Ue.jsxs)("div", {
          className: Us,
          children: [
            (0, Ue.jsx)("div", {
              className: D_,
              children: yo.Localize("#CookiePrefPopup_Title"),
            }),
            (0, Ue.jsx)("div", {
              className: D_,
              children: Xo(
                yo.Localize("#CookiePrefPopup_Desc"),
                (0, Ue.jsx)("a", {
                  href: C.STORE_BASE_URL + "account/cookiepreferences",
                }),
                (0, Ue.jsx)("a", {
                  href: C.STORE_BASE_URL + "privacy_agreement",
                }),
              ),
            }),
          ],
        }),
        (0, Ue.jsxs)("div", {
          className: qs,
          children: [
            (0, Ue.jsx)("button", {
              className: Vs,
              onClick: async () => {
                await vb(1), t.current?.close();
              },
              children: yo.Localize("#CookiePrefPopup_AcceptAll"),
            }),
            (0, Ue.jsx)("button", {
              className: Ws,
              onClick: async () => {
                await vb(0), t.current?.close();
              },
              children: yo.Localize("#CookiePrefPopup_RejectAll"),
            }),
          ],
        }),
      ],
    })
  );
}
function kb() {
  let t = Yu();
  return t && t.preference_state != 4 ? null : (0, Ue.jsx)(Ay, {});
}
var Ve = b(w());
var go = "GamepadInput";
var xy = "Checkout",
  Ty = "PinnedView",
  ga = class {
    PostMessage(e) {}
    RegisterForMessage(e) {}
  },
  Co = class {
    m_fnCallback = void 0;
    constructor() {
      SteamClient.BrowserView.RegisterForMessageFromParent(this.OnMessage);
    }
    RegisterForMessage(e) {
      this.m_fnCallback = e;
    }
    PostMessage(e) {
      let n = JSON.stringify(e);
      SteamClient.BrowserView.PostMessageToParent(go, n);
    }
    OnMessage(e, n) {
      if (e == go) {
        let o = JSON.parse(n);
        this.m_fnCallback(o);
      } else if (e == xy) {
        let o = JSON.parse(n);
        if (o.action == "paypal_success")
          try {
            window.OnPayPalSuccess(o.transid);
          } catch {}
        else if (o.action == "paypal_cancel")
          try {
            window.OnPayPalCancel(o.transid);
          } catch {}
      } else if (e == Ty) {
        let o = JSON.parse(n);
        try {
          window.HandleOverlayWindowPinnedView(
            o.bPinned == !0,
            o.bShowPinnedView == !0,
          );
        } catch {}
      }
    }
  };
p([y], Co.prototype, "OnMessage", 1);
var ho = class {
  m_postWindow;
  m_fnCallback = void 0;
  constructor(e) {
    (this.m_postWindow = e), window.addEventListener("message", this.OnMessage);
  }
  RegisterForMessage(e) {
    this.m_fnCallback = e;
  }
  PostMessage(e) {
    let n = JSON.stringify(e);
    this.m_postWindow.postMessage({ gamepadMessage: go, args: n }, "*");
  }
  OnMessage(e) {
    let n = e?.data;
    if (n && n.gamepadMessage == go && n.args) {
      let o = JSON.parse(n.args);
      this.m_fnCallback(o);
    }
  }
};
p([y], ho.prototype, "OnMessage", 1);
var sn = class {
  m_NavigationController;
  m_postMessage;
  m_bIsGamepadInputExternallyControlled = !1;
  constructor(e) {
    if (((this.m_NavigationController = e), Dy()))
      (this.m_bIsGamepadInputExternallyControlled = !0),
        (this.m_postMessage = new Co()),
        this.m_NavigationController.UpdateDefaultSourceToGamepad();
    else {
      let n = window.top;
      n && n != window.self
        ? ((this.m_bIsGamepadInputExternallyControlled = !0),
          (this.m_postMessage = new ho(n)))
        : ((this.m_bIsGamepadInputExternallyControlled = !1),
          (this.m_postMessage = new ga()));
    }
    this.m_postMessage.RegisterForMessage(this.OnMessage),
      window.addEventListener("unload", this.PostPageUnloading),
      this.m_NavigationController.RegisterForUnhandledButtonDownEvents((n) =>
        this.PostButtonPressToSteam(n.detail.button),
      ),
      this.UpdateActionDescriptions({}),
      this.SendGameInputState("CGamepadWebBridgeClient constructor");
  }
  RegisterForFocusChanged(e) {
    return e.FocusChangedCallbacks.Register(this.OnFocusChanged).Unregister;
  }
  BIsGamepadInputExternallyControlled() {
    return this.m_bIsGamepadInputExternallyControlled;
  }
  BFromActiveNavTree(e, n) {
    let o = n?.Tree;
    return o || (o = e?.Tree), o && o.Controller.IsActiveFocusNavTree(o);
  }
  OnFocusChanged(e, n, o) {
    let a = o ? o.GetActiveActionDescriptions() : {};
    this.BFromActiveNavTree(n, o) && this.UpdateActionDescriptions(a);
  }
  UpdateActionDescriptions(e) {
    this.m_postMessage.PostMessage({
      type: "UpdateActionDescriptions",
      data: { descriptions: e },
    });
  }
  OnMessage(e) {
    switch (e.type) {
      case "TakeFocus":
        this.m_NavigationController.TakeFocusChangingIFrame();
        break;
      case "ForwardedGameEventDetail":
        this.m_NavigationController.DispatchVirtualGamepad(
          e.data.event,
          e.data.details,
        );
        break;
    }
  }
  SendGameInputState(e) {
    let n = 3;
    window.bSupportsGamepadUI && (n = 4),
      this.m_postMessage.PostMessage({
        type: "GameInputState",
        data: { source: e, support: n },
      });
  }
  PostButtonPressToSteam(e) {
    this.m_postMessage.PostMessage({
      type: "ButtonPressed",
      data: { button: e },
    });
  }
  PostPageUnloading() {
    this.m_postMessage.PostMessage({
      type: "PageUnloading",
      data: { location: window.location.href },
    });
  }
};
p([y], sn.prototype, "OnFocusChanged", 1),
  p([y], sn.prototype, "OnMessage", 1),
  p([y], sn.prototype, "PostPageUnloading", 1);
function Dy() {
  return (
    so("BrowserView.RegisterForMessageFromParent") &&
    so("BrowserView.PostMessageToParent")
  );
}
var wb = [
    { index: 0, type: 1, category: "action" },
    { index: 1, type: 2, category: "action" },
    { index: 2, type: 3, category: "action" },
    { index: 3, type: 4, category: "action" },
    { index: 4, type: 5, category: "action" },
    { index: 5, type: 6, category: "action" },
    { index: 6, type: 7, category: "action" },
    { index: 7, type: 8, category: "action" },
    { index: 8, type: 13, category: "action" },
    { index: 9, type: 14, category: "action" },
    { index: 10, type: 15, category: "action" },
    { index: 11, type: 16, category: "action" },
    { index: 12, type: 9, category: "navigation" },
    { index: 13, type: 10, category: "navigation" },
    { index: 14, type: 11, category: "navigation" },
    { index: 15, type: 12, category: "navigation" },
    { index: 16, type: 27, category: "action" },
    { index: 17, type: 13, category: "action" },
  ],
  fo = class extends qt {
    m_rgGamepadStatus = [];
    constructor() {
      super(),
        this.SetSourceType(1),
        window.addEventListener("gamepadconnected", (e) => {
          this.m_bGamepadDetected ||
            (this.OnGamepadDetected(), this.PollGamepads());
        });
    }
    PollGamepads() {
      let e = navigator.getGamepads(),
        n = !1;
      for (let o = 0; o < e.length; o++) {
        let a = e[o];
        if (!a) continue;
        this.m_rgGamepadStatus[o] ||
          (this.m_rgGamepadStatus[o] = { buttons: [] });
        let _ = this.m_rgGamepadStatus[o];
        for (let i = 0; i < wb.length; i++) {
          let r = wb[i],
            u = r.index;
          a.buttons[u] &&
            (a.buttons[u].pressed
              ? ((n = !0),
                _.buttons[u] ||
                  ((_.buttons[u] = !0), this.OnButtonDown(r.type)))
              : _.buttons[u] && (this.OnButtonUp(r.type), (_.buttons[u] = !1)));
        }
      }
      requestAnimationFrame(this.PollGamepads);
    }
  };
p([y], fo.prototype, "PollGamepads", 1);
var bn = class extends qt {
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(2),
      e.addEventListener("keydown", this.OnKeyDown),
      e.addEventListener("keyup", this.OnKeyUp),
      e.addEventListener("blur", this.Reset);
  }
  OnKeyDown(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)));
  }
  OnKeyUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n), (this.m_lastButtonDown = 0), e.preventDefault());
  }
  Reset() {
    this.m_lastButtonDown != 0 &&
      (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
  GetKeycodeFromEvent(e) {
    return oe.PLATFORM === "linux" && e.key.length > 1
      ? e.key || e.code
      : e.code || e.key;
  }
  BShouldSwallowEventForTextInputWorkaround(e) {
    if (
      !(
        gu(e.target) &&
        (e.target.nodeName === "INPUT" ||
          e.target.nodeName === "TEXTAREA" ||
          e.target.hasAttribute("contenteditable"))
      )
    )
      return !1;
    if (e.target.hasAttribute("contenteditable")) return !0;
    let o = this.GetKeycodeFromEvent(e),
      a = e.target,
      i = Array.from(a.ownerDocument.getElementsByClassName("gpfocus")).some(
        (r) =>
          Array.from(r.classList).some((u) => u.includes("virtualkeyboard")),
      );
    switch (o) {
      case "ArrowUp": {
        if (i) return !0;
        let r = a?.value.indexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          r >= 0 &&
          r < (a?.selectionStart ?? 0)
        );
      }
      case "ArrowDown": {
        if (i) return !0;
        let r = a?.value.lastIndexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          r >= 0 &&
          r >= (a?.selectionStart ?? 0) &&
          (a?.selectionEnd ?? 0) < a?.value.length
        );
      }
      case "ArrowLeft":
        return i
          ? !0
          : (a?.selectionStart ?? 0) > 0 && (a?.selectionEnd ?? 0) > 0;
      case "ArrowRight":
        return i
          ? !0
          : (a?.selectionStart ?? 0) < a?.value.length &&
              (a?.selectionEnd ?? 0) < a?.value.length;
      case "Enter":
        return !0;
      case "Backspace":
        return !0;
      default:
        return !1;
    }
  }
  TranslateKey(e) {
    let n = this.GetKeycodeFromEvent(e),
      o = e.ctrlKey,
      a = e.shiftKey;
    if (this.BShouldSwallowEventForTextInputWorkaround(e)) return 0;
    if (o && a)
      switch (n) {
        case "Digit4":
          return 7;
        case "Digit5":
          return 8;
        default:
          return 0;
      }
    if (o)
      switch (n) {
        case "Digit1":
          return 27;
        case "Digit2":
          return 28;
        case "Digit3":
          return 13;
        case "Digit4":
          return 5;
        case "Digit5":
          return 6;
        case "Digit6":
          return 15;
        case "Digit7":
          return 16;
        case "Digit8":
          return 4;
        case "Digit9":
          return 13;
        case "Digit0":
          return 14;
      }
    switch (n) {
      case "Escape":
        return 2;
      case "Enter":
        return 1;
      case "Backspace":
        return 3;
      case "ArrowUp":
        return 9;
      case "ArrowDown":
        return 10;
      case "ArrowLeft":
        return 11;
      case "ArrowRight":
        return 12;
    }
    return 0;
  }
};
p([y], bn.prototype, "OnKeyDown", 1),
  p([y], bn.prototype, "OnKeyUp", 1),
  p([y], bn.prototype, "Reset", 1);
var Dt = class extends qt {
  m_nAccumulatedMouseMovement = 0;
  m_bFirstMouseUpdate = !0;
  m_nLastScreenX;
  m_nLastScreenY;
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(3),
      e.addEventListener("mousedown", this.OnMouseDown),
      e.addEventListener("mouseup", this.OnMouseUp),
      e.addEventListener("mousemove", this.OnMouseMove),
      e.addEventListener("blur", this.Reset);
  }
  TranslateKey(e) {
    switch (e.button) {
      case 3:
        return 2;
      default:
        return 0;
    }
  }
  OnMouseDown(e) {
    if (e.defaultPrevented) return;
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)),
      this.OnNavigationTypeChanged(3));
  }
  OnMouseUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n), (this.m_lastButtonDown = 0), e.preventDefault());
  }
  OnMouseMove(e) {
    if (!e.defaultPrevented) {
      if (this.m_bFirstMouseUpdate) {
        (this.m_nLastScreenX = e.screenX),
          (this.m_nLastScreenY = e.screenY),
          (this.m_bFirstMouseUpdate = !1);
        return;
      }
      (this.m_nAccumulatedMouseMovement +=
        Math.abs(e.screenX - this.m_nLastScreenX) +
        Math.abs(e.screenY - this.m_nLastScreenY)),
        this.m_nAccumulatedMouseMovement > 500 &&
          (this.Reset(), this.OnNavigationTypeChanged(3));
    }
  }
  Reset() {
    (this.m_nAccumulatedMouseMovement = 0),
      (this.m_bFirstMouseUpdate = !0),
      this.m_lastButtonDown != 0 &&
        (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
};
p([y], Dt.prototype, "TranslateKey", 1),
  p([y], Dt.prototype, "OnMouseDown", 1),
  p([y], Dt.prototype, "OnMouseUp", 1),
  p([y], Dt.prototype, "OnMouseMove", 1),
  p([y], Dt.prototype, "Reset", 1);
var Gn = class extends qt {
  constructor(e) {
    super(),
      this.SetSourceType(4),
      e.addEventListener("touchstart", this.OnTouchStart),
      e.addEventListener("touchend", this.OnTouchEnd);
  }
  OnTouchStart(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
  OnTouchEnd(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
};
p([y], Gn.prototype, "OnTouchStart", 1), p([y], Gn.prototype, "OnTouchEnd", 1);
var E_ = "VirtualKeyboardMessage";
function Rb(t) {
  return t && t.type === E_;
}
var zt = class {
  m_ownerWindow;
  constructor() {}
  Init(e) {
    return (
      (this.m_ownerWindow = e),
      this.m_ownerWindow.addEventListener("message", this.OnMessage),
      () => {
        this.m_ownerWindow.removeEventListener("message", this.OnMessage),
          (this.m_ownerWindow = void 0);
      }
    );
  }
  CreateVirtualKeyboardRef() {
    return {
      ShowVirtualKeyboard: this.ShowVirtualKeyboard,
      ShowModalKeyboard: this.ShowModalKeyboard,
      SetAsCurrentVirtualKeyboardTarget: () => {},
      HideVirtualKeyboard: this.HideVirtualKeyboard,
      DelayHideVirtualKeyboard: this.HideVirtualKeyboard,
      BIsActive: () => !0,
      BIsElementValidForInput: () => !0,
    };
  }
  ShowVirtualKeyboard() {
    this.SendMessage({ message: "ShowVirtualKeyboard" });
  }
  ShowModalKeyboard() {
    this.SendMessage({ message: "ShowModalKeyboard" });
  }
  HideVirtualKeyboard(e) {
    this.SendMessage({ message: "HideVirtualKeyboard", msDelay: e });
  }
  OnBrowserViewMessage(e, n) {
    e == E_ && this.InternalDispatchMessage(JSON.parse(n));
  }
  OnMessage(e) {
    this.InternalDispatchMessage(e.data);
  }
  InternalDispatchMessage(e) {
    if (Rb(e))
      switch (e.message) {
        case "OnEnterKeyPress":
          break;
      }
  }
  SendMessage(e) {
    let n = { type: "VirtualKeyboardMessage", ...e };
    so("BrowserView.PostMessageToParent")
      ? SteamClient.BrowserView.PostMessageToParent(n.type, JSON.stringify(n))
      : this.m_ownerWindow &&
        (Zo(
          this.m_ownerWindow.parent &&
            this.m_ownerWindow.parent != this.m_ownerWindow,
          "CVirtualKeyboardClient: No parent client window available, cannot display virtual keyboard",
        ),
        this.m_ownerWindow.parent.postMessage(n, "*"));
  }
};
p([y], zt.prototype, "ShowVirtualKeyboard", 1),
  p([y], zt.prototype, "ShowModalKeyboard", 1),
  p([y], zt.prototype, "HideVirtualKeyboard", 1),
  p([y], zt.prototype, "OnBrowserViewMessage", 1),
  p([y], zt.prototype, "OnMessage", 1);
var L_ = class {
  m_showKeyboard;
  m_showModalKeyboard;
  m_hideKeyboard;
  constructor(e, n, o, a) {
    (this.m_showKeyboard = n),
      (this.m_showModalKeyboard = o),
      (this.m_hideKeyboard = a),
      e.on("message", this.OnMessage);
  }
  OnMessage(e, n, o) {
    if (e == E_) {
      let a = JSON.parse(n);
      if (Rb(a))
        switch (a.message) {
          case "ShowVirtualKeyboard":
            this.m_showKeyboard();
            break;
          case "ShowModalKeyboard":
            this.m_showModalKeyboard();
            break;
          case "HideVirtualKeyboard":
            this.m_hideKeyboard();
            break;
        }
    }
  }
};
p([y], L_.prototype, "OnMessage", 1);
var Bt = b(H());
function Pb(t) {
  let [e] = Ve.useState(() => new Mu()),
    [n, o] = Ve.useState(),
    [a] = Ve.useState(() => new zt()),
    [_, i] = Ve.useState(void 0),
    r = lt();
  return (
    Ve.useEffect(() => {
      if (r && !n) {
        let l = new sn(e);
        o(l), i(l.BIsGamepadInputExternallyControlled());
      }
    }, [r, n, e]),
    Ve.useEffect(() => {
      if (r) return a.Init(window);
    }, [r, a]),
    (0, Bt.jsxs)(xu, {
      controller: e,
      children: [
        _ === !1 && r === !0 && (0, Bt.jsx)(By, {}),
        (_ === !0 || r === !0) && (0, Bt.jsx)(Ly, {}),
        r && (0, Bt.jsx)(Ey, {}),
        (0, Bt.jsxs)(Tu, {
          ownerWindow: window,
          children: [
            n && (0, Bt.jsx)(zy, { bridge: n }),
            (0, Bt.jsx)(Au, { factory: a, children: t.children }),
          ],
        }),
      ],
    })
  );
}
function zy(t) {
  let { bridge: e } = t,
    n = Du();
  return (
    Ve.useEffect(() => {
      if (!(!n || !e)) return e.RegisterForFocusChanged(n);
    }, [n, e]),
    null
  );
}
function By() {
  let [t] = Ve.useState(() => new fo());
  return w_(t), null;
}
function N_(t) {
  let [e, n] = Ve.useState(void 0);
  Ve.useEffect(() => n(new t(window)), [t]), w_(e);
}
function Ly() {
  return N_(bn), null;
}
function Ey() {
  return N_(Dt), N_(Gn), null;
}
var vi = b(bt(), 1),
  Mm = b(w(), 1);
var fa = b(w()),
  Mb = b(w());
var Un = b(w());
function Ca(t) {
  let [e, n] = (0, Un.useState)(!1);
  return (
    (0, Un.useEffect)(() => {
      (0, Un.startTransition)(() => {
        n(!0);
      });
    }, []),
    e ? t.children : (t.fallback ?? null)
  );
}
var ha = b(H());
function va(t) {
  let { dynamicImport: e, fallback: n, ...o } = t,
    [a] = (0, fa.useState)(() =>
      Mb.default.lazy(async () => ({ default: await e() })),
    );
  return (0, ha.jsx)(Ca, {
    fallback: n,
    children: (0, ha.jsx)(fa.Suspense, {
      fallback: n,
      children: (0, ha.jsx)(a, { ...o }),
    }),
  });
}
var fl = b(bt(), 1),
  Qt = b(w(), 1);
var Vn = b(w(), 1);
var Ab = "FbRIoYoNi9g-";
var xb = "vnGo6vvKWMk-";
var Tb = "kCO5XYi3veo-";
var Db = "Ca4SW9HC3ME-";
var zb = "P0JO-Sl0erw-";
var ct = b(H(), 1);
async function O_(t, e) {
  let n = new FormData();
  n.set("language", t);
  let o = await fetch(e, {
    method: "POST",
    credentials: "same-origin",
    body: n,
  });
  if (!o.ok) throw o;
}
function Bb(t) {
  let {
      open: e,
      menuAction: n,
      changeLanguagePath: o,
      bLoggedIn: a,
      onDismiss: _,
    } = t,
    [i, r] = (0, Vn.useState)(!1),
    u = (0, Vn.useRef)(null);
  (0, Vn.useEffect)(() => {
    e ? u.current?.showModal() : u.current?.close();
  }, [e]);
  async function s(l) {
    r(!0);
    try {
      await O_(l, o);
    } catch (m) {
      console.error(m), r(!1);
      return;
    }
    a
      ? (location.href = C.STORE_BASE_URL + "account/languagepreferences/")
      : n.href
        ? (location.href = n.href)
        : location.reload();
  }
  return (0, ct.jsx)("dialog", {
    ref: u,
    className: Ab,
    onMouseDown: (l) => l.target === u.current && _(),
    children: (0, ct.jsxs)("div", {
      children: [
        (0, ct.jsx)("hr", { className: Tb }),
        (0, ct.jsxs)("form", {
          method: "dialog",
          className: xb,
          onSubmit: (l) => s(l.target.elements.namedItem("language")?.value),
          children: [
            (0, ct.jsx)("select", {
              disabled: i,
              name: "language",
              onChange: (l) => s(l.target.value),
              defaultValue: zn().strLanguage,
              children: t.menuAction.children?.map((l) =>
                (0, ct.jsx)(
                  "option",
                  { value: l.action_parameters?.language, children: l.label },
                  l.label,
                ),
              ),
            }),
            (0, ct.jsx)("div", {
              className: Db,
              children: (0, ct.jsx)("input", {
                type: "submit",
                value: "OK",
                className: zb,
              }),
            }),
          ],
        }),
      ],
    }),
  });
}
var I_ = "h3Jy-1Il1os-";
var Lb = "HOrB6lehQpg-";
var Eb = "_7iCcob-JJ4g-";
var Nb = "QYT54GHN-rI-";
var Ob = "_79DIT7RUQ5g-";
var F_ = "Hxi-pnf9Xlw-";
var j_ = "TwsehSqoph8-";
var Ib = "cQPGTl-Lp-0-";
var Fb = "rzUmQa-ty1I-";
var G_ = "_2CYMhC951F4-";
var jb = "h8dQ-Uyh4L0-";
var Gb = "NzGUCXVXDcA-";
var Ub = "L09rGTMfR9c-";
var Vb = "./global_header_brazilian-ZNQR4TAA.json";
var Wb = "./global_header_bulgarian-KAKP2KBA.json";
var qb = "./global_header_czech-RA4E42BA.json";
var Kb = "./global_header_danish-HKW3S7DA.json";
var Jb = "./global_header_dutch-THMOCNDA.json";
var Yb = "./global_header_english-JLHXKBDA.json";
var Qb = "./global_header_finnish-RJMJ5QBA.json";
var Xb = "./global_header_french-FDG2ANCA.json";
var $b = "./global_header_german-7GLSBVAA.json";
var Zb = "./global_header_greek-A2GICVDA.json";
var el = "./global_header_hungarian-5PCDXEAA.json";
var tl = "./global_header_indonesian-EUH4PJAA.json";
var nl = "./global_header_italian-ASBZDGDA.json";
var ol = "./global_header_japanese-ZXKCNUBA.json";
var al = "./global_header_koreana-AHDYSLDA.json";
var _l = "./global_header_latam-4HTIMEBA.json";
var il = "./global_header_norwegian-T3MJ6QBA.json";
var rl = "./global_header_polish-4GGV5EAA.json";
var ul = "./global_header_portuguese-FB67A4CA.json";
var sl = "./global_header_romanian-AILMXTDA.json";
var bl = "./global_header_russian-6Q6YVEDA.json";
var ll = "./global_header_sc_schinese-QVBLUWAA.json";
var ml = "./global_header_schinese-I4UR3DAA.json";
var cl = "./global_header_spanish-RYGY5UAA.json";
var pl = "./global_header_swedish-XEAVR2CA.json";
var Hl = "./global_header_tchinese-PX7DRQBA.json";
var dl = "./global_header_thai-S2MZ2HDA.json";
var yl = "./global_header_turkish-KVEGG4BA.json";
var gl = "./global_header_ukrainian-UIDW2BBA.json";
var Cl = "./global_header_vietnamese-YNPKQ6DA.json";
var N = {};
N.brazilian = Vb;
N.bulgarian = Wb;
N.czech = qb;
N.danish = Kb;
N.dutch = Jb;
N.english = Yb;
N.finnish = Qb;
N.french = Xb;
N.german = $b;
N.greek = Zb;
N.hungarian = el;
N.indonesian = tl;
N.italian = nl;
N.japanese = ol;
N.koreana = al;
N.latam = _l;
N.norwegian = il;
N.polish = rl;
N.portuguese = ul;
N.romanian = sl;
N.russian = bl;
N.sc_schinese = ll;
N.schinese = ml;
N.spanish = cl;
N.swedish = pl;
N.tchinese = Hl;
N.thai = dl;
N.turkish = yl;
N.ukrainian = gl;
N.vietnamese = Cl;
async function U_(t) {
  if (N[t]) return (await fetch(new URL(N[t], import.meta.url))).json();
}
var U = Dn(U_);
function ka() {
  let t = document.createElement("form");
  (t.action = "/logout/"),
    (t.method = "POST"),
    document.body.appendChild(t),
    t.submit();
}
var c = b(su());
var V_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country_code || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              country_code: { n: 1, br: k.readString, bw: S.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Request";
    }
  },
  W_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotions || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { promotions: { n: 1, c: q_, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response";
    }
  },
  q_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotionid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              promotionid: { n: 1, br: k.readUint32, bw: S.writeUint32 },
              promotion_description: {
                n: 2,
                br: k.readString,
                bw: S.writeString,
              },
              minimum_cart_amount: {
                n: 3,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              minimum_cart_amount_for_display: {
                n: 4,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              discount_amount: {
                n: 5,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              currency_code: { n: 6, br: k.readInt32, bw: S.writeInt32 },
              available_use_count: { n: 7, br: k.readInt32, bw: S.writeInt32 },
              promotional_discount_type: {
                n: 8,
                br: k.readInt32,
                bw: S.writeInt32,
              },
              loyalty_reward_id: { n: 9, br: k.readInt32, bw: S.writeInt32 },
              localized_name_token: {
                n: 10,
                br: k.readString,
                bw: S.writeString,
              },
              max_use_count: { n: 11, br: k.readInt32, bw: S.writeInt32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response_ValveDiscountPromotionDetails";
    }
  },
  K_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.has_wallet || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, [13], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              has_wallet: { n: 1, br: k.readBool, bw: S.writeBool },
              user_country_code: { n: 2, br: k.readString, bw: S.writeString },
              wallet_country_code: {
                n: 3,
                br: k.readString,
                bw: S.writeString,
              },
              wallet_state: { n: 4, br: k.readString, bw: S.writeString },
              balance: { n: 5, br: k.readInt64String, bw: S.writeInt64String },
              delayed_balance: {
                n: 6,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              currency_code: { n: 7, br: k.readInt32, bw: S.writeInt32 },
              time_most_recent_txn: {
                n: 8,
                br: k.readUint32,
                bw: S.writeUint32,
              },
              most_recent_txnid: {
                n: 9,
                br: k.readUint64String,
                bw: S.writeUint64String,
              },
              balance_in_usd: {
                n: 10,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              delayed_balance_in_usd: {
                n: 11,
                br: k.readInt64String,
                bw: S.writeInt64String,
              },
              has_wallet_in_other_regions: {
                n: 12,
                br: k.readBool,
                bw: S.writeBool,
              },
              other_regions: {
                n: 13,
                r: !0,
                q: !0,
                br: k.readInt32,
                pbr: k.readPackedInt32,
                bw: S.writeRepeatedInt32,
              },
              formatted_balance: { n: 14, br: k.readString, bw: S.writeString },
              formatted_delayed_balance: {
                n: 15,
                br: k.readString,
                bw: S.writeString,
              },
              delayed_balance_available_min_time: {
                n: 16,
                br: k.readInt32,
                bw: S.writeInt32,
              },
              delayed_balance_available_max_time: {
                n: 17,
                br: k.readInt32,
                bw: S.writeInt32,
              },
              delayed_balance_newest_source: {
                n: 18,
                br: k.readInt32,
                bw: S.writeInt32,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetWalletDetails_Response";
    }
  },
  J_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.include_balance_in_usd || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              include_balance_in_usd: { n: 1, br: k.readBool, bw: S.writeBool },
              wallet_region: { n: 2, d: 1, br: k.readInt32, bw: S.writeInt32 },
              include_formatted_balance: {
                n: 3,
                br: k.readBool,
                bw: S.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetClientWalletDetails_Request";
    }
  },
  Y_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Request";
    }
  },
  Q_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.pwid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              pwid: { n: 1, br: k.readUint32, bw: S.writeUint32 },
              identity_verification: {
                n: 2,
                br: k.readUint32,
                bw: S.writeUint32,
              },
              performed_age_verification: {
                n: 3,
                br: k.readBool,
                bw: S.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Response";
    }
  },
  X_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.appid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { appid: { n: 1, br: k.readUint32, bw: S.writeUint32 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Request";
    }
  },
  $_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Response";
    }
  },
  Z_ = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: k.readFixed64String,
                bw: S.writeFixed64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Request";
    }
  },
  ei = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { country: { n: 1, br: k.readString, bw: S.writeString } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Response";
    }
  },
  ti = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_limit || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_limit: { n: 1, br: k.readUint32, bw: S.writeUint32 },
              invite_duration: { n: 2, br: k.readUint32, bw: S.writeUint32 },
              invite_note: { n: 3, br: k.readString, bw: S.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Request";
    }
  },
  wa = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: k.readString, bw: S.writeString },
              invite_limit: {
                n: 2,
                br: k.readUint64String,
                bw: S.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: k.readUint64String,
                bw: S.writeUint64String,
              },
              time_created: { n: 4, br: k.readFixed32, bw: S.writeFixed32 },
              valid: { n: 5, br: k.readBool, bw: S.writeBool },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Response";
    }
  },
  ni = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Request";
    }
  },
  oi = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.tokens || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { tokens: { n: 1, c: wa, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Response";
    }
  },
  ai = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: k.readFixed64String,
                bw: S.writeFixed64String,
              },
              invite_token: { n: 2, br: k.readString, bw: S.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Request";
    }
  },
  _i = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.valid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              valid: { n: 1, br: k.readBool, bw: S.writeBool },
              steamid: {
                n: 2,
                br: k.readUint64String,
                bw: S.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: k.readUint64String,
                bw: S.writeUint64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Response";
    }
  },
  ii = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: k.readFixed64String,
                bw: S.writeFixed64String,
              },
              invite_token: { n: 2, br: k.readString, bw: S.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Request";
    }
  },
  ri = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Response";
    }
  },
  ui = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: k.readString, bw: S.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Request";
    }
  },
  si = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Response";
    }
  },
  bi = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.compat_tool || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              compat_tool: { n: 1, br: k.readUint32, bw: S.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Request";
    }
  },
  li = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Response";
    }
  },
  mi = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: k.readFixed64String,
                bw: S.writeFixed64String,
              },
              client_token: { n: 2, br: k.readBytes, bw: S.writeBytes },
              expiry: { n: 3, br: k.readUint32, bw: S.writeUint32 },
              deviceid: { n: 4, br: k.readUint32, bw: S.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_Token";
    }
  },
  ci = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.result || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              result: { n: 1, br: k.readUint32, bw: S.writeUint32 },
              token: { n: 2, c: mi },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeDevice_Response";
    }
  },
  pi = class t extends c.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ee(t.M()),
        c.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: k.readFixed64String,
                bw: S.writeFixed64String,
              },
              appid: { n: 2, br: k.readUint32, bw: S.writeUint32 },
              device_info: { n: 3, br: k.readString, bw: S.writeString },
              deviceid: { n: 4, br: k.readUint32, bw: S.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new c.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new c.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeCurrentDevice_Request";
    }
  },
  Hi;
((m) => {
  function t(d, g) {
    return d.SendMsg(
      "UserAccount.GetAvailableValveDiscountPromotions#1",
      Re(V_, g),
      W_,
      { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
    );
  }
  m.GetAvailableValveDiscountPromotions = t;
  function e(d, g) {
    return d.SendMsg("UserAccount.GetClientWalletDetails#1", Re(J_, g), K_, {
      ePrivilege: 1,
    });
  }
  m.GetClientWalletDetails = e;
  function n(d, g) {
    return d.SendMsg("UserAccount.GetAccountLinkStatus#1", Re(Y_, g), Q_, {
      ePrivilege: 1,
    });
  }
  m.GetAccountLinkStatus = n;
  function o(d, g) {
    return d.SendMsg("UserAccount.CancelLicenseForApp#1", Re(X_, g), $_, {
      ePrivilege: 1,
    });
  }
  m.CancelLicenseForApp = o;
  function a(d, g) {
    return d.SendMsg("UserAccount.GetUserCountry#1", Re(Z_, g), ei, {
      ePrivilege: 1,
    });
  }
  m.GetUserCountry = a;
  function _(d, g) {
    return d.SendMsg("UserAccount.CreateFriendInviteToken#1", Re(ti, g), wa, {
      ePrivilege: 3,
    });
  }
  m.CreateFriendInviteToken = _;
  function i(d, g) {
    return d.SendMsg("UserAccount.GetFriendInviteTokens#1", Re(ni, g), oi, {
      ePrivilege: 1,
    });
  }
  m.GetFriendInviteTokens = i;
  function r(d, g) {
    return d.SendMsg("UserAccount.ViewFriendInviteToken#1", Re(ai, g), _i, {
      ePrivilege: 1,
    });
  }
  m.ViewFriendInviteToken = r;
  function u(d, g) {
    return d.SendMsg("UserAccount.RedeemFriendInviteToken#1", Re(ii, g), ri, {
      ePrivilege: 1,
    });
  }
  m.RedeemFriendInviteToken = u;
  function s(d, g) {
    return d.SendMsg("UserAccount.RevokeFriendInviteToken#1", Re(ui, g), si, {
      ePrivilege: 1,
    });
  }
  m.RevokeFriendInviteToken = s;
  function l(d, g) {
    return d.SendMsg("UserAccount.RegisterCompatTool#1", Re(bi, g), li, {
      ePrivilege: 1,
    });
  }
  m.RegisterCompatTool = l;
})((Hi ||= {}));
var dg;
((e) => {
  function t(n, o) {
    return n.SendMsg("EmbeddedClient.AuthorizeCurrentDevice#1", Re(pi, o), ci, {
      ePrivilege: 1,
    });
  }
  e.AuthorizeCurrentDevice = t;
})((dg ||= {}));
function yg() {
  return ["CurrentUserWalletDetails", io.accountid];
}
function gg(t) {
  return {
    queryKey: yg(),
    queryFn: async () => {
      if (!io.accountid) return;
      let e = C.EREALM === 2;
      return (
        await Hi.GetClientWalletDetails(t, {
          wallet_region: e ? 2 : 1,
          include_formatted_balance: !0,
        })
      )
        .Body()
        .toObject();
    },
    staleTime: 10 * 60 * 1e3,
  };
}
function Sa() {
  let t = tt();
  return _n(gg(t));
}
var te = b(H(), 1);
function vl(t) {
  let { action: e } = t,
    n = (0, Qt.useContext)(kl),
    o = "span",
    a = {};
  return (
    e.href &&
      ((o = x),
      (a.to = e.href),
      (a.external = !e.ssr),
      e.href.startsWith(C.STORE_BASE_URL) &&
        (a.snr = { feature: "globalheader" })),
    e.action &&
      (e.href || (o = "button"),
      (a.onClick = async function (i) {
        switch ((i.preventDefault(), e.action)) {
          case 1: {
            ka();
            return;
          }
          case 2: {
            if (e.action_parameters?.language === void 0)
              throw "Missing language";
            try {
              await O_(e.action_parameters.language, n.changeLanguagePath);
            } catch (r) {
              console.error(r);
              return;
            }
            n.userDetails
              ? (location.href =
                  C.STORE_BASE_URL + "account/languagepreferences/")
              : e.href
                ? (location.href = e.href)
                : location.reload();
            return;
          }
        }
      })),
    (0, te.jsx)(En, {
      menuTarget: (0, te.jsx)(o, {
        ...a,
        tabIndex: 0,
        className: j_,
        children: Xo(e.label, (0, te.jsx)("span", { className: Lb })),
      }),
      direction: "left",
      className: Fb,
      children: e.children?.map((_, i) => (0, te.jsx)(vl, { action: _ }, i)),
    })
  );
}
var kl = (0, Qt.createContext)({});
function hl(t) {
  return (0, te.jsx)(kl.Provider, {
    value: t,
    children: t.globalActions.map((e, n) =>
      (0, te.jsx)(
        En,
        {
          direction: "down-left",
          menuTarget: (0, te.jsx)("button", {
            className: Nb,
            children: e.label,
          }),
          className: Ib,
          interactionMode: 1,
          children: e.children?.map((o, a) =>
            (0, te.jsx)(vl, { action: o }, a),
          ),
        },
        n,
      ),
    ),
  });
}
function Cg() {
  let { data: t } = Sa();
  return (0, te.jsx)("div", { className: Ob, children: t?.formatted_balance });
}
function wl(t) {
  let { userDetails: e } = t,
    [n, o] = (0, Qt.useState)(void 0),
    a = `/login/${n ? `?redir=${encodeURIComponent(n)}` : ""}`;
  return (
    (0, Qt.useEffect)(() => {
      o(location.href);
    }, []),
    e
      ? (0, te.jsxs)("div", {
          className: I_,
          children: [
            (0, te.jsx)("a", {
              className: G_,
              href: C.STORE_BASE_URL + "about/",
              children: U.Localize("#global_menu_install_steam"),
            }),
            t.notifications &&
              (0, te.jsx)("div", {
                className: Gb,
                children: (0, te.jsx)(va, {
                  dynamicImport: async () =>
                    (await import("./greenenvelope-3CD4AGPV.js")).GreenEnvelope,
                  fallback: (0, te.jsx)("div", { className: Ub }),
                  bResponsiveHeader: !1,
                  notifications: t.notifications,
                }),
              }),
            (0, te.jsxs)("div", {
              className: F_,
              children: [
                (0, te.jsx)(hl, {
                  userDetails: e,
                  globalActions: t.globalActions,
                  changeLanguagePath: t.changeLanguagePath,
                }),
                (0, te.jsx)(Cg, {}),
              ],
            }),
            (0, te.jsx)("a", {
              className: Eb,
              href: lo(e),
              children: (0, te.jsx)(sa, {
                playerLinkDetails: e,
                statusPosition: "border",
                alt: "",
                role: "presentation",
                size: "Small",
              }),
            }),
          ],
        })
      : (0, te.jsx)("div", {
          className: I_,
          children: (0, te.jsxs)("div", {
            className: F_,
            children: [
              (0, te.jsx)("a", {
                className: (0, fl.default)(G_, jb),
                href: C.STORE_BASE_URL + "about/",
                children: U.Localize("#global_menu_install_steam"),
              }),
              " ",
              (0, te.jsx)("a", {
                href: a,
                className: j_,
                children: U.Localize("#global_menu_login"),
              }),
              "  |  ",
              (0, te.jsx)(hl, {
                userDetails: e,
                globalActions: t.globalActions,
                changeLanguagePath: t.changeLanguagePath,
              }),
            ],
          }),
        })
  );
}
var Sl = "eGsI8rO3zfU-";
var Rl = "Ca2l5LKN6as-";
var Pl = "ewJx-kmPr-8-";
var Ml = "SmaLDT4y0RE-";
var Al = "LyTAF1R-NHw-";
var di = "_2GKjdN512t4-";
var xl = "FhcQPauG0Bc-";
var Tl = "_40MmWrTStR0-";
var Dl = "_5N8HUkyU1sA-";
var yi = b(bt(), 1),
  jl = b(w(), 1);
var zl = "MMrgod6KQlc-";
var Bl = "k0AAbwuFzJQ-";
var Ll = "ofgQne2Wvqg-";
var El = "FTufO00UqAw-";
var Nl = "iHkamGVWNgw-";
var Ol = "_9-ylsFqlD1Y-";
var Il = "_99jWUQL7ajk-";
var Fl = "maI6DbOJuy4-";
var Me = b(H(), 1),
  Lt = (0, jl.forwardRef)(function (e, n) {
    let { item: o, responsive: a, className: _, ...i } = e,
      r = pa().startsWith(o.href),
      u = o.label;
    return (
      a && (u = o.label_responsive ?? o.label),
      (0, Me.jsx)(Me.Fragment, {
        children: (0, Me.jsxs)(x, {
          className: (0, yi.default)(_, o.valveOnly && Il),
          to: o.href,
          "aria-current": r ? "page" : void 0,
          external: !o.ssr,
          snr: o.href.startsWith(C.STORE_BASE_URL) && {
            feature: "globalheader",
          },
          ref: n,
          ...i,
          children: [
            u,
            o.new &&
              (0, Me.jsx)("span", {
                className: Fl,
                children: U.Localize("#m_ext_new"),
              }),
          ],
        }),
      })
    );
  });
function Gl(t) {
  let { navContent: e } = t;
  return (0, Me.jsx)(En, {
    menuTarget: (0, Me.jsx)(Lt, { item: e, className: Ol }),
    direction: "right",
    children: e.children?.map((n, o) => (0, Me.jsx)(Gl, { navContent: n }, o)),
  });
}
function Ul(t) {
  return (0, Me.jsx)("nav", {
    className: zl,
    children: (0, Me.jsx)("ul", {
      className: Bl,
      children: t.navContent.map((e, n) =>
        (0, Me.jsx)(
          En,
          {
            menuTarget: (0, Me.jsx)(Lt, {
              item: e,
              className: (0, yi.default)(Ll, e.userContent && El),
            }),
            direction: "down",
            className: Nl,
            children: e.children?.map((o, a) =>
              (0, Me.jsx)(Gl, { navContent: o }, a),
            ),
          },
          n,
        ),
      ),
    }),
  });
}
var Vl = "/X3MIBOBA.png";
var Wl = "/TYQTXQDA.svg";
var gi = "/5EH3SHCA.svg";
var ql = "/KSEIVHDA.png";
function Wn() {
  return Tt(bo) === "desktop";
}
function Rg() {
  return Tt(bo) === "touch";
}
function Kl() {
  let t = [];
  return (
    Wn() && t.push("force_desktop"),
    Rg() && t.push("responsive touch"),
    t.join(" ")
  );
}
function Jl() {
  _a(bo, "desktop"), "location" in window && location.reload();
}
function Yl() {
  Wn() && ia(bo), "location" in window && location.reload();
}
var nt = b(bt(), 1),
  ot = b(w(), 1);
var Ql = "UJ-b28jREN4-";
var Xl = "-ackiz2p900-";
var $l = "dsfHY-n2vRo-";
var Zl = "_7QSpS4Fcxis-";
var em = "SMuDlFUQZ7c-";
var tm = "fbumr489F1M-";
var nm = "_4Irj26b6cAc-";
var om = "J0hwuL-5qaI-";
var Ci = "vaiPH0LUuOg-";
var hi = "lHc2D8LzCAM-";
var am = "qMsE88Z2WWg-";
var _m = "SI1K4dzVIa4-";
var im = "wQ0CyaaCCZw-";
var rm = "QB99AacwCmk-";
var um = "_8pHkaq8PPAw-";
var pt = "Ud1IMOOMuOI-";
var sm = "_58A1pqE2uSo-";
var ln = "myYtt3d51V4-";
var bm = "cmJ4ozhx9RE-";
var lm = "_2wGlOytoBKw-";
var mm = "_049Kz8GkLto-";
var cm = "qNNahG-7Lqc-";
var pm = "Yp-VG7Zk9AY-";
var Hm = "CX4Bz9fkpP4-";
var dm = "mL8bNWbmixg-";
var ym = "fPuSnTPv8Sw-";
var gm = "pHDUu-G3uyI-";
var Cm = "do714Zjyklo-";
var hm = "eemuAILDlkQ-";
var fm = "Q-TiFOlMJ8s-";
var fi = "V29-mSaJz7Q-";
var vm = "lFK0b3Au9I8-";
var km = "eaAkMgON-CQ-";
var wm = "gLRm-ue6Z7Q-";
var Sm = "RRZn8XwJQEk-";
var f = b(H(), 1);
function Mg(t) {
  return t.private_data?.persona_state === 0
    ? nm
    : t.private_data?.game_id !== void 0
      ? tm
      : em;
}
function Ag() {
  let { data: t } = la();
  return t
    ? (0, f.jsx)("div", {
        className: Ci,
        children: (0, f.jsx)(x, {
          snr: !0,
          external: !0,
          to: C.STORE_BASE_URL + "cart",
          className: Ci,
          children: U.LocalizeReact(
            "#Cart_CountWidget",
            (0, f.jsx)("b", { children: ro(t) }),
          ),
        }),
      })
    : null;
}
function xg() {
  let { data: t } = Sa();
  return t?.formatted_balance
    ? (0, f.jsx)("div", {
        className: hi,
        children: (0, f.jsx)(x, {
          snr: !0,
          external: !0,
          to: C.STORE_BASE_URL + "account",
          className: hi,
          children: U.LocalizeReact(
            "#responsive_menu_wallet_balance",
            (0, f.jsx)("b", { children: t.formatted_balance }),
          ),
        }),
      })
    : null;
}
function Rm(t) {
  let { navContent: e, children: n, labelAddition: o } = t,
    a = (0, ot.useRef)(null),
    _ = (0, ot.useRef)(null),
    i = (0, ot.useRef)(null),
    r = (0, ot.useRef)();
  if (!n && (!e.children || e.children.length === 0))
    return (0, f.jsx)(Lt, { item: e, className: pt, responsive: !0 });
  function u() {
    a.current &&
      (r.current && r.current.cancel(),
      (r.current = a.current.animate(
        {
          height: [
            `${i.current.offsetHeight}px`,
            `${_.current.offsetHeight + i.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )));
  }
  function s() {
    a.current &&
      (r.current && r.current.cancel(),
      (r.current = a.current.animate(
        {
          height: [
            `${_.current.offsetHeight + i.current.offsetHeight}px`,
            `${i.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )),
      r.current.addEventListener("finish", () => {
        a.current && (a.current.open = !1);
      }));
  }
  function l() {
    a.current?.open ? u() : a.current && s();
  }
  return (0, f.jsxs)("details", {
    name: "responsive-menu",
    className: rm,
    ref: a,
    onToggle: l,
    children: [
      (0, f.jsxs)("summary", {
        className: pt,
        ref: i,
        children: [
          e.label_responsive ?? e.label,
          " ",
          o,
          " ",
          (0, f.jsx)("div", { className: sm }),
        ],
      }),
      (0, f.jsxs)("div", {
        className: um,
        ref: _,
        children: [
          e.children?.map((m, d) =>
            (0, f.jsx)(Lt, { item: m, className: bm, responsive: !0 }, d),
          ),
          n,
        ],
      }),
    ],
  });
}
function Tg() {
  return (0, f.jsxs)(f.Fragment, {
    children: [
      (0, f.jsxs)("div", {
        className: dm,
        children: [
          (0, f.jsx)(x, {
            snr: !0,
            external: !0,
            to: C.STORE_BASE_URL + "about",
            children: "关于蒸汽平台",
          }),
          "  |  ",
          (0, f.jsx)(x, {
            snr: !0,
            external: !0,
            to: C.STORE_BASE_URL + "steam_refunds",
            children: "退款政策",
          }),
          "  |  ",
          (0, f.jsx)(x, {
            snr: !0,
            external: !0,
            to: C.STORE_BASE_URL + "subscriber_agreement",
            children: "软件许可服务协议",
          }),
          "  |  ",
          (0, f.jsx)("br", {}),
          (0, f.jsx)(x, {
            snr: !0,
            external: !0,
            to: C.STORE_BASE_URL + "privacy_agreement",
            children: "个人信息保护政策",
          }),
          "  |  ",
          (0, f.jsx)(x, {
            snr: !0,
            external: !0,
            to: C.STORE_BASE_URL + "data_outbound",
            children: "个人信息出境告知书",
          }),
          "  |  ",
          (0, f.jsx)("br", {}),
          (0, f.jsx)(x, {
            to: "https://about.steamchina.com/content_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "不良内容举报投诉",
          }),
          "  |  ",
          (0, f.jsx)(x, {
            to: "https://about.steamchina.com/infringement_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "侵权投诉",
          }),
          "  |  ",
          (0, f.jsx)(x, {
            to: "https://about.steamchina.com/parentguardianship_agreement.html",
            target: "_blank",
            rel: "noreferrer",
            children: "家长监护",
          }),
        ],
      }),
      (0, f.jsxs)("div", {
        className: ym,
        children: [
          (0, f.jsxs)(x, {
            external: !0,
            className: fi,
            to: "http://qr.weibo.cn/g/7kla92",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, f.jsx)("img", {
                alt: "微博",
                className: km,
                src: `${C.STORE_CDN_URL}/public/shared/images/footer/weibo_logo.svg?v=1`,
              }),
              (0, f.jsx)("div", { children: "微博" }),
            ],
          }),
          (0, f.jsxs)(x, {
            external: !0,
            className: fi,
            to: "http://weixin.qq.com/r/LC-K0i3EunDFrWmx93o_",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, f.jsx)("img", {
                alt: "微信",
                className: vm,
                src: `${C.STORE_CDN_URL}/public/shared/images/footer/wechat_logo.svg?v=1`,
              }),
              (0, f.jsx)("div", { children: "微信" }),
            ],
          }),
        ],
      }),
      (0, f.jsx)("hr", { className: hm }),
      (0, f.jsxs)("div", {
        className: fm,
        children: [
          (0, f.jsx)(x, {
            external: !0,
            to: "https://www.wanmei.com/",
            target: "_blank",
            rel: "noreferrer",
            children: (0, f.jsx)("img", {
              className: wm,
              src: `${C.STORE_CDN_URL}/public/shared/images/footer/pw_logo.svg?v=1`,
              alt: "",
            }),
          }),
          (0, f.jsx)(x, {
            external: !0,
            to: "https://www.valvesoftware.com",
            target: "_blank",
            rel: "noreferrer",
            children: (0, f.jsx)("img", {
              className: Sm,
              src: `${C.STORE_CDN_URL}/public/shared/images/footer/valve_logo.svg?v=1`,
              alt: "",
            }),
          }),
        ],
      }),
      (0, f.jsxs)("div", {
        className: gm,
        children: [
          (0, f.jsxs)("div", {
            children: [
              "© ",
              new Date().getFullYear(),
              " Valve Corporation 版权所有，完美世界已获授权。",
              (0, f.jsx)("br", {}),
              "所有商标均属于其在美国或其他国家的拥有者。",
            ],
          }),
          (0, f.jsxs)("div", {
            className: Cm,
            children: [
              "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。",
              (0, f.jsx)("br", {}),
              "增值电信业务经营许可证沪B2-20180406",
            ],
          }),
        ],
      }),
    ],
  });
}
function Dg() {
  return (0, f.jsxs)(f.Fragment, {
    children: [
      (0, f.jsx)("div", {
        children: (0, f.jsx)("img", {
          src: `${C.STORE_CDN_URL}/public/shared/images/responsive/logo_valve_footer.png`,
          alt: "",
        }),
      }),
      U.Localize("#responsive_footer_copyright"),
      "  ",
      (0, f.jsxs)("span", {
        children: [
          (0, f.jsx)(x, {
            to: C.STORE_BASE_URL + "privacy_agreement/",
            target: "_blank",
            children: U.Localize("#Common_Footer_PrivacyPolicy"),
          }),
          " |  ",
          (0, f.jsx)(x, {
            to: "http://www.valvesoftware.com/legal.htm",
            target: "_blank",
            children: U.Localize("#Common_Footer_Legal"),
          }),
          " |  ",
          (0, f.jsx)(x, {
            to: C.STORE_BASE_URL + "subscriber_agreement/",
            target: "_blank",
            children: U.Localize("#Common_Footer_SSA"),
          }),
          " |  ",
          (0, f.jsx)(x, {
            to: C.STORE_BASE_URL + "steam_refunds/",
            target: "_blank",
            children: U.Localize("#Common_Footer_Refunds"),
          }),
        ],
      }),
    ],
  });
}
function Pm(t) {
  let {
      userDetails: e,
      navContent: n,
      globalActions: o,
      changeLanguagePath: a,
      open: _,
      onDismiss: i,
      cartInResponsiveMenu: r,
    } = t,
    [u, s] = (0, ot.useState)(!1),
    l = (0, ot.useRef)(null),
    m = (0, ot.useRef)();
  (0, ot.useEffect)(() => {
    l.current &&
      (_
        ? (l.current?.showModal(),
          m.current?.cancel(),
          (m.current = l.current.animate(
            { transform: ["translateX(-280px)", "translateX(0)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )))
        : m.current &&
          (m.current?.cancel(),
          (m.current = l.current.animate(
            { transform: ["translateX(0)", "translateX(-280px)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )),
          m.current.addEventListener("finish", () => l.current?.close())));
  }, [_]);
  let d =
      o.find((v) => v.id === "language") ??
      o[0]?.children?.find((v) => v.id === "language"),
    g = {};
  return (
    _ || (g.inert = "inert"),
    (0, f.jsxs)(f.Fragment, {
      children: [
        (0, f.jsxs)("dialog", {
          className: (0, nt.default)(Ql, st(C.EREALM) && Xl),
          ref: l,
          onMouseDown: (v) => v.target === l.current && i(),
          onKeyDown: (v) => v.key === "Escape" && i(),
          ...g,
          children: [
            (0, f.jsxs)("div", {
              className: $l,
              children: [
                !e &&
                  (0, f.jsx)(Lt, {
                    className: (0, nt.default)(pt),
                    item: {
                      href: "/login/",
                      label: U.Localize("#global_menu_login_caps"),
                    },
                  }),
                e &&
                  (0, f.jsxs)("div", {
                    className: (0, nt.default)(Zl, Mg(e)),
                    children: [
                      (0, f.jsxs)("div", {
                        className: om,
                        children: [
                          (0, f.jsx)("a", {
                            className: im,
                            href: lo(e),
                            children: (0, f.jsx)(sa, {
                              playerLinkDetails: e,
                              statusPosition: "border",
                              alt: "",
                              role: "presentation",
                              size: "Small",
                              className: _m,
                            }),
                          }),
                          " ",
                          (0, f.jsx)("a", {
                            className: am,
                            href: lo(e),
                            children: e.public_data?.persona_name,
                          }),
                        ],
                      }),
                      r && (0, f.jsx)(Ag, {}),
                      (0, f.jsx)(xg, {}),
                    ],
                  }),
                t.notifications &&
                  (0, f.jsx)(Rm, {
                    navContent: { label: "Notifications", href: "" },
                    labelAddition: (0, f.jsxs)("div", {
                      className: (0, nt.default)(
                        lm,
                        t.notifications?.unread_count && cm,
                      ),
                      children: [
                        t.notifications.unread_count > 0 &&
                          (0, f.jsx)("span", { className: mm }),
                        (0, f.jsx)("span", {
                          className: pm,
                          children: ro(t.notifications?.unread_count ?? 0),
                        }),
                      ],
                    }),
                    children: (0, f.jsx)(va, {
                      dynamicImport: async () =>
                        (await import("./greenenvelope-3CD4AGPV.js"))
                          .GreenEnvelope,
                      fallback: (0, f.jsx)("div", {}),
                      bResponsiveHeader: !0,
                      notifications: t.notifications,
                    }),
                  }),
                n.map((v, P) => (0, f.jsx)(Rm, { navContent: v }, P)),
                (0, f.jsxs)("div", {
                  className: "minor_menu_items",
                  children: [
                    e &&
                      (0, f.jsxs)(f.Fragment, {
                        children: [
                          (0, f.jsx)(Lt, {
                            className: (0, nt.default)(pt, ln),
                            item: {
                              href: C.STORE_BASE_URL + "account",
                              label: U.Localize("#global_menu_account_details"),
                            },
                          }),
                          (0, f.jsx)(Lt, {
                            className: (0, nt.default)(pt, ln),
                            item: {
                              href: C.STORE_BASE_URL + "account/preferences",
                              label: U.Localize(
                                "#global_menu_account_preferences",
                              ),
                            },
                          }),
                        ],
                      }),
                    !st(C.EREALM) &&
                      (0, f.jsx)(f.Fragment, {
                        children: (0, f.jsx)("button", {
                          className: (0, nt.default)(pt, ln),
                          onClick: () => s(!0),
                          children: U.Localize("#global_menu_change_language"),
                        }),
                      }),
                    e &&
                      (0, f.jsx)("button", {
                        className: (0, nt.default)(pt, ln),
                        onClick: ka,
                        children: U.Localize("#global_menu_change_user"),
                      }),
                    !st(C.EREALM) &&
                      (0, f.jsx)(Lt, {
                        className: (0, nt.default)(pt, ln),
                        item: {
                          href: C.STORE_BASE_URL + "mobile",
                          label: U.Localize("#global_menu_getmobileapp"),
                        },
                      }),
                    !Wn() &&
                      (0, f.jsx)("button", {
                        className: (0, nt.default)(pt, ln),
                        onClick: Jl,
                        children: U.Localize(
                          "#global_menu_view_desktop_website",
                        ),
                      }),
                  ],
                }),
              ],
            }),
            (0, f.jsx)("footer", {
              className: Hm,
              children: st(C.EREALM) ? (0, f.jsx)(Tg, {}) : (0, f.jsx)(Dg, {}),
            }),
          ],
        }),
        d &&
          (0, f.jsx)(Bb, {
            open: u,
            onDismiss: () => s(!1),
            menuAction: d,
            changeLanguagePath: a,
            bLoggedIn: e != null,
          }),
      ],
    })
  );
}
var se = b(H(), 1);
function Am(t) {
  let [e, n] = (0, Mm.useState)(!1);
  return (0, se.jsxs)(se.Fragment, {
    children: [
      (0, se.jsxs)("header", {
        className: (0, vi.default)(Sl, t.className),
        children: [
          (0, se.jsxs)("div", {
            className: Rl,
            children: [
              (0, se.jsx)("a", {
                href: C.STORE_BASE_URL,
                "aria-label": U.Localize("#Aria_Steam_Home_Link"),
                className: di,
                children: (0, se.jsx)("img", {
                  src: Rt(st(C.EREALM) ? gi : Wl),
                  alt: U.Localize("#Aria_Steam_Home_Link"),
                  width: 176,
                  height: 44,
                }),
              }),
              (0, se.jsx)(Ul, { navContent: t.navContent }),
              (0, se.jsx)(wl, {
                globalActions: t.globalActions,
                userDetails: t.userDetails,
                notifications: t.notifications,
                changeLanguagePath: t.changeLanguagePath,
              }),
              t.children,
            ],
          }),
          (0, se.jsx)("div", {
            className: Pl,
            children: (0, se.jsxs)("nav", {
              children: [
                (0, se.jsxs)("button", {
                  className: Ml,
                  onClick: () => n(!0),
                  "aria-expanded": e,
                  "aria-label": U.Localize("#Aria_Navigation"),
                  children: [
                    (0, se.jsx)("img", { src: Rt(Vl), alt: "", className: Al }),
                    t.notifications?.unread_count !== 0 &&
                      (0, se.jsx)("div", {
                        className: xl,
                        children: (0, se.jsx)("div", {
                          className: (0, vi.default)(Tl),
                          children: (0, se.jsx)("span", {
                            className: Dl,
                            children: ro(t.notifications?.unread_count ?? 0),
                          }),
                        }),
                      }),
                  ],
                }),
                (0, se.jsx)("a", {
                  href: C.STORE_BASE_URL,
                  "aria-label": U.Localize("#Aria_Steam_Home_Link"),
                  className: di,
                  children: (0, se.jsx)("img", {
                    src: Rt(st(C.EREALM) ? gi : ql),
                    alt: U.Localize("#Aria_Steam_Home_Link"),
                    height: 36,
                  }),
                }),
              ],
            }),
          }),
        ],
      }),
      (0, se.jsx)(Pm, { ...t, open: e, onDismiss: () => n(!1) }),
    ],
  });
}
var xm = "y0fX1sHXgbg-";
var Tm = "dkzTutiFwB8-";
var Dm = "SMtSKQQ7dWs-";
var vo = b(H(), 1);
function zm(t) {
  return (0, vo.jsxs)("span", {
    className: xm,
    children: [
      (0, vo.jsx)("span", {
        className: Tm,
        children: "You are spoofing another user!",
      }),
      " ",
      (0, vo.jsx)("span", {
        className: Dm,
        onClick: () => {
          ia(aa), window.location.reload();
        },
        children: "end spoofing",
      }),
    ],
  });
}
var qn = b(w());
var Nm = b(Xd(), 1);
function ki(t) {
  try {
    if (!t || typeof t != "string") return null;
    let e = t.split(".");
    if (e.length !== 3) return null;
    let [n, o] = e,
      a = Lm(n),
      _ = Lm(o);
    return !a || !_ ? null : { header: JSON.parse(a), body: JSON.parse(_) };
  } catch (e) {
    return (
      console.error(`Exception while attempting to decode token: "${e}"`), null
    );
  }
}
function Bm(t) {
  return t ? t.body.exp : 0;
}
function Bg(t) {
  return t ? t.body.nbf || t.body.iat : 0;
}
function Em(t) {
  let e = Bm(t),
    n = Bg(t),
    o = 900,
    a = e - n;
  return a < 900 * 1.5 && (o = a <= 60 ? 0 : 60), Bm(t) - o < Date.now() / 1e3;
}
function Lm(t) {
  return atob(t.replace(/-/g, "+").replace(/_/g, "/"));
}
var Ra = class {
  m_ServiceTransport;
  m_AnonymousServiceTransport;
  m_strWebAPIBaseURL;
  m_webApiAccessToken = "";
  m_bJsonMode = !1;
  m_bJWTToken = !1;
  m_fnRequestNewAccessToken;
  m_refreshAccessTokenPromise;
  m_dtLastExpireCheck = 0;
  m_strSpoofedSteamID = "";
  constructor(e, n = "", o = !1, a) {
    (this.m_strWebAPIBaseURL = e),
      (this.m_webApiAccessToken = n),
      (this.m_bJsonMode = o),
      (this.m_fnRequestNewAccessToken = a),
      (this.m_bJWTToken = ki(n) != null),
      (this.m_ServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !0 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !0 }),
        MakeReady: this.MakeReady.bind(this),
      }),
      (this.m_AnonymousServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !1 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !1 }),
        MakeReady: this.MakeReady.bind(this),
      });
    let _ = Tt(aa);
    _ && /[0-9]+/g.test(_) && (this.m_strSpoofedSteamID = _);
  }
  WaitUntilLoggedOn() {
    return Promise.resolve();
  }
  GetServerRTime32() {
    return Number(new Date());
  }
  get steamid() {
    return new y_();
  }
  RTime32ToDate(e) {
    return new Date(e * 1e3);
  }
  MakeReady() {
    return Promise.resolve({ result: 1, message: "ready" });
  }
  GetServiceTransport() {
    return this.m_ServiceTransport;
  }
  GetWebAPIAccessToken() {
    return this.m_webApiAccessToken;
  }
  GetAnonymousServiceTransport() {
    return this.m_AnonymousServiceTransport;
  }
  async SendMsgAndAwaitResponse(e, n, o, a, _) {
    let i;
    try {
      if (this.m_bJWTToken && e.bSendAuth) {
        let u = Date.now() / 1e3;
        this.m_refreshAccessTokenPromise
          ? await this.m_refreshAccessTokenPromise
          : this.m_fnRequestNewAccessToken &&
            u - this.m_dtLastExpireCheck > 60 &&
            ((this.m_dtLastExpireCheck = u),
            Em(ki(this.m_webApiAccessToken)) &&
              ((this.m_refreshAccessTokenPromise =
                this.m_fnRequestNewAccessToken(this.m_webApiAccessToken)),
              (this.m_webApiAccessToken =
                await this.m_refreshAccessTokenPromise),
              (this.m_refreshAccessTokenPromise = void 0)));
      }
      let r = await this.Send(e, n, o, _);
      if (r.status != 200) throw new Error("Request Error");
      if (
        ((i = Ze.Init(a, 147)),
        r.headers &&
          (r.headers.get("x-eresult") &&
            i.Hdr().set_eresult(parseInt(r.headers.get("x-eresult"))),
          r.headers.get("x-error_message") &&
            i.Hdr().set_error_message(r.headers.get("x-error_message"))),
        this.m_bJsonMode)
      )
        i.SetBodyJSON(await r.json());
      else {
        let u = new bu(await r.arrayBuffer());
        i.ReadBodyFromBuffer(a, u);
      }
    } catch (r) {
      let u = r?.response?.status === 401,
        s = u ? "Unauthorized" : void 0;
      (i = this.CreateFailedMsgProtobuf(a, 3, s)),
        u &&
          !this.m_refreshAccessTokenPromise &&
          this.m_bJWTToken &&
          e.bSendAuth &&
          this.m_fnRequestNewAccessToken &&
          ((this.m_refreshAccessTokenPromise = this.m_fnRequestNewAccessToken(
            this.m_webApiAccessToken,
          )),
          (this.m_webApiAccessToken = await this.m_refreshAccessTokenPromise),
          (this.m_refreshAccessTokenPromise = void 0));
    }
    return i;
  }
  SendNotification(e, n, o, a) {
    return this.Send(e, n, o, a), !0;
  }
  Send(e, n, o, a) {
    let _ = this.CreateWebAPIURL(n),
      i = o.SerializeBody(),
      r = Nm.fromByteArray(i),
      u = a.eWebAPIKeyRequirement,
      s = a.ePrivilege == 0 && u == 1,
      l = {},
      m = new URLSearchParams();
    if (
      (!e.bSendAuth &&
        u != 1 &&
        console.error(
          `Attempting to invoke service ${n} without auth, but auth is required.`,
        ),
      this.m_webApiAccessToken &&
        e.bSendAuth &&
        !s &&
        (m.append("access_token", this.m_webApiAccessToken),
        this.m_strSpoofedSteamID &&
          m.append("spoof_steamid", this.m_strSpoofedSteamID)),
      a.bConstMethod)
    )
      return (
        m.append("origin", self.origin),
        this.m_bJsonMode
          ? m.append("input_json", JSON.stringify(o.Body().toObject()))
          : m.append("input_protobuf_encoded", r),
        fetch(`${_}?${m.toString()}`, l)
      );
    {
      let g = new FormData();
      return (
        this.m_bJsonMode
          ? g.append("input_json", JSON.stringify(o.Body().toObject()))
          : g.append("input_protobuf_encoded", r),
        fetch(`${_}?${m.toString()}`, { ...l, method: "POST", body: g })
      );
    }
  }
  CreateWebAPIURL(e) {
    let n = /([^\.]+)\.(.+)#(\d+)/,
      o = e.match(n);
    if (!o || o.length != 4) throw `Invalid service name: ${e}`;
    return `${this.m_strWebAPIBaseURL}I${o[1]}Service/${o[2]}/v${o[3]}`;
  }
  CreateFailedMsgProtobuf(e, n, o) {
    let a = Ze.Init(e);
    return (
      a.Hdr().set_eresult(2),
      a.Hdr().set_transport_error(n),
      o && a.Hdr().set_error_message(o),
      a
    );
  }
};
var Pa = class {
  async GetObject(e) {
    try {
      let n = await this.GetString(e);
      return n ? JSON.parse(n) : null;
    } catch {
      return null;
    }
  }
  async StoreObject(e, n) {
    return this.StoreString(e, JSON.stringify(n));
  }
};
var ko = class extends Pa {
  GetString(e) {
    return Promise.resolve(localStorage.getItem(e));
  }
  StoreString(e, n) {
    return localStorage.setItem(e, n), Promise.resolve();
  }
  RemoveObject(e) {
    return localStorage.removeItem(e), Promise.resolve();
  }
};
var wi = b(H());
function Om(t) {
  let { strWebAPIToken: e, steamid: n, children: o } = t,
    a = qn.useRef(),
    _ = qn.useRef(),
    i = qn.useCallback(
      () => (
        a.current || (a.current = new Ra(C.WEBAPI_BASE_URL, e, !1, Lg)),
        a.current
      ),
      [e],
    ),
    r = qn.useCallback(
      () => (_.current || (_.current = new ko()), _.current),
      [],
    );
  return (0, wi.jsx)(Qu, {
    useActiveSteamInterface: i,
    useStorage: r,
    children: (0, wi.jsx)($u, { steamid: n, children: o }),
  });
}
async function Lg(t) {
  let n = await (
    await fetch(`${C.LOGIN_BASE_URL}jwt/ajaxrefresh`, {
      method: "POST",
      body: new URLSearchParams({ redir: window.location.href }),
      credentials: "include",
      mode: "cors",
    })
  ).json();
  if (n.success) {
    let a = await (
      await fetch(n.login_url, {
        method: "POST",
        body: new URLSearchParams({ ...n, prior: t }),
      })
    ).json();
    if (a.result === 1) return a.token;
  }
  return "";
}
var Im = b(w());
var Ma = class {
  m_mapAppToSNRs = new Map();
  m_rgImpressionsToAdd = [];
  BIsValid() {
    return !0;
  }
  AddImpression(e, n) {
    if (!Ku(oa)) return;
    let o = !1;
    this.m_mapAppToSNRs.has(e)
      ? this.m_mapAppToSNRs.get(e).indexOf(n) == -1 &&
        (this.m_mapAppToSNRs.get(e).push(n), (o = !0))
      : (this.m_mapAppToSNRs.set(e, [n]), (o = !0)),
      o &&
        (this.m_rgImpressionsToAdd.push(`${e}@${n}`), this.QueueCookieUpdate());
  }
  m_iUpdateInterval;
  QueueCookieUpdate() {
    this.m_iUpdateInterval ||
      (this.m_iUpdateInterval = window.setTimeout(() => {
        this.UpdateCookie(), (this.m_iUpdateInterval = void 0);
      }, 1e3));
  }
  UpdateCookie() {
    let n = [Tt(oa) || "", ...this.m_rgImpressionsToAdd].join("|");
    this.m_rgImpressionsToAdd = [];
    let o = encodeURIComponent(n).length,
      a = 3200;
    o <= a
      ? _a(oa, n)
      : console.warn(
          `Cookie max length exceeded ( ${o} > ${a} ), discarding impressions`,
        );
  }
};
var jm = b(H());
function Fm(t) {
  let [e] = Im.useState(() => new Ma());
  return (0, jm.jsx)(gs, { ImpressionTracker: e, children: t.children });
}
var Gm = b(w(), 1);
function Um(t, e) {
  return { ...t, filters: { ...(e ?? {}), ...(t.filters ?? {}) } };
}
function Vm(t, e = 5, n) {
  let o = tt(),
    { storeBrowseContext: a, cacheStoreItemData: _ } = fs();
  return Gm.useCallback(
    (i) =>
      Eg(
        o,
        a,
        i,
        t ? { cacheStoreItemData: _, data_request: t } : void 0,
        e,
        n,
      ),
    [o, a, _, t, e, n],
  );
}
function Eg(t, e, n, o, a = 5, _) {
  return {
    queryKey: ["SearchSuggestions", _, n, a],
    queryFn: () => Ng(t, e, n, o, a, _),
    staleTime: 5 * 60 * 1e3,
    enabled: !!n,
  };
}
function Wm(t) {
  let e = [],
    n = [],
    o = [];
  return (
    t.forEach((a) => {
      "appid" in a || "packageid" in a || "bundleid" in a
        ? e.push(a)
        : "tagid" in a || "hubcategoryid" in a
          ? n.push(a)
          : "creatorid" in a
            ? o.push(a)
            : ea(a, `unexepected id type: ${JSON.stringify(a)}`);
    }),
    [e, n, o]
  );
}
async function Ng(t, e, n, o, a, _ = {}) {
  let { filters: i, include_tags: r = !1, include_creators: u = !1 } = _,
    s = Ze.Init(ms);
  ma(e, s),
    o && hs(s, o.data_request),
    s.Body().set_search_term(n),
    s.Body().set_use_spellcheck(!0),
    s.Body().set_max_results(a),
    i && s.Body().set_filters(ls.fromObject(i)),
    s.Body().set_search_tags(r),
    s.Body().set_search_creators(u);
  let l = await cs.SearchSuggestions(t, s);
  if (!l.BSuccess())
    throw `Error loading search suggestions: ${l.GetErrorMessage()}`;
  return (
    o &&
      l
        .Body()
        .store_items()
        .forEach((m) => o.cacheStoreItemData(m, o.data_request)),
    {
      rgItemIDs: l.Body().ids().map(Cs),
      metadata: l.Body().metadata().toObject(),
    }
  );
}
var m_ = b(bt(), 1);
var Oe = b(w()),
  kc = b(Pt());
var Kn = b(w());
var Ht = b(w());
var qm = { m_unPID: 0, m_nBrowserID: -1 };
var wo = class {
  m_fnRender;
  m_rgLoadingLinks = [];
  constructor(e, n, o) {
    if (((this.m_rgLoadingLinks = []), o))
      for (let a = 0; a < o.length; a++) this.AddLink(o[a], !0);
    else if (e) {
      let a = e.getElementsByTagName("link");
      for (let _ = 0; _ < a.length; _++) {
        let i = a[_];
        this.AddLink(i, !1);
      }
    }
  }
  AddLink(e, n) {
    if (n) {
      let o = !1;
      try {
        (!e.sheet || !e.sheet.cssRules || e.sheet.cssRules.length == 0) &&
          (o = !0);
      } catch {}
      o &&
        (e.addEventListener("load", this.OnLinkLoad),
        this.m_rgLoadingLinks.push(e));
    } else
      e.addEventListener("load", this.OnLinkLoad),
        this.m_rgLoadingLinks.push(e);
  }
  SetTarget(e) {
    (this.m_fnRender = e),
      this.m_rgLoadingLinks.length == 0 &&
        (this.m_fnRender(), (this.m_fnRender = void 0));
  }
  OnLinkLoad(e) {
    e.currentTarget.removeEventListener("load", this.OnLinkLoad),
      uo(this.m_rgLoadingLinks, e.currentTarget),
      this.m_rgLoadingLinks.length == 0 &&
        (this.m_fnRender?.(), (this.m_fnRender = void 0));
  }
};
p([y], wo.prototype, "OnLinkLoad", 1);
function Si() {
  return Uu() ? 256 : 0;
}
function Ro(t) {
  let e = 0;
  switch (t) {
    case 0:
      return (e |= 8192), (e |= 8), (e |= 512), (e |= 4194304), e;
    case 1:
      return (e |= Ro(0)), (e |= 16384), (e |= 262144), (e |= 1048576), e;
    case 2:
      return (
        (e |= Ro(0)), (e |= 262144), (e |= 16384), (e |= 4), (e |= Si()), e
      );
    case 3:
      return (
        (e |= 8),
        (e |= 262144),
        (e |= 16384),
        (e |= 65536),
        (e |= 4194304),
        (e |= Si()),
        e
      );
    case 4:
      return (
        (e = 8),
        (e |= 262144),
        (e |= 16384),
        (e |= 1048576),
        (e |= 4194304),
        (e |= Si()),
        e
      );
  }
}
function Jm() {
  let { ownerWindow: t } = De();
  return at.GetPopupForWindow(t)?.browser_info || qm;
}
var Ym = Ht.createContext({ ownerWindow: window }),
  De = () => Ht.useContext(Ym);
function Qm(t) {
  let { ownerWindow: e, children: n } = t,
    o = Ht.useMemo(() => ({ ownerWindow: e }), [e]);
  return Ht.createElement(Ym.Provider, { value: o }, n);
}
var Te = class {
  m_strName;
  m_strTitle;
  m_rgParams;
  m_popup;
  m_element;
  m_renderWhenReady;
  m_bCreateHidden;
  m_bCreated = !1;
  m_onCreateRender = null;
  m_bFocused = !1;
  constructor(e, n) {
    xt(this),
      Ce(
        e,
        "Name is required.  This is an internal name, different from title.",
      ),
      (this.m_strName = e);
    let { title: o, eCreationFlags: a, ..._ } = n;
    (this.m_rgParams = { ..._, eCreationFlags: a ?? 0 }),
      this.m_rgParams.target_browser &&
        (this.m_strName += "_uid" + this.m_rgParams.target_browser.m_unPID),
      (this.m_bCreateHidden = !!(this.m_rgParams.eCreationFlags & 2)),
      (this.m_strTitle = o);
  }
  UpdateParamsBeforeShow(e) {
    return e;
  }
  OnDrop(e) {
    console.log("Ignoring drop onto toplevel window", e),
      e.preventDefault(),
      e.stopPropagation();
  }
  OnDragOver(e) {
    e.preventDefault(),
      (e.dataTransfer.dropEffect = "none"),
      e.stopPropagation();
  }
  OnMessage(e) {
    e.data == "window_moved" && this.OnResize(),
      e.data == "popup-created" && this.OnCreateInternal();
  }
  Show(e = 1) {
    let n;
    typeof e == "boolean" ? (n = e ? 1 : 0) : (n = e),
      window.SteamClient && (this.m_rgParams.eCreationFlags |= 2),
      this.m_rgParams.eCreationFlags & 512 && (n = 0),
      this.BIsValid() &&
        (this.BIsClosed()
          ? ((this.m_popup = void 0), (this.m_element = void 0))
          : n != 0 && this.Focus(n));
    let o = at.GetExistingPopup(this.m_strName);
    if (o && !this.m_rgParams.replace_existing_popup) return;
    this.m_rgParams = this.UpdateParamsBeforeShow(this.m_rgParams);
    let a, _, i;
    o
      ? ((_ = o.m_element),
        (a = o.m_popup),
        o.ReleasePopup(),
        (i = o.m_renderWhenReady),
        at.RemoveTrackedPopup(o),
        a?.removeEventListener("beforeunload", o.OnBeforeUnloadEvent),
        a?.removeEventListener("unload", o.OnUnload),
        a?.removeEventListener("resize", o.OnResizeEvent),
        a?.removeEventListener("focus", this.OnFocusInternal),
        a?.removeEventListener("blur", this.OnBlurInternal),
        a?.removeEventListener("drop", o.OnDrop),
        a?.removeEventListener("dragover", o.OnDragOver),
        a?.removeEventListener("message", this.OnMessage))
      : (({ popup: a, element: _ } = So.CreatePopup(this.m_strName, {
          ...this.m_rgParams,
          title: this.m_strTitle,
        })),
        (i = new wo(a?.document, _))),
      a &&
        _ &&
        ((a.document.title = this.m_strTitle),
        a.addEventListener("beforeunload", this.OnBeforeUnloadEvent),
        a.addEventListener("unload", this.OnUnload),
        a.addEventListener("resize", this.OnResizeEvent),
        a.addEventListener("focus", this.OnFocusInternal),
        a.addEventListener("blur", this.OnBlurInternal),
        a.addEventListener("drop", this.OnDrop),
        a.addEventListener("dragover", this.OnDragOver),
        a.addEventListener("message", this.OnMessage),
        oe.LANGUAGE &&
          a.document.documentElement.setAttribute("lang", qu() ?? ""),
        (this.m_popup = a),
        (this.m_element = _),
        (this.m_renderWhenReady = i),
        this.m_renderWhenReady?.SetTarget(() => {
          this.m_popup &&
            this.m_element &&
            this.RenderInternal(this.m_popup, this.m_element, n);
        })),
      at.AddTrackedPopup(this),
      o && (this.OnCreateInternal(), n != 0 && this.Focus(n));
  }
  RemoveEventListeners() {
    this.window?.removeEventListener("beforeunload", this.OnBeforeUnloadEvent),
      this.window?.removeEventListener("unload", this.OnUnload),
      this.window?.removeEventListener("resize", this.OnResizeEvent),
      this.window?.removeEventListener("focus", this.OnFocusInternal),
      this.window?.removeEventListener("blur", this.OnBlurInternal),
      this.window?.removeEventListener("drop", this.OnDrop),
      this.window?.removeEventListener("dragover", this.OnDragOver),
      this.window?.removeEventListener("message", this.OnMessage);
  }
  RenderInternal(e, n, o) {
    if (!this.m_bCreated) {
      this.m_onCreateRender = () => this.RenderInternal(e, n, o);
      return;
    }
    this.browser_info &&
      Os(this.browser_info.m_eBrowserType) &&
      (n.ownerDocument.body.className += " VR"),
      this.Render(e, n),
      this.OnLoad(),
      e?.SteamClient &&
        !this.m_bCreateHidden &&
        (o != 0
          ? e.SteamClient.Window.BringToFront(o)
          : e.SteamClient.Window.ShowWindow());
  }
  OnCreateInternal() {
    this.m_bCreated ||
      ((this.m_bCreated = !0),
      this.OnCreate(),
      this.m_onCreateRender &&
        (this.m_onCreateRender(), (this.m_onCreateRender = null)));
  }
  OnCreate() {}
  OnResizeEvent() {
    this.OnResize();
  }
  OnBeforeUnloadEvent() {
    this.OnBeforeUnload();
  }
  OnUnload(e) {
    this.RemoveEventListeners(),
      at.RemoveTrackedPopup(this),
      this.OnClose(),
      (this.m_popup = void 0);
  }
  get browser_info() {
    return this.m_rgParams.target_browser;
  }
  get window() {
    return this.m_popup;
  }
  get root_element() {
    return this.m_element;
  }
  get title() {
    return this.m_strTitle;
  }
  set title(e) {
    (this.m_strTitle = e),
      this.m_popup && (this.m_popup.document.title = this.m_strTitle);
  }
  get params() {
    return this.m_rgParams;
  }
  Focus(e = 1) {
    e != 0 &&
      (this.m_popup &&
      typeof this.m_popup.SteamClient < "u" &&
      typeof this.m_popup.SteamClient.Window < "u"
        ? this.m_popup.SteamClient.Window.BringToFront(e)
        : this.m_popup && this.m_popup.focus());
  }
  Close() {
    this.m_popup &&
      (et(this.m_popup.window, "Window.Close")
        ? this.m_popup.window.SteamClient.Window.Close()
        : this.m_popup.window.close());
  }
  GetName() {
    return this.m_strName;
  }
  BIsValid() {
    return !!this.m_popup;
  }
  BIsClosed() {
    return !this.m_popup || this.m_popup.closed;
  }
  BIsVisible() {
    return !!(
      this.m_popup &&
      !this.m_popup.closed &&
      this.m_popup.document.visibilityState == "visible"
    );
  }
  BIsFocused() {
    return this.BIsVisible() && !!this.m_popup?.document.hasFocus();
  }
  OnFocusInternal() {
    this.m_popup && this.m_popup.document.body.classList.add("WindowFocus"),
      (this.m_bFocused = !0),
      this.OnFocus();
  }
  OnBlurInternal() {
    this.m_popup && this.m_popup.document.body.classList.remove("WindowFocus"),
      (this.m_bFocused = !1),
      this.OnBlur();
  }
  get focused() {
    return this.m_bFocused;
  }
  GetWindowRestoreDetails() {
    return et(this.m_popup, "Window.GetWindowRestoreDetails") &&
      !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.GetWindowRestoreDetails()
      : Promise.resolve("");
  }
  IsMinimized() {
    return et(this.m_popup, "Window.IsWindowMinimized") && !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.IsWindowMinimized()
      : Promise.resolve(!1);
  }
  IsMaximized() {
    return et(this.m_popup, "Window.IsWindowMaximized") && !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.IsWindowMaximized()
      : Promise.resolve(!1);
  }
  ReleasePopup() {
    this.OnClose(), (this.m_popup = null);
  }
  OnResize() {
    this.IsMaximized().then((e) => {
      e
        ? this.m_popup?.document.body.classList.add("Maximized")
        : this.m_popup?.document.body.classList.remove("Maximized");
    });
  }
  OnBeforeUnload() {}
  OnFocus() {}
  OnBlur() {}
};
p([At], Te.prototype, "m_bFocused", 2),
  p([y], Te.prototype, "OnMessage", 1),
  p([y], Te.prototype, "RenderInternal", 1),
  p([y], Te.prototype, "OnCreateInternal", 1),
  p([y], Te.prototype, "OnResizeEvent", 1),
  p([y], Te.prototype, "OnBeforeUnloadEvent", 1),
  p([y], Te.prototype, "OnUnload", 1),
  p([y], Te.prototype, "OnFocusInternal", 1),
  p([y], Te.prototype, "OnBlurInternal", 1);
var Ri = class extends Te {
  m_strSavedDimensionsKey;
  m_strInitialSavedDimensionsKey;
  m_strInitialRestoreDetails;
  m_bExpires;
  constructor(e, n, o, a) {
    super(e, o), this.SetSavedDimensionsKey(n), (this.m_bExpires = a);
  }
  BIsInOverlay() {
    return (
      this.browser_info &&
      this.browser_info.m_unPID != 0 &&
      this.browser_info.m_nBrowserID != -1
    );
  }
  SetSavedDimensionsKey(e) {
    this.m_strSavedDimensionsKey = e;
  }
  UpdateParamsBeforeShow(e) {
    return (
      this.m_strSavedDimensionsKey &&
      !e.bIgnoreSavedDimensions &&
      !e.strRestoreDetails
        ? ((this.m_strInitialSavedDimensionsKey = this.GetSavedDimensionsKey()),
          (e.strRestoreDetails = at.GetRestoreDetails(
            this.m_strInitialSavedDimensionsKey,
          )))
        : e.strRestoreDetails &&
          ((this.m_strInitialSavedDimensionsKey = this.GetSavedDimensionsKey()),
          at.SetRestoreDetails(
            this.m_strInitialSavedDimensionsKey,
            e.strRestoreDetails,
            this.m_bExpires,
          )),
      e
    );
  }
  OnLoad() {
    this.GetWindowRestoreDetails().then((e) => {
      (this.m_strInitialRestoreDetails = e), this.OnResizeComplete(e);
    });
  }
  OnResize() {
    super.OnResize(), this.QueryAndStoreWindowPosition();
  }
  OnResizeComplete(e) {}
  QueryAndStoreWindowPosition() {
    if (this.m_strInitialRestoreDetails) {
      let e = this.GetSavedDimensionsKey();
      this.m_popup?.setTimeout(() => {
        this.GetWindowRestoreDetails().then((n) => {
          let o =
            this.m_rgParams.strRestoreDetails == n &&
            e == this.m_strInitialSavedDimensionsKey;
          this.m_popup &&
            this.m_strSavedDimensionsKey &&
            n &&
            !o &&
            (at.SetRestoreDetails(e, n, this.m_bExpires),
            (this.m_rgParams.strRestoreDetails = n),
            (this.m_strInitialSavedDimensionsKey = e),
            this.OnResizeComplete(n));
        });
      }, 30);
    }
  }
  OnBeforeUnload() {
    this.QueryAndStoreWindowPosition(), super.OnBeforeUnload();
  }
  OnClose() {}
  SaveWindowPosition(e) {
    at.SetRestoreDetails(this.GetSavedDimensionsKey(), e, !1),
      (this.m_rgParams.strRestoreDetails = e);
  }
};
p([y], Ri.prototype, "QueryAndStoreWindowPosition", 1);
var So = class {
  m_bShuttingDown = !1;
  m_mapPopups = At.map([], { deep: !1 });
  m_rgShutdownCallbacks = [];
  m_rgPopupCreatedCallbacks = [];
  m_unCurrentAccountID = 0;
  m_mapRestoreDetails = new Map();
  m_bSaveRequired = !1;
  m_DynamicCSSObserver;
  constructor() {
    if ("addEventListener" in window) {
      window.addEventListener("beforeunload", (n) => {
        this.m_bShuttingDown = !0;
        for (let a of this.m_rgShutdownCallbacks) a();
        let o = [];
        this.m_mapPopups.forEach((a) => {
          a.BIsValid() && !a.BIsClosed() && o.push(a);
        });
        for (let a of o)
          a.window?.SteamClient.Browser?.SetShouldExitSteamOnBrowserClosed &&
            a.window.SteamClient.Browser.SetShouldExitSteamOnBrowserClosed(!1),
            a.window?.SteamClient.Window.SetHideOnClose &&
              a.window?.SteamClient.Window.SetHideOnClose(!1),
            a.Close();
        this.m_bSaveRequired && this.SaveSavedDimensionStore(),
          this.m_mapPopups.clear();
      });
      let e = document.querySelector("head");
      Ce(e, "Couldn't find head element"),
        e &&
          ((this.m_DynamicCSSObserver = new MutationObserver(() => {
            let n = k_();
            this.m_mapPopups.forEach((o) => {
              ku(o.window.document, n, !1);
            });
          })),
          this.m_DynamicCSSObserver.observe(e, { childList: !0 }));
    }
  }
  BAnyPopupHasFocus() {
    for (let e of this.m_mapPopups.values()) if (e.focused) return !0;
    return !1;
  }
  BAnyMenuHasFocus() {
    for (let e of this.m_mapPopups.values())
      if (e.focused && (e.params.eCreationFlags ?? 0) & 8) return !0;
    return !1;
  }
  SetCurrentLoggedInAccountID(e) {
    this.m_unCurrentAccountID != e &&
      ((this.m_unCurrentAccountID = e),
      e ? this.LoadSavedDimensionStore() : this.ClearSavedDimensionStore());
  }
  AddShutdownCallback(e) {
    this.m_rgShutdownCallbacks.push(e);
  }
  AddPopupCreatedCallback(e) {
    this.m_rgPopupCreatedCallbacks.push(e);
  }
  AddTrackedPopup(e) {
    if ((this.m_mapPopups.set(e.GetName(), e), e.BIsValid()))
      for (let n of this.m_rgPopupCreatedCallbacks) n(e);
  }
  RemoveTrackedPopup(e) {
    this.m_mapPopups.delete(e.GetName());
  }
  GetExistingPopup(e) {
    return this.m_mapPopups.get(e);
  }
  GetPopups() {
    return this.m_mapPopups.values();
  }
  GetPopupForWindow(e) {
    for (let n of this.m_mapPopups.values()) if (n.window === e) return n;
  }
  ClosePopupsOwnedByBrowser(e) {
    this.m_mapPopups.forEach((n) => {
      n.browser_info &&
        n.browser_info.m_nBrowserID == e.m_nBrowserID &&
        n.browser_info.m_unPID == e.m_unPID &&
        n.Close();
    });
  }
  static CreatePopup(e, n) {
    let o = n.dimensions || {},
      a = o.width || 300,
      _ = o.height || 300,
      i = n.title,
      r = "width=" + a + ",height=" + _;
    typeof o.left < "u" && (r += ",left=" + o.left),
      typeof o.top < "u" && (r += ",top=" + o.top),
      (r += ",resizeable,status=0,toolbar=0,menubar=0,location=0");
    let u = "about:blank",
      s = [];
    s.push("createflags=" + n.eCreationFlags),
      n.minWidth && s.push("minwidth=" + n.minWidth),
      n.minHeight && s.push("minheight=" + n.minHeight),
      n.maxWidth && n.maxWidth != 1 / 0 && s.push("maxwidth=" + n.maxWidth),
      n.maxHeight && n.maxHeight != 1 / 0 && s.push("maxheight=" + n.maxHeight),
      n.target_browser
        ? (s.push("pid=" + n.target_browser.m_unPID),
          s.push("browser=" + n.target_browser.m_nBrowserID),
          n.target_browser.m_eBrowserType
            ? s.push("browserType=" + n.target_browser.m_eBrowserType)
            : n.browserType && s.push("browserType=" + n.browserType),
          n.availscreenwidth &&
            n.availscreenheight &&
            (s.push("screenavailwidth=" + n.availscreenwidth),
            s.push("screenavailheight=" + n.availscreenheight)))
        : n.browserType && s.push("browserType=" + n.browserType),
      n.strVROverlayKey && s.push("vrOverlayKey=" + n.strVROverlayKey),
      n.strRestoreDetails && s.push("restoredetails=" + n.strRestoreDetails),
      n.window_opener_id && s.push("openerid=" + n.window_opener_id),
      n.parent_container_popup_id &&
        s.push("parentcontainerpopupid=" + n.parent_container_popup_id),
      n.center_on_window &&
        typeof o.left > "u" &&
        typeof o.top > "u" &&
        s.push(
          "centerOnBrowserID=" +
            n.center_on_window.SteamClient.Browser.GetBrowserID(),
        ),
      n.strUserAgent && s.push("useragent=" + n.strUserAgent),
      n.hwndParent && s.push("hwndParent=" + n.hwndParent),
      n.bPinned && s.push("pinned=true"),
      n.bModal && s.push("modal=true"),
      s && (u += "?" + s.join("&"));
    let m = (n.owner_window || window).open(u, e, r);
    if (!m)
      return (
        console.error(
          `Failed to create popup, browser/CEF may be blocking popups for "${window.location.origin}"`,
        ),
        {}
      );
    let d = "";
    n.html_class && (d = `class="${n.html_class}"`);
    let g = "";
    n.body_class && (g = `class="${n.body_class}"`);
    let v = "";
    n.popup_class && (v = `class="${n.popup_class}"`);
    let P = `<!DOCTYPE html><html ${d}><head><title></title></head><body ${g}><div id="popup_target" ${v}></div></body></html>`;
    return (
      m.document.write(P),
      (m.document.title = i),
      m.document.close(),
      vu(m, k_()),
      { popup: m, element: m.document.getElementById("popup_target") }
    );
  }
  BShuttingDown() {
    return this.m_bShuttingDown;
  }
  GetLocalStorageKey() {
    return "PopupSavedDimensions_" + this.m_unCurrentAccountID;
  }
  LoadSavedDimensionStore() {
    if (!this.m_unCurrentAccountID) return;
    let e = this.GetLocalStorageKey();
    this.m_mapRestoreDetails.clear();
    let n = window.localStorage.getItem(e);
    if (n)
      try {
        let o = JSON.parse(n);
        this.m_mapRestoreDetails = new Map(o);
      } catch {}
  }
  SaveSavedDimensionStore() {
    if (!this.m_unCurrentAccountID || !this.m_bSaveRequired) return;
    let e = this.GetLocalStorageKey(),
      n = JSON.stringify(Array.from(this.m_mapRestoreDetails));
    try {
      window.localStorage.setItem(e, n), (this.m_bSaveRequired = !1);
    } catch (o) {
      if ("name" in o && o.name == "QuotaExceededError") {
        console.log("Quota exceeded");
        for (let a of Object.keys(window.localStorage))
          a.startsWith("PopupSavedDimensions_") &&
            a != e &&
            window.localStorage.removeItem(a);
        window.localStorage.setItem(e, n), (this.m_bSaveRequired = !1);
      }
    }
  }
  DebouncedSaveSavedDimensionStore() {
    this.SaveSavedDimensionStore();
  }
  ClearSavedDimensionStore() {
    this.m_mapRestoreDetails?.clear(), (this.m_bSaveRequired = !1);
  }
  GetRestoreDetails(e) {
    if (!this.m_mapRestoreDetails?.has(e)) return "";
    let n = this.m_mapRestoreDetails.get(e);
    return (
      (n.last_used = Date.now()),
      (this.m_bSaveRequired = !0),
      n.strRestoreDetails
    );
  }
  SetRestoreDetails(e, n, o) {
    if (e) {
      if (n) {
        if (this.m_mapRestoreDetails.size > 50) {
          let _ = null,
            i = Date.now();
          for (let r of Array.from(this.m_mapRestoreDetails.keys())) {
            let u = this.m_mapRestoreDetails.get(r);
            u.last_used < i && u.bExpires && ((i = u.last_used), (_ = r));
          }
          _ && this.m_mapRestoreDetails.delete(_);
        }
        let a = { strRestoreDetails: n, last_used: Date.now(), bExpires: o };
        this.m_mapRestoreDetails.set(e, a);
      } else this.m_mapRestoreDetails.delete(e);
      (this.m_bSaveRequired = !0),
        this.m_bShuttingDown
          ? this.SaveSavedDimensionStore()
          : this.DebouncedSaveSavedDimensionStore();
    }
  }
};
p([y, as(100)], So.prototype, "DebouncedSaveSavedDimensionStore", 1);
var at = new So();
window.g_PopupManager = at;
var Zm = b(H()),
  Xm = Kn.default.createContext(null);
function $m(t) {
  let {
      refContextMenuManager: e,
      bRegisterMenuManager: n = !0,
      children: o,
    } = t,
    _ = De()?.ownerWindow || window,
    i = Kn.default.useRef();
  return (
    i.current || (i.current = new bs()),
    Kn.default.useLayoutEffect(() => {
      if (n)
        return (
          P_.SetMenuManager(_, i.current), () => P_.SetMenuManager(_, void 0)
        );
    }, [_, n]),
    Kn.default.useLayoutEffect(
      () => (rn(e, i.current), () => rn(e, void 0)),
      [e],
    ),
    (0, Zm.jsx)(Xm.Provider, { value: i.current, children: o })
  );
}
function Aa() {
  return Kn.default.useContext(Xm);
}
var $t = b(w()),
  tc = b(Pt());
var Xt = b(w());
var Po = b(w());
var Ig = b(H()),
  Og = Po.createContext({ body_class: "" });
function ec() {
  return Po.useContext(Og);
}
function xa(t, e, n) {
  let o = Xt.useRef(void 0),
    [a, _] = Xt.useState(void 0),
    i = ec();
  return (
    o.current || (o.current = new Pi(t, Fg(e, i), _)),
    (o.current.m_callbacks = n),
    Xt.useEffect(() => {
      if (!o.current?.params.bNoInitialShow) {
        let r = o.current?.params.bNoFocusOnShow ? 2 : 1;
        o.current?.Show(r);
      }
      return () => {
        (o.current.m_callbacks = void 0),
          o.current.window?.SteamClient.Window.SetHideOnClose &&
            o.current.window?.SteamClient.Window.SetHideOnClose(!1),
          o.current.Close();
      };
    }, []),
    Xt.useEffect(() => {
      o.current.window?.SteamClient.Window.SetHideOnClose &&
        o.current.window?.SteamClient.Window.SetHideOnClose(!!e.bHideOnClose);
    }, [e.bHideOnClose]),
    { popup: o.current.window, element: a, popupObj: o.current }
  );
}
function Fg(t, e) {
  return { ...t, body_class: h(t.body_class, e.body_class) };
}
var Pi = class extends Te {
  m_callbacks;
  m_fnReadyToRender;
  constructor(e, n, o) {
    super(e, n), (this.m_fnReadyToRender = o);
  }
  DoCallback(e) {
    this.m_callbacks?.[e]?.(this.m_popup, this.m_element);
  }
  UpdateParamsBeforeShow(e) {
    return this.m_callbacks?.updateParamsBeforeShow
      ? this.m_callbacks.updateParamsBeforeShow(e)
      : e;
  }
  OnCreate() {
    this.m_callbacks?.onCreate &&
      this.m_callbacks.onCreate(this.m_popup, this.m_element);
  }
  OnBlur() {
    this.DoCallback("onBlur");
  }
  OnFocus() {
    this.DoCallback("onFocus");
  }
  OnLoad() {
    this.DoCallback("onLoad");
  }
  OnResize() {
    this.DoCallback("onResize");
  }
  OnClose() {
    this.DoCallback("onClose");
  }
  Render(e, n) {
    this.m_fnReadyToRender(n);
  }
};
var Ne = b(H());
function nc(t) {
  let { managerOverride: e, bSuppressMouseOverlay: n } = t,
    o = Vt(),
    a = Jm(),
    _ = Aa(),
    i = e ?? _;
  Wt(i.OnMenusChanged, o);
  let r = !n && i.BShouldRenderMouseOverlay(),
    u = i.GetAllMenus();
  return (0, Ne.jsxs)(Ne.Fragment, {
    children: [
      r && (0, Ne.jsx)(us, {}),
      u.map((s) =>
        (0, Ne.jsx)(
          he,
          { children: (0, Ne.jsx)(Gg, { instance: s, browserInfo: a }) },
          s.key,
        ),
      ),
    ],
  });
}
function Gg(t) {
  let { instance: e, browserInfo: n, children: o } = t,
    a = !1,
    _ = Jn(),
    i = De().ownerWindow,
    r = $t.default.useRef(void 0);
  r.current === void 0 &&
    (r.current =
      (a || e.options.bForcePopup || i.innerWidth < 400 || _?.BOnlyPopups()) &&
      !!i.SteamClient?.Window);
  let u = $t.default.useMemo(
      () => ({ instance: e, styles: S_, presentation: 0 }),
      [e],
    ),
    s = o || e.ReactElement;
  return (0, Ne.jsx)(ba.Provider, {
    value: u,
    children: r.current
      ? (0, Ne.jsx)(Vg, { instance: e, browserInfo: n, children: s })
      : (0, Ne.jsx)(Ug, { instance: e, children: s }),
  });
}
function Ug(t) {
  let { instance: e, children: n } = t;
  return (0, Ne.jsx)(R_, { ...e.position, children: n });
}
function Vg(t) {
  let { instance: e, browserInfo: n, children: o } = t,
    a = $t.default.useRef(null),
    i = De().ownerWindow,
    r = i.SteamClient.Browser.GetBrowserID(),
    u = $t.default.useCallback(
      (d) => {
        let { options: g, position: v } = e,
          P = v.element;
        if (g.bScreenCoordinates)
          d.dimensions = {
            left: v.clientX,
            top: v.clientY,
            width: 2,
            height: 1,
          };
        else {
          let E = Cu(i, P.getBoundingClientRect());
          (d.dimensions = { left: E.right, top: E.top, width: 2, height: 1 }),
            (d.availscreenwidth = i.screen.availWidth),
            (d.availscreenheight = i.screen.availHeight);
        }
        return d;
      },
      [i, e],
    ),
    s = e.options.bStandalone ? Ro(4) : Ro(3);
  e.options.bCreateHidden && (s |= 2), e.options.bAlwaysOnTop && (s |= 8192);
  let { popupObj: l, element: m } = xa(
    "contextmenu_" + e.key,
    {
      title: e.options.title || "Menu",
      html_class: S_.ContextMenuPopup + " client_chat_frame",
      body_class: "ContextMenuPopupBody",
      replace_existing_popup: !1,
      target_browser: n,
      window_opener_id: r,
      bHideOnClose: !0,
      eCreationFlags: s,
    },
    { updateParamsBeforeShow: u },
  );
  return (
    (0, $t.useEffect)(() => {
      if (l)
        if (e.visible) {
          a.current && a.current.PositionMenu(),
            a.current && a.current.PositionPopupWindow();
          let d = e.options.bNoFocusWhenShown ? 2 : 1;
          e.TakeFocus(d);
        } else
          e.options.bRetainOnHide &&
            window.setTimeout(() => {
              l.window?.SteamClient.Window.HideWindow();
            }, 30);
    }, [l, e, e.visible]),
    oc(l.window),
    $t.default.useEffect(() => {
      e.SetPopup(l);
    }, [e, l]),
    m
      ? tc.default.createPortal(
          (0, Ne.jsx)(R_, {
            ref: a,
            ...e.position,
            parentWin: i,
            popup: l,
            children: o,
          }),
          m,
        )
      : null
  );
}
var dt = b(w());
var rc = b(Pt());
var Ao = b(w());
var Zt = b(w());
function ac(t) {
  let [e, n] = Zt.default.useState(!1),
    o = Zt.default.useCallback(() => {
      et(t, "Window.IsWindowMaximized")
        ? t.SteamClient.Window.IsWindowMaximized().then((a) => {
            n(a);
          })
        : t?.screen &&
          n(
            t.screen.availWidth == t.innerWidth &&
              t.screen.availHeight == t.innerHeight,
          );
    }, [t]);
  return (
    Zt.default.useEffect(o, [o, t]),
    Hu(t, "resize", o),
    f_(t, ["window_moved"], o),
    e
  );
}
function _c(t, e = 100) {
  let [n, o] = Zt.default.useState(!1),
    a = Zt.default.useCallback(() => o(!0), [o]),
    _ = Zt.default.useCallback(() => o(!1), [o]);
  return (
    Zt.default.useEffect(() => {
      if (t)
        return (
          t.addEventListener("focus", a),
          t.addEventListener("blur", _),
          () => {
            t.removeEventListener("focus", a), t.removeEventListener("blur", _);
          }
        );
    }, [t, a, _]),
    du(n, e)
  );
}
var ie = b(H());
function Wg(t) {
  let { popup: e, onMaximize: n, bOSX: o } = t,
    a = ac(e),
    _ = Ao.useCallback(() => {
      n
        ? n()
        : et(e, "Window.ToggleMaximize") &&
          e.SteamClient.Window.ToggleMaximize();
    }, [e, n]);
  return (0, ie.jsx)(Mi, {
    className: h(a ? "restoreButton" : "maximizeButton", "windowControlButton"),
    onClick: _,
    children: !o && (a ? (0, ie.jsx)(ns, {}) : (0, ie.jsx)(es, {})),
  });
}
function qg(t) {
  let { popup: e, onMinimize: n, bOSX: o } = t,
    a = Ao.useCallback(() => {
      e.SteamClient.Window.Minimize();
    }, [e]);
  return (0, ie.jsx)(Mi, {
    className: "minimizeButton windowControlButton",
    onClick: n ?? a,
    children: !o && (0, ie.jsx)(ts, {}),
  });
}
function Kg(t) {
  let { popup: e, onClose: n, bOSX: o } = t,
    a = Ao.useCallback(() => {
      e && (et(e, "Window.Close") ? e.SteamClient.Window.Close() : e.close());
    }, [e]);
  return (0, ie.jsx)(Mi, {
    className: "closeButton windowControlButton",
    onClick: n ?? a,
    children: !o && (0, ie.jsx)(Nn, {}),
  });
}
function Mi(t) {
  let { className: e, onClick: n, children: o } = t,
    a = Ao.useCallback(
      (_) => {
        n && (_.stopPropagation(), n(_));
      },
      [n],
    );
  return (0, ie.jsx)("div", {
    className: h("title-area-icon", e),
    onClick: a,
    children: (0, ie.jsx)("div", {
      className: "title-area-icon-inner",
      children: o,
    }),
  });
}
function ic(t) {
  let {
      className: e,
      style: n,
      hideActions: o,
      hideClose: a,
      hideMin: _,
      hideMax: i,
      bOSX: r = Vu(),
      bForceWindowFocused: u,
      onMinimize: s,
      onMaximize: l,
      onClose: m,
      extraActions: d,
      popup: g,
      children: v,
    } = t,
    P = _c(g);
  return (0, ie.jsxs)("div", {
    className: h(
      "TitleBar",
      "title-area",
      r && "OSX",
      (P || u) && "WindowFocus",
      e,
    ),
    style: n,
    children: [
      (0, ie.jsx)("div", { className: "title-area-highlight" }),
      (0, ie.jsx)("div", { className: "title-area-children", children: v }),
      !o &&
        (0, ie.jsxs)(ie.Fragment, {
          children: [
            d &&
              (0, ie.jsx)("div", {
                className: "title-bar-actions extra-actions",
                children: d,
              }),
            (0, ie.jsxs)("div", {
              className: "title-bar-actions window-controls",
              children: [
                !a && (0, ie.jsx)(Kg, { popup: g, onClose: m, bOSX: r }),
                !i && (0, ie.jsx)(Wg, { popup: g, onMaximize: l, bOSX: r }),
                !_ && (0, ie.jsx)(qg, { popup: g, onMinimize: s, bOSX: r }),
              ],
            }),
          ],
        }),
    ],
  });
}
var Yn = b(H());
function uc(t) {
  let { Modal: e } = t,
    { name: n, modalProps: o, options: a } = e,
    _ = De().ownerWindow,
    { popup: i, element: r } = xa(
      n,
      {
        title: o.strTitle,
        html_class:
          "client_chat_frame fullheight ModalDialogPopup LegacyPopup " +
          (o.className || ""),
        body_class: "fullheight ModalDialogBody",
        popup_class: "fullheight popup_chat_frame",
        owner_window: void 0,
        replace_existing_popup: !0,
        target_browser: o.browserContext,
        availscreenwidth: _.screen.availWidth,
        availscreenheight: _.screen.availHeight,
        bModal: o.bHideMainWindowForPopouts,
      },
      {
        updateParamsBeforeShow: (l) => Jg(l, o, a, _),
        onClose: () => o.fnOnClose && o.fnOnClose(),
      },
    ),
    u = a?.bHideActions,
    s =
      typeof a?.nDragAreaHeight == "number"
        ? { height: a.nDragAreaHeight }
        : void 0;
  return r
    ? rc.createPortal(
        (0, Yn.jsx)(Qm, {
          ownerWindow: i,
          children: (0, Yn.jsxs)("div", {
            className: "PopupFullWindow",
            onContextMenu: ss,
            children: [
              (0, Yn.jsx)(ic, {
                hideMin: !0,
                hideMax: !0,
                popup: i,
                hideActions: u,
                style: s,
              }),
              (0, Yn.jsx)(Qn, {
                browserInfo: o.browserContext,
                bCenterPopupsOnWindow: a.bCenterOnWindow,
                children: e.element,
              }),
            ],
          }),
        }),
        r,
      )
    : null;
}
function Jg(t, e, n, o) {
  let a,
    _,
    i = e.popupWidth || 500,
    r = e.popupHeight || 400,
    u;
  if (oe.IN_CLIENT && o?.SteamClient?.Browser?.GetBrowserID)
    u = o.SteamClient.Browser.GetBrowserID();
  else {
    let s = o.screen;
    (a = (s.availWidth - i) / 2), (_ = (s.availHeight - r) / 2);
    let l = s;
    typeof l.availLeft < "u" &&
      typeof l.availTop < "u" &&
      ((a += l.availLeft), (_ += l.availTop));
  }
  return {
    ...t,
    dimensions: { width: i, height: r, left: a, top: _ },
    center_on_window: n.bCenterOnWindow ? o : void 0,
    window_opener_id: u,
  };
}
var pe = b(w()),
  sc = b(Pt());
var Ta = b(H());
function bc(t) {
  let { ModalManager: e } = t,
    [n, o] = pe.useState(void 0),
    [a, _] = pe.useState(!0),
    i = pe.useRef(0),
    r = pe.useCallback(() => {
      pe.startTransition(() => {
        _(!0);
      });
    }, []);
  pe.useEffect(() => e.RegisterMeasureModalCallback(r).Unregister, [e, r]),
    pe.useLayoutEffect(() => {
      n ||
        pe.startTransition(() => {
          o(e.TakeMeasureModalRequest()), _(!1);
        });
    }, [e, n, a]);
  let u = pe.useCallback((s) => {
    i.current++,
      pe.startTransition(() => {
        o((l) => (l === s ? void 0 : l));
      });
  }, []);
  return n
    ? (0, Ta.jsx)(Yg, { onMeasureComplete: u, request: n }, i.current)
    : null;
}
function Yg(t) {
  let [e, n] = pe.useState(),
    o = De().ownerWindow;
  return (
    pe.useLayoutEffect(() => {
      let a = o.document.body,
        _ = o.document.createElement("div");
      return (
        (_.style.position = "absolute"),
        (_.style.visibility = "hidden"),
        a.appendChild(_),
        n(_),
        () => {
          a.removeChild(_);
        }
      );
    }, [o]),
    e ? sc.createPortal((0, Ta.jsx)(Qg, { ...t, elContainer: e }), e) : null
  );
}
function Qg(t) {
  let { elContainer: e, onMeasureComplete: n, request: o } = t;
  return (
    pe.useEffect(() => {
      let a = !1,
        _ = (i) => {
          a || (o.fnResults(i), n(o), (a = !0));
        };
      return Xg(e, o.promiseContentReady).then(_), () => _(void 0);
    }, [e, n, o]),
    (0, Ta.jsx)(he, { children: o.rctToMeasure })
  );
}
async function Xg(t, e) {
  e && (await e);
  let n = document;
  oe.IN_STEAMUI && n.fonts && (await n.fonts.ready);
  let o = t.getBoundingClientRect(),
    a = Math.ceil(o.height),
    _ = Math.ceil(o.width);
  return { height: a, width: _ };
}
var Da = class t {
    key;
    static sm_lastKey = 0;
    constructor() {
      this.key = `Modal_${t.sm_lastKey++}`;
    }
  },
  cn = class extends Da {
    element;
    ModalUpdatedCallback = new ut();
    constructor(e) {
      super(), (this.element = e);
    }
    UpdateModal(e) {
      (this.element = e), this.ModalUpdatedCallback.Dispatch();
    }
  },
  mn = class extends Da {
    m_OnElementReadyCallbacks = new ut();
    m_OnActiveModalCallbacks = new ut();
    constructor() {
      super();
    }
    get OnElementReadyCallbacks() {
      return this.m_OnElementReadyCallbacks;
    }
    get OnModalActiveCallbacks() {
      return this.m_OnActiveModalCallbacks;
    }
    RefModalElement(e) {
      e && this.m_OnElementReadyCallbacks.Dispatch(e);
    }
    SetActive(e) {
      this.m_OnActiveModalCallbacks.Dispatch(e);
    }
  };
p([y], mn.prototype, "RefModalElement", 1);
var za = class extends cn {
  m_strName;
  m_modalProps;
  m_options;
  constructor(e, n, o, a) {
    super(n),
      (this.m_strName = e),
      (this.m_modalProps = o),
      (this.m_options = a);
  }
  get name() {
    return this.m_strName;
  }
  get modalProps() {
    return this.m_modalProps;
  }
  get options() {
    return this.m_options;
  }
};
var lc = b(w());
var xo = class {
    m_bUsePopups = !0;
    m_bOnlyPopups = !1;
    m_bCenterPopupsOnWindow = !1;
    m_rgModals = [];
    m_OnModalCountChangedCallbacks = new ut();
    m_OnModalShownCallbacks = new ut();
    m_OnModalHiddenCallbacks = new ut();
    m_cMountedOverlays = 0;
    m_rgMeasureModalRequests = [];
    m_OnMeasureModal = new ut();
    m_rgLegacyPopupModals = [];
    m_OnLegacyPopupModalCountChanged = new ut();
    m_browserInfo;
    get ModalCountChangedCallbacks() {
      return this.m_OnModalCountChangedCallbacks;
    }
    get LegacyPopupModalCountChangedCallbacks() {
      return this.m_OnLegacyPopupModalCountChanged;
    }
    RegisterOnModalShownCallback(e) {
      return this.m_OnModalShownCallbacks.Register(e);
    }
    RegisterOnModalHiddenCallback(e) {
      return this.m_OnModalHiddenCallbacks.Register(e);
    }
    RegisterMeasureModalCallback(e) {
      return this.m_OnMeasureModal.Register(e);
    }
    TakeMeasureModalRequest() {
      if (this.m_rgMeasureModalRequests.length)
        return this.m_rgMeasureModalRequests.shift();
    }
    RegisterOverlay(e) {
      Ce(
        this.m_cMountedOverlays == 0,
        "Duplicate modal DialogOverlay; modals will appear in both",
      ),
        this.m_cMountedOverlays++;
      let n = this.m_OnModalCountChangedCallbacks.Register(e);
      return () => {
        this.m_cMountedOverlays--, n.Unregister();
      };
    }
    OnModalCountChanged(e) {
      e == "show" &&
        this.m_cMountedOverlays == 0 &&
        window.setTimeout(() => {
          Ce(
            this.m_cMountedOverlays > 0,
            "Modal was shown but ModalManager has no associated DialogOverlay",
          );
        }, 50),
        this.m_OnModalCountChangedCallbacks.Dispatch(this.m_rgModals.length),
        e == "show"
          ? this.m_OnModalShownCallbacks.Dispatch(this.m_rgModals.length)
          : e == "hide" &&
            this.m_OnModalHiddenCallbacks.Dispatch(this.m_rgModals.length);
    }
    get modals() {
      return this.m_rgModals;
    }
    get active_modal() {
      if (this.m_rgModals.length)
        return this.m_rgModals[this.m_rgModals.length - 1];
    }
    ShowModal(e) {
      return this.ShowModalInternal(e);
    }
    RemoveModal(e) {
      let n = this.m_rgModals.indexOf(e);
      n != -1 && this.m_rgModals.splice(n, 1), this.OnModalCountChanged("hide");
    }
    ShowModalInternal(e) {
      Ce(
        !this.m_bOnlyPopups,
        "Attempting to show modal in popup-only modal manager; will not display.",
      );
      let n = new cn(e);
      this.m_rgModals.push(n);
      let o = {
        Close: () => {
          this.RemoveModal(n);
        },
        Update: (a) => {
          n.UpdateModal(a);
        },
      };
      return this.OnModalCountChanged("show"), o;
    }
    ShowPortalModal() {
      Ce(
        !this.m_bOnlyPopups,
        "Attempting to show modal in popup-only modal manager; will not display.",
      );
      let e = new mn();
      return (
        this.m_rgModals.push(e),
        this.OnModalCountChanged("show"),
        {
          key: e.key,
          Close: () => {
            this.RemoveModal(e);
          },
          OnElementReadyCallbacks: e.OnElementReadyCallbacks,
          OnModalActiveCallbacks: e.OnModalActiveCallbacks,
        }
      );
    }
    SetUsePopups(e) {
      this.m_bUsePopups = e;
    }
    BUsePopups() {
      return this.m_bUsePopups || this.m_bOnlyPopups;
    }
    SetOnlyPopups(e) {
      this.m_bOnlyPopups = e;
    }
    BOnlyPopups() {
      return this.m_bOnlyPopups;
    }
    SetBrowserInfo(e) {
      this.m_browserInfo = e;
    }
    GetBrowserInfo() {
      return this.m_browserInfo;
    }
    SetCenterPopupsOnWindow(e) {
      this.m_bCenterPopupsOnWindow = e;
    }
    BCenterPopupsOnWindow() {
      return this.m_bCenterPopupsOnWindow;
    }
    RequestModalMeasure(e, n, o) {
      this.m_rgMeasureModalRequests.push({
        rctToMeasure: e,
        fnResults: n,
        promiseContentReady: o,
      }),
        this.m_OnMeasureModal.Dispatch();
    }
    get legacy_popup_modals() {
      return this.m_rgLegacyPopupModals;
    }
    ShowLegacyPopupModal(e, n, o, a) {
      let _ = () => {
          let r = this.m_rgLegacyPopupModals.indexOf(i);
          r != -1 && this.m_rgLegacyPopupModals.splice(r, 1),
            this.m_OnLegacyPopupModalCountChanged.Dispatch(
              this.m_rgLegacyPopupModals.length,
            ),
            o.fnOnClose && o.fnOnClose();
        },
        i = new za(
          e,
          n,
          { ...o, fnOnClose: _ },
          { bCenterOnWindow: this.m_bCenterPopupsOnWindow, ...a },
        );
      return (
        this.m_rgLegacyPopupModals.push(i),
        this.m_OnLegacyPopupModalCountChanged.Dispatch(
          this.m_rgLegacyPopupModals.length,
        ),
        {
          Close: _,
          Update: (r) => {
            i.UpdateModal(r);
          },
        }
      );
    }
  },
  Ai = class {
    m_mapModalManager = new WeakMap();
    GetModalManager(e) {
      let n = this.m_mapModalManager.get(e);
      return (
        n ||
          (console.assert(
            !1,
            `Early access to modal manager, creating one for ${e.document.title}`,
          ),
          (n = new xo()),
          this.m_mapModalManager.set(e, n)),
        n
      );
    }
    RegisterModalManager(e, n) {
      Ce(
        !this.m_mapModalManager.has(n) || n == window,
        `Stomping CModalManager for ${n.document.title}!`,
      );
      let o = this.m_mapModalManager.get(n);
      return (
        this.m_mapModalManager.set(n, e),
        () => {
          o
            ? this.m_mapModalManager.set(n, o)
            : this.m_mapModalManager.delete(n);
        }
      );
    }
    UnregisterModalManager(e) {
      this.m_mapModalManager.delete(e);
    }
  },
  To = new Ai();
function Xn(t) {
  return To.GetModalManager(t);
}
var xi = "kNiAxGG9vCI-";
var mc = "_3G8oCr9ck-g-";
var fe = b(w()),
  dc = b(Pt());
var pc = b(w());
var pn = {
  HoverPosition: "pKS2pegh-RQ-",
  Ready: "lNlkfTairww-",
  NoSpace: "_--Ss-RzFfa4-",
  EnablePointerEvents: "WKYfhU-e-Vs-",
  HoverAboveModal: "l5PVpLvx0Ik-",
  HoverPositionOuter: "jAGa1MCcCRo-",
};
var Ti = b(H()),
  en = class extends pc.Component {
    m_elHover;
    m_bNoSpace = !1;
    state = { x: void 0, y: void 0, hoverPositionReady: !1 };
    bindHover(e) {
      (this.m_elHover = e || void 0), this.positionHover();
    }
    componentDidUpdate() {
      this.positionHover();
    }
    render() {
      let {
          target: e,
          visibilityObserver: n,
          className: o,
          style: a,
          bEnablePointerEvents: _,
          direction: i,
          nBodyAlignment: r,
          nBodyDistance: u,
          nAllowOffscreenPx: s,
          nMaxLateralMoveOnScreen: l,
          children: m,
          onNoSpace: d,
          bTopmost: g,
          ...v
        } = this.props,
        P = Object.assign({ left: this.state.x, top: this.state.y }, a),
        E = !n || n.visible;
      return (0, Ti.jsx)("div", {
        className: h(pn.HoverPositionOuter, g && pn.HoverAboveModal),
        children: (0, Ti.jsx)("div", {
          ...v,
          className: h(
            pn.HoverPosition,
            E && this.state.hoverPositionReady && pn.Ready,
            this.m_bNoSpace && pn.NoSpace,
            _ && pn.EnablePointerEvents,
            o,
          ),
          style: P,
          ref: this.bindHover,
          children: m,
        }),
      });
    }
    positionHover() {
      let e = this.m_elHover,
        n = this.props.target;
      if (
        !e ||
        !n ||
        (this.state.hoverPositionReady &&
          this.props.visibilityObserver &&
          !this.props.visibilityObserver.visible)
      )
        return;
      let o = n.ownerDocument.defaultView;
      if (!o || o.closed) return;
      let a = e.querySelector(".hover_arrow.left"),
        _ = e.querySelector(".hover_arrow.right"),
        i = e.querySelector(".hover_arrow.top"),
        r = e.querySelector(".hover_arrow.bottom"),
        u = n.getBoundingClientRect(),
        s = e.getBoundingClientRect(),
        l =
          this.props.direction == "overlay" ||
          this.props.direction == "overlay-center";
      a && a.setAttribute("style", "display: none;"),
        _ && _.setAttribute("style", "display: none;"),
        i && i.setAttribute("style", "display: none;"),
        r && r.setAttribute("style", "display: none;");
      let {
          nBodyDistance: m = 8,
          direction: d = "right",
          nBodyAlignment: g = 0.5,
        } = this.props,
        {
          nLeft: v,
          nTop: P,
          nOverflow: E,
          nLateralOverflow: me,
        } = cc(d, g, m, u, s, o.innerWidth, o.innerHeight);
      if (E > (this.props.nAllowOffscreenPx ?? 10) && !l) {
        let de = Zg(this.props.direction ?? "right"),
          {
            nLeft: Se,
            nTop: we,
            nOverflow: ce,
            nLateralOverflow: Gt,
          } = cc(de, g, m, u, s, o.innerWidth, o.innerHeight);
        if (
          (ce < E && ((d = de), (v = Se), (P = we), (E = ce), (me = Gt)),
          E > (this.props.nAllowOffscreenPx ?? 10))
        ) {
          console.log(
            "Not showing hover because it didn't fit in the main or alt direction",
          ),
            e.setAttribute("style", "display: none;"),
            (this.m_bNoSpace = !0),
            this.props.onNoSpace && this.props.onNoSpace();
          return;
        }
      }
      this.props.nMaxLateralMoveOnScreen !== 0 &&
        !l &&
        ([P, v] = eC(
          this.props.nMaxLateralMoveOnScreen,
          me,
          d ?? "right",
          P,
          v,
        ));
      let _e = null;
      switch (d) {
        case "left":
          _e = _;
          break;
        case "right":
          _e = a;
          break;
        case "top":
          _e = r;
          break;
        case "bottom":
          _e = i;
          break;
      }
      _e && _e.setAttribute("style", ""),
        v != this.state.x && this.setState({ x: v }),
        P != this.state.y && this.setState({ y: P }),
        this.state.hoverPositionReady ||
          this.setState({ hoverPositionReady: !0 });
    }
  };
tu(en, "defaultProps", {
  direction: "right",
  nBodyAlignment: 0.5,
  nAllowOffscreenPx: 10,
  nBodyDistance: 8,
  nMaxLateralMoveOnScreen: void 0,
}),
  p([y], en.prototype, "bindHover", 1),
  (en = p([Jt], en));
function Zg(t) {
  switch (t) {
    case "right":
      return "left";
    case "left":
      return "right";
    case "bottom":
      return "top";
    case "top":
      return "bottom";
    case "overlay":
      return "overlay";
    case "overlay-center":
      return "overlay-center";
  }
}
function cc(t, e, n, o, a, _, i) {
  let r = _,
    u = i,
    s = 0,
    l = 0,
    m,
    d,
    g,
    v;
  switch (t) {
    case "right":
      (m = o.right + n),
        (d = Ba(o.top, o.height, a.height, e)),
        (g = Math.max(0, m + a.width - r)),
        (v = [Math.max(0, s - d), Math.max(0, d + a.height - u)]);
      break;
    case "left":
      (m = o.left - n - a.width),
        (d = Ba(o.top, o.height, a.height, e)),
        (g = Math.max(0, l - m)),
        (v = [Math.max(0, s - d), Math.max(0, d + a.height - u)]);
      break;
    case "bottom":
      (m = Ba(o.left, o.width, a.width, e)),
        (d = o.bottom + n),
        (g = Math.max(0, d + a.height - u)),
        (v = [Math.max(0, l - m), Math.max(0, m + a.width - r)]);
      break;
    case "top":
      (m = Ba(o.left, o.width, a.width, e)),
        (d = o.top - n - a.height),
        (g = Math.max(0, s - d)),
        (v = [Math.max(0, l - m), Math.max(0, m + a.width - r)]);
      break;
    case "overlay":
      (m = o.left), (d = o.top), (g = 0), (v = [0, 0]);
      break;
    case "overlay-center":
      (m = o.left + 0.5 * o.width - 0.5 * a.width),
        (d = o.top + 0.5 * o.height - 0.5 * a.height),
        (g = 0),
        (v = [0, 0]);
      break;
  }
  return { nLeft: m, nTop: d, nOverflow: g, nLateralOverflow: v };
}
function Ba(t, e, n, o) {
  return Math.max(0, Math.min(1, o)) * (e - n) + t;
}
function eC(t, e, n, o, a) {
  let _ = Math.max(e[0], e[1]);
  t !== void 0 && (_ = Math.min(t, _)), (_ = Math.max(0, _));
  let i = e[0] > e[1] ? _ : -_;
  return n === "left" || n === "right" ? (o += i) : (a += i), [o, a];
}
var Hc = {
  TextToolTip: "xa7nOX-adjA-",
  ToolTipCustom: "PlhA2maQjXM-",
  ToolTipTitle: "cIyIjwsfsgk-",
  Center: "anxU2KCS-vI-",
  ToolTipInsetContent: "l-gADqxrGeQ-",
};
var We = b(H()),
  yc = fe.createContext({}),
  tC = () => fe.useContext(yc);
function La(t) {
  let [e, n] = fe.useState(null),
    o = fe.useMemo(() => ({ targetElement: e }), [e]);
  return (0, We.jsxs)(yc.Provider, {
    value: o,
    children: [(0, We.jsx)("div", { ref: n }), t.children],
  });
}
function Ea(t) {
  let { divProps: e, tooltipProps: n } = Cc({
    ...t,
    toolTipContent: t.toolTipContent
      ? (0, We.jsx)(oC, { children: nC(t.toolTipContent) })
      : null,
  });
  return (0, We.jsxs)(Mt, {
    className: "tool-tip-source",
    noFocusRing: !0,
    focusable: t.bNavStop ?? !!e.onClick,
    ...e,
    children: [(0, We.jsx)(hc, { ...n }), t.children],
  });
}
function gc(t) {
  let { divProps: e, tooltipProps: n } = Cc(t);
  return (0, We.jsxs)(Mt, {
    className: "tool-tip-source",
    noFocusRing: !0,
    focusable: t.bNavStop ?? !!e.onClick,
    ...e,
    children: [(0, We.jsx)(hc, { ...n }), t.children],
  });
}
function Cc(t) {
  let {
      toolTipContent: e,
      nDelayShowMS: n = 300,
      bDisabled: o,
      direction: a,
      nBodyAlignment: _,
      nBodyDistance: i,
      nAllowOffscreenPx: r,
      nMaxLateralMoveOnScreen: u,
      strTooltipClassname: s,
      bNavStop: l,
      bTopmost: m,
      usePointerEvents: d,
      children: g,
      onMouseLeave: v,
      ...P
    } = t,
    E = {
      direction: a,
      nBodyAlignment: _,
      nBodyDistance: i,
      nAllowOffscreenPx: r,
      nMaxLateralMoveOnScreen: u,
      className: s,
      bTopmost: m,
    },
    [me, _e] = fe.useState(!1),
    [de, Se] = fe.useState(),
    we = fe.useCallback((Ut) => {
      _e(!0), Se(Ut.currentTarget);
    }, []),
    ce = fe.useCallback(() => {
      _e(!1);
    }, []),
    Gt = {
      active: me && !o,
      target: de,
      nDelayShowMS: n,
      hoverPositionProps: E,
      children: e,
    },
    ue = { ...P };
  return (
    d
      ? ((ue.onPointerEnter = we), (ue.onPointerLeave = ce))
      : ((ue.onMouseEnter = we), (ue.onMouseLeave = ce)),
    {
      divProps: ue,
      stateHandlers: { setTarget: Se, setHovered: _e },
      tooltipProps: Gt,
    }
  );
}
function nC(t) {
  return typeof t == "string" ? z(t) : t;
}
function oC(t) {
  return (0, We.jsx)("div", {
    ...t,
    className: h(Hc.TextToolTip, t.className),
  });
}
function hc(t) {
  let {
      active: e,
      target: n,
      nDelayShowMS: o = 300,
      hoverPositionProps: a,
      children: _,
    } = t,
    [i, r] = fe.useState(e),
    u = tC();
  if (
    (fe.useEffect(() => {
      if (e)
        if (o) {
          let l = window.setTimeout(() => r(!0), o);
          return () => window.clearTimeout(l);
        } else {
          r(!0);
          return;
        }
      else {
        r(!1);
        return;
      }
    }, [e]),
    !i || !_ || !n)
  )
    return null;
  let { targetElement: s } = u;
  return dc.createPortal(
    (0, We.jsx)(en, { target: n, ...a, children: _ }),
    s ?? n.ownerDocument.body,
  );
}
var ae = b(H());
function aC(t) {
  dt.useEffect(() => {
    if (t)
      return (
        document.body.classList.add(xi),
        () => document.body.classList.remove(xi)
      );
  }, [t]);
}
function _C(t) {
  let e = De().ownerWindow,
    n = Vt(),
    o = dt.useCallback(() => {
      e?.SteamClient?.Window && e.SteamClient.Window.BringToFront();
    }, [e]);
  dt.useEffect(() => t.RegisterOverlay(n), [t, n]),
    dt.useEffect(() => t.RegisterOnModalShownCallback(o).Unregister, [t, o]);
}
function iC(t, e) {
  return cu(
    (n) => {
      if (!n || !e) return;
      let o = n.ownerDocument.defaultView;
      return To.RegisterModalManager(t, o);
    },
    [t],
  );
}
function fc(t) {
  let {
      ModalManager: e,
      bRegisterModalManager: n = !0,
      DialogWrapper: o,
      rctActiveContextMenus: a,
      bUseDialogElement: _ = !0,
      style: i,
      ...r
    } = t,
    u = e.modals,
    s = u && !!u.length,
    l = e.active_modal;
  aC(s), _C(e);
  let m = iC(e, n),
    d = null,
    g = !_;
  return (
    u && u.length
      ? (d = u.map((v) => {
          let P = v == l,
            E = {
              key: v.key,
              active: P,
              rctActiveContextMenus: P && _ ? a : void 0,
            };
          return v instanceof cn
            ? (0, ae.jsx)(uC, { ...E, modal: v, Component: o ?? sC })
            : v instanceof mn
              ? (0, ae.jsx)(rC, { ...E, modal: v, bUseDialogElement: _ })
              : void 0;
        }))
      : ((g = !0), (i = { ...i, display: "none" })),
    (0, ae.jsxs)(ae.Fragment, {
      children: [
        (0, ae.jsxs)(Ca, {
          children: [
            (0, ae.jsxs)("div", {
              ...r,
              style: i,
              ref: m,
              className: h(r.className, "FullModalOverlay"),
              children: [
                (0, ae.jsx)("div", {
                  className: "ModalOverlayContent ModalOverlayBackground",
                }),
                d,
              ],
            }),
            g && a,
          ],
        }),
        (0, ae.jsx)(bc, { ModalManager: e }),
        (0, ae.jsx)(bC, { ModalManager: e }),
      ],
    })
  );
}
function rC(t) {
  let {
    modal: e,
    rctActiveContextMenus: n,
    active: o,
    bUseDialogElement: a,
  } = t;
  dt.useEffect(() => {
    if (o)
      return (
        e.SetActive(o),
        () => {
          e.SetActive(!1);
        }
      );
  }, [e, o]);
  let _ = (0, ae.jsxs)(he, {
    children: [
      (0, ae.jsx)("div", {
        className: h("ModalOverlayContent", o ? "active" : "inactive"),
        ref: e.RefModalElement,
      }),
      n,
    ],
  });
  return a ? (0, ae.jsx)(vc, { active: o, children: _ }) : _;
}
function uC(t) {
  let { modal: e, active: n, rctActiveContextMenus: o, Component: a } = t,
    _ = Vt();
  return (
    Wt(e.ModalUpdatedCallback, _),
    (0, ae.jsx)(he, {
      children: (0, ae.jsxs)(a, {
        className: h("ModalOverlayContent", n ? "active" : "inactive"),
        active: n,
        modalKey: e.key,
        children: [o, e.element],
      }),
    })
  );
}
function sC(t) {
  let { className: e, active: n, children: o } = t;
  return (0, ae.jsx)(vc, {
    active: n,
    children: (0, ae.jsx)(La, {
      children: (0, ae.jsx)("div", { className: e, tabIndex: -1, children: o }),
    }),
  });
}
function vc(t) {
  let { active: e, children: n } = t,
    o = dt.useRef(null);
  return (
    dt.useEffect(() => {
      let a = o.current;
      if (!(!e || !a)) return a.showModal(), () => a.close();
    }, [e]),
    (0, ae.jsx)("dialog", {
      ref: o,
      className: mc,
      onCancel: (a) => a.preventDefault(),
      children: t.children,
    })
  );
}
function bC(t) {
  let { ModalManager: e } = t,
    n = Vt();
  return (
    Wt(e.LegacyPopupModalCountChangedCallbacks, n),
    (0, ae.jsx)(ae.Fragment, {
      children: e.legacy_popup_modals.map((o) =>
        (0, ae.jsx)(uc, { Modal: o }, o.key),
      ),
    })
  );
}
var Hn = b(H()),
  Di = Oe.createContext({}),
  Qn = Oe.memo(function (e) {
    let {
        children: n,
        bRenderOverlayAtRoot: o,
        refModalManager: a,
        DialogWrapper: _,
        bUseDialogElement: i = !0,
        ContextMenuComponent: r = nc,
        refContextMenuManager: u,
        browserInfo: s,
        bUsePopups: l,
        bOnlyPopups: m,
        bCenterPopupsOnWindow: d,
        bRegisterManagersWithWindow: g = !0,
        ...v
      } = e,
      P = Oe.useRef();
    P.current || (P.current = new xo());
    let E = (0, Hn.jsx)(fc, {
      ...v,
      DialogWrapper: _,
      ModalManager: P.current,
      bUseDialogElement: i,
      bRegisterModalManager: g,
      rctActiveContextMenus: (0, Hn.jsx)(r, {}),
    });
    e.bRenderOverlayAtRoot &&
      typeof document < "u" &&
      "body" in document &&
      (E = kc.createPortal(E, document.body)),
      pu(a, P.current),
      l !== void 0 && P.current?.SetUsePopups(l),
      d !== void 0 && P.current?.SetCenterPopupsOnWindow(d),
      m !== void 0 && P.current?.SetOnlyPopups(m),
      P.current.SetBrowserInfo(s);
    let me = Oe.useMemo(
      () => ({ ModalManager: P.current, DialogWrapper: _ }),
      [_],
    );
    return (0, Hn.jsx)(Di.Provider, {
      value: me,
      children: (0, Hn.jsxs)($m, {
        refContextMenuManager: u,
        bRegisterMenuManager: g,
        children: [(0, Hn.jsx)(he, { children: E }), e.children],
      }),
    });
  });
function Jn() {
  return Oe.useContext(Di).ModalManager;
}
function wc() {
  return Oe.useContext(Di).DialogWrapper;
}
function oc(t) {
  let e = Jn();
  Oe.useEffect(() => {
    if (t) return To.RegisterModalManager(e, t);
  }, [t, e]);
}
var wp = b(w());
var tn = b(w());
var Na = b(w());
var Ie = b(H()),
  zi = Na.createContext({}),
  lC = () => Na.useContext(zi);
function dn(t) {
  let n = lC().ModalPosition ?? mC;
  return (0, Ie.jsx)(n, { ...t });
}
function mC(t) {
  let e = {},
    n;
  t.onEscKeypress &&
    ((e.tabIndex = 0),
    (e.onKeyDown = (i) => {
      i.keyCode == 27 && t.onEscKeypress();
    }),
    (e.onMouseDown = (i) => {
      i.currentTarget === i.target &&
        !t.bDisableBackgroundDismiss &&
        t.onEscKeypress();
    }),
    (n = (i) => {
      i && (Bn(i, i.ownerDocument.activeElement) || i.focus());
    }));
  let o = ["ModalPosition"];
  t.className && o.push(t.className),
    t.bDestructiveWarning && o.push("Destructive");
  let a = t.renderContent || ((i) => (0, Ie.jsx)("div", { ...i })),
    _ = (0, Ie.jsxs)(Ie.Fragment, {
      children: [
        !t.hideTopBar &&
          (0, Ie.jsx)("div", { className: "ModalPosition_TopBar" }),
        t.onEscKeypress &&
          !t.bHideCloseIcon &&
          (0, Ie.jsx)("div", {
            className: "ModalPosition_Dismiss",
            children: (0, Ie.jsx)("div", {
              className: "closeButton",
              onClick: (i) => {
                i.stopPropagation(), t.onEscKeypress();
              },
              children: (0, Ie.jsx)(Nn, {}),
            }),
          }),
        (0, Ie.jsx)(he, { children: t.children }),
      ],
    });
  return (0, Ie.jsx)("div", {
    className: o.join(" "),
    ...e,
    ref: n,
    children: a({ className: "ModalPosition_Content", children: _ }),
  });
}
var yn = b(w()),
  Rc = b(Pt());
var Bi = b(H());
function Pc(t) {
  let { active: e, children: n } = t,
    o = Jn() || Xn(window),
    a = wc(),
    [_, i] = yn.useState(null),
    [r, u] = yn.useState(!1),
    s = yn.useRef();
  if (
    (yn.useEffect(() => {
      if (e) {
        let m = o.ShowPortalModal(),
          d = m.OnElementReadyCallbacks.Register(i),
          g = m.OnModalActiveCallbacks.Register(u);
        return (
          (s.current = m.key),
          () => {
            i(null), u(!1), m.Close(), d.Unregister(), g.Unregister();
          }
        );
      } else return;
    }, [o, e]),
    !_ || !e)
  )
    return null;
  let l = (0, Bi.jsx)(La, { children: n });
  return (
    a && (l = (0, Bi.jsx)(a, { active: r, modalKey: s.current, children: l })),
    Rc.createPortal(l, _)
  );
}
var Do = {
  "duration-app-launch": "800ms",
  BasicContextMenuModal: "uJ0hG-CaVOs-",
  BasicContextMenuHeader: "AN2Hp1LQ9n0-",
  BasicContextMenuHeaderShrinkableSpacing: "hhS45xpvmfI-",
  BasicContextMenuContainer: "cDV5SKqaxnw-",
  slideInAnimation: "_9RJyOBZkv0I-",
  contextMenu: "VhLVP3Jhvgw-",
  contextMenuContents: "x1-2KO7vgJs-",
  hasSubMenu: "ATTtIklorIs-",
  contextMenuFade: "gTRyZgCh-Ho-",
  contextMenuItem: "FHkogJCCEy0-",
  Destructive: "Yxr6N2s2xws-",
  Positive: "eu5VX0tYz1Y-",
  Emphasis: "-WXzVoCu0h0-",
  active: "QKT3qH6x50k-",
  Selected: "c-X1QIVPLV4-",
  Focused: "RlhXEz57U1Q-",
  Capitalized: "Mn3ln2J648M-",
  MenuSectionHeader: "pOKcXNp9Arw-",
  UpperCase: "ToEy48RSk-A-",
  SubMenu: "Bntd5n9xKuk-",
  ContextMenuSeparator: "F-1ptqsIY-w-",
  Label: "iVtiM3Pigsc-",
  Arrow: "k1Y1vLMrtss-",
  BackgroundAnimation: "MgI1vEuUsqE-",
  "ItemFocusAnim-darkerGrey-nocolor": "DdWcJspeHns-",
  "ItemFocusAnim-darkerGrey": "_7oE4zLcHjdQ-",
  "ItemFocusAnim-darkGrey": "zz5u1HFpgNU-",
  "ItemFocusAnim-grey": "BUFXFGQP9Gs-",
  "ItemFocusAnim-translucent-white-10": "fMP0VfJIbPg-",
  "ItemFocusAnim-translucent-white-20": "dVMbtgn4Whs-",
  "ItemFocusAnimBorder-darkGrey": "l7pXZguduCo-",
  "ItemFocusAnim-green": "VQNbBo8A804-",
  focusAnimation: "_7XOpRmzNKi0-",
  hoverAnimation: "l-HXOknTs7g-",
};
var ze = b(H());
function Mc(t) {
  let { managerOverride: e } = t,
    n = Aa(),
    o = e ?? n,
    a = Vt();
  return (
    Wt(o.OnMenusChanged, a),
    (0, ze.jsx)(Pc, {
      active: !!o.ActiveMenu,
      children: (0, ze.jsx)(cC, { ActiveMenu: o.ActiveMenu }),
    })
  );
}
function cC(t) {
  let { ActiveMenu: e } = t,
    n = tn.useCallback(() => {
      e?.OnCancel();
    }, [e]);
  tn.useEffect(() => () => e?.Hide(), [e]);
  let o = [],
    a = null;
  Xu(() => {
    for (let i = e; i && i.visible; i = i.submenu)
      o.push((0, ze.jsx)(pC, { instance: i }, i.key)), (a = i.label);
  });
  let _ = tn.useCallback(
    (i) => {
      i.currentTarget == i.target && n();
    },
    [n],
  );
  return (0, ze.jsx)(dn, {
    padding: "none",
    children: (0, ze.jsxs)("div", {
      onClick: _,
      className: h("BasicUIContextMenu", Do.BasicContextMenuModal),
      children: [
        a &&
          (0, ze.jsx)(ze.Fragment, {
            children: (0, ze.jsx)("div", {
              className: Do.BasicContextMenuHeader,
              children: a,
            }),
          }),
        (0, ze.jsx)(F, {
          className: Do.BasicContextMenuContainer,
          onCancelButton: n,
          onClick: _,
          role: "listbox",
          children: o,
        }),
      ],
    }),
  });
}
function pC(t) {
  let { instance: e } = t,
    n = lt(),
    o = tn.useCallback(() => {
      n && Ee.PlayNavSound(25);
    }, [n]),
    a = tn.useMemo(
      () => ({
        instance: e,
        styles: Do,
        presentation: 1,
        callbacks: { onDisabledItemSelected: o },
      }),
      [e, o],
    );
  return (0, ze.jsx)(he, {
    children: (0, ze.jsx)(ba.Provider, { value: a, children: e.ReactElement }),
  });
}
var Ye = b(w());
var Ni = b(w());
var Oa = b(H());
var Ei = class {
  m_Promise;
  m_Value = void 0;
  constructor(e) {
    xt(this), (this.promise = e);
  }
  set promise(e) {
    (this.m_Promise = e),
      (this.m_Value = void 0),
      e?.then((n) => {
        this.m_Promise === e && (this.m_Value = n);
      });
  }
  get promise() {
    return this.m_Promise;
  }
  get value() {
    return this.m_Value;
  }
};
p([At], Ei.prototype, "m_Value", 2);
function qe(t) {
  return Ni.forwardRef(function (n, o) {
    return (0, Oa.jsx)("div", { ...n, className: h(t, n.className), ref: o });
  });
}
function Ac(t) {
  if (typeof t != "string") return NaN;
  let n = !t.includes("ms") && t.includes("s"),
    o = Number.parseFloat(t);
  return n && (o *= 1e3), o;
}
var xc = "me1BHzZX9A0-";
var Ia = b(H());
function Et(t) {
  let e = t.customTooltip ? gc : Ea;
  return (0, Ia.jsxs)(e, {
    toolTipContent: t.tooltip,
    className: h(xc, "HelperTooltip", t.className),
    children: [" ", (0, Ia.jsx)(os, {})],
  });
}
var Oi = b(w()),
  $n = Oi.default.createContext({}),
  Ii = () => Oi.default.useContext($n);
function Ke(t, e) {
  return Ii()[t] ?? e;
}
var _t = {
  Toggle: "iht2aUDj9M8-",
  Disabled: "YTEsHaVTRhQ-",
  ToggleRail: "smW0sc5P0Ac-",
  Highlight: "itL3LCJ2LME-",
  On: "cu29JgKd7Ng-",
  Off: "Rre7XjErr1w-",
  ToggleSwitch: "Py0EVswynbg-",
  ToggleRow: "LCqK-Jsy46k-",
  Label: "K-4Bc-GCthE-",
};
var gn = b(H());
function Tc(t) {
  let e = Ke("ToggleControl", dC);
  return (0, gn.jsx)(e, { ...t });
}
function dC(t) {
  let { value: e, onChange: n, disabled: o } = t;
  return (0, gn.jsxs)("div", {
    className: h(_t.Toggle, o && _t.Disabled),
    onClick: () => !o && n && n(!e),
    children: [
      (0, gn.jsx)("div", { className: _t.ToggleRail }),
      (0, gn.jsx)("div", {
        className: h(_t.ToggleRail, _t.Highlight, e ? _t.On : _t.Off),
      }),
      (0, gn.jsx)("div", { className: h(_t.ToggleSwitch, e ? _t.On : _t.Off) }),
    ],
  });
}
var T = b(H());
function ja(t) {
  return Ye.forwardRef(function (n, o) {
    return (0, T.jsx)(F, { ...n, className: h(t, n.className), ref: o });
  });
}
var Ga = qe("DialogHeader"),
  Ix = qe("DialogSubHeader"),
  Fx = qe("SettingsDialogSubHeader"),
  Dc = qe("DialogFooter"),
  yC = qe("DialogLabel _DialogLayout"),
  zc = qe("DialogBodyText"),
  jx = qe("DialogBody"),
  Bc = ja("DialogBody"),
  Gx = qe("DialogInnerBody"),
  Ux = qe("DialogControlsSection"),
  Vx = qe("DialogControlsSectionHeader"),
  gC = ja("DialogTwoColLayout _DialogColLayout"),
  CC = ja("DialogThreeColLayout _DialogColLayout"),
  Wx = ja("DialogTwoThirdColLayout _DialogColLayout"),
  qx = qe("DialogColumn _DialogLayout");
function Fi(t) {
  let e = Ke("Content", hC);
  return (0, T.jsx)(e, { ...t });
}
function hC(t) {
  let { children: e, bCenterVertically: n, refElem: o, ...a } = t,
    _ = "DialogContent _DialogLayout" + (t.className ? " " + t.className : "");
  return (
    n && (_ += " _DialogCenterVertically"),
    (0, T.jsx)("div", {
      ...a,
      ref: o,
      className: _,
      children: (0, T.jsx)("div", {
        className: "DialogContent_InnerWidth",
        children: e,
      }),
    })
  );
}
var Fa = class extends Ye.Component {
  OnSubmit(e) {
    e.preventDefault(), this.props.onSubmit && this.props.onSubmit(e);
  }
  render() {
    return (0, T.jsx)("form", { ...this.props, onSubmit: this.OnSubmit });
  }
};
p([y], Fa.prototype, "OnSubmit", 1);
function Lc(t) {
  let { classNameContent: e, bCenterVertically: n, ...o } = t;
  return (0, T.jsx)(Fi, {
    className: e,
    bCenterVertically: n,
    children: (0, T.jsx)(Fa, { ...o }),
  });
}
function Ec(t) {
  let { label: e, tooltip: n, className: o, children: a } = t;
  return (0, T.jsxs)("label", {
    className: h("DialogInputLabelGroup", "_DialogLayout", o),
    children: [
      e &&
        (0, T.jsxs)(yC, {
          children: [e, " ", n && (0, T.jsx)(Et, { tooltip: n }), " "],
        }),
      a,
    ],
  });
}
var Lo = Ye.forwardRef(function (e, n) {
    let o = Ii(),
      { svgicon: a, ..._ } = e,
      i = h(
        e.className,
        a !== void 0 && "hasSVGIcon",
        _.disabled && "Disabled",
        o.strButtonClassName,
      ),
      r = (u) => {
        if (!(_.disabled || !u))
          return (s) => {
            s.stopPropagation(), u(s);
          };
      };
    return (0, T.jsxs)(Kt, {
      ref: n,
      onOKActionDescription: _.disabled ? null : void 0,
      noFocusRing: !!o.strButtonClassName,
      ..._,
      className: i,
      disabled: !1,
      onClick: r(_.onClick),
      onPointerDown: r(_.onPointerDown),
      onPointerUp: r(_.onPointerUp),
      onPointerCancel: r(_.onPointerCancel),
      onMouseDown: r(_.onMouseDown),
      onMouseUp: r(_.onMouseUp),
      onTouchStart: r(_.onTouchStart),
      onTouchEnd: r(_.onTouchEnd),
      onTouchCancel: r(_.onTouchCancel),
      onSubmit: r(_.onSubmit),
      children: [a && a(), e.children],
    });
  }),
  Bo = Ye.forwardRef(function (e, n) {
    return (0, T.jsx)(Lo, {
      preferredFocus: !0,
      type: e.onClick ? "button" : "submit",
      ...e,
      ref: n,
      className: h(e.className, "DialogButton", "_DialogLayout", "Primary"),
    });
  }),
  Je = Ye.forwardRef(function (e, n) {
    return (0, T.jsx)(Lo, {
      type: "button",
      ...e,
      ref: n,
      className: h(e.className, "DialogButton", "_DialogLayout", "Secondary"),
    });
  }),
  Kx = Ye.forwardRef(function (e, n) {
    return (0, T.jsx)(Lo, {
      type: "button",
      ...e,
      ref: n,
      className: h(e.className, "DialogButton", "_DialogLayout", "EmptyButton"),
    });
  }),
  Jx = Ye.forwardRef(function (e, n) {
    return (0, T.jsx)(Lo, {
      type: "button",
      ...e,
      ref: n,
      className: h(e.className, "DialogButton _DialogLayout Small"),
    });
  }),
  Yx = Ye.forwardRef(function (e, n) {
    return (0, T.jsx)(Lo, {
      type: "button",
      ...e,
      ref: n,
      className: h(e.className, "TextButton"),
    });
  });
function Nc(t) {
  return (0, T.jsxs)(gC, {
    className: t.className,
    children: [
      (0, T.jsxs)(Bo, {
        onClick: t.onOK,
        disabled: t.bOKDisabled,
        autoFocus: t.focusButton == "primary",
        children: [t.strOKText || z("#Button_Confirm"), " "],
      }),
      (0, T.jsx)(Je, {
        onClick: t.onCancel,
        disabled: t.bCancelDisabled,
        autoFocus: t.focusButton == "secondary",
        children: t.strCancelText || z("#Button_Cancel"),
      }),
    ],
  });
}
function Oc(t) {
  let e = t.bOKDisabled ? Je : Bo,
    n = t.bOKDisabled ? Bo : Je;
  return (0, T.jsxs)(CC, {
    children: [
      (0, T.jsxs)(e, {
        onClick: t.onOK,
        disabled: t.bOKDisabled,
        children: [t.strOKText || z("#Button_Confirm"), " "],
      }),
      (0, T.jsxs)(n, {
        onClick: t.onUpdate,
        disabled: t.bUpdateDisabled,
        children: [t.strUpdateText || z("#Button_Update"), " "],
      }),
      (0, T.jsx)(Je, {
        onClick: t.onCancel,
        disabled: t.bCancelDisabled,
        children: t.strCancelText || z("#Button_Cancel"),
      }),
    ],
  });
}
var nn = class extends Ye.Component {
  constructor(e) {
    super(e), (this.state = { checked: e.checked, disabled: e.disabled });
  }
  componentDidUpdate(e) {
    this.props.controlled ||
      (e.checked != this.props.checked &&
        this.props.checked != this.state.checked &&
        this.setState({ checked: this.props.checked })),
      e.disabled != this.props.disabled &&
        this.props.disabled != this.state.disabled &&
        this.setState({ disabled: this.props.disabled });
  }
  shouldComponentUpdate(e, n) {
    return !(
      e.label == this.props.label &&
      e.description == this.props.description &&
      e.onChange == this.props.onChange &&
      e.controlled == this.props.controlled &&
      e.disabled == this.props.disabled &&
      n.disabled == this.state.disabled &&
      e.checked == this.checked &&
      n.checked == this.state.checked
    );
  }
  get checked() {
    return this.props.controlled ? this.props.checked : this.state.checked;
  }
  GetPanelElementProps() {
    let {
      onChange: e,
      checked: n,
      label: o,
      description: a,
      tabIndex: _,
      disabled: i,
      className: r,
      tooltip: u,
      color: s,
      highlightColor: l,
      bottomSeparator: m,
      controlled: d,
      ...g
    } = this.props;
    return {
      ...g,
      tabIndex: _ || 0,
      onActivate: this.Toggle,
      onKeyDown: this.KeyDown,
    };
  }
  Toggle() {
    if (this.props.disabled) return;
    let e = !this.checked;
    this.props.controlled || this.setState({ checked: e }),
      this.props.onChange && this.props.onChange(e);
  }
  KeyDown(e) {
    e.keyCode == 32 && (this.Toggle(), e.preventDefault(), e.stopPropagation());
  }
  SetChecked(e, n) {
    this.setState({ checked: e }),
      n && this.props.onChange && this.props.onChange(e);
  }
};
p([y], nn.prototype, "Toggle", 1),
  p([y], nn.prototype, "KeyDown", 1),
  p([y], nn.prototype, "SetChecked", 1);
var Qx = Ye.forwardRef(function (e, n) {
    let o = Ke("ToggleField", zo);
    return (0, T.jsx)(o, { ref: n, ...e });
  }),
  zo = class extends nn {
    OnOffKeyDown(e) {
      (e.keyCode == 37 && this.checked) || (e.keyCode == 39 && !this.checked)
        ? (this.Toggle(), e.preventDefault(), e.stopPropagation())
        : this.KeyDown(e);
    }
    OnNewUIToggle(e) {
      e !== this.checked && this.Toggle();
    }
    render() {
      let e =
        "DialogToggleField _DialogInputContainer _DialogLayout " +
        (this.props.className ? this.props.className : "");
      return (
        this.props.disabled && (e += " Disabled"),
        (0, T.jsxs)("div", {
          className: e,
          tabIndex: this.props.tabIndex || 0,
          onKeyDown: this.OnOffKeyDown,
          children: [
            (0, T.jsxs)("div", {
              className: "displayColumn alignSelfCenter",
              children: [
                (0, T.jsxs)("div", {
                  className: "DialogToggle_Label",
                  children: [
                    (0, T.jsx)("span", { children: this.props.label }),
                    this.props.tooltip &&
                      (0, T.jsx)(Et, { tooltip: this.props.tooltip }),
                  ],
                }),
                this.props.description &&
                  (0, T.jsx)("div", {
                    className: "DialogToggle_Description",
                    children: this.props.description,
                  }),
                this.props.children,
              ],
            }),
            this.props.useToggleRail
              ? (0, T.jsx)("div", {
                  className: "DialogToggleField_NewUIContainer",
                  children: (0, T.jsx)(Tc, {
                    onChange: this.OnNewUIToggle,
                    value: this.checked,
                  }),
                })
              : (0, T.jsx)("div", {
                  className: "DialogToggleField_Control",
                  onClick: this.Toggle,
                  children: (0, T.jsxs)(F, {
                    className: "DialogToggleField_OptionPanel",
                    onOKButton: this.Toggle,
                    children: [
                      (0, T.jsx)("div", {
                        className:
                          "DialogToggleField_Option Off" +
                          (this.checked ? "" : " Active"),
                        children: z("#Dialog_Off"),
                      }),
                      (0, T.jsx)("div", {
                        className:
                          "DialogToggleField_Option On" +
                          (this.checked ? " Active" : ""),
                        children: z("#Dialog_On"),
                      }),
                    ],
                  }),
                }),
          ],
        })
      );
    }
  };
p([y], zo.prototype, "OnOffKeyDown", 1),
  p([y], zo.prototype, "OnNewUIToggle", 1);
var yt = b(w());
var Ua = class extends As {
  m_component;
  m_propTargets;
  m_props = {};
  m_setStateOnComplete;
  constructor(e, n, o) {
    super(fu(e.ref.current), o),
      (this.m_component = e),
      (this.m_propTargets = n),
      (this.m_setStateOnComplete = o.setStateOnComplete);
  }
  Start() {
    this.m_props = {};
    for (let e in this.m_propTargets) {
      let n = parseFloat(this.m_component.state[e]) || 0,
        o = this.m_propTargets[e];
      n != o && (this.m_props[e] = { start: n, end: o });
    }
    super.Start();
  }
  Update(e) {
    let n = {};
    for (let o in this.m_props) {
      let a = this.m_props[o],
        _ = a.start + (a.end - a.start) * e;
      n[o] = _;
    }
    this.m_component.setState(n);
  }
  FireOnComplete() {
    super.FireOnComplete(),
      this.m_setStateOnComplete &&
        this.m_component.setState(this.m_setStateOnComplete);
  }
};
var O = b(H()),
  fC = yt.forwardRef(function (e, n) {
    let o = Ke("InputElement", Ln);
    return (0, O.jsx)(o, { ...e, ref: n });
  }),
  on = class on extends yt.PureComponent {
    m_CopiedAnimation;
    ref = yt.createRef();
    constructor(e) {
      super(e),
        this.CheckProps(e),
        (this.state = {
          m_CopiedYPos: 0,
          m_bPlayingCopiedAnimation: !1,
          m_bCompletedCopiedAnimation: !1,
          m_bNumberBelowMinRange: !1,
          m_bNumberAboveMaxRange: !1,
          m_bIsNotNumeric: !1,
          m_bIsInvalidURL: !1,
          m_strInvalidURLMessage: null,
          m_bIsInvalidEmail: !1,
          m_bAboveMaxChars: !1,
        });
    }
    componentDidUpdate(e) {
      this.CheckProps(this.props);
    }
    m_elInput;
    OnInputRef(e) {
      (this.m_elInput = e),
        this.m_elInput && this.props.focusOnMount && this.m_elInput.focus();
    }
    get element() {
      return this.m_elInput;
    }
    get value() {
      return this.m_elInput && this.m_elInput.value;
    }
    Focus() {
      this.m_elInput?.focus();
    }
    static validateUrl(e) {
      return (
        e != null &&
        (/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(
          e,
        ) ||
          /^steam:\/\/[-a-zA-Z0-9@:%._\+~#=]{2,256}/i.test(e))
      );
    }
    static validateEmail(e) {
      return (
        e != null &&
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
          e.toLowerCase(),
        )
      );
    }
    Validate() {
      this.setState({
        m_bNumberBelowMinRange:
          this.props.rangeMin !== null &&
          this.props.rangeMin !== void 0 &&
          Number(this.m_elInput?.value) < this.props.rangeMin,
        m_bNumberAboveMaxRange:
          this.props.rangeMax !== null &&
          this.props.rangeMax !== void 0 &&
          Number(this.m_elInput?.value) > this.props.rangeMax,
        m_bIsNotNumeric:
          this.props.mustBeNumeric == !0 &&
          isNaN(Number(this.m_elInput?.value)),
        m_bIsInvalidURL:
          this.props.mustBeURL == !0 && !on.validateUrl(this.m_elInput?.value),
        m_strInvalidURLMessage: this.props.fnStrValidateURL
          ? this.props.fnStrValidateURL(this.m_elInput?.value)
          : null,
        m_bIsInvalidEmail:
          this.props.mustBeEmail == !0 &&
          !on.validateEmail(this.m_elInput?.value),
        m_bAboveMaxChars:
          this.props.maxChars != null &&
          this.m_elInput != null &&
          this.m_elInput.value.length > this.props.maxChars,
      });
    }
    OnChanged(e) {
      this.props.onChange && this.props.onChange(e), this.Validate();
    }
    OnCopyClick(e) {
      if (!this.m_elInput) return;
      this.m_elInput.select();
      let n = this.m_elInput.ownerDocument;
      if (n.queryCommandEnabled("copy")) {
        n.execCommand("copy"),
          e.currentTarget.focus(),
          this.m_CopiedAnimation && this.m_CopiedAnimation.Cancel();
        let o = -4,
          a = -24;
        this.setState({ m_bCompletedCopiedAnimation: !1 }),
          this.setState({ m_CopiedYPos: o }, () => {
            (this.m_CopiedAnimation = new Ua(
              this,
              { m_CopiedYPos: a },
              {
                msDuration: 300,
                timing: "sine",
                setStateOnComplete: { m_bCompletedCopiedAnimation: !0 },
              },
            )),
              this.m_CopiedAnimation.Start();
          });
      }
    }
    OnClearClick(e) {
      this.m_elInput &&
        this.m_elInput.value &&
        (Object.getOwnPropertyDescriptor(
          window.HTMLInputElement.prototype,
          "value",
        ).set.call(this.m_elInput, ""),
        this.m_elInput.dispatchEvent(new Event("input", { bubbles: !0 })));
    }
    CheckProps(e) {
      Ce(
        !(e.bShowClearAction || e.bAlwaysShowClearAction) || e.onChange,
        "In order for bShowClearAction to work correctly, you should be handling onChange and passing value to the Dialog.Input.",
      );
    }
    render() {
      let {
          label: e,
          description: n,
          requiredLabel: o,
          bShowCopyAction: a,
          bShowClearAction: _,
          bAlwaysShowClearAction: i,
          rangeMin: r,
          rangeMax: u,
          mustBeNumeric: s,
          mustBeURL: l,
          fnStrValidateURL: m,
          mustBeEmail: d,
          focusOnMount: g,
          tooltip: v,
          inlineControls: P,
          maxChars: E,
          ...me
        } = this.props,
        _e =
          "DialogInput DialogInputPlaceholder DialogTextInputBase" +
          (me.className ? " " + me.className : ""),
        de = "copiedAnimation",
        Se = this.state.m_bCompletedCopiedAnimation;
      this.m_CopiedAnimation && (de = "copiedAnimation animationPlaying"),
        Se && (de = "copiedAnimation animationComplete");
      let we = {};
      this.state.m_CopiedYPos !== void 0 &&
        (we.transform = "translateY(" + this.state.m_CopiedYPos + "px)");
      let ce = (0, O.jsxs)(yt.Fragment, {
        children: [
          (0, O.jsxs)(F, {
            className: "DialogInput_Wrapper _DialogLayout",
            "flow-children": "row",
            ref: this.ref,
            children: [
              (0, O.jsx)(fC, {
                type: "text",
                ...me,
                className: _e,
                ref: this.OnInputRef,
                onChange: this.OnChanged,
              }),
              a &&
                (0, O.jsxs)("div", {
                  className: "displayRow",
                  children: [
                    (0, O.jsx)(Je, {
                      className: "DialogInput_CopyAction Primary",
                      onClick: this.OnCopyClick,
                      children: z("#Button_Copy"),
                    }),
                    (0, O.jsx)("div", {
                      style: we,
                      className: de,
                      children: z("#Button_Copied"),
                    }),
                  ],
                }),
              (i || (_ && me.value)) &&
                (0, O.jsx)("div", {
                  className: "DialogInput_ClearAction",
                  onClick: this.OnClearClick,
                  children: (0, O.jsx)(Nn, {}),
                }),
              P,
            ],
          }),
          n &&
            (0, O.jsx)("div", {
              className: "DialogLabelExplainer",
              children: n,
            }),
        ],
      });
      return e
        ? (0, O.jsx)("div", {
            className:
              "DialogInputLabelGroup _DialogLayout DialogRequirementLabel",
            children: (0, O.jsxs)("label", {
              children: [
                (0, O.jsxs)("div", {
                  className: "DialogLabel",
                  children: [
                    e,
                    " ",
                    this.props.tooltip &&
                      (0, O.jsx)(Et, { tooltip: this.props.tooltip }),
                    (0, O.jsx)("span", {
                      className: "DialogInputRequirementLabel",
                      children: this.props.requiredLabel,
                    }),
                    " ",
                  ],
                }),
                ce,
                this.state.m_bNumberBelowMinRange
                  ? (0, O.jsxs)("div", {
                      children: [" ", z("#Input_Error_NumberTooSmall"), " "],
                    })
                  : null,
                this.state.m_bNumberAboveMaxRange
                  ? (0, O.jsxs)("div", {
                      children: [" ", z("#Input_Error_NumberTooLarge"), " "],
                    })
                  : null,
                this.state.m_bIsInvalidURL
                  ? (0, O.jsxs)("div", {
                      children: [" ", z("#Input_Error_MustBeURL"), " "],
                    })
                  : null,
                this.state.m_strInvalidURLMessage
                  ? (0, O.jsxs)("div", {
                      children: [" ", this.state.m_strInvalidURLMessage, " "],
                    })
                  : null,
                this.state.m_bIsInvalidEmail
                  ? (0, O.jsxs)("div", {
                      children: [" ", z("#Input_Error_MustBeEmail"), " "],
                    })
                  : null,
                this.state.m_bIsNotNumeric
                  ? (0, O.jsxs)("div", {
                      children: [" ", z("#Input_Error_MustBeNumber"), " "],
                    })
                  : null,
                this.state.m_bAboveMaxChars
                  ? (0, O.jsxs)("div", {
                      children: [
                        " ",
                        Wu("#Input_Error_TooManyCharacters", E),
                        " ",
                      ],
                    })
                  : null,
              ],
            }),
          })
        : ce;
    }
  };
p([y], on.prototype, "OnInputRef", 1),
  p([y], on.prototype, "OnChanged", 1),
  p([y], on.prototype, "OnCopyClick", 1),
  p([y], on.prototype, "OnClearClick", 1);
var Cn = on,
  Eo = class extends Cn {
    m_bFocused = !1;
    OnBackgroundClick() {
      this.m_elInput && this.m_elInput.focus();
    }
    OnInputFocus(e) {
      this.m_bFocused || ((this.m_bFocused = !0), this.forceUpdate()),
        this.props.onFocus && this.props.onFocus(e);
    }
    OnInputBlur(e) {
      this.m_bFocused && ((this.m_bFocused = !1), this.forceUpdate()),
        this.props.onBlur && this.props.onBlur(e);
    }
    render() {
      let {
        label: e,
        description: n,
        requiredLabel: o,
        bShowCopyAction: a,
        bShowClearAction: _,
        bAlwaysShowClearAction: i,
        rangeMin: r,
        rangeMax: u,
        maxChars: s,
        mustBeNumeric: l,
        mustBeURL: m,
        fnStrValidateURL: d,
        mustBeEmail: g,
        focusOnMount: v,
        tooltip: P,
        inlineControls: E,
        className: me,
        children: _e,
        ...de
      } = this.props;
      return (0, O.jsx)("div", {
        className: "DialogInputLabelGroup _DialogLayout DialogListBuilderInput",
        children: (0, O.jsxs)("label", {
          children: [
            e && (0, O.jsx)("div", { className: "DialogLabel", children: e }),
            (0, O.jsx)("div", {
              className: h(
                "_DialogInputContainer",
                "DialogTextInputBase",
                this.m_bFocused && "Active",
              ),
              onClick: this.OnBackgroundClick,
              children: (0, O.jsxs)(F, {
                className: "DialogListBuilderInput_List",
                "flow-children": "row",
                children: [
                  yt.Children.map(_e, (Se, we) =>
                    (0, O.jsx)(
                      "div",
                      {
                        className: "DialogListBuilderInput_ListItem",
                        children: Se,
                      },
                      we,
                    ),
                  ),
                  (0, O.jsx)(Ln, {
                    type: "text",
                    ...de,
                    className:
                      "DialogListBuilderInput_Input DialogInputPlaceholder",
                    ref: this.OnInputRef,
                    onFocus: this.OnInputFocus,
                    onBlur: this.OnInputBlur,
                    size: 4,
                  }),
                ],
              }),
            }),
            n &&
              (0, O.jsx)("div", {
                className: "DialogLabelExplainer",
                children: n,
              }),
          ],
        }),
      });
    }
  };
p([y], Eo.prototype, "OnBackgroundClick", 1),
  p([y], Eo.prototype, "OnInputFocus", 1),
  p([y], Eo.prototype, "OnInputBlur", 1);
var Ic = b(w());
var gt = b(H()),
  Fc = (t, e) =>
    "" + (t != null ? Number.parseFloat(t.toFixed(3)) : null) + (e ?? "");
var Nt = class extends Ic.Component {
  m_flLastSetValue = null;
  constructor(e) {
    super(e);
  }
  ClampValue(e) {
    return e === void 0 || isNaN(e) || e < this.props.min
      ? this.props.min
      : e > this.props.max
        ? this.props.max
        : e;
  }
  BPropsValid() {
    return this.props.max > this.props.min;
  }
  m_elSlider;
  m_rectSlider;
  OnMouseDown(e) {
    (this.m_elSlider = e.currentTarget),
      (this.m_rectSlider = this.m_elSlider.getBoundingClientRect()),
      this.props.onChangeStart && this.props.onChangeStart(1),
      this.AdjustSliderForClientX(e.clientX, 1),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "mousemove",
        this.OnMouseMove,
      ),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "mouseup",
        this.OnMouseUp,
      );
  }
  OnMouseMove(e) {
    this.AdjustSliderForClientX(e.clientX, 1);
  }
  OnMouseUp(e) {
    this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
      "mousemove",
      this.OnMouseMove,
    ),
      this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
        "mouseup",
        this.OnMouseUp,
      ),
      this.CompleteChange(1);
  }
  OnTouchStart(e) {
    (this.m_elSlider = e.currentTarget),
      (this.m_rectSlider = this.m_elSlider.getBoundingClientRect()),
      this.props.onChangeStart && this.props.onChangeStart(0),
      this.AdjustSliderForClientX(e.touches[0].clientX, 0),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "touchmove",
        this.OnTouchMove,
      ),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "touchend",
        this.OnTouchEnd,
      );
  }
  OnTouchMove(e) {
    this.AdjustSliderForClientX(e.touches[0].clientX, 0);
  }
  OnTouchEnd(e) {
    this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
      "touchmove",
      this.OnTouchMove,
    ),
      this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
        "touchend",
        this.OnTouchEnd,
      ),
      this.CompleteChange(0);
  }
  OnKeyDown(e) {
    let n = 1;
    e.ctrlKey &&
      (n = Math.max(
        1,
        Math.floor((this.props.max - this.props.min) * 0.1 + 0.5),
      )),
      e.keyCode == 37
        ? (this.IncrementValue(-1 * n), e.preventDefault())
        : e.keyCode == 39 && (this.IncrementValue(1 * n), e.preventDefault()),
      this.CompleteChange(2);
  }
  AdjustSliderForClientX(e, n) {
    let o =
      ((e - this.m_rectSlider.left) /
        (this.m_rectSlider.right - this.m_rectSlider.left)) *
        (this.props.max - this.props.min) +
      this.props.min;
    o = Math.floor(o + 0.5);
    let a = this.ClampValue(o);
    a != this.props.value &&
      (this.props.onChange && this.props.onChange(a, n),
      (this.m_flLastSetValue = a));
  }
  CompleteChange(e) {
    this.m_flLastSetValue != null &&
      (this.props.onChangeComplete &&
        this.props.onChangeComplete(this.m_flLastSetValue, e),
      (this.m_flLastSetValue = null));
  }
  IncrementValue(e) {
    let n = this.ClampValue(this.props.value + e);
    n != this.props.value &&
      (this.props.onChange && this.props.onChange(n, 2),
      (this.m_flLastSetValue = n));
  }
  render() {
    let e = {},
      n = {};
    if (this.BPropsValid()) {
      let u =
        (100 * (this.props.value - this.props.min)) /
          (this.props.max - this.props.min) +
        "%";
      (e.width = u), (n.left = u);
    }
    let { label: o, description: a, tooltip: _, ...i } = this.props,
      r = this.props.renderValue ?? Fc;
    return (0, gt.jsxs)("div", {
      className:
        "DialogSlider_Container _DialogInputContainer _DialogLayout" +
        (this.props.className ? " " + this.props.className : ""),
      onKeyDown: this.OnKeyDown,
      tabIndex: this.props.tabIndex || 0,
      children: [
        o &&
          (0, gt.jsxs)("div", {
            className: "DialogLabel",
            children: [o, !!_ && (0, gt.jsx)(Et, { tooltip: _ })],
          }),
        (0, gt.jsxs)("div", {
          className: "DialogSlider_Slider",
          onMouseDown: this.OnMouseDown,
          onTouchStart: this.OnTouchStart,
          children: [
            (0, gt.jsx)("div", { className: "DialogSlider_Value", style: e }),
            (0, gt.jsx)("div", { className: "DialogSlider_Grabber", style: n }),
          ],
        }),
        this.props.showValue &&
          (0, gt.jsx)("div", {
            className: "DialogLabelExplainer",
            children: r(this.props.value, this.props.valueSuffix),
          }),
        a &&
          (0, gt.jsx)("div", {
            className: "DialogLabelExplainer",
            children: a,
          }),
      ],
    });
  }
};
p([y], Nt.prototype, "OnMouseDown", 1),
  p([y], Nt.prototype, "OnMouseMove", 1),
  p([y], Nt.prototype, "OnMouseUp", 1),
  p([y], Nt.prototype, "OnTouchStart", 1),
  p([y], Nt.prototype, "OnTouchMove", 1),
  p([y], Nt.prototype, "OnTouchEnd", 1),
  p([y], Nt.prototype, "OnKeyDown", 1);
var jc = b(w());
var kC = b(H()),
  vC = { setValue: () => {} },
  RT = jc.default.createContext(vC);
var Ae = b(w());
var No = {
  DialogDropDownMenu_Item: "jHkXIJHJm88-",
  DialogDropDownMenu_Separator: "_8Ba71jUzzWw-",
  DialogDropDownMenu: "_865BbeRmTtw-",
};
var re = b(H());
function Ot(t) {
  return typeof t == "object" && "data" in t;
}
function hn(t) {
  return typeof t == "object" && "bIsSeparator" in t;
}
function ht(t) {
  return typeof t == "object" && "options" in t;
}
function Gi(t, e) {
  if (t === e) return !0;
  if (!Array.isArray(t) || !Array.isArray(e) || t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!Ui(t[n], e[n])) return !1;
  return !0;
}
function Ui(t, e) {
  return t == null || e == null
    ? t == e
    : hn(t) && hn(e)
      ? !0
      : !(
          hn(t) ||
          hn(e) ||
          t.label !== e.label ||
          t.tooltip !== e.tooltip ||
          ht(t) != ht(e) ||
          (ht(t) && ht(e) && !Gi(t.options, e.options)) ||
          (Ot(t) && Ot(e) && t.data !== e.data)
        );
}
function Va(t, e) {
  if (t != null)
    for (let n = 0; n < t.length; n++) {
      let o = t[n];
      if (Ot(o) && o.data === e) return o;
      if (ht(o)) {
        let a = Va(o.options, e);
        if (a != null) return a;
      }
    }
}
function wC(t) {
  let e = Ke("DropDownField", SC);
  return (0, re.jsx)(e, { ...t });
}
function SC(t) {
  let {
    label: e,
    tooltip: n,
    strClassName: o,
    dropDownControlRef: a,
    ..._
  } = t;
  return (0, re.jsx)(Ec, {
    label: e,
    tooltip: n,
    className: o,
    children: (0, re.jsx)(Ct, { menuLabel: e, ..._, ref: a }),
  });
}
var RC = Ae.forwardRef(function (e, n) {
    return (0, re.jsxs)(Kt, {
      focusable: e.focusable,
      className: h(e.className, "DialogDropDown", "_DialogInputContainer", {
        Active: e.opened,
        Disabled: e.disabled,
      }),
      tabIndex: e.tabIndex,
      onClick: e.onClick,
      onKeyDown: e.onKeyDown,
      disabled: e.disabled,
      type: "button",
      ref: n,
      noFocusRing: e.noFocusRing,
      role: e.role ?? "combobox",
      "aria-controls": e["aria-controls"],
      "aria-expanded": e.opened,
      children: [
        (0, re.jsx)("div", {
          className: "DialogDropDown_CurrentDisplay",
          children: e.children,
        }),
        !e.disabled &&
          (0, re.jsx)("div", {
            className: h(e.arrowClassName, "DialogDropDown_Arrow"),
            children: (0, re.jsx)(Zu, {}),
          }),
      ],
    });
  }),
  Ct = class extends Ae.Component {
    static contextType = $n;
    m_elInput;
    m_iMenuInstance;
    constructor(e) {
      super(e),
        (this.state = {
          value: Va(e.rgOptions, e.selectedOption),
          bOpened: !1,
        });
    }
    SetSelectedOption(e) {
      if (this.props.controlled) return;
      let n = Va(this.props.rgOptions, e);
      Ui(n, this.value) || this.setState({ value: n });
    }
    get value() {
      return this.props.controlled
        ? Va(this.props.rgOptions, this.props.selectedOption)
        : this.state.value;
    }
    shouldComponentUpdate(e, n, o) {
      if (
        e.selectedOption !== this.props.selectedOption ||
        e.disabled != this.props.disabled ||
        n.bOpened !== this.state.bOpened ||
        !Gi(this.props.rgOptions, e.rgOptions) ||
        !Ui(n.value, this.value)
      )
        return !0;
      let a = ["selectedOption", "tabIndex", "onChange", "strDefaultLabel"];
      for (let _ of a) if (e[_] !== this.props[_]) return !0;
      return !1;
    }
    componentDidUpdate(e, n) {
      Zo(
        this.props.controlled === e.controlled,
        '"controlled" prop should never change after mount',
      );
      let o = !Gi(e.rgOptions, this.props.rgOptions),
        a = e.selectedOption !== this.props.selectedOption,
        _ = this.value !== n.value;
      !this.props.controlled &&
        (o || _ || a) &&
        (a || this.value == null
          ? this.SetSelectedOption(this.props.selectedOption)
          : this.SetSelectedOption(this.value.data)),
        (o || _) &&
          (this.state.bOpened
            ? (this.m_iMenuInstance?.SetOnHideCallback(void 0),
              this.m_iMenuInstance?.Hide(),
              (this.m_iMenuInstance = void 0),
              this.BuildMenu())
            : this.m_iMenuInstance &&
              (this.m_iMenuInstance.SetOnHideCallback(void 0),
              (this.m_iMenuInstance = void 0)));
    }
    OnInputRef(e) {
      e && (this.m_elInput = e);
    }
    get element() {
      return this.m_elInput;
    }
    ToggleMenu() {
      if (this.state.bOpened) this.HideMenu();
      else {
        if (
          this.props.onMenuWillOpen &&
          this.props.onMenuWillOpen(this.ShowMenu) == !1
        )
          return;
        this.ShowMenu();
      }
    }
    OnValueSelected(e, n) {
      this.HideMenu(),
        this.setState({ value: n }),
        this.props.onChange && this.props.onChange(n, this, e);
    }
    BuildMenu() {
      let e = "DialogMenuPosition";
      this.props.strDropDownClassName &&
        (e += " " + this.props.strDropDownClassName);
      let n = {
          bOverlapHorizontal: !0,
          bMatchWidth: this.props.bMatchWidth ?? !0,
          bFitToWindow: !0,
          strClassName: e,
          bDisableMouseOverlay: this.props.bDisableMouseOverlay,
          ...this.props.contextMenuPositionOptions,
        },
        o = this.props.contextMenuPositionOptions?.onCancel;
      (this.m_iMenuInstance = co(
        (0, re.jsx)(PC, {
          rgOptions: this.props.rgOptions,
          onValueSelected: this.OnValueSelected,
          onCancel: o,
          selectedValue: this.value?.data,
          strDropDownMenuCtnClass: this.props.strDropDownMenuCtnClass,
          strDropDownItemClassName: this.props.strDropDownItemClassName,
          id: `dropdownmenu_${this.m_iMenuInstance?.key}`,
        }),
        this.m_elInput,
        n,
      )),
        this.m_iMenuInstance.SetLabel(
          this.props.menuLabel ??
            (typeof this.props.strDefaultLabel == "string" &&
              this.props.strDefaultLabel),
        ),
        this.m_iMenuInstance.SetOnHideCallback(this.HideMenu);
    }
    ShowMenu() {
      this.m_iMenuInstance ? this.m_iMenuInstance.Show() : this.BuildMenu(),
        this.props.onMenuOpened && this.props.onMenuOpened(),
        this.setState({ bOpened: !0 });
    }
    HideMenu() {
      this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
        this.setState({ bOpened: !1 }, () => this.m_elInput.focus());
    }
    OnKeyDown(e) {
      Uc(e, this.props.rgOptions.filter(Ot), this.value?.data, (n) =>
        this.OnValueSelected(void 0, n),
      );
    }
    render() {
      let e = this.value?.label ?? this.props.strDefaultLabel;
      this.props.renderButtonValue != null &&
        (e = this.props.renderButtonValue(e));
      let n = this.props.focusable ?? !0,
        o = this.props.renderButton || this.context.DropDownControlButton || RC;
      return (0, re.jsx)(o, {
        focusable: n,
        disabled: this.props.disabled ?? !1,
        opened: this.state.bOpened,
        onClick: this.props.disabled ? void 0 : this.ToggleMenu,
        onKeyDown: this.props.disabled ? void 0 : this.OnKeyDown,
        tabIndex: this.props.tabIndex ?? (n ? 0 : void 0),
        ref: this.OnInputRef,
        className: this.props.strDropDownButtonClassName,
        arrowClassName: this.props.arrowClassName,
        role: "combobox",
        "aria-controls": this.m_iMenuInstance
          ? `dropdownmenu_${this.m_iMenuInstance.key}`
          : void 0,
        children: e,
      });
    }
  };
p([y], Ct.prototype, "OnInputRef", 1),
  p([y], Ct.prototype, "ToggleMenu", 1),
  p([y], Ct.prototype, "OnValueSelected", 1),
  p([y], Ct.prototype, "ShowMenu", 1),
  p([y], Ct.prototype, "HideMenu", 1),
  p([y], Ct.prototype, "OnKeyDown", 1);
var Gc = Ae.createContext(null);
function PC(t) {
  let e = Ke("DropDownMenu", MC);
  return (0, re.jsx)(Gc.Provider, {
    value: {},
    children: (0, re.jsx)(e, { ...t }),
  });
}
function Uc(t, e, n, o) {
  let a;
  if (t.key === "ArrowDown")
    a = (e.findIndex((i) => i.data === n) + 1) % e.length;
  else if (t.key === "ArrowUp") {
    let _ = e.findIndex((i) => i.data === n);
    a = _ <= 0 ? e.length - 1 : _ - 1;
  }
  a !== void 0 && (o(e[a]), t.preventDefault());
}
function MC(t) {
  let {
      rgOptions: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      selectedValue: a,
    } = t,
    [_, i] = Ae.useState(a),
    r = Ae.useMemo(() => e.filter(Ot), [e]),
    u = Ae.useCallback(
      (s) => {
        Uc(s, r, _, (l) => i(l.data));
      },
      [_, r],
    );
  return (0, re.jsx)("div", {
    className: h(
      No.DialogDropDownMenu,
      "_DialogInputContainer",
      t.strDropDownMenuCtnClass,
    ),
    onKeyDown: u,
    children: (0, re.jsx)(Vc, {
      rgOptions: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      activeValue: _,
      setActiveValue: i,
    }),
  });
}
function Vc(t) {
  let { rgOptions: e, ...n } = t;
  return e.map((o, a) =>
    hn(o)
      ? (0, re.jsx)(
          "hr",
          {
            className: h(
              No.DialogDropDownMenu_Item,
              No.DialogDropDownMenu_Separator,
            ),
          },
          a,
        )
      : ht(o)
        ? (0, re.jsx)(Vc, { ...n, rgOptions: o.options }, a)
        : (0, re.jsx)(AC, { ...n, option: o }, a),
  );
}
function AC(t) {
  let {
      option: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      activeValue: a,
      setActiveValue: _,
    } = t,
    i = Ae.useCallback((s) => s && s.focus(), []),
    r = Ae.useCallback(() => {
      _(e.data);
    }, [_, e]),
    u = e.data === a;
  return (0, re.jsx)("button", {
    type: "button",
    className: h(
      No.DialogDropDownMenu_Item,
      n,
      e.strOptionClass,
      u && "ContextMenuAutoFocus",
    ),
    onClick: (s) => o(s, e),
    ref: u ? i : void 0,
    onMouseEnter: r,
    role: "option",
    "aria-selected": u,
    children: e.tooltip
      ? (0, re.jsx)(Ea, {
          toolTipContent: e.tooltip,
          bTopmost: !0,
          className: "TooltipContainer",
          children: e.label,
        })
      : (0, re.jsx)("div", { children: e.label }),
  });
}
var ji = class extends Ae.Component {
  state = { rgOptions: void 0 };
  async OnMenuOpened() {
    if (!this.state.rgOptions) {
      let e = await this.props.fnLoadOptions();
      this.setState({ rgOptions: e });
    }
  }
  render() {
    let {
        fnLoadOptions: e,
        strInitialDisplay: n,
        initialValue: o,
        ...a
      } = this.props,
      { rgOptions: _ } = this.state;
    return (
      _ === void 0 &&
        (n || o
          ? ((_ = [{ label: n, data: o }]), (a.selectedOption = o))
          : (_ = [])),
      (0, re.jsx)(wC, { ...a, rgOptions: _, onMenuOpened: this.OnMenuOpened })
    );
  }
};
p([y], ji.prototype, "OnMenuOpened", 1);
var TC = b(w());
var Wc = b(H());
var Fe = b(w());
var qc = b(Qd());
var Vi = class {
  activeObject;
  instance;
  constructor(e) {
    this.instance = new Wi(e, !1);
  }
};
var Wi = class {
    m_parent;
    m_window;
    m_container = null;
    iIntervalShow;
    m_bRemoveOnHide;
    m_reactRoot;
    constructor(e, n = !0) {
      (this.m_parent = e),
        (this.m_window = e.ownerDocument.defaultView),
        (this.m_bRemoveOnHide = n);
    }
    Show(e, n) {
      return (
        this.CancelShowInterval(),
        n
          ? new Promise((o, a) => {
              this.iIntervalShow = this.m_window.setTimeout(() => {
                let _ = this.m_parent.ownerDocument;
                _.defaultView &&
                  !_.defaultView.closed &&
                  (this.InternalShow(e), o());
              }, n);
            })
          : (this.InternalShow(e), Promise.resolve())
      );
    }
    InternalShow(e) {
      this.m_container ||
        ((this.m_container = this.m_parent.ownerDocument.createElement("div")),
        this.m_parent.appendChild(this.m_container)),
        this.m_reactRoot ||
          (this.m_reactRoot = qc.createRoot(this.m_container)),
        this.m_reactRoot.render(e);
    }
    Hide(e) {
      this.CancelShowInterval(),
        e
          ? (this.iIntervalShow = this.m_window.setTimeout(() => {
              this.InternalHide();
            }, e))
          : this.InternalHide();
    }
    InternalHide() {
      this.m_reactRoot &&
        (this.m_reactRoot.unmount(), (this.m_reactRoot = void 0)),
        this.m_container &&
          this.m_bRemoveOnHide &&
          (this.m_parent.removeChild(this.m_container),
          (this.m_container = null));
    }
    CancelShowInterval() {
      this.iIntervalShow !== void 0 &&
        (this.m_window.clearInterval(this.iIntervalShow),
        (this.iIntervalShow = void 0));
    }
    BIsChildElement(e) {
      return this.m_container && Bn(this.m_container, e);
    }
  },
  Wa = class {
    m_strUniqueID;
    m_mapEmbeddedHovers = new WeakMap();
    constructor(e) {
      this.m_strUniqueID = e;
    }
    ShowElementDelayed(e, n, o, a) {
      let _ = this.GetEmbeddedElement(e);
      return (_.activeObject = a), _.instance.Show(o, n);
    }
    ShowElement(e, n, o) {
      let a = this.GetEmbeddedElement(e);
      (a.activeObject = o), a.instance.Show(n);
    }
    HideElement(e, n, o) {
      let a = this.GetEmbeddedElement(e);
      a.activeObject == n && ((a.activeObject = void 0), a.instance.Hide(o));
    }
    GetEmbeddedElement(e) {
      let n = this.m_mapEmbeddedHovers.get(e);
      return n || ((n = new Vi(e.body)), this.m_mapEmbeddedHovers.set(e, n)), n;
    }
  };
var Be = b(H()),
  Oo = new wu("DragDrop").Debug;
var qi = class extends Fe.Component {
  m_coordinator = new qa();
  OnDrop(e, n) {
    n > e && n--, n != e && this.props.onReorder(e, n);
  }
  render() {
    let e = [];
    return (
      e.push(
        (0, Be.jsx)(
          Ya,
          {
            coordinator: this.m_coordinator,
            fnBAcceptDraggable: (o) => o.props.data != 0,
            fnOnDrop: (o) => this.OnDrop(o.props.data, 0),
          },
          "dropregion_top",
        ),
      ),
      Fe.Children.forEach(this.props.children, (o, a) => {
        let _ = o.props.id || "__list_" + a,
          i = a + 1;
        e.push(
          (0, Be.jsx)(
            Qe,
            { coordinator: this.m_coordinator, data: a, children: o },
            _,
          ),
        ),
          e.push(
            (0, Be.jsx)(
              Ya,
              {
                coordinator: this.m_coordinator,
                fnBAcceptDraggable: (r) => r.props.data != i,
                fnOnDrop: (r) => this.OnDrop(r.props.data, i),
              },
              "dropregion_" + _,
            ),
          );
      }),
      (0, Be.jsx)("div", { className: "DialogReorderableList", children: e })
    );
  }
};
p([y], qi.prototype, "OnDrop", 1);
function DC(t) {
  if ("touches" in t) {
    let e = t;
    return [e.touches[0].clientX, e.touches[0].clientY];
  } else return [t.clientX, t.clientY];
}
function Ki(t, e, n, o) {
  return o
    ? n && t > n.left && t < n.right && e > n.top && e < n.bottom
    : n && t >= n.left && t <= n.right && e >= n.top && e <= n.bottom;
}
var qa = class {
  m_embeddedElement = new Wa("DragGhosts");
  m_rgDropRegions = [];
  m_activeDraggable;
  m_rgActiveDropRegions = [];
  m_activeDropRegion;
  m_dropGhost;
  m_dragGhost;
  m_dragOffWindowTimer;
  RegisterDropRegion(e) {
    this.m_rgDropRegions.push(e),
      this.m_activeDraggable &&
        e.BAcceptDraggable(this.m_activeDraggable) &&
        (e.OnDragStarted(this.m_activeDraggable),
        this.m_rgActiveDropRegions.push(e));
  }
  UnregisterDropRegion(e) {
    uo(this.m_rgDropRegions, e),
      uo(this.m_rgActiveDropRegions, e),
      this.m_activeDropRegion == e &&
        ((this.m_activeDropRegion = void 0),
        this.m_activeDraggable && this.ShowDragGhost());
  }
  OnDragGhostRef(e) {
    this.m_dragGhost = e;
  }
  ShowDragGhost() {
    let e = this.m_activeDraggable.renderDragGhost(),
      n = h(
        e.props.className,
        !!this.m_activeDropRegion && "DraggedOverActiveDrop",
      ),
      o = Fe.cloneElement(e, { ref: this.OnDragGhostRef, className: n });
    this.m_embeddedElement.ShowElement(
      this.m_activeDraggable.GetDragDocument(),
      o,
      this.m_activeDraggable,
    );
  }
  HideDragGhost() {
    this.m_embeddedElement.HideElement(
      this.m_activeDraggable.GetDragDocument(),
      this.m_activeDraggable,
    );
  }
  m_elCloneContainer;
  m_elCloneOriginal;
  m_nodeCloneCopy;
  MakeDragClone(e) {
    Ce(
      !this.m_nodeCloneCopy && !this.m_elCloneOriginal,
      "Drag already in progress",
    ),
      (this.m_elCloneOriginal = e.m_divRef.current),
      (this.m_nodeCloneCopy = this.m_elCloneOriginal.cloneNode(!0)),
      e.m_divRef.current.replaceWith(this.m_nodeCloneCopy),
      this.m_elCloneContainer ||
        ((this.m_elCloneContainer = e
          .GetDragDocument()
          .body.ownerDocument.createElement("div")),
        e.GetDragDocument().body.appendChild(this.m_elCloneContainer)),
      this.m_elCloneContainer.appendChild(this.m_elCloneOriginal);
  }
  ReverseDragClone() {
    this.m_nodeCloneCopy.parentNode?.replaceChild(
      this.m_elCloneOriginal,
      this.m_nodeCloneCopy,
    ),
      (this.m_nodeCloneCopy = void 0),
      (this.m_elCloneOriginal = void 0);
  }
  OnDragStart(e) {
    (this.m_activeDraggable = e), (this.m_rgActiveDropRegions = []);
    for (let n of this.m_rgDropRegions)
      n.BAcceptDraggable(e) &&
        (n.OnDragStarted(e), this.m_rgActiveDropRegions.push(n));
    this.MakeDragClone(e), this.ShowDragGhost();
  }
  EndDrag() {
    if (this.m_activeDraggable) {
      this.ReverseDragClone(),
        this.HideDragGhost(),
        this.m_activeDropRegion &&
          this.m_activeDropRegion.OnDrop(this.m_activeDraggable);
      for (let e of this.m_rgActiveDropRegions)
        e.OnDragEnded(this.m_activeDraggable);
      (this.m_activeDraggable = void 0),
        (this.m_dropGhost = void 0),
        (this.m_rgActiveDropRegions = []);
    }
  }
  FindBestActiveDropRegionForPoint(e, n) {
    let o = this.m_activeDraggable.GetDragDocument(),
      a;
    if (("elementsFromPoint" in o && (a = o.elementsFromPoint(e, n)), a)) {
      let _ = new Map();
      this.m_rgActiveDropRegions.forEach((i) => _.set(i.GetElement(), i));
      for (let i of a) {
        let r = _.get(i);
        if (r) return r;
      }
    } else {
      if (
        this.m_activeDropRegion &&
        this.m_activeDropRegion.BDraggableInRegion(e, n, this.m_activeDraggable)
      )
        return this.m_activeDropRegion;
      for (let _ = this.m_rgActiveDropRegions.length - 1; _ >= 0; _--) {
        let i = this.m_rgActiveDropRegions[_];
        if (i.BDraggableInRegion(e, n, this.m_activeDraggable)) return i;
      }
    }
  }
  m_prevClientX = 0;
  m_prevClientY = 0;
  OnDrag(e, n, o) {
    let a = this.m_prevClientX || n,
      _ = this.m_prevClientY || o;
    if (
      (e.props.bEnableHTMLDrag &&
        this.m_dragOffWindowTimer &&
        window.clearTimeout(this.m_dragOffWindowTimer),
      this.m_dragGhost)
    ) {
      let r = a === void 0 ? 0 : a - (this.m_dragGhost.state.clientX ?? 0),
        u = _ === void 0 ? 0 : _ - (this.m_dragGhost.state.clientY ?? 0);
      if (
        (this.m_dragGhost.setState({
          clientX: a,
          clientY: _,
          clientXDelta: r,
          clientYDelta: u,
          bVisible: !0,
        }),
        e.props.bEnableHTMLDrag && (r || u))
      ) {
        let s = a + r,
          l = _ + u,
          m = e.GetDragDocument().body.getBoundingClientRect();
        if (Ki(a, _, m) && !Ki(s, l, m, !0)) {
          let d = Qo(s, m.left, m.right, m.left - 200, m.right + 200),
            g = Qo(l, m.top, m.bottom, m.top - 100, m.bottom + 100),
            v = 50;
          this.m_dragOffWindowTimer = window.setTimeout(() => {
            e == this.m_activeDraggable && this.OnDrag(e, d, g);
          }, v);
        }
      }
    }
    let i = this.FindBestActiveDropRegionForPoint(a, _);
    (this.m_prevClientX = n),
      (this.m_prevClientY = o),
      !!this.m_activeDropRegion != !!i &&
        (this.ShowDragGhost(),
        this.m_dropGhost ||
          (this.m_dropGhost = this.m_activeDraggable.renderDropGhost())),
      this.m_activeDropRegion &&
        this.m_activeDropRegion != i &&
        this.m_activeDropRegion.OnDragLeave(this.m_activeDraggable),
      i &&
        this.m_activeDropRegion != i &&
        i.OnDragEnter(this.m_activeDraggable, this.m_dropGhost),
      (this.m_activeDropRegion = i),
      this.m_activeDropRegion &&
        this.m_activeDropRegion.OnDragMove(a, _, this.m_activeDraggable);
  }
};
p([y], qa.prototype, "OnDragGhostRef", 1);
var Kc = 5,
  Qe = class extends Fe.Component {
    constructor(e) {
      super(e), xt(this);
    }
    m_DragInfo = {
      bStarted: !1,
      startClientX: void 0,
      startClientY: void 0,
      startOffsetX: void 0,
      startOffsetY: void 0,
      startWidth: void 0,
      startHeight: void 0,
      ownerWin: void 0,
    };
    m_divRef = Fe.createRef();
    GetDragDocument() {
      return this.m_DragInfo.ownerWin?.document;
    }
    RecordDragStart(e, n, o) {
      (this.m_DragInfo.startClientX = n), (this.m_DragInfo.startClientY = o);
      let a = e.getBoundingClientRect();
      (this.m_DragInfo.startOffsetX = n - a.left),
        (this.m_DragInfo.startOffsetY = o - a.top),
        (this.m_DragInfo.startWidth = a.width),
        (this.m_DragInfo.startHeight = a.height),
        (this.m_DragInfo.ownerWin = e.ownerDocument.defaultView);
    }
    ProcessDragMove(e) {
      Oo("ProcessDragMove", e, this.props.data);
      let [n, o] = DC(e);
      if (!this.m_DragInfo.bStarted)
        Math.pow(n - (this.m_DragInfo.startClientX ?? 0), 2) +
          Math.pow(o - (this.m_DragInfo.startClientY ?? 0), 2) >=
          Kc * Kc &&
          ((this.m_DragInfo.bStarted = !0),
          this.forceUpdate(),
          this.props.fnOnDragStart && this.props.fnOnDragStart(),
          this.props.coordinator.OnDragStart(this),
          this.props.coordinator.OnDrag(this, n, o));
      else {
        if (this.props.bEnableHTMLDrag && n == 0 && o == 0) return;
        this.props.coordinator.OnDrag(this, n, o);
      }
    }
    OnMouseDown(e) {
      !this.m_DragInfo.bStarted &&
        e.button == 0 &&
        (this.RecordDragStart(e.currentTarget, e.clientX, e.clientY),
        this.m_DragInfo.ownerWin?.addEventListener(
          "mousemove",
          this.ProcessDragMove,
        ),
        this.m_DragInfo.ownerWin?.addEventListener("mouseup", this.OnMouseUp));
    }
    OnMouseUp(e) {
      this.m_DragInfo.ownerWin?.removeEventListener(
        "mousemove",
        this.ProcessDragMove,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "mouseup",
          this.OnMouseUp,
        ),
        this.ResetDragState();
    }
    OnTouchStart(e) {
      this.m_DragInfo.bStarted ||
        (this.RecordDragStart(
          e.currentTarget,
          e.touches[0].clientX,
          e.touches[0].clientY,
        ),
        this.m_DragInfo.ownerWin?.addEventListener(
          "touchmove",
          this.ProcessDragMove,
        ),
        this.m_DragInfo.ownerWin?.addEventListener(
          "touchend",
          this.OnTouchEnd,
        ));
    }
    OnTouchEnd(e) {
      this.m_DragInfo.ownerWin?.removeEventListener(
        "touchmove",
        this.ProcessDragMove,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "touchend",
          this.OnTouchEnd,
        ),
        this.ResetDragState();
    }
    ResetDragState() {
      Oo("ResetDragState", this.props.data),
        this.m_DragInfo.bStarted &&
          (this.props.coordinator.EndDrag(),
          this.props.fnOnDragEnd && this.props.fnOnDragEnd()),
        (this.m_DragInfo.bStarted = !1),
        (this.m_DragInfo.startClientX = void 0),
        (this.m_DragInfo.startClientY = void 0),
        (this.m_DragInfo.startOffsetX = void 0),
        (this.m_DragInfo.startOffsetY = void 0),
        (this.m_DragInfo.ownerWin = void 0),
        this.forceUpdate();
    }
    OnHTMLDragStart(e) {
      Oo("HTMLDragStart", e, this.props.data, this.props.strHTMLDragData),
        (e.dataTransfer.effectAllowed = "copyMove"),
        this.props.strHTMLDragData &&
          this.props.strHTMLDragData.forEach((o, a) =>
            e.dataTransfer.setData(a, o),
          ),
        e.dataTransfer.getData("text/plain") ||
          e.dataTransfer.setData("text/plain", this.props.data.toString());
      let n = new Image();
      e.dataTransfer.setDragImage(n, 0, 0),
        this.RecordDragStart(e.currentTarget, e.clientX, e.clientY),
        this.m_DragInfo.ownerWin?.addEventListener("drag", this.OnHTMLDrag),
        this.m_DragInfo.ownerWin?.addEventListener(
          "dragend",
          this.OnHTMLDragEnd,
        );
    }
    OnHTMLDrag(e) {
      Oo("HTMLDrag", e, e.dataTransfer?.types.length), this.ProcessDragMove(e);
    }
    OnHTMLDragEnd(e) {
      Oo(
        "HTMLDragEnd",
        e,
        e.dataTransfer?.getData("text/plain") || "NOTHING",
        this.props.data,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener("drag", this.OnHTMLDrag),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "dragend",
          this.OnHTMLDragEnd,
        ),
        this.ResetDragState();
    }
    render() {
      let {
          coordinator: e,
          data: n,
          bEnableHTMLDrag: o,
          strHTMLDragData: a,
          fnOnDragStart: _,
          fnOnDragEnd: i,
          fnRenderDragGhost: r,
          fnRenderDropGhost: u,
          className: s,
          strActiveClassName: l,
          children: m,
          ...d
        } = this.props,
        g = {},
        v = s || "DialogDraggable";
      return (
        this.m_DragInfo.bStarted
          ? ((v = h(v, l || "DraggedOut")),
            o && (g = { onDragEnd: this.OnHTMLDragEnd }))
          : o
            ? (g = { onDragStart: this.OnHTMLDragStart })
            : (g = {
                onMouseDown: this.OnMouseDown,
                onTouchStart: this.OnTouchStart,
              }),
        (0, Be.jsx)("div", {
          ref: this.m_divRef,
          className: v,
          ...g,
          ...d,
          draggable: o,
          children: m,
        })
      );
    }
    renderDropGhost() {
      return this.props.fnRenderDropGhost
        ? this.props.fnRenderDropGhost()
        : (0, Be.jsx)(Ka, { elContent: this.GetClone() });
    }
    renderDragGhost() {
      return this.props.fnRenderDragGhost
        ? this.props.fnRenderDragGhost()
        : (0, Be.jsx)(Ja, {
            elContent: this.GetClone(),
            offsetX: this.m_DragInfo.startOffsetX,
            offsetY: this.m_DragInfo.startOffsetY,
            width: this.m_DragInfo.startWidth,
            height: this.m_DragInfo.startHeight,
          });
    }
    GetClone() {
      let e = this.m_divRef.current,
        n;
      if (e && e.childElementCount)
        if (e.childElementCount == 1) n = e.firstElementChild.cloneNode(!0);
        else {
          n = document.createElement("div");
          for (let o = e.firstChild; o; o = o.nextSibling)
            n.appendChild(o.cloneNode(!0));
        }
      return n;
    }
  };
p([y], Qe.prototype, "ProcessDragMove", 1),
  p([y], Qe.prototype, "OnMouseDown", 1),
  p([y], Qe.prototype, "OnMouseUp", 1),
  p([y], Qe.prototype, "OnTouchStart", 1),
  p([y], Qe.prototype, "OnTouchEnd", 1),
  p([Fu], Qe.prototype, "ResetDragState", 1),
  p([y], Qe.prototype, "OnHTMLDragStart", 1),
  p([y], Qe.prototype, "OnHTMLDrag", 1),
  p([y], Qe.prototype, "OnHTMLDragEnd", 1);
var Ka = class extends Fe.Component {
  OnRef(e) {
    e && this.props.elContent && e.appendChild(this.props.elContent);
  }
  render() {
    return (0, Be.jsx)("div", {
      className: "DialogDraggable_DropGhost",
      ref: this.OnRef,
    });
  }
};
p([y], Ka.prototype, "OnRef", 1);
var Ja = class extends Fe.Component {
  state = {
    clientX: void 0,
    clientY: void 0,
    bVisible: !0,
    clientXDelta: void 0,
    clientYDelta: void 0,
  };
  OnRef(e) {
    e && this.props.elContent && e.appendChild(this.props.elContent);
  }
  CalculateRotationDegrees(e) {
    return !e || Math.abs(e) < 4
      ? 0
      : (e > 0 ? 7.5 : -7.5) * Math.sqrt(Math.abs(e));
  }
  render() {
    if (
      !this.state.bVisible ||
      this.state.clientX === void 0 ||
      this.state.clientY === void 0
    )
      return (0, Be.jsx)("div", {});
    let e = {
        left: this.state.clientX - (this.props.offsetX || 0),
        top: this.state.clientY - (this.props.offsetY || 0),
        width: this.props.width || "auto",
        height: this.props.height || "auto",
        perspective: "600px",
      },
      n = Qo(
        this.CalculateRotationDegrees(this.state.clientYDelta),
        -90,
        90,
        2,
        0,
      ),
      o = {
        transform: `rotateX(${this.CalculateRotationDegrees(-1 * (this.state.clientYDelta ?? 0))}deg) rotateY( ${this.CalculateRotationDegrees(this.state.clientXDelta)}deg)`,
        transition: "transform .16s ease-out, filter .16s ease-out",
        filter: "brightness(" + n + ")",
      },
      a = this.props.className || "DialogDraggable_DragGhost";
    return (0, Be.jsx)("div", {
      className: a,
      style: e,
      children: (0, Be.jsx)("div", { ref: this.OnRef, style: o }),
    });
  }
};
p([y], Ja.prototype, "OnRef", 1);
var Ji = class extends Fe.Component {
    m_divRef = Fe.createRef();
    constructor(e) {
      super(e), (this.state = {});
    }
    componentDidMount() {
      this.props.coordinator.RegisterDropRegion(this);
    }
    componentWillUnmount() {
      this.props.coordinator.UnregisterDropRegion(this);
    }
    OnDragStarted(e) {
      this.setState({ bDraggableActive: !0 });
    }
    OnDragEnded(e) {
      this.setState({ bDraggableActive: !1 });
    }
    OnDragEnter(e, n) {
      this.setState({ dropGhost: n }),
        this.props.fnOnDragEnter && this.props.fnOnDragEnter(e);
    }
    OnDragLeave(e) {
      this.setState({ dropGhost: void 0 }),
        this.props.fnOnDragLeave && this.props.fnOnDragLeave(e);
    }
    OnDragMove(e, n, o) {}
    OnDrop(e) {
      this.setState({ dropGhost: void 0 }), this.props.fnOnDrop(e);
    }
    BAcceptDraggable(e) {
      return !this.props.fnBAcceptDraggable || this.props.fnBAcceptDraggable(e);
    }
    BDraggableInRegion(e, n, o) {
      return Ki(e, n, this.GetClientRect());
    }
    GetElement() {
      return this.m_divRef.current;
    }
    GetClientRect() {
      return (
        this.m_divRef.current && this.m_divRef.current.getBoundingClientRect()
      );
    }
    render() {
      let {
          coordinator: e,
          fnBAcceptDraggable: n,
          fnOnDrop: o,
          fnOnDragEnter: a,
          fnOnDragLeave: _,
          className: i,
          strActiveClassName: r,
          children: u,
          focusable: s,
          containerRef: l,
          ...m
        } = this.props,
        d = h(
          i || "DialogDropRegion",
          this.state.bDraggableActive && (r || "Active"),
        );
      return (0, Be.jsxs)(Mt, {
        ref: na(l, this.m_divRef),
        className: d,
        ...m,
        focusable: s === void 0 ? !!m.onClick : s,
        children: [this.state.dropGhost, u],
      });
    }
  },
  Ya = class extends Ji {
    BDraggableInRegion(e, n, o) {
      let a = this.GetClientRect();
      return a
        ? e >= a.left && e <= a.right && n >= a.top - 20 && n <= a.bottom + 20
        : !1;
    }
  };
var V = b(w());
var ft = {
  narrowWidth: "500px",
  "duration-app-launch": "800ms",
  PagedSettingsDialog: "fb--znpA9iY-",
  PagedSettingDialog_ContentColumn: "j1MmI35qVcc-",
  PagedSettingsDialog_PageListColumn: "ByZLSOXEJi8-",
  ResponsivePageList: "se2JFXkqcLA-",
  ResponsiveActivePage: "_5XW9bozMUTA-",
  PagedSettingsDialog_PageContent: "Qe9z1N90-mU-",
  NoPadding: "_25gxUTuvrIE-",
  Hidden: "PeXPE70M0-U-",
  NewNoteButton: "qrmLtG95jB0-",
  PagedSettingsDialog_Title: "vcucl2oj9Fk-",
  PagedSettingsDialog_PageList: "Tw4UqPnHT-Y-",
  PagedSettingsDialog_PageList_DisableScrolling: "_6ojc--MD434-",
  PagedSettingsDialog_PageListItem: "r3lLnZCioSI-",
  PageListItem_Icon: "fyzIFdjZ-zo-",
  PageListItem_Title: "YHbhPD53VXA-",
  DisabledItem: "_79-MLEJ4qwk-",
  Active: "kFlFNnkL7qo-",
  PageListSpacer: "msIgvzU-CxQ-",
  PageListSeparator: "Y5n0jzYJBSg-",
  Transparent: "K-hjH6eEVZs-",
  HidePageListButton: "Q4sUKE2nwwg-",
  ReturnToPageListButton: "Vr19V2RKWC8-",
};
var W = b(H()),
  zC = "separator",
  BC = "spacer",
  Io = class {
    constructor() {
      xt(this);
    }
    m_flPageListScrollTop = 0;
    m_flPageScrollTop = 0;
  };
p([At], Io.prototype, "m_flPageListScrollTop", 2),
  p([At], Io.prototype, "m_flPageScrollTop", 2);
var fn = class fn {
  static s_Instance;
  static Get() {
    return fn.s_Instance || (fn.s_Instance = new fn()), fn.s_Instance;
  }
  constructor() {
    xt(this);
  }
  m_setPagedSettingsInstances = new Set();
};
p([At], fn.prototype, "m_setPagedSettingsInstances", 2);
var Qa = fn;
function LC(t) {
  let {
    stylesheet: e,
    pages: n,
    iActivePage: o,
    onPageSelected: a,
    PageListItemComponent: _ = EC,
    PageListSeparatorComponent: i = NC,
  } = t;
  return n.map((r, u) => {
    let s = u === o;
    if (r === zC) {
      let l = u === o + 1 || u === o - 1;
      return (0, W.jsx)(i, { bTransparent: l }, u);
    } else {
      if (r === BC)
        return (0, W.jsx)("div", { className: ft.PageListSpacer }, u);
      {
        if (r.visible === !1) return null;
        let l = r.identifier || r.title || u.toString(),
          m = () => a(u, r);
        return (0, W.jsx)(
          _,
          {
            className: h(e.PagedSettingsDialog_PageListItem, { [e.Active]: s }),
            onClick: m,
            title: r.title,
            icon: r.icon,
            active: s,
          },
          l,
        );
      }
    }
  });
}
function EC(t) {
  let { title: e, icon: n, active: o, className: a, onClick: _, ...i } = t;
  return (0, W.jsxs)("div", {
    className: a,
    onClick: _,
    children: [
      n
        ? (0, W.jsx)("div", { className: ft.PageListItem_Icon, children: n })
        : null,
      (0, W.jsx)("div", {
        className: ft.PageListItem_Title,
        ...i,
        children: e,
      }),
    ],
  });
}
var Jc = V.forwardRef(function (e, n) {
  let { activePage: o, style: a, stylesheet: _ } = e,
    i = o?.padding ?? "standard";
  return (0, W.jsxs)(Fi, {
    style: a,
    className: h(
      _?.PagedSettingsDialog_PageContent,
      o?.pageClassName,
      i == "none" && _?.NoPadding,
    ),
    refElem: n,
    children: [
      o?.header,
      !o?.hideTitle && (0, W.jsx)(Ga, { children: o?.title }),
      (0, W.jsx)(he, { children: o?.content }),
    ],
  });
});
function NC(t) {
  return (0, W.jsx)("div", {
    className: h(ft.PageListSeparator, { [ft.Transparent]: t.bTransparent }),
  });
}
var Yc = V.forwardRef(function (e, n) {
  let { stylesheet: o = ft, pages: a, onPageRequested: _ } = e,
    i = e.page == null,
    [r, u] = V.useState(() =>
      e.startingPage === void 0
        ? -1
        : a.findIndex(
            (ue) => typeof ue == "object" && ue.identifier === e.startingPage,
          ),
    ),
    s = r;
  i ||
    (s = a.findIndex(
      (ue) => typeof ue == "object" && ue.identifier === e.page,
    )),
    (s < 0 || s >= a.length) && (s = 0);
  let l = null;
  typeof a[s] == "object" && (l = a[s]);
  let m = V.useRef(null),
    d = V.useCallback(() => m.current?.TakeFocus() || !1, [m]),
    [g, v] = V.useState(!1),
    P = g ? d : void 0,
    E = V.useCallback((ue) => {
      ue && v(!0);
    }, []),
    me = V.useCallback(
      (ue, Ut) => {
        v(!0),
          Ee.PlayNavSound(15),
          _ && _(Ut.identifier),
          Ut.click ? Ut.click() : i && u(ue);
      },
      [i, _],
    ),
    _e = V.useRef(null),
    de = (ue) => {
      ue.detail.button == 1 && _e.current?.TakeFocus(ue.detail.button);
    },
    Se = e.showTitle ?? !0,
    we = h("DialogContentTransition", o.PagedSettingDialog_ContentColumn);
  V.useEffect(() => {
    e.bAutoFocusPageContent && _e.current?.TakeFocus();
  }, []);
  let { refForPageList: ce, refForPage: Gt } = FC();
  return (0, W.jsxs)(F, {
    className: h(o.PagedSettingsDialog, e.className),
    ref: n,
    children: [
      (0, W.jsxs)(F, {
        className: h(
          o.PagedSettingsDialog_PageListColumn,
          e.hideList && ft.Hidden,
          "PageListColumn",
        ),
        navRef: m,
        onButtonDown: de,
        onFocusWithin: E,
        children: [
          Se &&
            (0, W.jsx)("div", {
              className: o.PagedSettingsDialog_Title,
              children: e.title,
            }),
          e.topControls && (0, W.jsx)("div", { children: e.topControls }),
          (0, W.jsx)(F, {
            className: h(
              o.PagedSettingsDialog_PageList,
              e.disablePageListScrolling &&
                o.PagedSettingsDialog_PageList_DisableScrolling,
              Se && o.PagedSettingsDialog_PageList_ShowTitle,
              e.bNoHeaderPadding &&
                o.PageSettingsDialog_PageList_NoHeaderPadding,
            ),
            navEntryPreferPosition: 4,
            ref: ce,
            children: (0, W.jsx)(LC, {
              stylesheet: o,
              pages: a,
              iActivePage: s,
              onPageSelected: me,
              PageListItemComponent: e.PageListItemComponent,
              PageListSeparatorComponent: e.PageListSeparatorComponent,
            }),
          }),
          e.bottomControls && (0, W.jsx)("div", { children: e.bottomControls }),
        ],
      }),
      (0, W.jsxs)(F, {
        className: we,
        onCancelButton: P,
        navRef: _e,
        children: [
          e.toggleHideList &&
            (0, W.jsx)(IC, {
              hideList: e.hideList,
              toggleHideList: e.toggleHideList,
            }),
          e.renderPageContent
            ? e.renderPageContent(l, Gt, Jc)
            : (0, W.jsx)(Jc, { ref: Gt, activePage: l, stylesheet: o }),
        ],
      }),
    ],
  });
});
var OC = V.createContext(!1);
var kD = V.memo(function (e) {
  let {
      isActive: n,
      refForPage: o,
      page: a,
      PageComponent: _,
      stylesheet: i,
    } = e,
    r = V.useRef(!1);
  if (!n && !r.current) return null;
  r.current = !0;
  let u = n ? void 0 : { display: "none" };
  return (0, W.jsx)(OC.Provider, {
    value: n,
    children: (0, W.jsx)(_, { ref: o, style: u, activePage: a, stylesheet: i }),
  });
});
function IC(t) {
  let { hideList: e, toggleHideList: n } = t;
  return (0, W.jsx)("div", {
    className: h(ft.HidePageListButton, e && ft.ListHidden),
    onClick: n,
    children: e
      ? (0, W.jsx)(M_, { direction: "right" })
      : (0, W.jsx)(M_, { direction: "left" }),
  });
}
function FC() {
  let t = V.useMemo(() => new Io(), []);
  V.useEffect(
    () => (
      Qa.Get().m_setPagedSettingsInstances.add(t),
      () => {
        Qa.Get().m_setPagedSettingsInstances.delete(t);
      }
    ),
    [t],
  );
  let e = V.useCallback(
      (s) => (t.m_flPageListScrollTop = s.currentTarget.scrollTop),
      [t],
    ),
    n = V.useCallback(
      (s) => (t.m_flPageScrollTop = s.currentTarget.scrollTop),
      [t],
    ),
    o = h_("scroll", e),
    a = h_("scroll", n),
    _ = V.useCallback(
      (s) => (t.m_flPageListScrollTop = s?.scrollTop ?? 0),
      [t],
    ),
    i = V.useCallback((s) => (t.m_flPageScrollTop = s?.scrollTop ?? 0), [t]),
    r = Le(o, _),
    u = Le(a, i);
  return { refForPageList: r, refForPage: u };
}
var Xa = b(w());
var Qc = b(H()),
  an = class extends Xa.Component {
    m_refTextArea = Xa.createRef();
    m_nTextAreaPadding;
    m_cEntryLength = Number.MAX_VALUE;
    get textarea() {
      return this.m_refTextArea.current;
    }
    get value() {
      return this.m_refTextArea.current?.value;
    }
    focus() {
      this.m_refTextArea.current?.focus();
    }
    InternalOnInput() {
      let e = this.m_refTextArea.current,
        n = this.GetMinHeight(),
        o = this.GetMaxHeight(),
        a,
        _ = e.value.length;
      if (
        (this.m_nTextAreaPadding === void 0 && this.CalculatePadding(),
        _ < this.m_cEntryLength &&
          ((a = window.scrollY), (e.style.height = n + "px")),
        e.scrollHeight > o)
      )
        (e.style.height = o + "px"), (e.style.overflow = "auto");
      else if (e.scrollHeight != e.clientHeight) {
        let i = Math.max(e.scrollHeight, n);
        (e.style.height = i - this.m_nTextAreaPadding + "px"),
          e.style.overflow == "auto" && (e.style.overflow = "hidden");
      }
      a !== void 0 && window.scrollTo(window.scrollX, a),
        (this.m_cEntryLength = _);
    }
    CalculatePadding() {
      let e = getComputedStyle(this.m_refTextArea.current);
      this.m_nTextAreaPadding =
        e.boxSizing == "border-box"
          ? 0
          : parseFloat(e.paddingTop) + parseFloat(e.paddingBottom);
    }
    GetMinHeight() {
      return this.props.nMinHeight || 20;
    }
    GetMaxHeight() {
      return this.props.nMaxHeight || 500;
    }
    DeferredInternalOnInput() {
      window.setTimeout(this.InternalOnInput, 1);
    }
    OnKeyUp(e) {
      this.InternalOnInput(), this.props.onKeyUp && this.props.onKeyUp(e);
    }
    OnBlur(e) {
      this.DeferredInternalOnInput(), this.props.onBlur && this.props.onBlur(e);
    }
    OnClick(e) {
      this.InternalOnInput(), this.props.onClick && this.props.onClick(e);
    }
    OnPaste(e) {
      this.DeferredInternalOnInput(),
        this.props.onPaste && this.props.onPaste(e);
    }
    OnCut(e) {
      this.InternalOnInput(), this.props.onCut && this.props.onCut(e);
    }
    componentDidMount() {
      (this.m_refTextArea.current.style.overflow = "hidden"),
        (this.m_refTextArea.current.style.resize = "none"),
        this.InternalOnInput();
    }
    componentDidUpdate(e) {
      (e.nMinHeight != this.props.nMinHeight ||
        e.nMaxHeight != this.props.nMaxHeight) &&
        (this.m_cEntryLength = Number.MAX_VALUE),
        this.m_refTextArea.current?.value.length != this.m_cEntryLength &&
          this.InternalOnInput();
    }
    render() {
      let { nMinHeight: e, nMaxHeight: n, ...o } = this.props;
      return (0, Qc.jsx)(Nu, {
        ...o,
        ref: this.m_refTextArea,
        onKeyUp: this.OnKeyUp,
        onBlur: this.OnBlur,
        onClick: this.OnClick,
        onPaste: this.OnPaste,
        onCut: this.OnCut,
      });
    }
  };
p([y], an.prototype, "InternalOnInput", 1),
  p([y], an.prototype, "OnKeyUp", 1),
  p([y], an.prototype, "OnBlur", 1),
  p([y], an.prototype, "OnClick", 1),
  p([y], an.prototype, "OnPaste", 1),
  p([y], an.prototype, "OnCut", 1);
var vt = b(w());
var M = {
  "duration-app-launch": "800ms",
  narrowWidth: "500px",
  GamepadDialogContent: "hphqAIPfg2M-",
  GamepadDialogContent_InnerWidth: "LnWFhQhlcNM-",
  Field: "u6UxwRzex6Y-",
  Button: "n2lNcrU1FOA-",
  NoMinWidth: "FWT-g2SKMM0-",
  ActiveAndUnfocused: "sLya3q2VeV4-",
  StandaloneFieldSeparator: "N0nsIkWClzg-",
  StandardPadding: "Z0am8Dm2jfA-",
  CompactPadding: "XguX0XZI9XA-",
  WithDescription: "hiDXWuue9Ng-",
  WithBottomSeparatorStandard: "AXmVytBQVxA-",
  WithBottomSeparatorThick: "kW0log3-ANI-",
  HighlightOnFocus: "hYZwQTmms04-",
  Clickable: "_046KFlpPhi4-",
  Disabled: "N7wH4pXSFNg-",
  WithBottomSeparator: "_0AzPckEBOD4-",
  "ItemFocusAnim-darkerGrey": "arvRRZ9-C9Y-",
  "ItemFocusAnim-darkGrey": "_9jyy72RowfQ-",
  FieldChildrenWithIcon: "saFoLyssBQo-",
  FieldChildrenInner: "y-N79TWWLB0-",
  FieldClickTarget: "NeJGNNDdkHM-",
  FieldIcon: "_6lnixjah-90-",
  Front: "zh7sbd-UiyU-",
  BeforeChildren: "I9bIyopp1uc-",
  FieldLabelRow: "L9bBFKETjDc-",
  VerticalAlignCenter: "R74QljenKiQ-",
  InlineWrapShiftsChildrenBelow: "GKP4TEGtYjE-",
  ExtraPaddingOnChildrenBelow: "DsyywImFP3g-",
  ChildrenWidthFixed: "aiMxPe7cnx8-",
  ChildrenWidthGrow: "XE9DTUy61Jk-",
  WithFirstRow: "ApU36qw6S8o-",
  WithChildrenBelow: "IbvehGFvqy0-",
  FieldLabel: "HzfVYZAQM1I-",
  FieldLabelValue: "HOM-11Jf2cw-",
  FieldDescription: "_5BLJdCp0mew-",
  ModalPosition: "eGUcXf9qmGo-",
  VR: "jLL34-DFetc-",
  WithStandardPadding: "_0pzkMgnBDek-",
  NoHeaderPadding: "thcCErzFlaA-",
  ModalClickToDismiss: "BO2jqunP5fQ-",
  slideInAnimation: "UM0fZCgqJds-",
  ScrollWithin: "A-yiOzX2zo8-",
  BasicTextInput: "IkgK3r9TyY4-",
  Toggle: "QaOnAvj7KDc-",
  ToggleRail: "gqoU6kzzga0-",
  On: "WszZCY9cJuU-",
  ToggleSwitch: "m-ViVI3jM2c-",
  LabelFieldValue: "xx9P2lluZR4-",
  DropDownControlButtonContents: "_4wpsx4CUbWY-",
  DropDownRow: "AtvTnUalXdo-",
  IconContainer: "-TYBSdzS9vM-",
  Label: "_2mNIgxcZZ6U-",
  ControlsListOuterPanel: "-D54syxDRFE-",
  StandardSpacing: "m-e4YJsJZjs-",
  ExtraSpacing: "Z6JwpLpx6PI-",
  ItemMaxSizeDesktop: "RzL4-TdmlAA-",
  AlignRight: "pmJ7XNli6U4-",
  AlignLeft: "gjnbAGxS0yc-",
  AlignCenter: "PDaSRT8ViFo-",
  FullWidth: "GSk7FKAGFT4-",
  ControlsListChild: "h4Ytu5NGGqM-",
  "QuickAccess-Menu": "dpQ3XFHsodk-",
  BottomButtons: "RdkTX3BYU54-",
  TextareaWrapper: "X25Qp11Ngnw-",
  Textarea: "dd4R06-lKvI-",
  BackgroundAnimation: "HN-1eGY9Nmo-",
  "ItemFocusAnim-darkerGrey-nocolor": "_4ZiGgSYhigE-",
  "ItemFocusAnim-grey": "_0vm28U-NXYE-",
  "ItemFocusAnim-translucent-white-10": "Omlo74OCNh4-",
  "ItemFocusAnim-translucent-white-20": "_4y-sz5WDrKM-",
  "ItemFocusAnimBorder-darkGrey": "yVxuhcF-Jqo-",
  "ItemFocusAnim-green": "DGu9xeM67Ec-",
  focusAnimation: "AUSFtgMHqZk-",
  hoverAnimation: "_---TIKL-l4M-",
};
var jo = b(w());
var Xi = b(w());
var Qi = b(H());
async function jC(t, e, n) {
  let o = Xn(e),
    a = n?.bForcePopOut || $c(o);
  Ce(
    !(a && n?.bNeverPopOut),
    "Conflicting popout options; will ignore bNeverPopOut",
  );
  let _ = !a && n?.bNeverPopOut === !0,
    i = $c(o) || (!_ && ep(o, e)),
    r = a && n?.popupWidth && n?.popupHeight,
    u;
  if (i && !r) {
    let l = Xi.cloneElement(t, { closeModal: () => {} });
    u = await GC(o, l, n?.promiseRenderComplete);
  }
  let s = u && u.height / e.innerHeight < 0.9 && u.width / e.innerWidth < 0.8;
  if (_ || (!a && s)) return Xc(t, e, void 0, { fnOnClose: n?.fnOnClose });
  {
    let l = {
        strTitle: n?.strTitle || z("#Dialog_DefaultWindowTitle"),
        fnOnClose: n?.fnOnClose,
        popupWidth: n?.popupWidth || u?.width,
        popupHeight: n?.popupHeight || u?.height,
        bHideMainWindowForPopouts: n?.bHideMainWindowForPopouts,
        className: n?.className,
      },
      m = { bHideActions: n?.bHideActionIcons },
      d = n?.browserContext || e.browserInfo;
    return Xc(t, e, l.strTitle, l, d, m, o);
  }
}
async function Zc(t, e, n) {
  return jC(t, e, { bHideMainWindowForPopouts: !0, ...n });
}
function Xc(t, e, n, o, a, _, i) {
  let r,
    u,
    s = t.props.closeModal,
    l = () => {
      u && u.Close(), s && s(), o?.fnOnClose && o.fnOnClose();
    },
    m = () => {
      r && r.Close(), l();
    },
    d = Xi.cloneElement(t, { closeModal: m });
  if (((i = i || Xn(e)), ep(i, e) && o && n)) {
    if (o.bHideMainWindowForPopouts) {
      let v = (0, Qi.jsx)(dn, {
        className: "Hidden",
        onEscKeypress: d.props.bDisableBackgroundDismiss ? void 0 : m,
        children: (0, Qi.jsx)("div", {}),
      });
      u = i.ShowModal(v);
    }
    let g = { ...o, fnOnClose: l, browserContext: a };
    r = i.ShowLegacyPopupModal(n, d, g, _);
  } else r = i.ShowModal(d);
  return r;
}
function ep(t, e) {
  return (t = t || Xn(e || window)), oe.USE_POPUPS && t.BUsePopups();
}
function $c(t) {
  return t.BOnlyPopups && t.BOnlyPopups();
}
async function GC(t, e, n) {
  return new Promise((o, a) => {
    t.RequestModalMeasure(e, o, n);
  });
}
var $i = b(w());
var Zi = b(H()),
  tp = Jt((t) => {
    let { onCancel: e, closeModal: n, bOKDisabled: o, onOK: a } = t,
      _ = lt();
    Ce(
      n || e,
      `Either closeModal or onCancel should be passed to GenericDialog. Classes: ${t.className} ${t.modalClassName}`,
    );
    let i = $i.useCallback(() => {
        (e && e()) || (n && n());
      }, [e, n]),
      r = $i.useCallback(async () => {
        o || (a && (await a()), n && n());
      }, [o, a, n]);
    return (0, Zi.jsx)(dn, {
      onEscKeypress: i,
      className: t.modalClassName,
      bDestructiveWarning: t.bDestructiveWarning,
      bDisableBackgroundDismiss: t.bDisableBackgroundDismiss,
      bHideCloseIcon: t.bHideCloseIcon,
      children: (0, Zi.jsx)(Lc, {
        classNameContent: h(
          "GenericConfirmDialog",
          t.bAllowFullSize && "DialogContentFullSize",
          t.className,
        ),
        onSubmit: r,
        bCenterVertically: !_,
        children: t.children,
      }),
    });
  });
var ve = b(H());
var Zn = class extends jo.Component {
  Cancel(e) {
    return () => {
      e && e(), this.props.closeModal && this.props.closeModal();
    };
  }
  render() {
    let {
        strTitle: e,
        strDescription: n,
        strOKButtonText: o,
        strCancelButtonText: a,
        onGamepadCancel: _,
        strMiddleButtonText: i,
        onMiddleButton: r,
        bAlertDialog: u,
        children: s,
        ...l
      } = this.props,
      m = o || z("#Button_Close"),
      d = (0, ve.jsx)(Nc, {
        bOKDisabled: this.props.bOKDisabled,
        bCancelDisabled: this.props.bCancelDisabled,
        strOKText: o,
        onCancel: this.Cancel(this.props.onCancel),
        strCancelText: a,
      });
    return (
      u
        ? (d = (0, ve.jsx)(Bo, { children: m }))
        : r &&
          (d = (0, ve.jsx)(Oc, {
            bOKDisabled: this.props.bOKDisabled,
            bCancelDisabled: this.props.bCancelDisabled,
            strOKText: o,
            onCancel: this.Cancel(this.props.onCancel),
            strCancelText: a,
            onUpdate: () => {
              r(), this.props.closeModal && this.props.closeModal();
            },
            strUpdateText: i,
            bUpdateDisabled: this.props.bMiddleDisabled,
          })),
      (0, ve.jsxs)(tp, {
        ...l,
        children: [
          (0, ve.jsxs)(Ga, {
            children: [
              " ",
              e || (0, ve.jsx)(ve.Fragment, { children: " " }),
              " ",
            ],
          }),
          (0, ve.jsxs)(Bc, {
            onCancelButton: this.Cancel(_ || this.props.onCancel),
            children: [
              (0, ve.jsxs)(zc, { children: [n, s] }),
              (0, ve.jsx)(Dc, { children: d }),
            ],
          }),
        ],
      })
    );
  }
};
Zn = p([Jt], Zn);
var $a = class extends jo.Component {
  render() {
    let e = {
      strTitle: z("#Error_FailureNotice"),
      strDescription: z("#Error_GenericFailureDescription"),
      bAlertDialog: !0,
      bDestructiveWarning: !0,
      onOK: () => {},
      onCancel: () => {},
      ...this.props,
    };
    return (0, ve.jsx)(Zn, { ...e });
  }
};
$a = p([Jt], $a);
var Fo = class extends jo.Component {
  render() {
    let e = {
      onOK: () => {},
      onCancel: () => {},
      bAlertDialog: !0,
      ...this.props,
    };
    return (
      (e.strDescription = (0, ve.jsxs)("span", {
        style: { whiteSpace: "pre-line" },
        children: [" ", e.strDescription, " "],
      })),
      (0, ve.jsx)(Zn, { ...e })
    );
  }
};
Fo = p([Jt], Fo);
function np(t, e, n) {
  Zc((0, ve.jsx)(Fo, { strTitle: t, strDescription: e }), n);
}
var ye = b(H()),
  eo = vt.forwardRef(function (e, n) {
    let {
        label: o,
        description: a,
        icon: _,
        children: i,
        childrenLayout: r,
        inlineWrap: u,
        childrenContainerWidth: s,
        spacingBetweenLabelAndChild: l,
        padding: m,
        disabled: d,
        bottomSeparator: g,
        className: v,
        highlightOnFocus: P,
        indentLevel: E,
        verticalAlignment: me,
        iconLocation: _e,
        tooltip: de,
        explainer: Se,
        explainerTitle: we,
        ...ce
      } = e,
      Gt = lt(),
      ue = r ?? "inline",
      Ut = _e ?? "front",
      Jr = Ut == "front" && !!_,
      Yr = Ut == "before-children" && !!_,
      c_ = ue == "inline" && !!i,
      Qr = ue == "below" && !!i,
      jd = u ?? (Gt ? "shift-children-below" : "keep-inline"),
      p_ = !!(ce.onClick || ce.onActivate || ce.focusable),
      Xr = (_ != null && Jr) || o != null || (c_ && i != null),
      $r = s ?? "min",
      Gd = l ?? "standard",
      Zr = m ?? "standard",
      eu = g ?? "standard",
      Ud = P ?? !0,
      Vd = E ?? 0,
      Wd = me ?? "center",
      qd = UC(we ?? o, Se),
      H_ = vt.useRef(),
      Kd = Le(H_, e.navRef),
      Jd = vt.useCallback(
        (d_) => {
          H_.current?.TakeFocus(), d_.preventDefault();
        },
        [H_],
      );
    return (0, ye.jsxs)(F, {
      focusable: p_,
      noFocusRing: !0,
      scrollIntoViewWhenChildFocused: !0,
      onActivate: (d_) => ce.onClick?.(d_),
      ref: n,
      onMouseDown: p_ ? void 0 : Jd,
      ...ce,
      ...qd,
      navRef: Kd,
      className: h(
        v,
        M.Field,
        d && M.Disabled,
        Xr && M.WithFirstRow,
        c_ && M.WithChildrenInline,
        Qr && M.WithChildrenBelow,
        Wd == "center" && M.VerticalAlignCenter,
        jd == "shift-children-below" && M.InlineWrapShiftsChildrenBelow,
        !!a && M.WithDescription,
        eu == "standard" && M.WithBottomSeparatorStandard,
        eu == "thick" && M.WithBottomSeparatorThick,
        $r == "fixed" && M.ChildrenWidthFixed,
        $r == "max" && M.ChildrenWidthGrow,
        Gd == "standard" && M.ExtraPaddingOnChildrenBelow,
        Zr == "standard" && M.StandardPadding,
        Zr == "compact" && M.CompactPadding,
        p_ && M.Clickable,
        Ud && M.HighlightOnFocus,
      ),
      style: { "--indent-level": Vd },
      children: [
        Xr &&
          (0, ye.jsxs)("div", {
            className: M.FieldLabelRow,
            children: [
              (0, ye.jsxs)("div", {
                className: M.FieldLabel,
                children: [
                  Jr &&
                    (0, ye.jsx)("div", {
                      className: h(M.FieldIcon, M.Front),
                      children: _,
                    }),
                  o,
                  de && (0, ye.jsx)(Et, { tooltip: de }),
                ],
              }),
              c_ &&
                (0, ye.jsxs)("div", {
                  className: M.FieldChildrenWithIcon,
                  children: [
                    Yr &&
                      (0, ye.jsx)("div", {
                        className: h(M.FieldIcon, M.BeforeChildren),
                        children: _,
                      }),
                    (0, ye.jsx)("div", {
                      className: M.FieldChildrenInner,
                      children: i,
                    }),
                  ],
                }),
            ],
          }),
        Qr &&
          (0, ye.jsxs)("div", {
            className: M.FieldChildrenWithIcon,
            children: [
              Yr &&
                (0, ye.jsx)("div", {
                  className: h(M.FieldIcon, M.BeforeChildren),
                  children: _,
                }),
              (0, ye.jsx)("div", {
                className: M.FieldChildrenInner,
                children: i,
              }),
            ],
          }),
        a && (0, ye.jsx)("div", { className: M.FieldDescription, children: a }),
      ],
    });
  });
function UC(t, e) {
  let n = De(),
    o = vt.useCallback(() => {
      np(t, e, n.ownerWindow ?? window);
    }, [n, t, e]);
  if (e == null) return {};
  let a = z("#Field_MoreInfo_Action");
  return { onOptionsButton: o, onOptionsActionDescription: a };
}
var lz = vt.forwardRef(function (e, n) {
    let {
        label: o,
        description: a,
        explainer: _,
        icon: i,
        layout: r,
        disabled: u,
        onActivate: s,
        bottomSeparator: l,
        highlightOnFocus: m,
        childrenContainerWidth: d,
        padding: g,
        inlineWrap: v,
        fieldClassName: P,
        fieldChildren: E,
        ...me
      } = e,
      { refWithValue: _e, refForElement: de } = C_(n);
    return (0, ye.jsxs)(eo, {
      label: o,
      description: a,
      icon: i,
      bottomSeparator: l,
      highlightOnFocus: m,
      childrenLayout: r ?? "inline",
      childrenContainerWidth: d ?? "min",
      onMouseDown: (we) => {
        _e.current?.focus(), we.preventDefault();
      },
      padding: g,
      inlineWrap: v,
      explainer: _,
      className: P,
      disabled: u,
      onActivate: u ? s : void 0,
      children: [(0, ye.jsx)(Je, { ...me, disabled: u, ref: de }), E],
    });
  }),
  op = vt.forwardRef(function (e, n) {
    let {
        label: o,
        description: a,
        icon: _,
        layout: i,
        bottomSeparator: r,
        highlightOnFocus: u,
        ...s
      } = e,
      { refWithValue: l, refForElement: m } = C_(n);
    return (0, ye.jsx)(eo, {
      label: o,
      description: a,
      icon: _,
      bottomSeparator: r,
      highlightOnFocus: u,
      childrenLayout: i ?? "inline",
      childrenContainerWidth: "fixed",
      onMouseDown: (g) => {
        l.current?.element?.focus(), g.preventDefault();
      },
      children: (0, ye.jsx)(Cn, { ...s, ref: m }),
    });
  });
var mp = b(w());
var be = b(w());
var je = b(w());
var er = { TransitionGroup: "xbJxDr3b7qU-", ContentWrapper: "CNH6rvKas2k-" };
function tr(t, e) {
  return t.classList
    ? !!e && t.classList.contains(e)
    : (" " + (t.className.baseVal || t.className) + " ").indexOf(
        " " + e + " ",
      ) !== -1;
}
function nr(t, e) {
  t.classList
    ? t.classList.add(e)
    : tr(t, e) ||
      (typeof t.className == "string"
        ? (t.className = t.className + " " + e)
        : t.setAttribute(
            "class",
            ((t.className && t.className.baseVal) || "") + " " + e,
          ));
}
function ap(t, e) {
  return t
    .replace(new RegExp("(^|\\s)" + e + "(?:\\s|$)", "g"), "$1")
    .replace(/\s+/g, " ")
    .replace(/^\s*|\s*$/g, "");
}
function or(t, e) {
  t.classList
    ? t.classList.remove(e)
    : typeof t.className == "string"
      ? (t.className = ap(t.className, e))
      : t.setAttribute(
          "class",
          ap((t.className && t.className.baseVal) || "", e),
        );
}
var rr = b(w());
var Go = b(w()),
  Uo = b(Pt());
var ar = { disabled: !1 };
var _p = b(w()),
  to = _p.default.createContext(null);
var Za = function (e) {
  return e.scrollTop;
};
var Vo = "unmounted",
  vn = "exited",
  kn = "entering",
  oo = "entered",
  _r = "exiting",
  Ft = (function (t) {
    jn(e, t);
    function e(o, a) {
      var _;
      _ = t.call(this, o, a) || this;
      var i = a,
        r = i && !i.isMounting ? o.enter : o.appear,
        u;
      return (
        (_.appearStatus = null),
        o.in
          ? r
            ? ((u = vn), (_.appearStatus = kn))
            : (u = oo)
          : o.unmountOnExit || o.mountOnEnter
            ? (u = Vo)
            : (u = vn),
        (_.state = { status: u }),
        (_.nextCallback = null),
        _
      );
    }
    e.getDerivedStateFromProps = function (a, _) {
      var i = a.in;
      return i && _.status === Vo ? { status: vn } : null;
    };
    var n = e.prototype;
    return (
      (n.componentDidMount = function () {
        this.updateStatus(!0, this.appearStatus);
      }),
      (n.componentDidUpdate = function (a) {
        var _ = null;
        if (a !== this.props) {
          var i = this.state.status;
          this.props.in
            ? i !== kn && i !== oo && (_ = kn)
            : (i === kn || i === oo) && (_ = _r);
        }
        this.updateStatus(!1, _);
      }),
      (n.componentWillUnmount = function () {
        this.cancelNextCallback();
      }),
      (n.getTimeouts = function () {
        var a = this.props.timeout,
          _,
          i,
          r;
        return (
          (_ = i = r = a),
          a != null &&
            typeof a != "number" &&
            ((_ = a.exit),
            (i = a.enter),
            (r = a.appear !== void 0 ? a.appear : i)),
          { exit: _, enter: i, appear: r }
        );
      }),
      (n.updateStatus = function (a, _) {
        if ((a === void 0 && (a = !1), _ !== null))
          if ((this.cancelNextCallback(), _ === kn)) {
            if (this.props.unmountOnExit || this.props.mountOnEnter) {
              var i = this.props.nodeRef
                ? this.props.nodeRef.current
                : Uo.default.findDOMNode(this);
              i && Za(i);
            }
            this.performEnter(a);
          } else this.performExit();
        else
          this.props.unmountOnExit &&
            this.state.status === vn &&
            this.setState({ status: Vo });
      }),
      (n.performEnter = function (a) {
        var _ = this,
          i = this.props.enter,
          r = this.context ? this.context.isMounting : a,
          u = this.props.nodeRef ? [r] : [Uo.default.findDOMNode(this), r],
          s = u[0],
          l = u[1],
          m = this.getTimeouts(),
          d = r ? m.appear : m.enter;
        if ((!a && !i) || ar.disabled) {
          this.safeSetState({ status: oo }, function () {
            _.props.onEntered(s);
          });
          return;
        }
        this.props.onEnter(s, l),
          this.safeSetState({ status: kn }, function () {
            _.props.onEntering(s, l),
              _.onTransitionEnd(d, function () {
                _.safeSetState({ status: oo }, function () {
                  _.props.onEntered(s, l);
                });
              });
          });
      }),
      (n.performExit = function () {
        var a = this,
          _ = this.props.exit,
          i = this.getTimeouts(),
          r = this.props.nodeRef ? void 0 : Uo.default.findDOMNode(this);
        if (!_ || ar.disabled) {
          this.safeSetState({ status: vn }, function () {
            a.props.onExited(r);
          });
          return;
        }
        this.props.onExit(r),
          this.safeSetState({ status: _r }, function () {
            a.props.onExiting(r),
              a.onTransitionEnd(i.exit, function () {
                a.safeSetState({ status: vn }, function () {
                  a.props.onExited(r);
                });
              });
          });
      }),
      (n.cancelNextCallback = function () {
        this.nextCallback !== null &&
          (this.nextCallback.cancel(), (this.nextCallback = null));
      }),
      (n.safeSetState = function (a, _) {
        (_ = this.setNextCallback(_)), this.setState(a, _);
      }),
      (n.setNextCallback = function (a) {
        var _ = this,
          i = !0;
        return (
          (this.nextCallback = function (r) {
            i && ((i = !1), (_.nextCallback = null), a(r));
          }),
          (this.nextCallback.cancel = function () {
            i = !1;
          }),
          this.nextCallback
        );
      }),
      (n.onTransitionEnd = function (a, _) {
        this.setNextCallback(_);
        var i = this.props.nodeRef
            ? this.props.nodeRef.current
            : Uo.default.findDOMNode(this),
          r = a == null && !this.props.addEndListener;
        if (!i || r) {
          setTimeout(this.nextCallback, 0);
          return;
        }
        if (this.props.addEndListener) {
          var u = this.props.nodeRef
              ? [this.nextCallback]
              : [i, this.nextCallback],
            s = u[0],
            l = u[1];
          this.props.addEndListener(s, l);
        }
        a != null && setTimeout(this.nextCallback, a);
      }),
      (n.render = function () {
        var a = this.state.status;
        if (a === Vo) return null;
        var _ = this.props,
          i = _.children,
          r = _.in,
          u = _.mountOnEnter,
          s = _.unmountOnExit,
          l = _.appear,
          m = _.enter,
          d = _.exit,
          g = _.timeout,
          v = _.addEndListener,
          P = _.onEnter,
          E = _.onEntering,
          me = _.onEntered,
          _e = _.onExit,
          de = _.onExiting,
          Se = _.onExited,
          we = _.nodeRef,
          ce = Fn(_, [
            "children",
            "in",
            "mountOnEnter",
            "unmountOnExit",
            "appear",
            "enter",
            "exit",
            "timeout",
            "addEndListener",
            "onEnter",
            "onEntering",
            "onEntered",
            "onExit",
            "onExiting",
            "onExited",
            "nodeRef",
          ]);
        return Go.default.createElement(
          to.Provider,
          { value: null },
          typeof i == "function"
            ? i(a, ce)
            : Go.default.cloneElement(Go.default.Children.only(i), ce),
        );
      }),
      e
    );
  })(Go.default.Component);
Ft.contextType = to;
Ft.propTypes = {};
function no() {}
Ft.defaultProps = {
  in: !1,
  mountOnEnter: !1,
  unmountOnExit: !1,
  appear: !1,
  enter: !0,
  exit: !0,
  onEnter: no,
  onEntering: no,
  onEntered: no,
  onExit: no,
  onExiting: no,
  onExited: no,
};
Ft.UNMOUNTED = Vo;
Ft.EXITED = vn;
Ft.ENTERING = kn;
Ft.ENTERED = oo;
Ft.EXITING = _r;
var ip = Ft;
var VC = function (e, n) {
    return (
      e &&
      n &&
      n.split(" ").forEach(function (o) {
        return nr(e, o);
      })
    );
  },
  ir = function (e, n) {
    return (
      e &&
      n &&
      n.split(" ").forEach(function (o) {
        return or(e, o);
      })
    );
  },
  ur = (function (t) {
    jn(e, t);
    function e() {
      for (var o, a = arguments.length, _ = new Array(a), i = 0; i < a; i++)
        _[i] = arguments[i];
      return (
        (o = t.call.apply(t, [this].concat(_)) || this),
        (o.appliedClasses = { appear: {}, enter: {}, exit: {} }),
        (o.onEnter = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            m = s[1];
          o.removeClasses(l, "exit"),
            o.addClass(l, m ? "appear" : "enter", "base"),
            o.props.onEnter && o.props.onEnter(r, u);
        }),
        (o.onEntering = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            m = s[1],
            d = m ? "appear" : "enter";
          o.addClass(l, d, "active"),
            o.props.onEntering && o.props.onEntering(r, u);
        }),
        (o.onEntered = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            m = s[1],
            d = m ? "appear" : "enter";
          o.removeClasses(l, d),
            o.addClass(l, d, "done"),
            o.props.onEntered && o.props.onEntered(r, u);
        }),
        (o.onExit = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.removeClasses(s, "appear"),
            o.removeClasses(s, "enter"),
            o.addClass(s, "exit", "base"),
            o.props.onExit && o.props.onExit(r);
        }),
        (o.onExiting = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.addClass(s, "exit", "active"),
            o.props.onExiting && o.props.onExiting(r);
        }),
        (o.onExited = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.removeClasses(s, "exit"),
            o.addClass(s, "exit", "done"),
            o.props.onExited && o.props.onExited(r);
        }),
        (o.resolveArguments = function (r, u) {
          return o.props.nodeRef ? [o.props.nodeRef.current, r] : [r, u];
        }),
        (o.getClassNames = function (r) {
          var u = o.props.classNames,
            s = typeof u == "string",
            l = s && u ? u + "-" : "",
            m = s ? "" + l + r : u[r],
            d = s ? m + "-active" : u[r + "Active"],
            g = s ? m + "-done" : u[r + "Done"];
          return { baseClassName: m, activeClassName: d, doneClassName: g };
        }),
        o
      );
    }
    var n = e.prototype;
    return (
      (n.addClass = function (a, _, i) {
        var r = this.getClassNames(_)[i + "ClassName"],
          u = this.getClassNames("enter"),
          s = u.doneClassName;
        _ === "appear" && i === "done" && s && (r += " " + s),
          i === "active" && a && Za(a),
          r && ((this.appliedClasses[_][i] = r), VC(a, r));
      }),
      (n.removeClasses = function (a, _) {
        var i = this.appliedClasses[_],
          r = i.base,
          u = i.active,
          s = i.done;
        (this.appliedClasses[_] = {}),
          r && ir(a, r),
          u && ir(a, u),
          s && ir(a, s);
      }),
      (n.render = function () {
        var a = this.props,
          _ = a.classNames,
          i = Fn(a, ["classNames"]);
        return rr.default.createElement(
          ip,
          ca({}, i, {
            onEnter: this.onEnter,
            onEntered: this.onEntered,
            onEntering: this.onEntering,
            onExit: this.onExit,
            onExiting: this.onExiting,
            onExited: this.onExited,
          }),
        );
      }),
      e
    );
  })(rr.default.Component);
ur.defaultProps = { classNames: "" };
ur.propTypes = {};
var sr = ur;
function rp(t) {
  if (t === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return t;
}
var Wo = b(w());
var Xe = b(w());
function e_(t, e) {
  var n = function (_) {
      return e && (0, Xe.isValidElement)(_) ? e(_) : _;
    },
    o = Object.create(null);
  return (
    t &&
      Xe.Children.map(t, function (a) {
        return a;
      }).forEach(function (a) {
        o[a.key] = n(a);
      }),
    o
  );
}
function WC(t, e) {
  (t = t || {}), (e = e || {});
  function n(l) {
    return l in e ? e[l] : t[l];
  }
  var o = Object.create(null),
    a = [];
  for (var _ in t) _ in e ? a.length && ((o[_] = a), (a = [])) : a.push(_);
  var i,
    r = {};
  for (var u in e) {
    if (o[u])
      for (i = 0; i < o[u].length; i++) {
        var s = o[u][i];
        r[o[u][i]] = n(s);
      }
    r[u] = n(u);
  }
  for (i = 0; i < a.length; i++) r[a[i]] = n(a[i]);
  return r;
}
function wn(t, e, n) {
  return n[e] != null ? n[e] : t.props[e];
}
function up(t, e) {
  return e_(t.children, function (n) {
    return (0, Xe.cloneElement)(n, {
      onExited: e.bind(null, n),
      in: !0,
      appear: wn(n, "appear", t),
      enter: wn(n, "enter", t),
      exit: wn(n, "exit", t),
    });
  });
}
function sp(t, e, n) {
  var o = e_(t.children),
    a = WC(e, o);
  return (
    Object.keys(a).forEach(function (_) {
      var i = a[_];
      if ((0, Xe.isValidElement)(i)) {
        var r = _ in e,
          u = _ in o,
          s = e[_],
          l = (0, Xe.isValidElement)(s) && !s.props.in;
        u && (!r || l)
          ? (a[_] = (0, Xe.cloneElement)(i, {
              onExited: n.bind(null, i),
              in: !0,
              exit: wn(i, "exit", t),
              enter: wn(i, "enter", t),
            }))
          : !u && r && !l
            ? (a[_] = (0, Xe.cloneElement)(i, { in: !1 }))
            : u &&
              r &&
              (0, Xe.isValidElement)(s) &&
              (a[_] = (0, Xe.cloneElement)(i, {
                onExited: n.bind(null, i),
                in: s.props.in,
                exit: wn(i, "exit", t),
                enter: wn(i, "enter", t),
              }));
      }
    }),
    a
  );
}
var qC =
    Object.values ||
    function (t) {
      return Object.keys(t).map(function (e) {
        return t[e];
      });
    },
  KC = {
    component: "div",
    childFactory: function (e) {
      return e;
    },
  },
  br = (function (t) {
    jn(e, t);
    function e(o, a) {
      var _;
      _ = t.call(this, o, a) || this;
      var i = _.handleExited.bind(rp(_));
      return (
        (_.state = {
          contextValue: { isMounting: !0 },
          handleExited: i,
          firstRender: !0,
        }),
        _
      );
    }
    var n = e.prototype;
    return (
      (n.componentDidMount = function () {
        (this.mounted = !0),
          this.setState({ contextValue: { isMounting: !1 } });
      }),
      (n.componentWillUnmount = function () {
        this.mounted = !1;
      }),
      (e.getDerivedStateFromProps = function (a, _) {
        var i = _.children,
          r = _.handleExited,
          u = _.firstRender;
        return { children: u ? up(a, r) : sp(a, i, r), firstRender: !1 };
      }),
      (n.handleExited = function (a, _) {
        var i = e_(this.props.children);
        a.key in i ||
          (a.props.onExited && a.props.onExited(_),
          this.mounted &&
            this.setState(function (r) {
              var u = ca({}, r.children);
              return delete u[a.key], { children: u };
            }));
      }),
      (n.render = function () {
        var a = this.props,
          _ = a.component,
          i = a.childFactory,
          r = Fn(a, ["component", "childFactory"]),
          u = this.state.contextValue,
          s = qC(this.state.children).map(i);
        return (
          delete r.appear,
          delete r.enter,
          delete r.exit,
          _ === null
            ? Wo.default.createElement(to.Provider, { value: u }, s)
            : Wo.default.createElement(
                to.Provider,
                { value: u },
                Wo.default.createElement(_, r, s),
              )
        );
      }),
      e
    );
  })(Wo.default.Component);
br.propTypes = {};
br.defaultProps = KC;
var lr = br;
var ao = b(H());
function t_(t) {
  let {
      childrenKey: e,
      childrenClasses: n,
      children: o,
      directionClass: a,
      animate: _ = !0,
    } = t,
    i = h(er.TransitionGroup, a);
  return (0, ao.jsx)(lr, {
    className: i,
    appear: !1,
    enter: _,
    exit: _,
    children: (0, ao.jsx)(JC, { childrenClasses: n, children: o }, e),
  });
}
function JC(t) {
  let { sizeClass: e, children: n, childrenClasses: o, navKey: a, ..._ } = t,
    [i, r, u, s] = YC(),
    l = je.useRef(!0),
    m = je.useCallback(() => l.current, [l]),
    d = je.useCallback(() => {
      (l.current = !0), u();
    }, [u]),
    g = je.useCallback(() => {
      (l.current = !1), s();
    }, [s]),
    v = 1e4,
    P = t.childrenClasses,
    E = {
      enter: P.enterStart,
      enterActive: P.enterEnd,
      exit: P.exitStart,
      exitActive: P.exitEnd,
    };
  return i.current && !i.current.ownerDocument.defaultView
    ? null
    : (0, ao.jsx)(sr, {
        nodeRef: i,
        classNames: E,
        in: !0,
        timeout: v,
        addEndListener: r,
        onEntering: d,
        onExiting: g,
        ..._,
        children: (0, ao.jsx)("div", {
          ref: i,
          className: h(er.ContentWrapper, e, P.base),
          children: (0, ao.jsx)(F, {
            className: e,
            fnCanTakeFocus: m,
            navKey: a,
            children: t.children,
          }),
        }),
      });
}
function YC() {
  let t = je.useRef(null),
    e = je.useRef();
  je.useLayoutEffect(() => {
    let _ = t.current;
    if (!_ || e.current) return;
    e.current = {
      element: _,
      activeProps: new Set(),
      bExiting: !1,
      fnDone: null,
    };
    let i = e.current,
      r = (s) => {
        s.target == _ && i.activeProps.add(s.propertyName);
      };
    _.addEventListener("transitionrun", r, !1);
    let u = (s) => {
      s.target == _ &&
        (i.activeProps.delete(s.propertyName),
        i.fnDone && i.activeProps.size == 0 && i.bExiting && i.fnDone());
    };
    _.addEventListener("transitionend", u, !1),
      _.addEventListener("transitioncancel", u, !1);
  }, []);
  let n = je.useCallback(
      (_) => {
        if (!e.current) {
          _();
          return;
        }
        e.current.fnDone = _;
      },
      [e],
    ),
    o = je.useCallback(() => {
      e.current && (e.current.bExiting = !1);
    }, [e]),
    a = je.useCallback(() => {
      e.current && (e.current.bExiting = !0);
    }, [e]);
  return [t, n, o, a];
}
function n_(t, e) {
  return {
    base: e,
    enterStart: t.Enter,
    enterEnd: t.EnterActive,
    exitStart: t.Exit,
    exitEnd: t.ExitActive,
  };
}
function bp(t, e) {
  return e == 1
    ? t.Left
    : e == 2
      ? t.Right
      : e == 3
        ? t.Up
        : e == 4
          ? t.Down
          : "";
}
var jt = {
  "duration-app-launch": "800ms",
  PagedSettingsDialog: "Syc5CEejpCs-",
  PagedSettingsDialog_PageContent: "spl7ARNTMuI-",
  NoPadding: "JE-edA2AHZU-",
  PagedSettingsDialog_PageListColumn: "_7w8xPpmaJYI-",
  PagedSettingsDialog_Title: "IkEy5ScXPLA-",
  PagedSettingsDialog_PageList: "_05n8dH6yzlk-",
  PagedSettingsDialog_PageList_DisableScrolling: "kCFp7ufol-Q-",
  PagedSettingsDialog_PageList_ShowTitle: "_6MMl04DZdyk-",
  PageSettingsDialog_PageList_NoHeaderPadding: "B77h1ty4tmw-",
  PagedSettingsDialog_PageListItem: "meSl50NBW8s-",
  DisabledItem: "CIL35Lmv31Y-",
  Active: "_7HVRI1bmcvY-",
  "ItemFocusAnim-darkerGrey": "vn2pzERIjAA-",
  "ItemFocusAnim-darkGrey": "_3-IWLVbzoio-",
  PageListItem_Icon: "yzO7X4cm1OE-",
  PageListItem_Title: "TVggJx59aXM-",
  Separator: "ALQx3i1U-SY-",
  PagedSettingDialog_ContentColumn: "dC8z7R4w4eU-",
  Up: "pO-epRkhPx8-",
  ContentTransition: "UWiPLueCfHo-",
  Enter: "KB1G8hQC1Z0-",
  EnterActive: "_8NY5W7Wocgo-",
  Exit: "lwgKtPYHcKg-",
  ExitActive: "RI6Chi7gF-s-",
  Down: "U7gwOwC0auU-",
  BackgroundAnimation: "ELqxp2DLKF8-",
  "ItemFocusAnim-darkerGrey-nocolor": "o0VXPmdxuUc-",
  "ItemFocusAnim-grey": "_7kx878X5F4U-",
  "ItemFocusAnim-translucent-white-10": "_47U-YjIajBc-",
  "ItemFocusAnim-translucent-white-20": "T7MuEoxoS4g-",
  "ItemFocusAnimBorder-darkGrey": "rEWG7AndCQc-",
  "ItemFocusAnim-green": "FMEBbK-Sl-8-",
  focusAnimation: "_08jd-D3p5XU-",
  hoverAnimation: "P1X-i3YFXCU-",
};
var it = b(H()),
  lp = be.createContext(null);
function QC(t) {
  let e = be.useContext(lp),
    o = ju().IN_VR,
    { title: a, icon: _, active: i, ...r } = t;
  return (0, it.jsxs)(F, {
    preferredFocus: i,
    navRef: i && e ? e : void 0,
    noFocusRing: !0,
    onActivate: o ? void 0 : r.onClick,
    onFocus: o ? void 0 : r.onClick,
    ...r,
    children: [
      _ && (0, it.jsx)("div", { className: jt.PageListItem_Icon, children: _ }),
      (0, it.jsx)("div", { className: jt.PageListItem_Title, children: a }),
    ],
  });
}
function XC(t) {
  return (0, it.jsx)("div", { className: jt.Separator });
}
var $C = be.forwardRef(function (e, n) {
  let { page: o, bAutoFocusPageContent: a, showTitle: _ = !1 } = e,
    i = be.useRef(null),
    r = be.useRef(!0);
  be.useEffect(() => {
    (!r.current || !a) && i.current?.TakeFocus(), (r.current = !1);
  }, [o, a]);
  let u = (s, l, m) =>
    (0, it.jsx)(ZC, {
      pages: e.pages,
      activePage: s,
      refForPage: l,
      PageComponent: m,
    });
  return (0, it.jsx)(lp.Provider, {
    value: i,
    children: (0, it.jsx)(Yc, {
      ...e,
      stylesheet: jt,
      showTitle: _,
      PageListItemComponent: QC,
      PageListSeparatorComponent: XC,
      renderPageContent: e.renderPageContent || u,
    }),
  });
});
function ZC(t) {
  let { pages: e, activePage: n, refForPage: o, PageComponent: a } = t,
    _ = be.useMemo(() => e.findIndex((s) => s == n), [e, n]),
    i = eh(_),
    r = th(n?.identifier, o),
    u = bp(jt, i);
  return (0, it.jsx)(t_, {
    childrenKey: n?.identifier,
    childrenClasses: n_(jt, jt.ContentTransition),
    directionClass: u,
    animate: i != 0,
    children:
      n &&
      (0, it.jsx)(
        a,
        { ref: r(n.identifier), stylesheet: jt, activePage: n },
        n.identifier,
      ),
  });
}
function eh(t) {
  let e = be.useRef(t),
    n = be.useRef(0),
    o = e.current;
  if (o == t) return n.current;
  let a = 0;
  return (
    o < t ? (a = 4) : o > t && (a = 3), (e.current = t), (n.current = a), a
  );
}
function th(t, e) {
  let n = be.useMemo(() => new Map(), []),
    o = be.useRef();
  o.current = t;
  let a = be.useRef();
  a.current = e;
  let _ = be.useCallback(
    (i) => (r) => {
      n.set(i, r), i === o.current && rn(a.current, r);
    },
    [n],
  );
  return (
    be.useEffect(() => (rn(e, t && n.get(t)), () => rn(e, void 0)), [n, t, e]),
    _
  );
}
var cp = b(H()),
  cB = mp.forwardRef(function (e, n) {
    return (0, cp.jsx)(Ln, {
      noFocusRing: !0,
      ...e,
      ref: n,
      className: h(M.BasicTextInput, e.className),
      size: e.size ?? 1,
    });
  });
var dp = b(w());
var Hp = {
  "duration-app-launch": "800ms",
  DropDownControlButton: "SN62O1Nd2Uc-",
};
var Ge = b(H());
function yp(t, e) {
  for (let n of t.options)
    if ((Ot(n) && n.data === e) || (ht(n) && yp(n, e))) return !0;
  return !1;
}
function mr(t) {
  let e = (n) =>
    n?.map((o, a) =>
      hn(o)
        ? (0, Ge.jsx)(is, {}, a)
        : Ot(o)
          ? (0, Ge.jsx)(
              On,
              {
                onSelected: (_) => t.onValueSelected && t.onValueSelected(_, o),
                selected: t.selectedValue === o.data,
                children: (0, Ge.jsx)(Ge.Fragment, { children: o.label }),
              },
              a,
            )
          : ht(o)
            ? (0, Ge.jsx)(
                rs,
                {
                  label: o.label,
                  selectedWithin: yp(o, t.selectedValue),
                  children: e(o.options),
                },
                a,
              )
            : null,
    );
  return (0, Ge.jsx)(mo, { onCancel: t.onCancel, children: e(t.rgOptions) });
}
var nh = dp.forwardRef(function (e, n) {
  return (0, Ge.jsx)(Je, {
    className: h(Hp.DropDownControlButton, e.className),
    focusable: e.focusable,
    disabled: e.disabled,
    onClick: e.onClick,
    tabIndex: e.tabIndex,
    ref: n,
    children: (0, Ge.jsxs)("div", {
      className: M.DropDownControlButtonContents,
      children: [
        (0, Ge.jsx)("div", {
          className: "DialogDropDown_CurrentDisplay",
          children: e.children,
        }),
        (0, Ge.jsx)(po, { direction: "down" }),
      ],
    }),
  });
});
var kt = b(w());
var gp = "TW2ZQnLvgIc-";
var Sn = b(H()),
  xB = kt.forwardRef(function (e, n) {
    let { className: o, ...a } = e,
      _ = kt.useRef(),
      i = Le(n, _),
      [r, u] = kt.useState(!1),
      s = kt.useCallback(() => {
        u((l) => !l), window.setTimeout(() => _.current?.Focus(), 1);
      }, []);
    return (0, Sn.jsx)(F, {
      className: o,
      onOptionsButton: s,
      onOptionsActionDescription: z(
        r ? "#Login_HidePassword" : "#Login_ShowPassword",
      ),
      children: (0, Sn.jsx)(Cn, {
        autoComplete: "off",
        ref: i,
        inlineControls: (0, Sn.jsx)(Je, {
          className: gp,
          onPointerDown: s,
          onOKButton: s,
          children: r ? (0, Sn.jsx)(ps, {}) : (0, Sn.jsx)(Hs, {}),
        }),
        ...a,
        type: r ? "text" : "password",
      }),
    });
  });
function _h(t) {
  let e = t.split(".");
  if (e.length > 4) return !1;
  for (let n = 0; n < e.length; n++) {
    let o = e[n];
    if (o == "") {
      if (n == e.length - 1) continue;
      return !1;
    }
    if (!/^[0-9]*$/.test(o)) return !1;
    let a = parseInt(o);
    if (!(a >= 0 && a <= 255)) return !1;
  }
  return !0;
}
var TB = kt.forwardRef(function (e, n) {
  let { className: o, value: a, ..._ } = e,
    i = a ?? "";
  return (0, Sn.jsx)(op, {
    autoComplete: "off",
    value: i,
    ref: n,
    placeholder: "   .   .   .   ",
    ..._,
    onChange: (u) => {
      let s = u.target.value;
      if (_h(s)) _.onChange && _.onChange(u);
      else {
        u.target.value = i;
        return;
      }
    },
  });
});
var xe = b(w());
var L = {
  "duration-app-launch": "800ms",
  "error-shake-duration": "500ms",
  SliderControlPanelGroup: "S4m6S4lbgWU-",
  SliderControlAndNotches: "TSGeP5nQ2eE-",
  WithDefaultValue: "bMn8P19ST3I-",
  SliderControl: "-sSi0mqDQEc-",
  Disabled: "gX0ZSjUXBoI-",
  SliderTrack: "JcZPqsmZCrs-",
  SliderHasNotches: "_99yc6l0bUM8-",
  DefaultValueIsColorRange: "R2grr9aqjqU-",
  DefaultValueColorLeft: "_-6vA11qHT8w-",
  DefaultValueColorRight: "m8UQ6Eo-HTQ-",
  SliderTrackDark: "OfeMaDvhS4M-",
  SliderHandleContainer: "gEzroWiQ10A-",
  VerticalLineSliderHandleContainer: "_3ppdnVE1H3A-",
  ParenSliderHandleContainer: "_1Iz6XvWonug-",
  SliderHandle: "aTE6aUB0R0c-",
  SliderHandleFocusPop: "SknjTtzI4lo-",
  VerticalLineSliderHandle: "Bo42-AtikgY-",
  ParenSliderHandle: "_9YeVS-YAFPA-",
  Left: "FXMelMR3PWk-",
  Icon: "cqcpHpjo8zI-",
  SliderNotchContainer: "PUlK4jhI1LI-",
  SliderNotch: "egqaF5PBrnM-",
  AlignToEnds: "M9-w5yPyef8-",
  SliderNotchLabel: "VxQ-bQawiuo-",
  AlignToLeft: "_3gVMVUrVouE-",
  AlignToRight: "V-7czEj9CP8-",
  SliderNotchTick: "e84hOS74IEE-",
  TickActive: "Q-OxmMuerTg-",
  LabelText: "G7nK2YgP-s0-",
  DescriptionValue: "_9DahJpVzGWQ-",
  EditableValue: "hDOGbd8g268-",
  FakeEditableValue: "CDypuWjk2cI-",
  RedBorder: "CXJDXvghByw-",
  ErrorShake: "u7OFkUkvl4Q-",
  "error-shake": "pDBWpRO7L-A-",
  CompoundSlider: "pkpACrKtYxg-",
  CompoundSliderSubSlider: "bVo2ux2WBZg-",
  Right: "eAR6MDPFR6A-",
  CompoundSliderSubSliderLabelContainer: "-Kf-ENxw6Fc-",
  CompoundSliderSubSliderLabelPositioner: "SHWtMAO6Ovs-",
  CompoundSliderSubSliderLabel: "_7d0MjH6VujQ-",
  CompoundSliderSubSliderLabelInternal: "p5Dnr3ULfG8-",
  DefaultValueTickContainer: "_-6ZxRWNF2co-",
  DefaultValueTick: "OGdq5YYrCEk-",
  BackgroundAnimation: "rZZpaXvr8xw-",
  "ItemFocusAnim-darkerGrey-nocolor": "F1Gvr3xtsjQ-",
  "ItemFocusAnim-darkerGrey": "aiPJtdOz5TQ-",
  "ItemFocusAnim-darkGrey": "tDpKQmHutBk-",
  "ItemFocusAnim-grey": "ADELUD39uD4-",
  "ItemFocusAnim-translucent-white-10": "_0Mx6icQvg2A-",
  "ItemFocusAnim-translucent-white-20": "jax3iKWCNi4-",
  "ItemFocusAnimBorder-darkGrey": "kIPtFrURqQk-",
  "ItemFocusAnim-green": "nHBdcYV-iW0-",
};
var q = b(H()),
  ih = 10,
  rh = 1,
  uh = 0.01,
  sh = 0.05,
  nL = Ac(L["error-shake-duration"]);
function Cp(t, e) {
  return e < 0 ? 0 : e > 1 ? 1 : t == 0 ? e : Math.round(e / t) * t;
}
function hp(t, e, n) {
  let o = t + n * (e - t);
  return Number.parseFloat(o.toFixed(10));
}
function pr(t, e, n) {
  return (n - t) / (e - t);
}
var ge = class extends xe.Component {
  m_refSlider = xe.createRef();
  m_refHandle = xe.createRef();
  m_navRefSlider = xe.createRef();
  m_sliderBounds = void 0;
  m_handleBounds = void 0;
  m_fZoom = 1;
  m_eDragMode = 0;
  m_vTouchStartPosition = Su();
  m_fStartValue;
  m_fLatestUserValue;
  m_fLatestOnChangeValue;
  m_bInnerSliderHasFocus = !1;
  m_nRepeatCount = 0;
  m_fInitalRepeatTime = void 0;
  get showHandle() {
    return this.props.showHandle ?? !0;
  }
  get isKeyNavTarget() {
    return this.props.isKeyNavTarget ?? !0;
  }
  get validRange() {
    return this.props.min < this.props.max;
  }
  get range() {
    return this.validRange ? this.props.max - this.props.min : 0;
  }
  get step() {
    return Math.abs(this.props.step ?? rh);
  }
  get normalizedStep() {
    return this.step / this.range;
  }
  get normalizedDpadStep() {
    let e = this.props.dpadStep ?? this.step,
      n = e > 0 ? e / this.range : uh;
    return Math.max(n, this.normalizedStep);
  }
  get normalizedClampedValue() {
    let e =
      this.props.value == null || isNaN(this.props.value)
        ? this.props.min
        : Tn(this.props.value, this.props.min, this.props.max);
    return pr(this.props.min, this.props.max, e);
  }
  get normalizedDefaultValue() {
    let e = this.props.resetValue;
    if (!(e == null || isNaN(e) || e < this.props.min || e > this.props.max))
      return pr(this.props.min, this.props.max, e);
  }
  get normalizedSliderOrigin() {
    let e = Tn(0, this.props.min, this.props.max);
    return pr(this.props.min, this.props.max, e);
  }
  get CanResetToDefault() {
    return (
      this.props.resetValue != null && this.props.value != this.props.resetValue
    );
  }
  get SliderChangeSource() {
    switch (this.m_eDragMode) {
      case 1:
        return 1;
      case 3:
      case 2:
        return 0;
      case 0:
        return;
    }
  }
  constructor(e) {
    super(e),
      (this.m_fStartValue = this.props.value),
      (this.m_fLatestUserValue = this.props.value),
      (this.m_fLatestOnChangeValue = this.props.value);
  }
  RecomputeSliderBounds() {
    (this.m_sliderBounds = this.m_refSlider.current?.getBoundingClientRect()),
      (this.m_handleBounds = this.m_refHandle.current?.getBoundingClientRect());
  }
  SetDragMode(e) {
    if (e != this.m_eDragMode) {
      switch (
        ((this.m_eDragMode = e),
        this.props.onChangeStart &&
          this.props.onChangeStart(this.SliderChangeSource),
        e)
      ) {
        case 1:
        case 3:
        case 2:
          this.RecomputeSliderBounds(),
            (this.m_fStartValue = this.props.value),
            (this.m_fLatestUserValue = this.props.value);
          break;
        case 0:
          break;
      }
      switch (e) {
        case 1:
          this.m_refSlider.current?.ownerDocument?.addEventListener(
            "mousemove",
            this.OnWindowMouseMove,
            { passive: !1 },
          ),
            this.m_refSlider.current?.ownerDocument?.addEventListener(
              "mouseup",
              this.OnWindowMouseUp,
              { passive: !1 },
            );
          break;
        case 2:
        case 3:
          this.m_refSlider.current?.ownerDocument?.addEventListener(
            "touchmove",
            this.OnWindowTouchMove,
            { passive: !1 },
          ),
            this.m_refSlider.current?.ownerDocument?.addEventListener(
              "touchend",
              this.OnWindowTouchEnd,
              { passive: !1 },
            );
          break;
        case 0:
          this.RemoveDocumentEventListeners();
          break;
      }
    }
  }
  OnGamepadDirection(e) {
    if (this.props.disabled) return !1;
    let n = 0;
    if (e.detail.button == 11) n = -1;
    else if (e.detail.button == 12) n = 1;
    else return !1;
    e.detail.is_repeat
      ? (this.m_nRepeatCount == 0 &&
          (this.m_fInitalRepeatTime = performance.now()),
        this.m_nRepeatCount++)
      : ((this.m_nRepeatCount = 0),
        (this.m_fInitalRepeatTime = performance.now()));
    let o = performance.now() - this.m_fInitalRepeatTime,
      a = nu(o, 0, 2e3, 500, 250),
      _ = Math.pow(2, Math.floor(o / a)),
      i = this.normalizedDpadStep * _,
      r = Tn(i, this.normalizedDpadStep, sh) * n,
      u = Cp(this.normalizedStep, this.normalizedClampedValue + r),
      s = hp(this.props.min, this.props.max, u);
    if (
      ((s = Tn(
        s,
        this.props.clampMin ?? this.props.min,
        this.props.clampMax ?? this.props.max,
      )),
      s != this.props.value)
    ) {
      let l = s > this.m_fLatestUserValue;
      Ee.PlayNavSound(l ? 18 : 19),
        (this.m_fLatestUserValue = s),
        this.FireOnChange(s, 2);
    } else Ee.PlayNavSound(25);
    return !0;
  }
  FireOnChange(e, n) {
    this.m_fLatestOnChangeValue != e &&
      ((this.m_fLatestOnChangeValue = e),
      this.props.onChange && this.props.onChange(e, n));
  }
  ComputeNormalizedValueForMousePosition(e) {
    if (this.m_sliderBounds == null) return 0;
    let n = e / this.m_fZoom,
      o = this.m_sliderBounds.right - this.m_sliderBounds.left,
      a =
        this.m_handleBounds == null
          ? 0
          : this.m_handleBounds.right - this.m_handleBounds.left,
      _ = o - a;
    return (n - this.m_sliderBounds.left - a / 2) / _;
  }
  BShouldTriggerHapticOnSnap() {
    let e = this.normalizedStep;
    return e > 0 && e >= 1 / 40;
  }
  PlayHaptic(e) {
    this.m_refSlider.current?.ownerDocument.defaultView?.SteamClient?.OpenVR?.TriggerOverlayHapticEffect?.(
      e,
      0,
    );
  }
  UpdateSliderValueForPosition(e) {
    if (this.props.disabled || !this.m_refSlider.current) return;
    let n = this.ComputeNormalizedValueForMousePosition(e),
      o = Cp(this.normalizedStep, n),
      a = hp(this.props.min, this.props.max, o),
      _ = this.props.clampMin ?? this.props.min,
      i = this.props.clampMax ?? this.props.max;
    if (((a = Tn(a, _, i)), a != this.props.value)) {
      let r = a > this.props.value,
        u = this.step == 0;
      if (
        ((this.m_eDragMode == 0 || !u) && Ee.PlayNavSound(r ? 18 : 19),
        this.m_eDragMode == 1 || this.m_eDragMode == 3)
      ) {
        let l = !1;
        if (
          (a == _ || a == i) &&
          this.m_fLatestUserValue > _ &&
          this.m_fLatestUserValue < i &&
          !l
        )
          this.PlayHaptic(5), (l = !0);
        else if (
          !this.BShouldTriggerHapticOnSnap() &&
          this.m_fLatestUserValue >= _ &&
          this.m_fLatestUserValue <= i
        ) {
          let d = Math.floor(((this.m_fLatestUserValue - _) / (i - _)) * 40),
            g = Math.floor(((a - _) / (i - _)) * 40);
          d != g && !l && (this.PlayHaptic(4), (l = !0));
        }
        !u && !l && (this.PlayHaptic(3), (l = !0));
      }
      (this.m_fLatestUserValue = a),
        this.FireOnChange(a, this.SliderChangeSource);
    }
  }
  OnWindowMouseMove(e) {
    this.UpdateSliderValueForPosition(e.clientX);
  }
  OnWindowMouseUp(e) {
    this.m_eDragMode != 0 && this.Complete();
  }
  OnMouseDown(e) {
    e.button == 0 &&
      (this.props.disabled ||
        (e.preventDefault(),
        this.SetDragMode(1),
        this.UpdateSliderValueForPosition(e.clientX)));
  }
  OnTouchStart(e) {
    if (this.props.disabled || e.touches.length != 1) return;
    e.preventDefault();
    let n = this.ComputeNormalizedValueForMousePosition(e.touches[0].clientX);
    n < 0 ||
      n > 1 ||
      (this.SetDragMode(2),
      (this.m_vTouchStartPosition = {
        x: e.touches[0].clientX,
        y: e.touches[0].clientY,
      }));
  }
  OnWindowTouchMove(e) {
    if (e.touches.length == 1) {
      switch (this.m_eDragMode) {
        case 2:
          let n = { x: e.touches[0].clientX, y: e.touches[0].clientY };
          if (Pu(this.m_vTouchStartPosition, n) >= ih) {
            let a = Ru(this.m_vTouchStartPosition, n);
            Math.abs(a.x) > Math.abs(a.y)
              ? (this.SetDragMode(3), this.m_refSlider.current?.focus())
              : this.SetDragMode(0);
          }
          break;
        case 3:
          this.UpdateSliderValueForPosition(e.touches[0].clientX);
          break;
      }
      e.preventDefault();
    }
  }
  OnWindowTouchEnd(e) {
    this.m_eDragMode != 0 && this.Complete();
  }
  Complete() {
    let e = this.m_eDragMode != 0;
    this.FireOnChange(this.m_fLatestUserValue, this.SliderChangeSource),
      this.props.onChangeComplete &&
        this.props.onChangeComplete(
          this.m_fLatestUserValue,
          this.SliderChangeSource,
        ),
      this.SetDragMode(0);
    let n = this.step == 0;
    if (this.m_fLatestUserValue != this.m_fStartValue && n && e) {
      let a = this.m_fLatestUserValue > this.m_fStartValue;
      Ee.PlayNavSound(a ? 18 : 19);
    }
  }
  RemoveDocumentEventListeners() {
    this.m_refSlider.current?.ownerDocument?.removeEventListener(
      "mousemove",
      this.OnWindowMouseMove,
    ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "touchmove",
        this.OnWindowTouchMove,
      ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "mouseup",
        this.OnWindowMouseUp,
      ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "touchend",
        this.OnWindowTouchEnd,
      );
  }
  componentDidMount() {
    this.m_fZoom = hu(this.m_refSlider.current);
  }
  componentWillUnmount() {
    this.RemoveDocumentEventListeners();
  }
  BlurInnerSlider() {
    this.m_navRefSlider.current?.ParentTakeFocus();
  }
  OnInnerSliderFocus() {
    (this.m_bInnerSliderHasFocus = !0), (this.m_fStartValue = this.props.value);
  }
  OnInnerSliderBlur() {
    (this.m_bInnerSliderHasFocus = !1),
      this.m_fStartValue != this.m_fLatestUserValue && this.Complete();
  }
  ResetToDefault() {
    if (!this.CanResetToDefault || this.m_eDragMode != 0) return;
    let e;
    (this.m_fLatestUserValue = this.props.resetValue),
      this.FireOnChange(this.props.resetValue, 4),
      this.m_bInnerSliderHasFocus
        ? (e = this.props.resetValue > this.m_fLatestUserValue)
        : ((e = this.props.resetValue > this.props.value),
          this.props.onChangeComplete &&
            this.props.onChangeComplete(this.props.resetValue, 4)),
      Ee.PlayNavSound(e ? 18 : 19);
  }
  OnContextMenu(e) {
    if (this.props.resetValue != null) {
      let n = (0, q.jsx)(mo, {
        children: (0, q.jsx)(On, {
          disabled: !this.CanResetToDefault,
          onSelected: this.ResetToDefault,
          children: z("#ResetToDefault"),
        }),
      });
      co(n, e);
    }
  }
  render() {
    let e = this.props.showBookendLabels ?? !1,
      n = this.props.notchTicksVisible ?? !e,
      o = e ? 2 : this.props.notchCount,
      a = [
        { notchIndex: 0, label: `${this.props.min}` },
        { notchIndex: 1, label: `${this.props.max}` },
      ],
      _ = e ? a : this.props.notchLabels,
      i = this.props.focusable ?? !0,
      r = this.normalizedDefaultValue,
      u = this.normalizedSliderOrigin,
      s = r != null,
      l = this.props.resetValueAppearance ?? "top-caret",
      m = l == "top-caret",
      d = !m,
      g = {};
    this.CanResetToDefault && (g[3] = z("#ResetToDefault"));
    let v = `${L.SliderHandle} SliderHandle`,
      P = `${L.SliderHandleContainer} SliderHandleContainer `;
    return (
      this.props.handleType == "verticalline"
        ? ((v = `${L.VerticalLineSliderHandle} SliderHandle`),
          (P = `${L.VerticalLineSliderHandleContainer} SliderHandleContainer `))
        : (this.props.handleType == "leftparen" ||
            this.props.handleType == "rightparen") &&
          ((v = h(
            L.ParenSliderHandle,
            this.props.handleType == "leftparen" ? L.Left : L.Right,
            "SliderHandle",
          )),
          (P = h(
            L.ParenSliderHandleContainer,
            this.props.handleType == "leftparen" ? L.Left : L.Right,
            "SliderHandleContainer",
          ))),
      (0, q.jsx)(Ts, {
        noFocusRing: !0,
        className: h(
          L.SliderControlPanelGroup,
          "SliderControlPanelGroup",
          this.props.className,
        ),
        navRef: this.props.navRef,
        onMouseDown: (E) => this.OnMouseDown(E.nativeEvent),
        onTouchStart: (E) => this.OnTouchStart(E.nativeEvent),
        onOKActionDescription: this.props.disabled
          ? null
          : z("#Slider_AdjustSlider"),
        focusable: i,
        childFocusDisabled: this.props.disabled || !i,
        onContextMenu: this.OnContextMenu,
        onOKButton: this.props.disabled ? () => Ee.PlayNavSound(25) : void 0,
        onSecondaryButton: this.CanResetToDefault
          ? this.ResetToDefault
          : void 0,
        onSecondaryActionDescription: this.CanResetToDefault
          ? z("#ResetToDefault")
          : void 0,
        actionDescriptionMap: g,
        children: (0, q.jsxs)(Mt, {
          className: h(
            L.SliderControlAndNotches,
            this.props.disabled && L.Disabled,
            s && L.WithDefaultValue,
            s && d && L.DefaultValueIsColorRange,
            s && d && l.side == "left" && L.DefaultValueColorLeft,
            s && d && l.side != "left" && L.DefaultValueColorRight,
          ),
          focusable: this.isKeyNavTarget,
          noFocusRing: !0,
          onFocus: this.OnInnerSliderFocus,
          onBlur: this.OnInnerSliderBlur,
          style: {
            "--normalized-slider-value": this.normalizedClampedValue,
            "--normalized-slider-default-value": r,
            "--normalized-slider-origin": u,
            "--default-value-track-color": d ? l.trackForegroundColor : void 0,
            "--slider-extra-notch-padding":
              this.props.extraNotchPadding ?? "0px",
          },
          ref: na(this.m_refSlider, this.props.innerRef),
          navRef: this.m_navRefSlider,
          onGamepadDirection: this.OnGamepadDirection,
          onOKButton: this.BlurInnerSlider,
          onOKActionDescription: null,
          onCancelButton: this.BlurInnerSlider,
          onCancelActionDescription: z("#ActionButtonLabelDone"),
          children: [
            (0, q.jsxs)("div", {
              className: h(L.SliderControl, "SliderControl"),
              children: [
                (0, q.jsx)("div", {
                  className: h(
                    L.SliderTrack,
                    this.props.notchCount != null && n && L.SliderHasNotches,
                    { [L.SliderTrackDark]: this.props.trackTone === "dark" },
                    "SliderTrack",
                  ),
                }),
                s &&
                  m &&
                  (0, q.jsx)("div", {
                    className: L.DefaultValueTickContainer,
                    children: (0, q.jsx)("div", {
                      className: L.DefaultValueTick,
                      children: (0, q.jsx)(po, { direction: "down" }),
                    }),
                  }),
                this.validRange &&
                  this.props.value != null &&
                  !isNaN(this.props.value) &&
                  this.showHandle &&
                  (0, q.jsx)("div", {
                    className: P,
                    children: (0, q.jsxs)("div", {
                      className: v,
                      ref: this.m_refHandle,
                      children: [
                        this.props.handleType == "leftparen" &&
                          (0, q.jsx)(ds, {}),
                        this.props.handleType == "rightparen" &&
                          (0, q.jsx)(ys, {}),
                      ],
                    }),
                  }),
              ],
            }),
            (0, q.jsx)(bh, {
              notchCount: o,
              notchLabels: _,
              sliderValue: this.normalizedClampedValue,
              notchTicksVisible: n,
              renderNotch: this.props.renderNotch,
            }),
          ],
        }),
      })
    );
  }
};
p([y], ge.prototype, "RecomputeSliderBounds", 1),
  p([y], ge.prototype, "SetDragMode", 1),
  p([y], ge.prototype, "OnGamepadDirection", 1),
  p([y], ge.prototype, "UpdateSliderValueForPosition", 1),
  p([y], ge.prototype, "OnWindowMouseMove", 1),
  p([y], ge.prototype, "OnWindowMouseUp", 1),
  p([y], ge.prototype, "OnMouseDown", 1),
  p([y], ge.prototype, "OnTouchStart", 1),
  p([y], ge.prototype, "OnWindowTouchMove", 1),
  p([y], ge.prototype, "OnWindowTouchEnd", 1),
  p([y], ge.prototype, "Complete", 1),
  p([y], ge.prototype, "BlurInnerSlider", 1),
  p([y], ge.prototype, "OnInnerSliderFocus", 1),
  p([y], ge.prototype, "OnInnerSliderBlur", 1),
  p([y], ge.prototype, "ResetToDefault", 1),
  p([y], ge.prototype, "OnContextMenu", 1);
function bh(t) {
  let {
      sliderValue: e,
      notchCount: n,
      notchLabels: o,
      notchTicksVisible: a,
      renderNotch: _,
    } = t,
    i = o ?? [];
  if (!n) return null;
  let r = !1,
    u = [];
  for (let s = 0; s < n; ++s) {
    let l = i.find((m) => m.notchIndex == s);
    l && (r = !0),
      u.push(
        (0, q.jsx)(
          lh,
          {
            notchIndex: s,
            sliderValue: e,
            notchLabel: l,
            notchCount: n,
            notchTicksVisible: a,
            renderNotch: _,
          },
          s,
        ),
      );
  }
  return (0, q.jsx)(F, { className: h(L.SliderNotchContainer), children: u });
}
function lh(t) {
  let e = t.notchIndex <= (t.notchCount - 1) * t.sliderValue,
    n = t.notchCount <= 3 && !t.notchTicksVisible,
    o = n && t.notchIndex == 0,
    a = n && t.notchIndex == t.notchCount - 1,
    _ = { ...t, alignLeftEnd: o, alignRightEnd: a, active: e };
  return (0, q.jsx)("div", {
    className: h(L.SliderNotch, n && L.AlignToEnds),
    children: t.renderNotch ? t.renderNotch(_) : (0, q.jsx)(mh, { ..._ }),
  });
}
function mh(t) {
  let { alignLeftEnd: e, alignRightEnd: n, active: o } = t;
  return (0, q.jsxs)(q.Fragment, {
    children: [
      t.notchTicksVisible &&
        (0, q.jsx)("div", {
          className: h(L.SliderNotchTick, o && L.TickActive),
        }),
      t.notchLabel &&
        (0, q.jsx)("div", {
          className: h(
            L.SliderNotchLabel,
            e && L.AlignToLeft,
            n && L.AlignToRight,
          ),
          children: t.notchLabel?.label,
        }),
    ],
  });
}
var oL = xe.forwardRef(function (e, n) {
  let {
    label: o,
    labelIndex: a,
    xOffset: _,
    onResize: i,
    OnMouseDown: r,
    OnTouchStart: u,
  } = e;
  xe.useEffect(() => {
    i(a);
  }, [i, a]);
  let s = xe.useCallback(
      (d) => {
        i(a);
      },
      [i, a],
    ),
    l = _s(s),
    m = Le(l, n);
  return (0, q.jsx)("div", {
    className: L.CompoundSliderSubSliderLabel,
    ref: m,
    onMouseDown: r,
    onTouchStart: u,
    style: { transform: `translateX(${_}px)` },
    children: (0, q.jsx)("div", {
      className: L.CompoundSliderSubSliderLabelInternal,
      children: o,
    }),
  });
});
var fp = b(w());
var Rn = b(H()),
  pp = fp.forwardRef(function (e, n) {
    let {
        value: o,
        onChange: a,
        disabled: _,
        className: i,
        focusable: r,
        children: u,
        navRef: s,
      } = e,
      l = () => {
        if (!_ && a) {
          let m = !o;
          a(m), Ee.PlayNavSound(m ? 16 : 17);
        }
      };
    return (0, Rn.jsxs)(Mt, {
      noFocusRing: !0,
      className: h(i, M.Toggle, { [M.Disabled]: !!_, [M.On]: !!o }),
      onClick: l,
      ref: n,
      navRef: s,
      focusable: r,
      children: [
        (0, Rn.jsx)("div", { className: M.ToggleRail }),
        (0, Rn.jsx)("div", { className: M.ToggleSwitch }),
        u,
      ],
    });
  }),
  o_ = class extends nn {
    OnToggleChange(e) {
      !this.props.disabled && e !== this.checked && this.Toggle();
    }
    render() {
      let e = !!this.props.disabled,
        { actionDescriptions: n, gamepadEvents: o } = Lu(this.props);
      return (0, Rn.jsx)(eo, {
        className: this.props.className,
        disabled: e,
        label: this.props.label,
        icon: this.props.icon,
        description: this.props.description,
        explainer: this.props.explainer,
        explainerTitle: this.props.explainerTitle,
        padding: this.props.padding,
        bottomSeparator: this.props.bottomSeparator,
        highlightOnFocus: this.props.highlightOnFocus,
        inlineWrap: "keep-inline",
        onContextMenu: this.props.onContextMenu,
        actionDescriptionMap: n,
        onClick: this.props.onClick,
        indentLevel: this.props.indentLevel,
        ...o,
        children: (0, Rn.jsx)(pp, {
          onChange: this.OnToggleChange,
          value: this.checked,
          disabled: e,
          navRef: this.props.navRef,
        }),
      });
    }
  };
p([y], o_.prototype, "OnToggleChange", 1);
var Hr = b(H());
function cr(t) {
  let { children: e, bCenterVertically: n, refElem: o, ...a } = t,
    _ = h(
      M.GamepadDialogContent,
      "DialogContent _DialogLayout",
      t.className,
      n && " _DialogCenterVertically",
    ),
    { ref: i, navRef: r } = xs(),
    u = Le(o, i);
  return (0, Hr.jsx)(F, {
    ...a,
    className: _,
    ref: u,
    navRef: r,
    children: (0, Hr.jsx)(F, {
      className: h(
        M.GamepadDialogContent_InnerWidth,
        "DialogContent_InnerWidth",
      ),
      children: e,
    }),
  });
}
var qo = b(w());
var _o = b(H());
function vp() {
  return qo.useMemo(() => ch(), []);
}
function ch() {
  return function (e) {
    let {
        refNavTree: n,
        className: o,
        active: a,
        children: _,
        modalKey: i,
      } = e,
      r = qo.useRef(null);
    Ou(r, a, !0);
    let u = Le(r, n);
    return (0, _o.jsx)(zu, {
      className: o,
      navTreeRef: u,
      modal: !0,
      enabled: a,
      navID: `ModalDialogOverlay_${i}`,
      children: _,
    });
  };
}
function ph(t) {
  let {
      className: e,
      onEscKeypress: n,
      padding: o = "standard",
      bGamepadUIScrollWithin: a,
      children: _,
    } = t,
    i = h(
      M.ModalPosition,
      o == "standard" && M.WithStandardPadding,
      a && M.ScrollWithin,
      e,
    );
  return (0, _o.jsx)(F, {
    className: i,
    onCancelButton: n,
    focusableIfNoChildren: !0,
    children: (0, _o.jsx)(ra, { children: (0, _o.jsx)(he, { children: _ }) }),
  });
}
function kp(t) {
  let e = qo.useMemo(() => ({ ModalPosition: ph }), []);
  return (0, _o.jsx)(zi.Provider, { value: e, children: t.children });
}
var a_ = b(H());
function dr(t) {
  let e = vp(),
    n = wp.useMemo(() => ({ DropDownMenu: mr, Content: cr }), []);
  return (0, a_.jsx)($n.Provider, {
    value: n,
    children: (0, a_.jsx)(kp, {
      children: (0, a_.jsx)(Qn, {
        ...t,
        bUseDialogElement: !1,
        DialogWrapper: e,
        ContextMenuComponent: Mc,
      }),
    }),
  });
}
var yr = b(H());
function Sp(t) {
  let e = lt(),
    n = { bRenderOverlayAtRoot: !0, bUsePopups: !1, ...t };
  return e ? (0, yr.jsx)(dr, { ...n }) : (0, yr.jsx)(Qn, { ...n });
}
var Fp = b(bt(), 1);
var Rp = "/RDNVLABA.png";
var Pp = "/QQGETVBA.png";
var Mp = "/MVIQJMBA.png";
var Ap = "/62SHH2CA.png";
var xp = "Ksy4XAVZlM0-";
var Tp = "n2wjqqfVgC4-";
var gr = "osYYItlitxA-";
var Dp = "knntvUEkLRg-";
var zp = "_1ToiOSH69g8-";
var Bp = "s6DTWBl90Rc-";
var Lp = "UnRkTYm5fo0-";
var Ep = "ftmxCcsknb4-";
var Np = "byvXpNiaYrs-";
var Op = "y9kERlobJ88-";
var Ip = "Hf0BSchKz6g-";
var R = b(H(), 1);
function $e() {
  return (0, R.jsx)("span", {
    "aria-hidden": "true",
    className: Op,
    children: "|",
  });
}
function jp(t) {
  return (0, R.jsx)("footer", {
    className: (0, Fp.default)(xp, t.className, !io.logged_in && Tp),
    children: (0, R.jsxs)("div", {
      className: Dp,
      children: [
        (0, R.jsx)("hr", {}),
        (0, R.jsxs)("div", {
          className: zp,
          children: [
            (0, R.jsx)(x, {
              className: Lp,
              to: "https://www.valvesoftware.com",
              openInNewWindow: !0,
              children: (0, R.jsx)("img", {
                src: Rt(Ap),
                alt: "Valve Software",
              }),
            }),
            (0, R.jsxs)("div", {
              className: Bp,
              children: [
                (0, R.jsx)("div", {
                  children: Pe.Localize(
                    "#footer_legal_notice",
                    new Date().getFullYear(),
                  ),
                }),
                (0, R.jsxs)("div", {
                  children: [
                    Pe.Localize("#footer_vat_included"),
                    "  ",
                    (0, R.jsx)(x, {
                      openInNewWindow: !0,
                      to: C.STORE_BASE_URL + "privacy_agreement/",
                      children: Pe.Localize("#footer_privacy_policy"),
                    }),
                    (0, R.jsx)($e, {}),
                    (0, R.jsx)(x, {
                      openInNewWindow: !0,
                      to: C.STORE_BASE_URL + "legal/",
                      children: Pe.Localize("#footer_legal"),
                    }),
                    (0, R.jsx)($e, {}),
                    (0, R.jsx)(x, {
                      openInNewWindow: !0,
                      to: C.STORE_BASE_URL + "subscriber_agreement/",
                      children: Pe.Localize("#footer_ssa"),
                    }),
                    (0, R.jsx)($e, {}),
                    (0, R.jsx)(x, {
                      openInNewWindow: !0,
                      to: C.STORE_BASE_URL + "steam_refunds/",
                      children: Pe.Localize("#footer_refunds"),
                    }),
                    (0, R.jsx)($e, {}),
                    (0, R.jsx)(x, {
                      openInNewWindow: !0,
                      to: C.STORE_BASE_URL + "account/cookiepreferences/",
                      children: Pe.Localize("#footer_cookies"),
                    }),
                  ],
                }),
              ],
            }),
            (0, R.jsx)("div", {
              className: Ep,
              children: (0, R.jsx)("img", {
                src: Rt(Mp),
                alt: "Valve Software",
              }),
            }),
          ],
        }),
        Wn() &&
          (0, R.jsx)("div", {
            className: Np,
            children: (0, R.jsx)("button", {
              onClick: Yl,
              children: U.Localize("#global_menu_view_mobile_website"),
            }),
          }),
        (0, R.jsx)("hr", {}),
        (0, R.jsxs)("div", {
          className: Ip,
          children: [
            (0, R.jsx)(x, {
              openInNewWindow: !0,
              to: "https://www.valvesoftware.com/about",
              children: Pe.Localize("#footer_about_valve"),
            }),
            (0, R.jsx)($e, {}),
            (0, R.jsx)(x, {
              openInNewWindow: !0,
              to: "http://www.valvesoftware.com",
              children: Pe.Localize("#footer_jobs"),
            }),
            (0, R.jsx)($e, {}),
            (0, R.jsx)(x, {
              openInNewWindow: !0,
              to: "http://www.steampowered.com/steamworks/",
              children: Pe.Localize("#footer_steamworks"),
            }),
            (0, R.jsx)($e, {}),
            (0, R.jsx)(x, {
              openInNewWindow: !0,
              to: C.PARTNER_BASE_URL + "steamdirect",
              children: Pe.Localize("#footer_steam_distribution"),
            }),
            (0, R.jsx)($e, {}),
            (0, R.jsx)(x, {
              external: !0,
              to: C.HELP_BASE_URL + zn().strISOCode + "/",
              children: Pe.Localize("#footer_nav_help_support"),
            }),
            (0, R.jsx)($e, {}),
            C.COUNTRY === "US" &&
              (0, R.jsxs)(R.Fragment, {
                children: [
                  (0, R.jsx)(x, {
                    snr: !0,
                    external: !0,
                    to: C.STORE_BASE_URL + "hardware_recycling/",
                    children: Pe.Localize("#footer_recycling"),
                  }),
                  (0, R.jsx)($e, {}),
                ],
              }),
            !st(C.EREALM) &&
              (0, R.jsxs)(R.Fragment, {
                children: [
                  (0, R.jsx)(x, {
                    snr: !0,
                    external: !0,
                    to: C.STORE_BASE_URL + "digitalgiftcards/",
                    children: Pe.Localize("#footer_walletcode"),
                  }),
                  (0, R.jsx)($e, {}),
                  (0, R.jsxs)(x, {
                    openInNewWindow: !0,
                    to: "http://www.facebook.com/Steam",
                    children: [
                      (0, R.jsx)("img", {
                        src: Rt(Rp),
                        alt: "Facebook",
                        className: gr,
                      }),
                      " Steam",
                    ],
                  }),
                  (0, R.jsx)($e, {}),
                  (0, R.jsxs)(x, {
                    openInNewWindow: !0,
                    to: "http://twitter.com/steam",
                    children: [
                      (0, R.jsx)("img", {
                        src: Rt(Pp),
                        alt: "X",
                        className: gr,
                      }),
                      " @steam",
                    ],
                  }),
                ],
              }),
          ],
        }),
        t.children,
      ],
    }),
  });
}
var rt = {
  LoadingIndicator: "YCAfbWkeMBk-",
  loadingBarAnim: "Sszr8hrC6Ks-",
  Root: "gQWgnAxVrOM-",
  StoreBody: "VuAIAiWhjcg-",
  StoreBodyContainer: "khI3dKnN9c8-",
  Scrollable: "o5zcnn2HXfA-",
  Header: "bp0Pu4TVwpI-",
  StoreContent: "GHIW6-Wf1rQ-",
  InternalOptions: "r4HLvRr97Ps-",
  Text: "_75hRa6m6-oI-",
};
var Gp = "qxuaSNtrNvE-";
var Up = "v2uRRqcZpzM-";
var Ko = "_-4fVuiRLPho-";
var Vp = "ntJcAB2O7Fk-";
var Wp = "egWCUcRU2LI-";
var qp = "CKr-BZNYbas-";
var Kp = "W81NLNRtN-Q-";
var Jp = "WcMLzycTyxU-";
var xn = b(w());
var Yp = "_5de1w948geo-";
var Qp = "khWjubQ0dGo-";
var Xp = "_5f3k46d-01g-";
var $p = "_1qQtew7iByA-";
var Zp = "EmE6VCbTZpg-";
var eH = "ZaHNigq8DMs-";
var tH = "_81NJwJfkZk0-";
var nH = "hkaaZt8UNuI-";
var oH = "HAqr5WS8--A-";
var Cr = "t4MAhM4Zu8g-";
var aH = "TWZyFyBCxSk-";
var _H = "QDANEnXGNEk-";
var iH = "_94ESRgswD8c-";
var rH = "T1edVYE3Tbk-";
var ke = b(w(), 1);
var K = b(su());
var hr = class t extends K.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.recent_apps || ee(t.M()),
        K.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { recent_apps: { n: 1, c: fr, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new K.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData";
    }
  },
  fr = class t extends K.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || ee(t.M()),
        K.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: g_ },
              time_visit: { n: 2, br: k.readFixed32, bw: S.writeFixed32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new K.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData_RecentApps";
    }
  },
  Jo = class t extends K.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), K.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new K.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Request";
    }
  },
  vr = class t extends K.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.visit_data || ee(t.M()),
        K.Message.initialize(this, e, 0, -1, [2], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              visit_data: { n: 1, c: hr },
              frequent_hubs: { n: 2, c: kr, r: !0, q: !0 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new K.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response";
    }
  },
  kr = class t extends K.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || ee(t.M()),
        K.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: g_ },
              time_visit: { n: 2, br: k.readUint32, bw: S.writeUint32 },
              visit_count: { n: 3, br: k.readUint32, bw: S.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = Y(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return X(t.M(), e, n);
    }
    static fromObject(e) {
      return Q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new K.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return $(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      Z(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new K.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response_FrequentHubs";
    }
  },
  wr;
((e) => {
  function t(n, o) {
    return n.SendMsg(
      "UserStoreVisit.GetFrequentlyVisitedPages#1",
      Re(Jo, o),
      vr,
      { bConstMethod: !0, ePrivilege: 1 },
    );
  }
  e.GetFrequentlyVisitedPages = t;
})((wr ||= {}));
var uH = 1 / 0;
function vh(t, e) {
  return {
    queryKey: ["CategoryHubDefinitions", e.language],
    queryFn: () => kh(t, e),
    staleTime: uH,
  };
}
function sH(t, e, n) {
  return {
    queryKey: ["CategoryHubDefinitions", n.language, "MapByID"],
    queryFn: async () => {
      let o = await t.fetchQuery(vh(e, n));
      return new Map(o.map((a) => [a.hubcategoryid, a]));
    },
    staleTime: uH,
  };
}
async function kh(t, e) {
  let n = Ze.Init(lu);
  ma(e, n);
  let o = await mu.GetContentHubConfig(t, n);
  if (!o.BSuccess())
    throw `Error loading category hub definitions: ${o.GetErrorMessage()}`;
  return o.Body().toObject().hubconfigs || [];
}
function Sr() {
  let t = tt(),
    e = mt();
  return _n({
    ...lH(t, e),
    select: (n) => (
      console.log(n),
      n.visit_data?.recent_apps?.map(({ item_id: o }) => o) || []
    ),
  });
}
function bH() {
  let t = $o(),
    e = tt(),
    n = ua(),
    o = In(),
    a = mt();
  return _n(Rr(t, e, n, o, a));
}
function Rr(t, e, n, o, a) {
  return {
    queryKey: ["StoreFrequentlyVisitedHubs", a],
    queryFn: async () => {
      let [_, i] = await Promise.all([
        t.fetchQuery(lH(e, a)),
        t.fetchQuery(sH(t, e, o)),
      ]);
      return (_.frequent_hubs || [])
        .map((u) =>
          u.item_id.hubcategoryid
            ? { ...u, hubconfig: i.get(u.item_id.hubcategoryid) }
            : u.item_id.tagid
              ? { ...u, tagid: u.item_id.tagid }
              : null,
        )
        .filter(
          (u) =>
            u &&
            (("hubconfig" in u && u.hubconfig) || ("tagid" in u && u.tagid)),
        );
    },
    enabled: !!a,
    initialData: a ? void 0 : [],
    staleTime: 1e3 * 60 * 10,
  };
}
function lH(t, e) {
  return {
    queryKey: ["StoreFrequentlyVisited", e],
    queryFn: () => wh(t),
    enabled: !!e,
    staleTime: 1e3 * 60 * 10,
  };
}
async function wh(t) {
  let e = Ze.Init(Jo),
    n = await wr.GetFrequentlyVisitedPages(t, e);
  if (!n.BSuccess()) throw n.GetErrorMessage();
  return n.DEBUG_LogToConsole(), n.Body().toObject();
}
var yH = b(bt(), 1);
var wt = b(w()),
  mH = b(Pt()),
  cH = b(H());
function __(t) {
  let {
      visible: e = !0,
      className: n,
      keepMounted: o = !1,
      expandDirection: a = "height",
      msAnimationDuration: _ = 250,
      children: i,
    } = t,
    { style: r, active: u, refDiv: s } = Sh(e, a, _);
  return !e && !u && !o
    ? null
    : (0, cH.jsx)("div", { className: n, ref: s, style: r, children: i });
}
function Sh(t, e = "height", n = 250) {
  let o = wt.useRef(null),
    a = wt.useRef(!0),
    [_, i] = wt.useState("idle"),
    [r, u] = wt.useState({});
  return (
    wt.useLayoutEffect(() => {
      a.current || i("start");
    }, [t]),
    wt.useLayoutEffect(
      () => (
        (a.current = !1),
        () => {
          a.current = !0;
        }
      ),
      [],
    ),
    wt.useLayoutEffect(() => {
      let l = o.current,
        m = e == "height" ? "scrollHeight" : "scrollWidth",
        d = () => {
          mH.unstable_batchedUpdates(() => {
            u({}), i("idle");
          });
        };
      if (_ == "start") {
        let g = l[m];
        g == 0
          ? d()
          : (u((v) => ({
              [e]: t ? "0px" : `${g}px`,
              ...v,
              overflow: "hidden",
            })),
            i("active"));
      } else if (_ == "active") {
        l.scrollTop;
        let g = l[m];
        return (
          u({ overflow: "hidden", [e]: t ? `${g}px` : "0px" }),
          l.addEventListener("transitionend", d),
          () => {
            l.removeEventListener("transitionend", d);
          }
        );
      }
    }, [_, t]),
    {
      style: { ...r, transition: `${e} ${n}ms` },
      active: _ != "idle",
      refDiv: o,
    }
  );
}
var pH = b(w());
var Pr = b(w());
function HH(t, ...e) {
  let [n, o] = pH.useState([]);
  (0, Pr.useEffect)(() => {
    o((i) =>
      i.length > 0 && ta.ArrayEquals(i[i.length - 1].args, e)
        ? i
        : [...i, { args: e, query: t(...e) }],
    );
  }, [e]);
  let [a, _] = au({
    queries: n.map(({ query: i }) => i),
    combine: (i) => {
      for (let r = i.length - 1; r >= 0; r--)
        if (!i[r].isLoading) return [r, i[r]];
      return [void 0, void 0];
    },
  });
  return (
    (0, Pr.useEffect)(() => {
      a && a > 0 && o((i) => i.slice(a));
    }, [a]),
    _
  );
}
var dH = b(w(), 1);
function Mr() {
  let { data: t } = Bs();
  return dH.useMemo(() => {
    if (t !== void 0) return Rh(t);
  }, [t]);
}
function Rh(t) {
  return { content_descriptors_excluded: t };
}
var D = b(H(), 1),
  gH = ke.memo(function (e) {
    let { bSearchVisible: n, openSearch: o, closeSearch: a } = e,
      [_, i] = ke.useState(""),
      u = `searchSuggestions_${ke.useId()}`;
    return (0, D.jsxs)(Ph, {
      openSearch: o,
      closeSearch: a,
      children: [
        (0, D.jsx)("input", {
          className: Qp,
          name: "term",
          placeholder: B("#Menu_SearchPlaceholder"),
          value: _,
          onChange: (s) => i(s.currentTarget.value),
          autoComplete: "off",
          role: "combobox",
          "aria-expanded": n,
          "aria-autocomplete": "list",
          "aria-controls": u,
        }),
        (0, D.jsx)("button", {
          className: Xp,
          type: "submit",
          children: (0, D.jsx)(Nh, {}),
        }),
        (0, D.jsx)(Ah, {
          visible: n,
          id: u,
          children: (0, D.jsx)(Dh, { term: _ }),
        }),
      ],
    });
  });
function Ph(t) {
  let { openSearch: e, closeSearch: n, children: o } = t,
    [a, _] = yu(),
    i = ke.useCallback(
      (r) => {
        Bn(r.currentTarget, r.relatedTarget) || n();
      },
      [n],
    );
  return (0, D.jsxs)("form", {
    className: Yp,
    role: "search",
    method: "GET",
    action: `${C.STORE_BASE_URL}search`,
    ..._,
    onFocus: () => e(),
    onBlur: i,
    children: [o, a && (0, D.jsx)(Mh, {})],
  });
}
function Mh() {
  return Sr(), Mr(), null;
}
function Ah(t) {
  let { id: e, visible: n, children: o } = t;
  return (0, D.jsx)("div", {
    className: $p,
    children: (0, D.jsx)(__, {
      visible: n,
      className: Zp,
      msAnimationDuration: 100,
      children: (0, D.jsx)("div", { className: eH, id: e, children: o }),
    }),
  });
}
var xh = { include_assets: !0 },
  Th = { include_tags: !0, include_creators: !0 };
function Dh(t) {
  let { term: e } = t,
    n = Oh(e),
    o = Mr(),
    a = ke.useMemo(() => Um(Th, o), [o]),
    _ = Vm(xh, 5, a),
    i = HH(_, o === void 0 ? "" : n);
  return i && i.data
    ? (0, D.jsx)(Bh, { suggestions: i.data })
    : (0, D.jsx)(zh, {});
}
function zh() {
  let { data: t } = Sr();
  return t
    ? (0, D.jsx)(CH, {
        title: B("#Menu_SearchBar_RecentlyViewed"),
        children: t
          .slice(0, 4)
          .map((e) => (0, D.jsx)(hH, { itemid: e }, A_(e))),
      })
    : null;
}
function Bh(t) {
  let { suggestions: e } = t,
    [n, o, a] = ke.useMemo(() => Wm(e.rgItemIDs), [e]);
  return (0, D.jsx)(CH, {
    title: B("#Menu_SearchBar_SearchResults"),
    children: n.map((_) => (0, D.jsx)(hH, { itemid: _ }, A_(_))),
  });
}
function CH(t) {
  let { title: e, children: n } = t;
  return (0, D.jsxs)("div", {
    className: tH,
    children: [(0, D.jsx)("div", { className: nH, children: e }), n],
  });
}
function hH(t) {
  let { itemid: e } = t,
    { data: n } = ks(e),
    { data: o } = ws(e),
    a = _u(`${C.STORE_BASE_URL}${n?.store_url_path || "/"}`);
  return (0, D.jsxs)("a", {
    className: oH,
    href: a,
    children: [
      (0, D.jsx)(Eh, { itemid: e }),
      (0, D.jsxs)("div", {
        className: _H,
        children: [
          (0, D.jsx)("div", { className: iH, children: n?.name }),
          (0, D.jsx)("div", {
            className: rH,
            children: (0, D.jsx)(Lh, { storeItem: n, purchaseOption: o }),
          }),
        ],
      }),
    ],
  });
}
function Lh(t) {
  let { storeItem: e, purchaseOption: n } = t;
  return n
    ? (0, D.jsx)(zs, {
        purchaseOption: n,
        size: "inline",
        transparentBackground: !0,
      })
    : e?.is_free
      ? B("#Price_Free")
      : (0, D.jsx)(D.Fragment, { children: " " });
}
function Eh(t) {
  let { itemid: e } = t,
    { data: n } = Ss(e),
    o = n && Ds(n, "small_capsule");
  return (0, D.jsx)("div", {
    className: (0, yH.default)(Cr, !o && aH),
    children: o && (0, D.jsx)("img", { src: o, alt: "", className: Cr }),
  });
}
var Nh = ke.memo(function () {
  return (0, D.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 19 20",
    fill: "none",
    children: (0, D.jsx)("g", {
      children: (0, D.jsx)("path", {
        fill: "currentColor",
        d: "M14.5382 13.1495C15.5866 11.6421 16.0327 9.7968 15.7887 7.97691C15.5447 6.15702 14.6282 4.4944 13.2197 3.31636C11.8113 2.13833 10.0128 1.53023 8.17847 1.61178C6.34411 1.69333 4.60673 2.45862 3.30835 3.75699C2.00998 5.05536 1.24469 6.79275 1.16314 8.62711C1.08159 10.4615 1.68969 12.2599 2.86772 13.6684C4.04576 15.0768 5.70838 15.9933 7.52827 16.2373C9.34816 16.4813 11.1935 16.0352 12.7009 14.9868L15.987 18.2781L16.1759 18.0891L17.6562 16.6088L17.8452 16.4198L14.5382 13.1495ZM8.5015 13.6745C7.56711 13.6745 6.65371 13.3974 5.87679 12.8783C5.09988 12.3592 4.49435 11.6213 4.13678 10.7581C3.7792 9.8948 3.68564 8.9449 3.86793 8.02846C4.05022 7.11203 4.50017 6.27023 5.16088 5.60952C5.82159 4.94881 6.66339 4.49886 7.57982 4.31657C8.49626 4.13428 9.44616 4.22784 10.3094 4.58541C11.1727 4.94299 11.9105 5.54852 12.4296 6.32543C12.9488 7.10235 13.2258 8.01575 13.2258 8.95014C13.2258 10.2031 12.7281 11.4048 11.8421 12.2907C10.9561 13.1767 9.75447 13.6745 8.5015 13.6745Z",
      }),
    }),
  });
});
function Oh(t, e = {}) {
  let {
      nTimeoutMS: n = 350,
      nTimeoutExtensionMS: o = 125,
      nMaxTimeoutExtensions: a = 3,
    } = e,
    [_, i] = ke.useState(t),
    r = ke.useRef({});
  return (
    ke.useEffect(() => {
      let u = r.current,
        s = performance.now();
      u.tsLastChange
        ? s - u.tsLastChange < a * n &&
          (u.tsScheduledTimeout = Math.max(
            performance.now() + o,
            u.tsScheduledTimeout,
          ))
        : ((u.tsLastChange = s),
          (u.tsScheduledTimeout = performance.now() + n));
      let l = u.tsScheduledTimeout - performance.now(),
        m = window.setTimeout(() => {
          (r.current = {}), i(t);
        }, l);
      return () => window.clearTimeout(m);
    }, [t, n, o, a]),
    _
  );
}
var Kr = b(bt());
var fH = "_8jYEPRQ-5m4-";
var vH = "DkDkgW5s5IY-";
var kH = "_7xtK0r5UTx8-";
var wH = "auILN5pfzL4-";
var SH = "y-9ESlli0eo-";
var Or = {};
Yd(Or, {
  Active: () => zr,
  Chevron: () => Dr,
  ChevronSpacer: () => Tr,
  Down: () => Nr,
  DynamicMenu: () => Ar,
  Enter: () => jh,
  EnterActive: () => Gh,
  Exit: () => Uh,
  ExitActive: () => Vh,
  MenuItem: () => i_,
  MenuOptions: () => xr,
  MenuSection: () => Fh,
  SectionTransition: () => Er,
  TransitionContainer: () => Br,
  Up: () => Lr,
  default: () => Wh,
});
var Ar = "cxcmftFqzcI-";
var xr = "QNZ0SISqT4A-";
var Fh = "LKa-KzYj8T4-";
var i_ = "T1kJZm1B9Dg-";
var Tr = "_8pjzPcuVTaA-";
var Dr = "_4sgfooX5sIY-";
var zr = "fZm0hzbW-hI-";
var Br = "nZeGxUaoppo-";
var Lr = "PWbNjPgSYe4-";
var Er = "_6JCTLSatXqQ-";
var jh = "-bMZkNl-YRY-";
var Gh = "ubpRJtanptI-";
var Uh = "hKXz-LU5tbA-";
var Vh = "A2NhLCUANAU-";
var Nr = "oXAJh3uHDQQ-";
var Wh = {
  DynamicMenu: "cxcmftFqzcI-",
  MenuOptions: "QNZ0SISqT4A-",
  MenuSection: "LKa-KzYj8T4-",
  MenuItem: "T1kJZm1B9Dg-",
  ChevronSpacer: "_8pjzPcuVTaA-",
  Chevron: "_4sgfooX5sIY-",
  Active: "fZm0hzbW-hI-",
  TransitionContainer: "nZeGxUaoppo-",
  Up: "PWbNjPgSYe4-",
  SectionTransition: "_6JCTLSatXqQ-",
  Enter: "-bMZkNl-YRY-",
  EnterActive: "ubpRJtanptI-",
  Exit: "hKXz-LU5tbA-",
  ExitActive: "A2NhLCUANAU-",
  Down: "oXAJh3uHDQQ-",
};
var St = b(w(), 1),
  Wr = b(w(), 1);
var zd = b(bt(), 1);
var RH = "Xt4BdOiy1FU-";
var PH = "yngW2pJBTpk-";
var MH = "RjWLjI4Nl8k-";
var AH = "izdllajEUaU-";
var xH = "cQg1Li41uAM-";
var TH = "vWR3MFqTiyA-";
var Mn = b(H(), 1);
function r_(t) {
  return (0, Mn.jsx)("div", { className: RH, children: t.children });
}
function u_(t) {
  return (0, Mn.jsx)("div", {
    role: "heading",
    "aria-level": 2,
    className: PH,
    children: t.children,
  });
}
function DH(t) {
  return (0, Mn.jsx)(F, {
    "flow-children": "row",
    className: MH,
    children: t.children,
  });
}
function s_(t) {
  return (0, Mn.jsx)("div", { className: AH, children: t.children });
}
function zH(t) {
  return (0, Mn.jsx)(F, {
    "flow-children": "column",
    className: xH,
    children: t.children,
  });
}
function Pn(t) {
  return (0, Mn.jsx)("a", {
    href: t.href,
    className: TH,
    children: t.children,
  });
}
var BH = "AcamE8XjlRc-";
var LH = "R36Rw1h-qoE-";
var EH = "SKGIeivRLBQ-";
var NH = "_3F97bh9lwUk-";
var OH = "fvfKoqTIR1A-";
var IH = "nMUDkkNnT1Y-";
var FH = "LPVi2CukTHc-";
var jH = "NJjZeQN1Jg0-";
var ne = b(H(), 1);
function GH() {
  return (0, ne.jsxs)(r_, {
    children: [
      (0, ne.jsx)(u_, { children: B("#Menu_Section_Recommendations") }),
      (0, ne.jsxs)(DH, {
        children: [
          (0, ne.jsx)(s_, { children: (0, ne.jsx)(Yh, {}) }),
          (0, ne.jsx)(Jh, {}),
        ],
      }),
    ],
  });
}
function Jh() {
  return (0, ne.jsxs)(zH, {
    children: [
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}explore/next/3`,
        children: B("#Menu_Section_Recommendations_NewReleasesQueue"),
      }),
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}communityrecommendations/`,
        children: B("#Menu_Section_Recommendations_CommunityRecommendations"),
      }),
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}recommender/`,
        children: B("#Menu_Section_Recommendations_InteractiveRecommender"),
      }),
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}recommended/friendactivity/`,
        children: B("#Menu_Section_Recommendations_PopularAmongFriends"),
      }),
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}curators/`,
        children: B("#Menu_Section_Recommendations_SteamCurators"),
      }),
      (0, ne.jsx)(Pn, {
        href: `${oe.STORE_BASE_URL}dlcforyou/`,
        children: B("#Menu_Section_Recommendations_DLCForYou"),
      }),
    ],
  });
}
function Yh() {
  return (0, ne.jsxs)("div", {
    className: BH,
    children: [
      (0, ne.jsx)("div", {
        className: LH,
        children: (0, ne.jsx)("div", { className: EH }),
      }),
      (0, ne.jsxs)("div", {
        className: NH,
        children: [
          (0, ne.jsx)("div", {
            className: OH,
            children: B("#Menu_Section_Recommendations_DiscoveryQueue_Title"),
          }),
          (0, ne.jsx)("div", {
            className: IH,
            children: B(
              "#Menu_Section_Recommendations_DiscoveryQueue_Description",
            ),
          }),
          (0, ne.jsxs)("a", {
            className: FH,
            href: `${oe.STORE_BASE_URL}explore/next/0`,
            children: [
              (0, ne.jsx)("span", {
                className: jH,
                children: B(
                  "#Menu_Section_Recommendations_DiscoveryQueue_ActionButton",
                ),
              }),
              (0, ne.jsx)(Qh, {}),
            ],
          }),
        ],
      }),
    ],
  });
}
function Qh() {
  return (0, ne.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 18 16",
    fill: "none",
    children: (0, ne.jsx)("path", {
      fill: "currentColor",
      d: "M11.0941 6.30047L7.19722 2.40354L9.60075 -3.86836e-07L17.6008 8L9.60075 16L7.19722 13.5965L11.0941 9.69958L0.750976 9.69958L0.750976 6.30047L11.0941 6.30047Z",
    }),
  });
}
var b_ = b(w(), 1);
var UH = "f9XbUgGvjc4-";
var VH = "_3w4AZIEdTwA-";
var Ir = "rDxe0S8o7GE-";
var WH = "_4CrLVE0vaoA-";
var qH = "Ajxl4cEhTUQ-";
var KH = "ekh3KSc-R8U-";
var JH = "a9tdu3IuAYs-";
var YH = "tss0e7QITuw-";
var Fr = "wi46BwVIz3o-";
var QH = "kOvyHMNjCxg-";
function jr(t) {
  let { tagid: e, language: n = oe.LANGUAGE } = t;
  return x_(e, n) || String(e);
}
function Gr(t, e = oe.LANGUAGE) {
  let n = x_(t, e);
  return `${oe.STORE_BASE_URL}tags/${ou(e)}/${n}`;
}
function XH() {
  let t = In(),
    e = tt(),
    n = mt();
  return _n({ ...Ur(e, t), enabled: !!n, initialData: n ? void 0 : [] });
}
function Ur(t, e) {
  return {
    queryKey: ["RecommendedTagsForUser", e.country, e.language],
    queryFn: () => $h(t, e),
    staleTime: 1e3 * 60 * 60 * 24,
  };
}
async function $h(t, e) {
  let n = Ze.Init(Rs);
  n.Body().set_language(e.language),
    n.Body().set_country_code(e.country),
    n.Body().set_favor_rarer_tags(!0);
  let o = await Ps.GetRecommendedTagsForUser(t, n);
  if (!o.BSuccess())
    throw `Error loading recommended tags: ${o.GetErrorMessage()}`;
  return o.Body().toObject().tags || [];
}
var $H = [
  {
    rgTagIDs: [19],
    id: "action",
    strLocToken: "#ContentHubby_Hub_action_menu",
    strSalePageURL: "category/action",
  },
  {
    rgTagIDs: [21],
    id: "adventure",
    strLocToken: "#ContentHubby_Hub_adventure_menu",
    strSalePageURL: "category/adventure",
  },
  {
    rgTagIDs: [4085],
    id: "anime",
    strLocToken: "#ContentHubby_Hub_anime_mild_menu",
    strSalePageURL: "category/anime",
  },
  {
    rgTagIDs: [597],
    id: "casual",
    strLocToken: "#ContentHubby_Hub_casual_menu",
    strSalePageURL: "category/casual",
  },
  {
    rgTagIDs: [1695],
    id: "open_world",
    strLocToken: "#ContentHubby_Hub_adventure_explore_open_world_menu",
    strSalePageURL: "category/exploration_open_world",
  },
  {
    rgTagIDs: [4328, 4736, 6506],
    id: "fighting",
    strLocToken: "#ContentHubby_Hub_fighting_menu",
    strSalePageURL: "category/fighting_martial_arts",
  },
  {
    rgTagIDs: [1667],
    id: "horror",
    strLocToken: "#ContentHubby_Hub_horror_menu",
    strSalePageURL: "category/horror",
  },
  {
    rgTagIDs: [1685],
    id: "coop",
    strLocToken: "#ContentHubby_Hub_multiplayer_coop_menu",
    strSalePageURL: "category/multiplayer_coop",
  },
  {
    rgTagIDs: [1664, 5537, 1665],
    id: "puzzle",
    strLocToken: "#ContentHubby_Hub_puzzle_menu",
    strSalePageURL: "category/puzzle_matching/",
  },
  {
    rgTagIDs: [699, 4102],
    id: "racing",
    strLocToken: "#ContentHubby_Hub_racing_menu",
    strSalePageURL: "category/racing",
  },
  {
    rgTagIDs: [42804],
    id: "roguelike",
    strLocToken: "#ContentHubby_Hub_rogue_like_rogue_lite_menu",
    strSalePageURL: "category/rogue_like_rogue_lite",
  },
  {
    rgTagIDs: [112, 4434, 4231],
    id: "rpg",
    strLocToken: "#ContentHubby_Hub_rpg_menu",
    strSalePageURL: "category/rpg",
  },
  {
    rgTagIDs: [3942],
    id: "scifi",
    strLocToken: "#ContentHubby_Hub_science_fiction_menu",
    strSalePageURL: "category/science_fiction",
  },
  {
    rgTagIDs: [599, 12472],
    id: "simulation",
    strLocToken: "#ContentHubby_Hub_simulation_menu",
    strSalePageURL: "category/simulation",
  },
  {
    rgTagIDs: [701],
    id: "sports",
    strLocToken: "#ContentHubby_Hub_sports_menu",
    strSalePageURL: "category/sports",
  },
  {
    rgTagIDs: [1742],
    id: "story_rich",
    strLocToken: "#ContentHubby_Hub_interactive_fiction_menu",
    strSalePageURL: "category/story_rich",
  },
  {
    rgTagIDs: [9, 1670, 1676],
    id: "strategy",
    strLocToken: "#ContentHubby_Hub_strategy_menu",
    strSalePageURL: "category/strategy",
  },
  {
    rgTagIDs: [9, 4328, 220585],
    id: "cities_settlements",
    strLocToken: "#ContentHubby_Hub_sim_cities_settlements_menu",
    strSalePageURL: "category/strategy_cities_settlements",
  },
  {
    rgTagIDs: [1662],
    id: "survival",
    strLocToken: "#ContentHubby_Hub_survival_menu",
    strSalePageURL: "category/survival",
  },
  {
    rgTagIDs: [3799],
    id: "visual_novel",
    strLocToken: "#ContentHubby_Hub_visual_novel_menu",
    strSalePageURL: "category/visual_novel",
  },
  {
    rgTagIDs: [113],
    id: "f2p",
    strLocToken: "#ContentHubby_Hub_free_to_play",
    strSalePageURL: "genre/Free%20to%20Play",
  },
  {
    rgTagIDs: [],
    id: "greatondeck",
    strLocToken: "#ContentHubby_Hub_greatondeck",
    strSalePageURL: "greatondeck",
  },
  {
    rgTagIDs: [402, 401],
    id: "vr",
    strLocToken: "#Store_VR_MainMenu_Virtual_Reality",
    strSalePageURL: "vr",
  },
];
var ZH = "./marketing_brazilian-I63NI3CA.json";
var ed = "./marketing_bulgarian-ECDZF5CA.json";
var td = "./marketing_czech-EUAKSFDA.json";
var nd = "./marketing_danish-NEOVR4AA.json";
var od = "./marketing_dutch-Y3BFKIDA.json";
var ad = "./marketing_english-WVSKQJDA.json";
var _d = "./marketing_finnish-QUJBPIBA.json";
var id = "./marketing_french-X4XMTFAA.json";
var rd = "./marketing_german-J23Y3GDA.json";
var ud = "./marketing_greek-PDZDHSAA.json";
var sd = "./marketing_hungarian-DJOLCGCA.json";
var bd = "./marketing_indonesian-C2T4RTCA.json";
var ld = "./marketing_italian-KPWFILAA.json";
var md = "./marketing_japanese-KPJZDUAA.json";
var cd = "./marketing_koreana-NMXFQ6CA.json";
var pd = "./marketing_latam-ICAG4HBA.json";
var Hd = "./marketing_norwegian-S2VK6FAA.json";
var dd = "./marketing_polish-LAB4PSDA.json";
var yd = "./marketing_portuguese-6WNY5QCA.json";
var gd = "./marketing_romanian-RK47QLBA.json";
var Cd = "./marketing_russian-ZIS4IFCA.json";
var hd = "./marketing_sc_schinese-JENOEMAA.json";
var fd = "./marketing_schinese-CKUXNZBA.json";
var vd = "./marketing_spanish-6YNUK3DA.json";
var kd = "./marketing_swedish-2HZESWDA.json";
var wd = "./marketing_tchinese-OC3RCWDA.json";
var Sd = "./marketing_thai-2GIPUXBA.json";
var Rd = "./marketing_turkish-MBUZFNDA.json";
var Pd = "./marketing_ukrainian-IXXRZBCA.json";
var Md = "./marketing_vietnamese-VK4MUDCA.json";
var I = {};
I.brazilian = ZH;
I.bulgarian = ed;
I.czech = td;
I.danish = nd;
I.dutch = od;
I.english = ad;
I.finnish = _d;
I.french = id;
I.german = rd;
I.greek = ud;
I.hungarian = sd;
I.indonesian = bd;
I.italian = ld;
I.japanese = md;
I.koreana = cd;
I.latam = pd;
I.norwegian = Hd;
I.polish = dd;
I.portuguese = yd;
I.romanian = gd;
I.russian = Cd;
I.sc_schinese = hd;
I.schinese = fd;
I.spanish = vd;
I.swedish = kd;
I.tchinese = wd;
I.thai = Sd;
I.turkish = Rd;
I.ukrainian = Pd;
I.vietnamese = Md;
async function Vr(t) {
  if (I[t]) return (await fetch(new URL(I[t], import.meta.url))).json();
}
var Yo = Dn(Vr);
function Ad() {
  let t = Yo.Localize;
  return $H.map((e) => ({ ...e, strName: t(e.strLocToken) }));
}
var G = b(H(), 1);
function xd() {
  return (0, G.jsxs)(r_, {
    children: [
      (0, G.jsx)(u_, { children: B("#Menu_Section_Categories_YourTopGenres") }),
      (0, G.jsx)(s_, { children: (0, G.jsx)(Tf, {}) }),
    ],
  });
}
function Td(t, e, n, o, a) {
  let _ = [t.prefetchQuery(Ms(e, n, o.language))];
  return (
    a && _.push(t.prefetchQuery(Rr(t, e, n, o, a)), t.prefetchQuery(Ur(e, o))),
    Promise.all(_)
  );
}
var Tf = b_.default.memo(function () {
  let [e, n] = Df();
  return e === null || n === null
    ? null
    : (0, G.jsxs)(G.Fragment, {
        children: [
          (0, G.jsx)("div", {
            className: UH,
            children: e.map((o) =>
              o.type === "hub"
                ? (0, G.jsx)(zf, { featuredCategory: o }, o.strHandle)
                : (0, G.jsx)(Bf, { featuredTag: o }, o.unTagID),
            ),
          }),
          (0, G.jsxs)("div", {
            className: JH,
            children: [
              (0, G.jsx)("div", {
                className: YH,
                children: n.map((o) =>
                  o.type === "hub"
                    ? (0, G.jsx)(Ef, { featuredLink: o }, o.strHandle)
                    : (0, G.jsx)(Lf, { featuredLink: o }, o.unTagID),
                ),
              }),
              (0, G.jsx)("a", {
                className: QH,
                href: `${C.STORE_BASE_URL}tag/browse/`,
                children: B("#Menu_Section_Categories_ViewAllTags"),
              }),
            ],
          }),
        ],
      });
});
function Df() {
  let { data: t } = bH(),
    { data: e } = XH(),
    n = Es(Yo),
    o = b_.default.useMemo(() => ta.ShuffleArray(Ad().slice()), []);
  return b_.default.useMemo(() => {
    if (t == null || e == null || !n) return [null, null];
    let a = new Set(),
      _ = new Set(),
      i = [],
      r = [],
      u = t.slice(),
      s = e.slice(),
      l = o;
    for (let m of [i, r]) {
      let d = m == i ? 6 : 10;
      for (; m.length < d; ) {
        let g;
        if (u.length) {
          let v = u.shift();
          "hubconfig" in v
            ? (g = {
                type: "hub",
                strHandle: v.hubconfig.handle,
                strName: v.hubconfig.display_name,
                strURLPath: v.hubconfig.url_path,
              })
            : (g = { type: "tag", unTagID: v.tagid });
        } else if (s.length) g = { type: "tag", unTagID: s.shift().tagid };
        else if (l.length) {
          let v = l.shift();
          g = {
            type: "hub",
            strHandle: v.id,
            strName: Yo.Localize(v.strLocToken),
            strURLPath: v.strSalePageURL,
          };
        } else break;
        g.type == "tag"
          ? _.has(g.unTagID) || (_.add(g.unTagID), m.push(g))
          : g.type == "hub" &&
            (a.has(g.strHandle) || (a.add(g.strHandle), m.push(g)));
      }
    }
    return [i, r];
  }, [t, e, o, n]);
}
function zf(t) {
  let { featuredCategory: e } = t,
    { strHandle: n, strURLPath: o, strName: a } = e;
  return (0, G.jsx)(Dd, {
    title: a,
    href: `${C.STORE_BASE_URL}${o}`,
    children: (0, G.jsx)(Nf, { category: n }),
  });
}
function Bf(t) {
  let { featuredTag: e } = t,
    { unTagID: n } = e,
    o = Gr(n);
  return (0, G.jsx)(Dd, {
    title: (0, G.jsx)(jr, { tagid: n }),
    href: o,
    children: (0, G.jsx)(Of, { tagid: n }),
  });
}
function Dd(t) {
  let { children: e, title: n, href: o } = t;
  return (0, G.jsxs)("a", {
    className: VH,
    href: o,
    children: [
      e,
      (0, G.jsx)("div", { className: WH }),
      (0, G.jsx)("div", {
        className: qH,
        children: (0, G.jsx)("div", { className: KH, children: n }),
      }),
    ],
  });
}
function Lf(t) {
  let { featuredLink: e } = t,
    n = Gr(e.unTagID);
  return (0, G.jsx)("a", {
    className: Fr,
    href: n,
    children: (0, G.jsx)(jr, { tagid: e.unTagID }),
  });
}
function Ef(t) {
  let { featuredLink: e } = t;
  return (0, G.jsx)("a", {
    className: Fr,
    href: `${C.STORE_BASE_URL}${e.strURLPath}`,
    children: e.strName,
  });
}
function Nf(t) {
  let { category: e } = t;
  return (0, G.jsx)("img", {
    className: Ir,
    loading: "lazy",
    alt: "",
    src: `${C.STORE_CDN_URL}categories/image/category/${e}?cc=${C.COUNTRY}&l=${C.LANGUAGE}`,
  });
}
function Of(t) {
  let { tagid: e } = t;
  return (0, G.jsx)("img", {
    className: Ir,
    loading: "lazy",
    alt: "",
    src: `${C.STORE_CDN_URL}categories/image/tags/${e}?cc=${C.COUNTRY}&l=${C.LANGUAGE}`,
  });
}
var le = b(H(), 1);
function Bd() {
  let [t, e] = St.useState("today");
  If();
  let n = St.useMemo(
    () => [
      ["today", B("#Menu_Popover_Today")],
      ["recommendations", B("#Menu_Popover_Recommendations")],
      ["categories", B("#Menu_Popover_Categories")],
      ["hardware", B("#Menu_Popover_Hardware")],
      ["waystoplay", B("#Menu_Popover_WaysToPlay")],
      ["specialsections", B("#Menu_Popover_SpecialSections")],
    ],
    [],
  );
  return (0, le.jsxs)("div", {
    className: Ar,
    children: [
      (0, le.jsxs)("div", {
        className: xr,
        children: [
          n.map(([o, a]) =>
            (0, le.jsx)(
              Gf,
              { active: t == o, setSection: e, section: o, children: a },
              o,
            ),
          ),
          (0, le.jsx)(Eu, {
            className: i_,
            href: oe.STORE_BASE_URL,
            children: B("#Menu_Popover_ViewAll"),
          }),
        ],
      }),
      (0, le.jsx)(Ff, { rgSections: n, section: t }),
    ],
  });
}
function If() {
  let t = $o(),
    e = tt(),
    n = ua(),
    o = In(),
    a = mt();
  (0, Wr.useEffect)(() => {
    Td(t, e, n, o, a);
  }, [t, e, n, o, a]);
}
var Ff = St.memo(function (e) {
  let { rgSections: n, section: o } = e,
    [a, _] = St.useState(o),
    [i, r] = St.useState(void 0);
  return (
    (0, Wr.useEffect)(() => {
      let u = n.findIndex((l) => l[0] == a) || 0,
        s = n.findIndex((l) => l[0] == o) || 0;
      u < s ? r(Nr) : u > s ? r(Lr) : r(void 0), _(o);
    }, [o, n]),
    (0, le.jsx)("div", {
      className: Br,
      children: (0, le.jsx)(t_, {
        childrenKey: a,
        childrenClasses: n_(Or, Er),
        directionClass: i,
        animate: !!i,
        children: (0, le.jsx)(jf, { section: a }),
      }),
    })
  );
});
function jf(t) {
  let { section: e } = t;
  switch (e) {
    case "today":
      return "TODAY ON STEAM";
    case "recommendations":
      return (0, le.jsx)(GH, {});
    case "categories":
      return (0, le.jsx)(xd, {});
    case "hardware":
      return "HARDWARE";
    case "waystoplay":
      return "WAYS TO PLAY";
    case "specialsections":
      return "SPECIAL SECTIONS";
    default:
      return ea(e, `Unknown section ${e}`), null;
  }
}
function Gf(t) {
  let { setSection: e, active: n, section: o, children: a } = t,
    _ = St.useCallback(() => e(o), [e, o]);
  return (0, le.jsxs)(Kt, {
    className: (0, zd.default)(i_, n && zr),
    onClick: _,
    onMouseEnter: _,
    children: [a, " ", (0, le.jsx)(Uf, {})],
  });
}
function Uf() {
  return (0, le.jsxs)(le.Fragment, {
    children: [
      (0, le.jsx)("div", { className: Tr }),
      (0, le.jsx)("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 12 13",
        fill: "none",
        className: Dr,
        children: (0, le.jsx)("path", {
          fill: "currentColor",
          fillRule: "evenodd",
          clipRule: "evenodd",
          d: "M6.36084 6.68974L3.66211 3.99101L4.84062 2.8125L8.71786 6.68974L4.84062 10.567L3.66211 9.38847L6.36084 6.68974Z",
        }),
      }),
    ],
  });
}
var He = b(H(), 1);
function Ld(t) {
  let { visible: e, closePopover: n } = t;
  return (0, He.jsx)(He.Fragment, {
    children: (0, He.jsx)(__, {
      visible: e,
      className: fH,
      msAnimationDuration: 100,
      children: (0, He.jsx)("div", {
        className: vH,
        children: (0, He.jsxs)("div", {
          className: kH,
          children: [(0, He.jsx)(Vf, {}), (0, He.jsx)(Bd, {})],
        }),
      }),
    }),
  });
}
function Vf() {
  return (0, He.jsxs)("div", {
    className: wH,
    children: [
      (0, He.jsx)(An, {
        href: C.STORE_BASE_URL,
        children: B("#Menu_Popover_StoreHome"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}genre/Free%20to%20Play/`,
        children: B("#Menu_Popover_FreeToPlay"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}charts/`,
        children: B("#Menu_Popover_SteamCharts"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}points/`,
        children: B("#Menu_Popover_PointsShop"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}digitalgiftcards/`,
        children: B("#Menu_Popover_GiftCards"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}news/`,
        children: B("#Menu_Popover_NewsAndUpdates"),
      }),
      (0, He.jsx)(An, {
        href: `${C.STORE_BASE_URL}account/preferences/`,
        children: B("#Menu_Popover_Preferences"),
      }),
    ],
  });
}
function An(t) {
  let { href: e, children: n } = t;
  return (0, He.jsx)("a", { href: e, className: SH, children: n });
}
var Ed = b(w());
var Nd = b(Pt()),
  A = b(H()),
  Od = xn.memo(function (e) {
    let { refPage: n } = e;
    return (0, A.jsx)("div", {
      className: Gp,
      children: (0, A.jsx)(Wf, { refPage: n }),
    });
  });
function Wf(t) {
  let { refPage: e } = t,
    n = xn.useRef(null),
    [o, a, _] = v_(),
    [i, r, u] = v_(),
    s = xn.useCallback(() => {
      u(), o ? _() : a();
    }, [o, _, a, u]);
  return (
    (0, Ed.useEffect)(() => {
      let l = n.current,
        m = e.current;
      return (
        m.style.setProperty(
          "--store-menu-floating-height",
          `${l.clientHeight}px`,
        ),
        () => {
          m?.style.removeProperty("--store-menu-floating-height");
        }
      );
    }, [e]),
    (0, A.jsxs)(A.Fragment, {
      children: [
        (0, A.jsxs)("div", {
          className: Up,
          ref: n,
          children: [
            (0, A.jsx)(Kf, { onClick: s }),
            (0, A.jsx)(l_, {}),
            (0, A.jsx)(qr, {
              strURL: `${C.STORE_BASE_URL}charts/topselling/`,
              children: un.Localize("#Menu_TopSellers"),
            }),
            (0, A.jsx)(l_, {}),
            (0, A.jsx)(qr, {
              strURL: `${C.STORE_BASE_URL}explore/new/`,
              children: un.Localize("#Menu_NewReleases"),
            }),
            (0, A.jsx)(l_, {}),
            (0, A.jsx)(qr, {
              strURL: `${C.STORE_BASE_URL}specials/`,
              children: un.Localize("#Menu_OnSale"),
            }),
            (0, A.jsx)(gH, {
              bSearchVisible: i,
              openSearch: r,
              closeSearch: u,
            }),
            (0, A.jsx)(Jf, {}),
            (0, A.jsx)(l_, {}),
            (0, A.jsx)(Yf, {}),
          ],
        }),
        (0, A.jsx)(Ld, { visible: o, closePopover: _ }),
        (0, A.jsx)(qf, { active: o || i, refPage: e, closePopover: _ }),
      ],
    })
  );
}
function qf(t) {
  let { active: e, refPage: n, closePopover: o } = t;
  return n.current
    ? Nd.createPortal(
        (0, A.jsx)("div", {
          className: (0, Kr.default)(Kp, e && Jp),
          onClick: o,
        }),
        n.current,
      )
    : null;
}
function l_() {
  return (0, A.jsx)("div", { className: qp });
}
function Kf(t) {
  let { onClick: e } = t;
  return (0, A.jsx)(A.Fragment, {
    children: (0, A.jsxs)(Kt, {
      className: Ko,
      onClick: e,
      children: [(0, A.jsx)(Qf, {}), " ", un.Localize("#Menu_OpenFlyout")],
    }),
  });
}
function qr(t) {
  let { strURL: e, children: n } = t;
  return (0, A.jsx)("a", {
    className: (0, Kr.default)(Ko, Wp),
    href: e,
    children: n,
  });
}
function Jf() {
  let t = mt(),
    { data: e } = Ls(t);
  return t
    ? (0, A.jsxs)("a", {
        className: Ko,
        href: `${C.STORE_BASE_URL}wishlist/`,
        children: [
          (0, A.jsx)(Xf, {}),
          un.Localize("#Menu_Wishlist"),
          e > 0 && (0, A.jsx)(Id, { children: e }),
        ],
      })
    : null;
}
function Id(t) {
  return (0, A.jsx)("span", { className: Vp, children: t.children });
}
function Yf() {
  let { data: t } = la();
  return (0, A.jsxs)("a", {
    className: Ko,
    href: `${C.STORE_BASE_URL}cart/`,
    children: [
      (0, A.jsx)($f, {}),
      un.Localize("#Menu_Cart"),
      t > 0 && (0, A.jsx)(Id, { children: t }),
    ],
  });
}
function Qf(t) {
  return (0, A.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 15 12",
    fill: "none",
    ...t,
    children: (0, A.jsxs)("g", {
      children: [
        (0, A.jsx)("rect", {
          fill: "currentColor",
          x: "0.458984",
          width: "13.9393",
          height: "2.23028",
        }),
        (0, A.jsx)("rect", {
          fill: "currentColor",
          x: "0.458984",
          y: "4.46094",
          width: "13.9393",
          height: "2.23028",
        }),
        (0, A.jsx)("rect", {
          fill: "currentColor",
          x: "0.458984",
          y: "8.92188",
          width: "13.9393",
          height: "2.23028",
        }),
      ],
    }),
  });
}
function Xf(t) {
  return (0, A.jsxs)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 17 18",
    fill: "none",
    ...t,
    children: [
      (0, A.jsx)("path", {
        fill: "currentColor",
        d: "M7.35571 4.84717L8.571 8.61455C8.72291 9.13104 9.14826 9.52601 9.66475 9.7083L13.4321 10.9236L9.66475 12.1389C9.14826 12.2908 8.75329 12.7161 8.571 13.2326L7.35571 17L6.14043 13.2326C5.98852 12.7161 5.56317 12.3212 5.04667 12.1389L1.2793 10.9236L5.04667 9.7083C5.56317 9.55639 5.95814 9.13104 6.14043 8.61455L7.35571 4.84717Z",
      }),
      (0, A.jsx)("path", {
        fill: "currentColor",
        d: "M11.2353 2.90283L11.7737 4.58905C11.8455 4.82476 12.025 5.00607 12.2584 5.0786L13.9276 5.62254L12.2584 6.16648C12.025 6.239 11.8455 6.42032 11.7737 6.65602L11.2353 8.34224L10.6968 6.65602C10.625 6.42032 10.4455 6.239 10.2122 6.16648L8.54297 5.62254L10.2122 5.0786C10.4455 5.00607 10.625 4.82476 10.6968 4.58905L11.2353 2.90283Z",
      }),
      (0, A.jsx)("path", {
        fill: "currentColor",
        d: "M4.44381 3.29138L4.71304 4.14356C4.74894 4.25234 4.83868 4.343 4.94637 4.37926L5.78996 4.65123L4.94637 4.9232C4.83868 4.95947 4.74894 5.05012 4.71304 5.15891L4.44381 6.01109L4.17458 5.15891C4.13868 5.05012 4.04894 4.95947 3.94125 4.9232L3.09766 4.65123L3.94125 4.37926C4.04894 4.343 4.13868 4.25234 4.17458 4.14356L4.44381 3.29138Z",
      }),
      (0, A.jsx)("path", {
        fill: "currentColor",
        d: "M13.7797 6.79138L14.049 7.64356C14.0849 7.75234 14.1746 7.843 14.2823 7.87926L15.1259 8.15123L14.2823 8.4232C14.1746 8.45947 14.0849 8.55012 14.049 8.65891L13.7797 9.51108L13.5105 8.65891C13.4746 8.55012 13.3849 8.45947 13.2772 8.4232L12.4336 8.15123L13.2772 7.87926C13.3849 7.843 13.4746 7.75234 13.5105 7.64356L13.7797 6.79138Z",
      }),
    ],
  });
}
function $f(t) {
  return (0, A.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 15 16",
    fill: "none",
    ...t,
    children: (0, A.jsx)("path", {
      fill: "currentColor",
      d: "M14.0132 4.85417L12.5465 10.1708C12.4763 10.4387 12.3192 10.6758 12.0997 10.8447C11.8803 11.0136 11.6109 11.1049 11.334 11.1042H6.14648C5.87656 11.1044 5.61379 11.0173 5.39749 10.8558C5.18119 10.6944 5.02296 10.4672 4.94648 10.2083L3.15065 4.85417H0.833984V3.1875H3.45065C3.71251 3.18799 3.9676 3.2707 4.17992 3.42396C4.39224 3.57722 4.55106 3.79329 4.63398 4.04167L4.90898 4.875L14.0132 4.85417ZM6.25065 12.7708C6.04463 12.7708 5.84323 12.8319 5.67193 12.9464C5.50063 13.0608 5.36712 13.2235 5.28828 13.4139C5.20944 13.6042 5.18881 13.8137 5.229 14.0157C5.26919 14.2178 5.3684 14.4034 5.51408 14.5491C5.65976 14.6947 5.84537 14.794 6.04743 14.8342C6.2495 14.8743 6.45894 14.8537 6.64928 14.7749C6.83962 14.696 7.00231 14.5625 7.11677 14.3912C7.23123 14.2199 7.29232 14.0185 7.29232 13.8125C7.29232 13.5362 7.18257 13.2713 6.98722 13.0759C6.79187 12.8806 6.52692 12.7708 6.25065 12.7708ZM11.2507 12.7708C11.0446 12.7708 10.8432 12.8319 10.6719 12.9464C10.5006 13.0608 10.3671 13.2235 10.2883 13.4139C10.2094 13.6042 10.1888 13.8137 10.229 14.0157C10.2692 14.2178 10.3684 14.4034 10.5141 14.5491C10.6598 14.6947 10.8454 14.794 11.0474 14.8342C11.2495 14.8743 11.4589 14.8537 11.6493 14.7749C11.8396 14.696 12.0023 14.5625 12.1168 14.3912C12.2312 14.2199 12.2923 14.0185 12.2923 13.8125C12.2923 13.5362 12.1826 13.2713 11.9872 13.0759C11.7919 12.8806 11.5269 12.7708 11.2507 12.7708Z",
    }),
  });
}
var Fd = b(w(), 1),
  J = b(H(), 1),
  Zf = Iu({ Component: ev });
function ev({ children: t }) {
  let {
      strWebAPIToken: e,
      header: n,
      currentUserLinkDetails: o,
      steamid: a,
      storeBrowseContext: _,
      bShowGlobalHeader: i,
      gamepadUiTabs: r,
      bSpoofing: u,
      bVirtualizedScrolling: s,
    } = Zf.useLoaderData(),
    l = (0, Fd.useRef)(null),
    m = r.length > 0;
  return (
    C.IN_GAMEPADUI && (window.bSupportsGamepadUI = !0),
    (0, J.jsx)(tv, {
      strWebAPIToken: e,
      steamid: a,
      storeBrowseContext: _,
      children: (0, J.jsxs)("html", {
        lang: zn().strISOCode,
        className: (0, m_.default)(rt.Root, Kl()),
        children: [
          (0, J.jsx)("head", { children: (0, J.jsx)(ru, {}) }),
          (0, J.jsx)("body", {
            className: (0, m_.default)(rt.StoreBody, m && "gamepadui"),
            children: (0, J.jsx)(Bu, {
              navID: "StoreTemplate",
              disabledRoot: !C.IN_GAMEPADUI,
              children: (0, J.jsx)("div", {
                className: (0, m_.default)(
                  rt.StoreBodyContainer,
                  s && rt.Scrollable,
                ),
                children: (0, J.jsx)(ra, {
                  children: (0, J.jsxs)(Sp, {
                    children: [
                      i &&
                        (0, J.jsx)(Am, {
                          navContent: n.navContent,
                          globalActions: n.globalActions,
                          notifications: n.notifications,
                          userDetails: o,
                          changeLanguagePath: "/account/setlanguage/",
                          cartInResponsiveMenu: !0,
                          className: rt.Header,
                          children: (0, J.jsxs)("div", {
                            className: rt.InternalOptions,
                            children: [
                              u && (0, J.jsx)(zm, {}),
                              (0, J.jsx)(Is, { buttonClassName: rt.Text }),
                            ],
                          }),
                        }),
                      Ns() && (0, J.jsx)(Od, { refPage: l }),
                      (0, J.jsxs)("section", {
                        className: rt.StoreContent,
                        ref: l,
                        children: [
                          (0, J.jsx)("div", { className: rt.LoadingIndicator }),
                          (0, J.jsx)(js, { gamepadUiTabs: r }),
                          (0, J.jsx)(kb, {}),
                          (0, J.jsx)(uu, { children: t }),
                        ],
                      }),
                      !C.IN_GAMEPADUI &&
                        (0, J.jsx)(jp, { className: rt.Footer }),
                    ],
                  }),
                }),
              }),
            }),
          }),
        ],
      }),
    })
  );
}
function tv(t) {
  let { strWebAPIToken: e, steamid: n, storeBrowseContext: o, children: a } = t;
  return (0, J.jsx)(Gu, {
    IN_GAMEPADUI: C.IN_GAMEPADUI,
    children: (0, J.jsx)(Pb, {
      children: (0, J.jsx)(Om, {
        strWebAPIToken: e,
        steamid: n,
        children: (0, J.jsx)(Fm, {
          children: (0, J.jsx)(vs, {
            context: o,
            msDelayBatch: 250,
            children: a,
          }),
        }),
      }),
    }),
  });
}
export { Zf as route };
