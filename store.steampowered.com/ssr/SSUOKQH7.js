import {
  a as Pb,
  b as gn,
  c as O_,
  d as F_,
  e as zb,
  f as ri,
  g as $o,
  h as go,
  i as Eb,
  j as Nb,
  k as G_,
  l as Ob,
  m as Fb,
  n as Gb,
  o as j_,
  p as Zo,
  q as TC,
  r as ea,
  s as U_,
  v as jb,
  w as Ub,
  x as Vb,
  y as Wb,
  z as en,
} from "./chunk-T2SYFZXV.js";
import { a as cl } from "./chunk-7QSBK4KJ.js";
import { b as Le } from "./chunk-WB75OARX.js";
import {
  a as $b,
  b as Zb,
  c as el,
  d as il,
  e as _l,
} from "./chunk-CDHK3N4S.js";
import { a as Xo } from "./chunk-OSHYBSKO.js";
import { a as Co, b as ol } from "./chunk-3XLQEU5H.js";
import {
  b as pl,
  c as Hl,
  d as dl,
  e as yl,
  f as gl,
} from "./chunk-Z5L7TR3K.js";
import { f as pi, g as ul, h as sl, i as bl } from "./chunk-N6ENIZ5M.js";
import { a as Ib } from "./chunk-KKFH2FRR.js";
import { a as xC } from "./chunk-V7G34TQA.js";
import {
  b as Ho,
  c as q_,
  d as K_,
  e as ll,
  f as ml,
  g as vl,
} from "./chunk-QDDC5QV5.js";
import "./chunk-7SVE7OBN.js";
import { a as _i, c as fl } from "./chunk-XLL2LOUS.js";
import { h as Mb, i as Cn } from "./chunk-OJYSGLHH.js";
import { d as al } from "./chunk-62XISERL.js";
import {
  A as ui,
  a as vb,
  b as kb,
  c as Qo,
  d as ni,
  e as oi,
  f as Zt,
  g as ai,
  h as ii,
  i as wb,
} from "./chunk-3NGZYT7K.js";
import "./chunk-YJSR4F7G.js";
import "./chunk-YIR6DT7Y.js";
import { a as rl } from "./chunk-XCT4FM3E.js";
import {
  e as Ab,
  f as yo,
  i as xb,
  j as Tb,
  k as Db,
  p as Lb,
} from "./chunk-WBMSZZNB.js";
import { a as v } from "./chunk-X2AVBZ5K.js";
import { a as V_, b as P } from "./chunk-FKURLSMD.js";
import { a as tl, c as nl, m as ci } from "./chunk-64KRUEOC.js";
import "./chunk-75O5DMI7.js";
import {
  A as W_,
  a as tn,
  d as si,
  e as bi,
  f as qb,
  g as li,
  i as mi,
  j as Kb,
  k as Ke,
  m as Jb,
  n as Yb,
  p as Qb,
  z as Xb,
} from "./chunk-OJLM32QX.js";
import "./chunk-2K5BQ22H.js";
import {
  a as Ns,
  b as Os,
  c as Fs,
  d as Gs,
  f as js,
  g as Us,
  h as Vs,
  i as bo,
} from "./chunk-46Q2D5OX.js";
import {
  a as Is,
  b as S,
  c as R,
  d as ee,
  e as te,
  f as ne,
  g as oe,
  h as ae,
  i as ie,
  o as Es,
  r as L_,
  t as ot,
  u as Ie,
  v as Sb,
  w as rt,
  y as Rb,
} from "./chunk-DV6HG5V4.js";
import { a as Ot, b as B } from "./chunk-PGMS5WGM.js";
import {
  a as Xt,
  d as Hb,
  i as $t,
  s as O,
  t as hb,
  v as fb,
} from "./chunk-PSPCTKJK.js";
import "./chunk-CTLRHPVC.js";
import "./chunk-JITTXGZB.js";
import { a as cn } from "./chunk-M5DCUNOX.js";
import {
  a as po,
  c as Hi,
  d as ho,
  e as fo,
  f as Cl,
  h as hl,
} from "./chunk-PSVYJUFE.js";
import { a as Bs } from "./chunk-QWOSS7GN.js";
import { a as Ue } from "./chunk-LN55IWWK.js";
import { a as D } from "./chunk-53RNPDB7.js";
import {
  C as mb,
  G as Qt,
  H as yn,
  I as De,
  J as co,
  K as cb,
  P as ti,
  a as _t,
  b as eb,
  c as dn,
  e as tb,
  f as nb,
  g as ob,
  h as ab,
  j as ib,
  k as Jo,
  l as Mt,
  m as Yo,
  n as _b,
  p as rb,
  q as ub,
  s as N_,
  t as sb,
  u as bb,
  w as lb,
  x as ei,
} from "./chunk-K5BV65UN.js";
import { a as it } from "./chunk-BN3DL7YO.js";
import { a as Bb } from "./chunk-UILVYMAB.js";
import {
  B as E_,
  C as $s,
  D as Zs,
  a as Nn,
  b as at,
  c as $a,
  d as Za,
  e as z_,
  f as Ws,
  g as pn,
  h as B_,
  i as lo,
  j as I_,
  k as Hn,
  m as qs,
  n as Ks,
  p as Js,
  q as mo,
  s as Ys,
  t as Qs,
  v as Xs,
} from "./chunk-5ZZW7NM6.js";
import {
  a as db,
  b as yb,
  c as Ee,
  e as gb,
  f as Cb,
} from "./chunk-LYQEAZUW.js";
import "./chunk-VLNC5BMZ.js";
import "./chunk-FMCEXFLY.js";
import "./chunk-QE2AKQFR.js";
import { a as pb } from "./chunk-UMGBJEOL.js";
import {
  a as Xa,
  c as Wo,
  g as uo,
  s as Ls,
  t as zs,
} from "./chunk-74RRFUOB.js";
import "./chunk-K75ZEVSZ.js";
import { a as Ts, d as ro } from "./chunk-VH5DJ4WZ.js";
import {
  b as so,
  e as tt,
  h as pe,
  i as qo,
  j as Ko,
  k as In,
  l as En,
  o as nt,
  s as g,
  y as ke,
  z as Ds,
} from "./chunk-PSCCDOEL.js";
import {
  b as _o,
  c as Qa,
  d as As,
  j as Q,
  k as xs,
  l as ct,
  m as f,
  n as pt,
  p as H,
} from "./chunk-2D3WJG7W.js";
import { a as w } from "./chunk-LVUPLWFD.js";
import { d as AC, e as b, g as y, h as Ms } from "./chunk-KSKAYT7Z.js";
function di() {
  return location.href;
}
function kl(t) {
  return t == 1 || t == 2 || t == 13;
}
var yi = b(w(), 1);
var J_ = b(H(), 1),
  DC = yi.default.lazy(() => import("./metrics-BYVXEQTQ.js"));
function wl(t) {
  let e = Ls();
  return e.metrics
    ? (0, J_.jsx)(yi.Suspense, {
        children: (0, J_.jsx)(DC, { metrics: e.metrics, ...t }),
      })
    : null;
}
var Sl = b(it(), 1);
var ta = {
  HeaderContainer: "NS66-vzC3B4-",
  PillTabs: "HfUir0ARlEg-",
  PillTabItem: "_6YKIMRZJgjI-",
  Active: "cVEuwqCXKqk-",
};
var gi = b(H(), 1);
function Rl(t) {
  let { gamepadUiTabs: e } = t;
  if (e.length === 0) return null;
  let n = di(),
    o = [...e]
      .sort((a, i) => i.href.length - a.href.length)
      .find((a) => n.startsWith(a.href));
  return (0, gi.jsx)("div", {
    className: ta.HeaderContainer,
    children: (0, gi.jsx)("div", {
      className: ta.PillTabs,
      children: e.map((a) =>
        (0, gi.jsx)(
          B,
          {
            gamepadFocusable: !0,
            noFocusRing: !0,
            className: (0, Sl.default)(
              ta.PillTabItem,
              a === o && ta.Active,
              a.className,
            ),
            snr: !0,
            to: a.href,
            children: a.label,
          },
          a.href,
        ),
      ),
    }),
  });
}
var Ci = b(w());
var Pl = "D6LHFgi1JYw-";
var Ml = "-ygkyFbonHM-";
var Al = "-ocPE8koGWA-";
var xl = "wScBjl6G2E8-";
var Y_ = "J8QB0JMqyaM-";
var Tl = "-mBLWqp7JFk-";
var Dl = "./cookies_brazilian-BBM5W7BA.json";
var Ll = "./cookies_bulgarian-TTDJPHDA.json";
var zl = "./cookies_czech-V5C3V6DA.json";
var Bl = "./cookies_danish-YYRI2GAA.json";
var Il = "./cookies_dutch-5GFT6WAA.json";
var El = "./cookies_english-P33NRVBA.json";
var Nl = "./cookies_finnish-7E6DXYAA.json";
var Ol = "./cookies_french-MPFS6NAA.json";
var Fl = "./cookies_german-WE4FZBAA.json";
var Gl = "./cookies_greek-Q4QODFBA.json";
var jl = "./cookies_hungarian-JXOVMXAA.json";
var Ul = "./cookies_indonesian-KH35N4CA.json";
var Vl = "./cookies_italian-GS3M6BDA.json";
var Wl = "./cookies_japanese-QMH4OWBA.json";
var ql = "./cookies_koreana-DCDXV5DA.json";
var Kl = "./cookies_latam-WP7O4FBA.json";
var Jl = "./cookies_norwegian-CTM7LTCA.json";
var Yl = "./cookies_polish-KP5C3RCA.json";
var Ql = "./cookies_portuguese-3BQHT6AA.json";
var Xl = "./cookies_romanian-WNAW7RAA.json";
var $l = "./cookies_russian-NFHTBMDA.json";
var Zl = "./cookies_schinese-LZLMOJBA.json";
var em = "./cookies_spanish-HFWXNTDA.json";
var tm = "./cookies_swedish-SU7WJ5BA.json";
var nm = "./cookies_tchinese-IPBOFGCA.json";
var om = "./cookies_thai-5ZF52MCA.json";
var am = "./cookies_turkish-QTC3WUCA.json";
var im = "./cookies_ukrainian-CZFP46DA.json";
var _m = "./cookies_vietnamese-SNGIHUDA.json";
var Y = {};
Y.brazilian = Dl;
Y.bulgarian = Ll;
Y.czech = zl;
Y.danish = Bl;
Y.dutch = Il;
Y.english = El;
Y.finnish = Nl;
Y.french = Ol;
Y.german = Fl;
Y.greek = Gl;
Y.hungarian = jl;
Y.indonesian = Ul;
Y.italian = Vl;
Y.japanese = Wl;
Y.koreana = ql;
Y.latam = Kl;
Y.norwegian = Jl;
Y.polish = Yl;
Y.portuguese = Ql;
Y.romanian = Xl;
Y.russian = $l;
Y.schinese = Zl;
Y.spanish = em;
Y.swedish = tm;
Y.tchinese = nm;
Y.thai = om;
Y.turkish = am;
Y.ukrainian = im;
Y.vietnamese = _m;
async function Q_(t) {
  if (Y[t]) return (await fetch(new URL(Y[t], import.meta.url))).json();
}
var na = ro(Q_);
var Ht = b(H());
async function rm(t) {
  let e = f.STORE_BASE_URL + "account/ajaxsetcookiepreferences",
    n = new FormData();
  n.set("bAllow", t.toString()), n.set("sessionId", Zt(kb));
  let o = await fetch(e, { method: "POST", credentials: "include", body: n });
  if (o.ok) {
    let a = await o.json();
    a.transfer_urls &&
      a.transfer_params &&
      a.transfer_urls.forEach(async (i) => {
        let _ = new FormData();
        _.set("transfer_params", a.transfer_params),
          fetch(i, { method: "POST", credentials: "include", body: _ });
      });
  }
}
function sh() {
  let t = (0, Ci.useRef)(null);
  return (
    (0, Ci.useEffect)(() => {
      let e = setTimeout(() => {
        t.current?.show();
      }, 4e3);
      return () => {
        clearTimeout(e);
      };
    }, []),
    (0, Ht.jsxs)("dialog", {
      className: Pl,
      ref: t,
      children: [
        (0, Ht.jsxs)("div", {
          className: Ml,
          children: [
            (0, Ht.jsx)("div", {
              className: Y_,
              children: na.Localize("#CookiePrefPopup_Title"),
            }),
            (0, Ht.jsx)("div", {
              className: Y_,
              children: Xa(
                na.Localize("#CookiePrefPopup_Desc"),
                (0, Ht.jsx)("a", {
                  href: f.STORE_BASE_URL + "account/cookiepreferences",
                }),
                (0, Ht.jsx)("a", {
                  href: f.STORE_BASE_URL + "privacy_agreement",
                }),
              ),
            }),
          ],
        }),
        (0, Ht.jsxs)("div", {
          className: Tl,
          children: [
            (0, Ht.jsx)("button", {
              className: Al,
              onClick: async () => {
                await rm(1), t.current?.close();
              },
              children: na.Localize("#CookiePrefPopup_AcceptAll"),
            }),
            (0, Ht.jsx)("button", {
              className: xl,
              onClick: async () => {
                await rm(0), t.current?.close();
              },
              children: na.Localize("#CookiePrefPopup_RejectAll"),
            }),
          ],
        }),
      ],
    })
  );
}
function um() {
  let t = wb();
  return t && t.preference_state != 4 ? null : (0, Ht.jsx)(sh, {});
}
var dt = b(w());
var oa = "GamepadInput";
var bh = "Checkout",
  lh = "PinnedView",
  hi = class {
    PostMessage(e) {}
    RegisterForMessage(e) {}
  },
  aa = class {
    m_fnCallback = void 0;
    constructor() {
      SteamClient.BrowserView.RegisterForMessageFromParent(this.OnMessage);
    }
    RegisterForMessage(e) {
      this.m_fnCallback = e;
    }
    PostMessage(e) {
      let n = JSON.stringify(e);
      SteamClient.BrowserView.PostMessageToParent(oa, n);
    }
    OnMessage(e, n) {
      if (e == oa) {
        let o = JSON.parse(n);
        this.m_fnCallback(o);
      } else if (e == bh) {
        let o = JSON.parse(n);
        if (o.action == "paypal_success")
          try {
            window.OnPayPalSuccess(o.transid);
          } catch {}
        else if (o.action == "paypal_cancel")
          try {
            window.OnPayPalCancel(o.transid);
          } catch {}
      } else if (e == lh) {
        let o = JSON.parse(n);
        try {
          window.HandleOverlayWindowPinnedView(
            o.bPinned == !0,
            o.bShowPinnedView == !0,
          );
        } catch {}
      }
    }
  };
y([g], aa.prototype, "OnMessage", 1);
var ia = class {
  m_postWindow;
  m_fnCallback = void 0;
  constructor(e) {
    (this.m_postWindow = e), window.addEventListener("message", this.OnMessage);
  }
  RegisterForMessage(e) {
    this.m_fnCallback = e;
  }
  PostMessage(e) {
    let n = JSON.stringify(e);
    this.m_postWindow.postMessage({ gamepadMessage: oa, args: n }, "*");
  }
  OnMessage(e) {
    let n = e?.data;
    if (n && n.gamepadMessage == oa && n.args) {
      let o = JSON.parse(n.args);
      this.m_fnCallback(o);
    }
  }
};
y([g], ia.prototype, "OnMessage", 1);
var On = class {
  m_NavigationController;
  m_postMessage;
  m_bIsGamepadInputExternallyControlled = !1;
  constructor(e) {
    if (((this.m_NavigationController = e), mh()))
      (this.m_bIsGamepadInputExternallyControlled = !0),
        (this.m_postMessage = new aa()),
        this.m_NavigationController.UpdateSourceToGamepad();
    else {
      let n = window.top;
      n && n != window.self
        ? ((this.m_bIsGamepadInputExternallyControlled = !0),
          (this.m_postMessage = new ia(n)))
        : ((this.m_bIsGamepadInputExternallyControlled = !1),
          (this.m_postMessage = new hi()));
    }
    this.m_postMessage.RegisterForMessage(this.OnMessage),
      window.addEventListener("unload", this.PostPageUnloading),
      this.m_NavigationController.RegisterForUnhandledButtonDownEvents((n) =>
        this.PostButtonPressToSteam(n.detail.button),
      ),
      this.UpdateActionDescriptions({}),
      this.SendGameInputState("CGamepadWebBridgeClient constructor");
  }
  RegisterForFocusChanged(e) {
    return e.FocusChangedCallbacks.Register(this.OnFocusChanged).Unregister;
  }
  BIsGamepadInputExternallyControlled() {
    return this.m_bIsGamepadInputExternallyControlled;
  }
  BFromActiveNavTree(e, n) {
    let o = n?.Tree;
    return o || (o = e?.Tree), o && o.Controller.IsActiveFocusNavTree(o);
  }
  OnFocusChanged(e, n, o) {
    this.BFromActiveNavTree(n, o) && this.OnActionDescriptionTargetChanged(o);
  }
  UpdateActionDescriptions(e) {
    this.m_postMessage.PostMessage({
      type: "UpdateActionDescriptions",
      data: { descriptions: e },
    });
  }
  m_rgCallbackRegistrations = [];
  OnActionDescriptionTargetChanged(e) {
    if (
      (this.m_rgCallbackRegistrations.forEach((n) => n()),
      (this.m_rgCallbackRegistrations = []),
      e)
    ) {
      let n = () =>
        this.UpdateActionDescriptions(e.GetActiveActionDescriptions() ?? {});
      n();
      for (let o = e; o != null; o = o.Parent)
        this.m_rgCallbackRegistrations.push(
          e.ActionDescriptionChangedCallbackList.Register(n).Unregister,
        );
    } else this.UpdateActionDescriptions({});
  }
  OnMessage(e) {
    switch (e.type) {
      case "TakeFocus":
        this.m_NavigationController.TakeFocusChangingIFrame();
        break;
      case "ForwardedGameEventDetail":
        this.m_NavigationController.DispatchVirtualGamepad(
          e.data.event,
          e.data.details,
        );
        break;
    }
  }
  SendGameInputState(e) {
    let n = 3;
    window.bSupportsGamepadUI && (n = 4),
      this.m_postMessage.PostMessage({
        type: "GameInputState",
        data: { source: e, support: n },
      });
  }
  PostButtonPressToSteam(e) {
    this.m_postMessage.PostMessage({
      type: "ButtonPressed",
      data: { button: e },
    });
  }
  PostPageUnloading() {
    this.m_postMessage.PostMessage({
      type: "PageUnloading",
      data: { location: window.location.href },
    });
  }
};
y([g], On.prototype, "OnFocusChanged", 1),
  y([g], On.prototype, "OnMessage", 1),
  y([g], On.prototype, "PostPageUnloading", 1);
function mh() {
  return (
    Yo("BrowserView.RegisterForMessageFromParent") &&
    Yo("BrowserView.PostMessageToParent")
  );
}
var sm = [
    { index: 0, type: 1, category: "action" },
    { index: 1, type: 2, category: "action" },
    { index: 2, type: 3, category: "action" },
    { index: 3, type: 4, category: "action" },
    { index: 4, type: 5, category: "action" },
    { index: 5, type: 6, category: "action" },
    { index: 6, type: 7, category: "action" },
    { index: 7, type: 8, category: "action" },
    { index: 8, type: 13, category: "action" },
    { index: 9, type: 14, category: "action" },
    { index: 10, type: 15, category: "action" },
    { index: 11, type: 16, category: "action" },
    { index: 12, type: 9, category: "navigation" },
    { index: 13, type: 10, category: "navigation" },
    { index: 14, type: 11, category: "navigation" },
    { index: 15, type: 12, category: "navigation" },
    { index: 16, type: 27, category: "action" },
    { index: 17, type: 13, category: "action" },
  ],
  _a = class extends dn {
    m_rgGamepadStatus = [];
    constructor() {
      super(),
        this.SetSourceType(1),
        window.addEventListener("gamepadconnected", (e) => {
          this.m_bGamepadDetected ||
            (this.OnGamepadDetected(), this.PollGamepads());
        });
    }
    PollGamepads() {
      let e = navigator.getGamepads(),
        n = !1;
      for (let o = 0; o < e.length; o++) {
        let a = e[o];
        if (!a) continue;
        this.m_rgGamepadStatus[o] ||
          (this.m_rgGamepadStatus[o] = { buttons: [] });
        let i = this.m_rgGamepadStatus[o];
        for (let _ = 0; _ < sm.length; _++) {
          let r = sm[_],
            u = r.index;
          a.buttons[u] &&
            (a.buttons[u].pressed
              ? ((n = !0),
                i.buttons[u] ||
                  ((i.buttons[u] = !0), this.OnButtonDown(r.type)))
              : i.buttons[u] && (this.OnButtonUp(r.type), (i.buttons[u] = !1)));
        }
      }
      requestAnimationFrame(this.PollGamepads);
    }
  };
y([g], _a.prototype, "PollGamepads", 1);
var Fn = class extends dn {
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(2),
      e.addEventListener("keydown", this.OnKeyDown, { capture: !0 }),
      e.addEventListener("keyup", this.OnKeyUp, { capture: !0 }),
      e.addEventListener("blur", this.Reset);
  }
  OnKeyDown(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      e.stopPropagation(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)));
  }
  OnKeyUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n),
      (this.m_lastButtonDown = 0),
      e.preventDefault(),
      e.stopPropagation());
  }
  Reset() {
    this.m_lastButtonDown != 0 &&
      (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
  GetKeycodeFromEvent(e) {
    return Q.PLATFORM === "linux" && e.key.length > 1
      ? e.key || e.code
      : e.code || e.key;
  }
  BShouldSwallowEventForTextInputWorkaround(e) {
    if (
      !(
        Js(e.target) &&
        (e.target.nodeName === "INPUT" ||
          e.target.nodeName === "TEXTAREA" ||
          e.target.hasAttribute("contenteditable"))
      )
    )
      return !1;
    if (e.target.hasAttribute("contenteditable")) return !0;
    let o = this.GetKeycodeFromEvent(e),
      a = e.target,
      _ = Array.from(a.ownerDocument.getElementsByClassName("gpfocus")).some(
        (r) =>
          Array.from(r.classList).some((u) => u.includes("virtualkeyboard")),
      );
    switch (o) {
      case "ArrowUp": {
        if (_) return !0;
        let r = a?.value.indexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          r >= 0 &&
          r < (a?.selectionStart ?? 0)
        );
      }
      case "ArrowDown": {
        if (_) return !0;
        let r = a?.value.lastIndexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          r >= 0 &&
          r >= (a?.selectionStart ?? 0) &&
          (a?.selectionEnd ?? 0) < a?.value.length
        );
      }
      case "ArrowLeft":
        return _
          ? !0
          : (a?.selectionStart ?? 0) > 0 && (a?.selectionEnd ?? 0) > 0;
      case "ArrowRight":
        return _
          ? !0
          : (a?.selectionStart ?? 0) < a?.value.length &&
              (a?.selectionEnd ?? 0) < a?.value.length;
      case "Enter":
        return !0;
      case "Backspace":
        return !0;
      default:
        return !1;
    }
  }
  TranslateKey(e) {
    let n = this.GetKeycodeFromEvent(e),
      o = e.ctrlKey,
      a = e.shiftKey;
    if (this.BShouldSwallowEventForTextInputWorkaround(e)) return 0;
    if (o && a)
      switch (n) {
        case "Digit4":
          return 7;
        case "Digit5":
          return 8;
        default:
          return 0;
      }
    if (o)
      switch (n) {
        case "Digit1":
          return 27;
        case "Digit2":
          return 28;
        case "Digit3":
          return 13;
        case "Digit4":
          return 5;
        case "Digit5":
          return 6;
        case "Digit6":
          return 15;
        case "Digit7":
          return 16;
        case "Digit8":
          return 4;
        case "Digit9":
          return 13;
        case "Digit0":
          return 14;
      }
    switch (n) {
      case "Escape":
        return 2;
      case "Enter":
        return 1;
      case "Backspace":
        return 3;
      case "ArrowUp":
        return 9;
      case "ArrowDown":
        return 10;
      case "ArrowLeft":
        return 11;
      case "ArrowRight":
        return 12;
    }
    return 0;
  }
};
y([g], Fn.prototype, "OnKeyDown", 1),
  y([g], Fn.prototype, "OnKeyUp", 1),
  y([g], Fn.prototype, "Reset", 1);
var nn = class extends dn {
  m_nAccumulatedMouseMovement = 0;
  m_bFirstMouseUpdate = !0;
  m_nLastScreenX;
  m_nLastScreenY;
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(3),
      e.addEventListener("mousedown", this.OnMouseDown),
      e.addEventListener("mouseup", this.OnMouseUp),
      e.addEventListener("mousemove", this.OnMouseMove),
      e.addEventListener("blur", this.Reset);
  }
  TranslateKey(e) {
    switch (e.button) {
      case 3:
        return 2;
      default:
        return 0;
    }
  }
  OnMouseDown(e) {
    if (e.defaultPrevented) return;
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)),
      this.OnNavigationTypeChanged(3));
  }
  OnMouseUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n), (this.m_lastButtonDown = 0), e.preventDefault());
  }
  OnMouseMove(e) {
    if (!e.defaultPrevented) {
      if (this.m_bFirstMouseUpdate) {
        (this.m_nLastScreenX = e.screenX),
          (this.m_nLastScreenY = e.screenY),
          (this.m_bFirstMouseUpdate = !1);
        return;
      }
      (this.m_nAccumulatedMouseMovement +=
        Math.abs(e.screenX - this.m_nLastScreenX) +
        Math.abs(e.screenY - this.m_nLastScreenY)),
        this.m_nAccumulatedMouseMovement > 500 &&
          (this.Reset(), this.OnNavigationTypeChanged(3));
    }
  }
  Reset() {
    (this.m_nAccumulatedMouseMovement = 0),
      (this.m_bFirstMouseUpdate = !0),
      this.m_lastButtonDown != 0 &&
        (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
};
y([g], nn.prototype, "TranslateKey", 1),
  y([g], nn.prototype, "OnMouseDown", 1),
  y([g], nn.prototype, "OnMouseUp", 1),
  y([g], nn.prototype, "OnMouseMove", 1),
  y([g], nn.prototype, "Reset", 1);
var vo = class extends dn {
  constructor(e) {
    super(),
      this.SetSourceType(4),
      e.addEventListener("touchstart", this.OnTouchStart),
      e.addEventListener("touchend", this.OnTouchEnd);
  }
  OnTouchStart(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
  OnTouchEnd(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
};
y([g], vo.prototype, "OnTouchStart", 1), y([g], vo.prototype, "OnTouchEnd", 1);
var Z_ = "VirtualKeyboardMessage";
function lm(t) {
  return t && t.type === Z_;
}
var on = class {
  m_ownerWindow;
  constructor() {}
  Init(e) {
    return (
      (this.m_ownerWindow = e),
      this.m_ownerWindow.addEventListener("message", this.OnMessage),
      () => {
        this.m_ownerWindow.removeEventListener("message", this.OnMessage),
          (this.m_ownerWindow = void 0);
      }
    );
  }
  CreateVirtualKeyboardRef() {
    return {
      ShowVirtualKeyboard: this.ShowVirtualKeyboard,
      ShowModalKeyboard: this.ShowModalKeyboard,
      SetAsCurrentVirtualKeyboardTarget: () => {},
      HideVirtualKeyboard: this.HideVirtualKeyboard,
      DelayHideVirtualKeyboard: this.HideVirtualKeyboard,
      BIsActive: () => !0,
      BIsElementValidForInput: () => !0,
    };
  }
  ShowVirtualKeyboard() {
    this.SendMessage({ message: "ShowVirtualKeyboard" });
  }
  ShowModalKeyboard() {
    this.SendMessage({ message: "ShowModalKeyboard" });
  }
  HideVirtualKeyboard(e) {
    this.SendMessage({ message: "HideVirtualKeyboard", msDelay: e });
  }
  OnBrowserViewMessage(e, n) {
    e == Z_ && this.InternalDispatchMessage(JSON.parse(n));
  }
  OnMessage(e) {
    this.InternalDispatchMessage(e.data);
  }
  InternalDispatchMessage(e) {
    if (lm(e))
      switch (e.message) {
        case "OnEnterKeyPress":
          break;
      }
  }
  SendMessage(e) {
    let n = { type: "VirtualKeyboardMessage", ...e };
    Yo("BrowserView.PostMessageToParent")
      ? SteamClient.BrowserView.PostMessageToParent(n.type, JSON.stringify(n))
      : this.m_ownerWindow &&
        (pe(
          this.m_ownerWindow.parent &&
            this.m_ownerWindow.parent != this.m_ownerWindow,
          "CVirtualKeyboardClient: No parent client window available, cannot display virtual keyboard",
        ),
        this.m_ownerWindow.parent.postMessage(n, "*"));
  }
};
y([g], on.prototype, "ShowVirtualKeyboard", 1),
  y([g], on.prototype, "ShowModalKeyboard", 1),
  y([g], on.prototype, "HideVirtualKeyboard", 1),
  y([g], on.prototype, "OnBrowserViewMessage", 1),
  y([g], on.prototype, "OnMessage", 1);
var $_ = class {
  m_showKeyboard;
  m_showModalKeyboard;
  m_hideKeyboard;
  constructor(e, n, o, a) {
    (this.m_showKeyboard = n),
      (this.m_showModalKeyboard = o),
      (this.m_hideKeyboard = a),
      e.on("message", this.OnMessage);
  }
  OnMessage(e, n, o) {
    if (e == Z_) {
      let a = JSON.parse(n);
      if (lm(a))
        switch (a.message) {
          case "ShowVirtualKeyboard":
            this.m_showKeyboard();
            break;
          case "ShowModalKeyboard":
            this.m_showModalKeyboard();
            break;
          case "HideVirtualKeyboard":
            this.m_hideKeyboard();
            break;
        }
    }
  }
};
y([g], $_.prototype, "OnMessage", 1);
var an = b(H());
function mm(t) {
  let [e] = dt.useState(() => new _b()),
    [n, o] = dt.useState(),
    [a] = dt.useState(() => new on()),
    [i, _] = dt.useState(void 0),
    r = Ee();
  return (
    dt.useEffect(() => {
      if (r && !n) {
        let l = new On(e);
        o(l), _(l.BIsGamepadInputExternallyControlled());
      }
    }, [r, n, e]),
    dt.useEffect(() => {
      if (r) return a.Init(window);
    }, [r, a]),
    (0, an.jsxs)(ub, {
      controller: e,
      children: [
        i === !1 && r === !0 && (0, an.jsx)(ph, {}),
        (i === !0 || r === !0) && (0, an.jsx)(Hh, {}),
        r && (0, an.jsx)(dh, {}),
        (0, an.jsxs)(sb, {
          ownerWindow: window,
          children: [
            n && (0, an.jsx)(ch, { bridge: n }),
            (0, an.jsx)(rb, { factory: a, children: t.children }),
          ],
        }),
      ],
    })
  );
}
function ch(t) {
  let { bridge: e } = t,
    n = bb();
  return (
    dt.useEffect(() => {
      if (!(!n || !e)) return e.RegisterForFocusChanged(n);
    }, [n, e]),
    null
  );
}
function ph() {
  let [t] = dt.useState(() => new _a());
  return N_(t), null;
}
function er(t) {
  let [e, n] = dt.useState(void 0);
  dt.useEffect(() => n(new t(window)), [t]), N_(e);
}
function Hh() {
  return er(Fn), null;
}
function dh() {
  return er(nn), er(vo), null;
}
var Or = b(it(), 1),
  cp = b(w(), 1);
var ki = b(w()),
  cm = b(w());
var ko = b(w());
function fi(t) {
  let [e, n] = (0, ko.useState)(!1);
  return (
    (0, ko.useEffect)(() => {
      (0, ko.startTransition)(() => {
        n(!0);
      });
    }, []),
    e ? t.children : (t.fallback ?? null)
  );
}
var vi = b(H());
function wi(t) {
  let { dynamicImport: e, fallback: n, ...o } = t,
    [a] = (0, ki.useState)(() =>
      cm.default.lazy(async () => ({ default: await e() })),
    );
  return (0, vi.jsx)(fi, {
    fallback: n,
    children: (0, vi.jsx)(ki.Suspense, {
      fallback: n,
      children: (0, vi.jsx)(a, { ...o }),
    }),
  });
}
var _c = b(it(), 1),
  fn = b(w(), 1);
var wo = b(w(), 1);
var pm = "FbRIoYoNi9g-";
var Hm = "vnGo6vvKWMk-";
var dm = "kCO5XYi3veo-";
var ym = "Ca4SW9HC3ME-";
var gm = "P0JO-Sl0erw-";
var Ft = b(H(), 1);
async function tr(t, e) {
  let n = new FormData();
  n.set("language", t);
  let o = await fetch(e, {
    method: "POST",
    credentials: "same-origin",
    body: n,
  });
  if (!o.ok) throw o;
}
function Cm(t) {
  let {
      open: e,
      menuAction: n,
      changeLanguagePath: o,
      bLoggedIn: a,
      onDismiss: i,
    } = t,
    [_, r] = (0, wo.useState)(!1),
    u = (0, wo.useRef)(null);
  (0, wo.useEffect)(() => {
    e ? u.current?.showModal() : u.current?.close();
  }, [e]);
  async function s(l) {
    r(!0);
    try {
      await tr(l, o);
    } catch (c) {
      console.error(c), r(!1);
      return;
    }
    a
      ? (location.href = f.STORE_BASE_URL + "account/languagepreferences/")
      : n.href
        ? (location.href = n.href)
        : location.reload();
  }
  return (0, Ft.jsx)("dialog", {
    ref: u,
    className: pm,
    onMouseDown: (l) => l.target === u.current && i(),
    children: (0, Ft.jsxs)("div", {
      children: [
        (0, Ft.jsx)("hr", { className: dm }),
        (0, Ft.jsxs)("form", {
          method: "dialog",
          className: Hm,
          onSubmit: (l) => s(l.target.elements.namedItem("language")?.value),
          children: [
            (0, Ft.jsx)("select", {
              disabled: _,
              name: "language",
              onChange: (l) => s(l.target.value),
              defaultValue: uo().strLanguage,
              children: t.menuAction.children?.map((l) =>
                (0, Ft.jsx)(
                  "option",
                  { value: l.action_parameters?.language, children: l.label },
                  l.label,
                ),
              ),
            }),
            (0, Ft.jsx)("div", {
              className: ym,
              children: (0, Ft.jsx)("input", {
                type: "submit",
                value: "OK",
                className: gm,
              }),
            }),
          ],
        }),
      ],
    }),
  });
}
var nr = "h3Jy-1Il1os-";
var hm = "HOrB6lehQpg-";
var fm = "_7iCcob-JJ4g-";
var vm = "QYT54GHN-rI-";
var km = "_79DIT7RUQ5g-";
var or = "Hxi-pnf9Xlw-";
var ar = "TwsehSqoph8-";
var wm = "cQPGTl-Lp-0-";
var Sm = "rzUmQa-ty1I-";
var ir = "_2CYMhC951F4-";
var Rm = "h8dQ-Uyh4L0-";
var Pm = "NzGUCXVXDcA-";
var Mm = "L09rGTMfR9c-";
var Am = "./global_header_brazilian-53KW44CA.json";
var xm = "./global_header_bulgarian-ZZXRWCBA.json";
var Tm = "./global_header_czech-DJIVXRCA.json";
var Dm = "./global_header_danish-P2TF25DA.json";
var Lm = "./global_header_dutch-7E76TWDA.json";
var zm = "./global_header_english-F2LU6TBA.json";
var Bm = "./global_header_finnish-DU6XP6CA.json";
var Im = "./global_header_french-PI2EE3CA.json";
var Em = "./global_header_german-ZWLA5LCA.json";
var Nm = "./global_header_greek-CA2HDYDA.json";
var Om = "./global_header_hungarian-UB5LTKDA.json";
var Fm = "./global_header_indonesian-MBENTBBA.json";
var Gm = "./global_header_italian-R43PL5DA.json";
var jm = "./global_header_japanese-W4G3OSDA.json";
var Um = "./global_header_koreana-UU4SJADA.json";
var Vm = "./global_header_latam-HRFU66CA.json";
var Wm = "./global_header_norwegian-QDUWNXBA.json";
var qm = "./global_header_polish-KJ3L66AA.json";
var Km = "./global_header_portuguese-JFUPEFCA.json";
var Jm = "./global_header_romanian-4FLNKVBA.json";
var Ym = "./global_header_russian-YVPP5QAA.json";
var Qm = "./global_header_sc_schinese-MKJGJICA.json";
var Xm = "./global_header_schinese-EMP74NBA.json";
var $m = "./global_header_spanish-KIXBTGCA.json";
var Zm = "./global_header_swedish-4HWK3GBA.json";
var ec = "./global_header_tchinese-LEIC2VAA.json";
var tc = "./global_header_thai-HK4PYOBA.json";
var nc = "./global_header_turkish-MKIJAGBA.json";
var oc = "./global_header_ukrainian-F3P6YVAA.json";
var ac = "./global_header_vietnamese-KH5UZSCA.json";
var W = {};
W.brazilian = Am;
W.bulgarian = xm;
W.czech = Tm;
W.danish = Dm;
W.dutch = Lm;
W.english = zm;
W.finnish = Bm;
W.french = Im;
W.german = Em;
W.greek = Nm;
W.hungarian = Om;
W.indonesian = Fm;
W.italian = Gm;
W.japanese = jm;
W.koreana = Um;
W.latam = Vm;
W.norwegian = Wm;
W.polish = qm;
W.portuguese = Km;
W.romanian = Jm;
W.russian = Ym;
W.sc_schinese = Qm;
W.schinese = Xm;
W.spanish = $m;
W.swedish = Zm;
W.tchinese = ec;
W.thai = tc;
W.turkish = nc;
W.ukrainian = oc;
W.vietnamese = ac;
async function _r(t) {
  if (W[t]) return (await fetch(new URL(W[t], import.meta.url))).json();
}
var $ = ro(_r);
function Si() {
  let t = document.createElement("form");
  (t.action = "/logout/"),
    (t.method = "POST"),
    document.body.appendChild(t),
    t.submit();
}
var d = b(Is());
var rr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country_code || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              country_code: { n: 1, br: S.readString, bw: R.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Request";
    }
  },
  ur = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotions || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { promotions: { n: 1, c: sr, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response";
    }
  },
  sr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotionid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              promotionid: { n: 1, br: S.readUint32, bw: R.writeUint32 },
              promotion_description: {
                n: 2,
                br: S.readString,
                bw: R.writeString,
              },
              minimum_cart_amount: {
                n: 3,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              minimum_cart_amount_for_display: {
                n: 4,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              discount_amount: {
                n: 5,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              currency_code: { n: 6, br: S.readInt32, bw: R.writeInt32 },
              available_use_count: { n: 7, br: S.readInt32, bw: R.writeInt32 },
              promotional_discount_type: {
                n: 8,
                br: S.readInt32,
                bw: R.writeInt32,
              },
              loyalty_reward_id: { n: 9, br: S.readInt32, bw: R.writeInt32 },
              localized_name_token: {
                n: 10,
                br: S.readString,
                bw: R.writeString,
              },
              max_use_count: { n: 11, br: S.readInt32, bw: R.writeInt32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response_ValveDiscountPromotionDetails";
    }
  },
  br = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.has_wallet || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, [13], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              has_wallet: { n: 1, br: S.readBool, bw: R.writeBool },
              user_country_code: { n: 2, br: S.readString, bw: R.writeString },
              wallet_country_code: {
                n: 3,
                br: S.readString,
                bw: R.writeString,
              },
              wallet_state: { n: 4, br: S.readString, bw: R.writeString },
              balance: { n: 5, br: S.readInt64String, bw: R.writeInt64String },
              delayed_balance: {
                n: 6,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              currency_code: { n: 7, br: S.readInt32, bw: R.writeInt32 },
              time_most_recent_txn: {
                n: 8,
                br: S.readUint32,
                bw: R.writeUint32,
              },
              most_recent_txnid: {
                n: 9,
                br: S.readUint64String,
                bw: R.writeUint64String,
              },
              balance_in_usd: {
                n: 10,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              delayed_balance_in_usd: {
                n: 11,
                br: S.readInt64String,
                bw: R.writeInt64String,
              },
              has_wallet_in_other_regions: {
                n: 12,
                br: S.readBool,
                bw: R.writeBool,
              },
              other_regions: {
                n: 13,
                r: !0,
                q: !0,
                br: S.readInt32,
                pbr: S.readPackedInt32,
                bw: R.writeRepeatedInt32,
              },
              formatted_balance: { n: 14, br: S.readString, bw: R.writeString },
              formatted_delayed_balance: {
                n: 15,
                br: S.readString,
                bw: R.writeString,
              },
              delayed_balance_available_min_time: {
                n: 16,
                br: S.readInt32,
                bw: R.writeInt32,
              },
              delayed_balance_available_max_time: {
                n: 17,
                br: S.readInt32,
                bw: R.writeInt32,
              },
              delayed_balance_newest_source: {
                n: 18,
                br: S.readInt32,
                bw: R.writeInt32,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetWalletDetails_Response";
    }
  },
  lr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.include_balance_in_usd || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              include_balance_in_usd: { n: 1, br: S.readBool, bw: R.writeBool },
              wallet_region: { n: 2, d: 1, br: S.readInt32, bw: R.writeInt32 },
              include_formatted_balance: {
                n: 3,
                br: S.readBool,
                bw: R.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetClientWalletDetails_Request";
    }
  },
  mr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Request";
    }
  },
  cr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.pwid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              pwid: { n: 1, br: S.readUint32, bw: R.writeUint32 },
              identity_verification: {
                n: 2,
                br: S.readUint32,
                bw: R.writeUint32,
              },
              performed_age_verification: {
                n: 3,
                br: S.readBool,
                bw: R.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Response";
    }
  },
  pr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.appid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { appid: { n: 1, br: S.readUint32, bw: R.writeUint32 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Request";
    }
  },
  Hr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Response";
    }
  },
  dr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: S.readFixed64String,
                bw: R.writeFixed64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Request";
    }
  },
  yr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { country: { n: 1, br: S.readString, bw: R.writeString } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Response";
    }
  },
  gr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_limit || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_limit: { n: 1, br: S.readUint32, bw: R.writeUint32 },
              invite_duration: { n: 2, br: S.readUint32, bw: R.writeUint32 },
              invite_note: { n: 3, br: S.readString, bw: R.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Request";
    }
  },
  Ri = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: S.readString, bw: R.writeString },
              invite_limit: {
                n: 2,
                br: S.readUint64String,
                bw: R.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: S.readUint64String,
                bw: R.writeUint64String,
              },
              time_created: { n: 4, br: S.readFixed32, bw: R.writeFixed32 },
              valid: { n: 5, br: S.readBool, bw: R.writeBool },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Response";
    }
  },
  Cr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Request";
    }
  },
  hr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.tokens || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { tokens: { n: 1, c: Ri, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Response";
    }
  },
  fr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: S.readFixed64String,
                bw: R.writeFixed64String,
              },
              invite_token: { n: 2, br: S.readString, bw: R.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Request";
    }
  },
  vr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.valid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              valid: { n: 1, br: S.readBool, bw: R.writeBool },
              steamid: {
                n: 2,
                br: S.readUint64String,
                bw: R.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: S.readUint64String,
                bw: R.writeUint64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Response";
    }
  },
  kr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: S.readFixed64String,
                bw: R.writeFixed64String,
              },
              invite_token: { n: 2, br: S.readString, bw: R.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Request";
    }
  },
  wr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Response";
    }
  },
  Sr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: S.readString, bw: R.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Request";
    }
  },
  Rr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Response";
    }
  },
  Pr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.compat_tool || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              compat_tool: { n: 1, br: S.readUint32, bw: R.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Request";
    }
  },
  Mr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Response";
    }
  },
  Ar = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: S.readFixed64String,
                bw: R.writeFixed64String,
              },
              client_token: { n: 2, br: S.readBytes, bw: R.writeBytes },
              expiry: { n: 3, br: S.readUint32, bw: R.writeUint32 },
              deviceid: { n: 4, br: S.readUint32, bw: R.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_Token";
    }
  },
  xr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.result || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              result: { n: 1, br: S.readUint32, bw: R.writeUint32 },
              token: { n: 2, c: Ar },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeDevice_Response";
    }
  },
  Tr = class t extends d.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || ie(t.M()),
        d.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: S.readFixed64String,
                bw: R.writeFixed64String,
              },
              appid: { n: 2, br: S.readUint32, bw: R.writeUint32 },
              device_info: { n: 3, br: S.readString, bw: R.writeString },
              deviceid: { n: 4, br: S.readUint32, bw: R.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new d.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new d.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeCurrentDevice_Request";
    }
  },
  Dr;
((c) => {
  function t(m, p) {
    return m.SendMsg(
      "UserAccount.GetAvailableValveDiscountPromotions#1",
      Ie(rr, p),
      ur,
      { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
    );
  }
  c.GetAvailableValveDiscountPromotions = t;
  function e(m, p) {
    return m.SendMsg("UserAccount.GetClientWalletDetails#1", Ie(lr, p), br, {
      ePrivilege: 1,
    });
  }
  c.GetClientWalletDetails = e;
  function n(m, p) {
    return m.SendMsg("UserAccount.GetAccountLinkStatus#1", Ie(mr, p), cr, {
      ePrivilege: 1,
    });
  }
  c.GetAccountLinkStatus = n;
  function o(m, p) {
    return m.SendMsg("UserAccount.CancelLicenseForApp#1", Ie(pr, p), Hr, {
      ePrivilege: 1,
    });
  }
  c.CancelLicenseForApp = o;
  function a(m, p) {
    return m.SendMsg("UserAccount.GetUserCountry#1", Ie(dr, p), yr, {
      ePrivilege: 1,
    });
  }
  c.GetUserCountry = a;
  function i(m, p) {
    return m.SendMsg("UserAccount.CreateFriendInviteToken#1", Ie(gr, p), Ri, {
      ePrivilege: 3,
    });
  }
  c.CreateFriendInviteToken = i;
  function _(m, p) {
    return m.SendMsg("UserAccount.GetFriendInviteTokens#1", Ie(Cr, p), hr, {
      ePrivilege: 1,
    });
  }
  c.GetFriendInviteTokens = _;
  function r(m, p) {
    return m.SendMsg("UserAccount.ViewFriendInviteToken#1", Ie(fr, p), vr, {
      ePrivilege: 1,
    });
  }
  c.ViewFriendInviteToken = r;
  function u(m, p) {
    return m.SendMsg("UserAccount.RedeemFriendInviteToken#1", Ie(kr, p), wr, {
      ePrivilege: 1,
    });
  }
  c.RedeemFriendInviteToken = u;
  function s(m, p) {
    return m.SendMsg("UserAccount.RevokeFriendInviteToken#1", Ie(Sr, p), Rr, {
      ePrivilege: 1,
    });
  }
  c.RevokeFriendInviteToken = s;
  function l(m, p) {
    return m.SendMsg("UserAccount.RegisterCompatTool#1", Ie(Pr, p), Mr, {
      ePrivilege: 1,
    });
  }
  c.RegisterCompatTool = l;
})((Dr ||= {}));
var Qh;
((e) => {
  function t(n, o) {
    return n.SendMsg("EmbeddedClient.AuthorizeCurrentDevice#1", Ie(Tr, o), xr, {
      ePrivilege: 1,
    });
  }
  e.AuthorizeCurrentDevice = t;
})((Qh ||= {}));
function Xh() {
  return ["CurrentUserWalletDetails", pt.accountid];
}
function $h(t) {
  return {
    queryKey: Xh(),
    queryFn: async () => {
      if (!pt.accountid) return;
      let e = f.EREALM === 2;
      return (
        await Dr.GetClientWalletDetails(t, {
          wallet_region: e ? 2 : 1,
          include_formatted_balance: !0,
        })
      )
        .Body()
        .toObject();
    },
    staleTime: 10 * 60 * 1e3,
  };
}
function Pi() {
  let t = rt();
  return tt($h(t));
}
var le = b(H(), 1);
function rc(t) {
  let { action: e } = t,
    n = (0, fn.useContext)(uc),
    o = "span",
    a = {};
  return (
    e.href &&
      ((o = B),
      (a.to = e.href),
      (a.external = !e.ssr),
      e.href.startsWith(f.STORE_BASE_URL) &&
        (a.snr = { feature: "globalheader" })),
    e.action &&
      (e.href || (o = "button"),
      (a.onClick = async function (_) {
        switch ((_.preventDefault(), e.action)) {
          case 1: {
            Si();
            return;
          }
          case 2: {
            if (e.action_parameters?.language === void 0)
              throw "Missing language";
            try {
              await tr(e.action_parameters.language, n.changeLanguagePath);
            } catch (r) {
              console.error(r);
              return;
            }
            n.userDetails
              ? (location.href =
                  f.STORE_BASE_URL + "account/languagepreferences/")
              : e.href
                ? (location.href = e.href)
                : location.reload();
            return;
          }
        }
      })),
    (0, le.jsx)(Ho, {
      menuTarget: (0, le.jsx)(o, {
        ...a,
        tabIndex: 0,
        className: ar,
        children: Xa(e.label, (0, le.jsx)("span", { className: hm })),
      }),
      direction: "left",
      className: Sm,
      children: e.children?.map((i, _) => (0, le.jsx)(rc, { action: i }, _)),
    })
  );
}
var uc = (0, fn.createContext)({});
function ic(t) {
  return (0, le.jsx)(uc.Provider, {
    value: t,
    children: t.globalActions.map((e, n) =>
      (0, le.jsx)(
        Ho,
        {
          direction: "down-left",
          menuTarget: (0, le.jsx)("button", {
            className: vm,
            children: e.label,
          }),
          className: wm,
          interactionMode: 1,
          children: e.children?.map((o, a) =>
            (0, le.jsx)(rc, { action: o }, a),
          ),
        },
        n,
      ),
    ),
  });
}
function Zh() {
  let { data: t } = Pi();
  return (0, le.jsx)("div", { className: km, children: t?.formatted_balance });
}
function sc(t) {
  let { userDetails: e } = t,
    [n, o] = (0, fn.useState)(void 0),
    a = `/login/${n ? `?redir=${encodeURIComponent(n)}` : ""}`;
  return (
    (0, fn.useEffect)(() => {
      o(location.href);
    }, []),
    e
      ? (0, le.jsxs)("div", {
          className: nr,
          children: [
            (0, le.jsx)("a", {
              className: ir,
              href: f.STORE_BASE_URL + "about/",
              children: $.Localize("#global_menu_install_steam"),
            }),
            t.notifications &&
              (0, le.jsx)("div", {
                className: Pm,
                children: (0, le.jsx)(wi, {
                  dynamicImport: async () =>
                    (await import("./greenenvelope-YCC73IUU.js")).GreenEnvelope,
                  fallback: (0, le.jsx)("div", { className: Mm }),
                  bResponsiveHeader: !1,
                  notifications: t.notifications,
                }),
              }),
            (0, le.jsxs)("div", {
              className: or,
              children: [
                (0, le.jsx)(ic, {
                  userDetails: e,
                  globalActions: t.globalActions,
                  changeLanguagePath: t.changeLanguagePath,
                }),
                (0, le.jsx)(Zh, {}),
              ],
            }),
            (0, le.jsx)("a", {
              className: fm,
              href: Xo(e),
              children: (0, le.jsx)(_i, {
                playerLinkDetails: e,
                statusPosition: "border",
                alt: "",
                role: "presentation",
                size: "Small",
              }),
            }),
          ],
        })
      : (0, le.jsx)("div", {
          className: nr,
          children: (0, le.jsxs)("div", {
            className: or,
            children: [
              (0, le.jsx)("a", {
                className: (0, _c.default)(ir, Rm),
                href: f.STORE_BASE_URL + "about/",
                children: $.Localize("#global_menu_install_steam"),
              }),
              " ",
              (0, le.jsx)("a", {
                href: a,
                className: ar,
                children: $.Localize("#global_menu_login"),
              }),
              "  |  ",
              (0, le.jsx)(ic, {
                userDetails: e,
                globalActions: t.globalActions,
                changeLanguagePath: t.changeLanguagePath,
              }),
            ],
          }),
        })
  );
}
var bc = "eGsI8rO3zfU-";
var lc = "Ca2l5LKN6as-";
var mc = "ewJx-kmPr-8-";
var cc = "SmaLDT4y0RE-";
var pc = "LyTAF1R-NHw-";
var Lr = "_2GKjdN512t4-";
var Hc = "FhcQPauG0Bc-";
var dc = "_40MmWrTStR0-";
var yc = "_5N8HUkyU1sA-";
var zr = b(it(), 1),
  Rc = b(w(), 1);
var gc = "MMrgod6KQlc-";
var Cc = "k0AAbwuFzJQ-";
var hc = "ofgQne2Wvqg-";
var fc = "FTufO00UqAw-";
var vc = "iHkamGVWNgw-";
var kc = "_9-ylsFqlD1Y-";
var wc = "_99jWUQL7ajk-";
var Sc = "maI6DbOJuy4-";
var Ve = b(H(), 1),
  _n = (0, Rc.forwardRef)(function (e, n) {
    let { item: o, responsive: a, className: i, ..._ } = e,
      r = di().startsWith(o.href),
      u = o.label;
    return (
      a && (u = o.label_responsive ?? o.label),
      (0, Ve.jsx)(Ve.Fragment, {
        children: (0, Ve.jsxs)(B, {
          className: (0, zr.default)(i, o.valveOnly && wc),
          to: o.href,
          "aria-current": r ? "page" : void 0,
          external: !o.ssr,
          snr: o.href.startsWith(f.STORE_BASE_URL) && {
            feature: "globalheader",
          },
          ref: n,
          ..._,
          children: [
            u,
            o.new &&
              (0, Ve.jsx)("span", {
                className: Sc,
                children: $.Localize("#m_ext_new"),
              }),
          ],
        }),
      })
    );
  });
function Pc(t) {
  let { navContent: e } = t;
  return (0, Ve.jsx)(Ho, {
    menuTarget: (0, Ve.jsx)(_n, { item: e, className: kc }),
    direction: "right",
    children: e.children?.map((n, o) => (0, Ve.jsx)(Pc, { navContent: n }, o)),
  });
}
function Mc(t) {
  return (0, Ve.jsx)("nav", {
    className: gc,
    children: (0, Ve.jsx)("ul", {
      className: Cc,
      children: t.navContent.map((e, n) =>
        (0, Ve.jsx)(
          Ho,
          {
            menuTarget: (0, Ve.jsx)(_n, {
              item: e,
              className: (0, zr.default)(hc, e.userContent && fc),
            }),
            direction: "down",
            className: vc,
            children: e.children?.map((o, a) =>
              (0, Ve.jsx)(Pc, { navContent: o }, a),
            ),
          },
          n,
        ),
      ),
    }),
  });
}
var Ac = "/X3MIBOBA.png";
var xc = "/TYQTXQDA.svg";
var Br = "/5EH3SHCA.svg";
var Tc = "/KSEIVHDA.png";
function So() {
  return Zt(Qo) === "desktop";
}
function rf() {
  return Zt(Qo) === "touch";
}
function Dc() {
  let t = [];
  return (
    So() && t.push("force_desktop"),
    rf() && t.push("responsive touch"),
    t.join(" ")
  );
}
function Lc() {
  ai(Qo, "desktop"), "location" in window && location.reload();
}
function zc() {
  So() && ii(Qo), "location" in window && location.reload();
}
var At = b(it(), 1),
  xt = b(w(), 1);
var Bc = "UJ-b28jREN4-";
var Ic = "-ackiz2p900-";
var Ec = "dsfHY-n2vRo-";
var Nc = "_7QSpS4Fcxis-";
var Oc = "SMuDlFUQZ7c-";
var Fc = "fbumr489F1M-";
var Gc = "_4Irj26b6cAc-";
var jc = "J0hwuL-5qaI-";
var Ir = "vaiPH0LUuOg-";
var Er = "lHc2D8LzCAM-";
var Uc = "qMsE88Z2WWg-";
var Vc = "SI1K4dzVIa4-";
var Wc = "wQ0CyaaCCZw-";
var qc = "QB99AacwCmk-";
var Kc = "_8pHkaq8PPAw-";
var Gt = "Ud1IMOOMuOI-";
var Jc = "_58A1pqE2uSo-";
var Gn = "myYtt3d51V4-";
var Yc = "cmJ4ozhx9RE-";
var Qc = "_2wGlOytoBKw-";
var Xc = "_049Kz8GkLto-";
var $c = "qNNahG-7Lqc-";
var Zc = "Yp-VG7Zk9AY-";
var ep = "CX4Bz9fkpP4-";
var tp = "mL8bNWbmixg-";
var np = "fPuSnTPv8Sw-";
var op = "pHDUu-G3uyI-";
var ap = "do714Zjyklo-";
var ip = "eemuAILDlkQ-";
var _p = "Q-TiFOlMJ8s-";
var Nr = "V29-mSaJz7Q-";
var rp = "lFK0b3Au9I8-";
var up = "eaAkMgON-CQ-";
var sp = "gLRm-ue6Z7Q-";
var bp = "RRZn8XwJQEk-";
var k = b(H(), 1);
function sf(t) {
  return t.private_data?.persona_state === 0
    ? Gc
    : t.private_data?.game_id !== void 0
      ? Fc
      : Oc;
}
function bf() {
  let { data: t } = ui();
  return t
    ? (0, k.jsx)("div", {
        className: Ir,
        children: (0, k.jsx)(B, {
          snr: !0,
          external: !0,
          to: f.STORE_BASE_URL + "cart",
          className: Ir,
          children: $.LocalizeReact(
            "#Cart_CountWidget",
            (0, k.jsx)("b", { children: Wo(t) }),
          ),
        }),
      })
    : null;
}
function lf() {
  let { data: t } = Pi();
  return t?.formatted_balance
    ? (0, k.jsx)("div", {
        className: Er,
        children: (0, k.jsx)(B, {
          snr: !0,
          external: !0,
          to: f.STORE_BASE_URL + "account",
          className: Er,
          children: $.LocalizeReact(
            "#responsive_menu_wallet_balance",
            (0, k.jsx)("b", { children: t.formatted_balance }),
          ),
        }),
      })
    : null;
}
function lp(t) {
  let { navContent: e, children: n, labelAddition: o } = t,
    a = (0, xt.useRef)(null),
    i = (0, xt.useRef)(null),
    _ = (0, xt.useRef)(null),
    r = (0, xt.useRef)();
  if (!n && (!e.children || e.children.length === 0))
    return (0, k.jsx)(_n, { item: e, className: Gt, responsive: !0 });
  function u() {
    a.current &&
      (r.current && r.current.cancel(),
      (r.current = a.current.animate(
        {
          height: [
            `${_.current.offsetHeight}px`,
            `${i.current.offsetHeight + _.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )));
  }
  function s() {
    a.current &&
      (r.current && r.current.cancel(),
      (r.current = a.current.animate(
        {
          height: [
            `${i.current.offsetHeight + _.current.offsetHeight}px`,
            `${_.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )),
      r.current.addEventListener("finish", () => {
        a.current && (a.current.open = !1);
      }));
  }
  function l() {
    a.current?.open ? u() : a.current && s();
  }
  return (0, k.jsxs)("details", {
    name: "responsive-menu",
    className: qc,
    ref: a,
    onToggle: l,
    children: [
      (0, k.jsxs)("summary", {
        className: Gt,
        ref: _,
        children: [
          e.label_responsive ?? e.label,
          " ",
          o,
          " ",
          (0, k.jsx)("div", { className: Jc }),
        ],
      }),
      (0, k.jsxs)("div", {
        className: Kc,
        ref: i,
        children: [
          e.children?.map((c, m) =>
            (0, k.jsx)(_n, { item: c, className: Yc, responsive: !0 }, m),
          ),
          n,
        ],
      }),
    ],
  });
}
function mf() {
  return (0, k.jsxs)(k.Fragment, {
    children: [
      (0, k.jsxs)("div", {
        className: tp,
        children: [
          (0, k.jsx)(B, {
            snr: !0,
            external: !0,
            to: f.STORE_BASE_URL + "about",
            children: "关于蒸汽平台",
          }),
          "  |  ",
          (0, k.jsx)(B, {
            snr: !0,
            external: !0,
            to: f.STORE_BASE_URL + "steam_refunds",
            children: "退款政策",
          }),
          "  |  ",
          (0, k.jsx)(B, {
            snr: !0,
            external: !0,
            to: f.STORE_BASE_URL + "subscriber_agreement",
            children: "软件许可服务协议",
          }),
          "  |  ",
          (0, k.jsx)("br", {}),
          (0, k.jsx)(B, {
            snr: !0,
            external: !0,
            to: f.STORE_BASE_URL + "privacy_agreement",
            children: "个人信息保护政策",
          }),
          "  |  ",
          (0, k.jsx)(B, {
            snr: !0,
            external: !0,
            to: f.STORE_BASE_URL + "data_outbound",
            children: "个人信息出境告知书",
          }),
          "  |  ",
          (0, k.jsx)("br", {}),
          (0, k.jsx)(B, {
            to: "https://about.steamchina.com/content_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "不良内容举报投诉",
          }),
          "  |  ",
          (0, k.jsx)(B, {
            to: "https://about.steamchina.com/infringement_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "侵权投诉",
          }),
          "  |  ",
          (0, k.jsx)(B, {
            to: "https://about.steamchina.com/parentguardianship_agreement.html",
            target: "_blank",
            rel: "noreferrer",
            children: "家长监护",
          }),
        ],
      }),
      (0, k.jsxs)("div", {
        className: np,
        children: [
          (0, k.jsxs)(B, {
            external: !0,
            className: Nr,
            to: "http://qr.weibo.cn/g/7kla92",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, k.jsx)("img", {
                alt: "微博",
                className: up,
                src: `${f.STORE_CDN_URL}/public/shared/images/footer/weibo_logo.svg?v=1`,
              }),
              (0, k.jsx)("div", { children: "微博" }),
            ],
          }),
          (0, k.jsxs)(B, {
            external: !0,
            className: Nr,
            to: "http://weixin.qq.com/r/LC-K0i3EunDFrWmx93o_",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, k.jsx)("img", {
                alt: "微信",
                className: rp,
                src: `${f.STORE_CDN_URL}/public/shared/images/footer/wechat_logo.svg?v=1`,
              }),
              (0, k.jsx)("div", { children: "微信" }),
            ],
          }),
        ],
      }),
      (0, k.jsx)("hr", { className: ip }),
      (0, k.jsxs)("div", {
        className: _p,
        children: [
          (0, k.jsx)(B, {
            external: !0,
            to: "https://www.wanmei.com/",
            target: "_blank",
            rel: "noreferrer",
            children: (0, k.jsx)("img", {
              className: sp,
              src: `${f.STORE_CDN_URL}/public/shared/images/footer/pw_logo.svg?v=1`,
              alt: "",
            }),
          }),
          (0, k.jsx)(B, {
            external: !0,
            to: "https://www.valvesoftware.com",
            target: "_blank",
            rel: "noreferrer",
            children: (0, k.jsx)("img", {
              className: bp,
              src: `${f.STORE_CDN_URL}/public/shared/images/footer/valve_logo.svg?v=1`,
              alt: "",
            }),
          }),
        ],
      }),
      (0, k.jsxs)("div", {
        className: op,
        children: [
          (0, k.jsxs)("div", {
            children: [
              "© ",
              new Date().getFullYear(),
              " Valve Corporation 版权所有，完美世界已获授权。",
              (0, k.jsx)("br", {}),
              "所有商标均属于其在美国或其他国家的拥有者。",
            ],
          }),
          (0, k.jsxs)("div", {
            className: ap,
            children: [
              "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。",
              (0, k.jsx)("br", {}),
              "增值电信业务经营许可证沪B2-20180406",
            ],
          }),
        ],
      }),
    ],
  });
}
function cf() {
  return (0, k.jsxs)(k.Fragment, {
    children: [
      (0, k.jsx)("div", {
        children: (0, k.jsx)("img", {
          src: `${f.STORE_CDN_URL}/public/shared/images/responsive/logo_valve_footer.png`,
          alt: "",
        }),
      }),
      $.Localize("#responsive_footer_copyright"),
      "  ",
      (0, k.jsxs)("span", {
        children: [
          (0, k.jsx)(B, {
            to: f.STORE_BASE_URL + "privacy_agreement/",
            target: "_blank",
            children: $.Localize("#Common_Footer_PrivacyPolicy"),
          }),
          " |  ",
          (0, k.jsx)(B, {
            to: "http://www.valvesoftware.com/legal.htm",
            target: "_blank",
            children: $.Localize("#Common_Footer_Legal"),
          }),
          " |  ",
          (0, k.jsx)(B, {
            to: f.STORE_BASE_URL + "subscriber_agreement/",
            target: "_blank",
            children: $.Localize("#Common_Footer_SSA"),
          }),
          " |  ",
          (0, k.jsx)(B, {
            to: f.STORE_BASE_URL + "steam_refunds/",
            target: "_blank",
            children: $.Localize("#Common_Footer_Refunds"),
          }),
        ],
      }),
    ],
  });
}
function mp(t) {
  let {
      userDetails: e,
      navContent: n,
      globalActions: o,
      changeLanguagePath: a,
      open: i,
      onDismiss: _,
      cartInResponsiveMenu: r,
    } = t,
    [u, s] = (0, xt.useState)(!1),
    l = (0, xt.useRef)(null),
    c = (0, xt.useRef)();
  (0, xt.useEffect)(() => {
    l.current &&
      (i
        ? (l.current?.showModal(),
          c.current?.cancel(),
          (c.current = l.current.animate(
            { transform: ["translateX(-280px)", "translateX(0)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )))
        : c.current &&
          (c.current?.cancel(),
          (c.current = l.current.animate(
            { transform: ["translateX(0)", "translateX(-280px)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )),
          c.current.addEventListener("finish", () => l.current?.close())));
  }, [i]);
  let m =
      o.find((C) => C.id === "language") ??
      o[0]?.children?.find((C) => C.id === "language"),
    p = {};
  return (
    i || (p.inert = "inert"),
    (0, k.jsxs)(k.Fragment, {
      children: [
        (0, k.jsxs)("dialog", {
          className: (0, At.default)(Bc, Ot(f.EREALM) && Ic),
          ref: l,
          onMouseDown: (C) => C.target === l.current && _(),
          onKeyDown: (C) => C.key === "Escape" && _(),
          ...p,
          children: [
            (0, k.jsxs)("div", {
              className: Ec,
              children: [
                !e &&
                  (0, k.jsx)(_n, {
                    className: (0, At.default)(Gt),
                    item: {
                      href: "/login/",
                      label: $.Localize("#global_menu_login_caps"),
                    },
                  }),
                e &&
                  (0, k.jsxs)("div", {
                    className: (0, At.default)(Nc, sf(e)),
                    children: [
                      (0, k.jsxs)("div", {
                        className: jc,
                        children: [
                          (0, k.jsx)("a", {
                            className: Wc,
                            href: Xo(e),
                            children: (0, k.jsx)(_i, {
                              playerLinkDetails: e,
                              statusPosition: "border",
                              alt: "",
                              role: "presentation",
                              size: "Small",
                              className: Vc,
                            }),
                          }),
                          " ",
                          (0, k.jsx)("a", {
                            className: Uc,
                            href: Xo(e),
                            children: e.public_data?.persona_name,
                          }),
                        ],
                      }),
                      r && (0, k.jsx)(bf, {}),
                      (0, k.jsx)(lf, {}),
                    ],
                  }),
                t.notifications &&
                  (0, k.jsx)(lp, {
                    navContent: { label: "Notifications", href: "" },
                    labelAddition: (0, k.jsxs)("div", {
                      className: (0, At.default)(
                        Qc,
                        t.notifications?.unread_count && $c,
                      ),
                      children: [
                        t.notifications.unread_count > 0 &&
                          (0, k.jsx)("span", { className: Xc }),
                        (0, k.jsx)("span", {
                          className: Zc,
                          children: Wo(t.notifications?.unread_count ?? 0),
                        }),
                      ],
                    }),
                    children: (0, k.jsx)(wi, {
                      dynamicImport: async () =>
                        (await import("./greenenvelope-YCC73IUU.js"))
                          .GreenEnvelope,
                      fallback: (0, k.jsx)("div", {}),
                      bResponsiveHeader: !0,
                      notifications: t.notifications,
                    }),
                  }),
                n.map((C, h) => (0, k.jsx)(lp, { navContent: C }, h)),
                (0, k.jsxs)("div", {
                  className: "minor_menu_items",
                  children: [
                    e &&
                      (0, k.jsxs)(k.Fragment, {
                        children: [
                          (0, k.jsx)(_n, {
                            className: (0, At.default)(Gt, Gn),
                            item: {
                              href: f.STORE_BASE_URL + "account",
                              label: $.Localize("#global_menu_account_details"),
                            },
                          }),
                          (0, k.jsx)(_n, {
                            className: (0, At.default)(Gt, Gn),
                            item: {
                              href: f.STORE_BASE_URL + "account/preferences",
                              label: $.Localize(
                                "#global_menu_account_preferences",
                              ),
                            },
                          }),
                        ],
                      }),
                    !Ot(f.EREALM) &&
                      (0, k.jsx)(k.Fragment, {
                        children: (0, k.jsx)("button", {
                          className: (0, At.default)(Gt, Gn),
                          onClick: () => s(!0),
                          children: $.Localize("#global_menu_change_language"),
                        }),
                      }),
                    e &&
                      (0, k.jsx)("button", {
                        className: (0, At.default)(Gt, Gn),
                        onClick: Si,
                        children: $.Localize("#global_menu_change_user"),
                      }),
                    !Ot(f.EREALM) &&
                      (0, k.jsx)(_n, {
                        className: (0, At.default)(Gt, Gn),
                        item: {
                          href: f.STORE_BASE_URL + "mobile",
                          label: $.Localize("#global_menu_getmobileapp"),
                        },
                      }),
                    !So() &&
                      (0, k.jsx)("button", {
                        className: (0, At.default)(Gt, Gn),
                        onClick: Lc,
                        children: $.Localize(
                          "#global_menu_view_desktop_website",
                        ),
                      }),
                  ],
                }),
              ],
            }),
            (0, k.jsx)("footer", {
              className: ep,
              children: Ot(f.EREALM) ? (0, k.jsx)(mf, {}) : (0, k.jsx)(cf, {}),
            }),
          ],
        }),
        m &&
          (0, k.jsx)(Cm, {
            open: u,
            onDismiss: () => s(!1),
            menuAction: m,
            changeLanguagePath: a,
            bLoggedIn: e != null,
          }),
      ],
    })
  );
}
var fe = b(H(), 1);
function pp(t) {
  let [e, n] = (0, cp.useState)(!1);
  return (0, fe.jsxs)(fe.Fragment, {
    children: [
      (0, fe.jsxs)("header", {
        className: (0, Or.default)(bc, t.className),
        children: [
          (0, fe.jsxs)("div", {
            className: lc,
            children: [
              (0, fe.jsx)("a", {
                href: f.STORE_BASE_URL,
                "aria-label": $.Localize("#Aria_Steam_Home_Link"),
                className: Lr,
                children: (0, fe.jsx)("img", {
                  src: ct(Ot(f.EREALM) ? Br : xc),
                  alt: $.Localize("#Aria_Steam_Home_Link"),
                  width: 176,
                  height: 44,
                }),
              }),
              (0, fe.jsx)(Mc, { navContent: t.navContent }),
              (0, fe.jsx)(sc, {
                globalActions: t.globalActions,
                userDetails: t.userDetails,
                notifications: t.notifications,
                changeLanguagePath: t.changeLanguagePath,
              }),
              t.children,
            ],
          }),
          (0, fe.jsx)("div", {
            className: mc,
            children: (0, fe.jsxs)("nav", {
              children: [
                (0, fe.jsxs)("button", {
                  className: cc,
                  onClick: () => n(!0),
                  "aria-expanded": e,
                  "aria-label": $.Localize("#Aria_Navigation"),
                  children: [
                    (0, fe.jsx)("img", { src: ct(Ac), alt: "", className: pc }),
                    t.notifications?.unread_count !== 0 &&
                      (0, fe.jsx)("div", {
                        className: Hc,
                        children: (0, fe.jsx)("div", {
                          className: (0, Or.default)(dc),
                          children: (0, fe.jsx)("span", {
                            className: yc,
                            children: Wo(t.notifications?.unread_count ?? 0),
                          }),
                        }),
                      }),
                  ],
                }),
                (0, fe.jsx)("a", {
                  href: f.STORE_BASE_URL,
                  "aria-label": $.Localize("#Aria_Steam_Home_Link"),
                  className: Lr,
                  children: (0, fe.jsx)("img", {
                    src: ct(Ot(f.EREALM) ? Br : Tc),
                    alt: $.Localize("#Aria_Steam_Home_Link"),
                    height: 36,
                  }),
                }),
              ],
            }),
          }),
        ],
      }),
      (0, fe.jsx)(mp, { ...t, open: e, onDismiss: () => n(!1) }),
    ],
  });
}
var Hp = "y0fX1sHXgbg-";
var dp = "dkzTutiFwB8-";
var yp = "SMtSKQQ7dWs-";
var ra = b(H(), 1);
function gp(t) {
  return (0, ra.jsxs)("span", {
    className: Hp,
    children: [
      (0, ra.jsx)("span", {
        className: dp,
        children: "You are spoofing another user!",
      }),
      " ",
      (0, ra.jsx)("span", {
        className: yp,
        onClick: () => {
          ii(oi), window.location.reload();
        },
        children: "end spoofing",
      }),
    ],
  });
}
var Ro = b(w());
var vp = b(TC(), 1);
function Fr(t) {
  try {
    if (!t || typeof t != "string") return null;
    let e = t.split(".");
    if (e.length !== 3) return null;
    let [n, o] = e,
      a = hp(n),
      i = hp(o);
    return !a || !i ? null : { header: JSON.parse(a), body: JSON.parse(i) };
  } catch (e) {
    return (
      console.error(`Exception while attempting to decode token: "${e}"`), null
    );
  }
}
function Cp(t) {
  return t ? t.body.exp : 0;
}
function Hf(t) {
  return t ? t.body.nbf || t.body.iat : 0;
}
function fp(t) {
  let e = Cp(t),
    n = Hf(t),
    o = 900,
    a = e - n;
  return a < 900 * 1.5 && (o = a <= 60 ? 0 : 60), Cp(t) - o < Date.now() / 1e3;
}
function hp(t) {
  return atob(t.replace(/-/g, "+").replace(/_/g, "/"));
}
var Mi = class {
  m_ServiceTransport;
  m_AnonymousServiceTransport;
  m_strWebAPIBaseURL;
  m_webApiAccessToken = "";
  m_bJsonMode = !1;
  m_bJWTToken = !1;
  m_fnRequestNewAccessToken;
  m_refreshAccessTokenPromise;
  m_dtLastExpireCheck = 0;
  m_strSpoofedSteamID = "";
  constructor(e, n = "", o = !1, a) {
    (this.m_strWebAPIBaseURL = e),
      (this.m_webApiAccessToken = n),
      (this.m_bJsonMode = o),
      (this.m_fnRequestNewAccessToken = a),
      (this.m_bJWTToken = Fr(n) != null),
      (this.m_ServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !0 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !0 }),
        MakeReady: this.MakeReady.bind(this),
      }),
      (this.m_AnonymousServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !1 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !1 }),
        MakeReady: this.MakeReady.bind(this),
      });
    let i = Zt(oi);
    i && /[0-9]+/g.test(i) && (this.m_strSpoofedSteamID = i);
  }
  WaitUntilLoggedOn() {
    return Promise.resolve();
  }
  GetServerRTime32() {
    return Number(new Date());
  }
  get steamid() {
    return new L_();
  }
  RTime32ToDate(e) {
    return new Date(e * 1e3);
  }
  MakeReady() {
    return Promise.resolve({ result: 1, message: "ready" });
  }
  GetServiceTransport() {
    return this.m_ServiceTransport;
  }
  GetWebAPIAccessToken() {
    return this.m_webApiAccessToken;
  }
  GetAnonymousServiceTransport() {
    return this.m_AnonymousServiceTransport;
  }
  async SendMsgAndAwaitResponse(e, n, o, a, i) {
    let _;
    try {
      if (this.m_bJWTToken && e.bSendAuth) {
        let u = Date.now() / 1e3;
        this.m_refreshAccessTokenPromise
          ? await this.m_refreshAccessTokenPromise
          : this.m_fnRequestNewAccessToken &&
            u - this.m_dtLastExpireCheck > 60 &&
            ((this.m_dtLastExpireCheck = u),
            fp(Fr(this.m_webApiAccessToken)) &&
              ((this.m_refreshAccessTokenPromise =
                this.m_fnRequestNewAccessToken(this.m_webApiAccessToken)),
              (this.m_webApiAccessToken =
                await this.m_refreshAccessTokenPromise),
              (this.m_refreshAccessTokenPromise = void 0)));
      }
      let r = await this.Send(e, n, o, i);
      if (r.status != 200) throw new Error("Request Error");
      if (
        ((_ = ot.Init(a, 147)),
        r.headers &&
          (r.headers.get("x-eresult") &&
            _.Hdr().set_eresult(parseInt(r.headers.get("x-eresult"))),
          r.headers.get("x-error_message") &&
            _.Hdr().set_error_message(r.headers.get("x-error_message"))),
        this.m_bJsonMode)
      )
        _.SetBodyJSON(await r.json());
      else {
        let u = new Es(await r.arrayBuffer());
        _.ReadBodyFromBuffer(a, u);
      }
    } catch (r) {
      let u = r?.response?.status === 401,
        s = u ? "Unauthorized" : void 0;
      (_ = this.CreateFailedMsgProtobuf(a, 3, s)),
        u &&
          !this.m_refreshAccessTokenPromise &&
          this.m_bJWTToken &&
          e.bSendAuth &&
          this.m_fnRequestNewAccessToken &&
          ((this.m_refreshAccessTokenPromise = this.m_fnRequestNewAccessToken(
            this.m_webApiAccessToken,
          )),
          (this.m_webApiAccessToken = await this.m_refreshAccessTokenPromise),
          (this.m_refreshAccessTokenPromise = void 0));
    }
    return _;
  }
  SendNotification(e, n, o, a) {
    return this.Send(e, n, o, a), !0;
  }
  Send(e, n, o, a) {
    let i = this.CreateWebAPIURL(n),
      _ = o.SerializeBody(),
      r = vp.fromByteArray(_),
      u = a.eWebAPIKeyRequirement,
      s = a.ePrivilege == 0 && u == 1,
      l = {},
      c = new URLSearchParams();
    if (
      (!e.bSendAuth &&
        u != 1 &&
        console.error(
          `Attempting to invoke service ${n} without auth, but auth is required.`,
        ),
      this.m_webApiAccessToken &&
        e.bSendAuth &&
        !s &&
        (c.append("access_token", this.m_webApiAccessToken),
        this.m_strSpoofedSteamID &&
          c.append("spoof_steamid", this.m_strSpoofedSteamID)),
      a.bConstMethod)
    )
      return (
        c.append("origin", self.origin),
        this.m_bJsonMode
          ? c.append("input_json", JSON.stringify(o.Body().toObject()))
          : c.append("input_protobuf_encoded", r),
        fetch(`${i}?${c.toString()}`, l)
      );
    {
      let p = new FormData();
      return (
        this.m_bJsonMode
          ? p.append("input_json", JSON.stringify(o.Body().toObject()))
          : p.append("input_protobuf_encoded", r),
        fetch(`${i}?${c.toString()}`, { ...l, method: "POST", body: p })
      );
    }
  }
  CreateWebAPIURL(e) {
    let n = /([^\.]+)\.(.+)#(\d+)/,
      o = e.match(n);
    if (!o || o.length != 4) throw `Invalid service name: ${e}`;
    return `${this.m_strWebAPIBaseURL}I${o[1]}Service/${o[2]}/v${o[3]}`;
  }
  CreateFailedMsgProtobuf(e, n, o) {
    let a = ot.Init(e);
    return (
      a.Hdr().set_eresult(2),
      a.Hdr().set_transport_error(n),
      o && a.Hdr().set_error_message(o),
      a
    );
  }
};
var Ai = class {
  async GetObject(e) {
    try {
      let n = await this.GetString(e);
      return n ? JSON.parse(n) : null;
    } catch {
      return null;
    }
  }
  async StoreObject(e, n) {
    return this.StoreString(e, JSON.stringify(n));
  }
};
var ua = class extends Ai {
  GetString(e) {
    return Promise.resolve(localStorage.getItem(e));
  }
  StoreString(e, n) {
    return localStorage.setItem(e, n), Promise.resolve();
  }
  RemoveObject(e) {
    return localStorage.removeItem(e), Promise.resolve();
  }
};
var Gr = b(H());
function kp(t) {
  let { strWebAPIToken: e, steamid: n, children: o } = t,
    a = Ro.useRef(),
    i = Ro.useRef(),
    _ = Ro.useCallback(
      () => (
        a.current || (a.current = new Mi(f.WEBAPI_BASE_URL, e, !1, df)),
        a.current
      ),
      [e],
    ),
    r = Ro.useCallback(
      () => (i.current || (i.current = new ua()), i.current),
      [],
    );
  return (0, Gr.jsx)(Sb, {
    useActiveSteamInterface: _,
    useStorage: r,
    children: (0, Gr.jsx)(Mb, { steamid: n, children: o }),
  });
}
async function df(t) {
  let n = await (
    await fetch(`${f.LOGIN_BASE_URL}jwt/ajaxrefresh`, {
      method: "POST",
      body: new URLSearchParams({ redir: window.location.href }),
      credentials: "include",
      mode: "cors",
    })
  ).json();
  if (n.success) {
    let a = await (
      await fetch(n.login_url, {
        method: "POST",
        body: new URLSearchParams({ ...n, prior: t }),
      })
    ).json();
    if (a.result === 1) return a.token;
  }
  return "";
}
var wp = "46px";
var Sp = "Tz2vUyr7bng-";
var Rp = "-hQN9V25Qf8-";
var Pp = "sfBlGJThi-w-";
var Mp = "_6hfP8ufnkvg-";
var Ap = "HqwQAoZWzIQ-";
var xp = "qxuaSNtrNvE-";
var Tp = "v2uRRqcZpzM-";
var Dp = "e5dakwFkeEs-";
var Lp = "IuDNhSMX5G0-";
var zp = "yHfCsuBZw7g-";
var Bp = "ovbIJyzwQ4U-";
var Ip = "wARh8VsFUg8-";
var Ep = "AlTDVvmjvUU-";
var Np = "In8c5bkG5eM-";
var Op = "yzn1exHts-g-";
var xi = "_-4fVuiRLPho-";
var Fp = "ntJcAB2O7Fk-";
var Gp = "HIlJVl7G7A4-";
var jp = "WcMLzycTyxU-";
var Up = "mjYLRTgzt4A-";
var Vp = "EMyT87c-1ws-";
var Wp = "IOoilFOfWUQ-";
var qp = {
  menuHeight: "46px",
  StoreMenuLegacyWrapper: "o8xu6D1j3rk-",
  StoreMenuContainer: "Tz2vUyr7bng-",
  GamepadUI: "-hQN9V25Qf8-",
  StoreMenuBackdropContainer: "sfBlGJThi-w-",
  Backdrop: "_6hfP8ufnkvg-",
  BackdropActive: "HqwQAoZWzIQ-",
  StoreMenu: "qxuaSNtrNvE-",
  Content: "v2uRRqcZpzM-",
  HideTransition: "e5dakwFkeEs-",
  Hide: "IuDNhSMX5G0-",
  HideMenu: "_0LVhrp9VgCU-",
  Hidden: "yHfCsuBZw7g-",
  Show: "ovbIJyzwQ4U-",
  MenuButtonAndSearchContainer: "wARh8VsFUg8-",
  MenuButtonContainer: "AlTDVvmjvUU-",
  DynamicMenuButtons: "In8c5bkG5eM-",
  NoSearchBarSpacer: "yzn1exHts-g-",
  MenuButton: "_-4fVuiRLPho-",
  ItemCount: "ntJcAB2O7Fk-",
  CartButton: "HIlJVl7G7A4-",
  Active: "WcMLzycTyxU-",
  FlyoutMenuButton: "egWCUcRU2LI-",
  MenuLabel: "mjYLRTgzt4A-",
  MenuUnderscoreCtn: "EMyT87c-1ws-",
  MenuUnderscore: "IOoilFOfWUQ-",
  Separator: "CKr-BZNYbas-",
  ValveOnlyNotice: "Z2-NY-0yNhg-",
};
var U = b(w()),
  fa = b(w());
var Kp = "350px";
var Jp = "_5de1w948geo-";
var Yp = "khWjubQ0dGo-";
var Qp = "_5f3k46d-01g-";
var Xp = "_1qQtew7iByA-";
var $p = "EmE6VCbTZpg-";
var Zp = "ZaHNigq8DMs-";
var jr = "_81NJwJfkZk0-";
var Ur = "hkaaZt8UNuI-";
var eH = "sGePe4nq0rw-";
var tH = "k-ntEbkXrl8-";
var nH = "QJl65TKCK08-";
var oH = "v2IwQA-KdAA-";
var aH = "_8A-51zo2cfU-";
var iH = "MlhnYsP-wdE-";
var _H = "QDANEnXGNEk-";
var yt = b(w(), 1);
var N = b(Is());
var Wr = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.recent_apps || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { recent_apps: { n: 1, c: qr, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData";
    }
  },
  qr = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: bo },
              time_visit: { n: 2, br: S.readFixed32, bw: R.writeFixed32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData_RecentApps";
    }
  },
  sa = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), N.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Request";
    }
  },
  Kr = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.visit_data || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, [2], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              visit_data: { n: 1, c: Wr },
              frequent_hubs: { n: 2, c: Jr, r: !0, q: !0 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response";
    }
  },
  Jr = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: bo },
              time_visit: { n: 2, br: S.readUint32, bw: R.writeUint32 },
              visit_count: { n: 3, br: S.readUint32, bw: R.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response_FrequentHubs";
    }
  },
  ba = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.context || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              context: { n: 1, c: Vs },
              data_request: { n: 2, c: Us },
              count: { n: 3, d: 10, br: S.readUint32, bw: R.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetMostVisitedItemsOnStore_Request";
    }
  },
  Yr = class t extends N.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_ids || ie(t.M()),
        N.Message.initialize(this, e, 0, -1, [1, 2], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_ids: { n: 1, c: bo, r: !0, q: !0 },
              items: { n: 2, c: js, r: !0, q: !0 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = ee(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return ne(t.M(), e, n);
    }
    static fromObject(e) {
      return te(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new N.default.BinaryReader(e),
        o = new t();
      return t.deserializeBinaryFromReader(o, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return oe(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      ae(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new N.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetMostVisitedItemsOnStore_Response";
    }
  },
  la;
((n) => {
  function t(o, a) {
    return o.SendMsg(
      "UserStoreVisit.GetFrequentlyVisitedPages#1",
      Ie(sa, a),
      Kr,
      { bConstMethod: !0, ePrivilege: 1 },
    );
  }
  n.GetFrequentlyVisitedPages = t;
  function e(o, a) {
    return o.SendMsg(
      "UserStoreVisit.GetMostVisitedItemsOnStore#1",
      Ie(ba, a),
      Yr,
      { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
    );
  }
  n.GetMostVisitedItemsOnStore = e;
})((la ||= {}));
function rH(t = !0) {
  let e = rt(),
    n = Cn(),
    o = uH(e, n);
  return tt({
    ...o,
    select: (a) => a.visit_data?.recent_apps?.map(({ item_id: i }) => i) || [],
    enabled: o.enabled && t,
  });
}
function ma(t = !0) {
  let e = so(),
    n = rt(),
    o = Rb(),
    a = li(),
    i = Cn(),
    _ = gf(e, n, o, a, i);
  return tt({ ..._, enabled: _.enabled && t });
}
function gf(t, e, n, o, a) {
  return {
    queryKey: ["StoreFrequentlyVisitedHubs", a],
    queryFn: async () => {
      let [i, _] = await Promise.all([
        t.fetchQuery(uH(e, a)),
        t.fetchQuery(ol(t, e, o)),
      ]);
      return (i.frequent_hubs || [])
        .map((u) =>
          u.item_id.hubcategoryid
            ? { ...u, hubconfig: _.get(u.item_id.hubcategoryid) }
            : u.item_id.tagid
              ? { ...u, tagid: u.item_id.tagid }
              : null,
        )
        .filter(
          (u) =>
            u &&
            (("hubconfig" in u && u.hubconfig) || ("tagid" in u && u.tagid)),
        );
    },
    enabled: !!a,
    initialData: a ? void 0 : [],
    staleTime: 1e3 * 60 * 10,
  };
}
function uH(t, e) {
  return {
    queryKey: ["StoreFrequentlyVisited", e],
    queryFn: () => Cf(t),
    enabled: !!e,
    staleTime: 1e3 * 60 * 10,
  };
}
async function Cf(t) {
  let e = ot.Init(sa),
    n = await la.GetFrequentlyVisitedPages(t, e);
  if (!n.BSuccess()) throw n.GetErrorMessage();
  return n.Body().toObject();
}
var Tt = b(w()),
  sH = b(cn()),
  bH = b(H());
function Ti(t) {
  let {
      visible: e = !0,
      className: n,
      keepMounted: o = !1,
      expandDirection: a = "height",
      msAnimationDuration: i = 250,
      children: _,
    } = t,
    { style: r, active: u, refDiv: s } = hf(e, a, i);
  return !e && !u && !o
    ? null
    : (0, bH.jsx)("div", { className: n, ref: s, style: r, children: _ });
}
function hf(t, e = "height", n = 250) {
  let o = Tt.useRef(null),
    a = Tt.useRef(!0),
    [i, _] = Tt.useState("idle"),
    [r, u] = Tt.useState({}),
    [s, l] = Tt.useState(t);
  return (
    Tt.useLayoutEffect(() => {
      a.current || _("start"), t && l(t);
    }, [t]),
    Tt.useLayoutEffect(
      () => (
        (a.current = !1),
        () => {
          a.current = !0;
        }
      ),
      [],
    ),
    Tt.useLayoutEffect(() => {
      let m = o.current,
        p = e == "height" ? "scrollHeight" : "scrollWidth",
        C = () => {
          sH.unstable_batchedUpdates(() => {
            u({}), _("idle"), l(t);
          });
        };
      if (i == "start") {
        let h = m[p];
        h == 0
          ? C()
          : (u((M) => ({
              [e]: t ? "0px" : `${h}px`,
              ...M,
              overflow: "hidden",
            })),
            _("active"));
      } else if (i == "active") {
        m.scrollTop;
        let h = m[p];
        return (
          u({ overflow: "hidden", [e]: t ? `${h}px` : "0px" }),
          m.addEventListener("transitionend", C),
          () => {
            m.removeEventListener("transitionend", C);
          }
        );
      }
    }, [i, t]),
    { style: { ...r, transition: `${e} ${n}ms` }, active: s, refDiv: o }
  );
}
var Li = b(it(), 1),
  Oe = b(w(), 1);
var ca = b(w());
function lH(t, e = {}) {
  let {
      nTimeoutMS: n = 350,
      nTimeoutExtensionMS: o = 125,
      nMaxTimeoutExtensions: a = 3,
    } = e,
    [i, _] = ca.default.useState(t),
    r = ca.default.useRef();
  return (
    ca.default.useEffect(() => {
      let u = performance.now();
      r.current
        ? u - r.current.tsLastChange < a * n &&
          (r.current.tsScheduledTimeout = Math.max(
            performance.now() + o,
            r.current.tsScheduledTimeout,
          ))
        : (r.current = {
            tsLastChange: u,
            tsScheduledTimeout: performance.now() + n,
          });
      let s = r.current.tsScheduledTimeout - performance.now(),
        l = window.setTimeout(() => {
          (r.current = void 0), _(t);
        }, s);
      return () => window.clearTimeout(l);
    }, [t, n, o, a]),
    i
  );
}
var mH = [
  {
    rgTagIDs: [19],
    id: "action",
    strLocToken: "#ContentHubby_Hub_action_menu",
    strSalePageURL: "category/action",
  },
  {
    rgTagIDs: [21],
    id: "adventure",
    strLocToken: "#ContentHubby_Hub_adventure_menu",
    strSalePageURL: "category/adventure",
  },
  {
    rgTagIDs: [4085],
    id: "anime",
    strLocToken: "#ContentHubby_Hub_anime_mild_menu",
    strSalePageURL: "category/anime",
  },
  {
    rgTagIDs: [597],
    id: "casual",
    strLocToken: "#ContentHubby_Hub_casual_menu",
    strSalePageURL: "category/casual",
  },
  {
    rgTagIDs: [1695],
    id: "open_world",
    strLocToken: "#ContentHubby_Hub_adventure_explore_open_world_menu",
    strSalePageURL: "category/exploration_open_world",
  },
  {
    rgTagIDs: [4328, 4736, 6506],
    id: "fighting",
    strLocToken: "#ContentHubby_Hub_fighting_menu",
    strSalePageURL: "category/fighting_martial_arts",
  },
  {
    rgTagIDs: [1667],
    id: "horror",
    strLocToken: "#ContentHubby_Hub_horror_menu",
    strSalePageURL: "category/horror",
  },
  {
    rgTagIDs: [1685],
    id: "coop",
    strLocToken: "#ContentHubby_Hub_multiplayer_coop_menu",
    strSalePageURL: "category/multiplayer_coop",
  },
  {
    rgTagIDs: [1664, 5537, 1665],
    id: "puzzle",
    strLocToken: "#ContentHubby_Hub_puzzle_menu",
    strSalePageURL: "category/puzzle_matching/",
  },
  {
    rgTagIDs: [699, 4102],
    id: "racing",
    strLocToken: "#ContentHubby_Hub_racing_menu",
    strSalePageURL: "category/racing",
  },
  {
    rgTagIDs: [42804],
    id: "roguelike",
    strLocToken: "#ContentHubby_Hub_rogue_like_rogue_lite_menu",
    strSalePageURL: "category/rogue_like_rogue_lite",
  },
  {
    rgTagIDs: [112, 4434, 4231],
    id: "rpg",
    strLocToken: "#ContentHubby_Hub_rpg_menu",
    strSalePageURL: "category/rpg",
  },
  {
    rgTagIDs: [3942],
    id: "scifi",
    strLocToken: "#ContentHubby_Hub_science_fiction_menu",
    strSalePageURL: "category/science_fiction",
  },
  {
    rgTagIDs: [599, 12472],
    id: "simulation",
    strLocToken: "#ContentHubby_Hub_simulation_menu",
    strSalePageURL: "category/simulation",
  },
  {
    rgTagIDs: [701],
    id: "sports",
    strLocToken: "#ContentHubby_Hub_sports_menu",
    strSalePageURL: "category/sports",
  },
  {
    rgTagIDs: [1742],
    id: "story_rich",
    strLocToken: "#ContentHubby_Hub_interactive_fiction_menu",
    strSalePageURL: "category/story_rich",
  },
  {
    rgTagIDs: [9, 1670, 1676],
    id: "strategy",
    strLocToken: "#ContentHubby_Hub_strategy_menu",
    strSalePageURL: "category/strategy",
  },
  {
    rgTagIDs: [9, 4328, 220585],
    id: "cities_settlements",
    strLocToken: "#ContentHubby_Hub_sim_cities_settlements_menu",
    strSalePageURL: "category/strategy_cities_settlements",
  },
  {
    rgTagIDs: [1662],
    id: "survival",
    strLocToken: "#ContentHubby_Hub_survival_menu",
    strSalePageURL: "category/survival",
  },
  {
    rgTagIDs: [3799],
    id: "visual_novel",
    strLocToken: "#ContentHubby_Hub_visual_novel_menu",
    strSalePageURL: "category/visual_novel",
  },
  {
    rgTagIDs: [113],
    id: "f2p",
    strLocToken: "#ContentHubby_Hub_free_to_play",
    strSalePageURL: "genre/Free%20to%20Play",
  },
  {
    rgTagIDs: [],
    id: "greatondeck",
    strLocToken: "#ContentHubby_Hub_greatondeck",
    strSalePageURL: "greatondeck",
  },
  {
    rgTagIDs: [402, 401],
    id: "vr",
    strLocToken: "#Store_VR_MainMenu_Virtual_Reality",
    strSalePageURL: "vr",
  },
];
var cH = "./marketing_brazilian-CMDVJYAA.json";
var pH = "./marketing_bulgarian-BSZN6IDA.json";
var HH = "./marketing_czech-VXFDVEDA.json";
var dH = "./marketing_danish-Z24PNLAA.json";
var yH = "./marketing_dutch-VBFJ4JBA.json";
var gH = "./marketing_english-IGVV7HDA.json";
var CH = "./marketing_finnish-TPJN75BA.json";
var hH = "./marketing_french-SHEUHPBA.json";
var fH = "./marketing_german-APUXQ7DA.json";
var vH = "./marketing_greek-VMRNIUCA.json";
var kH = "./marketing_hungarian-O2TLQSDA.json";
var wH = "./marketing_indonesian-O6N5IYDA.json";
var SH = "./marketing_italian-7J7GWGAA.json";
var RH = "./marketing_japanese-36I2ZMAA.json";
var PH = "./marketing_koreana-C4AYZTDA.json";
var MH = "./marketing_latam-CLYCOYDA.json";
var AH = "./marketing_norwegian-6XJEQRCA.json";
var xH = "./marketing_polish-VYFOSDAA.json";
var TH = "./marketing_portuguese-UIKEQ3AA.json";
var DH = "./marketing_romanian-QKLF3JDA.json";
var LH = "./marketing_russian-GXRHLNBA.json";
var zH = "./marketing_sc_schinese-YUF5SQBA.json";
var BH = "./marketing_schinese-6YXE52BA.json";
var IH = "./marketing_spanish-MXTGNAAA.json";
var EH = "./marketing_swedish-326XDYAA.json";
var NH = "./marketing_tchinese-V2QINUBA.json";
var OH = "./marketing_thai-2BPX3ECA.json";
var FH = "./marketing_turkish-MHXQZSBA.json";
var GH = "./marketing_ukrainian-DNQCNPAA.json";
var jH = "./marketing_vietnamese-MYTHSLCA.json";
var q = {};
q.brazilian = cH;
q.bulgarian = pH;
q.czech = HH;
q.danish = dH;
q.dutch = yH;
q.english = gH;
q.finnish = CH;
q.french = hH;
q.german = fH;
q.greek = vH;
q.hungarian = kH;
q.indonesian = wH;
q.italian = SH;
q.japanese = RH;
q.koreana = PH;
q.latam = MH;
q.norwegian = AH;
q.polish = xH;
q.portuguese = TH;
q.romanian = DH;
q.russian = LH;
q.sc_schinese = zH;
q.schinese = BH;
q.spanish = IH;
q.swedish = EH;
q.tchinese = NH;
q.thai = OH;
q.turkish = FH;
q.ukrainian = GH;
q.vietnamese = jH;
async function Qr(t) {
  if (q[t]) return (await fetch(new URL(q[t], import.meta.url))).json();
}
var pa = ro(Qr);
function Di() {
  let t = pa.Localize;
  return mH.map((e) => ({ ...e, strName: t(e.strLocToken) }));
}
var $H = b(w(), 1);
var $r = b(it(), 1);
var Xr = b(H(), 1);
function vn(t) {
  let {
      storeItem: e,
      feature: n,
      depth: o,
      children: a,
      noImpressionTracking: i,
      ..._
    } = t,
    r = e?.appid,
    u = $f(e);
  if (!e) return a;
  let s = (0, Xr.jsx)(De, { ..._, href: u, children: a });
  return r && !i
    ? (0, Xr.jsx)(ml, { appID: r, feature: n, depth: o, children: s })
    : s;
}
function $f(t, e, n) {
  return ke(t ? `${f.STORE_BASE_URL}${t.store_url_path}` : void 0, e, n);
}
var UH = "w3okjvq794Q-";
var VH = "qRybCqH-jtw-";
var WH = "RsMQfu7puz8-";
var qH = "UMEIAUzn8fQ-";
var KH = "b3jIaejFEco-";
var JH = "xfZcMLcNsgU-";
var YH = "KdTm5UPqjB8-";
var QH = "G-AxgYgeAPM-";
var XH = "_10mrxtI-TKw-";
var Ne = b(H(), 1);
function Zr(t) {
  let { rgItemIDs: e } = t;
  return (0, Ne.jsx)(D, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: UH,
    children: e.map((n) => (0, Ne.jsx)(eu, { itemid: n }, tn(n))),
  });
}
var eu = $H.memo(function (e) {
  let { itemid: n, active: o, className: a, ...i } = e,
    { data: _ } = Ke(n),
    { data: r } = Yb(n);
  return (0, Ne.jsxs)(vn, {
    ...i,
    storeItem: _,
    className: (0, $r.default)(VH, o === void 0 && qH, o && WH, a),
    children: [
      (0, Ne.jsx)(tv, { itemid: n }),
      (0, Ne.jsxs)("div", {
        className: YH,
        children: [
          (0, Ne.jsx)("div", { className: QH, children: _?.name }),
          (0, Ne.jsx)("div", {
            className: XH,
            children: (0, Ne.jsx)(ev, { storeItem: _, purchaseOption: r }),
          }),
        ],
      }),
    ],
  });
});
function ev(t) {
  let { storeItem: e, purchaseOption: n } = t;
  return n
    ? (0, Ne.jsx)(rl, {
        purchaseOption: n,
        size: "inline",
        transparentBackground: !0,
      })
    : e?.is_free
      ? P("#Price_Free")
      : (0, Ne.jsx)(Ne.Fragment, { children: " " });
}
function tv(t) {
  let { itemid: e } = t,
    { data: n } = Jb(e),
    o = n && pi(n, "small_capsule");
  return (0, Ne.jsx)("div", {
    className: (0, $r.default)(KH, !o && JH),
    children: o && (0, Ne.jsx)("img", { src: o, alt: "" }),
  });
}
function nv(t, e, n = 10, o = void 0) {
  return {
    queryKey: ["MostVisitedItems", n],
    queryFn: () => ov(t, e, n, o),
    staleTime: 5 * 60 * 1e3,
  };
}
function ZH(t = 10, e = {}, n = !0) {
  let o = so(),
    a = rt(),
    { dataLoader: i, storeBrowseContext: _, cacheStoreItemData: r } = mi();
  return tt({
    queryKey: ["MostVisitedItemsFiltered", t],
    queryFn: async () => {
      let u = await o.fetchQuery(
          nv(a, _, t, {
            cacheStoreItemData: r,
            data_request: { ...e, apply_user_filters: !0 },
          }),
        ),
        s = await Promise.all(u.map((m) => o.fetchQuery(Xb(i, m)))),
        l = new Map();
      for (let m = 0; m < u.length; m++) l.set(u[m], s[m]);
      let c = (m) => {
        let p = l.get(m);
        return !p || (p.filter_failure == 10 && p.on_wishlist)
          ? 0
          : p.filter_failure;
      };
      return u
        .filter((m) => {
          let p = l.get(m);
          return !p || p.filter_failure < 40;
        })
        .sort((m, p) => c(m) - c(p));
    },
    staleTime: 5 * 60 * 1e3,
    enabled: n,
  });
}
async function ov(t, e, n = 10, o = void 0) {
  let a = ot.Init(ba);
  a.Body().set_count(n), si(e, a), o && bi(a, o.data_request);
  let i = await la.GetMostVisitedItemsOnStore(t, a);
  if (!i.BSuccess())
    throw `Error loading most visited items: ${i.GetErrorMessage()}`;
  return (
    o &&
      i
        .Body()
        .items()
        .forEach((_) => o.cacheStoreItemData(_, o.data_request)),
    i
      .Body()
      .item_ids()
      .map((_) => _.toObject())
  );
}
var He = b(H(), 1),
  nd = { include_assets: !0 },
  av = { include_tags: !0, include_creators: !0 };
function od(t) {
  let { list: e, iActiveIndex: n, activeSection: o, setActiveIndex: a } = t,
    i,
    _,
    r;
  e.rgMainItems.length &&
    (i = (0, He.jsx)(td, {
      title: e.strMainTitle,
      children: e.rgMainItems.map(({ item_id: s }, l) =>
        (0, He.jsx)(
          bv,
          {
            itemid: s,
            index: l,
            active: o == "apps" && l == n,
            setActiveIndex: a,
          },
          tn(s),
        ),
      ),
    })),
    e.rgTextItems?.length &&
      (_ = (0, He.jsx)(uv, { title: e.strTextLinks, items: e.rgTextItems })),
    e.rgSubSectionItems?.length &&
      (r = (0, He.jsx)(td, {
        title: e.strSubSectionTitle,
        horizontal: !0,
        children: e.rgSubSectionItems.map(({ item_id: s }, l) =>
          (0, He.jsx)(
            lv,
            {
              itemid: s,
              index: l,
              active: o == "categories" && l == n,
              setActiveIndex: a,
            },
            tn(s),
          ),
        ),
      }));
  let u;
  switch (e.eListType) {
    case "suggestions":
      u = "search-suggestion";
      break;
    case "recent":
      u = "recent";
      break;
    default:
      qo(e.eListType, `Unhandled list type ${e.eListType}`);
  }
  return (0, He.jsxs)(en, {
    controller: "search",
    method: "suggest",
    submethod: "menuv7",
    feature: u,
    children: [i, _, r],
  });
}
function iv(t = !0) {
  return ZH(10, nd, t);
}
function ad(t, e) {
  let n = lH(t),
    o = il(),
    a = Oe.useMemo(() => $b(av, o), [o]),
    i = Zb(nd, 5, a),
    _ = _l(i, o === void 0 ? "" : n),
    r = e && t == "",
    { data: u } = iv(r),
    { data: s } = ma(r),
    { data: l } = rH(r),
    c = Oe.useMemo(() => In.ShuffleArray(Di().slice()), []),
    m = Oe.useMemo(() => {
      if (_ && _.data) {
        let [p, C, h] = el(_.data.rgItemIDs);
        return {
          eListType: "suggestions",
          strMainTitle: P("#Menu_SearchBar_SearchResults"),
          rgMainItems: p.slice(0, 4).map((M) => ({ item_id: M })),
          strSubSectionTitle: P("#Menu_SearchBar_BrowseBy"),
          rgSubSectionItems: [...C, ...h]
            .slice(0, 3)
            .map((M) => ({ item_id: M })),
        };
      } else if (u || s || l) {
        let p = u?.slice(0, 4) || [];
        return {
          eListType: "recent",
          strMainTitle: P("#Menu_SearchBar_PopularItems"),
          rgMainItems: p.map((C) => ({ item_id: C })),
          strTextLinks: P("#Menu_SearchBar_RecentlyViewed"),
          rgTextItems: l?.slice(0, 4).map((C) => ({ item_id: C })),
          strSubSectionTitle: P("#Menu_SearchBar_YourTopGenres"),
          rgSubSectionItems:
            s?.slice(0, 3).map((C) => ({ item_id: C.item_id })) || [],
        };
      } else return;
    }, [_, u, s, l]);
  return rv(m);
}
function _v(t, e) {
  let n = so(),
    o = qb(),
    a = Ds(t, e);
  return Oe.useCallback(
    async (i) => {
      let _ = await n.fetchQuery(W_(o, i));
      return _
        ? ((window.location.href = `${f.STORE_BASE_URL}${_.store_url_path}?snr=${a}`),
          !0)
        : !1;
    },
    [n, o, a],
  );
}
var ed = { eListType: "suggestions", strMainTitle: "", rgMainItems: [] };
function rv(t) {
  let [e, n] = Oe.useState(t || ed),
    [o, a] = Oe.useState({ activeSection: "apps", iActiveIndex: void 0 }),
    i = _v();
  Oe.useEffect(() => {
    n(t || ed);
  }, [t]);
  let _ = e.rgMainItems.length,
    r = e.rgSubSectionItems?.length || 0,
    u = (o.activeSection == "apps" ? e.rgMainItems : e.rgSubSectionItems) || [],
    s = Oe.useCallback(
      (c, m) =>
        a((p) =>
          p.activeSection === c && p.iActiveIndex === m
            ? p
            : { activeSection: c, iActiveIndex: m },
        ),
      [],
    ),
    l = (c) => {
      if (_ == 0) return !1;
      switch (c.key) {
        case "ArrowUp":
          return (
            a(({ activeSection: m, iActiveIndex: p }) => {
              let C = (p === void 0 || m == "categories" ? 0 : p) - 1,
                h = m;
              return (
                C < 0 &&
                  (m == "categories" && _ > 0
                    ? (h = "apps")
                    : m == "apps" && r > 0 && (h = "categories"),
                  h == "apps" ? (C = _ - 1) : (C = 0)),
                { activeSection: h, iActiveIndex: C }
              );
            }),
            !0
          );
        case "ArrowDown":
          return (
            a(({ activeSection: m, iActiveIndex: p }) => {
              let C = (p ?? -1) + 1,
                h = m;
              return (
                C >= (h == "apps" ? _ : -1) &&
                  (m == "categories" && _ > 0
                    ? (h = "apps")
                    : m == "apps" && r > 0 && (h = "categories"),
                  (C = 0)),
                { activeSection: h, iActiveIndex: C }
              );
            }),
            !0
          );
        case "ArrowLeft":
          return (
            a((m) =>
              m.activeSection == "categories"
                ? {
                    activeSection: "categories",
                    iActiveIndex: ((m.iActiveIndex ?? 0) + r - 1) % r,
                  }
                : m,
            ),
            !0
          );
        case "ArrowRight":
          return (
            a((m) =>
              m.activeSection == "categories"
                ? {
                    activeSection: "categories",
                    iActiveIndex: ((m.iActiveIndex ?? 0) + 1) % r,
                  }
                : m,
            ),
            !0
          );
        case "Enter": {
          let { activeSection: m, iActiveIndex: p } = o,
            C = m == "apps" ? e.rgMainItems : e.rgSubSectionItems;
          if (p !== void 0 && C && p < C.length) return i(C[p].item_id), !0;
          break;
        }
      }
      return !1;
    };
  return {
    list: e,
    activeSection: o.activeSection,
    iActiveIndex:
      o.iActiveIndex !== void 0
        ? Math.max(0, Math.min(u.length - 1, o.iActiveIndex))
        : void 0,
    setActiveIndex: s,
    onKeyDown: l,
  };
}
function td(t) {
  let { title: e, children: n, horizontal: o } = t;
  return (0, He.jsxs)("div", {
    className: (0, Li.default)(jr, o && tH),
    children: [
      (0, He.jsx)("div", { className: Ur, children: e }),
      (0, He.jsx)("div", { className: eH, children: n }),
    ],
  });
}
function uv(t) {
  let { title: e, items: n } = t;
  return (0, He.jsx)("div", {
    className: (0, Li.default)(jr),
    children: (0, He.jsxs)("div", {
      className: nH,
      children: [
        (0, He.jsx)("div", { className: Ur, children: e }),
        n.map(({ item_id: o }, a) =>
          (0, He.jsx)(sv, { itemid: o, first: a == 0 }, tn(o)),
        ),
      ],
    }),
  });
}
function sv(t) {
  let { itemid: e, first: n } = t,
    { data: o } = Ke(e);
  return (0, He.jsxs)(He.Fragment, {
    children: [
      !n && ", ",
      (0, He.jsx)(vn, {
        className: oH,
        storeItem: o,
        feature: "recent",
        children: o?.name,
      }),
    ],
  });
}
var bv = Oe.memo(function (e) {
    let { itemid: n, index: o, setActiveIndex: a, active: i = !1 } = e,
      _ = Oe.useCallback(() => a("apps", o), [a, o]);
    return (0, He.jsx)(eu, { itemid: n, active: i, onMouseMove: _ });
  }),
  lv = Oe.memo(function (e) {
    let { itemid: n, index: o, setActiveIndex: a, active: i } = e,
      { data: _ } = Ke(n),
      r = ke(`${f.STORE_BASE_URL}${_?.store_url_path || "/"}`);
    return (0, He.jsx)("a", {
      className: (0, Li.default)(aH, i && iH),
      href: r,
      onMouseMove: () => a("categories", o),
      children: (0, He.jsx)("div", {
        className: _H,
        children: (0, He.jsx)("div", { children: _?.name }),
      }),
    });
  });
var Je = b(H(), 1),
  id = yt.memo(function (e) {
    let { bSearchVisible: n, openSearch: o, closeSearch: a } = e,
      [i, _] = yt.useState(""),
      [r, u] = yt.useState(!1),
      l = `searchSuggestions_${yt.useId()}`,
      { onKeyDown: c, ...m } = ad(i, r),
      p = (h) => {
        if (n && c(h)) {
          h.preventDefault();
          return;
        }
        h.key === "Escape" ? a() : o();
      },
      C = yt.useCallback(() => u(!0), []);
    return (0, Je.jsxs)(mv, {
      openSearch: o,
      closeSearch: a,
      onActive: C,
      children: [
        (0, Je.jsx)("input", {
          className: Yp,
          name: "term",
          placeholder: P("#Menu_SearchPlaceholder"),
          value: i,
          onChange: (h) => _(h.currentTarget.value),
          onKeyDown: p,
          autoComplete: "off",
          role: "combobox",
          "aria-expanded": n,
          "aria-autocomplete": "list",
          "aria-controls": l,
        }),
        (0, Je.jsx)("button", {
          className: Qp,
          type: "submit",
          children: (0, Je.jsx)(pv, { "aria-label": P("#Menu_Search") }),
        }),
        (0, Je.jsx)(cv, {
          visible: n,
          id: l,
          children: (0, Je.jsx)(od, { ...m }),
        }),
      ],
    });
  }),
  mv = yt.memo(function (e) {
    let { openSearch: n, closeSearch: o, onActive: a, children: i } = e,
      _ = yt.useCallback(
        (r) => {
          mo(r.currentTarget, r.relatedTarget) || o();
        },
        [o],
      );
    return (0, Je.jsx)("form", {
      className: Jp,
      role: "search",
      onMouseEnter: () => a(),
      method: "GET",
      action: `${f.STORE_BASE_URL}search`,
      onFocus: () => {
        a(), n();
      },
      onBlur: _,
      children: i,
    });
  });
function cv(t) {
  let { id: e, visible: n, children: o } = t;
  return (0, Je.jsx)("div", {
    className: Xp,
    children: (0, Je.jsx)(Ti, {
      visible: n,
      className: $p,
      msAnimationDuration: 100,
      children: (0, Je.jsx)("div", { className: Zp, id: e, children: o }),
    }),
  });
}
var pv = yt.memo(function (e) {
  return (0, Je.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 18 18",
    fill: "none",
    ...e,
    children: (0, Je.jsx)("path", {
      fill: "currentColor",
      d: "M13.8296 12.0786C14.8347 10.6321 15.2623 8.86133 15.0284 7.11496C14.7945 5.36859 13.9159 3.77313 12.5656 2.64269C11.2153 1.51224 9.49114 0.928708 7.73254 1.00696C5.97394 1.08522 4.30831 1.8196 3.06357 3.06552C1.81882 4.31144 1.08514 5.97864 1.00696 7.7389C0.928776 9.49916 1.51176 11.2249 2.64114 12.5765C3.77052 13.9281 5.36446 14.8075 7.10919 15.0417C8.85391 15.2758 10.623 14.8477 12.0682 13.8417L15.2185 17L15.3997 16.8187L16.8188 15.3982L17 15.2168L13.8296 12.0786ZM8.04222 12.5824C7.14643 12.5824 6.27075 12.3165 5.52593 11.8183C4.7811 11.3202 4.20058 10.6122 3.85777 9.78376C3.51497 8.95538 3.42528 8.04384 3.60004 7.16443C3.7748 6.28502 4.20616 5.47723 4.83958 4.84321C5.47301 4.20919 6.28004 3.77742 7.15862 3.60249C8.0372 3.42757 8.94787 3.51734 9.77548 3.86047C10.6031 4.2036 11.3104 4.78467 11.8081 5.5302C12.3058 6.27573 12.5714 7.15223 12.5714 8.04887C12.5714 9.25123 12.0943 10.4043 11.2449 11.2545C10.3955 12.1047 9.24344 12.5824 8.04222 12.5824V12.5824Z",
    }),
  });
});
var Lo = b(it());
var Oy = b(w(), 1);
var zi = b(w(), 1);
var tu = "DkDkgW5s5IY-";
var _d = "_7xtK0r5UTx8-";
var Dt = b(H(), 1);
function rd(t) {
  let {
      visible: e,
      closePopover: n,
      children: o,
      refPopover: a,
      refActiveButton: i,
    } = t,
    _ = zi.useCallback(
      (r) => {
        if (
          !(!a.current || !i.current || !document.activeElement) &&
          r.key === "Tab"
        ) {
          let u = Jo(a.current),
            s = u.indexOf(document.activeElement);
          if (s === -1) return;
          if (
            (s === 0 && r.shiftKey && (i.current.focus(), r.preventDefault()),
            s === u.length - 1 && !r.shiftKey && i.current.parentElement)
          ) {
            let l = Jo(i.current.parentElement),
              c = l.indexOf(i.current);
            if (c !== -1) {
              let m = l[c + 1];
              m && (m.focus(), r.preventDefault());
            }
          }
        }
      },
      [i, a],
    );
  return (0, Dt.jsx)(Dt.Fragment, {
    children: (0, Dt.jsx)(Ti, {
      visible: e,
      msAnimationDuration: 100,
      children: (0, Dt.jsx)(dv, {
        visible: e,
        closePopover: n,
        children: (0, Dt.jsx)(D, {
          "flow-children": "row",
          className: _d,
          onCancelButton: n,
          ref: a,
          onKeyDown: _,
          children: o,
        }),
      }),
    }),
  });
}
function dv(t) {
  let { visible: e, closePopover: n, children: o } = t,
    a = Ee(),
    i = zi.useRef();
  return (
    ti(i, e, !0),
    a
      ? (0, Dt.jsx)(ei, {
          navID: "StoreMenuPopover",
          onDeactivated: n,
          navTreeRef: i,
          children: (0, Dt.jsx)("div", {
            className: tu,
            children: (0, Dt.jsx)(po, { children: o }),
          }),
        })
      : (0, Dt.jsx)("div", { className: tu, children: o })
  );
}
var ud = "zMIGQslm-QQ-";
var sd = "_3nkzqYA4FK4-";
var bd = "dErpveGqVik-";
var ld = "gYGEdmPvZHE-";
var md = "yfQ-e815I6Q-";
var nu = "muC5kYuxRKc-";
var cd = "iB3ocr-ufDs-";
var pd = "cewzj0KMkus-";
var ou = "vWxxzFGj5QA-";
var Hd = "OXyMWcHNhmk-";
var dd = "ULGYPLpLEck-";
var yd = "zyQ6rHCzBVo-";
var gd = "gSkvnXl1o38-";
var Cd = "_4gbfFObQAhE-";
var hd = "uk8N4gUn-8w-";
var fd = "_6SLYXFxl98I-";
var vd = "_0jWrovn7F2Q-";
var Ha = b(w(), 1);
var da = b(it(), 1);
var me = b(H(), 1);
function gt(t) {
  let e = iu();
  return (0, me.jsx)("div", {
    className: (0, da.default)(ud, e && pd),
    children: t.children,
  });
}
function Ct(t) {
  return (0, me.jsx)("div", {
    role: "heading",
    "aria-level": 2,
    className: sd,
    children: t.children,
  });
}
function au(t) {
  let { title: e, children: n } = t;
  return (0, me.jsxs)("div", {
    className: bd,
    children: [
      (0, me.jsx)(Ct, { children: e }),
      (0, me.jsx)("div", { className: ld, children: n }),
    ],
  });
}
function jt(t) {
  return (0, me.jsx)(D, {
    "flow-children": "row",
    className: md,
    children: t.children,
  });
}
function kn(t) {
  return (0, me.jsx)("div", {
    className: (0, da.default)(nu, t.className),
    children: t.children,
  });
}
function Lt(t) {
  return (0, me.jsx)(D, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: cd,
    children: t.children,
  });
}
function Re(t) {
  let e = ke(t.href);
  return (0, me.jsx)(De, { href: e, className: ou, children: t.children });
}
function Bi(t) {
  let { storeItem: e, feature: n, depth: o, name: a } = t;
  return e && !e.visible
    ? null
    : (0, me.jsx)(vn, {
        storeItem: e,
        feature: n,
        depth: o,
        className: ou,
        children: a || e?.name,
      });
}
var we = Ha.default.memo(function (e) {
  let { handle: n, name: o } = e,
    { data: a } = Co(),
    i = a?.get(n);
  return i
    ? (0, me.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}${i.url_path}`,
        children: i.display_name,
      })
    : null;
});
function Ii() {
  return (0, me.jsx)("hr", { className: Hd });
}
function Ei(t) {
  return (0, me.jsx)(D, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: (0, da.default)(nu, dd),
    children: t.children,
  });
}
function Po(t) {
  return (0, me.jsx)(D, {
    "flow-children": "row",
    navEntryPreferPosition: 2,
    className: yd,
    children: t.children,
  });
}
function wn(t) {
  let { data: e } = Co(),
    n = e?.get(t.handle);
  return n
    ? (0, me.jsx)(Ni, {
        href: `${Q.STORE_BASE_URL}${n.url_path}`,
        name: n.display_name,
        icon: t.icon,
      })
    : null;
}
function Ni(t) {
  let e = ke(t.href);
  return (0, me.jsxs)(De, {
    href: e,
    className: (0, da.default)(gd, t.icon && Cd),
    children: [
      t.icon && (0, me.jsx)("span", { className: hd, children: t.icon }),
      (0, me.jsx)("span", { className: fd, children: t.name }),
    ],
  });
}
var kd = Ha.default.createContext({ wide: !0 });
function wd(t) {
  let e = Ha.default.useMemo(() => ({ wide: !1 }), []);
  return (0, me.jsx)(kd.Provider, { value: e, children: t.children });
}
function iu() {
  return Ha.default.useContext(kd).wide;
}
function Oi(t) {
  let { href: e, label: n = P("#Menu_Popover_ViewAll") } = t;
  return (0, me.jsxs)(De, {
    className: vd,
    href: e,
    children: [n, (0, me.jsx)(gv, {})],
  });
}
function gv() {
  return (0, me.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 7 11",
    fill: "none",
    children: (0, me.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M3.41628 5.2L-6.9089e-08 1.58057L1.49186 6.52113e-08L6.4 5.2L1.49186 10.4L-3.85509e-07 8.81943L3.41628 5.2Z",
    }),
  });
}
var Pv = b(w(), 1);
var Me = b(w()),
  Md = b(cn());
var Rd = b(w());
var jn = {
  HoverPosition: "pKS2pegh-RQ-",
  Ready: "lNlkfTairww-",
  NoSpace: "_--Ss-RzFfa4-",
  EnablePointerEvents: "WKYfhU-e-Vs-",
  HoverAboveModal: "l5PVpLvx0Ik-",
  HoverPositionOuter: "jAGa1MCcCRo-",
};
var _u = b(H()),
  Sn = class extends Rd.Component {
    m_elHover;
    m_bNoSpace = !1;
    state = { x: void 0, y: void 0, hoverPositionReady: !1 };
    bindHover(e) {
      (this.m_elHover = e || void 0), this.positionHover();
    }
    componentDidUpdate() {
      this.positionHover();
    }
    render() {
      let {
          target: e,
          visibilityObserver: n,
          className: o,
          style: a,
          bEnablePointerEvents: i,
          direction: _,
          nBodyAlignment: r,
          nBodyDistance: u,
          nAllowOffscreenPx: s,
          nMaxLateralMoveOnScreen: l,
          children: c,
          onNoSpace: m,
          bTopmost: p,
          ...C
        } = this.props,
        h = Object.assign({ left: this.state.x, top: this.state.y }, a),
        M = !n || n.visible;
      return (0, _u.jsx)("div", {
        className: v(jn.HoverPositionOuter, p && jn.HoverAboveModal),
        children: (0, _u.jsx)("div", {
          ...C,
          className: v(
            jn.HoverPosition,
            M && this.state.hoverPositionReady && jn.Ready,
            this.m_bNoSpace && jn.NoSpace,
            i && jn.EnablePointerEvents,
            o,
          ),
          style: h,
          ref: this.bindHover,
          children: c,
        }),
      });
    }
    positionHover() {
      let e = this.m_elHover,
        n = this.props.target;
      if (
        !e ||
        !n ||
        (this.state.hoverPositionReady &&
          this.props.visibilityObserver &&
          !this.props.visibilityObserver.visible)
      )
        return;
      let o = n.ownerDocument.defaultView;
      if (!o || o.closed) return;
      let a = e.querySelector(".hover_arrow.left"),
        i = e.querySelector(".hover_arrow.right"),
        _ = e.querySelector(".hover_arrow.top"),
        r = e.querySelector(".hover_arrow.bottom"),
        u = n.getBoundingClientRect(),
        s = e.getBoundingClientRect(),
        l =
          this.props.direction == "overlay" ||
          this.props.direction == "overlay-center";
      a && a.setAttribute("style", "display: none;"),
        i && i.setAttribute("style", "display: none;"),
        _ && _.setAttribute("style", "display: none;"),
        r && r.setAttribute("style", "display: none;");
      let {
          nBodyDistance: c = 8,
          direction: m = "right",
          nBodyAlignment: p = 0.5,
        } = this.props,
        {
          nLeft: C,
          nTop: h,
          nOverflow: M,
          nLateralOverflow: L,
        } = Sd(m, p, c, u, s, o.innerWidth, o.innerHeight);
      if (M > (this.props.nAllowOffscreenPx ?? 10) && !l) {
        let Z = Cv(this.props.direction ?? "right"),
          {
            nLeft: X,
            nTop: be,
            nOverflow: Se,
            nLateralOverflow: qe,
          } = Sd(Z, p, c, u, s, o.innerWidth, o.innerHeight);
        if (
          (Se < M && ((m = Z), (C = X), (h = be), (M = Se), (L = qe)),
          M > (this.props.nAllowOffscreenPx ?? 10))
        ) {
          console.log(
            "Not showing hover because it didn't fit in the main or alt direction",
          ),
            e.setAttribute("style", "display: none;"),
            (this.m_bNoSpace = !0),
            this.props.onNoSpace && this.props.onNoSpace();
          return;
        }
      }
      this.props.nMaxLateralMoveOnScreen !== 0 &&
        !l &&
        ([h, C] = hv(
          this.props.nMaxLateralMoveOnScreen,
          L,
          m ?? "right",
          h,
          C,
        ));
      let T = null;
      switch (m) {
        case "left":
          T = i;
          break;
        case "right":
          T = a;
          break;
        case "top":
          T = r;
          break;
        case "bottom":
          T = _;
          break;
      }
      T && T.setAttribute("style", ""),
        C != this.state.x && this.setState({ x: C }),
        h != this.state.y && this.setState({ y: h }),
        this.state.hoverPositionReady ||
          this.setState({ hoverPositionReady: !0 });
    }
  };
Ms(Sn, "defaultProps", {
  direction: "right",
  nBodyAlignment: 0.5,
  nAllowOffscreenPx: 10,
  nBodyDistance: 8,
  nMaxLateralMoveOnScreen: void 0,
}),
  y([g], Sn.prototype, "bindHover", 1),
  (Sn = y([gn], Sn));
function Cv(t) {
  switch (t) {
    case "right":
      return "left";
    case "left":
      return "right";
    case "bottom":
      return "top";
    case "top":
      return "bottom";
    case "overlay":
      return "overlay";
    case "overlay-center":
      return "overlay-center";
  }
}
function Sd(t, e, n, o, a, i, _) {
  let r = i,
    u = _,
    s = 0,
    l = 0,
    c,
    m,
    p,
    C;
  switch (t) {
    case "right":
      (c = o.right + n),
        (m = Fi(o.top, o.height, a.height, e)),
        (p = Math.max(0, c + a.width - r)),
        (C = [Math.max(0, s - m), Math.max(0, m + a.height - u)]);
      break;
    case "left":
      (c = o.left - n - a.width),
        (m = Fi(o.top, o.height, a.height, e)),
        (p = Math.max(0, l - c)),
        (C = [Math.max(0, s - m), Math.max(0, m + a.height - u)]);
      break;
    case "bottom":
      (c = Fi(o.left, o.width, a.width, e)),
        (m = o.bottom + n),
        (p = Math.max(0, m + a.height - u)),
        (C = [Math.max(0, l - c), Math.max(0, c + a.width - r)]);
      break;
    case "top":
      (c = Fi(o.left, o.width, a.width, e)),
        (m = o.top - n - a.height),
        (p = Math.max(0, s - m)),
        (C = [Math.max(0, l - c), Math.max(0, c + a.width - r)]);
      break;
    case "overlay":
      (c = o.left), (m = o.top), (p = 0), (C = [0, 0]);
      break;
    case "overlay-center":
      (c = o.left + 0.5 * o.width - 0.5 * a.width),
        (m = o.top + 0.5 * o.height - 0.5 * a.height),
        (p = 0),
        (C = [0, 0]);
      break;
  }
  return { nLeft: c, nTop: m, nOverflow: p, nLateralOverflow: C };
}
function Fi(t, e, n, o) {
  return Math.max(0, Math.min(1, o)) * (e - n) + t;
}
function hv(t, e, n, o, a) {
  let i = Math.max(e[0], e[1]);
  t !== void 0 && (i = Math.min(t, i)), (i = Math.max(0, i));
  let _ = e[0] > e[1] ? i : -i;
  return n === "left" || n === "right" ? (o += _) : (a += _), [o, a];
}
var Pd = {
  TextToolTip: "xa7nOX-adjA-",
  ToolTipCustom: "PlhA2maQjXM-",
  ToolTipTitle: "cIyIjwsfsgk-",
  Center: "anxU2KCS-vI-",
  ToolTipInsetContent: "l-gADqxrGeQ-",
};
var Fe = b(H()),
  Ad = Me.createContext({}),
  fv = () => Me.useContext(Ad);
function Gi(t) {
  let [e, n] = Me.useState(null),
    o = Me.useMemo(() => ({ targetElement: e }), [e]);
  return (0, Fe.jsxs)(Ad.Provider, {
    value: o,
    children: [(0, Fe.jsx)("div", { ref: n }), t.children],
  });
}
function ji(t) {
  let { divProps: e, tooltipProps: n } = ru({
    ...t,
    toolTipContent: t.toolTipContent
      ? (0, Fe.jsx)(Ld, { children: Dd(t.toolTipContent) })
      : null,
  });
  return (0, Fe.jsxs)(Qt, {
    className: "tool-tip-source",
    noFocusRing: !0,
    focusable: t.bNavStop ?? !!e.onClick,
    ...e,
    children: [(0, Fe.jsx)(uu, { ...n }), t.children],
  });
}
function xd(t) {
  let { divProps: e, tooltipProps: n } = ru(t);
  return (0, Fe.jsxs)(Qt, {
    className: "tool-tip-source",
    noFocusRing: !0,
    focusable: t.bNavStop ?? !!e.onClick,
    ...e,
    children: [(0, Fe.jsx)(uu, { ...n }), t.children],
  });
}
function Td(t) {
  let { children: e } = t,
    { divProps: n, tooltipProps: o } = ru({
      ...t,
      toolTipContent: t.toolTipContent
        ? (0, Fe.jsx)(Ld, { children: Dd(t.toolTipContent) })
        : null,
    });
  return (0, Fe.jsxs)(Fe.Fragment, {
    children: [
      Me.cloneElement(e, { ...n, ...e.props }),
      (0, Fe.jsx)(uu, { ...o }),
    ],
  });
}
function ru(t) {
  let {
      toolTipContent: e,
      nDelayShowMS: n = 300,
      bDisabled: o,
      direction: a,
      nBodyAlignment: i,
      nBodyDistance: _,
      nAllowOffscreenPx: r,
      nMaxLateralMoveOnScreen: u,
      strTooltipClassname: s,
      bNavStop: l,
      bTopmost: c,
      usePointerEvents: m,
      children: p,
      onMouseLeave: C,
      ...h
    } = t,
    M = {
      direction: a,
      nBodyAlignment: i,
      nBodyDistance: _,
      nAllowOffscreenPx: r,
      nMaxLateralMoveOnScreen: u,
      className: s,
      bTopmost: c,
    },
    [L, T] = Me.useState(!1),
    [Z, X] = Me.useState(),
    be = Me.useCallback(
      (he) => {
        (m && "pointerType" in he && he.pointerType != "mouse") ||
          (T(!0), X(he.currentTarget));
      },
      [m],
    ),
    Se = Me.useCallback(() => {
      T(!1);
    }, []),
    qe = {
      active: L && !o,
      target: Z,
      nDelayShowMS: n,
      hoverPositionProps: M,
      children: e,
    },
    Te = { ...h };
  return (
    m
      ? ((Te.onPointerEnter = be), (Te.onPointerLeave = Se))
      : ((Te.onMouseEnter = be), (Te.onMouseLeave = Se)),
    {
      divProps: Te,
      stateHandlers: { setTarget: X, setHovered: T },
      tooltipProps: qe,
    }
  );
}
function Dd(t) {
  return typeof t == "string" ? O(t) : t;
}
function Ld(t) {
  return (0, Fe.jsx)("div", {
    ...t,
    className: v(Pd.TextToolTip, t.className),
  });
}
function uu(t) {
  let {
      active: e,
      target: n,
      nDelayShowMS: o = 300,
      hoverPositionProps: a,
      children: i,
    } = t,
    [_, r] = Me.useState(e),
    u = fv();
  if (
    (Me.useEffect(() => {
      if (e)
        if (o) {
          let l = window.setTimeout(() => r(!0), o);
          return () => window.clearTimeout(l);
        } else {
          r(!0);
          return;
        }
      else {
        r(!1);
        return;
      }
    }, [e]),
    !_ || !i || !n)
  )
    return null;
  let { targetElement: s } = u;
  return Md.createPortal(
    (0, Fe.jsx)(Sn, { target: n, ...a, children: i }),
    s ?? n.ownerDocument.body,
  );
}
function su(t = 0, e = void 0) {
  let n = rt();
  return tt(kv(n, t, !1, e));
}
function kv(t, e, n = !1, o = void 0) {
  return {
    queryKey: ["DiscoveryQueue", e, o],
    queryFn: () => wv(t, e, n, o),
    enabled: xs.logged_in,
  };
}
async function wv(t, e, n = !1, o = void 0) {
  let a = ot.Init(nl);
  a.Body().set_queue_type(e),
    a.Body().set_country_code(Q.COUNTRY),
    a.Body().set_rebuild_queue(n),
    a.Body().set_rebuild_queue_if_stale(!0),
    (o?.nSaleTagID || o?.strContentHubType) &&
      a.Body().set_store_page_filter(Sv(o));
  let i = await ci.GetDiscoveryQueue(t, a);
  if (!i.BSuccess())
    throw `Error loading discovery queue: ${i.GetErrorMessage()}`;
  return i.Body().toObject();
}
function Sv(t) {
  let e = t?.nSaleTagID,
    n = t?.strContentHubType,
    o = t?.strContentHubCategory,
    a = t?.nContentHubTagID,
    i = t?.bDiscountsOnly,
    _ = t?.bPrioritizeDiscounts,
    r = t?.strOptInName,
    u = t?.nOptInTagID,
    s = t?.nPruneTagID,
    l = t?.bOptInOnly,
    c = new Ns();
  if (e) {
    let m = new Os();
    m.set_sale_tagid(e), c.set_sale_filter(m);
  } else if (n) {
    let m = new Fs();
    if (
      (m.set_hub_type(n),
      n === "category"
        ? m.set_hub_category(o)
        : n === "tags" && m.set_hub_tagid(a),
      i ? m.set_discount_filter(1) : _ && m.set_discount_filter(2),
      r)
    ) {
      let p = new Gs();
      p.set_name(r),
        p.set_optin_tagid(u),
        p.set_prune_tagid(s),
        p.set_optin_only(l),
        m.set_optin(p);
    }
    c.set_content_hub_filter(m);
  }
  return c;
}
var bu = "zS3MzBFQHkY-";
var zd = "mI7yDdWRs7s-";
var Bd = "lXuAiu-iXVg-";
var Id = "NNdAu3V92ks-";
var Ed = "_5ugSucgZfms-";
var j = b(H(), 1);
function Nd() {
  return (0, j.jsx)(gt, {
    children: (0, j.jsxs)(jt, {
      children: [(0, j.jsx)(xv, {}), (0, j.jsx)(Av, {})],
    }),
  });
}
var Mv = { include_assets: !0, apply_user_filters: !0 };
function Av() {
  return (0, j.jsxs)(Lt, {
    children: [
      (0, j.jsx)(Re, {
        href: `${f.STORE_BASE_URL}charts/`,
        children: P("#Menu_Popover_SteamCharts"),
      }),
      (0, j.jsx)(Re, {
        href: `${f.STORE_BASE_URL}points/`,
        children: P("#Menu_Popover_PointsShop"),
      }),
      (0, j.jsx)(Re, {
        href: `${f.STORE_BASE_URL}digitalgiftcards/`,
        children: P("#Menu_Popover_GiftCards"),
      }),
      (0, j.jsx)(Re, {
        href: `${f.STORE_BASE_URL}news/`,
        children: P("#Menu_Popover_NewsAndUpdates"),
      }),
      (0, j.jsx)(Re, {
        href: `${f.STORE_BASE_URL}account/preferences/`,
        children: P("#Menu_Popover_Preferences"),
      }),
    ],
  });
}
function Od() {
  return Co(), pl({ count: 10, name: "Store Menu Popular New" }, Mv), null;
}
var ZL = En.GenerateRandomSeed();
function xv() {
  let { data: t } = Co(),
    e = t?.get("freetoplay"),
    n = t?.get("demos");
  return (0, j.jsx)(kn, {
    children: (0, j.jsxs)("div", {
      className: zd,
      children: [
        (0, j.jsxs)(Tv, {
          title: P("#Menu_Section_Browse_BrowseTop"),
          children: [
            (0, j.jsx)(Mo, {
              label: P("#Menu_Section_Browse_TopSellers"),
              href: "charts/topselling",
            }),
            (0, j.jsx)(Mo, {
              label: P("#Menu_Section_Browse_Discounts"),
              href: "specials/",
            }),
          ],
        }),
        (0, j.jsxs)(Dv, {
          children: [
            e &&
              (0, j.jsx)(Mo, {
                label: P("#Menu_Section_Browse_TopFreeToPlay"),
                href: e.url_path,
              }),
            n && (0, j.jsx)(Mo, { label: n.display_name, href: n.url_path }),
            (0, j.jsx)(Mo, {
              label: P("#Menu_Section_Browse_Discounts_YourWishlist"),
              href: "wishlist/?min_discount=any",
            }),
            (0, j.jsx)(Mo, {
              label: P("#Menu_Section_Browse_NewReleases"),
              href: "explore/new/",
            }),
          ],
        }),
      ],
    }),
  });
}
function Tv(t) {
  let { title: e, hrefViewAll: n, children: o } = t,
    a = ke(n && `${f.STORE_BASE_URL}${n}`);
  return (0, j.jsxs)("div", {
    className: bu,
    children: [
      (0, j.jsx)(Ct, { children: e }),
      (0, j.jsx)("div", { className: Bd, children: o }),
    ],
  });
}
function Dv(t) {
  let { children: e } = t;
  return (0, j.jsxs)("div", {
    className: bu,
    children: [
      (0, j.jsx)("div", { className: Ed, children: e }),
      (0, j.jsx)(Lv, {}),
    ],
  });
}
function Mo(t) {
  let { label: e, href: n } = t,
    o = ke(`${f.STORE_BASE_URL}${n}`);
  return (0, j.jsx)("a", { className: Id, href: o, children: e });
}
function Lv() {
  return (0, j.jsx)("div", {
    className: qp.ValveOnlyNotice,
    children: (0, j.jsx)(Td, {
      toolTipContent:
        "The new store menu is currently visible only to Valve accounts for testing.",
      direction: "top",
      children: (0, j.jsxs)("span", {
        style: { display: "inline-block", cursor: "default" },
        children: [
          "Valve only",
          " - ",
          (0, j.jsx)("a", {
            href: "https://valve.enterprise.slack.com/archives/C08VC797WA1",
            target: "_blank",
            children: "Give feedback on Slack",
          }),
        ],
      }),
    }),
  });
}
var ny = b(w(), 1);
var Fd = "WjktTyUPITU-";
var Gd = "-WrCGkDvlps-";
var jd = "WY6K-yZzAe8-";
var Ud = "xH2YoV9IJC0-";
var Vd = "lEUQ9HI4CZ4-";
var Wd = "qWGrofpir30-";
var qd = "FjXlzzZgX68-";
var Kd = "S9gkWvzssts-";
var Jd = "mWxgVCwoFBY-";
var Ui = b(w(), 1);
var Yd = "C8-6cBqsMmc-";
var Qd = "_42tTdFPE6UY-";
var Xd = "WTz-56RA9mc-";
var $d = "ml415pzV4qo-";
var Zd = "jSexNYZhZD0-";
var lu = "S0RpvNJVeMY-";
var zt = b(H(), 1);
var mu;
function ty(t) {
  let { rgAppIDs: e, bAnimationEnabled: n = !0, nCapsuleWidth: o = 320 } = t,
    [a, i] = Ui.default.useState(null);
  return (
    Ui.default.useEffect(() => {
      if (!n || !a) return;
      mu || (mu = performance.now());
      let _,
        r = () => {
          let s =
            (((performance.now() - mu) / 40) % (a.offsetWidth - 3 * o - 16)) +
            o;
          (a.style.transform = `translateX( -${s}px )`),
            (_ = requestAnimationFrame(r));
        };
      return (_ = requestAnimationFrame(r)), () => cancelAnimationFrame(_);
    }, [a, n, o]),
    !e || !e.length
      ? null
      : (0, zt.jsx)("div", {
          className: Yd,
          style: { "--capsule-width": `${o}px` },
          children: (0, zt.jsxs)("div", {
            ref: i,
            className: v(Qd, "vt-scrollable"),
            style: { transform: `translateX( -${o}px )` },
            children: [
              e.map((_) => (0, zt.jsx)(ey, { appID: _ }, "Capsule_" + _)),
              [...e, ...e]
                .slice(0, 3)
                .map((_) => (0, zt.jsx)(ey, { appID: _ }, "Capsule2_" + _)),
            ],
          }),
        })
  );
}
function ey(t) {
  let { appID: e } = t,
    n = { appid: e },
    { data: o } = Ke(n),
    a = bl(e),
    i = sl(n) || [],
    { data: _ } = Qb(n);
  if (!a) return null;
  let r = i.length ? ul(i[0], "600x338") : _ && pi(_, "main_capsule"),
    u = {
      backgroundImage: `radial-gradient(135% 125% at 100% 0%, rgba(0, 0, 0, 0) 22.5%, rgba(0, 0, 0, 1) 92.5%)${r ? `, url('${r}')` : ""}`,
    };
  return (0, zt.jsxs)("div", {
    className: Xd,
    style: u,
    children: [
      (0, zt.jsx)("div", {
        className: v(lu, Zd),
        children: (0, zt.jsx)("img", { src: a, alt: o?.name }),
      }),
      (0, zt.jsx)("div", {
        className: lu,
        children: (0, zt.jsx)("div", { className: $d, children: o?.name }),
      }),
    ],
  });
}
var Ov = b(it(), 1);
function cu(t, e) {
  let n = rt(),
    { storeBrowseContext: o, cacheStoreItemData: a } = mi();
  return tt(Iv(n, { storeBrowseContext: o, cacheStoreItemData: a }, e, t));
}
function Iv(t, e, n, o) {
  let { storeBrowseContext: a, cacheStoreItemData: i } = e;
  return {
    ...Ev(
      t,
      a,
      { rgAdditionalRecommendationIDs: n ?? [] },
      o && { data_request: o, cacheStoreItemData: i },
    ),
    enabled: pt.logged_in,
    select: (_) => (_.purchase_recommendations || []).map((r) => r.item_id),
  };
}
function Ev(t, e, n, o) {
  let {
      bIncludeDailyDeals: a = !1,
      nIncludeTopNSpecials: i = 0,
      spotlightLocation: _ = {},
      rgAdditionalRecommendationIDs: r,
    } = n,
    u = {
      bIncludeDailyDeals: a,
      nIncludeTopNSpecials: i,
      spotlightLocation: _,
      rgAdditionalRecommendationIDs: r,
    };
  return {
    queryKey: ["ItemsToFeature", u],
    queryFn: () => Nv(t, e, u, o),
    staleTime: 3600 * 1e3,
  };
}
async function Nv(t, e, n, o) {
  let a = ot.Init(Hl);
  si(e, a),
    o && bi(a, o.data_request),
    n.bIncludeDailyDeals && a.Body().set_include_dailydeals(!0),
    n.nIncludeTopNSpecials &&
      a.Body().set_include_top_specials_count(n.nIncludeTopNSpecials),
    n.spotlightLocation &&
      a.Body().set_include_spotlights(dl.fromObject(n.spotlightLocation)),
    n.rgAdditionalRecommendationIDs !== void 0 &&
      (a.Body().set_include_purchase_recommendations(!0),
      n.rgAdditionalRecommendationIDs.forEach((_) =>
        a.Body().add_additional_purchase_item_ids(bo.fromObject(_)),
      ));
  let i = await yl.GetItemsToFeature(t, a);
  if (!i.BSuccess()) throw i.GetErrorMessage();
  if (o) {
    let { cacheStoreItemData: _, data_request: r } = o,
      u = (s) => s && _(s, r);
    i
      .Body()
      .spotlights()
      .forEach((s) => u(s.associated_item(!1))),
      i
        .Body()
        .daily_deals()
        .forEach((s) => u(s.item(!1))),
      i
        .Body()
        .specials()
        .forEach((s) => u(s.item(!1))),
      i
        .Body()
        .purchase_recommendations()
        .forEach((s) => u(s.item(!1)));
  }
  return i.Body().toObject();
}
var G = b(H(), 1);
function oy() {
  return (0, G.jsx)(gt, {
    children: (0, G.jsxs)(jt, {
      children: [
        (0, G.jsx)(kn, {
          children: (0, G.jsxs)("div", {
            className: Fd,
            children: [
              pt.logged_in ? (0, G.jsx)(Uv, {}) : (0, G.jsx)(Vv, {}),
              (0, G.jsx)(Gv, {}),
            ],
          }),
        }),
        (0, G.jsx)(Fv, {}),
      ],
    }),
  });
}
function ay() {
  return cu(pu), su(), null;
}
function Fv() {
  return (0, G.jsxs)(Lt, {
    children: [
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}explore/next/3`,
        children: P("#Menu_Section_Recommendations_NewReleasesQueue"),
      }),
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}communityrecommendations/`,
        children: P("#Menu_Section_Recommendations_CommunityRecommendations"),
      }),
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}recommender/`,
        children: P("#Menu_Section_Recommendations_InteractiveRecommender"),
      }),
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}recommended/friendactivity/`,
        children: P("#Menu_Section_Recommendations_PopularAmongFriends"),
      }),
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}curators/`,
        children: P("#Menu_Section_Recommendations_SteamCurators"),
      }),
      (0, G.jsx)(Re, {
        href: `${Q.STORE_BASE_URL}dlcforyou/`,
        children: P("#Menu_Section_Recommendations_DLCForYou"),
      }),
    ],
  });
}
function Gv() {
  return (0, G.jsxs)("div", {
    className: Gd,
    children: [
      (0, G.jsx)(Wv, {}),
      (0, G.jsxs)("div", {
        className: Vd,
        children: [
          (0, G.jsx)("div", {
            className: Wd,
            children: P("#Menu_Section_Recommendations_DiscoveryQueue_Title"),
          }),
          (0, G.jsx)("div", {
            className: qd,
            children: P(
              "#Menu_Section_Recommendations_DiscoveryQueue_Description",
            ),
          }),
          (0, G.jsx)(De, {
            className: Kd,
            href: `${Q.STORE_BASE_URL}explore/next/0`,
            children: (0, G.jsx)("span", {
              className: Jd,
              children: P(
                "#Menu_Section_Recommendations_DiscoveryQueue_ActionButton",
              ),
            }),
          }),
        ],
      }),
    ],
  });
}
var pu = { include_assets: !0 },
  jv = Math.floor(Date.now() / (10 * 60 * 1e3));
function Uv(t) {
  let { rgRecentApps: e } = t,
    { data: n } = cu(pu),
    o = ny.default.useMemo(() => {
      if (!n) return [];
      let a = new Set(e?.map(tn) || []),
        i = n.slice(0, 10).filter((_) => !a.has(tn(_)));
      return In.ShuffleArray(i, 0, En.SeededRandom(jv)).slice(0, 3);
    }, [n, e]);
  return (0, G.jsx)(en, {
    feature: "package-purchase-recommendations",
    children: (0, G.jsxs)("div", {
      children: [
        (0, G.jsx)(Ct, { children: P("#Menu_Section_Browse_Recommended") }),
        (0, G.jsx)(Zr, { rgItemIDs: o }),
      ],
    }),
  });
}
function Vv() {
  let { data: t } = gl({ count: 3, name: "Store Menu Top Grossing" }, pu);
  return (0, G.jsx)(en, {
    feature: "topsellers",
    children: (0, G.jsxs)("div", {
      children: [
        (0, G.jsx)(Ct, { children: P("#Menu_TopSellers") }),
        (0, G.jsx)(Zr, { rgItemIDs: t?.rgItemIDs || [] }),
      ],
    }),
  });
}
function Wv() {
  let { data: t } = su();
  return (0, G.jsxs)("div", {
    className: jd,
    children: [
      t && (0, G.jsx)(ty, { rgAppIDs: t.appids, nCapsuleWidth: 260 }),
      (0, G.jsx)("div", { className: Ud }),
    ],
  });
}
var Vi = b(w(), 1);
var iy = "KS3VoNPGZ8c-";
var _y = "Fn8mFRDdRio-";
var Hu = "FNE-mPeXzQA-";
var ry = "pWS9WkhTQxE-";
var uy = "MjVgWd26-Ks-";
var sy = "i0CnQqTCYIQ-";
var by = "jLuOSBgXneI-";
var ly = "O-5tWVDApEQ-";
var du = "pFyqFohCcGg-";
function yu(t) {
  let { tagid: e, language: n = Q.LANGUAGE } = t;
  return K_(e, n) || String(e);
}
function gu(t, e = Q.LANGUAGE) {
  let n = K_(t, e);
  return `${Q.STORE_BASE_URL}tags/${Ts(e)}/${n}`;
}
function Cu() {
  let t = li(),
    e = rt(),
    n = Cn();
  return tt({ ...Kv(e, t), enabled: !!n, initialData: n ? void 0 : [] });
}
function Kv(t, e) {
  return {
    queryKey: ["RecommendedTagsForUser", e.country, e.language],
    queryFn: () => Jv(t, e),
    staleTime: 1e3 * 60 * 60 * 24,
  };
}
async function Jv(t, e) {
  let n = ot.Init(tl);
  n.Body().set_language(e.language),
    n.Body().set_country_code(e.country),
    n.Body().set_favor_rarer_tags(!0);
  let o = await ci.GetRecommendedTagsForUser(t, n);
  if (!o.BSuccess())
    throw `Error loading recommended tags: ${o.GetErrorMessage()}`;
  return o.Body().toObject().tags || [];
}
var K = b(H(), 1);
function my() {
  return (0, K.jsxs)(gt, {
    children: [
      (0, K.jsx)(au, {
        title: P("#Menu_Section_Categories_YourTopGenres"),
        children: (0, K.jsx)(Oi, {
          href: `${f.STORE_BASE_URL}sitemap/#genres`,
          label: P("#Menu_Section_Categories_ViewAll"),
        }),
      }),
      (0, K.jsx)(kn, { children: (0, K.jsx)(Yv, {}) }),
    ],
  });
}
function cy() {
  return q_(f.LANGUAGE), ma(pt.logged_in), Cu(), null;
}
var Yv = Vi.default.memo(function () {
    let [e, n] = Xv();
    return e === null || n === null
      ? null
      : (0, K.jsxs)(K.Fragment, {
          children: [
            (0, K.jsx)(D, {
              "flow-children": "row",
              className: iy,
              children: e.map((o) =>
                o.type === "hub"
                  ? (0, K.jsx)($v, { featuredCategory: o }, o.strHandle)
                  : (0, K.jsx)(Zv, { featuredTag: o }, o.unTagID),
              ),
            }),
            (0, K.jsxs)(D, {
              "flow-children": "row",
              className: by,
              children: [
                (0, K.jsx)(D, {
                  "flow-children": "row",
                  className: ly,
                  children: n.map((o) =>
                    o.type === "hub"
                      ? (0, K.jsx)(tk, { featuredLink: o }, o.strHandle)
                      : (0, K.jsx)(ek, { featuredLink: o }, o.unTagID),
                  ),
                }),
                (0, K.jsx)(Oi, {
                  href: `${f.STORE_BASE_URL}tag/browse/`,
                  label: P("#Menu_Section_Categories_ViewAllTags"),
                }),
              ],
            }),
          ],
        });
  }),
  Qv = En.GenerateRandomSeed();
function Xv() {
  let { data: t } = ma(),
    { data: e } = Cu(),
    n = cl(pa),
    { data: o } = q_(f.LANGUAGE),
    a = Vi.default.useMemo(
      () => In.ShuffleArray(Di().slice(), 0, En.SeededRandom(Qv)),
      [],
    ),
    i = iu(),
    _ = i ? 8 : 5,
    r = i ? 12 : 8;
  return Vi.default.useMemo(() => {
    if (t == null || e == null || !n || !o) return [null, null];
    let u = new Set(),
      s = new Set(),
      l = [],
      c = [],
      m = t.slice(),
      p = e.slice(),
      C = a;
    for (let h of [l, c]) {
      let M = h == l ? _ : r;
      for (; h.length < M; ) {
        let L;
        if (m.length) {
          let T = m.shift();
          "hubconfig" in T
            ? (L = {
                type: "hub",
                strHandle: T.hubconfig.handle,
                strName: T.hubconfig.display_name,
                strURLPath: T.hubconfig.url_path,
              })
            : (L = { type: "tag", unTagID: T.tagid });
        } else if (p.length) L = { type: "tag", unTagID: p.shift().tagid };
        else if (C.length) {
          let T = C.shift();
          L = {
            type: "hub",
            strHandle: T.id,
            strName: pa.Localize(T.strLocToken),
            strURLPath: T.strSalePageURL,
          };
        } else break;
        L.type == "tag"
          ? !s.has(L.unTagID) && L.unTagID in o && (s.add(L.unTagID), h.push(L))
          : L.type == "hub" &&
            (u.has(L.strHandle) || (u.add(L.strHandle), h.push(L)));
      }
    }
    return [l, c];
  }, [_, r, t, e, a, n, o]);
}
function $v(t) {
  let { featuredCategory: e } = t,
    { strHandle: n, strURLPath: o, strName: a } = e,
    i = ke(`${f.STORE_BASE_URL}${o}`, "big-category-link");
  return (0, K.jsx)(py, {
    title: a,
    href: i,
    children: (0, K.jsx)(nk, { category: n }),
  });
}
function Zv(t) {
  let { featuredTag: e } = t,
    { unTagID: n } = e,
    o = ke(gu(n), "big-category-link");
  return (0, K.jsx)(py, {
    title: (0, K.jsx)(yu, { tagid: n }),
    href: o,
    children: (0, K.jsx)(ok, { tagid: n }),
  });
}
function py(t) {
  let { children: e, title: n, href: o } = t;
  return (0, K.jsxs)(De, {
    className: _y,
    href: o,
    children: [
      e,
      (0, K.jsx)("div", { className: ry }),
      (0, K.jsx)("div", {
        className: uy,
        children: (0, K.jsx)("div", { className: sy, children: n }),
      }),
    ],
  });
}
function ek(t) {
  let { featuredLink: e } = t,
    n = ke(gu(e.unTagID), "small-category-link");
  return (0, K.jsx)(De, {
    className: du,
    href: n,
    fnCanTakeFocus: O_,
    children: (0, K.jsx)(yu, { tagid: e.unTagID }),
  });
}
function tk(t) {
  let { featuredLink: e } = t,
    n = ke(`${f.STORE_BASE_URL}${e.strURLPath}`, "small-category-link");
  return (0, K.jsx)(De, {
    className: du,
    href: n,
    fnCanTakeFocus: O_,
    children: e.strName,
  });
}
function nk(t) {
  let { category: e } = t;
  return (0, K.jsx)("img", {
    className: Hu,
    alt: "",
    src: `${f.STORE_CDN_URL}categories/image/category/${e}?cc=${f.COUNTRY}&l=${f.LANGUAGE}`,
  });
}
function ok(t) {
  let { tagid: e } = t;
  return (0, K.jsx)("img", {
    className: Hu,
    alt: "",
    src: `${f.STORE_CDN_URL}categories/image/tags/${e}?cc=${f.COUNTRY}&l=${f.LANGUAGE}`,
  });
}
var Hy = "BUi42fzAwGY-";
var dy = "HWTMAITMowM-";
var yy = "Vg3QiTRTamw-";
var gy = "MFaLtBAVIAM-";
var Cy = "eLjOKgMe1Sk-";
var hy = "/2KRULVAA.png";
var fy = "/A7QSO6BA.png";
var ye = b(H(), 1),
  ky = { appid: 1675200 },
  wy = { appid: 1696780 },
  Sy = { packageid: 354231 };
function Ry() {
  return (0, ye.jsxs)(gt, {
    children: [
      (0, ye.jsx)(Ct, { children: P("#Menu_Section_Hardware") }),
      (0, ye.jsxs)(jt, {
        children: [(0, ye.jsx)(rk, {}), (0, ye.jsx)(uk, {})],
      }),
    ],
  });
}
function rk() {
  let { data: t } = Ke(ky),
    { data: e } = Ke(wy),
    { data: n } = Ke(Sy),
    o = [
      { storeItem: t, image: ct(hy) },
      {
        storeItem: e,
        image: ct(fy),
        name: P("#Menu_Section_Hardware_SteamDeckDock"),
      },
      { storeItem: n },
    ]
      .filter(({ storeItem: a }) => a && a.visible)
      .slice(0, 2);
  return (0, ye.jsxs)(kn, {
    className: Hy,
    children: [
      o.length >= 1 && (0, ye.jsx)(vy, { ...o[0] }),
      o.length >= 2 && (0, ye.jsx)(vy, { ...o[1] }),
    ],
  });
}
function vy(t) {
  let { storeItem: e, image: n, name: o = e.name } = t;
  return (0, ye.jsxs)(vn, {
    className: dy,
    storeItem: e,
    children: [
      n && (0, ye.jsx)("img", { className: yy, src: n, alt: o }),
      (0, ye.jsx)("div", {
        className: gy,
        children: (0, ye.jsx)("div", { className: Cy, children: o }),
      }),
    ],
  });
}
function uk() {
  let { data: t } = Ke(ky),
    { data: e } = Ke(wy),
    { data: n } = Ke(Sy);
  return (0, ye.jsxs)(Lt, {
    children: [
      (0, ye.jsx)(Bi, { storeItem: t }),
      (0, ye.jsx)(Bi, { storeItem: e }),
      (0, ye.jsx)(Bi, {
        storeItem: n,
        name: P("#Menu_Section_Hardware_VRHardware"),
      }),
      (0, ye.jsx)(Ii, {}),
      (0, ye.jsx)(we, { handle: "greatondeck" }),
      (0, ye.jsx)(we, { handle: "vr" }),
      (0, ye.jsx)(we, { handle: "controller" }),
    ],
  });
}
var I = b(H(), 1);
function Py() {
  return (0, I.jsxs)(gt, {
    children: [
      (0, I.jsx)(Ct, { children: P("#Menu_Section_WaysToPlay") }),
      (0, I.jsxs)(jt, { children: [(0, I.jsx)(bk, {}), (0, I.jsx)(sk, {})] }),
    ],
  });
}
function sk() {
  return (0, I.jsxs)(Lt, {
    children: [
      (0, I.jsx)(we, { handle: "multiplayer_coop" }),
      (0, I.jsx)(we, { handle: "multiplayer_lan" }),
      (0, I.jsx)(we, { handle: "multiplayer_local_party" }),
      (0, I.jsx)(we, { handle: "multiplayer_mmo" }),
      (0, I.jsx)(we, { handle: "multiplayer" }),
      (0, I.jsx)(we, { handle: "multiplayer_online_competitive" }),
      (0, I.jsx)(we, { handle: "singleplayer" }),
    ],
  });
}
function bk() {
  return (0, I.jsxs)(Ei, {
    children: [
      (0, I.jsxs)(Po, {
        children: [
          (0, I.jsx)(wn, { handle: "greatondeck", icon: (0, I.jsx)(pk, {}) }),
          (0, I.jsx)(wn, {
            handle: "remoteplay_hub",
            icon: (0, I.jsx)(mk, {}),
          }),
          (0, I.jsx)(wn, { handle: "vr", icon: (0, I.jsx)(ck, {}) }),
        ],
      }),
      (0, I.jsxs)(Po, {
        children: [
          (0, I.jsx)(wn, { handle: "controller", icon: (0, I.jsx)(lk, {}) }),
          (0, I.jsx)(wn, {
            handle: "multiplayer_coop",
            icon: (0, I.jsx)(Hk, {}),
          }),
        ],
      }),
    ],
  });
}
function lk() {
  return (0, I.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 46 47",
    fill: "none",
    children: (0, I.jsx)("path", {
      stroke: "currentColor",
      fill: "currentColor",
      d: "M23 7.38892C29.6405 7.38892 34.242 8.69779 37.1699 9.99146C38.6345 10.6386 39.6828 11.2832 40.3604 11.761C40.6989 11.9998 40.9454 12.197 41.1045 12.3323C41.1603 12.3797 41.2056 12.4201 41.2402 12.4514C41.2433 12.4618 41.2466 12.4731 41.25 12.4846C41.2814 12.5922 41.327 12.7511 41.3857 12.9553C41.5034 13.3645 41.6721 13.9564 41.874 14.6848C42.278 16.1422 42.8171 18.1467 43.3555 20.3352C44.4379 24.7353 45.5 29.807 45.5 32.7004C45.4998 34.6845 44.063 36.4077 42.4902 37.6848C41.7174 38.3123 40.942 38.8073 40.3584 39.1458C40.0962 39.2978 39.8734 39.4168 39.709 39.5022L32.1514 31.9446H13.8486L13.7021 32.0911L6.29004 39.5022C6.12571 39.4168 5.90342 39.2976 5.6416 39.1458C5.05803 38.8073 4.28256 38.3123 3.50977 37.6848C1.93696 36.4077 0.500199 34.6845 0.5 32.7004C0.5 29.807 1.56212 24.7353 2.64453 20.3352C3.18289 18.1467 3.72199 16.1422 4.12598 14.6848C4.3279 13.9564 4.49657 13.3645 4.61426 12.9553C4.67299 12.7511 4.71857 12.5922 4.75 12.4846C4.75335 12.4731 4.75578 12.4617 4.75879 12.4514C4.79351 12.42 4.83937 12.38 4.89551 12.3323C5.05464 12.197 5.30107 11.9998 5.63965 11.761C6.31717 11.2832 7.36553 10.6386 8.83008 9.99146C11.758 8.69779 16.3595 7.38892 23 7.38892ZM11 17.8889H7.16699V22.7219H11V26.5559H15.833V22.7219H19.667V17.8889H15.833V14.0559H11V17.8889ZM28.8857 19.4475C28.2109 19.1681 27.4683 19.0952 26.752 19.2375C26.125 19.3623 25.5424 19.6475 25.0605 20.0627L24.8594 20.2483C24.4074 20.7003 24.082 21.2612 23.9121 21.8743L23.8486 22.1409C23.724 22.7678 23.7645 23.4147 23.9639 24.0188L24.0586 24.2747C24.3033 24.8653 24.6968 25.3811 25.1982 25.7727L25.4199 25.9329C26.0274 26.3388 26.742 26.5559 27.4727 26.5559C27.8971 26.5559 28.318 26.4827 28.7168 26.3401L28.8857 26.2747C29.278 26.1122 29.6392 25.8833 29.9531 25.5989L30.085 25.4739C30.3852 25.1736 30.6304 24.8237 30.8115 24.4407L30.8857 24.2747C31.0713 23.8267 31.1669 23.3465 31.167 22.8616C31.167 22.2222 31.0009 21.595 30.6875 21.0413L30.5439 20.8088C30.1888 20.2773 29.7029 19.848 29.1348 19.5618L28.8857 19.4475ZM36.5527 14.3372C35.9619 14.0924 35.3192 14.0055 34.6875 14.0833L34.418 14.1262C33.791 14.251 33.2085 14.536 32.7266 14.9514L32.5264 15.1379C32.0742 15.5901 31.748 16.1506 31.5781 16.7639L31.5156 17.0295C31.391 17.6565 31.4315 18.3033 31.6309 18.9075L31.7256 19.1643C31.9703 19.7548 32.3639 20.2698 32.8652 20.6614L33.0859 20.8215C33.6934 21.2274 34.4081 21.4445 35.1387 21.4446C36.0572 21.4446 36.9405 21.1021 37.6182 20.4885L37.751 20.3625C38.4438 19.6698 38.833 18.73 38.833 17.7502C38.833 17.1109 38.6679 16.4836 38.3545 15.9299L38.2109 15.6975C37.8557 15.1658 37.3692 14.7367 36.8008 14.4504L36.5527 14.3372Z",
    }),
  });
}
function mk() {
  return (0, I.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 47 47",
    fill: "none",
    children: (0, I.jsx)("path", {
      fill: "currentColor",
      d: "M44.1111 8.16675V38.8334H22.3888V33.7223H38.9999V13.2779H8.33328V19.6667H3.22217V8.16675H44.1111ZM3.22217 23.5001V28.6112C5.93327 28.6112 8.53333 29.6882 10.4504 31.6052C12.3674 33.5223 13.4444 36.1223 13.4444 38.8334H18.5555C18.5555 34.7668 16.94 30.8667 14.0645 27.9911C11.1889 25.1156 7.28882 23.5001 3.22217 23.5001ZM3.22217 32.4445V38.8334H9.61106C9.61106 37.9944 9.4458 37.1636 9.12473 36.3885C8.80366 35.6134 8.33306 34.9091 7.73979 34.3158C7.14653 33.7225 6.44223 33.2519 5.66709 32.9309C4.89195 32.6098 4.06117 32.4445 3.22217 32.4445Z",
    }),
  });
}
function ck() {
  return (0, I.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 47 28",
    fill: "none",
    children: (0, I.jsx)("path", {
      fill: "currentColor",
      d: "M42.5002 8.49432C42.5147 7.1735 42.1195 5.88065 41.3689 4.79371C40.6184 3.70677 39.5494 2.87919 38.3091 2.42488C33.4448 1.02283 28.394 0.376401 23.3335 0.508213C18.2729 0.376401 13.2222 1.02283 8.35794 2.42488C7.11763 2.87919 6.04862 3.70677 5.29806 4.79371C4.5475 5.88065 4.15229 7.1735 4.16683 8.49432L0.333496 9.45266V17.1193L4.16683 18.0904C4.27554 19.7299 4.82745 21.3091 5.76364 22.6594C6.69984 24.0096 7.98516 25.0803 9.48238 25.7571L13.3157 27.3799C14.0945 27.6992 14.9581 27.7467 15.7672 27.5149C16.5763 27.283 17.2837 26.7853 17.7752 26.1021C18.3811 25.2081 19.2178 24.4949 20.1964 24.0382C21.1751 23.5815 22.2591 23.3984 23.3335 23.5082C24.4131 23.4088 25.4994 23.6048 26.4762 24.0752C27.4531 24.5456 28.2836 25.2727 28.8791 26.1788C29.3705 26.862 30.0779 27.3597 30.887 27.5915C31.6961 27.8234 32.5597 27.7758 33.3385 27.4565L37.1718 25.8338C38.6691 25.157 39.9544 24.0863 40.8906 22.736C41.8268 21.3858 42.3787 19.8066 42.4874 18.1671L46.3207 17.196V9.52932L42.5002 8.49432ZM28.6491 8.11099C27.0968 7.75874 25.5127 7.56607 23.9213 7.53599C21.9373 7.4828 19.9544 7.67594 18.0179 8.11099L17.1491 4.37988C19.4044 3.87493 21.713 3.64751 24.0235 3.70266C25.8737 3.73511 27.7153 3.9621 29.5179 4.37988L28.6491 8.11099Z",
    }),
  });
}
function pk() {
  return (0, I.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 46 47",
    fill: "none",
    children: (0, I.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M0 14.5556C0 13.1442 1.14416 12 2.55556 12H43.4444C44.8558 12 46 13.1442 46 14.5556V31.1667C46 33.2838 44.2838 35 42.1667 35H3.83333C1.71624 35 0 33.2838 0 31.1667V14.5556ZM42.1667 20.9444C42.1667 21.6501 41.5946 22.2222 40.8889 22.2222C40.1832 22.2222 39.6111 21.6501 39.6111 20.9444C39.6111 20.2387 40.1832 19.6667 40.8889 19.6667C41.5946 19.6667 42.1667 20.2387 42.1667 20.9444ZM40.8889 17.1111C41.5946 17.1111 42.1667 16.539 42.1667 15.8333C42.1667 15.1276 41.5946 14.5556 40.8889 14.5556C40.1832 14.5556 39.6111 15.1276 39.6111 15.8333C39.6111 16.539 40.1832 17.1111 40.8889 17.1111ZM44.7222 18.3889C44.7222 19.0946 44.1501 19.6667 43.4444 19.6667C42.7387 19.6667 42.1667 19.0946 42.1667 18.3889C42.1667 17.6832 42.7387 17.1111 43.4444 17.1111C44.1501 17.1111 44.7222 17.6832 44.7222 18.3889ZM38.3333 19.6667C39.039 19.6667 39.6111 19.0946 39.6111 18.3889C39.6111 17.6832 39.039 17.1111 38.3333 17.1111C37.6276 17.1111 37.0556 17.6832 37.0556 18.3889C37.0556 19.0946 37.6276 19.6667 38.3333 19.6667ZM7.66667 18.3889C7.66667 19.8003 6.52251 20.9444 5.11111 20.9444C3.69972 20.9444 2.55556 19.8003 2.55556 18.3889C2.55556 16.9775 3.69972 15.8333 5.11111 15.8333C6.52251 15.8333 7.66667 16.9775 7.66667 18.3889ZM3.05556 27.3333C2.77941 27.3333 2.55556 27.5572 2.55556 27.8333V31.9444C2.55556 32.2206 2.77941 32.4444 3.05556 32.4444H7.16667C7.44281 32.4444 7.66667 32.2206 7.66667 31.9444V27.8333C7.66667 27.5572 7.44281 27.3333 7.16667 27.3333H3.05556ZM38.3333 27.8333C38.3333 27.5572 38.5572 27.3333 38.8333 27.3333H42.9444C43.2206 27.3333 43.4444 27.5572 43.4444 27.8333V31.9444C43.4444 32.2206 43.2206 32.4444 42.9444 32.4444H38.8333C38.5572 32.4444 38.3333 32.2206 38.3333 31.9444V27.8333ZM35.7778 14.5556H10.2222V32.4444H35.7778V14.5556Z",
    }),
  });
}
function Hk() {
  return (0, I.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 40 41",
    fill: "none",
    children: (0, I.jsx)("path", {
      fill: "currentColor",
      d: "M19.9999 29.3888V34.9443H2.22217V29.3888C2.22217 27.0313 3.15867 24.7704 4.82566 23.1034C6.49265 21.4364 8.75358 20.4999 11.1111 20.4999C13.4685 20.4999 15.7295 21.4364 17.3965 23.1034C19.0634 24.7704 19.9999 27.0313 19.9999 29.3888ZM11.1111 17.1666C12.1 17.1666 13.0667 16.8733 13.8889 16.3239C14.7112 15.7745 15.352 14.9936 15.7305 14.08C16.1089 13.1663 16.2079 12.161 16.015 11.1911C15.8221 10.2212 15.3459 9.33029 14.6466 8.63103C13.9473 7.93176 13.0564 7.45556 12.0865 7.26263C11.1166 7.06971 10.1113 7.16872 9.19764 7.54716C8.28401 7.9256 7.50312 8.56646 6.95371 9.38871C6.4043 10.211 6.11106 11.1777 6.11106 12.1666C6.10959 12.8236 6.23792 13.4744 6.48868 14.0817C6.73943 14.689 7.10767 15.2408 7.57226 15.7054C8.03684 16.1699 8.58862 16.5382 9.19591 16.7889C9.8032 17.0397 10.454 17.168 11.1111 17.1666ZM35.1777 20.8777C34.2936 19.9926 33.2327 19.3041 32.0642 18.8572C30.8957 18.4103 29.6461 18.2151 28.397 18.2843C27.1479 18.3535 25.9275 18.6856 24.8156 19.2589C23.7037 19.8321 22.7253 20.6337 21.9444 21.611C23.5779 23.8747 24.453 26.5973 24.4444 29.3888V32.7221H37.7777V27.1666C37.7786 25.9989 37.5495 24.8425 37.1034 23.7635C36.6573 22.6844 36.0029 21.7038 35.1777 20.8777ZM28.8888 14.9443C29.8777 14.9443 30.8444 14.6511 31.6667 14.1017C32.4889 13.5523 33.1298 12.7714 33.5082 11.8578C33.8867 10.9441 33.9857 9.93879 33.7928 8.96889C33.5998 7.99898 33.1236 7.10807 32.4244 6.4088C31.7251 5.70954 30.8342 5.23334 29.8643 5.04041C28.8944 4.84749 27.889 4.9465 26.9754 5.32494C26.0618 5.70338 25.2809 6.34424 24.7315 7.16649C24.1821 7.98873 23.8888 8.95543 23.8888 9.94434C23.8874 10.6014 24.0157 11.2522 24.2665 11.8595C24.5172 12.4668 24.8855 13.0186 25.35 13.4831C25.8146 13.9477 26.3664 14.316 26.9737 14.5667C27.581 14.8175 28.2318 14.9458 28.8888 14.9443Z",
    }),
  });
}
var _e = b(H(), 1);
function My() {
  return (0, _e.jsxs)(gt, {
    children: [
      (0, _e.jsx)(Ct, { children: P("#Menu_Section_SpecialSections") }),
      (0, _e.jsxs)(jt, {
        children: [
          (0, _e.jsx)(gk, {}),
          (0, _e.jsx)(dk, {}),
          (0, _e.jsx)(yk, {}),
        ],
      }),
    ],
  });
}
function dk() {
  return (0, _e.jsxs)(Lt, {
    children: [
      (0, _e.jsx)(we, { handle: "software" }),
      (0, _e.jsx)(we, { handle: "soundtracks" }),
      (0, _e.jsx)(we, { handle: "earlyaccess" }),
      (0, _e.jsx)(we, { handle: "TODO" }),
      (0, _e.jsx)(Ii, {}),
      (0, _e.jsx)(we, { handle: "pccafe" }),
      (0, _e.jsx)(we, { handle: "macos" }),
      (0, _e.jsx)(we, { handle: "linux" }),
    ],
  });
}
function yk() {
  return (0, _e.jsxs)(Lt, {
    children: [
      (0, _e.jsx)(Re, {
        href: `${f.STORE_BASE_URL}sale/nextfest/`,
        children: P("#Menu_Section_SpecialSections_NextFest"),
      }),
      (0, _e.jsx)(Re, {
        href: `${f.STORE_BASE_URL}sale/steamawards/`,
        children: P("#Menu_Section_SpecialSections_SteamAwards"),
      }),
      (0, _e.jsx)(Re, {
        href: `${f.STORE_BASE_URL}yearinreview/`,
        children: P("#Menu_Section_SpecialSections_SteamReplay"),
      }),
      (0, _e.jsx)(Re, {
        href: `${f.STORE_BASE_URL}labs/`,
        children: P("#Menu_Section_SpecialSections_SteamLabs"),
      }),
    ],
  });
}
function gk() {
  return (0, _e.jsxs)(Ei, {
    children: [
      (0, _e.jsxs)(Po, {
        children: [
          (0, _e.jsx)(wn, { handle: "demos" }),
          (0, _e.jsx)(Ni, {
            href: `${f.STORE_BASE_URL}dlcforyou/`,
            name: P("#Menu_Section_SpecialSections_DLCForYou"),
          }),
        ],
      }),
      (0, _e.jsx)(Po, {
        children: (0, _e.jsx)(Ni, {
          href: `${f.STORE_BASE_URL}specials/`,
          name: P("#Menu_Section_SpecialSections_SaleEvents"),
        }),
      }),
    ],
  });
}
var Au = {};
AC(Au, {
  Active: () => wu,
  Chevron: () => ku,
  ChevronSpacer: () => vu,
  Down: () => Mu,
  DynamicMenu: () => hu,
  Enter: () => hk,
  EnterActive: () => fk,
  Exit: () => vk,
  ExitActive: () => kk,
  MenuItem: () => Wi,
  MenuOptions: () => fu,
  MenuSection: () => Ck,
  SectionTransition: () => Pu,
  TransitionContainer: () => Su,
  Up: () => Ru,
  default: () => wk,
});
var hu = "QIXgBSHq6cY-";
var fu = "e6ZIu2birzY-";
var Ck = "dtuuezlV-7Y-";
var Wi = "_-5GwwXIMjIQ-";
var vu = "qshuHK34Txs-";
var ku = "oVv8PgvP5Mc-";
var wu = "-kwbmHXqu1A-";
var Su = "JjjLEZhMaK4-";
var Ru = "ggTx88t3rD8-";
var Pu = "hLyW92JUQIM-";
var hk = "eu8omg7gpxU-";
var fk = "_0QZf4yyfpD8-";
var vk = "mWR-5YJlyMA-";
var kk = "GQOJ5K5pn6U-";
var Mu = "_7FKZUleWBlc-";
var wk = {
  DynamicMenu: "QIXgBSHq6cY-",
  MenuOptions: "e6ZIu2birzY-",
  MenuSection: "dtuuezlV-7Y-",
  MenuItem: "_-5GwwXIMjIQ-",
  ChevronSpacer: "qshuHK34Txs-",
  Chevron: "oVv8PgvP5Mc-",
  Active: "-kwbmHXqu1A-",
  TransitionContainer: "JjjLEZhMaK4-",
  Up: "ggTx88t3rD8-",
  SectionTransition: "hLyW92JUQIM-",
  Enter: "eu8omg7gpxU-",
  EnterActive: "_0QZf4yyfpD8-",
  Exit: "mWR-5YJlyMA-",
  ExitActive: "GQOJ5K5pn6U-",
  Down: "_7FKZUleWBlc-",
};
var ze = b(w(), 1),
  ju = b(w(), 1);
var Iy = b(it(), 1);
var ut = b(w());
var xu = { TransitionGroup: "xbJxDr3b7qU-", ContentWrapper: "CNH6rvKas2k-" };
function Tu(t, e) {
  return t.classList
    ? !!e && t.classList.contains(e)
    : (" " + (t.className.baseVal || t.className) + " ").indexOf(
        " " + e + " ",
      ) !== -1;
}
function Du(t, e) {
  t.classList
    ? t.classList.add(e)
    : Tu(t, e) ||
      (typeof t.className == "string"
        ? (t.className = t.className + " " + e)
        : t.setAttribute(
            "class",
            ((t.className && t.className.baseVal) || "") + " " + e,
          ));
}
function Ay(t, e) {
  return t
    .replace(new RegExp("(^|\\s)" + e + "(?:\\s|$)", "g"), "$1")
    .replace(/\s+/g, " ")
    .replace(/^\s*|\s*$/g, "");
}
function Lu(t, e) {
  t.classList
    ? t.classList.remove(e)
    : typeof t.className == "string"
      ? (t.className = Ay(t.className, e))
      : t.setAttribute(
          "class",
          Ay((t.className && t.className.baseVal) || "", e),
        );
}
var Eu = b(w());
var ya = b(w()),
  ga = b(cn());
var zu = { disabled: !1 };
var xy = b(w()),
  Ao = xy.default.createContext(null);
var qi = function (e) {
  return e.scrollTop;
};
var Ca = "unmounted",
  Un = "exited",
  Vn = "entering",
  To = "entered",
  Bu = "exiting",
  rn = (function (t) {
    fo(e, t);
    function e(o, a) {
      var i;
      i = t.call(this, o, a) || this;
      var _ = a,
        r = _ && !_.isMounting ? o.enter : o.appear,
        u;
      return (
        (i.appearStatus = null),
        o.in
          ? r
            ? ((u = Un), (i.appearStatus = Vn))
            : (u = To)
          : o.unmountOnExit || o.mountOnEnter
            ? (u = Ca)
            : (u = Un),
        (i.state = { status: u }),
        (i.nextCallback = null),
        i
      );
    }
    e.getDerivedStateFromProps = function (a, i) {
      var _ = a.in;
      return _ && i.status === Ca ? { status: Un } : null;
    };
    var n = e.prototype;
    return (
      (n.componentDidMount = function () {
        this.updateStatus(!0, this.appearStatus);
      }),
      (n.componentDidUpdate = function (a) {
        var i = null;
        if (a !== this.props) {
          var _ = this.state.status;
          this.props.in
            ? _ !== Vn && _ !== To && (i = Vn)
            : (_ === Vn || _ === To) && (i = Bu);
        }
        this.updateStatus(!1, i);
      }),
      (n.componentWillUnmount = function () {
        this.cancelNextCallback();
      }),
      (n.getTimeouts = function () {
        var a = this.props.timeout,
          i,
          _,
          r;
        return (
          (i = _ = r = a),
          a != null &&
            typeof a != "number" &&
            ((i = a.exit),
            (_ = a.enter),
            (r = a.appear !== void 0 ? a.appear : _)),
          { exit: i, enter: _, appear: r }
        );
      }),
      (n.updateStatus = function (a, i) {
        if ((a === void 0 && (a = !1), i !== null))
          if ((this.cancelNextCallback(), i === Vn)) {
            if (this.props.unmountOnExit || this.props.mountOnEnter) {
              var _ = this.props.nodeRef
                ? this.props.nodeRef.current
                : ga.default.findDOMNode(this);
              _ && qi(_);
            }
            this.performEnter(a);
          } else this.performExit();
        else
          this.props.unmountOnExit &&
            this.state.status === Un &&
            this.setState({ status: Ca });
      }),
      (n.performEnter = function (a) {
        var i = this,
          _ = this.props.enter,
          r = this.context ? this.context.isMounting : a,
          u = this.props.nodeRef ? [r] : [ga.default.findDOMNode(this), r],
          s = u[0],
          l = u[1],
          c = this.getTimeouts(),
          m = r ? c.appear : c.enter;
        if ((!a && !_) || zu.disabled) {
          this.safeSetState({ status: To }, function () {
            i.props.onEntered(s);
          });
          return;
        }
        this.props.onEnter(s, l),
          this.safeSetState({ status: Vn }, function () {
            i.props.onEntering(s, l),
              i.onTransitionEnd(m, function () {
                i.safeSetState({ status: To }, function () {
                  i.props.onEntered(s, l);
                });
              });
          });
      }),
      (n.performExit = function () {
        var a = this,
          i = this.props.exit,
          _ = this.getTimeouts(),
          r = this.props.nodeRef ? void 0 : ga.default.findDOMNode(this);
        if (!i || zu.disabled) {
          this.safeSetState({ status: Un }, function () {
            a.props.onExited(r);
          });
          return;
        }
        this.props.onExit(r),
          this.safeSetState({ status: Bu }, function () {
            a.props.onExiting(r),
              a.onTransitionEnd(_.exit, function () {
                a.safeSetState({ status: Un }, function () {
                  a.props.onExited(r);
                });
              });
          });
      }),
      (n.cancelNextCallback = function () {
        this.nextCallback !== null &&
          (this.nextCallback.cancel(), (this.nextCallback = null));
      }),
      (n.safeSetState = function (a, i) {
        (i = this.setNextCallback(i)), this.setState(a, i);
      }),
      (n.setNextCallback = function (a) {
        var i = this,
          _ = !0;
        return (
          (this.nextCallback = function (r) {
            _ && ((_ = !1), (i.nextCallback = null), a(r));
          }),
          (this.nextCallback.cancel = function () {
            _ = !1;
          }),
          this.nextCallback
        );
      }),
      (n.onTransitionEnd = function (a, i) {
        this.setNextCallback(i);
        var _ = this.props.nodeRef
            ? this.props.nodeRef.current
            : ga.default.findDOMNode(this),
          r = a == null && !this.props.addEndListener;
        if (!_ || r) {
          setTimeout(this.nextCallback, 0);
          return;
        }
        if (this.props.addEndListener) {
          var u = this.props.nodeRef
              ? [this.nextCallback]
              : [_, this.nextCallback],
            s = u[0],
            l = u[1];
          this.props.addEndListener(s, l);
        }
        a != null && setTimeout(this.nextCallback, a);
      }),
      (n.render = function () {
        var a = this.state.status;
        if (a === Ca) return null;
        var i = this.props,
          _ = i.children,
          r = i.in,
          u = i.mountOnEnter,
          s = i.unmountOnExit,
          l = i.appear,
          c = i.enter,
          m = i.exit,
          p = i.timeout,
          C = i.addEndListener,
          h = i.onEnter,
          M = i.onEntering,
          L = i.onEntered,
          T = i.onExit,
          Z = i.onExiting,
          X = i.onExited,
          be = i.nodeRef,
          Se = ho(i, [
            "children",
            "in",
            "mountOnEnter",
            "unmountOnExit",
            "appear",
            "enter",
            "exit",
            "timeout",
            "addEndListener",
            "onEnter",
            "onEntering",
            "onEntered",
            "onExit",
            "onExiting",
            "onExited",
            "nodeRef",
          ]);
        return ya.default.createElement(
          Ao.Provider,
          { value: null },
          typeof _ == "function"
            ? _(a, Se)
            : ya.default.cloneElement(ya.default.Children.only(_), Se),
        );
      }),
      e
    );
  })(ya.default.Component);
rn.contextType = Ao;
rn.propTypes = {};
function xo() {}
rn.defaultProps = {
  in: !1,
  mountOnEnter: !1,
  unmountOnExit: !1,
  appear: !1,
  enter: !0,
  exit: !0,
  onEnter: xo,
  onEntering: xo,
  onEntered: xo,
  onExit: xo,
  onExiting: xo,
  onExited: xo,
};
rn.UNMOUNTED = Ca;
rn.EXITED = Un;
rn.ENTERING = Vn;
rn.ENTERED = To;
rn.EXITING = Bu;
var Ty = rn;
var Sk = function (e, n) {
    return (
      e &&
      n &&
      n.split(" ").forEach(function (o) {
        return Du(e, o);
      })
    );
  },
  Iu = function (e, n) {
    return (
      e &&
      n &&
      n.split(" ").forEach(function (o) {
        return Lu(e, o);
      })
    );
  },
  Nu = (function (t) {
    fo(e, t);
    function e() {
      for (var o, a = arguments.length, i = new Array(a), _ = 0; _ < a; _++)
        i[_] = arguments[_];
      return (
        (o = t.call.apply(t, [this].concat(i)) || this),
        (o.appliedClasses = { appear: {}, enter: {}, exit: {} }),
        (o.onEnter = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            c = s[1];
          o.removeClasses(l, "exit"),
            o.addClass(l, c ? "appear" : "enter", "base"),
            o.props.onEnter && o.props.onEnter(r, u);
        }),
        (o.onEntering = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            c = s[1],
            m = c ? "appear" : "enter";
          o.addClass(l, m, "active"),
            o.props.onEntering && o.props.onEntering(r, u);
        }),
        (o.onEntered = function (r, u) {
          var s = o.resolveArguments(r, u),
            l = s[0],
            c = s[1],
            m = c ? "appear" : "enter";
          o.removeClasses(l, m),
            o.addClass(l, m, "done"),
            o.props.onEntered && o.props.onEntered(r, u);
        }),
        (o.onExit = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.removeClasses(s, "appear"),
            o.removeClasses(s, "enter"),
            o.addClass(s, "exit", "base"),
            o.props.onExit && o.props.onExit(r);
        }),
        (o.onExiting = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.addClass(s, "exit", "active"),
            o.props.onExiting && o.props.onExiting(r);
        }),
        (o.onExited = function (r) {
          var u = o.resolveArguments(r),
            s = u[0];
          o.removeClasses(s, "exit"),
            o.addClass(s, "exit", "done"),
            o.props.onExited && o.props.onExited(r);
        }),
        (o.resolveArguments = function (r, u) {
          return o.props.nodeRef ? [o.props.nodeRef.current, r] : [r, u];
        }),
        (o.getClassNames = function (r) {
          var u = o.props.classNames,
            s = typeof u == "string",
            l = s && u ? u + "-" : "",
            c = s ? "" + l + r : u[r],
            m = s ? c + "-active" : u[r + "Active"],
            p = s ? c + "-done" : u[r + "Done"];
          return { baseClassName: c, activeClassName: m, doneClassName: p };
        }),
        o
      );
    }
    var n = e.prototype;
    return (
      (n.addClass = function (a, i, _) {
        var r = this.getClassNames(i)[_ + "ClassName"],
          u = this.getClassNames("enter"),
          s = u.doneClassName;
        i === "appear" && _ === "done" && s && (r += " " + s),
          _ === "active" && a && qi(a),
          r && ((this.appliedClasses[i][_] = r), Sk(a, r));
      }),
      (n.removeClasses = function (a, i) {
        var _ = this.appliedClasses[i],
          r = _.base,
          u = _.active,
          s = _.done;
        (this.appliedClasses[i] = {}),
          r && Iu(a, r),
          u && Iu(a, u),
          s && Iu(a, s);
      }),
      (n.render = function () {
        var a = this.props,
          i = a.classNames,
          _ = ho(a, ["classNames"]);
        return Eu.default.createElement(
          Ty,
          Hi({}, _, {
            onEnter: this.onEnter,
            onEntered: this.onEntered,
            onEntering: this.onEntering,
            onExit: this.onExit,
            onExiting: this.onExiting,
            onExited: this.onExited,
          }),
        );
      }),
      e
    );
  })(Eu.default.Component);
Nu.defaultProps = { classNames: "" };
Nu.propTypes = {};
var Ou = Nu;
function Dy(t) {
  if (t === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return t;
}
var ha = b(w());
var ht = b(w());
function Ki(t, e) {
  var n = function (i) {
      return e && (0, ht.isValidElement)(i) ? e(i) : i;
    },
    o = Object.create(null);
  return (
    t &&
      ht.Children.map(t, function (a) {
        return a;
      }).forEach(function (a) {
        o[a.key] = n(a);
      }),
    o
  );
}
function Rk(t, e) {
  (t = t || {}), (e = e || {});
  function n(l) {
    return l in e ? e[l] : t[l];
  }
  var o = Object.create(null),
    a = [];
  for (var i in t) i in e ? a.length && ((o[i] = a), (a = [])) : a.push(i);
  var _,
    r = {};
  for (var u in e) {
    if (o[u])
      for (_ = 0; _ < o[u].length; _++) {
        var s = o[u][_];
        r[o[u][_]] = n(s);
      }
    r[u] = n(u);
  }
  for (_ = 0; _ < a.length; _++) r[a[_]] = n(a[_]);
  return r;
}
function Wn(t, e, n) {
  return n[e] != null ? n[e] : t.props[e];
}
function Ly(t, e) {
  return Ki(t.children, function (n) {
    return (0, ht.cloneElement)(n, {
      onExited: e.bind(null, n),
      in: !0,
      appear: Wn(n, "appear", t),
      enter: Wn(n, "enter", t),
      exit: Wn(n, "exit", t),
    });
  });
}
function zy(t, e, n) {
  var o = Ki(t.children),
    a = Rk(e, o);
  return (
    Object.keys(a).forEach(function (i) {
      var _ = a[i];
      if ((0, ht.isValidElement)(_)) {
        var r = i in e,
          u = i in o,
          s = e[i],
          l = (0, ht.isValidElement)(s) && !s.props.in;
        u && (!r || l)
          ? (a[i] = (0, ht.cloneElement)(_, {
              onExited: n.bind(null, _),
              in: !0,
              exit: Wn(_, "exit", t),
              enter: Wn(_, "enter", t),
            }))
          : !u && r && !l
            ? (a[i] = (0, ht.cloneElement)(_, { in: !1 }))
            : u &&
              r &&
              (0, ht.isValidElement)(s) &&
              (a[i] = (0, ht.cloneElement)(_, {
                onExited: n.bind(null, _),
                in: s.props.in,
                exit: Wn(_, "exit", t),
                enter: Wn(_, "enter", t),
              }));
      }
    }),
    a
  );
}
var Pk =
    Object.values ||
    function (t) {
      return Object.keys(t).map(function (e) {
        return t[e];
      });
    },
  Mk = {
    component: "div",
    childFactory: function (e) {
      return e;
    },
  },
  Fu = (function (t) {
    fo(e, t);
    function e(o, a) {
      var i;
      i = t.call(this, o, a) || this;
      var _ = i.handleExited.bind(Dy(i));
      return (
        (i.state = {
          contextValue: { isMounting: !0 },
          handleExited: _,
          firstRender: !0,
        }),
        i
      );
    }
    var n = e.prototype;
    return (
      (n.componentDidMount = function () {
        (this.mounted = !0),
          this.setState({ contextValue: { isMounting: !1 } });
      }),
      (n.componentWillUnmount = function () {
        this.mounted = !1;
      }),
      (e.getDerivedStateFromProps = function (a, i) {
        var _ = i.children,
          r = i.handleExited,
          u = i.firstRender;
        return { children: u ? Ly(a, r) : zy(a, _, r), firstRender: !1 };
      }),
      (n.handleExited = function (a, i) {
        var _ = Ki(this.props.children);
        a.key in _ ||
          (a.props.onExited && a.props.onExited(i),
          this.mounted &&
            this.setState(function (r) {
              var u = Hi({}, r.children);
              return delete u[a.key], { children: u };
            }));
      }),
      (n.render = function () {
        var a = this.props,
          i = a.component,
          _ = a.childFactory,
          r = ho(a, ["component", "childFactory"]),
          u = this.state.contextValue,
          s = Pk(this.state.children).map(_);
        return (
          delete r.appear,
          delete r.enter,
          delete r.exit,
          i === null
            ? ha.default.createElement(Ao.Provider, { value: u }, s)
            : ha.default.createElement(
                Ao.Provider,
                { value: u },
                ha.default.createElement(i, r, s),
              )
        );
      }),
      e
    );
  })(ha.default.Component);
Fu.propTypes = {};
Fu.defaultProps = Mk;
var Gu = Fu;
var Do = b(H());
function Ji(t) {
  let {
      childrenKey: e,
      childrenClasses: n,
      children: o,
      directionClass: a,
      animate: i = !0,
    } = t,
    _ = v(xu.TransitionGroup, a);
  return (0, Do.jsx)(Gu, {
    className: _,
    appear: !1,
    enter: i,
    exit: i,
    children: (0, Do.jsx)(Ak, { childrenClasses: n, children: o }, e),
  });
}
function Ak(t) {
  let { sizeClass: e, children: n, childrenClasses: o, navKey: a, ...i } = t,
    [_, r, u, s] = xk(),
    l = ut.useRef(!0),
    c = ut.useCallback(() => l.current, [l]),
    m = ut.useCallback(() => {
      (l.current = !0), u();
    }, [u]),
    p = ut.useCallback(() => {
      (l.current = !1), s();
    }, [s]),
    C = 1e4,
    h = t.childrenClasses,
    M = {
      enter: h.enterStart,
      enterActive: h.enterEnd,
      exit: h.exitStart,
      exitActive: h.exitEnd,
    };
  return _.current && !_.current.ownerDocument.defaultView
    ? null
    : (0, Do.jsx)(Ou, {
        nodeRef: _,
        classNames: M,
        in: !0,
        timeout: C,
        addEndListener: r,
        onEntering: m,
        onExiting: p,
        ...i,
        children: (0, Do.jsx)("div", {
          ref: _,
          className: v(xu.ContentWrapper, e, h.base),
          children: (0, Do.jsx)(D, {
            className: e,
            fnCanTakeFocus: c,
            navKey: a,
            children: t.children,
          }),
        }),
      });
}
function xk() {
  let t = ut.useRef(null),
    e = ut.useRef();
  ut.useLayoutEffect(() => {
    let i = t.current;
    if (!i || e.current) return;
    e.current = {
      element: i,
      activeProps: new Set(),
      bExiting: !1,
      fnDone: null,
    };
    let _ = e.current,
      r = (s) => {
        s.target == i && _.activeProps.add(s.propertyName);
      };
    i.addEventListener("transitionrun", r, !1);
    let u = (s) => {
      s.target == i &&
        (_.activeProps.delete(s.propertyName),
        _.fnDone && _.activeProps.size == 0 && _.bExiting && _.fnDone());
    };
    i.addEventListener("transitionend", u, !1),
      i.addEventListener("transitioncancel", u, !1);
  }, []);
  let n = ut.useCallback(
      (i) => {
        if (!e.current) {
          i();
          return;
        }
        e.current.fnDone = i;
      },
      [e],
    ),
    o = ut.useCallback(() => {
      e.current && (e.current.bExiting = !1);
    }, [e]),
    a = ut.useCallback(() => {
      e.current && (e.current.bExiting = !0);
    }, [e]);
  return [t, n, o, a];
}
function Yi(t, e) {
  return {
    base: e,
    enterStart: t.Enter,
    enterEnd: t.EnterActive,
    exitStart: t.Exit,
    exitEnd: t.ExitActive,
  };
}
function By(t, e) {
  return e == 1
    ? t.Left
    : e == 2
      ? t.Right
      : e == 3
        ? t.Up
        : e == 4
          ? t.Down
          : "";
}
var de = b(H(), 1);
function Ey(t) {
  let [e] = ze.useState(t.excludedSections),
    n = Ny(e),
    [o, a] = ze.useState(n[0][0]),
    { onMouseLeaveContainer: i, onMouseEnterItem: _ } = zk(o, a),
    r = ke(`${Q.STORE_BASE_URL}sitemap`);
  return (0, de.jsxs)(de.Fragment, {
    children: [
      (0, de.jsxs)(D, {
        "flow-children": "row",
        navEntryPreferPosition: 3,
        className: hu,
        children: [
          (0, de.jsxs)(D, {
            "flow-children": "column",
            className: fu,
            onMouseLeave: i,
            children: [
              n.map(([u, s]) =>
                (0, de.jsx)(
                  Bk,
                  {
                    active: o == u,
                    setSection: a,
                    onMouseEnterItem: _,
                    section: u,
                    children: s,
                  },
                  u,
                ),
              ),
              (0, de.jsx)(De, {
                className: Wi,
                href: r,
                children: P("#Menu_Popover_ViewAll"),
              }),
            ],
          }),
          (0, de.jsx)(wd, {
            children: (0, de.jsx)(Dk, { rgSections: n, section: o }),
          }),
        ],
      }),
      (0, de.jsx)(Tk, { excludedSections: e }),
    ],
  });
}
var Tk = ze.memo(function (e) {
  return Ny(e.excludedSections).map((o) =>
    (0, de.jsx)(Xi, { section: o[0] }, o[0]),
  );
});
function Ny(t) {
  return ze.useMemo(
    () => Qi().filter((e) => e[0] !== "more" && (!t || !t.has(e[0]))),
    [t],
  );
}
var Dk = ze.memo(function (e) {
    let { rgSections: n, section: o } = e,
      [a, i] = ze.useState(o),
      [_, r] = ze.useState(void 0);
    return (
      (0, ju.useEffect)(() => {
        let u = n.findIndex((l) => l[0] == a) || 0,
          s = n.findIndex((l) => l[0] == o) || 0;
        u < s ? r(Mu) : u > s ? r(Ru) : r(void 0), i(o);
      }, [o, n]),
      (0, de.jsx)("div", {
        className: Su,
        children: (0, de.jsx)(Ji, {
          childrenKey: a,
          childrenClasses: Yi(Au, Pu),
          directionClass: _,
          animate: !!_,
          children: (0, de.jsx)(Uu, { section: a }),
        }),
      })
    );
  }),
  Lk = 0.25;
function zk(t, e) {
  let n = ze.useRef(void 0);
  (0, ju.useEffect)(() => {
    n.current?.section != t && (n.current = void 0);
  }, [t]);
  let o = ze.useCallback(() => (n.current = void 0), []),
    a = ze.useCallback(
      (i, _) => {
        if (n.current) {
          let { x: r, y: u, section: s } = n.current,
            l = _.clientX - r,
            c = _.clientY - u;
          if (i == s) {
            l < 0 && (n.current = { x: _.clientX, y: _.clientY, section: s });
            return;
          }
          if (l > 0 && (l != 0 ? Math.abs(c) / l : 0) < Lk) return;
        }
        e(i), (n.current = { x: _.clientX, y: _.clientY, section: i });
      },
      [e],
    );
  return { onMouseLeaveContainer: o, onMouseEnterItem: a };
}
function Bk(t) {
  let {
      setSection: e,
      onMouseEnterItem: n,
      active: o,
      section: a,
      children: i,
    } = t,
    _ = ze.useCallback(() => e(a), [e, a]),
    r = ze.useCallback((u) => n(a, u), [n, a]);
  return (0, de.jsxs)(yn, {
    className: (0, Iy.default)(Wi, o && wu),
    onClick: _,
    onMouseMove: r,
    onGamepadFocus: _,
    children: [i, " ", (0, de.jsx)(Ik, {})],
  });
}
function Ik() {
  return (0, de.jsxs)(de.Fragment, {
    children: [
      (0, de.jsx)("div", { className: vu }),
      (0, de.jsx)("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 12 13",
        fill: "none",
        className: ku,
        children: (0, de.jsx)("path", {
          fill: "currentColor",
          fillRule: "evenodd",
          clipRule: "evenodd",
          d: "M6.36084 6.68974L3.66211 3.99101L4.84062 2.8125L8.71786 6.68974L4.84062 10.567L3.66211 9.38847L6.36084 6.68974Z",
        }),
      }),
    ],
  });
}
var Ye = b(H(), 1);
function Qi() {
  return [
    ["browse", P("#Menu_Popover_Browse")],
    ["recommendations", P("#Menu_Popover_Recommendations")],
    ["categories", P("#Menu_Popover_Categories")],
    ["hardware", P("#Menu_Popover_Hardware")],
    ["waystoplay", P("#Menu_Popover_WaysToPlay")],
    ["specialsections", P("#Menu_Popover_SpecialSections")],
    ["more", P("#Menu_Popover_More")],
  ];
}
function Fy(t) {
  let {
      activeSection: e,
      closePopover: n,
      visibleSections: o,
      refPopover: a,
      refActiveButton: i,
    } = t,
    _ = Oy.useRef(e);
  return (
    e && (_.current = e),
    (0, Ye.jsx)(rd, {
      visible: e !== void 0,
      closePopover: n,
      refPopover: a,
      refActiveButton: i,
      children:
        _.current &&
        (0, Ye.jsx)(Uu, { section: _.current, visibleSections: o }),
    })
  );
}
function Uu(t) {
  let { section: e, visibleSections: n } = t;
  return (0, Ye.jsx)(en, { method: e, children: Ek(e, n) });
}
function Ek(t, e) {
  switch (t) {
    case "browse":
      return (0, Ye.jsx)(Nd, {});
    case "recommendations":
      return (0, Ye.jsx)(oy, {});
    case "categories":
      return (0, Ye.jsx)(my, {});
    case "hardware":
      return (0, Ye.jsx)(Ry, {});
    case "waystoplay":
      return (0, Ye.jsx)(Py, {});
    case "specialsections":
      return (0, Ye.jsx)(My, {});
    case "more":
      return (0, Ye.jsx)(Ey, { excludedSections: e });
    default:
      return qo(t, `unhandled section ${t}`), null;
  }
}
function Xi(t) {
  let { section: e } = t;
  switch (e) {
    case "browse":
      return (0, Ye.jsx)(Od, {});
    case "recommendations":
      return (0, Ye.jsx)(ay, {});
    case "categories":
      return (0, Ye.jsx)(cy, {});
    case "hardware":
      return null;
    case "waystoplay":
      return null;
    case "specialsections":
      return null;
    case "more":
      return null;
    default:
      return qo(e, `unhandled section ${e}`), null;
  }
}
var Gy = b(w());
function Nk(t, e) {
  return Za(
    (n) => {
      if (!n) return;
      let o = e(n.ownerDocument.defaultView, (a) => {
        t(a[0]);
      });
      return o.observe(n), () => o.unobserve(n);
    },
    [t, e],
  );
}
function Vu(t) {
  let e = Gy.useCallback(
    (n, o) =>
      n.ResizeObserver
        ? new n.ResizeObserver(o)
        : (pe(!1, "ResizeObserver is not available"),
          { observe: () => {}, unobserve: () => {}, disconnect: () => {} }),
    [],
  );
  return Nk(t, e);
}
var z = b(H()),
  jy = U.memo(function (e) {
    let { refPage: n } = e;
    return (0, z.jsx)(Gk, { refPage: n });
  });
function Ok(t) {
  let { bShowBackdrop: e, closePopover: n, refPage: o, children: a } = t,
    i = Ee(),
    [_, r] = U.useState("visible"),
    u = U.useRef();
  u.current || (u.current = new WeakMap()),
    (0, fa.useLayoutEffect)(() => {
      (u.current = new WeakMap()), r("visible");
    }, [e]);
  let s = U.useCallback((h) => {
    let M = u.current,
      L = M.get(h),
      T = "scrollTop" in h ? h.scrollTop : h.scrollY;
    if (L !== void 0) {
      let Z = T - L;
      if (Z > 90 && T > 400) r((X) => (X != "hidden" ? "hide" : X));
      else if (Z < -30) r((X) => (X != "visible" ? "show" : X));
      else return;
    }
    M.set(h, T);
  }, []);
  lo(
    window,
    "scroll",
    U.useCallback((h) => s(window), [s]),
  );
  let l = Ib(
      U.useCallback(
        (h) => {
          let M = h.currentTarget;
          ab(M) && s(M);
        },
        [s],
      ),
    ),
    c = Fk(o, i),
    m = _ != "visible" && !e,
    p = (0, Lo.default)(
      xp,
      m && Dp,
      _ == "hide" && Lp,
      _ == "hidden" && zp,
      _ == "show" && Bp,
    ),
    C;
  return (
    _ == "hide"
      ? (C = () => r((h) => (h == "hide" ? "hidden" : h)))
      : _ == "show" && (C = () => r((h) => (h == "show" ? "visible" : h))),
    (0, z.jsx)("div", {
      className: (0, Lo.default)(Sp, i && Rp),
      ref: l,
      children: (0, z.jsxs)("div", {
        className: (0, Lo.default)(Pp, e && Ap),
        children: [
          (0, z.jsx)("div", {
            className: p,
            ref: c,
            onAnimationEnd: C,
            children: a,
          }),
          (0, z.jsx)("div", { className: Mp, onClick: n }),
        ],
      }),
    })
  );
}
function Fk(t, e) {
  let [n, o] = U.useState(),
    a = U.useCallback((i) => {
      o(Math.min(i.borderBoxSize[0].blockSize, parseInt(wp)));
    }, []);
  return (
    (0, fa.useEffect)(() => {
      if (n === void 0) return;
      let i = t.current,
        _ = e ? 0 : n;
      return (
        i.style.setProperty("--store-menu-floating-height", `${_}px`),
        () => {
          i?.style.removeProperty("--store-menu-floating-height");
        }
      );
    }, [t, n, e]),
    Vu(a)
  );
}
function Gk(t) {
  let { refPage: e } = t,
    [n, o] = U.useState(),
    [a, i] = U.useState(),
    [_, r, u] = Ks(),
    s = Ee(),
    l = U.useCallback(() => o(void 0), []),
    c = U.useCallback(
      (h) => {
        o((M) => (M == h ? void 0 : h)), u();
      },
      [u],
    ),
    m = U.useCallback(() => {
      r(), l();
    }, [l, r]),
    p = U.useRef(null),
    C = U.useRef(null);
  return (0, z.jsx)(en, {
    controller: "storemenu",
    method: "default",
    submethod: "",
    feature: "",
    children: (0, z.jsxs)(Ok, {
      bShowBackdrop: _ || !!n,
      closePopover: l,
      refPage: e,
      children: [
        (0, z.jsxs)(D, {
          "flow-children": "row",
          className: Tp,
          role: "navigation",
          "aria-label": P("#Menu_Label"),
          children: [
            (0, z.jsxs)(jk, {
              openPopover: c,
              activeSection: n,
              visibleSections: a,
              setVisibleSections: i,
              refPopover: p,
              refActiveButton: C,
              children: [
                !s &&
                  (0, z.jsx)(id, {
                    bSearchVisible: _,
                    openSearch: m,
                    closeSearch: u,
                  }),
                s && (0, z.jsx)("div", { className: Op }),
              ],
            }),
            (0, z.jsx)(qk, {}),
            (0, z.jsx)(Kk, {}),
          ],
        }),
        (0, z.jsx)(Fy, {
          activeSection: n,
          closePopover: l,
          visibleSections: a,
          refPopover: p,
          refActiveButton: C,
        }),
      ],
    }),
  });
}
function jk(t) {
  let {
      openPopover: e,
      activeSection: n,
      visibleSections: o,
      setVisibleSections: a,
      refPopover: i,
      refActiveButton: _,
      children: r,
    } = t,
    u = U.useRef([]),
    s = U.useMemo(() => Qi(), []);
  u.current.length != s.length && (u.current = s.map(() => U.createRef()));
  let {
    rgButtonWidths: l,
    nContainerWidth: c,
    refDynamicButtonContainer: m,
  } = Uk(o !== void 0, u.current);
  U.useLayoutEffect(() => {
    if (!l || c === void 0) return;
    let M = parseInt(Kp),
      L = l[l.length - 1],
      T = l.slice(0, -1),
      Z = c - M - L,
      X = [];
    for (let be = 0; be < T.length && T[be] < Z; be++)
      (Z -= T[be]), X.push(s[be][0]);
    X.push(s[s.length - 1][0]), a(new Set(X));
  }, [c, l, s, a]),
    (0, fa.useEffect)(() => {
      if (n) {
        let M = s.findIndex((L) => n === L[0]);
        _.current = u.current[M].current;
      } else _.current = null;
    }, [n, _, s]);
  let p,
    C = (M, L) => {
      let [T, Z] = M;
      if (o && !o.has(T)) return null;
      let X = n === p;
      return (
        (p = T),
        (0, z.jsx)(
          Vk,
          {
            section: T,
            label: Z,
            openPopover: e,
            active: n === T,
            previousActive: X,
            refButton: u.current[L],
            refPopover: i,
          },
          T,
        )
      );
    },
    h = s[s.length - 1];
  return (0, z.jsxs)("div", {
    className: Ip,
    ref: m,
    children: [
      (0, z.jsxs)("div", {
        className: Ep,
        children: [
          (0, z.jsx)("div", { className: Np, children: s.slice(0, -1).map(C) }),
          C(h, s.length - 1),
        ],
      }),
      r,
    ],
  });
}
function Uk(t, e) {
  let [n, o] = U.useState(),
    [a, i] = U.useState();
  U.useLayoutEffect(() => {
    if (t) return;
    let r = [];
    for (let u = 0; u < e.length; u++)
      e[u].current
        ? r.push(e[u].current.clientWidth)
        : console.assert(!1, `Missing ref button ${u}`);
    o(r);
  }, [e, t]);
  let _ = Vu(
    U.useCallback((r) => {
      i(r.contentBoxSize[0].inlineSize);
    }, []),
  );
  return {
    rgButtonWidths: n,
    nContainerWidth: a,
    refDynamicButtonContainer: _,
  };
}
function Vk(t) {
  let {
      section: e,
      openPopover: n,
      label: o,
      active: a,
      previousActive: i,
      refButton: _,
      refPopover: r,
    } = t,
    [u, s] = U.useState(!1),
    l = U.useCallback(() => n(e), [n, e]),
    c = U.useCallback(() => s(!0), []),
    m = U.useCallback(
      (p) => {
        if (a && p.key === "Tab" && !p.shiftKey && r.current) {
          let C = ib(r.current);
          C && (C.focus(), p.preventDefault());
        }
        if (i && p.key === "Tab" && p.shiftKey && r.current) {
          let C = Jo(r.current),
            h = C[C.length - 1];
          h && (h.focus(), p.preventDefault());
        }
      },
      [a, r, i],
    );
  return (0, z.jsxs)(yn, {
    className: (0, Lo.default)(xi, a && jp),
    onMouseEnter: c,
    onClick: l,
    ref: _,
    "aria-expanded": !!a,
    onKeyDown: m,
    children: [
      (0, z.jsxs)("div", {
        className: Up,
        children: [
          o,
          (0, z.jsx)("div", {
            className: Vp,
            children: (0, z.jsx)("div", { className: Wp }),
          }),
        ],
      }),
      (0, z.jsx)(Wk, {}),
      u && (0, z.jsx)(Xi, { section: e }),
    ],
  });
}
function Wk() {
  return (0, z.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 12 12",
    fill: "none",
    role: "presentation",
    children: (0, z.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M5.81026 6.36084L8.50899 3.66211L9.6875 4.84062L5.81026 8.71786L1.93302 4.84062L3.11153 3.66211L5.81026 6.36084Z",
    }),
  });
}
function qk() {
  let t = Cn(),
    { data: e } = al(t),
    n = ke(`${f.STORE_BASE_URL}wishlist/`);
  return t
    ? (0, z.jsxs)(De, {
        className: xi,
        href: n,
        children: [
          (0, z.jsx)(Jk, { role: "presentation" }),
          V_.Localize("#Menu_Wishlist"),
          e > 0 && (0, z.jsx)(Uy, { children: e }),
        ],
      })
    : null;
}
function Uy(t) {
  return (0, z.jsx)("span", { className: Fp, children: t.children });
}
function Kk() {
  let { data: t } = ui(),
    e = ke(`${f.STORE_BASE_URL}cart/`);
  return t
    ? (0, z.jsxs)(De, {
        className: (0, Lo.default)(xi, Gp),
        href: e,
        children: [
          (0, z.jsx)(Yk, {}),
          V_.Localize("#Menu_Cart"),
          t > 0 && (0, z.jsx)(Uy, { children: t }),
        ],
      })
    : null;
}
function Jk(t) {
  return (0, z.jsxs)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 14 14",
    fill: "none",
    ...t,
    children: [
      (0, z.jsx)("g", {
        children: (0, z.jsx)("path", {
          fill: "currentColor",
          d: "M7 0L4.88269 4.68067L0 5.348L3.5688 8.918L2.67216 14L7 11.536L11.3278 14L10.4268 8.918L14 5.348L9.11731 4.68067L7 0Z",
        }),
      }),
      (0, z.jsx)("defs", {
        children: (0, z.jsx)("clipPath", {
          children: (0, z.jsx)("rect", {
            fill: "currentColor",
            width: "14",
            height: "14",
            transform: "matrix(-1 0 0 1 14 0)",
          }),
        }),
      }),
    ],
  });
}
function Yk(t) {
  return (0, z.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 14 14",
    fill: "none",
    ...t,
    children: (0, z.jsx)("path", {
      fill: "currentColor",
      d: "M14 4L12.442 9.00854C12.3675 9.29313 12.2005 9.54492 11.9674 9.72437C11.7343 9.90382 11.4482 10.0008 11.154 10H5.64338C5.35664 10.0003 5.07751 9.90773 4.84773 9.7362C4.61796 9.56467 4.44988 9.32336 4.36864 9.04837L2.46095 3.77047H0V2H2.77964C3.0578 2.00052 3.32878 2.08838 3.55432 2.25119C3.77987 2.41399 3.94859 2.64352 4.03667 2.90737L4.3288 4.02213L14 4ZM5.64338 11.7672C5.42452 11.7672 5.21058 11.8321 5.02861 11.9537C4.84664 12.0753 4.70481 12.2481 4.62106 12.4503C4.53731 12.6525 4.5154 12.875 4.55809 13.0897C4.60079 13.3043 4.70618 13.5015 4.86093 13.6562C5.01568 13.811 5.21285 13.9164 5.4275 13.9591C5.64215 14.0018 5.86464 13.9799 6.06683 13.8961C6.26903 13.8123 6.44185 13.6705 6.56343 13.4885C6.68502 13.3066 6.74992 13.0926 6.74992 12.8738C6.74992 12.5803 6.63334 12.2989 6.42582 12.0913C6.2183 11.8838 5.93685 11.7672 5.64338 11.7672ZM10.9548 11.7672C10.7359 11.7672 10.522 11.8321 10.34 11.9537C10.1581 12.0753 10.0162 12.2481 9.93248 12.4503C9.84872 12.6525 9.82681 12.875 9.86951 13.0897C9.9122 13.3043 10.0176 13.5015 10.1723 13.6562C10.3271 13.811 10.5243 13.9164 10.7389 13.9591C10.9536 14.0018 11.1761 13.9799 11.3782 13.8961C11.5804 13.8123 11.7533 13.6705 11.8748 13.4885C11.9964 13.3066 12.0613 13.0926 12.0613 12.8738C12.0613 12.5803 11.9448 12.2989 11.7372 12.0913C11.5297 11.8838 11.2483 11.7672 10.9548 11.7672Z",
    }),
  });
}
var Vy = b(w());
var $i = class {
  m_mapAppToSNRs = new Map();
  m_rgImpressionsToAdd = [];
  BIsValid() {
    return !0;
  }
  AddImpression(e, n) {
    if (!vb(ni)) return;
    let o = !1;
    this.m_mapAppToSNRs.has(e)
      ? this.m_mapAppToSNRs.get(e).indexOf(n) == -1 &&
        (this.m_mapAppToSNRs.get(e).push(n), (o = !0))
      : (this.m_mapAppToSNRs.set(e, [n]), (o = !0)),
      o &&
        (this.m_rgImpressionsToAdd.push(`${e}@${n}`), this.QueueCookieUpdate());
  }
  m_iUpdateInterval;
  QueueCookieUpdate() {
    this.m_iUpdateInterval ||
      (this.m_iUpdateInterval = window.setTimeout(() => {
        this.UpdateCookie(), (this.m_iUpdateInterval = void 0);
      }, 1e3));
  }
  UpdateCookie() {
    let n = [Zt(ni) || "", ...this.m_rgImpressionsToAdd].join("|");
    this.m_rgImpressionsToAdd = [];
    let o = encodeURIComponent(n).length,
      a = 3200;
    o <= a
      ? ai(ni, n)
      : console.warn(
          `Cookie max length exceeded ( ${o} > ${a} ), discarding impressions`,
        );
  }
};
var qy = b(H());
function Wy(t) {
  let [e] = Vy.useState(() => new $i());
  return (0, qy.jsx)(ll, { ImpressionTracker: e, children: t.children });
}
var w_ = b(it(), 1),
  PC = b(w(), 1);
var bt = b(w()),
  dg = b(cn());
var zo = b(w());
var Ut = b(w());
var Ky = { m_unPID: 0, m_nBrowserID: -1 };
var va = class {
  m_fnRender;
  m_rgLoadingLinks = [];
  constructor(e, n, o) {
    if (((this.m_rgLoadingLinks = []), o))
      for (let a = 0; a < o.length; a++) this.AddLink(o[a], !0);
    else if (e) {
      let a = e.getElementsByTagName("link");
      for (let i = 0; i < a.length; i++) {
        let _ = a[i];
        this.AddLink(_, !1);
      }
    }
  }
  AddLink(e, n) {
    if (n) {
      let o = !1;
      try {
        (!e.sheet || !e.sheet.cssRules || e.sheet.cssRules.length == 0) &&
          (o = !0);
      } catch {}
      o &&
        (e.addEventListener("load", this.OnLinkLoad),
        this.m_rgLoadingLinks.push(e));
    } else
      e.addEventListener("load", this.OnLinkLoad),
        this.m_rgLoadingLinks.push(e);
  }
  SetTarget(e) {
    (this.m_fnRender = e),
      this.m_rgLoadingLinks.length == 0 &&
        (this.m_fnRender(), (this.m_fnRender = void 0));
  }
  OnLinkLoad(e) {
    e.currentTarget.removeEventListener("load", this.OnLinkLoad),
      Ko(this.m_rgLoadingLinks, e.currentTarget),
      this.m_rgLoadingLinks.length == 0 &&
        (this.m_fnRender?.(), (this.m_fnRender = void 0));
  }
};
y([g], va.prototype, "OnLinkLoad", 1);
var Qk = b(w());
function Wu() {
  return gb() ? 256 : 0;
}
function wa(t) {
  let e = 0;
  switch (t) {
    case 0:
      return (e |= 8192), (e |= 8), (e |= 512), (e |= 4194304), e;
    case 1:
      return (e |= wa(0)), (e |= 16384), (e |= 262144), (e |= 1048576), e;
    case 2:
      return (
        (e |= wa(0)), (e |= 262144), (e |= 16384), (e |= 4), (e |= Wu()), e
      );
    case 3:
      return (
        (e |= 8),
        (e |= 262144),
        (e |= 16384),
        (e |= 65536),
        (e |= 4194304),
        (e |= Wu()),
        e
      );
    case 4:
      return (
        (e = 8),
        (e |= 262144),
        (e |= 16384),
        (e |= 1048576),
        (e |= 4194304),
        (e |= Wu()),
        e
      );
  }
}
function Yy() {
  let { ownerWindow: t } = Xe();
  return Bt.GetPopupForWindow(t)?.browser_info || Ky;
}
var Qy = Ut.createContext({ ownerWindow: window }),
  Xe = () => Ut.useContext(Qy);
function Xy(t) {
  let { ownerWindow: e, children: n } = t,
    o = Ut.useMemo(() => ({ ownerWindow: e }), [e]);
  return Ut.createElement(Qy.Provider, { value: o }, n);
}
var Qe = class {
  m_strName;
  m_strTitle;
  m_rgParams;
  m_popup;
  m_element;
  m_renderWhenReady;
  m_bCreateHidden;
  m_bCreated = !1;
  m_onCreateRender = null;
  m_bFocused = !1;
  constructor(e, n) {
    $t(this),
      pe(
        e,
        "Name is required.  This is an internal name, different from title.",
      ),
      (this.m_strName = e);
    let { title: o, eCreationFlags: a, ...i } = n;
    (this.m_rgParams = { ...i, eCreationFlags: a ?? 0 }),
      this.m_rgParams.target_browser &&
        (this.m_strName += "_uid" + this.m_rgParams.target_browser.m_unPID),
      (this.m_bCreateHidden = !!(this.m_rgParams.eCreationFlags & 2)),
      (this.m_strTitle = o);
  }
  UpdateParamsBeforeShow(e) {
    return e;
  }
  OnDrop(e) {
    console.log("Ignoring drop onto toplevel window", e),
      e.preventDefault(),
      e.stopPropagation();
  }
  OnDragOver(e) {
    e.preventDefault(),
      (e.dataTransfer.dropEffect = "none"),
      e.stopPropagation();
  }
  OnMessage(e) {
    e.data == "window_moved" && this.OnResize(),
      e.data == "popup-created" && this.OnCreateInternal();
  }
  Show(e = 1) {
    let n;
    typeof e == "boolean" ? (n = e ? 1 : 0) : (n = e),
      window.SteamClient && (this.m_rgParams.eCreationFlags |= 2),
      this.m_rgParams.eCreationFlags & 512 && (n = 0),
      this.BIsValid() &&
        (this.BIsClosed()
          ? ((this.m_popup = void 0), (this.m_element = void 0))
          : n != 0 && this.Focus(n));
    let o = Bt.GetExistingPopup(this.m_strName);
    if (o && !this.m_rgParams.replace_existing_popup) return;
    this.m_rgParams = this.UpdateParamsBeforeShow(this.m_rgParams);
    let a, i, _;
    o
      ? ((i = o.m_element),
        (a = o.m_popup),
        o.ReleasePopup(),
        (_ = o.m_renderWhenReady),
        Bt.RemoveTrackedPopup(o),
        a?.removeEventListener("beforeunload", o.OnBeforeUnloadEvent),
        a?.removeEventListener("unload", o.OnUnload),
        a?.removeEventListener("resize", o.OnResizeEvent),
        a?.removeEventListener("focus", this.OnFocusInternal),
        a?.removeEventListener("blur", this.OnBlurInternal),
        a?.removeEventListener("drop", o.OnDrop),
        a?.removeEventListener("dragover", o.OnDragOver),
        a?.removeEventListener("message", this.OnMessage))
      : (({ popup: a, element: i } = ka.CreatePopup(this.m_strName, {
          ...this.m_rgParams,
          title: this.m_strTitle,
        })),
        (_ = new va(a?.document, i))),
      a &&
        i &&
        ((a.document.title = this.m_strTitle),
        a.addEventListener("beforeunload", this.OnBeforeUnloadEvent),
        a.addEventListener("unload", this.OnUnload),
        a.addEventListener("resize", this.OnResizeEvent),
        a.addEventListener("focus", this.OnFocusInternal),
        a.addEventListener("blur", this.OnBlurInternal),
        a.addEventListener("drop", this.OnDrop),
        a.addEventListener("dragover", this.OnDragOver),
        a.addEventListener("message", this.OnMessage),
        Q.LANGUAGE &&
          a.document.documentElement.setAttribute("lang", fb() ?? ""),
        (this.m_popup = a),
        (this.m_element = i),
        (this.m_renderWhenReady = _),
        this.m_renderWhenReady?.SetTarget(() => {
          this.m_popup &&
            this.m_element &&
            this.RenderInternal(this.m_popup, this.m_element, n);
        })),
      Bt.AddTrackedPopup(this),
      o && (this.OnCreateInternal(), n != 0 && this.Focus(n));
  }
  RemoveEventListeners() {
    this.window?.removeEventListener("beforeunload", this.OnBeforeUnloadEvent),
      this.window?.removeEventListener("unload", this.OnUnload),
      this.window?.removeEventListener("resize", this.OnResizeEvent),
      this.window?.removeEventListener("focus", this.OnFocusInternal),
      this.window?.removeEventListener("blur", this.OnBlurInternal),
      this.window?.removeEventListener("drop", this.OnDrop),
      this.window?.removeEventListener("dragover", this.OnDragOver),
      this.window?.removeEventListener("message", this.OnMessage);
  }
  RenderInternal(e, n, o) {
    if (!this.m_bCreated) {
      this.m_onCreateRender = () => this.RenderInternal(e, n, o);
      return;
    }
    this.browser_info &&
      kl(this.browser_info.m_eBrowserType) &&
      (n.ownerDocument.body.className += " VR"),
      this.Render(e, n),
      this.OnLoad(),
      e?.SteamClient &&
        !this.m_bCreateHidden &&
        (o != 0
          ? e.SteamClient.Window.BringToFront(o)
          : e.SteamClient.Window.ShowWindow());
  }
  OnCreateInternal() {
    this.m_bCreated ||
      ((this.m_bCreated = !0),
      this.OnCreate(),
      this.m_onCreateRender &&
        (this.m_onCreateRender(), (this.m_onCreateRender = null)));
  }
  OnCreate() {}
  OnResizeEvent() {
    this.OnResize();
  }
  OnBeforeUnloadEvent() {
    this.OnBeforeUnload();
  }
  OnUnload(e) {
    this.RemoveEventListeners(),
      Bt.RemoveTrackedPopup(this),
      this.OnClose(),
      (this.m_popup = void 0);
  }
  get browser_info() {
    return this.m_rgParams.target_browser;
  }
  get window() {
    return this.m_popup;
  }
  get root_element() {
    return this.m_element;
  }
  get title() {
    return this.m_strTitle;
  }
  set title(e) {
    (this.m_strTitle = e),
      this.m_popup && (this.m_popup.document.title = this.m_strTitle);
  }
  get params() {
    return this.m_rgParams;
  }
  Focus(e = 1) {
    e != 0 &&
      (this.m_popup &&
      typeof this.m_popup.SteamClient < "u" &&
      typeof this.m_popup.SteamClient.Window < "u"
        ? this.m_popup.SteamClient.Window.BringToFront(e)
        : this.m_popup && this.m_popup.focus());
  }
  Close() {
    this.m_popup &&
      (Mt(this.m_popup.window, "Window.Close")
        ? this.m_popup.window.SteamClient.Window.Close()
        : this.m_popup.window.close());
  }
  GetName() {
    return this.m_strName;
  }
  BIsValid() {
    return !!this.m_popup;
  }
  BIsClosed() {
    return !this.m_popup || this.m_popup.closed;
  }
  BIsVisible() {
    return !!(
      this.m_popup &&
      !this.m_popup.closed &&
      this.m_popup.document.visibilityState == "visible"
    );
  }
  BIsFocused() {
    return this.BIsVisible() && !!this.m_popup?.document.hasFocus();
  }
  OnFocusInternal() {
    this.m_popup && this.m_popup.document.body.classList.add("WindowFocus"),
      (this.m_bFocused = !0),
      this.OnFocus();
  }
  OnBlurInternal() {
    this.m_popup && this.m_popup.document.body.classList.remove("WindowFocus"),
      (this.m_bFocused = !1),
      this.OnBlur();
  }
  get focused() {
    return this.m_bFocused;
  }
  GetWindowRestoreDetails() {
    return Mt(this.m_popup, "Window.GetWindowRestoreDetails") &&
      !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.GetWindowRestoreDetails()
      : Promise.resolve("");
  }
  IsMinimized() {
    return Mt(this.m_popup, "Window.IsWindowMinimized") && !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.IsWindowMinimized()
      : Promise.resolve(!1);
  }
  IsMaximized() {
    return Mt(this.m_popup, "Window.IsWindowMaximized") && !this.m_popup.closed
      ? this.m_popup.SteamClient.Window.IsWindowMaximized()
      : Promise.resolve(!1);
  }
  ReleasePopup() {
    this.OnClose(), (this.m_popup = null);
  }
  OnResize() {
    this.IsMaximized().then((e) => {
      e
        ? this.m_popup?.document.body.classList.add("Maximized")
        : this.m_popup?.document.body.classList.remove("Maximized");
    });
  }
  OnBeforeUnload() {}
  OnFocus() {}
  OnBlur() {}
};
y([Xt], Qe.prototype, "m_bFocused", 2),
  y([g], Qe.prototype, "OnMessage", 1),
  y([g], Qe.prototype, "RenderInternal", 1),
  y([g], Qe.prototype, "OnCreateInternal", 1),
  y([g], Qe.prototype, "OnResizeEvent", 1),
  y([g], Qe.prototype, "OnBeforeUnloadEvent", 1),
  y([g], Qe.prototype, "OnUnload", 1),
  y([g], Qe.prototype, "OnFocusInternal", 1),
  y([g], Qe.prototype, "OnBlurInternal", 1);
var qu = class extends Qe {
  m_strSavedDimensionsKey;
  m_strInitialSavedDimensionsKey;
  m_strInitialRestoreDetails;
  m_bExpires;
  constructor(e, n, o, a) {
    super(e, o), this.SetSavedDimensionsKey(n), (this.m_bExpires = a);
  }
  BIsInOverlay() {
    return (
      this.browser_info &&
      this.browser_info.m_unPID != 0 &&
      this.browser_info.m_nBrowserID != -1
    );
  }
  SetSavedDimensionsKey(e) {
    this.m_strSavedDimensionsKey = e;
  }
  UpdateParamsBeforeShow(e) {
    return (
      this.m_strSavedDimensionsKey &&
      !e.bIgnoreSavedDimensions &&
      !e.strRestoreDetails
        ? ((this.m_strInitialSavedDimensionsKey = this.GetSavedDimensionsKey()),
          (e.strRestoreDetails = Bt.GetRestoreDetails(
            this.m_strInitialSavedDimensionsKey,
          )))
        : e.strRestoreDetails &&
          ((this.m_strInitialSavedDimensionsKey = this.GetSavedDimensionsKey()),
          Bt.SetRestoreDetails(
            this.m_strInitialSavedDimensionsKey,
            e.strRestoreDetails,
            this.m_bExpires,
          )),
      e
    );
  }
  OnLoad() {
    this.GetWindowRestoreDetails().then((e) => {
      (this.m_strInitialRestoreDetails = e), this.OnResizeComplete(e);
    });
  }
  OnResize() {
    super.OnResize(), this.QueryAndStoreWindowPosition();
  }
  OnResizeComplete(e) {}
  QueryAndStoreWindowPosition() {
    if (this.m_strInitialRestoreDetails) {
      let e = this.GetSavedDimensionsKey();
      this.m_popup?.setTimeout(() => {
        this.GetWindowRestoreDetails().then((n) => {
          let o =
            this.m_rgParams.strRestoreDetails == n &&
            e == this.m_strInitialSavedDimensionsKey;
          this.m_popup &&
            this.m_strSavedDimensionsKey &&
            n &&
            !o &&
            (Bt.SetRestoreDetails(e, n, this.m_bExpires),
            (this.m_rgParams.strRestoreDetails = n),
            (this.m_strInitialSavedDimensionsKey = e),
            this.OnResizeComplete(n));
        });
      }, 30);
    }
  }
  OnBeforeUnload() {
    this.QueryAndStoreWindowPosition(), super.OnBeforeUnload();
  }
  OnClose() {}
  SaveWindowPosition(e) {
    Bt.SetRestoreDetails(this.GetSavedDimensionsKey(), e, !1),
      (this.m_rgParams.strRestoreDetails = e);
  }
};
y([g], qu.prototype, "QueryAndStoreWindowPosition", 1);
var ka = class {
  m_bShuttingDown = !1;
  m_mapPopups = Xt.map([], { deep: !1 });
  m_rgShutdownCallbacks = [];
  m_rgPopupCreatedCallbacks = new nt();
  m_rgPopupDestroyedCallbacks = new nt();
  m_unCurrentAccountID = 0;
  m_mapRestoreDetails = new Map();
  m_bSaveRequired = !1;
  m_DynamicCSSObserver;
  constructor() {
    if ("addEventListener" in window) {
      window.addEventListener("beforeunload", (n) => {
        this.m_bShuttingDown = !0;
        for (let a of this.m_rgShutdownCallbacks) a();
        let o = [];
        this.m_mapPopups.forEach((a) => {
          a.BIsValid() && !a.BIsClosed() && o.push(a);
        });
        for (let a of o)
          a.window?.SteamClient.Browser?.SetShouldExitSteamOnBrowserClosed &&
            a.window.SteamClient.Browser.SetShouldExitSteamOnBrowserClosed(!1),
            a.window?.SteamClient.Window.SetHideOnClose &&
              a.window?.SteamClient.Window.SetHideOnClose(!1),
            a.Close();
        this.m_bSaveRequired && this.SaveSavedDimensionStore(),
          this.m_mapPopups.clear();
      });
      let e = document.querySelector("head");
      pe(e, "Couldn't find head element"),
        e &&
          ((this.m_DynamicCSSObserver = new MutationObserver(() => {
            let n = E_();
            this.m_mapPopups.forEach((o) => {
              Zs(o.window.document, n, !1);
            });
          })),
          this.m_DynamicCSSObserver.observe(e, { childList: !0 }));
    }
  }
  BAnyPopupHasFocus() {
    for (let e of this.m_mapPopups.values()) if (e.focused) return !0;
    return !1;
  }
  BAnyMenuHasFocus() {
    for (let e of this.m_mapPopups.values())
      if (e.focused && (e.params.eCreationFlags ?? 0) & 8) return !0;
    return !1;
  }
  SetCurrentLoggedInAccountID(e) {
    this.m_unCurrentAccountID != e &&
      ((this.m_unCurrentAccountID = e),
      e ? this.LoadSavedDimensionStore() : this.ClearSavedDimensionStore());
  }
  AddShutdownCallback(e) {
    this.m_rgShutdownCallbacks.push(e);
  }
  AddPopupCreatedCallback(e) {
    return this.m_rgPopupCreatedCallbacks.Register(e);
  }
  AddPopupDestroyedCallback(e) {
    return this.m_rgPopupDestroyedCallbacks.Register(e);
  }
  AddTrackedPopup(e) {
    this.m_mapPopups.set(e.GetName(), e),
      e.BIsValid() && this.m_rgPopupCreatedCallbacks.Dispatch(e);
  }
  RemoveTrackedPopup(e) {
    this.m_rgPopupDestroyedCallbacks.Dispatch(e),
      this.m_mapPopups.delete(e.GetName());
  }
  GetExistingPopup(e) {
    return this.m_mapPopups.get(e);
  }
  GetPopups() {
    return this.m_mapPopups.values();
  }
  GetPopupForWindow(e) {
    for (let n of this.m_mapPopups.values()) if (n.window === e) return n;
  }
  ClosePopupsOwnedByBrowser(e) {
    this.m_mapPopups.forEach((n) => {
      n.browser_info &&
        n.browser_info.m_nBrowserID == e.m_nBrowserID &&
        n.browser_info.m_unPID == e.m_unPID &&
        n.Close();
    });
  }
  static CreatePopup(e, n) {
    let o = n.dimensions || {},
      a = o.width || 300,
      i = o.height || 300,
      _ = n.title,
      r = "width=" + a + ",height=" + i;
    typeof o.left < "u" && (r += ",left=" + o.left),
      typeof o.top < "u" && (r += ",top=" + o.top),
      (r += ",resizeable,status=0,toolbar=0,menubar=0,location=0");
    let u = "about:blank",
      s = [];
    s.push("createflags=" + n.eCreationFlags),
      n.minWidth && s.push("minwidth=" + n.minWidth),
      n.minHeight && s.push("minheight=" + n.minHeight),
      n.maxWidth && n.maxWidth != 1 / 0 && s.push("maxwidth=" + n.maxWidth),
      n.maxHeight && n.maxHeight != 1 / 0 && s.push("maxheight=" + n.maxHeight),
      n.target_browser
        ? (s.push("pid=" + n.target_browser.m_unPID),
          s.push("browser=" + n.target_browser.m_nBrowserID),
          n.target_browser.m_eBrowserType
            ? s.push("browserType=" + n.target_browser.m_eBrowserType)
            : n.browserType && s.push("browserType=" + n.browserType),
          n.availscreenwidth &&
            n.availscreenheight &&
            (s.push("screenavailwidth=" + n.availscreenwidth),
            s.push("screenavailheight=" + n.availscreenheight)))
        : n.browserType && s.push("browserType=" + n.browserType),
      n.strVROverlayKey && s.push("vrOverlayKey=" + n.strVROverlayKey),
      n.strRestoreDetails && s.push("restoredetails=" + n.strRestoreDetails),
      n.window_opener_id && s.push("openerid=" + n.window_opener_id),
      n.parent_container_popup_id &&
        s.push("parentcontainerpopupid=" + n.parent_container_popup_id),
      n.center_on_window &&
        typeof o.left > "u" &&
        typeof o.top > "u" &&
        s.push(
          "centerOnBrowserID=" +
            n.center_on_window.SteamClient.Browser.GetBrowserID(),
        ),
      n.strUserAgent && s.push("useragent=" + n.strUserAgent),
      n.hwndParent && s.push("hwndParent=" + n.hwndParent),
      n.bPinned && s.push("pinned=true"),
      n.bModal && s.push("modal=true"),
      s && (u += "?" + s.join("&"));
    let c = (n.owner_window || window).open(u, e, r);
    if (!c)
      return (
        console.error(
          `Failed to create popup, browser/CEF may be blocking popups for "${window.location.origin}"`,
        ),
        {}
      );
    let m = "";
    n.html_class && (m = `class="${n.html_class}"`);
    let p = "";
    n.body_class && (p = `class="${n.body_class}"`);
    let C = "";
    n.body_role && (C = `role="${n.body_role}"`);
    let h = "";
    n.popup_class && (h = `class="${n.popup_class}"`);
    let M = `<!DOCTYPE html><html ${m}><head><title></title></head><body ${p} ${C}><div id="popup_target" ${h}></div></body></html>`;
    return (
      c.document.write(M),
      (c.document.title = _),
      c.document.close(),
      $s(c, E_()),
      { popup: c, element: c.document.getElementById("popup_target") }
    );
  }
  BShuttingDown() {
    return this.m_bShuttingDown;
  }
  GetLocalStorageKey() {
    return "PopupSavedDimensions_" + this.m_unCurrentAccountID;
  }
  LoadSavedDimensionStore() {
    if (!this.m_unCurrentAccountID) return;
    let e = this.GetLocalStorageKey();
    this.m_mapRestoreDetails.clear();
    let n = window.localStorage.getItem(e);
    if (n)
      try {
        let o = JSON.parse(n);
        this.m_mapRestoreDetails = new Map(o);
      } catch {}
  }
  SaveSavedDimensionStore() {
    if (!this.m_unCurrentAccountID || !this.m_bSaveRequired) return;
    let e = this.GetLocalStorageKey(),
      n = JSON.stringify(Array.from(this.m_mapRestoreDetails));
    try {
      window.localStorage.setItem(e, n), (this.m_bSaveRequired = !1);
    } catch (o) {
      if ("name" in o && o.name == "QuotaExceededError") {
        console.log("Quota exceeded");
        for (let a of Object.keys(window.localStorage))
          a.startsWith("PopupSavedDimensions_") &&
            a != e &&
            window.localStorage.removeItem(a);
        window.localStorage.setItem(e, n), (this.m_bSaveRequired = !1);
      }
    }
  }
  DebouncedSaveSavedDimensionStore() {
    this.SaveSavedDimensionStore();
  }
  ClearSavedDimensionStore() {
    this.m_mapRestoreDetails?.clear(), (this.m_bSaveRequired = !1);
  }
  GetRestoreDetails(e) {
    if (!this.m_mapRestoreDetails?.has(e)) return "";
    let n = this.m_mapRestoreDetails.get(e);
    return (
      (n.last_used = Date.now()),
      (this.m_bSaveRequired = !0),
      n.strRestoreDetails
    );
  }
  SetRestoreDetails(e, n, o) {
    if (e) {
      if (n) {
        if (this.m_mapRestoreDetails.size > 50) {
          let i = null,
            _ = Date.now();
          for (let r of Array.from(this.m_mapRestoreDetails.keys())) {
            let u = this.m_mapRestoreDetails.get(r);
            u.last_used < _ && u.bExpires && ((_ = u.last_used), (i = r));
          }
          i && this.m_mapRestoreDetails.delete(i);
        }
        let a = { strRestoreDetails: n, last_used: Date.now(), bExpires: o };
        this.m_mapRestoreDetails.set(e, a);
      } else this.m_mapRestoreDetails.delete(e);
      (this.m_bSaveRequired = !0),
        this.m_bShuttingDown
          ? this.SaveSavedDimensionStore()
          : this.DebouncedSaveSavedDimensionStore();
    }
  }
};
y([g, zb(100)], ka.prototype, "DebouncedSaveSavedDimensionStore", 1);
var Bt = new ka();
window.g_PopupManager = Bt;
var eg = b(H()),
  $y = zo.default.createContext(null);
function Zy(t) {
  let {
      refContextMenuManager: e,
      bRegisterMenuManager: n = !0,
      children: o,
    } = t,
    i = Xe()?.ownerWindow || window,
    _ = zo.default.useRef();
  return (
    _.current || (_.current = new Gb()),
    zo.default.useLayoutEffect(() => {
      if (n)
        return (
          j_.SetMenuManager(i, _.current), () => j_.SetMenuManager(i, void 0)
        );
    }, [i, n]),
    zo.default.useLayoutEffect(
      () => (Nn(e, _.current), () => Nn(e, void 0)),
      [e],
    ),
    (0, eg.jsx)($y.Provider, { value: _.current, children: o })
  );
}
function Zi() {
  return zo.default.useContext($y);
}
var Pn = b(w()),
  ng = b(cn());
var Rn = b(w());
var Sa = b(w());
var $k = b(H()),
  Xk = Sa.createContext({ body_class: "" });
function tg() {
  return Sa.useContext(Xk);
}
function e_(t, e, n) {
  let o = Rn.useRef(void 0),
    [a, i] = Rn.useState(void 0),
    _ = tg();
  return (
    o.current || (o.current = new Ku(t, Zk(e, _), i)),
    (o.current.m_callbacks = n),
    Rn.useEffect(() => {
      if (!o.current?.params.bNoInitialShow) {
        let r = o.current?.params.bNoFocusOnShow ? 2 : 1;
        o.current?.Show(r);
      }
      return () => {
        (o.current.m_callbacks = void 0),
          o.current.window?.SteamClient.Window.SetHideOnClose &&
            o.current.window?.SteamClient.Window.SetHideOnClose(!1),
          o.current.Close();
      };
    }, []),
    Rn.useEffect(() => {
      o.current.window?.SteamClient.Window.SetHideOnClose &&
        o.current.window?.SteamClient.Window.SetHideOnClose(!!e.bHideOnClose);
    }, [e.bHideOnClose]),
    { popup: o.current.window, element: a, popupObj: o.current }
  );
}
function Zk(t, e) {
  return { ...t, body_class: v(t.body_class, e.body_class) };
}
var Ku = class extends Qe {
  m_callbacks;
  m_fnReadyToRender;
  constructor(e, n, o) {
    super(e, n), (this.m_fnReadyToRender = o);
  }
  DoCallback(e) {
    this.m_callbacks?.[e]?.(this.m_popup, this.m_element);
  }
  UpdateParamsBeforeShow(e) {
    return this.m_callbacks?.updateParamsBeforeShow
      ? this.m_callbacks.updateParamsBeforeShow(e)
      : e;
  }
  OnCreate() {
    this.m_callbacks?.onCreate &&
      this.m_callbacks.onCreate(this.m_popup, this.m_element);
  }
  OnBlur() {
    this.DoCallback("onBlur");
  }
  OnFocus() {
    this.DoCallback("onFocus");
  }
  OnLoad() {
    this.DoCallback("onLoad");
  }
  OnResize() {
    this.DoCallback("onResize");
  }
  OnClose() {
    this.DoCallback("onClose");
  }
  Render(e, n) {
    this.m_fnReadyToRender(n);
  }
};
var st = b(H());
function og(t) {
  let { managerOverride: e, bSuppressMouseOverlay: n } = t,
    o = pn(),
    a = Yy(),
    i = Zi(),
    _ = e ?? i;
  Hn(_.OnMenusChanged, o);
  let r = !n && _.BShouldRenderMouseOverlay(),
    u = _.GetAllMenus();
  return (0, st.jsxs)(st.Fragment, {
    children: [
      r && (0, st.jsx)(Ob, {}),
      u.map((s) =>
        (0, st.jsx)(
          Le,
          { children: (0, st.jsx)(tw, { instance: s, browserInfo: a }) },
          s.key,
        ),
      ),
    ],
  });
}
function tw(t) {
  let { instance: e, browserInfo: n, children: o } = t,
    a = !1,
    i = Bo(),
    _ = Xe().ownerWindow,
    r = Pn.default.useRef(void 0);
  r.current === void 0 &&
    (r.current =
      (a || e.options.bForcePopup || _.innerWidth < 400 || i?.BOnlyPopups()) &&
      !!_.SteamClient?.Window);
  let u = Pn.default.useMemo(
      () => ({ instance: e, styles: F_, presentation: 0 }),
      [e],
    ),
    s = o || e.ReactElement;
  return (0, st.jsx)(ri.Provider, {
    value: u,
    children: r.current
      ? (0, st.jsx)(ow, { instance: e, browserInfo: n, children: s })
      : (0, st.jsx)(nw, { instance: e, children: s }),
  });
}
function nw(t) {
  let { instance: e, children: n } = t;
  return (0, st.jsx)(G_, { ...e.position, children: n });
}
function ow(t) {
  let { instance: e, browserInfo: n, children: o } = t,
    a = Pn.default.useRef(null),
    _ = Xe().ownerWindow,
    r = _.SteamClient.Browser.GetBrowserID(),
    u = Pn.default.useCallback(
      (m) => {
        let { options: p, position: C } = e,
          h = C.element;
        if (p.bScreenCoordinates)
          m.dimensions = {
            left: C.clientX,
            top: C.clientY,
            width: 2,
            height: 1,
          };
        else {
          let M = Ys(_, h.getBoundingClientRect());
          (m.dimensions = { left: M.right, top: M.top, width: 2, height: 1 }),
            (m.availscreenwidth = _.screen.availWidth),
            (m.availscreenheight = _.screen.availHeight);
        }
        return m;
      },
      [_, e],
    ),
    s = e.options.bStandalone ? wa(4) : wa(3);
  e.options.bCreateHidden && (s |= 2), e.options.bAlwaysOnTop && (s |= 8192);
  let { popupObj: l, element: c } = e_(
    "contextmenu_" + e.key,
    {
      title: e.options.title || "Menu",
      html_class: F_.ContextMenuPopup + " client_chat_frame",
      body_class: "ContextMenuPopupBody",
      replace_existing_popup: !1,
      target_browser: n,
      window_opener_id: r,
      bHideOnClose: !0,
      eCreationFlags: s,
    },
    { updateParamsBeforeShow: u },
  );
  return (
    (0, Pn.useEffect)(() => {
      if (l)
        if (e.visible) {
          a.current && a.current.PositionMenu(),
            a.current && a.current.PositionPopupWindow();
          let m = e.options.bNoFocusWhenShown ? 2 : 1;
          e.TakeFocus(m);
        } else
          e.options.bRetainOnHide &&
            window.setTimeout(() => {
              l.window?.SteamClient.Window.HideWindow();
            }, 30);
    }, [l, e, e.visible]),
    ag(l.window),
    Pn.default.useEffect(() => {
      e.SetPopup(l);
    }, [e, l]),
    c
      ? ng.default.createPortal(
          (0, st.jsx)(G_, {
            ref: a,
            ...e.position,
            parentWin: _,
            popup: l,
            children: o,
          }),
          c,
        )
      : null
  );
}
var ft = b(w());
var ug = b(cn());
var Pa = b(w());
var Mn = b(w());
function ig(t) {
  let [e, n] = Mn.default.useState(!1),
    o = Mn.default.useCallback(() => {
      Mt(t, "Window.IsWindowMaximized")
        ? t.SteamClient.Window.IsWindowMaximized().then((a) => {
            n(a);
          })
        : t?.screen &&
          n(
            t.screen.availWidth == t.innerWidth &&
              t.screen.availHeight == t.innerHeight,
          );
    }, [t]);
  return (
    Mn.default.useEffect(o, [o, t]),
    lo(t, "resize", o),
    I_(t, ["window_moved"], o),
    e
  );
}
function _g(t, e = 100) {
  let [n, o] = Mn.default.useState(!1),
    a = Mn.default.useCallback(() => o(!0), [o]),
    i = Mn.default.useCallback(() => o(!1), [o]);
  return (
    Mn.default.useEffect(() => {
      if (t)
        return (
          t.addEventListener("focus", a),
          t.addEventListener("blur", i),
          () => {
            t.removeEventListener("focus", a), t.removeEventListener("blur", i);
          }
        );
    }, [t, a, i]),
    qs(n, e)
  );
}
var ge = b(H());
function aw(t) {
  let { popup: e, onMaximize: n, bOSX: o } = t,
    a = ig(e),
    i = Pa.useCallback(() => {
      n
        ? n()
        : Mt(e, "Window.ToggleMaximize") &&
          e.SteamClient.Window.ToggleMaximize();
    }, [e, n]);
  return (0, ge.jsx)(Ju, {
    className: v(a ? "restoreButton" : "maximizeButton", "windowControlButton"),
    onClick: i,
    children: !o && (a ? (0, ge.jsx)(Db, {}) : (0, ge.jsx)(xb, {})),
  });
}
function iw(t) {
  let { popup: e, onMinimize: n, bOSX: o } = t,
    a = Pa.useCallback(() => {
      e.SteamClient.Window.Minimize();
    }, [e]);
  return (0, ge.jsx)(Ju, {
    className: "minimizeButton windowControlButton",
    onClick: n ?? a,
    children: !o && (0, ge.jsx)(Tb, {}),
  });
}
function _w(t) {
  let { popup: e, onClose: n, bOSX: o } = t,
    a = Pa.useCallback(() => {
      e && (Mt(e, "Window.Close") ? e.SteamClient.Window.Close() : e.close());
    }, [e]);
  return (0, ge.jsx)(Ju, {
    className: "closeButton windowControlButton",
    onClick: n ?? a,
    children: !o && (0, ge.jsx)(yo, {}),
  });
}
function Ju(t) {
  let { className: e, onClick: n, children: o } = t,
    a = Pa.useCallback(
      (i) => {
        n && (i.stopPropagation(), n(i));
      },
      [n],
    );
  return (0, ge.jsx)("div", {
    className: v("title-area-icon", e),
    onClick: a,
    children: (0, ge.jsx)("div", {
      className: "title-area-icon-inner",
      children: o,
    }),
  });
}
function rg(t) {
  let {
      className: e,
      style: n,
      hideActions: o,
      hideClose: a,
      hideMin: i,
      hideMax: _,
      bOSX: r = Cb(),
      bForceWindowFocused: u,
      onMinimize: s,
      onMaximize: l,
      onClose: c,
      extraActions: m,
      popup: p,
      children: C,
    } = t,
    h = _g(p);
  return (0, ge.jsxs)("div", {
    className: v(
      "TitleBar",
      "title-area",
      r && "OSX",
      (h || u) && "WindowFocus",
      e,
    ),
    style: n,
    children: [
      (0, ge.jsx)("div", { className: "title-area-highlight" }),
      (0, ge.jsx)("div", { className: "title-area-children", children: C }),
      !o &&
        (0, ge.jsxs)(ge.Fragment, {
          children: [
            m &&
              (0, ge.jsx)("div", {
                className: "title-bar-actions extra-actions",
                children: m,
              }),
            (0, ge.jsxs)("div", {
              className: "title-bar-actions window-controls",
              children: [
                !a && (0, ge.jsx)(_w, { popup: p, onClose: c, bOSX: r }),
                !_ && (0, ge.jsx)(aw, { popup: p, onMaximize: l, bOSX: r }),
                !i && (0, ge.jsx)(iw, { popup: p, onMinimize: s, bOSX: r }),
              ],
            }),
          ],
        }),
    ],
  });
}
var Io = b(H());
function sg(t) {
  let { Modal: e } = t,
    { name: n, modalProps: o, options: a } = e,
    i = Xe().ownerWindow,
    { popup: _, element: r } = e_(
      n,
      {
        title: o.strTitle,
        html_class:
          "client_chat_frame fullheight ModalDialogPopup LegacyPopup " +
          (o.className || ""),
        body_class: "fullheight ModalDialogBody",
        popup_class: "fullheight popup_chat_frame",
        owner_window: void 0,
        replace_existing_popup: !0,
        target_browser: o.browserContext,
        availscreenwidth: i.screen.availWidth,
        availscreenheight: i.screen.availHeight,
        bModal: o.bHideMainWindowForPopouts,
      },
      {
        updateParamsBeforeShow: (l) => rw(l, o, a, i),
        onClose: () => o.fnOnClose && o.fnOnClose(),
      },
    );
  lo(i, "click", () => _?.SteamClient.Window.BringToFront());
  let u = a?.bHideActions,
    s =
      typeof a?.nDragAreaHeight == "number"
        ? { height: a.nDragAreaHeight }
        : void 0;
  return r
    ? ug.createPortal(
        (0, Io.jsx)(Xy, {
          ownerWindow: _,
          children: (0, Io.jsxs)("div", {
            className: "PopupFullWindow",
            onContextMenu: Fb,
            children: [
              (0, Io.jsx)(rg, {
                hideMin: !0,
                hideMax: !0,
                popup: _,
                hideActions: u,
                style: s,
              }),
              (0, Io.jsx)(Eo, {
                browserInfo: o.browserContext,
                bCenterPopupsOnWindow: a.bCenterOnWindow,
                children: e.element,
              }),
            ],
          }),
        }),
        r,
      )
    : null;
}
function rw(t, e, n, o) {
  let a,
    i,
    _ = e.popupWidth || 500,
    r = e.popupHeight || 400,
    u;
  if (Q.IN_CLIENT && o?.SteamClient?.Browser?.GetBrowserID)
    u = o.SteamClient.Browser.GetBrowserID();
  else {
    let s = o.screen;
    (a = (s.availWidth - _) / 2), (i = (s.availHeight - r) / 2);
    let l = s;
    typeof l.availLeft < "u" &&
      typeof l.availTop < "u" &&
      ((a += l.availLeft), (i += l.availTop));
  }
  return {
    ...t,
    dimensions: { width: _, height: r, left: a, top: i },
    center_on_window: n.bCenterOnWindow ? o : void 0,
    window_opener_id: u,
  };
}
var Pe = b(w()),
  bg = b(cn());
var t_ = b(H());
function lg(t) {
  let { ModalManager: e } = t,
    [n, o] = Pe.useState(void 0),
    [a, i] = Pe.useState(!0),
    _ = Pe.useRef(0),
    r = Pe.useCallback(() => {
      Pe.startTransition(() => {
        i(!0);
      });
    }, []);
  Pe.useEffect(() => e.RegisterMeasureModalCallback(r).Unregister, [e, r]),
    Pe.useLayoutEffect(() => {
      n ||
        Pe.startTransition(() => {
          o(e.TakeMeasureModalRequest()), i(!1);
        });
    }, [e, n, a]);
  let u = Pe.useCallback((s) => {
    _.current++,
      Pe.startTransition(() => {
        o((l) => (l === s ? void 0 : l));
      });
  }, []);
  return n
    ? (0, t_.jsx)(uw, { onMeasureComplete: u, request: n }, _.current)
    : null;
}
function uw(t) {
  let [e, n] = Pe.useState(),
    o = Xe().ownerWindow;
  return (
    Pe.useLayoutEffect(() => {
      let a = o.document.body,
        i = o.document.createElement("div");
      return (
        (i.style.position = "absolute"),
        (i.style.visibility = "hidden"),
        a.appendChild(i),
        n(i),
        () => {
          a.removeChild(i);
        }
      );
    }, [o]),
    e ? bg.createPortal((0, t_.jsx)(sw, { ...t, elContainer: e }), e) : null
  );
}
function sw(t) {
  let { elContainer: e, onMeasureComplete: n, request: o } = t;
  return (
    Pe.useEffect(() => {
      let a = !1,
        i = (_) => {
          a || (o.fnResults(_), n(o), (a = !0));
        };
      return bw(e, o.promiseContentReady).then(i), () => i(void 0);
    }, [e, n, o]),
    (0, t_.jsx)(Le, { children: o.rctToMeasure })
  );
}
async function bw(t, e) {
  e && (await e);
  let n = document;
  Q.IN_STEAMUI && n.fonts && (await n.fonts.ready);
  let o = t.getBoundingClientRect(),
    a = Math.ceil(o.height),
    i = Math.ceil(o.width);
  return { height: a, width: i };
}
var n_ = class t {
    key;
    static sm_lastKey = 0;
    constructor() {
      this.key = `Modal_${t.sm_lastKey++}`;
    }
  },
  Kn = class extends n_ {
    element;
    ModalUpdatedCallback = new nt();
    constructor(e) {
      super(), (this.element = e);
    }
    UpdateModal(e) {
      (this.element = e), this.ModalUpdatedCallback.Dispatch();
    }
  },
  qn = class extends n_ {
    m_OnElementReadyCallbacks = new nt();
    m_OnActiveModalCallbacks = new nt();
    constructor() {
      super();
    }
    get OnElementReadyCallbacks() {
      return this.m_OnElementReadyCallbacks;
    }
    get OnModalActiveCallbacks() {
      return this.m_OnActiveModalCallbacks;
    }
    RefModalElement(e) {
      e && this.m_OnElementReadyCallbacks.Dispatch(e);
    }
    SetActive(e) {
      this.m_OnActiveModalCallbacks.Dispatch(e);
    }
  };
y([g], qn.prototype, "RefModalElement", 1);
var o_ = class extends Kn {
  m_strName;
  m_modalProps;
  m_options;
  constructor(e, n, o, a) {
    super(n),
      (this.m_strName = e),
      (this.m_modalProps = o),
      (this.m_options = a);
  }
  get name() {
    return this.m_strName;
  }
  get modalProps() {
    return this.m_modalProps;
  }
  get options() {
    return this.m_options;
  }
};
var mg = b(w());
var Ma = class {
    m_bUsePopups = !0;
    m_bOnlyPopups = !1;
    m_bCenterPopupsOnWindow = !1;
    m_rgModals = [];
    m_OnModalCountChangedCallbacks = new nt();
    m_OnModalShownCallbacks = new nt();
    m_OnModalHiddenCallbacks = new nt();
    m_cMountedOverlays = 0;
    m_rgMeasureModalRequests = [];
    m_OnMeasureModal = new nt();
    m_rgLegacyPopupModals = [];
    m_OnLegacyPopupModalCountChanged = new nt();
    m_browserInfo;
    get ModalCountChangedCallbacks() {
      return this.m_OnModalCountChangedCallbacks;
    }
    get LegacyPopupModalCountChangedCallbacks() {
      return this.m_OnLegacyPopupModalCountChanged;
    }
    RegisterOnModalShownCallback(e) {
      return this.m_OnModalShownCallbacks.Register(e);
    }
    RegisterOnModalHiddenCallback(e) {
      return this.m_OnModalHiddenCallbacks.Register(e);
    }
    RegisterMeasureModalCallback(e) {
      return this.m_OnMeasureModal.Register(e);
    }
    TakeMeasureModalRequest() {
      if (this.m_rgMeasureModalRequests.length)
        return this.m_rgMeasureModalRequests.shift();
    }
    RegisterOverlay(e) {
      pe(
        this.m_cMountedOverlays == 0,
        "Duplicate modal DialogOverlay; modals will appear in both",
      ),
        this.m_cMountedOverlays++;
      let n = this.m_OnModalCountChangedCallbacks.Register(e);
      return () => {
        this.m_cMountedOverlays--, n.Unregister();
      };
    }
    OnModalCountChanged(e) {
      e == "show" &&
        this.m_cMountedOverlays == 0 &&
        window.setTimeout(() => {
          pe(
            this.m_cMountedOverlays > 0,
            "Modal was shown but ModalManager has no associated DialogOverlay",
          );
        }, 50),
        this.m_OnModalCountChangedCallbacks.Dispatch(this.m_rgModals.length),
        e == "show"
          ? this.m_OnModalShownCallbacks.Dispatch(this.m_rgModals.length)
          : e == "hide" &&
            this.m_OnModalHiddenCallbacks.Dispatch(this.m_rgModals.length);
    }
    get modals() {
      return this.m_rgModals;
    }
    get active_modal() {
      if (this.m_rgModals.length)
        return this.m_rgModals[this.m_rgModals.length - 1];
    }
    ShowModal(e) {
      return this.ShowModalInternal(e);
    }
    RemoveModal(e) {
      let n = this.m_rgModals.indexOf(e);
      n != -1 && this.m_rgModals.splice(n, 1), this.OnModalCountChanged("hide");
    }
    ShowModalInternal(e) {
      pe(
        !this.m_bOnlyPopups,
        "Attempting to show modal in popup-only modal manager; will not display.",
      );
      let n = new Kn(e);
      this.m_rgModals.push(n);
      let o = {
        Close: () => {
          this.RemoveModal(n);
        },
        Update: (a) => {
          n.UpdateModal(a);
        },
      };
      return this.OnModalCountChanged("show"), o;
    }
    ShowPortalModal() {
      pe(
        !this.m_bOnlyPopups,
        "Attempting to show modal in popup-only modal manager; will not display.",
      );
      let e = new qn();
      return (
        this.m_rgModals.push(e),
        this.OnModalCountChanged("show"),
        {
          key: e.key,
          Close: () => {
            this.RemoveModal(e);
          },
          OnElementReadyCallbacks: e.OnElementReadyCallbacks,
          OnModalActiveCallbacks: e.OnModalActiveCallbacks,
        }
      );
    }
    SetUsePopups(e) {
      this.m_bUsePopups = e;
    }
    BUsePopups() {
      return this.m_bUsePopups || this.m_bOnlyPopups;
    }
    SetOnlyPopups(e) {
      this.m_bOnlyPopups = e;
    }
    BOnlyPopups() {
      return this.m_bOnlyPopups;
    }
    SetBrowserInfo(e) {
      this.m_browserInfo = e;
    }
    GetBrowserInfo() {
      return this.m_browserInfo;
    }
    SetCenterPopupsOnWindow(e) {
      this.m_bCenterPopupsOnWindow = e;
    }
    BCenterPopupsOnWindow() {
      return this.m_bCenterPopupsOnWindow;
    }
    RequestModalMeasure(e, n, o) {
      this.m_rgMeasureModalRequests.push({
        rctToMeasure: e,
        fnResults: n,
        promiseContentReady: o,
      }),
        this.m_OnMeasureModal.Dispatch();
    }
    get legacy_popup_modals() {
      return this.m_rgLegacyPopupModals;
    }
    ShowLegacyPopupModal(e, n, o, a) {
      let i = () => {
          let r = this.m_rgLegacyPopupModals.indexOf(_);
          r != -1 && this.m_rgLegacyPopupModals.splice(r, 1),
            this.m_OnLegacyPopupModalCountChanged.Dispatch(
              this.m_rgLegacyPopupModals.length,
            ),
            o.fnOnClose && o.fnOnClose();
        },
        _ = new o_(
          e,
          n,
          { ...o, fnOnClose: i },
          { bCenterOnWindow: this.m_bCenterPopupsOnWindow, ...a },
        );
      return (
        this.m_rgLegacyPopupModals.push(_),
        this.m_OnLegacyPopupModalCountChanged.Dispatch(
          this.m_rgLegacyPopupModals.length,
        ),
        {
          Close: i,
          Update: (r) => {
            _.UpdateModal(r);
          },
        }
      );
    }
  },
  Yu = class {
    m_mapModalManager = new WeakMap();
    GetModalManager(e) {
      let n = this.m_mapModalManager.get(e);
      return (
        n ||
          (console.assert(
            !1,
            `Early access to modal manager, creating one for ${e.document.title}`,
          ),
          (n = new Ma()),
          this.m_mapModalManager.set(e, n)),
        n
      );
    }
    RegisterModalManager(e, n) {
      pe(
        !this.m_mapModalManager.has(n) || n == window,
        `Stomping CModalManager for ${n.document.title}!`,
      );
      let o = this.m_mapModalManager.get(n);
      return (
        this.m_mapModalManager.set(n, e),
        () => {
          o
            ? this.m_mapModalManager.set(n, o)
            : this.m_mapModalManager.delete(n);
        }
      );
    }
    UnregisterModalManager(e) {
      this.m_mapModalManager.delete(e);
    }
  },
  Aa = new Yu();
function No(t) {
  return Aa.GetModalManager(t);
}
var Qu = "kNiAxGG9vCI-";
var cg = "_3G8oCr9ck-g-";
var ce = b(H());
function mw(t) {
  ft.useEffect(() => {
    if (t)
      return (
        document.body.classList.add(Qu),
        () => document.body.classList.remove(Qu)
      );
  }, [t]);
}
function cw(t) {
  let e = Xe().ownerWindow,
    n = pn(),
    o = ft.useCallback(() => {
      e?.SteamClient?.Window && e.SteamClient.Window.BringToFront();
    }, [e]);
  ft.useEffect(() => t.RegisterOverlay(n), [t, n]),
    ft.useEffect(() => t.RegisterOnModalShownCallback(o).Unregister, [t, o]);
}
function pw(t, e) {
  return Za(
    (n) => {
      if (!n || !e) return;
      let o = n.ownerDocument.defaultView;
      return Aa.RegisterModalManager(t, o);
    },
    [t],
  );
}
function pg(t) {
  let {
      ModalManager: e,
      bRegisterModalManager: n = !0,
      DialogWrapper: o,
      rctActiveContextMenus: a,
      bUseDialogElement: i = !0,
      style: _,
      ...r
    } = t,
    u = e.modals,
    s = u && !!u.length,
    l = e.active_modal;
  mw(s), cw(e);
  let c = pw(e, n),
    m = null,
    p = !i;
  return (
    u && u.length
      ? (m = u.map((C) => {
          let h = C == l,
            M = {
              key: C.key,
              active: h,
              rctActiveContextMenus: h && i ? a : void 0,
            };
          return C instanceof Kn
            ? (0, ce.jsx)(dw, { ...M, modal: C, Component: o ?? yw })
            : C instanceof qn
              ? (0, ce.jsx)(Hw, { ...M, modal: C, bUseDialogElement: i })
              : void 0;
        }))
      : ((p = !0), (_ = { ..._, display: "none" })),
    (0, ce.jsxs)(ce.Fragment, {
      children: [
        (0, ce.jsxs)(fi, {
          children: [
            (0, ce.jsxs)("div", {
              ...r,
              style: _,
              ref: c,
              className: v(r.className, "FullModalOverlay"),
              children: [
                (0, ce.jsx)("div", {
                  className: "ModalOverlayContent ModalOverlayBackground",
                }),
                m,
              ],
            }),
            p && a,
          ],
        }),
        (0, ce.jsx)(lg, { ModalManager: e }),
        (0, ce.jsx)(gw, { ModalManager: e }),
      ],
    })
  );
}
function Hw(t) {
  let {
    modal: e,
    rctActiveContextMenus: n,
    active: o,
    bUseDialogElement: a,
  } = t;
  ft.useEffect(() => {
    if (o)
      return (
        e.SetActive(o),
        () => {
          e.SetActive(!1);
        }
      );
  }, [e, o]);
  let i = (0, ce.jsxs)(Le, {
    children: [
      (0, ce.jsx)("div", {
        className: v("ModalOverlayContent", o ? "active" : "inactive"),
        ref: e.RefModalElement,
      }),
      n,
    ],
  });
  return a ? (0, ce.jsx)(Hg, { active: o, children: i }) : i;
}
function dw(t) {
  let { modal: e, active: n, rctActiveContextMenus: o, Component: a } = t,
    i = pn();
  return (
    Hn(e.ModalUpdatedCallback, i),
    (0, ce.jsx)(Le, {
      children: (0, ce.jsxs)(a, {
        className: v("ModalOverlayContent", n ? "active" : "inactive"),
        active: n,
        modalKey: e.key,
        children: [o, e.element],
      }),
    })
  );
}
function yw(t) {
  let { className: e, active: n, children: o } = t;
  return (0, ce.jsx)(Hg, {
    active: n,
    children: (0, ce.jsx)(Gi, {
      children: (0, ce.jsx)("div", { className: e, tabIndex: -1, children: o }),
    }),
  });
}
function Hg(t) {
  let { active: e, children: n } = t,
    o = ft.useRef(null),
    [a, i] = ft.useState(!1);
  return (
    ft.useEffect(() => {
      let _ = o.current;
      _ && (e && !a ? (_.showModal(), i(!0)) : !e && a && _.close());
    }, [e, a]),
    (0, ce.jsx)("dialog", {
      ref: o,
      className: cg,
      onClose: () => i(!1),
      onCancel: (_) => _.preventDefault(),
      children: t.children,
    })
  );
}
function gw(t) {
  let { ModalManager: e } = t,
    n = pn();
  return (
    Hn(e.LegacyPopupModalCountChangedCallbacks, n),
    (0, ce.jsx)(ce.Fragment, {
      children: e.legacy_popup_modals.map((o) =>
        (0, ce.jsx)(sg, { Modal: o }, o.key),
      ),
    })
  );
}
var Jn = b(H()),
  Xu = bt.createContext({}),
  Eo = bt.memo(function (e) {
    let {
        children: n,
        bRenderOverlayAtRoot: o,
        refModalManager: a,
        DialogWrapper: i,
        bUseDialogElement: _ = !0,
        ContextMenuComponent: r = og,
        refContextMenuManager: u,
        browserInfo: s,
        bUsePopups: l,
        bOnlyPopups: c,
        bCenterPopupsOnWindow: m,
        bRegisterManagersWithWindow: p = !0,
        ...C
      } = e,
      h = bt.useRef();
    h.current || (h.current = new Ma());
    let M = (0, Jn.jsx)(pg, {
      ...C,
      DialogWrapper: i,
      ModalManager: h.current,
      bUseDialogElement: _,
      bRegisterModalManager: p,
      rctActiveContextMenus: (0, Jn.jsx)(r, {}),
    });
    e.bRenderOverlayAtRoot &&
      typeof document < "u" &&
      "body" in document &&
      (M = dg.createPortal(M, document.body)),
      Ws(a, h.current),
      l !== void 0 && h.current?.SetUsePopups(l),
      m !== void 0 && h.current?.SetCenterPopupsOnWindow(m),
      c !== void 0 && h.current?.SetOnlyPopups(c),
      h.current.SetBrowserInfo(s);
    let L = bt.useMemo(
      () => ({ ModalManager: h.current, DialogWrapper: i }),
      [i],
    );
    return (0, Jn.jsx)(Xu.Provider, {
      value: L,
      children: (0, Jn.jsxs)(Zy, {
        refContextMenuManager: u,
        bRegisterMenuManager: p,
        children: [(0, Jn.jsx)(Le, { children: M }), e.children],
      }),
    });
  });
function Bo() {
  return bt.useContext(Xu).ModalManager;
}
function yg() {
  return bt.useContext(Xu).DialogWrapper;
}
function ag(t) {
  let e = Bo();
  bt.useEffect(() => {
    if (t) return Aa.RegisterModalManager(e, t);
  }, [t, e]);
}
var sC = b(w());
var An = b(w());
var a_ = b(w());
var lt = b(H()),
  $u = a_.createContext({}),
  Cw = () => a_.useContext($u);
function Yn(t) {
  let n = Cw().ModalPosition ?? hw;
  return (0, lt.jsx)(n, { ...t });
}
function hw(t) {
  let e = {},
    n;
  t.onEscKeypress &&
    ((e.tabIndex = 0),
    (e.onKeyDown = (_) => {
      _.keyCode == 27 && t.onEscKeypress();
    }),
    (e.onMouseDown = (_) => {
      _.currentTarget === _.target &&
        !t.bDisableBackgroundDismiss &&
        t.onEscKeypress();
    }),
    (n = (_) => {
      _ && (mo(_, _.ownerDocument.activeElement) || _.focus());
    }));
  let o = ["ModalPosition"];
  t.className && o.push(t.className),
    t.bDestructiveWarning && o.push("Destructive");
  let a = t.renderContent || ((_) => (0, lt.jsx)("div", { ..._ })),
    i = (0, lt.jsxs)(lt.Fragment, {
      children: [
        !t.hideTopBar &&
          (0, lt.jsx)("div", { className: "ModalPosition_TopBar" }),
        t.onEscKeypress &&
          !t.bHideCloseIcon &&
          (0, lt.jsx)("div", {
            className: "ModalPosition_Dismiss",
            children: (0, lt.jsx)("div", {
              className: "closeButton",
              onClick: (_) => {
                _.stopPropagation(), t.onEscKeypress();
              },
              children: (0, lt.jsx)(yo, {}),
            }),
          }),
        (0, lt.jsx)(Le, { children: t.children }),
      ],
    });
  return (0, lt.jsx)("div", {
    className: o.join(" "),
    ...e,
    ref: n,
    children: a({ className: "ModalPosition_Content", children: i }),
  });
}
var Qn = b(w()),
  Cg = b(cn());
var Zu = b(H());
function hg(t) {
  let { active: e, children: n } = t,
    o = Bo() || No(window),
    a = yg(),
    [i, _] = Qn.useState(null),
    [r, u] = Qn.useState(!1),
    s = Qn.useRef();
  if (
    (Qn.useEffect(() => {
      if (e) {
        let c = o.ShowPortalModal(),
          m = c.OnElementReadyCallbacks.Register(_),
          p = c.OnModalActiveCallbacks.Register(u);
        return (
          (s.current = c.key),
          () => {
            _(null), u(!1), c.Close(), m.Unregister(), p.Unregister();
          }
        );
      } else return;
    }, [o, e]),
    !i || !e)
  )
    return null;
  let l = (0, Zu.jsx)(Gi, { children: n });
  return (
    a && (l = (0, Zu.jsx)(a, { active: r, modalKey: s.current, children: l })),
    Cg.createPortal(l, i)
  );
}
var xa = {
  "duration-app-launch": "800ms",
  BasicContextMenuModal: "uJ0hG-CaVOs-",
  BasicContextMenuHeader: "AN2Hp1LQ9n0-",
  BasicContextMenuHeaderShrinkableSpacing: "hhS45xpvmfI-",
  BasicContextMenuContainer: "cDV5SKqaxnw-",
  slideInAnimation: "_9RJyOBZkv0I-",
  contextMenu: "VhLVP3Jhvgw-",
  contextMenuContents: "x1-2KO7vgJs-",
  hasSubMenu: "ATTtIklorIs-",
  contextMenuFade: "gTRyZgCh-Ho-",
  contextMenuItem: "FHkogJCCEy0-",
  Destructive: "Yxr6N2s2xws-",
  Positive: "eu5VX0tYz1Y-",
  Emphasis: "-WXzVoCu0h0-",
  active: "QKT3qH6x50k-",
  Selected: "c-X1QIVPLV4-",
  Focused: "RlhXEz57U1Q-",
  Capitalized: "Mn3ln2J648M-",
  MenuSectionHeader: "pOKcXNp9Arw-",
  UpperCase: "ToEy48RSk-A-",
  SubMenu: "Bntd5n9xKuk-",
  ContextMenuSeparator: "F-1ptqsIY-w-",
  Label: "iVtiM3Pigsc-",
  Arrow: "k1Y1vLMrtss-",
  BackgroundAnimation: "MgI1vEuUsqE-",
  "ItemFocusAnim-darkerGrey-nocolor": "DdWcJspeHns-",
  "ItemFocusAnim-darkerGrey": "_7oE4zLcHjdQ-",
  "ItemFocusAnim-darkGrey": "zz5u1HFpgNU-",
  "ItemFocusAnim-grey": "BUFXFGQP9Gs-",
  "ItemFocusAnim-translucent-white-10": "fMP0VfJIbPg-",
  "ItemFocusAnim-translucent-white-20": "dVMbtgn4Whs-",
  "ItemFocusAnimBorder-darkGrey": "l7pXZguduCo-",
  "ItemFocusAnim-green": "VQNbBo8A804-",
  focusAnimation: "_7XOpRmzNKi0-",
  hoverAnimation: "l-HXOknTs7g-",
};
var $e = b(H());
function fg(t) {
  let { managerOverride: e } = t,
    n = Zi(),
    o = e ?? n,
    a = pn();
  return (
    Hn(o.OnMenusChanged, a),
    (0, $e.jsx)(hg, {
      active: !!o.ActiveMenu,
      children: (0, $e.jsx)(fw, { ActiveMenu: o.ActiveMenu }),
    })
  );
}
function fw(t) {
  let { ActiveMenu: e } = t,
    n = An.useCallback(() => {
      e?.OnCancel();
    }, [e]);
  An.useEffect(() => () => e?.Hide(), [e]);
  let o = [],
    a = null;
  Pb(() => {
    for (let _ = e; _ && _.visible; _ = _.submenu)
      o.push((0, $e.jsx)(vw, { instance: _ }, _.key)), (a = _.label);
  });
  let i = An.useCallback(
    (_) => {
      _.currentTarget == _.target && n();
    },
    [n],
  );
  return (0, $e.jsx)(Yn, {
    padding: "none",
    children: (0, $e.jsxs)("div", {
      onClick: i,
      className: v("BasicUIContextMenu", xa.BasicContextMenuModal),
      children: [
        a &&
          (0, $e.jsx)($e.Fragment, {
            children: (0, $e.jsx)("div", {
              className: xa.BasicContextMenuHeader,
              children: a,
            }),
          }),
        (0, $e.jsx)(D, {
          className: xa.BasicContextMenuContainer,
          onCancelButton: n,
          onClick: i,
          children: o,
        }),
      ],
    }),
  });
}
function vw(t) {
  let { instance: e } = t,
    n = Ee(),
    o = An.useCallback(() => {
      n && _t.PlayNavSound(25);
    }, [n]),
    a = An.useMemo(
      () => ({
        instance: e,
        styles: xa,
        presentation: 1,
        callbacks: { onDisabledItemSelected: o },
      }),
      [e, o],
    );
  return (0, $e.jsx)(Le, {
    children: (0, $e.jsx)(ri.Provider, { value: a, children: e.ReactElement }),
  });
}
var St = b(w());
var ns = b(w());
var i_ = b(H());
var ts = class {
  m_Promise;
  m_Value = void 0;
  constructor(e) {
    $t(this), (this.promise = e);
  }
  set promise(e) {
    (this.m_Promise = e),
      (this.m_Value = void 0),
      e?.then((n) => {
        this.m_Promise === e && (this.m_Value = n);
      });
  }
  get promise() {
    return this.m_Promise;
  }
  get value() {
    return this.m_Value;
  }
};
y([Xt], ts.prototype, "m_Value", 2);
function vt(t, e, n) {
  return ns.forwardRef(function (a, i) {
    return (0, i_.jsx)("div", {
      ...n,
      role: e,
      ...a,
      className: v(t, a.className),
      ref: i,
    });
  });
}
function vg(t) {
  if (typeof t != "string") return NaN;
  let n = !t.includes("ms") && t.includes("s"),
    o = Number.parseFloat(t);
  return n && (o *= 1e3), o;
}
var kg = "me1BHzZX9A0-";
var __ = b(H());
function un(t) {
  let e = t.customTooltip ? xd : ji;
  return (0, __.jsxs)(e, {
    toolTipContent: t.tooltip,
    className: v(kg, "HelperTooltip", t.className),
    children: [" ", (0, __.jsx)(Lb, {})],
  });
}
var os = b(w()),
  Oo = os.default.createContext({}),
  as = () => os.default.useContext(Oo);
function kt(t, e) {
  return as()[t] ?? e;
}
var It = {
  Toggle: "iht2aUDj9M8-",
  Disabled: "YTEsHaVTRhQ-",
  ToggleRail: "smW0sc5P0Ac-",
  Highlight: "itL3LCJ2LME-",
  On: "cu29JgKd7Ng-",
  Off: "Rre7XjErr1w-",
  ToggleSwitch: "Py0EVswynbg-",
  ToggleRow: "LCqK-Jsy46k-",
  Label: "K-4Bc-GCthE-",
};
var Xn = b(H());
function wg(t) {
  let e = kt("ToggleControl", ww);
  return (0, Xn.jsx)(e, { ...t });
}
function ww(t) {
  let { value: e, onChange: n, disabled: o } = t;
  return (0, Xn.jsxs)("div", {
    className: v(It.Toggle, o && It.Disabled),
    onClick: () => !o && n && n(!e),
    children: [
      (0, Xn.jsx)("div", { className: It.ToggleRail }),
      (0, Xn.jsx)("div", {
        className: v(It.ToggleRail, It.Highlight, e ? It.On : It.Off),
      }),
      (0, Xn.jsx)("div", { className: v(It.ToggleSwitch, e ? It.On : It.Off) }),
    ],
  });
}
var E = b(H());
function u_(t) {
  return St.forwardRef(function (n, o) {
    return (0, E.jsx)(D, { ...n, className: v(t, n.className), ref: o });
  });
}
var s_ = vt("DialogHeader", "heading"),
  iF = vt("DialogSubHeader", "heading", { "aria-level": 3 }),
  _F = vt("SettingsDialogSubHeader", "heading", { "aria-level": 3 }),
  Sg = vt("DialogFooter"),
  Sw = vt("DialogLabel _DialogLayout"),
  Rg = vt("DialogBodyText"),
  rF = vt("DialogBody"),
  Pg = u_("DialogBody"),
  uF = vt("DialogInnerBody"),
  sF = vt("DialogControlsSection"),
  bF = vt("DialogControlsSectionHeader", "heading", { "aria-level": 3 }),
  Rw = u_("DialogTwoColLayout _DialogColLayout"),
  Pw = u_("DialogThreeColLayout _DialogColLayout"),
  lF = u_("DialogTwoThirdColLayout _DialogColLayout"),
  mF = vt("DialogColumn _DialogLayout");
function is(t) {
  let e = kt("Content", Mw);
  return (0, E.jsx)(e, { ...t });
}
function Mw(t) {
  let { children: e, bCenterVertically: n, refElem: o, ...a } = t,
    i = "DialogContent _DialogLayout" + (t.className ? " " + t.className : "");
  return (
    n && (i += " _DialogCenterVertically"),
    (0, E.jsx)("div", {
      ...a,
      ref: o,
      className: i,
      children: (0, E.jsx)("div", {
        className: "DialogContent_InnerWidth",
        children: e,
      }),
    })
  );
}
var r_ = class extends St.Component {
  OnSubmit(e) {
    e.preventDefault(), this.props.onSubmit && this.props.onSubmit(e);
  }
  render() {
    return (0, E.jsx)("form", { ...this.props, onSubmit: this.OnSubmit });
  }
};
y([g], r_.prototype, "OnSubmit", 1);
function Mg(t) {
  let { classNameContent: e, bCenterVertically: n, ...o } = t;
  return (0, E.jsx)(is, {
    className: e,
    bCenterVertically: n,
    children: (0, E.jsx)(r_, { ...o }),
  });
}
function Ag(t) {
  let { label: e, tooltip: n, className: o, children: a } = t;
  return (0, E.jsxs)("label", {
    className: v("DialogInputLabelGroup", "_DialogLayout", o),
    children: [
      e &&
        (0, E.jsxs)(Sw, {
          children: [e, " ", n && (0, E.jsx)(un, { tooltip: n }), " "],
        }),
      a,
    ],
  });
}
var La = St.forwardRef(function (e, n) {
    let o = as(),
      { svgicon: a, ...i } = e,
      _ = v(
        e.className,
        a !== void 0 && "hasSVGIcon",
        i.disabled && "Disabled",
        o.strButtonClassName,
      ),
      r = (u) => {
        if (!(i.disabled || !u))
          return (s) => {
            s.stopPropagation(), u(s);
          };
      };
    return (0, E.jsxs)(yn, {
      ref: n,
      onOKActionDescription: i.disabled ? null : void 0,
      noFocusRing: !!o.strButtonClassName,
      ...i,
      className: _,
      disabled: !1,
      onClick: r(i.onClick),
      onPointerDown: r(i.onPointerDown),
      onPointerUp: r(i.onPointerUp),
      onPointerCancel: r(i.onPointerCancel),
      onMouseDown: r(i.onMouseDown),
      onMouseUp: r(i.onMouseUp),
      onTouchStart: r(i.onTouchStart),
      onTouchEnd: r(i.onTouchEnd),
      onTouchCancel: r(i.onTouchCancel),
      onSubmit: r(i.onSubmit),
      children: [a && a(), e.children],
    });
  }),
  Da = St.forwardRef(function (e, n) {
    return (0, E.jsx)(La, {
      preferredFocus: !0,
      type: e.onClick ? "button" : "submit",
      ...e,
      ref: n,
      className: v(e.className, "DialogButton", "_DialogLayout", "Primary"),
    });
  }),
  wt = St.forwardRef(function (e, n) {
    return (0, E.jsx)(La, {
      type: "button",
      ...e,
      ref: n,
      className: v(e.className, "DialogButton", "_DialogLayout", "Secondary"),
    });
  }),
  cF = St.forwardRef(function (e, n) {
    return (0, E.jsx)(La, {
      type: "button",
      ...e,
      ref: n,
      className: v(e.className, "DialogButton", "_DialogLayout", "EmptyButton"),
    });
  }),
  pF = St.forwardRef(function (e, n) {
    return (0, E.jsx)(La, {
      type: "button",
      ...e,
      ref: n,
      className: v(e.className, "DialogButton _DialogLayout Small"),
    });
  }),
  HF = St.forwardRef(function (e, n) {
    return (0, E.jsx)(La, {
      type: "button",
      ...e,
      ref: n,
      className: v(e.className, "TextButton"),
    });
  });
function xg(t) {
  return (0, E.jsxs)(Rw, {
    className: t.className,
    children: [
      (0, E.jsxs)(Da, {
        onClick: t.onOK,
        disabled: t.bOKDisabled,
        autoFocus: t.focusButton == "primary",
        children: [t.strOKText || O("#Button_Confirm"), " "],
      }),
      (0, E.jsx)(wt, {
        onClick: t.onCancel,
        disabled: t.bCancelDisabled,
        autoFocus: t.focusButton == "secondary",
        children: t.strCancelText || O("#Button_Cancel"),
      }),
    ],
  });
}
function Tg(t) {
  let e = t.bOKDisabled ? wt : Da,
    n = t.bOKDisabled ? Da : wt;
  return (0, E.jsxs)(Pw, {
    children: [
      (0, E.jsxs)(e, {
        onClick: t.onOK,
        disabled: t.bOKDisabled,
        children: [t.strOKText || O("#Button_Confirm"), " "],
      }),
      (0, E.jsxs)(n, {
        onClick: t.onUpdate,
        disabled: t.bUpdateDisabled,
        children: [t.strUpdateText || O("#Button_Update"), " "],
      }),
      (0, E.jsx)(wt, {
        onClick: t.onCancel,
        disabled: t.bCancelDisabled,
        children: t.strCancelText || O("#Button_Cancel"),
      }),
    ],
  });
}
var xn = class extends St.Component {
  constructor(e) {
    super(e), (this.state = { checked: e.checked, disabled: e.disabled });
  }
  componentDidUpdate(e) {
    this.props.controlled ||
      (e.checked != this.props.checked &&
        this.props.checked != this.state.checked &&
        this.setState({ checked: this.props.checked })),
      e.disabled != this.props.disabled &&
        this.props.disabled != this.state.disabled &&
        this.setState({ disabled: this.props.disabled });
  }
  shouldComponentUpdate(e, n) {
    return !(
      e.label == this.props.label &&
      e.description == this.props.description &&
      e.onChange == this.props.onChange &&
      e.controlled == this.props.controlled &&
      e.disabled == this.props.disabled &&
      n.disabled == this.state.disabled &&
      e.checked == this.checked &&
      n.checked == this.state.checked
    );
  }
  get checked() {
    return this.props.controlled ? this.props.checked : this.state.checked;
  }
  GetPanelElementProps() {
    let {
      onChange: e,
      checked: n,
      label: o,
      description: a,
      tabIndex: i,
      disabled: _,
      className: r,
      tooltip: u,
      color: s,
      highlightColor: l,
      bottomSeparator: c,
      controlled: m,
      ...p
    } = this.props;
    return {
      ...p,
      tabIndex: i || 0,
      onActivate: this.Toggle,
      onKeyDown: this.KeyDown,
    };
  }
  Toggle() {
    if (this.props.disabled) return;
    let e = !this.checked;
    this.props.controlled || this.setState({ checked: e }),
      this.props.onChange && this.props.onChange(e);
  }
  KeyDown(e) {
    e.keyCode == 32 && (this.Toggle(), e.preventDefault(), e.stopPropagation());
  }
  SetChecked(e, n) {
    this.setState({ checked: e }),
      n && this.props.onChange && this.props.onChange(e);
  }
};
y([g], xn.prototype, "Toggle", 1),
  y([g], xn.prototype, "KeyDown", 1),
  y([g], xn.prototype, "SetChecked", 1);
var dF = St.forwardRef(function (e, n) {
    let o = kt("ToggleField", Ta);
    return (0, E.jsx)(o, { ref: n, ...e });
  }),
  Ta = class extends xn {
    OnOffKeyDown(e) {
      (e.keyCode == 37 && this.checked) || (e.keyCode == 39 && !this.checked)
        ? (this.Toggle(), e.preventDefault(), e.stopPropagation())
        : this.KeyDown(e);
    }
    OnNewUIToggle(e) {
      e !== this.checked && this.Toggle();
    }
    render() {
      let e =
        "DialogToggleField _DialogInputContainer _DialogLayout " +
        (this.props.className ? this.props.className : "");
      return (
        this.props.disabled && (e += " Disabled"),
        (0, E.jsxs)("div", {
          className: e,
          tabIndex: this.props.tabIndex || 0,
          onKeyDown: this.OnOffKeyDown,
          children: [
            (0, E.jsxs)("div", {
              className: "displayColumn alignSelfCenter",
              children: [
                (0, E.jsxs)("div", {
                  className: "DialogToggle_Label",
                  children: [
                    (0, E.jsx)("span", { children: this.props.label }),
                    this.props.tooltip &&
                      (0, E.jsx)(un, { tooltip: this.props.tooltip }),
                  ],
                }),
                this.props.description &&
                  (0, E.jsx)("div", {
                    className: "DialogToggle_Description",
                    children: this.props.description,
                  }),
                this.props.children,
              ],
            }),
            this.props.useToggleRail
              ? (0, E.jsx)("div", {
                  className: "DialogToggleField_NewUIContainer",
                  children: (0, E.jsx)(wg, {
                    onChange: this.OnNewUIToggle,
                    value: this.checked,
                  }),
                })
              : (0, E.jsx)("div", {
                  className: "DialogToggleField_Control",
                  onClick: this.Toggle,
                  children: (0, E.jsxs)(D, {
                    className: "DialogToggleField_OptionPanel",
                    onOKButton: this.Toggle,
                    children: [
                      (0, E.jsx)("div", {
                        className:
                          "DialogToggleField_Option Off" +
                          (this.checked ? "" : " Active"),
                        children: O("#Dialog_Off"),
                      }),
                      (0, E.jsx)("div", {
                        className:
                          "DialogToggleField_Option On" +
                          (this.checked ? " Active" : ""),
                        children: O("#Dialog_On"),
                      }),
                    ],
                  }),
                }),
          ],
        })
      );
    }
  };
y([g], Ta.prototype, "OnOffKeyDown", 1),
  y([g], Ta.prototype, "OnNewUIToggle", 1);
var Vt = b(w());
var b_ = class extends Cl {
  m_component;
  m_propTargets;
  m_props = {};
  m_setStateOnComplete;
  constructor(e, n, o) {
    super(Xs(e.ref.current), o),
      (this.m_component = e),
      (this.m_propTargets = n),
      (this.m_setStateOnComplete = o.setStateOnComplete);
  }
  Start() {
    this.m_props = {};
    for (let e in this.m_propTargets) {
      let n = parseFloat(this.m_component.state[e]) || 0,
        o = this.m_propTargets[e];
      n != o && (this.m_props[e] = { start: n, end: o });
    }
    super.Start();
  }
  Update(e) {
    let n = {};
    for (let o in this.m_props) {
      let a = this.m_props[o],
        i = a.start + (a.end - a.start) * e;
      n[o] = i;
    }
    this.m_component.setState(n);
  }
  FireOnComplete() {
    super.FireOnComplete(),
      this.m_setStateOnComplete &&
        this.m_component.setState(this.m_setStateOnComplete);
  }
};
var J = b(H()),
  Aw = Vt.forwardRef(function (e, n) {
    let o = kt("InputElement", co);
    return (0, J.jsx)(o, { ...e, ref: n });
  }),
  Tn = class Tn extends Vt.PureComponent {
    m_CopiedAnimation;
    ref = Vt.createRef();
    constructor(e) {
      super(e),
        this.CheckProps(e),
        (this.state = {
          m_CopiedYPos: 0,
          m_bPlayingCopiedAnimation: !1,
          m_bCompletedCopiedAnimation: !1,
          m_bNumberBelowMinRange: !1,
          m_bNumberAboveMaxRange: !1,
          m_bIsNotNumeric: !1,
          m_bIsInvalidURL: !1,
          m_strInvalidURLMessage: null,
          m_bIsInvalidEmail: !1,
          m_bAboveMaxChars: !1,
        });
    }
    componentDidUpdate(e) {
      this.CheckProps(this.props);
    }
    m_elInput;
    OnInputRef(e) {
      (this.m_elInput = e),
        this.m_elInput && this.props.focusOnMount && this.m_elInput.focus();
    }
    get element() {
      return this.m_elInput;
    }
    get value() {
      return this.m_elInput && this.m_elInput.value;
    }
    Focus() {
      this.m_elInput?.focus();
    }
    static validateUrl(e) {
      return (
        e != null &&
        (/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(
          e,
        ) ||
          /^steam:\/\/[-a-zA-Z0-9@:%._\+~#=]{2,256}/i.test(e))
      );
    }
    static validateEmail(e) {
      return (
        e != null &&
        /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
          e.toLowerCase(),
        )
      );
    }
    Validate() {
      this.setState({
        m_bNumberBelowMinRange:
          this.props.rangeMin !== null &&
          this.props.rangeMin !== void 0 &&
          Number(this.m_elInput?.value) < this.props.rangeMin,
        m_bNumberAboveMaxRange:
          this.props.rangeMax !== null &&
          this.props.rangeMax !== void 0 &&
          Number(this.m_elInput?.value) > this.props.rangeMax,
        m_bIsNotNumeric:
          this.props.mustBeNumeric == !0 &&
          isNaN(Number(this.m_elInput?.value)),
        m_bIsInvalidURL:
          this.props.mustBeURL == !0 && !Tn.validateUrl(this.m_elInput?.value),
        m_strInvalidURLMessage: this.props.fnStrValidateURL
          ? this.props.fnStrValidateURL(this.m_elInput?.value)
          : null,
        m_bIsInvalidEmail:
          this.props.mustBeEmail == !0 &&
          !Tn.validateEmail(this.m_elInput?.value),
        m_bAboveMaxChars:
          this.props.maxChars != null &&
          this.m_elInput != null &&
          this.m_elInput.value.length > this.props.maxChars,
      });
    }
    OnChanged(e) {
      this.props.onChange && this.props.onChange(e), this.Validate();
    }
    OnCopyClick(e) {
      if (!this.m_elInput) return;
      this.m_elInput.select();
      let n = this.m_elInput.ownerDocument;
      if (n.queryCommandEnabled("copy")) {
        n.execCommand("copy"),
          e.currentTarget.focus(),
          this.m_CopiedAnimation && this.m_CopiedAnimation.Cancel();
        let o = -4,
          a = -24;
        this.setState({ m_bCompletedCopiedAnimation: !1 }),
          this.setState({ m_CopiedYPos: o }, () => {
            (this.m_CopiedAnimation = new b_(
              this,
              { m_CopiedYPos: a },
              {
                msDuration: 300,
                timing: "sine",
                setStateOnComplete: { m_bCompletedCopiedAnimation: !0 },
              },
            )),
              this.m_CopiedAnimation.Start();
          });
      }
    }
    OnClearClick(e) {
      this.m_elInput &&
        this.m_elInput.value &&
        (Object.getOwnPropertyDescriptor(
          window.HTMLInputElement.prototype,
          "value",
        ).set.call(this.m_elInput, ""),
        this.m_elInput.dispatchEvent(new Event("input", { bubbles: !0 })));
    }
    CheckProps(e) {
      pe(
        !(e.bShowClearAction || e.bAlwaysShowClearAction) || e.onChange,
        "In order for bShowClearAction to work correctly, you should be handling onChange and passing value to the Dialog.Input.",
      );
    }
    render() {
      let {
          label: e,
          description: n,
          requiredLabel: o,
          bShowCopyAction: a,
          bShowClearAction: i,
          bAlwaysShowClearAction: _,
          rangeMin: r,
          rangeMax: u,
          mustBeNumeric: s,
          mustBeURL: l,
          fnStrValidateURL: c,
          mustBeEmail: m,
          focusOnMount: p,
          tooltip: C,
          inlineControls: h,
          maxChars: M,
          ...L
        } = this.props,
        T =
          "DialogInput DialogInputPlaceholder DialogTextInputBase" +
          (L.className ? " " + L.className : ""),
        Z = "copiedAnimation",
        X = this.state.m_bCompletedCopiedAnimation;
      this.m_CopiedAnimation && (Z = "copiedAnimation animationPlaying"),
        X && (Z = "copiedAnimation animationComplete");
      let be = {};
      this.state.m_CopiedYPos !== void 0 &&
        (be.transform = "translateY(" + this.state.m_CopiedYPos + "px)");
      let Se = (0, J.jsxs)(Vt.Fragment, {
        children: [
          (0, J.jsxs)(D, {
            className: "DialogInput_Wrapper _DialogLayout",
            "flow-children": "row",
            ref: this.ref,
            children: [
              (0, J.jsx)(Aw, {
                type: "text",
                ...L,
                className: T,
                ref: this.OnInputRef,
                onChange: this.OnChanged,
              }),
              a &&
                (0, J.jsxs)("div", {
                  className: "displayRow",
                  children: [
                    (0, J.jsx)(wt, {
                      className: "DialogInput_CopyAction Primary",
                      onClick: this.OnCopyClick,
                      children: O("#Button_Copy"),
                    }),
                    (0, J.jsx)("div", {
                      style: be,
                      className: Z,
                      children: O("#Button_Copied"),
                    }),
                  ],
                }),
              (_ || (i && L.value)) &&
                (0, J.jsx)("div", {
                  className: "DialogInput_ClearAction",
                  onClick: this.OnClearClick,
                  children: (0, J.jsx)(yo, {}),
                }),
              h,
            ],
          }),
          n &&
            (0, J.jsx)("div", {
              className: "DialogLabelExplainer",
              children: n,
            }),
        ],
      });
      return e
        ? (0, J.jsx)("div", {
            className:
              "DialogInputLabelGroup _DialogLayout DialogRequirementLabel",
            children: (0, J.jsxs)("label", {
              children: [
                (0, J.jsxs)("div", {
                  className: "DialogLabel",
                  children: [
                    e,
                    " ",
                    this.props.tooltip &&
                      (0, J.jsx)(un, { tooltip: this.props.tooltip }),
                    (0, J.jsx)("span", {
                      className: "DialogInputRequirementLabel",
                      children: this.props.requiredLabel,
                    }),
                    " ",
                  ],
                }),
                Se,
                this.state.m_bNumberBelowMinRange
                  ? (0, J.jsxs)("div", {
                      children: [" ", O("#Input_Error_NumberTooSmall"), " "],
                    })
                  : null,
                this.state.m_bNumberAboveMaxRange
                  ? (0, J.jsxs)("div", {
                      children: [" ", O("#Input_Error_NumberTooLarge"), " "],
                    })
                  : null,
                this.state.m_bIsInvalidURL
                  ? (0, J.jsxs)("div", {
                      children: [" ", O("#Input_Error_MustBeURL"), " "],
                    })
                  : null,
                this.state.m_strInvalidURLMessage
                  ? (0, J.jsxs)("div", {
                      children: [" ", this.state.m_strInvalidURLMessage, " "],
                    })
                  : null,
                this.state.m_bIsInvalidEmail
                  ? (0, J.jsxs)("div", {
                      children: [" ", O("#Input_Error_MustBeEmail"), " "],
                    })
                  : null,
                this.state.m_bIsNotNumeric
                  ? (0, J.jsxs)("div", {
                      children: [" ", O("#Input_Error_MustBeNumber"), " "],
                    })
                  : null,
                this.state.m_bAboveMaxChars
                  ? (0, J.jsxs)("div", {
                      children: [
                        " ",
                        hb("#Input_Error_TooManyCharacters", M),
                        " ",
                      ],
                    })
                  : null,
              ],
            }),
          })
        : Se;
    }
  };
y([g], Tn.prototype, "OnInputRef", 1),
  y([g], Tn.prototype, "OnChanged", 1),
  y([g], Tn.prototype, "OnCopyClick", 1),
  y([g], Tn.prototype, "OnClearClick", 1);
var $n = Tn,
  za = class extends $n {
    m_bFocused = !1;
    OnBackgroundClick() {
      this.m_elInput && this.m_elInput.focus();
    }
    OnInputFocus(e) {
      this.m_bFocused || ((this.m_bFocused = !0), this.forceUpdate()),
        this.props.onFocus && this.props.onFocus(e);
    }
    OnInputBlur(e) {
      this.m_bFocused && ((this.m_bFocused = !1), this.forceUpdate()),
        this.props.onBlur && this.props.onBlur(e);
    }
    render() {
      let {
        label: e,
        description: n,
        requiredLabel: o,
        bShowCopyAction: a,
        bShowClearAction: i,
        bAlwaysShowClearAction: _,
        rangeMin: r,
        rangeMax: u,
        maxChars: s,
        mustBeNumeric: l,
        mustBeURL: c,
        fnStrValidateURL: m,
        mustBeEmail: p,
        focusOnMount: C,
        tooltip: h,
        inlineControls: M,
        className: L,
        children: T,
        ...Z
      } = this.props;
      return (0, J.jsx)("div", {
        className: "DialogInputLabelGroup _DialogLayout DialogListBuilderInput",
        children: (0, J.jsxs)("label", {
          children: [
            e && (0, J.jsx)("div", { className: "DialogLabel", children: e }),
            (0, J.jsx)("div", {
              className: v(
                "_DialogInputContainer",
                "DialogTextInputBase",
                this.m_bFocused && "Active",
              ),
              onClick: this.OnBackgroundClick,
              children: (0, J.jsxs)(D, {
                className: "DialogListBuilderInput_List",
                "flow-children": "row",
                children: [
                  Vt.Children.map(T, (X, be) =>
                    (0, J.jsx)(
                      "div",
                      {
                        className: "DialogListBuilderInput_ListItem",
                        children: X,
                      },
                      be,
                    ),
                  ),
                  (0, J.jsx)(co, {
                    type: "text",
                    ...Z,
                    className:
                      "DialogListBuilderInput_Input DialogInputPlaceholder",
                    ref: this.OnInputRef,
                    onFocus: this.OnInputFocus,
                    onBlur: this.OnInputBlur,
                    size: 4,
                  }),
                ],
              }),
            }),
            n &&
              (0, J.jsx)("div", {
                className: "DialogLabelExplainer",
                children: n,
              }),
          ],
        }),
      });
    }
  };
y([g], za.prototype, "OnBackgroundClick", 1),
  y([g], za.prototype, "OnInputFocus", 1),
  y([g], za.prototype, "OnInputBlur", 1);
var Dg = b(w());
var Wt = b(H()),
  _s = (t, e) =>
    "" + (t != null ? Number.parseFloat(t.toFixed(3)) : null) + (e ?? "");
var sn = class extends Dg.Component {
  m_flLastSetValue = null;
  constructor(e) {
    super(e);
  }
  ClampValue(e) {
    return e === void 0 || isNaN(e) || e < this.props.min
      ? this.props.min
      : e > this.props.max
        ? this.props.max
        : e;
  }
  BPropsValid() {
    return this.props.max > this.props.min;
  }
  m_elSlider;
  m_rectSlider;
  OnMouseDown(e) {
    (this.m_elSlider = e.currentTarget),
      (this.m_rectSlider = this.m_elSlider.getBoundingClientRect()),
      this.props.onChangeStart && this.props.onChangeStart(1),
      this.AdjustSliderForClientX(e.clientX, 1),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "mousemove",
        this.OnMouseMove,
      ),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "mouseup",
        this.OnMouseUp,
      );
  }
  OnMouseMove(e) {
    this.AdjustSliderForClientX(e.clientX, 1);
  }
  OnMouseUp(e) {
    this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
      "mousemove",
      this.OnMouseMove,
    ),
      this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
        "mouseup",
        this.OnMouseUp,
      ),
      this.CompleteChange(1);
  }
  OnTouchStart(e) {
    (this.m_elSlider = e.currentTarget),
      (this.m_rectSlider = this.m_elSlider.getBoundingClientRect()),
      this.props.onChangeStart && this.props.onChangeStart(0),
      this.AdjustSliderForClientX(e.touches[0].clientX, 0),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "touchmove",
        this.OnTouchMove,
      ),
      this.m_elSlider.ownerDocument.defaultView?.addEventListener(
        "touchend",
        this.OnTouchEnd,
      );
  }
  OnTouchMove(e) {
    this.AdjustSliderForClientX(e.touches[0].clientX, 0);
  }
  OnTouchEnd(e) {
    this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
      "touchmove",
      this.OnTouchMove,
    ),
      this.m_elSlider?.ownerDocument.defaultView?.removeEventListener(
        "touchend",
        this.OnTouchEnd,
      ),
      this.CompleteChange(0);
  }
  OnKeyDown(e) {
    let n = 1;
    e.ctrlKey &&
      (n = Math.max(
        1,
        Math.floor((this.props.max - this.props.min) * 0.1 + 0.5),
      )),
      e.keyCode == 37
        ? (this.IncrementValue(-1 * n), e.preventDefault())
        : e.keyCode == 39 && (this.IncrementValue(1 * n), e.preventDefault()),
      this.CompleteChange(2);
  }
  AdjustSliderForClientX(e, n) {
    let o =
      ((e - this.m_rectSlider.left) /
        (this.m_rectSlider.right - this.m_rectSlider.left)) *
        (this.props.max - this.props.min) +
      this.props.min;
    o = Math.floor(o + 0.5);
    let a = this.ClampValue(o);
    a != this.props.value &&
      (this.props.onChange && this.props.onChange(a, n),
      (this.m_flLastSetValue = a));
  }
  CompleteChange(e) {
    this.m_flLastSetValue != null &&
      (this.props.onChangeComplete &&
        this.props.onChangeComplete(this.m_flLastSetValue, e),
      (this.m_flLastSetValue = null));
  }
  IncrementValue(e) {
    let n = this.ClampValue(this.props.value + e);
    n != this.props.value &&
      (this.props.onChange && this.props.onChange(n, 2),
      (this.m_flLastSetValue = n));
  }
  render() {
    let e = {},
      n = {};
    if (this.BPropsValid()) {
      let u =
        (100 * (this.props.value - this.props.min)) /
          (this.props.max - this.props.min) +
        "%";
      (e.width = u), (n.left = u);
    }
    let { label: o, description: a, tooltip: i, ..._ } = this.props,
      r = this.props.renderValue ?? _s;
    return (0, Wt.jsxs)("div", {
      className:
        "DialogSlider_Container _DialogInputContainer _DialogLayout" +
        (this.props.className ? " " + this.props.className : ""),
      onKeyDown: this.OnKeyDown,
      tabIndex: this.props.tabIndex || 0,
      children: [
        o &&
          (0, Wt.jsxs)("div", {
            className: "DialogLabel",
            children: [o, !!i && (0, Wt.jsx)(un, { tooltip: i })],
          }),
        (0, Wt.jsxs)("div", {
          className: "DialogSlider_Slider",
          onMouseDown: this.OnMouseDown,
          onTouchStart: this.OnTouchStart,
          children: [
            (0, Wt.jsx)("div", { className: "DialogSlider_Value", style: e }),
            (0, Wt.jsx)("div", { className: "DialogSlider_Grabber", style: n }),
          ],
        }),
        this.props.showValue &&
          (0, Wt.jsx)("div", {
            className: "DialogLabelExplainer",
            children: r(this.props.value, this.props.valueSuffix),
          }),
        a &&
          (0, Wt.jsx)("div", {
            className: "DialogLabelExplainer",
            children: a,
          }),
      ],
    });
  }
};
y([g], sn.prototype, "OnMouseDown", 1),
  y([g], sn.prototype, "OnMouseMove", 1),
  y([g], sn.prototype, "OnMouseUp", 1),
  y([g], sn.prototype, "OnTouchStart", 1),
  y([g], sn.prototype, "OnTouchMove", 1),
  y([g], sn.prototype, "OnTouchEnd", 1),
  y([g], sn.prototype, "OnKeyDown", 1);
var Lg = b(w());
var Tw = b(H()),
  xw = { setValue: () => {} },
  qF = Lg.default.createContext(xw);
var We = b(w());
var Ba = {
  DialogDropDownMenu_Item: "jHkXIJHJm88-",
  DialogDropDownMenu_Separator: "_8Ba71jUzzWw-",
  DialogDropDownMenu: "_865BbeRmTtw-",
};
var Ce = b(H());
function bn(t) {
  return typeof t == "object" && "data" in t;
}
function Zn(t) {
  return typeof t == "object" && "bIsSeparator" in t;
}
function Kt(t) {
  return typeof t == "object" && "options" in t;
}
function us(t, e) {
  if (t === e) return !0;
  if (!Array.isArray(t) || !Array.isArray(e) || t.length != e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!ss(t[n], e[n])) return !1;
  return !0;
}
function ss(t, e) {
  return t == null || e == null
    ? t == e
    : Zn(t) && Zn(e)
      ? !0
      : !(
          Zn(t) ||
          Zn(e) ||
          t.label !== e.label ||
          t.tooltip !== e.tooltip ||
          Kt(t) != Kt(e) ||
          (Kt(t) && Kt(e) && !us(t.options, e.options)) ||
          (bn(t) && bn(e) && t.data !== e.data)
        );
}
function l_(t, e) {
  if (t != null)
    for (let n = 0; n < t.length; n++) {
      let o = t[n];
      if (bn(o) && o.data === e) return o;
      if (Kt(o)) {
        let a = l_(o.options, e);
        if (a != null) return a;
      }
    }
}
function Dw(t) {
  let e = kt("DropDownField", Lw);
  return (0, Ce.jsx)(e, { ...t });
}
function Lw(t) {
  let {
    label: e,
    tooltip: n,
    strClassName: o,
    dropDownControlRef: a,
    ...i
  } = t;
  return (0, Ce.jsx)(Ag, {
    label: e,
    tooltip: n,
    className: o,
    children: (0, Ce.jsx)(qt, { menuLabel: e, ...i, ref: a }),
  });
}
var zw = We.forwardRef(function (e, n) {
    return (0, Ce.jsxs)(yn, {
      focusable: e.focusable,
      className: v(e.className, "DialogDropDown", "_DialogInputContainer", {
        Active: e.opened,
        Disabled: e.disabled,
      }),
      tabIndex: e.tabIndex,
      onClick: e.onClick,
      onKeyDown: e.onKeyDown,
      disabled: e.disabled,
      type: "button",
      ref: n,
      noFocusRing: e.noFocusRing,
      role: e.role ?? "combobox",
      "aria-controls": e["aria-controls"],
      "aria-expanded": e.opened,
      children: [
        (0, Ce.jsx)("div", {
          className: "DialogDropDown_CurrentDisplay",
          children: e.children,
        }),
        !e.disabled &&
          (0, Ce.jsx)("div", {
            className: v(e.arrowClassName, "DialogDropDown_Arrow"),
            children: (0, Ce.jsx)(Ab, { role: "presentation" }),
          }),
      ],
    });
  }),
  qt = class extends We.Component {
    static contextType = Oo;
    m_elInput;
    m_iMenuInstance;
    constructor(e) {
      super(e),
        (this.state = {
          value: l_(e.rgOptions, e.selectedOption),
          bOpened: !1,
        });
    }
    SetSelectedOption(e) {
      if (this.props.controlled) return;
      let n = l_(this.props.rgOptions, e);
      ss(n, this.value) || this.setState({ value: n });
    }
    get value() {
      return this.props.controlled
        ? l_(this.props.rgOptions, this.props.selectedOption)
        : this.state.value;
    }
    shouldComponentUpdate(e, n, o) {
      if (
        e.selectedOption !== this.props.selectedOption ||
        e.disabled != this.props.disabled ||
        n.bOpened !== this.state.bOpened ||
        !us(this.props.rgOptions, e.rgOptions) ||
        !ss(n.value, this.value)
      )
        return !0;
      let a = ["selectedOption", "tabIndex", "onChange", "strDefaultLabel"];
      for (let i of a) if (e[i] !== this.props[i]) return !0;
      return !1;
    }
    componentDidUpdate(e, n) {
      pe(
        this.props.controlled === e.controlled,
        '"controlled" prop should never change after mount',
      );
      let o = !us(e.rgOptions, this.props.rgOptions),
        a = e.selectedOption !== this.props.selectedOption,
        i = this.value !== n.value;
      !this.props.controlled &&
        (o || i || a) &&
        (a || this.value == null
          ? this.SetSelectedOption(this.props.selectedOption)
          : this.SetSelectedOption(this.value.data)),
        (o || i) &&
          (this.state.bOpened
            ? (this.m_iMenuInstance?.SetOnHideCallback(void 0),
              this.m_iMenuInstance?.Hide(),
              (this.m_iMenuInstance = void 0),
              this.BuildMenu())
            : this.m_iMenuInstance &&
              (this.m_iMenuInstance.SetOnHideCallback(void 0),
              (this.m_iMenuInstance = void 0)));
    }
    OnInputRef(e) {
      e && (this.m_elInput = e);
    }
    get element() {
      return this.m_elInput;
    }
    ToggleMenu() {
      if (this.state.bOpened) this.HideMenu();
      else {
        if (
          this.props.onMenuWillOpen &&
          this.props.onMenuWillOpen(this.ShowMenu) == !1
        )
          return;
        this.ShowMenu();
      }
    }
    OnValueSelected(e, n) {
      this.HideMenu(),
        this.setState({ value: n }),
        this.props.onChange && this.props.onChange(n, this, e);
    }
    BuildMenu() {
      let e = "DialogMenuPosition";
      this.props.strDropDownClassName &&
        (e += " " + this.props.strDropDownClassName);
      let n = {
          bOverlapHorizontal: !0,
          bMatchWidth: this.props.bMatchWidth ?? !0,
          bFitToWindow: !0,
          strClassName: e,
          bDisableMouseOverlay: this.props.bDisableMouseOverlay,
          ...this.props.contextMenuPositionOptions,
        },
        o = this.props.contextMenuPositionOptions?.onCancel;
      (this.m_iMenuInstance = Zo(
        (0, Ce.jsx)(Bw, {
          rgOptions: this.props.rgOptions,
          onValueSelected: this.OnValueSelected,
          onCancel: o,
          selectedValue: this.value?.data,
          strDropDownMenuCtnClass: this.props.strDropDownMenuCtnClass,
          strDropDownItemClassName: this.props.strDropDownItemClassName,
          id: `dropdownmenu_${this.m_iMenuInstance?.key}`,
        }),
        this.m_elInput,
        n,
      )),
        this.m_iMenuInstance.SetLabel(
          this.props.menuLabel ??
            (typeof this.props.strDefaultLabel == "string" &&
              this.props.strDefaultLabel),
        ),
        this.m_iMenuInstance.SetOnHideCallback(this.HideMenu);
    }
    ShowMenu() {
      this.m_iMenuInstance ? this.m_iMenuInstance.Show() : this.BuildMenu(),
        this.props.onMenuOpened && this.props.onMenuOpened(),
        this.setState({ bOpened: !0 });
    }
    HideMenu() {
      this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
        this.setState({ bOpened: !1 }, () => this.m_elInput.focus());
    }
    OnKeyDown(e) {
      Bg(e, this.props.rgOptions.filter(bn), this.value?.data, (n) =>
        this.OnValueSelected(void 0, n),
      );
    }
    render() {
      let e = this.value?.label ?? this.props.strDefaultLabel;
      this.props.renderButtonValue != null &&
        (e = this.props.renderButtonValue(e));
      let n = this.props.focusable ?? !0,
        o = this.props.renderButton || this.context.DropDownControlButton || zw;
      return (0, Ce.jsx)(o, {
        focusable: n,
        disabled: this.props.disabled ?? !1,
        opened: this.state.bOpened,
        onClick: this.props.disabled ? void 0 : this.ToggleMenu,
        onKeyDown: this.props.disabled ? void 0 : this.OnKeyDown,
        tabIndex: this.props.tabIndex ?? (n ? 0 : void 0),
        ref: this.OnInputRef,
        className: this.props.strDropDownButtonClassName,
        arrowClassName: this.props.arrowClassName,
        role: "combobox",
        "aria-controls": this.m_iMenuInstance
          ? `dropdownmenu_${this.m_iMenuInstance.key}`
          : void 0,
        "aria-expanded": this.state.bOpened,
        "aria-label": this.props["aria-label"],
        "aria-labelledby": this.props["aria-labelledby"],
        "aria-describedby": this.props["aria-describedby"],
        children: e,
      });
    }
  };
y([g], qt.prototype, "OnInputRef", 1),
  y([g], qt.prototype, "ToggleMenu", 1),
  y([g], qt.prototype, "OnValueSelected", 1),
  y([g], qt.prototype, "ShowMenu", 1),
  y([g], qt.prototype, "HideMenu", 1),
  y([g], qt.prototype, "OnKeyDown", 1);
var zg = We.createContext(null);
function Bw(t) {
  let e = kt("DropDownMenu", Iw);
  return (0, Ce.jsx)(zg.Provider, {
    value: {},
    children: (0, Ce.jsx)(e, { ...t }),
  });
}
function Bg(t, e, n, o) {
  let a;
  if (t.key === "ArrowDown")
    a = (e.findIndex((_) => _.data === n) + 1) % e.length;
  else if (t.key === "ArrowUp") {
    let i = e.findIndex((_) => _.data === n);
    a = i <= 0 ? e.length - 1 : i - 1;
  }
  a !== void 0 && (o(e[a]), t.preventDefault());
}
function Iw(t) {
  let {
      rgOptions: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      selectedValue: a,
    } = t,
    [i, _] = We.useState(a),
    r = We.useMemo(() => e.filter(bn), [e]),
    u = We.useCallback(
      (s) => {
        Bg(s, r, i, (l) => _(l.data));
      },
      [i, r],
    );
  return (0, Ce.jsx)("div", {
    className: v(
      Ba.DialogDropDownMenu,
      "_DialogInputContainer",
      t.strDropDownMenuCtnClass,
    ),
    onKeyDown: u,
    children: (0, Ce.jsx)(Ig, {
      rgOptions: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      activeValue: i,
      setActiveValue: _,
    }),
  });
}
function Ig(t) {
  let { rgOptions: e, ...n } = t;
  return e.map((o, a) =>
    Zn(o)
      ? (0, Ce.jsx)(
          "hr",
          {
            className: v(
              Ba.DialogDropDownMenu_Item,
              Ba.DialogDropDownMenu_Separator,
            ),
          },
          a,
        )
      : Kt(o)
        ? (0, Ce.jsx)(Ig, { ...n, rgOptions: o.options }, a)
        : (0, Ce.jsx)(Ew, { ...n, option: o }, a),
  );
}
function Ew(t) {
  let {
      option: e,
      strDropDownItemClassName: n,
      onValueSelected: o,
      activeValue: a,
      setActiveValue: i,
    } = t,
    _ = We.useCallback((s) => s && s.focus(), []),
    r = We.useCallback(() => {
      i(e.data);
    }, [i, e]),
    u = e.data === a;
  return (0, Ce.jsx)("button", {
    type: "button",
    className: v(
      Ba.DialogDropDownMenu_Item,
      n,
      e.strOptionClass,
      u && "ContextMenuAutoFocus",
    ),
    onClick: (s) => o(s, e),
    ref: u ? _ : void 0,
    onMouseEnter: r,
    role: "option",
    "aria-selected": u,
    children: e.tooltip
      ? (0, Ce.jsx)(ji, {
          toolTipContent: e.tooltip,
          bTopmost: !0,
          className: "TooltipContainer",
          children: e.label,
        })
      : (0, Ce.jsx)("div", { children: e.label }),
  });
}
var rs = class extends We.Component {
  state = { rgOptions: void 0 };
  async OnMenuOpened() {
    if (!this.state.rgOptions) {
      let e = await this.props.fnLoadOptions();
      this.setState({ rgOptions: e });
    }
  }
  render() {
    let {
        fnLoadOptions: e,
        strInitialDisplay: n,
        initialValue: o,
        ...a
      } = this.props,
      { rgOptions: i } = this.state;
    return (
      i === void 0 &&
        (n || o
          ? ((i = [{ label: n, data: o }]), (a.selectedOption = o))
          : (i = [])),
      (0, Ce.jsx)(Dw, { ...a, rgOptions: i, onMenuOpened: this.OnMenuOpened })
    );
  }
};
y([g], rs.prototype, "OnMenuOpened", 1);
var Ow = b(w());
var Eg = b(H());
var mt = b(w());
var Ng = b(xC());
var bs = class {
  activeObject;
  instance;
  constructor(e) {
    this.instance = new ls(e, !1);
  }
};
var ls = class {
    m_parent;
    m_window;
    m_container = null;
    iIntervalShow;
    m_bRemoveOnHide;
    m_reactRoot;
    constructor(e, n = !0) {
      (this.m_parent = e),
        (this.m_window = e.ownerDocument.defaultView),
        (this.m_bRemoveOnHide = n);
    }
    Show(e, n) {
      return (
        this.CancelShowInterval(),
        n
          ? new Promise((o, a) => {
              this.iIntervalShow = this.m_window.setTimeout(() => {
                let i = this.m_parent.ownerDocument;
                i.defaultView &&
                  !i.defaultView.closed &&
                  (this.InternalShow(e), o());
              }, n);
            })
          : (this.InternalShow(e), Promise.resolve())
      );
    }
    InternalShow(e) {
      this.m_container ||
        ((this.m_container = this.m_parent.ownerDocument.createElement("div")),
        this.m_parent.appendChild(this.m_container)),
        this.m_reactRoot ||
          (this.m_reactRoot = Ng.createRoot(this.m_container)),
        this.m_reactRoot.render(e);
    }
    Hide(e) {
      this.CancelShowInterval(),
        e
          ? (this.iIntervalShow = this.m_window.setTimeout(() => {
              this.InternalHide();
            }, e))
          : this.InternalHide();
    }
    InternalHide() {
      this.m_reactRoot &&
        (this.m_reactRoot.unmount(), (this.m_reactRoot = void 0)),
        this.m_container &&
          this.m_bRemoveOnHide &&
          (this.m_parent.removeChild(this.m_container),
          (this.m_container = null));
    }
    CancelShowInterval() {
      this.iIntervalShow !== void 0 &&
        (this.m_window.clearInterval(this.iIntervalShow),
        (this.iIntervalShow = void 0));
    }
    BIsChildElement(e) {
      return this.m_container && mo(this.m_container, e);
    }
  },
  m_ = class {
    m_strUniqueID;
    m_mapEmbeddedHovers = new WeakMap();
    constructor(e) {
      this.m_strUniqueID = e;
    }
    ShowElementDelayed(e, n, o, a) {
      let i = this.GetEmbeddedElement(e);
      return (i.activeObject = a), i.instance.Show(o, n);
    }
    ShowElement(e, n, o) {
      let a = this.GetEmbeddedElement(e);
      (a.activeObject = o), a.instance.Show(n);
    }
    HideElement(e, n, o) {
      let a = this.GetEmbeddedElement(e);
      a.activeObject == n && ((a.activeObject = void 0), a.instance.Hide(o));
    }
    GetEmbeddedElement(e) {
      let n = this.m_mapEmbeddedHovers.get(e);
      return n || ((n = new bs(e.body)), this.m_mapEmbeddedHovers.set(e, n)), n;
    }
  };
var Ze = b(H()),
  Ia = new eb("DragDrop").Debug;
var ms = class extends mt.Component {
  m_coordinator = new c_();
  OnDrop(e, n) {
    n > e && n--, n != e && this.props.onReorder(e, n);
  }
  render() {
    let e = [];
    return (
      e.push(
        (0, Ze.jsx)(
          d_,
          {
            coordinator: this.m_coordinator,
            fnBAcceptDraggable: (o) => o.props.data != 0,
            fnOnDrop: (o) => this.OnDrop(o.props.data, 0),
          },
          "dropregion_top",
        ),
      ),
      mt.Children.forEach(this.props.children, (o, a) => {
        let i = o.props.id || "__list_" + a,
          _ = a + 1;
        e.push(
          (0, Ze.jsx)(
            Rt,
            { coordinator: this.m_coordinator, data: a, children: o },
            i,
          ),
        ),
          e.push(
            (0, Ze.jsx)(
              d_,
              {
                coordinator: this.m_coordinator,
                fnBAcceptDraggable: (r) => r.props.data != _,
                fnOnDrop: (r) => this.OnDrop(r.props.data, _),
              },
              "dropregion_" + i,
            ),
          );
      }),
      (0, Ze.jsx)("div", { className: "DialogReorderableList", children: e })
    );
  }
};
y([g], ms.prototype, "OnDrop", 1);
function Fw(t) {
  if ("touches" in t) {
    let e = t;
    return [e.touches[0].clientX, e.touches[0].clientY];
  } else return [t.clientX, t.clientY];
}
function cs(t, e, n, o) {
  return o
    ? n && t > n.left && t < n.right && e > n.top && e < n.bottom
    : n && t >= n.left && t <= n.right && e >= n.top && e <= n.bottom;
}
var c_ = class {
  m_embeddedElement = new m_("DragGhosts");
  m_rgDropRegions = [];
  m_activeDraggable;
  m_rgActiveDropRegions = [];
  m_activeDropRegion;
  m_dropGhost;
  m_dragGhost;
  m_dragOffWindowTimer;
  RegisterDropRegion(e) {
    this.m_rgDropRegions.push(e),
      this.m_activeDraggable &&
        e.BAcceptDraggable(this.m_activeDraggable) &&
        (e.OnDragStarted(this.m_activeDraggable),
        this.m_rgActiveDropRegions.push(e));
  }
  UnregisterDropRegion(e) {
    Ko(this.m_rgDropRegions, e),
      Ko(this.m_rgActiveDropRegions, e),
      this.m_activeDropRegion == e &&
        ((this.m_activeDropRegion = void 0),
        this.m_activeDraggable && this.ShowDragGhost());
  }
  OnDragGhostRef(e) {
    this.m_dragGhost = e;
  }
  ShowDragGhost() {
    let e = this.m_activeDraggable.renderDragGhost(),
      n = v(
        e.props.className,
        !!this.m_activeDropRegion && "DraggedOverActiveDrop",
      ),
      o = mt.cloneElement(e, { ref: this.OnDragGhostRef, className: n });
    this.m_embeddedElement.ShowElement(
      this.m_activeDraggable.GetDragDocument(),
      o,
      this.m_activeDraggable,
    );
  }
  HideDragGhost() {
    this.m_embeddedElement.HideElement(
      this.m_activeDraggable.GetDragDocument(),
      this.m_activeDraggable,
    );
  }
  m_elCloneContainer;
  m_elCloneOriginal;
  m_nodeCloneCopy;
  MakeDragClone(e) {
    pe(
      !this.m_nodeCloneCopy && !this.m_elCloneOriginal,
      "Drag already in progress",
    ),
      (this.m_elCloneOriginal = e.m_divRef.current),
      (this.m_nodeCloneCopy = this.m_elCloneOriginal.cloneNode(!0)),
      e.m_divRef.current.replaceWith(this.m_nodeCloneCopy),
      this.m_elCloneContainer ||
        ((this.m_elCloneContainer = e
          .GetDragDocument()
          .body.ownerDocument.createElement("div")),
        e.GetDragDocument().body.appendChild(this.m_elCloneContainer)),
      this.m_elCloneContainer.appendChild(this.m_elCloneOriginal);
  }
  ReverseDragClone() {
    this.m_nodeCloneCopy.parentNode?.replaceChild(
      this.m_elCloneOriginal,
      this.m_nodeCloneCopy,
    ),
      (this.m_nodeCloneCopy = void 0),
      (this.m_elCloneOriginal = void 0);
  }
  OnDragStart(e) {
    (this.m_activeDraggable = e), (this.m_rgActiveDropRegions = []);
    for (let n of this.m_rgDropRegions)
      n.BAcceptDraggable(e) &&
        (n.OnDragStarted(e), this.m_rgActiveDropRegions.push(n));
    this.MakeDragClone(e), this.ShowDragGhost();
  }
  EndDrag() {
    if (this.m_activeDraggable) {
      this.ReverseDragClone(),
        this.HideDragGhost(),
        this.m_activeDropRegion &&
          this.m_activeDropRegion.OnDrop(this.m_activeDraggable);
      for (let e of this.m_rgActiveDropRegions)
        e.OnDragEnded(this.m_activeDraggable);
      (this.m_activeDraggable = void 0),
        (this.m_dropGhost = void 0),
        (this.m_rgActiveDropRegions = []);
    }
  }
  FindBestActiveDropRegionForPoint(e, n) {
    let o = this.m_activeDraggable.GetDragDocument(),
      a;
    if (("elementsFromPoint" in o && (a = o.elementsFromPoint(e, n)), a)) {
      let i = new Map();
      this.m_rgActiveDropRegions.forEach((_) => i.set(_.GetElement(), _));
      for (let _ of a) {
        let r = i.get(_);
        if (r) return r;
      }
    } else {
      if (
        this.m_activeDropRegion &&
        this.m_activeDropRegion.BDraggableInRegion(e, n, this.m_activeDraggable)
      )
        return this.m_activeDropRegion;
      for (let i = this.m_rgActiveDropRegions.length - 1; i >= 0; i--) {
        let _ = this.m_rgActiveDropRegions[i];
        if (_.BDraggableInRegion(e, n, this.m_activeDraggable)) return _;
      }
    }
  }
  m_prevClientX = 0;
  m_prevClientY = 0;
  OnDrag(e, n, o) {
    let a = this.m_prevClientX || n,
      i = this.m_prevClientY || o;
    if (
      (e.props.bEnableHTMLDrag &&
        this.m_dragOffWindowTimer &&
        window.clearTimeout(this.m_dragOffWindowTimer),
      this.m_dragGhost)
    ) {
      let r = a === void 0 ? 0 : a - (this.m_dragGhost.state.clientX ?? 0),
        u = i === void 0 ? 0 : i - (this.m_dragGhost.state.clientY ?? 0);
      if (
        (this.m_dragGhost.setState({
          clientX: a,
          clientY: i,
          clientXDelta: r,
          clientYDelta: u,
          bVisible: !0,
        }),
        e.props.bEnableHTMLDrag && (r || u))
      ) {
        let s = a + r,
          l = i + u,
          c = e.GetDragDocument().body.getBoundingClientRect();
        if (cs(a, i, c) && !cs(s, l, c, !0)) {
          let m = Qa(s, c.left, c.right, c.left - 200, c.right + 200),
            p = Qa(l, c.top, c.bottom, c.top - 100, c.bottom + 100),
            C = 50;
          this.m_dragOffWindowTimer = window.setTimeout(() => {
            e == this.m_activeDraggable && this.OnDrag(e, m, p);
          }, C);
        }
      }
    }
    let _ = this.FindBestActiveDropRegionForPoint(a, i);
    (this.m_prevClientX = n),
      (this.m_prevClientY = o),
      !!this.m_activeDropRegion != !!_ &&
        (this.ShowDragGhost(),
        this.m_dropGhost ||
          (this.m_dropGhost = this.m_activeDraggable.renderDropGhost())),
      this.m_activeDropRegion &&
        this.m_activeDropRegion != _ &&
        this.m_activeDropRegion.OnDragLeave(this.m_activeDraggable),
      _ &&
        this.m_activeDropRegion != _ &&
        _.OnDragEnter(this.m_activeDraggable, this.m_dropGhost),
      (this.m_activeDropRegion = _),
      this.m_activeDropRegion &&
        this.m_activeDropRegion.OnDragMove(a, i, this.m_activeDraggable);
  }
};
y([g], c_.prototype, "OnDragGhostRef", 1);
var Og = 5,
  Rt = class extends mt.Component {
    constructor(e) {
      super(e), $t(this);
    }
    m_DragInfo = {
      bStarted: !1,
      startClientX: void 0,
      startClientY: void 0,
      startOffsetX: void 0,
      startOffsetY: void 0,
      startWidth: void 0,
      startHeight: void 0,
      ownerWin: void 0,
    };
    m_divRef = mt.createRef();
    GetDragDocument() {
      return this.m_DragInfo.ownerWin?.document;
    }
    RecordDragStart(e, n, o) {
      (this.m_DragInfo.startClientX = n), (this.m_DragInfo.startClientY = o);
      let a = e.getBoundingClientRect();
      (this.m_DragInfo.startOffsetX = n - a.left),
        (this.m_DragInfo.startOffsetY = o - a.top),
        (this.m_DragInfo.startWidth = a.width),
        (this.m_DragInfo.startHeight = a.height),
        (this.m_DragInfo.ownerWin = e.ownerDocument.defaultView);
    }
    ProcessDragMove(e) {
      Ia("ProcessDragMove", e, this.props.data);
      let [n, o] = Fw(e);
      if (!this.m_DragInfo.bStarted)
        Math.pow(n - (this.m_DragInfo.startClientX ?? 0), 2) +
          Math.pow(o - (this.m_DragInfo.startClientY ?? 0), 2) >=
          Og * Og &&
          ((this.m_DragInfo.bStarted = !0),
          this.forceUpdate(),
          this.props.fnOnDragStart && this.props.fnOnDragStart(),
          this.props.coordinator.OnDragStart(this),
          this.props.coordinator.OnDrag(this, n, o));
      else {
        if (this.props.bEnableHTMLDrag && n == 0 && o == 0) return;
        this.props.coordinator.OnDrag(this, n, o);
      }
    }
    OnMouseDown(e) {
      !this.m_DragInfo.bStarted &&
        e.button == 0 &&
        (this.RecordDragStart(e.currentTarget, e.clientX, e.clientY),
        this.m_DragInfo.ownerWin?.addEventListener(
          "mousemove",
          this.ProcessDragMove,
        ),
        this.m_DragInfo.ownerWin?.addEventListener("mouseup", this.OnMouseUp));
    }
    OnMouseUp(e) {
      this.m_DragInfo.ownerWin?.removeEventListener(
        "mousemove",
        this.ProcessDragMove,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "mouseup",
          this.OnMouseUp,
        ),
        this.ResetDragState();
    }
    OnTouchStart(e) {
      this.m_DragInfo.bStarted ||
        (this.RecordDragStart(
          e.currentTarget,
          e.touches[0].clientX,
          e.touches[0].clientY,
        ),
        this.m_DragInfo.ownerWin?.addEventListener(
          "touchmove",
          this.ProcessDragMove,
        ),
        this.m_DragInfo.ownerWin?.addEventListener(
          "touchend",
          this.OnTouchEnd,
        ));
    }
    OnTouchEnd(e) {
      this.m_DragInfo.ownerWin?.removeEventListener(
        "touchmove",
        this.ProcessDragMove,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "touchend",
          this.OnTouchEnd,
        ),
        this.ResetDragState();
    }
    ResetDragState() {
      Ia("ResetDragState", this.props.data),
        this.m_DragInfo.bStarted &&
          (this.props.coordinator.EndDrag(),
          this.props.fnOnDragEnd && this.props.fnOnDragEnd()),
        (this.m_DragInfo.bStarted = !1),
        (this.m_DragInfo.startClientX = void 0),
        (this.m_DragInfo.startClientY = void 0),
        (this.m_DragInfo.startOffsetX = void 0),
        (this.m_DragInfo.startOffsetY = void 0),
        (this.m_DragInfo.ownerWin = void 0),
        this.forceUpdate();
    }
    OnHTMLDragStart(e) {
      Ia("HTMLDragStart", e, this.props.data, this.props.strHTMLDragData),
        (e.dataTransfer.effectAllowed = "copyMove"),
        this.props.strHTMLDragData &&
          this.props.strHTMLDragData.forEach((o, a) =>
            e.dataTransfer.setData(a, o),
          ),
        e.dataTransfer.getData("text/plain") ||
          e.dataTransfer.setData("text/plain", this.props.data.toString());
      let n = new Image();
      e.dataTransfer.setDragImage(n, 0, 0),
        this.RecordDragStart(e.currentTarget, e.clientX, e.clientY),
        this.m_DragInfo.ownerWin?.addEventListener("drag", this.OnHTMLDrag),
        this.m_DragInfo.ownerWin?.addEventListener(
          "dragend",
          this.OnHTMLDragEnd,
        );
    }
    OnHTMLDrag(e) {
      Ia("HTMLDrag", e, e.dataTransfer?.types.length), this.ProcessDragMove(e);
    }
    OnHTMLDragEnd(e) {
      Ia(
        "HTMLDragEnd",
        e,
        e.dataTransfer?.getData("text/plain") || "NOTHING",
        this.props.data,
      ),
        this.m_DragInfo.ownerWin?.removeEventListener("drag", this.OnHTMLDrag),
        this.m_DragInfo.ownerWin?.removeEventListener(
          "dragend",
          this.OnHTMLDragEnd,
        ),
        this.ResetDragState();
    }
    render() {
      let {
          coordinator: e,
          data: n,
          bEnableHTMLDrag: o,
          strHTMLDragData: a,
          fnOnDragStart: i,
          fnOnDragEnd: _,
          fnRenderDragGhost: r,
          fnRenderDropGhost: u,
          className: s,
          strActiveClassName: l,
          children: c,
          ...m
        } = this.props,
        p = {},
        C = s || "DialogDraggable";
      return (
        this.m_DragInfo.bStarted
          ? ((C = v(C, l || "DraggedOut")),
            o && (p = { onDragEnd: this.OnHTMLDragEnd }))
          : o
            ? (p = { onDragStart: this.OnHTMLDragStart })
            : (p = {
                onMouseDown: this.OnMouseDown,
                onTouchStart: this.OnTouchStart,
              }),
        (0, Ze.jsx)("div", {
          ref: this.m_divRef,
          className: C,
          ...p,
          ...m,
          draggable: o,
          children: c,
        })
      );
    }
    renderDropGhost() {
      return this.props.fnRenderDropGhost
        ? this.props.fnRenderDropGhost()
        : (0, Ze.jsx)(p_, { elContent: this.GetClone() });
    }
    renderDragGhost() {
      return this.props.fnRenderDragGhost
        ? this.props.fnRenderDragGhost()
        : (0, Ze.jsx)(H_, {
            elContent: this.GetClone(),
            offsetX: this.m_DragInfo.startOffsetX,
            offsetY: this.m_DragInfo.startOffsetY,
            width: this.m_DragInfo.startWidth,
            height: this.m_DragInfo.startHeight,
          });
    }
    GetClone() {
      let e = this.m_divRef.current,
        n;
      if (e && e.childElementCount)
        if (e.childElementCount == 1) n = e.firstElementChild.cloneNode(!0);
        else {
          n = document.createElement("div");
          for (let o = e.firstChild; o; o = o.nextSibling)
            n.appendChild(o.cloneNode(!0));
        }
      return n;
    }
  };
y([g], Rt.prototype, "ProcessDragMove", 1),
  y([g], Rt.prototype, "OnMouseDown", 1),
  y([g], Rt.prototype, "OnMouseUp", 1),
  y([g], Rt.prototype, "OnTouchStart", 1),
  y([g], Rt.prototype, "OnTouchEnd", 1),
  y([Hb], Rt.prototype, "ResetDragState", 1),
  y([g], Rt.prototype, "OnHTMLDragStart", 1),
  y([g], Rt.prototype, "OnHTMLDrag", 1),
  y([g], Rt.prototype, "OnHTMLDragEnd", 1);
var p_ = class extends mt.Component {
  OnRef(e) {
    e && this.props.elContent && e.appendChild(this.props.elContent);
  }
  render() {
    return (0, Ze.jsx)("div", {
      className: "DialogDraggable_DropGhost",
      ref: this.OnRef,
    });
  }
};
y([g], p_.prototype, "OnRef", 1);
var H_ = class extends mt.Component {
  state = {
    clientX: void 0,
    clientY: void 0,
    bVisible: !0,
    clientXDelta: void 0,
    clientYDelta: void 0,
  };
  OnRef(e) {
    e && this.props.elContent && e.appendChild(this.props.elContent);
  }
  CalculateRotationDegrees(e) {
    return !e || Math.abs(e) < 4
      ? 0
      : (e > 0 ? 7.5 : -7.5) * Math.sqrt(Math.abs(e));
  }
  render() {
    if (
      !this.state.bVisible ||
      this.state.clientX === void 0 ||
      this.state.clientY === void 0
    )
      return (0, Ze.jsx)("div", {});
    let e = {
        left: this.state.clientX - (this.props.offsetX || 0),
        top: this.state.clientY - (this.props.offsetY || 0),
        width: this.props.width || "auto",
        height: this.props.height || "auto",
        perspective: "600px",
      },
      n = Qa(
        this.CalculateRotationDegrees(this.state.clientYDelta),
        -90,
        90,
        2,
        0,
      ),
      o = {
        transform: `rotateX(${this.CalculateRotationDegrees(-1 * (this.state.clientYDelta ?? 0))}deg) rotateY( ${this.CalculateRotationDegrees(this.state.clientXDelta)}deg)`,
        transition: "transform .16s ease-out, filter .16s ease-out",
        filter: "brightness(" + n + ")",
      },
      a = this.props.className || "DialogDraggable_DragGhost";
    return (0, Ze.jsx)("div", {
      className: a,
      style: e,
      children: (0, Ze.jsx)("div", { ref: this.OnRef, style: o }),
    });
  }
};
y([g], H_.prototype, "OnRef", 1);
var ps = class extends mt.Component {
    m_divRef = mt.createRef();
    constructor(e) {
      super(e), (this.state = {});
    }
    componentDidMount() {
      this.props.coordinator.RegisterDropRegion(this);
    }
    componentWillUnmount() {
      this.props.coordinator.UnregisterDropRegion(this);
    }
    OnDragStarted(e) {
      this.setState({ bDraggableActive: !0 });
    }
    OnDragEnded(e) {
      this.setState({ bDraggableActive: !1 });
    }
    OnDragEnter(e, n) {
      this.setState({ dropGhost: n }),
        this.props.fnOnDragEnter && this.props.fnOnDragEnter(e);
    }
    OnDragLeave(e) {
      this.setState({ dropGhost: void 0 }),
        this.props.fnOnDragLeave && this.props.fnOnDragLeave(e);
    }
    OnDragMove(e, n, o) {}
    OnDrop(e) {
      this.setState({ dropGhost: void 0 }), this.props.fnOnDrop(e);
    }
    BAcceptDraggable(e) {
      return !this.props.fnBAcceptDraggable || this.props.fnBAcceptDraggable(e);
    }
    BDraggableInRegion(e, n, o) {
      return cs(e, n, this.GetClientRect());
    }
    GetElement() {
      return this.m_divRef.current;
    }
    GetClientRect() {
      return (
        this.m_divRef.current && this.m_divRef.current.getBoundingClientRect()
      );
    }
    render() {
      let {
          coordinator: e,
          fnBAcceptDraggable: n,
          fnOnDrop: o,
          fnOnDragEnter: a,
          fnOnDragLeave: i,
          className: _,
          strActiveClassName: r,
          children: u,
          focusable: s,
          containerRef: l,
          ...c
        } = this.props,
        m = v(
          _ || "DialogDropRegion",
          this.state.bDraggableActive && (r || "Active"),
        );
      return (0, Ze.jsxs)(Qt, {
        ref: $a(l, this.m_divRef),
        className: m,
        ...c,
        focusable: s === void 0 ? !!c.onClick : s,
        children: [this.state.dropGhost, u],
      });
    }
  },
  d_ = class extends ps {
    BDraggableInRegion(e, n, o) {
      let a = this.GetClientRect();
      return a
        ? e >= a.left && e <= a.right && n >= a.top - 20 && n <= a.bottom + 20
        : !1;
    }
  };
var V = b(w());
var Jt = {
  narrowWidth: "500px",
  "duration-app-launch": "800ms",
  PagedSettingsDialog: "fb--znpA9iY-",
  PagedSettingDialog_ContentColumn: "j1MmI35qVcc-",
  PagedSettingsDialog_PageListColumn: "ByZLSOXEJi8-",
  ResponsivePageList: "se2JFXkqcLA-",
  ResponsiveActivePage: "_5XW9bozMUTA-",
  PagedSettingsDialog_PageContent: "Qe9z1N90-mU-",
  NoPadding: "_25gxUTuvrIE-",
  Hidden: "PeXPE70M0-U-",
  NewNoteButton: "qrmLtG95jB0-",
  PagedSettingsDialog_Title: "vcucl2oj9Fk-",
  PagedSettingsDialog_PageList: "Tw4UqPnHT-Y-",
  PagedSettingsDialog_PageList_DisableScrolling: "_6ojc--MD434-",
  PagedSettingsDialog_PageListItem: "r3lLnZCioSI-",
  PageListItem_Icon: "fyzIFdjZ-zo-",
  PageListItem_Title: "YHbhPD53VXA-",
  DisabledItem: "_79-MLEJ4qwk-",
  Active: "kFlFNnkL7qo-",
  PageListSpacer: "msIgvzU-CxQ-",
  PageListSeparator: "Y5n0jzYJBSg-",
  Transparent: "K-hjH6eEVZs-",
  HidePageListButton: "Q4sUKE2nwwg-",
  ReturnToPageListButton: "Vr19V2RKWC8-",
};
var re = b(H()),
  Gw = "separator",
  jw = "spacer",
  Ea = class {
    constructor() {
      $t(this);
    }
    m_flPageListScrollTop = 0;
    m_flPageScrollTop = 0;
  };
y([Xt], Ea.prototype, "m_flPageListScrollTop", 2),
  y([Xt], Ea.prototype, "m_flPageScrollTop", 2);
var eo = class eo {
  static s_Instance;
  static Get() {
    return eo.s_Instance || (eo.s_Instance = new eo()), eo.s_Instance;
  }
  constructor() {
    $t(this);
  }
  m_setPagedSettingsInstances = new Set();
};
y([Xt], eo.prototype, "m_setPagedSettingsInstances", 2);
var y_ = eo;
function Uw(t) {
  let {
      stylesheet: e,
      pages: n,
      iActivePage: o,
      onPageSelected: a,
      PageListItemComponent: i = Vw,
      PageListSeparatorComponent: _ = Ww,
    } = t,
    r = V.useContext(g_);
  return n.map((u, s) => {
    let l = s === o;
    if (u === Gw) {
      let c = s === o + 1 || s === o - 1;
      return (0, re.jsx)(_, { role: "separator", bTransparent: c }, s);
    } else {
      if (u === jw)
        return (0, re.jsx)("div", { className: Jt.PageListSpacer }, s);
      {
        if (u.visible === !1) return null;
        let c = u.identifier || u.title || s.toString(),
          m = () => a(s, u);
        return (0, re.jsx)(
          i,
          {
            className: v(e.PagedSettingsDialog_PageListItem, { [e.Active]: l }),
            onClick: m,
            title: u.title,
            icon: u.icon,
            active: l,
            id: r + u.identifier,
            role: "tab",
            "aria-selected": l,
            "aria-controls": r + u.identifier + "_Content",
          },
          c,
        );
      }
    }
  });
}
function Vw(t) {
  let { title: e, icon: n, active: o, className: a, onClick: i, ..._ } = t;
  return (0, re.jsxs)("div", {
    className: a,
    onClick: i,
    ..._,
    children: [
      n
        ? (0, re.jsx)("div", { className: Jt.PageListItem_Icon, children: n })
        : null,
      (0, re.jsx)("div", {
        className: Jt.PageListItem_Title,
        ..._,
        children: e,
      }),
    ],
  });
}
var Fg = V.forwardRef(function (e, n) {
  let { activePage: o, style: a, stylesheet: i } = e,
    _ = V.useContext(g_),
    r = o?.padding ?? "standard";
  return (0, re.jsxs)(is, {
    style: a,
    className: v(
      i?.PagedSettingsDialog_PageContent,
      o?.pageClassName,
      r == "none" && i?.NoPadding,
    ),
    refElem: n,
    role: "tabpanel",
    "aria-labelledby": _ + o?.identifier,
    id: _ + o?.identifier + "_Content",
    children: [
      o?.header,
      !o?.hideTitle && (0, re.jsx)(s_, { children: o?.title }),
      (0, re.jsx)(Le, { children: o?.content }),
    ],
  });
});
function Ww(t) {
  let { bTransparent: e, className: n, ...o } = t;
  return (0, re.jsx)("div", {
    className: v(n, Jt.PageListSeparator, { [Jt.Transparent]: e }),
    ...o,
  });
}
var g_ = V.createContext(void 0),
  Gg = V.forwardRef(function (e, n) {
    let { stylesheet: o = Jt, pages: a, onPageRequested: i } = e,
      _ = V.useId(),
      r = e.page == null,
      [u, s] = V.useState(() =>
        e.startingPage === void 0
          ? -1
          : a.findIndex(
              (he) => typeof he == "object" && he.identifier === e.startingPage,
            ),
      ),
      l = u;
    r ||
      (l = a.findIndex(
        (he) => typeof he == "object" && he.identifier === e.page,
      )),
      (l < 0 || l >= a.length) && (l = 0);
    let c = null;
    typeof a[l] == "object" && (c = a[l]);
    let m = V.useRef(null),
      p = V.useCallback(() => m.current?.TakeFocus() || !1, [m]),
      [C, h] = V.useState(!1),
      M = C ? p : void 0,
      L = V.useCallback((he) => {
        he && h(!0);
      }, []),
      T = V.useCallback(
        (he, zn) => {
          h(!0),
            _t.PlayNavSound(15),
            i && i(zn.identifier),
            zn.click ? zn.click() : r && s(he);
        },
        [r, i],
      ),
      Z = V.useRef(null),
      X = (he) => {
        he.detail.button == 1 && Z.current?.TakeFocus(he.detail.button);
      },
      be = e.showTitle ?? !0,
      Se = v("DialogContentTransition", o.PagedSettingDialog_ContentColumn);
    V.useEffect(() => {
      e.bAutoFocusPageContent && Z.current?.TakeFocus();
    }, []);
    let { refForPageList: qe, refForPage: Te } = Jw();
    return (0, re.jsx)(g_.Provider, {
      value: _,
      children: (0, re.jsxs)(D, {
        className: v(o.PagedSettingsDialog, e.className),
        ref: n,
        children: [
          (0, re.jsxs)(D, {
            className: v(
              o.PagedSettingsDialog_PageListColumn,
              e.hideList && Jt.Hidden,
              "PageListColumn",
            ),
            navRef: m,
            onButtonDown: X,
            onFocusWithin: L,
            children: [
              be &&
                (0, re.jsx)("div", {
                  className: o.PagedSettingsDialog_Title,
                  children: e.title,
                }),
              e.topControls && (0, re.jsx)("div", { children: e.topControls }),
              (0, re.jsx)(D, {
                className: v(
                  o.PagedSettingsDialog_PageList,
                  e.disablePageListScrolling &&
                    o.PagedSettingsDialog_PageList_DisableScrolling,
                  be && o.PagedSettingsDialog_PageList_ShowTitle,
                  e.bNoHeaderPadding &&
                    o.PageSettingsDialog_PageList_NoHeaderPadding,
                ),
                role: "tablist",
                "aria-orientation": "vertical",
                navEntryPreferPosition: 4,
                ref: qe,
                children: (0, re.jsx)(Uw, {
                  stylesheet: o,
                  pages: a,
                  iActivePage: l,
                  onPageSelected: T,
                  PageListItemComponent: e.PageListItemComponent,
                  PageListSeparatorComponent: e.PageListSeparatorComponent,
                }),
              }),
              e.bottomControls &&
                (0, re.jsx)("div", { children: e.bottomControls }),
            ],
          }),
          (0, re.jsxs)(D, {
            className: Se,
            onCancelButton: M,
            navRef: Z,
            children: [
              e.toggleHideList &&
                (0, re.jsx)(Kw, {
                  hideList: e.hideList,
                  toggleHideList: e.toggleHideList,
                }),
              e.renderPageContent
                ? e.renderPageContent(c, Te, Fg)
                : (0, re.jsx)(Fg, { ref: Te, activePage: c, stylesheet: o }),
            ],
          }),
        ],
      }),
    });
  });
var qw = V.createContext(!1);
var U1 = V.memo(function (e) {
  let {
      isActive: n,
      refForPage: o,
      page: a,
      PageComponent: i,
      stylesheet: _,
    } = e,
    r = V.useContext(g_),
    u = V.useRef(!1);
  if (!n && !u.current) return null;
  u.current = !0;
  let s = n ? void 0 : { display: "none" };
  return (0, re.jsx)(qw.Provider, {
    value: n,
    children: (0, re.jsx)(i, {
      ref: o,
      style: s,
      activePage: a,
      stylesheet: _,
      role: "tabpanel",
      "aria-labelledby": r + a.identifier,
      id: r + a.identifier + "_Content",
    }),
  });
});
function Kw(t) {
  let { hideList: e, toggleHideList: n } = t;
  return (0, re.jsx)("div", {
    className: v(Jt.HidePageListButton, e && Jt.ListHidden),
    onClick: n,
    children: e
      ? (0, re.jsx)(U_, { direction: "right" })
      : (0, re.jsx)(U_, { direction: "left" }),
  });
}
function Jw() {
  let t = V.useMemo(() => new Ea(), []);
  V.useEffect(
    () => (
      y_.Get().m_setPagedSettingsInstances.add(t),
      () => {
        y_.Get().m_setPagedSettingsInstances.delete(t);
      }
    ),
    [t],
  );
  let e = V.useCallback(
      (s) => (t.m_flPageListScrollTop = s.currentTarget.scrollTop),
      [t],
    ),
    n = V.useCallback(
      (s) => (t.m_flPageScrollTop = s.currentTarget.scrollTop),
      [t],
    ),
    o = B_("scroll", e),
    a = B_("scroll", n),
    i = V.useCallback(
      (s) => (t.m_flPageListScrollTop = s?.scrollTop ?? 0),
      [t],
    ),
    _ = V.useCallback((s) => (t.m_flPageScrollTop = s?.scrollTop ?? 0), [t]),
    r = at(o, i),
    u = at(a, _);
  return { refForPageList: r, refForPage: u };
}
var C_ = b(w());
var jg = b(H()),
  Dn = class extends C_.Component {
    m_refTextArea = C_.createRef();
    m_nTextAreaPadding;
    m_cEntryLength = Number.MAX_VALUE;
    get textarea() {
      return this.m_refTextArea.current;
    }
    get value() {
      return this.m_refTextArea.current?.value;
    }
    focus() {
      this.m_refTextArea.current?.focus();
    }
    InternalOnInput() {
      let e = this.m_refTextArea.current,
        n = this.GetMinHeight(),
        o = this.GetMaxHeight(),
        a,
        i = e.value.length;
      if (
        (this.m_nTextAreaPadding === void 0 && this.CalculatePadding(),
        i < this.m_cEntryLength &&
          ((a = window.scrollY), (e.style.height = n + "px")),
        e.scrollHeight > o)
      )
        (e.style.height = o + "px"), (e.style.overflow = "auto");
      else if (e.scrollHeight != e.clientHeight) {
        let _ = Math.max(e.scrollHeight, n);
        (e.style.height = _ - this.m_nTextAreaPadding + "px"),
          e.style.overflow == "auto" && (e.style.overflow = "hidden");
      }
      a !== void 0 && window.scrollTo(window.scrollX, a),
        (this.m_cEntryLength = i);
    }
    CalculatePadding() {
      let e = getComputedStyle(this.m_refTextArea.current);
      this.m_nTextAreaPadding =
        e.boxSizing == "border-box"
          ? 0
          : parseFloat(e.paddingTop) + parseFloat(e.paddingBottom);
    }
    GetMinHeight() {
      return this.props.nMinHeight || 20;
    }
    GetMaxHeight() {
      return this.props.nMaxHeight || 500;
    }
    DeferredInternalOnInput() {
      window.setTimeout(this.InternalOnInput, 1);
    }
    OnKeyUp(e) {
      this.InternalOnInput(), this.props.onKeyUp && this.props.onKeyUp(e);
    }
    OnBlur(e) {
      this.DeferredInternalOnInput(), this.props.onBlur && this.props.onBlur(e);
    }
    OnClick(e) {
      this.InternalOnInput(), this.props.onClick && this.props.onClick(e);
    }
    OnPaste(e) {
      this.DeferredInternalOnInput(),
        this.props.onPaste && this.props.onPaste(e);
    }
    OnCut(e) {
      this.InternalOnInput(), this.props.onCut && this.props.onCut(e);
    }
    componentDidMount() {
      (this.m_refTextArea.current.style.overflow = "hidden"),
        (this.m_refTextArea.current.style.resize = "none"),
        this.InternalOnInput();
    }
    componentDidUpdate(e) {
      (e.nMinHeight != this.props.nMinHeight ||
        e.nMaxHeight != this.props.nMaxHeight) &&
        (this.m_cEntryLength = Number.MAX_VALUE),
        this.m_refTextArea.current?.value.length != this.m_cEntryLength &&
          this.InternalOnInput();
    }
    render() {
      let { nMinHeight: e, nMaxHeight: n, ...o } = this.props;
      return (0, jg.jsx)(cb, {
        ...o,
        ref: this.m_refTextArea,
        onKeyUp: this.OnKeyUp,
        onBlur: this.OnBlur,
        onClick: this.OnClick,
        onPaste: this.OnPaste,
        onCut: this.OnCut,
      });
    }
  };
y([g], Dn.prototype, "InternalOnInput", 1),
  y([g], Dn.prototype, "OnKeyUp", 1),
  y([g], Dn.prototype, "OnBlur", 1),
  y([g], Dn.prototype, "OnClick", 1),
  y([g], Dn.prototype, "OnPaste", 1),
  y([g], Dn.prototype, "OnCut", 1);
var et = b(w());
var x = {
  "duration-app-launch": "800ms",
  narrowWidth: "500px",
  GamepadDialogContent: "hphqAIPfg2M-",
  GamepadDialogContent_InnerWidth: "LnWFhQhlcNM-",
  Field: "u6UxwRzex6Y-",
  Button: "n2lNcrU1FOA-",
  NoMinWidth: "FWT-g2SKMM0-",
  ActiveAndUnfocused: "sLya3q2VeV4-",
  StandaloneFieldSeparator: "N0nsIkWClzg-",
  StandardPadding: "Z0am8Dm2jfA-",
  CompactPadding: "XguX0XZI9XA-",
  WithDescription: "hiDXWuue9Ng-",
  WithBottomSeparatorStandard: "AXmVytBQVxA-",
  WithBottomSeparatorThick: "kW0log3-ANI-",
  HighlightOnFocus: "hYZwQTmms04-",
  Clickable: "_046KFlpPhi4-",
  Disabled: "N7wH4pXSFNg-",
  WithBottomSeparator: "_0AzPckEBOD4-",
  "ItemFocusAnim-darkerGrey": "arvRRZ9-C9Y-",
  "ItemFocusAnim-darkGrey": "_9jyy72RowfQ-",
  FieldChildrenWithIcon: "saFoLyssBQo-",
  FieldChildrenInner: "y-N79TWWLB0-",
  FieldClickTarget: "NeJGNNDdkHM-",
  FieldIcon: "_6lnixjah-90-",
  Front: "zh7sbd-UiyU-",
  BeforeChildren: "I9bIyopp1uc-",
  FieldLabelRow: "L9bBFKETjDc-",
  VerticalAlignCenter: "R74QljenKiQ-",
  InlineWrapShiftsChildrenBelow: "GKP4TEGtYjE-",
  ExtraPaddingOnChildrenBelow: "DsyywImFP3g-",
  ChildrenWidthFixed: "aiMxPe7cnx8-",
  ChildrenWidthGrow: "XE9DTUy61Jk-",
  WithFirstRow: "ApU36qw6S8o-",
  WithChildrenBelow: "IbvehGFvqy0-",
  FieldLabel: "HzfVYZAQM1I-",
  FieldLabelValue: "HOM-11Jf2cw-",
  FieldDescription: "_5BLJdCp0mew-",
  ModalPosition: "eGUcXf9qmGo-",
  VR: "jLL34-DFetc-",
  WithStandardPadding: "_0pzkMgnBDek-",
  NoHeaderPadding: "thcCErzFlaA-",
  ModalClickToDismiss: "BO2jqunP5fQ-",
  slideInAnimation: "UM0fZCgqJds-",
  ScrollWithin: "A-yiOzX2zo8-",
  BasicTextInput: "IkgK3r9TyY4-",
  Toggle: "QaOnAvj7KDc-",
  ToggleRail: "gqoU6kzzga0-",
  On: "WszZCY9cJuU-",
  ToggleSwitch: "m-ViVI3jM2c-",
  LabelFieldValue: "xx9P2lluZR4-",
  DropDownControlButtonContents: "_4wpsx4CUbWY-",
  DropDownRow: "AtvTnUalXdo-",
  IconContainer: "-TYBSdzS9vM-",
  Label: "_2mNIgxcZZ6U-",
  ControlsListOuterPanel: "-D54syxDRFE-",
  StandardSpacing: "m-e4YJsJZjs-",
  ExtraSpacing: "Z6JwpLpx6PI-",
  ItemMaxSizeDesktop: "RzL4-TdmlAA-",
  AlignRight: "pmJ7XNli6U4-",
  AlignLeft: "gjnbAGxS0yc-",
  AlignCenter: "PDaSRT8ViFo-",
  FullWidth: "GSk7FKAGFT4-",
  ControlsListChild: "h4Ytu5NGGqM-",
  "QuickAccess-Menu": "dpQ3XFHsodk-",
  BottomButtons: "RdkTX3BYU54-",
  TextareaWrapper: "X25Qp11Ngnw-",
  Textarea: "dd4R06-lKvI-",
  BackgroundAnimation: "HN-1eGY9Nmo-",
  "ItemFocusAnim-darkerGrey-nocolor": "_4ZiGgSYhigE-",
  "ItemFocusAnim-grey": "_0vm28U-NXYE-",
  "ItemFocusAnim-translucent-white-10": "Omlo74OCNh4-",
  "ItemFocusAnim-translucent-white-20": "_4y-sz5WDrKM-",
  "ItemFocusAnimBorder-darkGrey": "yVxuhcF-Jqo-",
  "ItemFocusAnim-green": "DGu9xeM67Ec-",
  focusAnimation: "AUSFtgMHqZk-",
  hoverAnimation: "_---TIKL-l4M-",
};
var Oa = b(w());
var ys = b(w());
var ds = b(H());
async function Yw(t, e, n) {
  let o = No(e),
    a = n?.bForcePopOut || Vg(o);
  pe(
    !(a && n?.bNeverPopOut),
    "Conflicting popout options; will ignore bNeverPopOut",
  );
  let i = !a && n?.bNeverPopOut === !0,
    _ = Vg(o) || (!i && qg(o, e)),
    r = a && n?.popupWidth && n?.popupHeight,
    u;
  if (_ && !r) {
    let l = ys.cloneElement(t, { closeModal: () => {} });
    u = await Qw(o, l, n?.promiseRenderComplete);
  }
  let s = u && u.height / e.innerHeight < 0.9 && u.width / e.innerWidth < 0.8;
  if (i || (!a && s)) return Ug(t, e, void 0, { fnOnClose: n?.fnOnClose });
  {
    let l = {
        strTitle: n?.strTitle || O("#Dialog_DefaultWindowTitle"),
        fnOnClose: n?.fnOnClose,
        popupWidth: n?.popupWidth || u?.width,
        popupHeight: n?.popupHeight || u?.height,
        bHideMainWindowForPopouts: n?.bHideMainWindowForPopouts,
        className: n?.className,
      },
      c = { bHideActions: n?.bHideActionIcons },
      m = n?.browserContext || e.browserInfo;
    return Ug(t, e, l.strTitle, l, m, c, o);
  }
}
async function Wg(t, e, n) {
  return Yw(t, e, { bHideMainWindowForPopouts: !0, ...n });
}
function Ug(t, e, n, o, a, i, _) {
  let r,
    u,
    s = t.props.closeModal,
    l = () => {
      u && u.Close(), s && s(), o?.fnOnClose && o.fnOnClose();
    },
    c = () => {
      r && r.Close(), l();
    },
    m = ys.cloneElement(t, { closeModal: c });
  if (((_ = _ || No(e)), qg(_, e) && o && n)) {
    if (o.bHideMainWindowForPopouts) {
      let C = (0, ds.jsx)(Yn, {
        className: "Hidden",
        onEscKeypress: m.props.bDisableBackgroundDismiss ? void 0 : c,
        children: (0, ds.jsx)("div", {}),
      });
      u = _.ShowModal(C);
    }
    let p = { ...o, fnOnClose: l, browserContext: a };
    r = _.ShowLegacyPopupModal(n, m, p, i);
  } else r = _.ShowModal(m);
  return r;
}
function qg(t, e) {
  return (t = t || No(e || window)), Q.USE_POPUPS && t.BUsePopups();
}
function Vg(t) {
  return t.BOnlyPopups && t.BOnlyPopups();
}
async function Qw(t, e, n) {
  return new Promise((o, a) => {
    t.RequestModalMeasure(e, o, n);
  });
}
var gs = b(w());
var Cs = b(H()),
  Kg = gn((t) => {
    let { onCancel: e, closeModal: n, bOKDisabled: o, onOK: a } = t,
      i = Ee();
    pe(
      n || e,
      `Either closeModal or onCancel should be passed to GenericDialog. Classes: ${t.className} ${t.modalClassName}`,
    );
    let _ = gs.useCallback(() => {
        (e && e()) || (n && n());
      }, [e, n]),
      r = gs.useCallback(async () => {
        o || (a && (await a()), n && n());
      }, [o, a, n]);
    return (0, Cs.jsx)(Yn, {
      onEscKeypress: _,
      className: t.modalClassName,
      bDestructiveWarning: t.bDestructiveWarning,
      bDisableBackgroundDismiss: t.bDisableBackgroundDismiss,
      bHideCloseIcon: t.bHideCloseIcon,
      children: (0, Cs.jsx)(Mg, {
        classNameContent: v(
          "GenericConfirmDialog",
          t.bAllowFullSize && "DialogContentFullSize",
          t.className,
        ),
        onSubmit: r,
        bCenterVertically: !i,
        children: t.children,
      }),
    });
  });
var Be = b(H());
var Fo = class extends Oa.Component {
  Cancel(e) {
    return () => {
      e && e(), this.props.closeModal && this.props.closeModal();
    };
  }
  render() {
    let {
        strTitle: e,
        strDescription: n,
        strOKButtonText: o,
        strCancelButtonText: a,
        onGamepadCancel: i,
        strMiddleButtonText: _,
        onMiddleButton: r,
        bAlertDialog: u,
        children: s,
        ...l
      } = this.props,
      c = o || O("#Button_Close"),
      m = (0, Be.jsx)(xg, {
        bOKDisabled: this.props.bOKDisabled,
        bCancelDisabled: this.props.bCancelDisabled,
        strOKText: o,
        onCancel: this.Cancel(this.props.onCancel),
        strCancelText: a,
      });
    return (
      u
        ? (m = (0, Be.jsx)(Da, { children: c }))
        : r &&
          (m = (0, Be.jsx)(Tg, {
            bOKDisabled: this.props.bOKDisabled,
            bCancelDisabled: this.props.bCancelDisabled,
            strOKText: o,
            onCancel: this.Cancel(this.props.onCancel),
            strCancelText: a,
            onUpdate: () => {
              r(), this.props.closeModal && this.props.closeModal();
            },
            strUpdateText: _,
            bUpdateDisabled: this.props.bMiddleDisabled,
          })),
      (0, Be.jsxs)(Kg, {
        ...l,
        children: [
          (0, Be.jsxs)(s_, {
            children: [
              " ",
              e || (0, Be.jsx)(Be.Fragment, { children: " " }),
              " ",
            ],
          }),
          (0, Be.jsxs)(Pg, {
            onCancelButton: this.Cancel(i || this.props.onCancel),
            children: [
              (0, Be.jsxs)(Rg, { children: [n, s] }),
              (0, Be.jsx)(Sg, { children: m }),
            ],
          }),
        ],
      })
    );
  }
};
Fo = y([gn], Fo);
var h_ = class extends Oa.Component {
  render() {
    let e = {
      strTitle: O("#Error_FailureNotice"),
      strDescription: O("#Error_GenericFailureDescription"),
      bAlertDialog: !0,
      bDestructiveWarning: !0,
      onOK: () => {},
      onCancel: () => {},
      ...this.props,
    };
    return (0, Be.jsx)(Fo, { ...e });
  }
};
h_ = y([gn], h_);
var Na = class extends Oa.Component {
  render() {
    let e = {
      onOK: () => {},
      onCancel: () => {},
      bAlertDialog: !0,
      ...this.props,
    };
    return (
      (e.strDescription = (0, Be.jsxs)("span", {
        style: { whiteSpace: "pre-line" },
        children: [" ", e.strDescription, " "],
      })),
      (0, Be.jsx)(Fo, { ...e })
    );
  }
};
Na = y([gn], Na);
function Jg(t, e, n) {
  Wg((0, Be.jsx)(Na, { strTitle: t, strDescription: e }), n);
}
var Ae = b(H());
function Yg(t) {
  return t ? t + "_Label" : void 0;
}
function Qg(t) {
  return t ? t + "_Description" : void 0;
}
function Fa(t, e) {
  let { label: n, description: o } = e;
  return {
    "aria-labelledby": n ? Yg(t) : void 0,
    "aria-describedby": o ? Qg(t) : void 0,
  };
}
var Go = et.forwardRef(function (e, n) {
  let {
      accessibilityId: o,
      label: a,
      description: i,
      icon: _,
      children: r,
      childrenLayout: u,
      inlineWrap: s,
      childrenContainerWidth: l,
      spacingBetweenLabelAndChild: c,
      padding: m,
      disabled: p,
      bottomSeparator: C,
      className: h,
      highlightOnFocus: M,
      indentLevel: L,
      verticalAlignment: T,
      iconLocation: Z,
      tooltip: X,
      explainer: be,
      explainerTitle: Se,
      ...qe
    } = e,
    Te = Ee(),
    he = u ?? "inline",
    zn = Z ?? "front",
    S_ = zn == "front" && !!_,
    R_ = zn == "before-children" && !!_,
    Ua = he == "inline" && !!r,
    Va = he == "below" && !!r,
    P_ = s ?? (Te ? "shift-children-below" : "keep-inline"),
    Uo = !!(qe.onClick || qe.onActivate || qe.focusable),
    Vo = (_ != null && S_) || a != null || (Ua && r != null),
    no = l ?? "min",
    Wa = c ?? "standard",
    qa = m ?? "standard",
    Ka = C ?? "standard",
    M_ = M ?? !0,
    Ja = L ?? 0,
    Ya = T ?? "center",
    Bn = Xw(Se ?? a, be),
    oo = et.useRef(),
    ao = at(oo, e.navRef),
    A_ = et.useCallback(
      (io) => {
        oo.current?.TakeFocus(), io.preventDefault();
      },
      [oo],
    );
  return (0, Ae.jsxs)(D, {
    focusable: Uo,
    noFocusRing: !0,
    scrollIntoViewWhenChildFocused: !0,
    onActivate: qe.onClick ? (io) => qe.onClick?.(io) : void 0,
    ref: n,
    onMouseDown: Uo ? void 0 : A_,
    ...qe,
    ...Bn,
    navRef: ao,
    className: v(
      h,
      x.Field,
      p && x.Disabled,
      Vo && x.WithFirstRow,
      Ua && x.WithChildrenInline,
      Va && x.WithChildrenBelow,
      Ya == "center" && x.VerticalAlignCenter,
      P_ == "shift-children-below" && x.InlineWrapShiftsChildrenBelow,
      !!i && x.WithDescription,
      Ka == "standard" && x.WithBottomSeparatorStandard,
      Ka == "thick" && x.WithBottomSeparatorThick,
      no == "fixed" && x.ChildrenWidthFixed,
      no == "max" && x.ChildrenWidthGrow,
      Wa == "standard" && x.ExtraPaddingOnChildrenBelow,
      qa == "standard" && x.StandardPadding,
      qa == "compact" && x.CompactPadding,
      Uo && x.Clickable,
      M_ && x.HighlightOnFocus,
    ),
    style: { "--indent-level": Ja },
    children: [
      Vo &&
        (0, Ae.jsxs)("div", {
          className: x.FieldLabelRow,
          children: [
            (0, Ae.jsxs)("div", {
              className: x.FieldLabel,
              id: Yg(o),
              children: [
                S_ &&
                  (0, Ae.jsx)("div", {
                    className: v(x.FieldIcon, x.Front),
                    children: _,
                  }),
                a,
                X && (0, Ae.jsx)(un, { tooltip: X }),
              ],
            }),
            Ua &&
              (0, Ae.jsxs)("div", {
                className: x.FieldChildrenWithIcon,
                children: [
                  R_ &&
                    (0, Ae.jsx)("div", {
                      className: v(x.FieldIcon, x.BeforeChildren),
                      children: _,
                    }),
                  (0, Ae.jsx)("div", {
                    className: x.FieldChildrenInner,
                    children: r,
                  }),
                ],
              }),
          ],
        }),
      Va &&
        (0, Ae.jsxs)("div", {
          className: x.FieldChildrenWithIcon,
          children: [
            R_ &&
              (0, Ae.jsx)("div", {
                className: v(x.FieldIcon, x.BeforeChildren),
                children: _,
              }),
            (0, Ae.jsx)("div", {
              className: x.FieldChildrenInner,
              children: r,
            }),
          ],
        }),
      i &&
        (0, Ae.jsx)("div", {
          className: x.FieldDescription,
          id: Qg(o),
          children: i,
        }),
    ],
  });
});
function Xw(t, e) {
  let n = Xe(),
    o = et.useCallback(() => {
      Jg(t, e, n.ownerWindow ?? window);
    }, [n, t, e]);
  if (e == null) return {};
  let a = O("#Field_MoreInfo_Action");
  return { onOptionsButton: o, onOptionsActionDescription: a };
}
function $w(t, e, n = ["label", "button"]) {
  let o = et.useId(),
    a = Fa(t, e),
    i = { id: o, "aria-labelledby": "" };
  return (
    (i["aria-labelledby"] = n
      .map((_) => (_ == "button" ? o : a["aria-labelledby"]))
      .join(" ")),
    (i["aria-describedby"] = a["aria-describedby"]),
    i
  );
}
var TG = et.forwardRef(function (e, n) {
    let {
        label: o,
        description: a,
        explainer: i,
        icon: _,
        layout: r,
        disabled: u,
        onActivate: s,
        bottomSeparator: l,
        highlightOnFocus: c,
        childrenContainerWidth: m,
        padding: p,
        inlineWrap: C,
        fieldClassName: h,
        fieldChildren: M,
        accessibilityNameOrder: L,
        ...T
      } = e,
      { refWithValue: Z, refForElement: X } = z_(n),
      be = et.useId(),
      Se = $w(be, e, L);
    return (0, Ae.jsxs)(Go, {
      accessibilityId: be,
      label: o,
      description: a,
      icon: _,
      bottomSeparator: l,
      highlightOnFocus: c,
      childrenLayout: r ?? "inline",
      childrenContainerWidth: m ?? "min",
      onMouseDown: (Te) => {
        Z.current?.focus(), Te.preventDefault();
      },
      padding: p,
      inlineWrap: C,
      explainer: i,
      className: h,
      disabled: u,
      onActivate: u ? s : void 0,
      children: [(0, Ae.jsx)(wt, { ...T, ...Se, disabled: u, ref: X }), M],
    });
  }),
  Xg = et.forwardRef(function (e, n) {
    let {
        label: o,
        description: a,
        icon: i,
        layout: _,
        bottomSeparator: r,
        highlightOnFocus: u,
        ...s
      } = e,
      { refWithValue: l, refForElement: c } = z_(n),
      m = et.useId();
    return (0, Ae.jsx)(Go, {
      accessibilityId: m,
      label: o,
      description: a,
      icon: i,
      bottomSeparator: r,
      highlightOnFocus: u,
      childrenLayout: _ ?? "inline",
      childrenContainerWidth: "fixed",
      onMouseDown: (C) => {
        l.current?.element?.focus(), C.preventDefault();
      },
      children: (0, Ae.jsx)($n, { ...s, ref: c }),
    });
  });
var Zg = b(w());
var ve = b(w());
var mn = {
  narrowWidth: "500px",
  "duration-app-launch": "800ms",
  PagedSettingsDialog: "Syc5CEejpCs-",
  PagedSettingsDialog_PageContent: "spl7ARNTMuI-",
  NoPadding: "JE-edA2AHZU-",
  PagedSettingsDialog_PageListColumn: "_7w8xPpmaJYI-",
  PagedSettingsDialog_Title: "IkEy5ScXPLA-",
  PagedSettingsDialog_PageList: "_05n8dH6yzlk-",
  PagedSettingsDialog_PageList_DisableScrolling: "kCFp7ufol-Q-",
  PagedSettingsDialog_PageList_ShowTitle: "_6MMl04DZdyk-",
  PageSettingsDialog_PageList_NoHeaderPadding: "B77h1ty4tmw-",
  PagedSettingsDialog_PageListItem: "meSl50NBW8s-",
  DisabledItem: "CIL35Lmv31Y-",
  Active: "_7HVRI1bmcvY-",
  "ItemFocusAnim-darkerGrey": "vn2pzERIjAA-",
  "ItemFocusAnim-darkGrey": "_3-IWLVbzoio-",
  PageListItem_Icon: "yzO7X4cm1OE-",
  PageListItem_Title: "TVggJx59aXM-",
  Separator: "ALQx3i1U-SY-",
  PagedSettingDialog_ContentColumn: "dC8z7R4w4eU-",
  Up: "pO-epRkhPx8-",
  ContentTransition: "UWiPLueCfHo-",
  Enter: "KB1G8hQC1Z0-",
  EnterActive: "_8NY5W7Wocgo-",
  Exit: "lwgKtPYHcKg-",
  ExitActive: "RI6Chi7gF-s-",
  Down: "U7gwOwC0auU-",
  BackgroundAnimation: "ELqxp2DLKF8-",
  "ItemFocusAnim-darkerGrey-nocolor": "o0VXPmdxuUc-",
  "ItemFocusAnim-grey": "_7kx878X5F4U-",
  "ItemFocusAnim-translucent-white-10": "_47U-YjIajBc-",
  "ItemFocusAnim-translucent-white-20": "T7MuEoxoS4g-",
  "ItemFocusAnimBorder-darkGrey": "rEWG7AndCQc-",
  "ItemFocusAnim-green": "FMEBbK-Sl-8-",
  focusAnimation: "_08jd-D3p5XU-",
  hoverAnimation: "P1X-i3YFXCU-",
};
var Et = b(H()),
  $g = ve.createContext(null);
function Zw(t) {
  let e = ve.useContext($g),
    o = db().IN_VR,
    { title: a, icon: i, active: _, ...r } = t;
  return (0, Et.jsxs)(D, {
    preferredFocus: _,
    navRef: _ && e ? e : void 0,
    noFocusRing: !0,
    onActivate: o ? void 0 : r.onClick,
    onFocus: o ? void 0 : r.onClick,
    ...r,
    children: [
      i && (0, Et.jsx)("div", { className: mn.PageListItem_Icon, children: i }),
      (0, Et.jsx)("div", { className: mn.PageListItem_Title, children: a }),
    ],
  });
}
function eS(t) {
  let { bTransparent: e, className: n, ...o } = t;
  return (0, Et.jsx)("div", { className: v(n, mn.Separator), ...o });
}
var tS = ve.forwardRef(function (e, n) {
  let { page: o, bAutoFocusPageContent: a, showTitle: i = !1 } = e,
    _ = ve.useRef(null),
    r = ve.useRef(!0);
  ve.useEffect(() => {
    (!r.current || !a) && _.current?.TakeFocus(), (r.current = !1);
  }, [o, a]);
  let u = (s, l, c) =>
    (0, Et.jsx)(nS, {
      pages: e.pages,
      activePage: s,
      refForPage: l,
      PageComponent: c,
    });
  return (0, Et.jsx)($g.Provider, {
    value: _,
    children: (0, Et.jsx)(Gg, {
      ...e,
      stylesheet: mn,
      showTitle: i,
      PageListItemComponent: Zw,
      PageListSeparatorComponent: eS,
      renderPageContent: e.renderPageContent || u,
    }),
  });
});
function nS(t) {
  let { pages: e, activePage: n, refForPage: o, PageComponent: a } = t,
    i = ve.useMemo(() => e.findIndex((s) => s == n), [e, n]),
    _ = oS(i),
    r = aS(n?.identifier, o),
    u = By(mn, _);
  return (0, Et.jsx)(Ji, {
    childrenKey: n?.identifier,
    childrenClasses: Yi(mn, mn.ContentTransition),
    directionClass: u,
    animate: _ != 0,
    children:
      n &&
      (0, Et.jsx)(
        a,
        { ref: r(n.identifier), stylesheet: mn, activePage: n },
        n.identifier,
      ),
  });
}
function oS(t) {
  let e = ve.useRef(t),
    n = ve.useRef(0),
    o = e.current;
  if (o == t) return n.current;
  let a = 0;
  return (
    o < t ? (a = 4) : o > t && (a = 3), (e.current = t), (n.current = a), a
  );
}
function aS(t, e) {
  let n = ve.useMemo(() => new Map(), []),
    o = ve.useRef();
  o.current = t;
  let a = ve.useRef();
  a.current = e;
  let i = ve.useCallback(
    (_) => (r) => {
      n.set(_, r), _ === o.current && Nn(a.current, r);
    },
    [n],
  );
  return (
    ve.useEffect(() => (Nn(e, t && n.get(t)), () => Nn(e, void 0)), [n, t, e]),
    i
  );
}
var eC = b(H()),
  YG = Zg.forwardRef(function (e, n) {
    return (0, eC.jsx)(co, {
      noFocusRing: !0,
      ...e,
      ref: n,
      className: v(x.BasicTextInput, e.className),
      size: e.size ?? 1,
    });
  });
var Ga = b(w());
var nC = {
  "duration-app-launch": "800ms",
  DropDownControlButton: "SN62O1Nd2Uc-",
};
var Ge = b(H());
function oC(t, e) {
  for (let n of t.options)
    if ((bn(n) && n.data === e) || (Kt(n) && oC(n, e))) return !0;
  return !1;
}
function hs(t) {
  let e = (n) =>
    n?.map((o, a) =>
      Zn(o)
        ? (0, Ge.jsx)(Eb, {}, a)
        : bn(o)
          ? (0, Ge.jsx)(
              go,
              {
                role: "listitem",
                onSelected: (i) => t.onValueSelected && t.onValueSelected(i, o),
                selected: t.selectedValue === o.data,
                children: (0, Ge.jsx)(Ge.Fragment, { children: o.label }),
              },
              a,
            )
          : Kt(o)
            ? (0, Ge.jsx)(
                Nb,
                {
                  label: o.label,
                  selectedWithin: oC(o, t.selectedValue),
                  children: e(o.options),
                },
                a,
              )
            : null,
    );
  return (0, Ge.jsx)($o, {
    onCancel: t.onCancel,
    role: "listbox",
    children: e(t.rgOptions),
  });
}
var iS = Ga.forwardRef(function (e, n) {
  let {
      className: o,
      opened: a,
      arrowClassName: i,
      "aria-label": _,
      "aria-labelledby": r = "",
      ...u
    } = e,
    s = Ga.useId(),
    l = Ga.useId();
  return (0, Ge.jsxs)(Ge.Fragment, {
    children: [
      (0, Ge.jsx)(wt, {
        id: s,
        className: v(nC.DropDownControlButton, o),
        "aria-labelledby": r || l,
        ...u,
        ref: n,
        children: (0, Ge.jsxs)("div", {
          className: x.DropDownControlButtonContents,
          children: [
            (0, Ge.jsx)("div", {
              className: "DialogDropDown_CurrentDisplay",
              children: e.children,
            }),
            (0, Ge.jsx)(ea, { direction: "down" }),
          ],
        }),
      }),
      _ &&
        (0, Ge.jsx)("div", { id: l, style: { display: "none" }, children: _ }),
    ],
  });
});
var Yt = b(w());
var aC = "TW2ZQnLvgIc-";
var to = b(H()),
  mj = Yt.forwardRef(function (e, n) {
    let { className: o, ...a } = e,
      i = Yt.useRef(),
      _ = at(n, i),
      [r, u] = Yt.useState(!1),
      s = Yt.useCallback(() => {
        u((l) => !l), window.setTimeout(() => i.current?.Focus(), 1);
      }, []);
    return (0, to.jsx)(D, {
      className: o,
      onOptionsButton: s,
      onOptionsActionDescription: O(
        r ? "#Login_HidePassword" : "#Login_ShowPassword",
      ),
      children: (0, to.jsx)($n, {
        autoComplete: "off",
        ref: _,
        inlineControls: (0, to.jsx)(wt, {
          className: aC,
          onPointerDown: s,
          onOKButton: s,
          children: r ? (0, to.jsx)(jb, {}) : (0, to.jsx)(Ub, {}),
        }),
        ...a,
        type: r ? "text" : "password",
      }),
    });
  });
function uS(t) {
  let e = t.split(".");
  if (e.length > 4) return !1;
  for (let n = 0; n < e.length; n++) {
    let o = e[n];
    if (o == "") {
      if (n == e.length - 1) continue;
      return !1;
    }
    if (!/^[0-9]*$/.test(o)) return !1;
    let a = parseInt(o);
    if (!(a >= 0 && a <= 255)) return !1;
  }
  return !0;
}
var cj = Yt.forwardRef(function (e, n) {
  let { className: o, value: a, ...i } = e,
    _ = a ?? "";
  return (0, to.jsx)(Xg, {
    autoComplete: "off",
    value: _,
    ref: n,
    placeholder: "   .   .   .   ",
    ...i,
    onChange: (u) => {
      let s = u.target.value;
      if (uS(s)) i.onChange && i.onChange(u);
      else {
        u.target.value = _;
        return;
      }
    },
  });
});
var je = b(w());
var F = {
  "duration-app-launch": "800ms",
  "error-shake-duration": "500ms",
  SliderControlPanelGroup: "S4m6S4lbgWU-",
  SliderControlAndNotches: "TSGeP5nQ2eE-",
  WithDefaultValue: "bMn8P19ST3I-",
  SliderControl: "-sSi0mqDQEc-",
  Disabled: "gX0ZSjUXBoI-",
  SliderTrack: "JcZPqsmZCrs-",
  SliderHasNotches: "_99yc6l0bUM8-",
  DefaultValueIsColorRange: "R2grr9aqjqU-",
  DefaultValueColorLeft: "_-6vA11qHT8w-",
  DefaultValueColorRight: "m8UQ6Eo-HTQ-",
  ForegroundInvisible: "roOa1TV2NUU-",
  SliderTrackDark: "OfeMaDvhS4M-",
  SliderHandleContainer: "gEzroWiQ10A-",
  VerticalLineSliderHandleContainer: "_3ppdnVE1H3A-",
  ParenSliderHandleContainer: "_1Iz6XvWonug-",
  SliderHandle: "aTE6aUB0R0c-",
  SliderHandleFocusPop: "SknjTtzI4lo-",
  VerticalLineSliderHandle: "Bo42-AtikgY-",
  ParenSliderHandle: "_9YeVS-YAFPA-",
  Left: "FXMelMR3PWk-",
  Icon: "cqcpHpjo8zI-",
  SliderNotchContainer: "PUlK4jhI1LI-",
  SliderNotch: "egqaF5PBrnM-",
  AlignToEnds: "M9-w5yPyef8-",
  SliderNotchLabel: "VxQ-bQawiuo-",
  AlignToLeft: "_3gVMVUrVouE-",
  AlignToRight: "V-7czEj9CP8-",
  SliderNotchTick: "e84hOS74IEE-",
  TickActive: "Q-OxmMuerTg-",
  LabelText: "G7nK2YgP-s0-",
  DescriptionValue: "_9DahJpVzGWQ-",
  EditableValue: "hDOGbd8g268-",
  FakeEditableValue: "CDypuWjk2cI-",
  RedBorder: "CXJDXvghByw-",
  ErrorShake: "u7OFkUkvl4Q-",
  "error-shake": "pDBWpRO7L-A-",
  CompoundSlider: "pkpACrKtYxg-",
  CompoundSliderSubSlider: "bVo2ux2WBZg-",
  Right: "eAR6MDPFR6A-",
  CompoundSliderSubSliderLabelContainer: "-Kf-ENxw6Fc-",
  CompoundSliderSubSliderLabelPositioner: "SHWtMAO6Ovs-",
  CompoundSliderSubSliderLabel: "_7d0MjH6VujQ-",
  CompoundSliderSubSliderLabelInternal: "p5Dnr3ULfG8-",
  DefaultValueTickContainer: "_-6ZxRWNF2co-",
  DefaultValueTick: "OGdq5YYrCEk-",
  BackgroundAnimation: "rZZpaXvr8xw-",
  "ItemFocusAnim-darkerGrey-nocolor": "F1Gvr3xtsjQ-",
  "ItemFocusAnim-darkerGrey": "aiPJtdOz5TQ-",
  "ItemFocusAnim-darkGrey": "tDpKQmHutBk-",
  "ItemFocusAnim-grey": "ADELUD39uD4-",
  "ItemFocusAnim-translucent-white-10": "_0Mx6icQvg2A-",
  "ItemFocusAnim-translucent-white-20": "jax3iKWCNi4-",
  "ItemFocusAnimBorder-darkGrey": "kIPtFrURqQk-",
  "ItemFocusAnim-green": "nHBdcYV-iW0-",
};
var se = b(H()),
  sS = 10,
  bS = 1,
  lS = 0.01,
  mS = 0.05,
  Nj = vg(F["error-shake-duration"]);
function iC(t, e) {
  return e < 0 ? 0 : e > 1 ? 1 : t == 0 ? e : Math.round(e / t) * t;
}
function _C(t, e, n) {
  let o = t + n * (e - t);
  return Number.parseFloat(o.toFixed(10));
}
function vs(t, e, n) {
  return (n - t) / (e - t);
}
var xe = class extends je.Component {
  m_refSlider = je.createRef();
  m_refHandle = je.createRef();
  m_navRefSlider = je.createRef();
  m_sliderBounds = void 0;
  m_handleBounds = void 0;
  m_fZoom = 1;
  m_eDragMode = 0;
  m_vTouchStartPosition = tb();
  m_fStartValue;
  m_fLatestUserValue;
  m_fLatestOnChangeValue;
  m_bInnerSliderHasFocus = !1;
  m_nRepeatCount = 0;
  m_fInitalRepeatTime = void 0;
  get showHandle() {
    return this.props.showHandle ?? !0;
  }
  get isKeyNavTarget() {
    return this.props.isKeyNavTarget ?? !0;
  }
  get validRange() {
    return this.props.min < this.props.max;
  }
  get range() {
    return this.validRange ? this.props.max - this.props.min : 0;
  }
  get step() {
    return Math.abs(this.props.step ?? bS);
  }
  get normalizedStep() {
    return this.step / this.range;
  }
  get normalizedDpadStep() {
    let e = this.props.dpadStep ?? this.step,
      n = e > 0 ? e / this.range : lS;
    return Math.max(n, this.normalizedStep);
  }
  get normalizedClampedValue() {
    let e =
      this.props.value == null || isNaN(this.props.value)
        ? this.props.min
        : _o(this.props.value, this.props.min, this.props.max);
    return vs(this.props.min, this.props.max, e);
  }
  get normalizedDefaultValue() {
    let e = this.props.resetValue;
    if (!(e == null || isNaN(e) || e < this.props.min || e > this.props.max))
      return vs(this.props.min, this.props.max, e);
  }
  get normalizedSliderOrigin() {
    let e = _o(0, this.props.min, this.props.max);
    return vs(this.props.min, this.props.max, e);
  }
  get CanResetToDefault() {
    return (
      this.props.resetValue != null && this.props.value != this.props.resetValue
    );
  }
  get SliderChangeSource() {
    switch (this.m_eDragMode) {
      case 1:
        return 1;
      case 3:
      case 2:
        return 0;
      case 0:
        return;
    }
  }
  constructor(e) {
    super(e),
      (this.m_fStartValue = this.props.value),
      (this.m_fLatestUserValue = this.props.value),
      (this.m_fLatestOnChangeValue = this.props.value);
  }
  RecomputeSliderBounds() {
    (this.m_sliderBounds = this.m_refSlider.current?.getBoundingClientRect()),
      (this.m_handleBounds = this.m_refHandle.current?.getBoundingClientRect());
  }
  SetDragMode(e) {
    if (e != this.m_eDragMode) {
      switch (
        ((this.m_eDragMode = e),
        this.props.onChangeStart &&
          this.props.onChangeStart(this.SliderChangeSource),
        e)
      ) {
        case 1:
        case 3:
        case 2:
          this.RecomputeSliderBounds(),
            (this.m_fStartValue = this.props.value),
            (this.m_fLatestUserValue = this.props.value);
          break;
        case 0:
          break;
      }
      switch (e) {
        case 1:
          this.m_refSlider.current?.ownerDocument?.addEventListener(
            "mousemove",
            this.OnWindowMouseMove,
            { passive: !1 },
          ),
            this.m_refSlider.current?.ownerDocument?.addEventListener(
              "mouseup",
              this.OnWindowMouseUp,
              { passive: !1 },
            );
          break;
        case 2:
        case 3:
          this.m_refSlider.current?.ownerDocument?.addEventListener(
            "touchmove",
            this.OnWindowTouchMove,
            { passive: !1 },
          ),
            this.m_refSlider.current?.ownerDocument?.addEventListener(
              "touchend",
              this.OnWindowTouchEnd,
              { passive: !1 },
            );
          break;
        case 0:
          this.RemoveDocumentEventListeners();
          break;
      }
    }
  }
  OnGamepadDirection(e) {
    if (this.props.disabled) return !1;
    let n = 0;
    if (e.detail.button == 11) n = -1;
    else if (e.detail.button == 12) n = 1;
    else return !1;
    e.detail.is_repeat
      ? (this.m_nRepeatCount == 0 &&
          (this.m_fInitalRepeatTime = performance.now()),
        this.m_nRepeatCount++)
      : ((this.m_nRepeatCount = 0),
        (this.m_fInitalRepeatTime = performance.now()));
    let o = performance.now() - this.m_fInitalRepeatTime,
      a = As(o, 0, 2e3, 500, 250),
      i = Math.pow(2, Math.floor(o / a)),
      _ = this.normalizedDpadStep * i,
      r = _o(_, this.normalizedDpadStep, mS) * n,
      u = iC(this.normalizedStep, this.normalizedClampedValue + r),
      s = _C(this.props.min, this.props.max, u);
    if (
      ((s = _o(
        s,
        this.props.clampMin ?? this.props.min,
        this.props.clampMax ?? this.props.max,
      )),
      s != this.props.value)
    ) {
      let l = s > this.m_fLatestUserValue;
      _t.PlayNavSound(l ? 18 : 19),
        (this.m_fLatestUserValue = s),
        this.FireOnChange(s, 2);
    } else _t.PlayNavSound(25);
    return !0;
  }
  FireOnChange(e, n) {
    this.m_fLatestOnChangeValue != e &&
      ((this.m_fLatestOnChangeValue = e),
      this.props.onChange && this.props.onChange(e, n));
  }
  ComputeNormalizedValueForMousePosition(e) {
    if (this.m_sliderBounds == null) return 0;
    let n = e / this.m_fZoom,
      o = this.m_sliderBounds.right - this.m_sliderBounds.left,
      a =
        this.m_handleBounds == null
          ? 0
          : this.m_handleBounds.right - this.m_handleBounds.left,
      i = o - a;
    return (n - this.m_sliderBounds.left - a / 2) / i;
  }
  BShouldTriggerHapticOnSnap() {
    let e = this.normalizedStep;
    return e > 0 && e >= 1 / 40;
  }
  PlayHaptic(e) {
    this.m_refSlider.current?.ownerDocument.defaultView?.SteamClient?.OpenVR?.TriggerOverlayHapticEffect?.(
      e,
      0,
    );
  }
  UpdateSliderValueForPosition(e) {
    if (this.props.disabled || !this.m_refSlider.current) return;
    let n = this.ComputeNormalizedValueForMousePosition(e),
      o = iC(this.normalizedStep, n),
      a = _C(this.props.min, this.props.max, o),
      i = this.props.clampMin ?? this.props.min,
      _ = this.props.clampMax ?? this.props.max;
    if (((a = _o(a, i, _)), a != this.props.value)) {
      let r = a > this.props.value,
        u = this.step == 0;
      if (
        ((this.m_eDragMode == 0 || !u) && _t.PlayNavSound(r ? 18 : 19),
        this.m_eDragMode == 1 || this.m_eDragMode == 3)
      ) {
        let l = !1;
        if (
          (a == i || a == _) &&
          this.m_fLatestUserValue > i &&
          this.m_fLatestUserValue < _ &&
          !l
        )
          this.PlayHaptic(5), (l = !0);
        else if (
          !this.BShouldTriggerHapticOnSnap() &&
          this.m_fLatestUserValue >= i &&
          this.m_fLatestUserValue <= _
        ) {
          let m = Math.floor(((this.m_fLatestUserValue - i) / (_ - i)) * 40),
            p = Math.floor(((a - i) / (_ - i)) * 40);
          m != p && !l && (this.PlayHaptic(4), (l = !0));
        }
        !u && !l && (this.PlayHaptic(3), (l = !0));
      }
      (this.m_fLatestUserValue = a),
        this.FireOnChange(a, this.SliderChangeSource);
    }
  }
  OnWindowMouseMove(e) {
    this.UpdateSliderValueForPosition(e.clientX);
  }
  OnWindowMouseUp(e) {
    this.m_eDragMode != 0 && this.Complete();
  }
  OnMouseDown(e) {
    e.button == 0 &&
      (this.props.disabled ||
        (e.preventDefault(),
        this.SetDragMode(1),
        this.UpdateSliderValueForPosition(e.clientX)));
  }
  OnTouchStart(e) {
    if (this.props.disabled || e.touches.length != 1) return;
    e.preventDefault();
    let n = this.ComputeNormalizedValueForMousePosition(e.touches[0].clientX);
    n < 0 ||
      n > 1 ||
      (this.SetDragMode(2),
      (this.m_vTouchStartPosition = {
        x: e.touches[0].clientX,
        y: e.touches[0].clientY,
      }));
  }
  OnWindowTouchMove(e) {
    if (e.touches.length == 1) {
      switch (this.m_eDragMode) {
        case 2:
          let n = { x: e.touches[0].clientX, y: e.touches[0].clientY };
          if (ob(this.m_vTouchStartPosition, n) >= sS) {
            let a = nb(this.m_vTouchStartPosition, n);
            Math.abs(a.x) > Math.abs(a.y)
              ? (this.SetDragMode(3), this.m_refSlider.current?.focus())
              : this.SetDragMode(0);
          }
          break;
        case 3:
          this.UpdateSliderValueForPosition(e.touches[0].clientX);
          break;
      }
      e.preventDefault();
    }
  }
  OnWindowTouchEnd(e) {
    this.m_eDragMode != 0 && this.Complete();
  }
  Complete() {
    let e = this.m_eDragMode != 0;
    this.FireOnChange(this.m_fLatestUserValue, this.SliderChangeSource),
      this.props.onChangeComplete &&
        this.props.onChangeComplete(
          this.m_fLatestUserValue,
          this.SliderChangeSource,
        ),
      this.SetDragMode(0);
    let n = this.step == 0;
    if (this.m_fLatestUserValue != this.m_fStartValue && n && e) {
      let a = this.m_fLatestUserValue > this.m_fStartValue;
      _t.PlayNavSound(a ? 18 : 19);
    }
  }
  RemoveDocumentEventListeners() {
    this.m_refSlider.current?.ownerDocument?.removeEventListener(
      "mousemove",
      this.OnWindowMouseMove,
    ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "touchmove",
        this.OnWindowTouchMove,
      ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "mouseup",
        this.OnWindowMouseUp,
      ),
      this.m_refSlider.current?.ownerDocument?.removeEventListener(
        "touchend",
        this.OnWindowTouchEnd,
      );
  }
  componentDidMount() {
    this.m_fZoom = Qs(this.m_refSlider.current);
  }
  componentWillUnmount() {
    this.RemoveDocumentEventListeners();
  }
  BlurInnerSlider() {
    this.m_navRefSlider.current?.ParentTakeFocus();
  }
  OnInnerSliderFocus() {
    (this.m_bInnerSliderHasFocus = !0), (this.m_fStartValue = this.props.value);
  }
  OnInnerSliderBlur() {
    (this.m_bInnerSliderHasFocus = !1),
      this.m_fStartValue != this.m_fLatestUserValue && this.Complete();
  }
  ResetToDefault() {
    if (!this.CanResetToDefault || this.m_eDragMode != 0) return;
    let e;
    (this.m_fLatestUserValue = this.props.resetValue),
      this.FireOnChange(this.props.resetValue, 4),
      this.m_bInnerSliderHasFocus
        ? (e = this.props.resetValue > this.m_fLatestUserValue)
        : ((e = this.props.resetValue > this.props.value),
          this.props.onChangeComplete &&
            this.props.onChangeComplete(this.props.resetValue, 4)),
      _t.PlayNavSound(e ? 18 : 19);
  }
  OnContextMenu(e) {
    if (this.props.resetValue != null) {
      let n = (0, se.jsx)($o, {
        children: (0, se.jsx)(go, {
          disabled: !this.CanResetToDefault,
          onSelected: this.ResetToDefault,
          children: O("#ResetToDefault"),
        }),
      });
      Zo(n, e);
    }
  }
  render() {
    let {
        min: e,
        max: n,
        value: o,
        clampMax: a,
        clampMin: i,
        className: _,
        disabled: r,
        dpadStep: u,
        extraNotchPadding: s,
        focusable: l,
        handleType: c,
        innerRef: m,
        isKeyNavTarget: p,
        navRef: C,
        notchCount: h,
        notchLabels: M,
        notchTicksVisible: L,
        onChange: T,
        onChangeComplete: Z,
        onChangeStart: X,
        renderNotch: be,
        renderValue: Se,
        resetValue: qe,
        resetValueAppearance: Te = "top-caret",
        showBookendLabels: he,
        showHandle: zn,
        step: S_,
        strValueSuffix: R_,
        trackStyleOverride: Ua,
        trackStyleBackground: Va,
        trackForegroundVisible: P_ = !0,
        trackTone: Uo,
        ...Vo
      } = this.props,
      no = he ?? !1,
      Wa = L ?? !no,
      qa = no ? 2 : h,
      Ka = [
        { notchIndex: 0, label: `${e}` },
        { notchIndex: 1, label: `${n}` },
      ],
      M_ = no ? Ka : M,
      Ja = l ?? !0,
      Ya = this.normalizedDefaultValue,
      Ps = this.normalizedSliderOrigin,
      Bn = Ya != null,
      oo = Te == "top-caret",
      ao = !oo,
      A_ = Se || _s,
      io = {};
    this.CanResetToDefault && (io[3] = O("#ResetToDefault"));
    let x_ = `${F.SliderHandle} SliderHandle`,
      T_ = `${F.SliderHandleContainer} SliderHandleContainer `;
    c == "verticalline"
      ? ((x_ = `${F.VerticalLineSliderHandle} SliderHandle`),
        (T_ = `${F.VerticalLineSliderHandleContainer} SliderHandleContainer `))
      : (c == "leftparen" || c == "rightparen") &&
        ((x_ = v(
          F.ParenSliderHandle,
          c == "leftparen" ? F.Left : F.Right,
          "SliderHandle",
        )),
        (T_ = v(
          F.ParenSliderHandleContainer,
          c == "leftparen" ? F.Left : F.Right,
          "SliderHandleContainer",
        )));
    let MC = A_(o);
    return (0, se.jsx)(fl, {
      noFocusRing: !0,
      className: v(F.SliderControlPanelGroup, "SliderControlPanelGroup", _),
      navRef: C,
      onMouseDown: (D_) => this.OnMouseDown(D_.nativeEvent),
      onTouchStart: (D_) => this.OnTouchStart(D_.nativeEvent),
      onOKActionDescription: r ? null : O("#Slider_AdjustSlider"),
      focusable: Ja,
      childFocusDisabled: r || !Ja,
      onContextMenu: this.OnContextMenu,
      onOKButton: r ? () => _t.PlayNavSound(25) : void 0,
      onSecondaryButton: this.CanResetToDefault ? this.ResetToDefault : void 0,
      onSecondaryActionDescription: this.CanResetToDefault
        ? O("#ResetToDefault")
        : void 0,
      actionDescriptionMap: io,
      "aria-labelledby": Vo["aria-labelledby"],
      children: (0, se.jsxs)(Qt, {
        role: "slider",
        "aria-valuenow": o,
        "aria-valuetext": MC,
        ...Vo,
        className: v(
          F.SliderControlAndNotches,
          r && F.Disabled,
          Bn && F.WithDefaultValue,
          Bn && ao && F.DefaultValueIsColorRange,
          Bn && ao && Te.side == "left" && F.DefaultValueColorLeft,
          Bn && ao && Te.side != "left" && F.DefaultValueColorRight,
          !P_ && F.ForegroundInvisible,
        ),
        focusable: this.isKeyNavTarget,
        noFocusRing: !0,
        onFocus: this.OnInnerSliderFocus,
        onBlur: this.OnInnerSliderBlur,
        style: {
          "--normalized-slider-value": this.normalizedClampedValue,
          "--normalized-slider-default-value": Ya,
          "--normalized-slider-origin": Ps,
          "--default-value-track-color": ao ? Te.trackForegroundColor : void 0,
          "--slider-extra-notch-padding": s ?? "0px",
        },
        ref: $a(this.m_refSlider, m),
        navRef: this.m_navRefSlider,
        onGamepadDirection: this.OnGamepadDirection,
        onOKButton: this.BlurInnerSlider,
        onOKActionDescription: null,
        onCancelButton: this.BlurInnerSlider,
        onCancelActionDescription: O("#ActionButtonLabelDone"),
        children: [
          (0, se.jsxs)("div", {
            className: v(F.SliderControl, "SliderControl"),
            children: [
              (0, se.jsx)("div", {
                className: v(
                  F.SliderTrack,
                  h != null && Wa && F.SliderHasNotches,
                  { [F.SliderTrackDark]: Uo === "dark" },
                  Va,
                  "SliderTrack",
                ),
                style: this.props.trackStyleOverride,
              }),
              Bn &&
                oo &&
                (0, se.jsx)("div", {
                  className: F.DefaultValueTickContainer,
                  children: (0, se.jsx)("div", {
                    className: F.DefaultValueTick,
                    children: (0, se.jsx)(ea, { direction: "down" }),
                  }),
                }),
              this.validRange &&
                o != null &&
                !isNaN(o) &&
                this.showHandle &&
                (0, se.jsx)("div", {
                  className: T_,
                  children: (0, se.jsxs)("div", {
                    className: x_,
                    ref: this.m_refHandle,
                    children: [
                      c == "leftparen" && (0, se.jsx)(Vb, {}),
                      c == "rightparen" && (0, se.jsx)(Wb, {}),
                    ],
                  }),
                }),
            ],
          }),
          (0, se.jsx)(cS, {
            notchCount: qa,
            notchLabels: M_,
            sliderValue: this.normalizedClampedValue,
            notchTicksVisible: Wa,
            renderNotch: be,
          }),
        ],
      }),
    });
  }
};
y([g], xe.prototype, "RecomputeSliderBounds", 1),
  y([g], xe.prototype, "SetDragMode", 1),
  y([g], xe.prototype, "OnGamepadDirection", 1),
  y([g], xe.prototype, "UpdateSliderValueForPosition", 1),
  y([g], xe.prototype, "OnWindowMouseMove", 1),
  y([g], xe.prototype, "OnWindowMouseUp", 1),
  y([g], xe.prototype, "OnMouseDown", 1),
  y([g], xe.prototype, "OnTouchStart", 1),
  y([g], xe.prototype, "OnWindowTouchMove", 1),
  y([g], xe.prototype, "OnWindowTouchEnd", 1),
  y([g], xe.prototype, "Complete", 1),
  y([g], xe.prototype, "BlurInnerSlider", 1),
  y([g], xe.prototype, "OnInnerSliderFocus", 1),
  y([g], xe.prototype, "OnInnerSliderBlur", 1),
  y([g], xe.prototype, "ResetToDefault", 1),
  y([g], xe.prototype, "OnContextMenu", 1);
function cS(t) {
  let {
      sliderValue: e,
      notchCount: n,
      notchLabels: o,
      notchTicksVisible: a,
      renderNotch: i,
    } = t,
    _ = o ?? [];
  if (!n) return null;
  let r = !1,
    u = [];
  for (let s = 0; s < n; ++s) {
    let l = _.find((c) => c.notchIndex == s);
    l && (r = !0),
      u.push(
        (0, se.jsx)(
          pS,
          {
            notchIndex: s,
            sliderValue: e,
            notchLabel: l,
            notchCount: n,
            notchTicksVisible: a,
            renderNotch: i,
          },
          s,
        ),
      );
  }
  return (0, se.jsx)(D, { className: v(F.SliderNotchContainer), children: u });
}
function pS(t) {
  let e = t.notchIndex <= (t.notchCount - 1) * t.sliderValue,
    n = t.notchCount <= 3 && !t.notchTicksVisible,
    o = n && t.notchIndex == 0,
    a = n && t.notchIndex == t.notchCount - 1,
    i = { ...t, alignLeftEnd: o, alignRightEnd: a, active: e };
  return (0, se.jsx)("div", {
    className: v(F.SliderNotch, n && F.AlignToEnds),
    children: t.renderNotch ? t.renderNotch(i) : (0, se.jsx)(HS, { ...i }),
  });
}
function HS(t) {
  let { alignLeftEnd: e, alignRightEnd: n, active: o } = t;
  return (0, se.jsxs)(se.Fragment, {
    children: [
      t.notchTicksVisible &&
        (0, se.jsx)("div", {
          className: v(F.SliderNotchTick, o && F.TickActive),
        }),
      t.notchLabel &&
        (0, se.jsx)("div", {
          className: v(
            F.SliderNotchLabel,
            e && F.AlignToLeft,
            n && F.AlignToRight,
          ),
          children: t.notchLabel?.label,
        }),
    ],
  });
}
var Oj = je.forwardRef(function (e, n) {
  let {
    label: o,
    labelIndex: a,
    xOffset: i,
    onResize: _,
    OnMouseDown: r,
    OnTouchStart: u,
  } = e;
  je.useEffect(() => {
    _(a);
  }, [_, a]);
  let s = je.useCallback(
      (m) => {
        _(a);
      },
      [_, a],
    ),
    l = Bb(s),
    c = at(l, n);
  return (0, se.jsx)("div", {
    className: F.CompoundSliderSubSliderLabel,
    ref: c,
    onMouseDown: r,
    onTouchStart: u,
    style: { transform: `translateX(${i}px)` },
    children: (0, se.jsx)("div", {
      className: F.CompoundSliderSubSliderLabelInternal,
      children: o,
    }),
  });
});
var v_ = b(w());
var Ln = b(H()),
  tC = v_.forwardRef(function (e, n) {
    let {
        value: o,
        onChange: a,
        disabled: i,
        className: _,
        focusable: r,
        children: u,
        navRef: s,
        ...l
      } = e,
      c = () => {
        if (!i && a) {
          let m = !o;
          a(m), _t.PlayNavSound(m ? 16 : 17);
        }
      };
    return (0, Ln.jsxs)(Qt, {
      ...l,
      noFocusRing: !0,
      className: v(_, x.Toggle, { [x.Disabled]: !!i, [x.On]: !!o }),
      onClick: c,
      ref: n,
      navRef: s,
      focusable: r,
      role: "checkbox",
      "aria-checked": !!o,
      children: [
        (0, Ln.jsx)("div", { className: x.ToggleRail }),
        (0, Ln.jsx)("div", { className: x.ToggleSwitch }),
        u,
      ],
    });
  });
function dS(t) {
  let e = !!t.disabled,
    { actionDescriptions: n, gamepadEvents: o } = mb(t),
    a = v_.useId();
  return (0, Ln.jsx)(Go, {
    accessibilityId: a,
    className: t.className,
    disabled: e,
    label: t.label,
    icon: t.icon,
    description: t.description,
    explainer: t.explainer,
    explainerTitle: t.explainerTitle,
    padding: t.padding,
    bottomSeparator: t.bottomSeparator,
    highlightOnFocus: t.highlightOnFocus,
    inlineWrap: "keep-inline",
    onContextMenu: t.onContextMenu,
    actionDescriptionMap: n,
    onClick: t.onClick,
    indentLevel: t.indentLevel,
    ...o,
    children: (0, Ln.jsx)(tC, {
      ...Fa(a, t),
      onChange: t.OnToggleChange,
      value: t.checked,
      disabled: e,
      navRef: t.navRef,
    }),
  });
}
var f_ = class extends xn {
  OnToggleChange(e) {
    !this.props.disabled && e !== this.checked && this.Toggle();
  }
  render() {
    return (0, Ln.jsx)(dS, {
      ...this.props,
      OnToggleChange: this.OnToggleChange,
      checked: this.checked,
    });
  }
};
y([g], f_.prototype, "OnToggleChange", 1);
var ks = b(H());
function fs(t) {
  let { children: e, bCenterVertically: n, refElem: o, ...a } = t,
    i = v(
      x.GamepadDialogContent,
      "DialogContent _DialogLayout",
      t.className,
      n && " _DialogCenterVertically",
    ),
    { ref: _, navRef: r } = hl(),
    u = at(o, _);
  return (0, ks.jsx)(D, {
    ...a,
    className: i,
    ref: u,
    navRef: r,
    children: (0, ks.jsx)(D, {
      className: v(
        x.GamepadDialogContent_InnerWidth,
        "DialogContent_InnerWidth",
      ),
      children: e,
    }),
  });
}
var ja = b(w());
var jo = b(H());
function rC() {
  return ja.useMemo(() => yS(), []);
}
function yS() {
  return function (e) {
    let {
        refNavTree: n,
        className: o,
        active: a,
        children: i,
        modalKey: _,
      } = e,
      r = ja.useRef(null);
    ti(r, a, !0);
    let u = at(r, n);
    return (0, jo.jsx)(lb, {
      className: o,
      navTreeRef: u,
      modal: !0,
      enabled: a,
      navID: `ModalDialogOverlay_${_}`,
      children: i,
    });
  };
}
function gS(t) {
  let {
      className: e,
      onEscKeypress: n,
      padding: o = "standard",
      bGamepadUIScrollWithin: a,
      children: i,
    } = t,
    _ = v(
      x.ModalPosition,
      o == "standard" && x.WithStandardPadding,
      a && x.ScrollWithin,
      e,
    );
  return (0, jo.jsx)(D, {
    className: _,
    onCancelButton: n,
    focusableIfNoChildren: !0,
    children: (0, jo.jsx)(po, { children: (0, jo.jsx)(Le, { children: i }) }),
  });
}
function uC(t) {
  let e = ja.useMemo(() => ({ ModalPosition: gS }), []);
  return (0, jo.jsx)($u.Provider, { value: e, children: t.children });
}
var k_ = b(H());
function ws(t) {
  let e = rC(),
    n = sC.useMemo(() => ({ DropDownMenu: hs, Content: fs }), []);
  return (0, k_.jsx)(Oo.Provider, {
    value: n,
    children: (0, k_.jsx)(uC, {
      children: (0, k_.jsx)(Eo, {
        ...t,
        bUseDialogElement: !1,
        DialogWrapper: e,
        ContextMenuComponent: fg,
      }),
    }),
  });
}
var Ss = b(H());
function bC(t) {
  let e = Ee(),
    n = { bRenderOverlayAtRoot: !0, bUsePopups: !1, ...t };
  return e ? (0, Ss.jsx)(ws, { ...n }) : (0, Ss.jsx)(Eo, { ...n });
}
var SC = b(it(), 1);
var lC = "/RDNVLABA.png";
var mC = "/QQGETVBA.png";
var cC = "/MVIQJMBA.png";
var pC = "/62SHH2CA.png";
var HC = "Ksy4XAVZlM0-";
var dC = "n2wjqqfVgC4-";
var Rs = "osYYItlitxA-";
var yC = "knntvUEkLRg-";
var gC = "_1ToiOSH69g8-";
var CC = "s6DTWBl90Rc-";
var hC = "UnRkTYm5fo0-";
var fC = "ftmxCcsknb4-";
var vC = "byvXpNiaYrs-";
var kC = "y9kERlobJ88-";
var wC = "Hf0BSchKz6g-";
var A = b(H(), 1);
function Pt() {
  return (0, A.jsx)("span", {
    "aria-hidden": "true",
    className: kC,
    children: "|",
  });
}
function RC(t) {
  return (0, A.jsx)("footer", {
    className: (0, SC.default)(HC, t.className, !pt.logged_in && dC),
    children: (0, A.jsxs)("div", {
      className: yC,
      children: [
        (0, A.jsx)("hr", {}),
        (0, A.jsxs)("div", {
          className: gC,
          children: [
            (0, A.jsx)(B, {
              className: hC,
              to: "https://www.valvesoftware.com",
              openInNewWindow: !0,
              children: (0, A.jsx)("img", {
                src: ct(pC),
                alt: "Valve Software",
              }),
            }),
            (0, A.jsxs)("div", {
              className: CC,
              children: [
                (0, A.jsx)("div", {
                  children: Ue.Localize(
                    "#footer_legal_notice",
                    new Date().getFullYear(),
                  ),
                }),
                (0, A.jsxs)("div", {
                  children: [
                    Ue.Localize("#footer_vat_included"),
                    "  ",
                    (0, A.jsx)(B, {
                      openInNewWindow: !0,
                      to: f.STORE_BASE_URL + "privacy_agreement/",
                      children: Ue.Localize("#footer_privacy_policy"),
                    }),
                    (0, A.jsx)(Pt, {}),
                    (0, A.jsx)(B, {
                      openInNewWindow: !0,
                      to: f.STORE_BASE_URL + "legal/",
                      children: Ue.Localize("#footer_legal"),
                    }),
                    (0, A.jsx)(Pt, {}),
                    (0, A.jsx)(B, {
                      openInNewWindow: !0,
                      to: f.STORE_BASE_URL + "subscriber_agreement/",
                      children: Ue.Localize("#footer_ssa"),
                    }),
                    (0, A.jsx)(Pt, {}),
                    (0, A.jsx)(B, {
                      openInNewWindow: !0,
                      to: f.STORE_BASE_URL + "steam_refunds/",
                      children: Ue.Localize("#footer_refunds"),
                    }),
                    (0, A.jsx)(Pt, {}),
                    (0, A.jsx)(B, {
                      openInNewWindow: !0,
                      to: f.STORE_BASE_URL + "account/cookiepreferences/",
                      children: Ue.Localize("#footer_cookies"),
                    }),
                  ],
                }),
              ],
            }),
            (0, A.jsx)("div", {
              className: fC,
              children: (0, A.jsx)("img", {
                src: ct(cC),
                alt: "Valve Software",
              }),
            }),
          ],
        }),
        So() &&
          (0, A.jsx)("div", {
            className: vC,
            children: (0, A.jsx)("button", {
              onClick: zc,
              children: $.Localize("#global_menu_view_mobile_website"),
            }),
          }),
        (0, A.jsx)("hr", {}),
        (0, A.jsxs)("div", {
          className: wC,
          children: [
            (0, A.jsx)(B, {
              openInNewWindow: !0,
              to: "https://www.valvesoftware.com/about",
              children: Ue.Localize("#footer_about_valve"),
            }),
            (0, A.jsx)(Pt, {}),
            (0, A.jsx)(B, {
              openInNewWindow: !0,
              to: "http://www.valvesoftware.com",
              children: Ue.Localize("#footer_jobs"),
            }),
            (0, A.jsx)(Pt, {}),
            (0, A.jsx)(B, {
              openInNewWindow: !0,
              to: "http://www.steampowered.com/steamworks/",
              children: Ue.Localize("#footer_steamworks"),
            }),
            (0, A.jsx)(Pt, {}),
            (0, A.jsx)(B, {
              openInNewWindow: !0,
              to: f.PARTNER_BASE_URL + "steamdirect",
              children: Ue.Localize("#footer_steam_distribution"),
            }),
            (0, A.jsx)(Pt, {}),
            (0, A.jsx)(B, {
              external: !0,
              to: f.HELP_BASE_URL + uo().strISOCode + "/",
              children: Ue.Localize("#footer_nav_help_support"),
            }),
            (0, A.jsx)(Pt, {}),
            f.COUNTRY === "US" &&
              (0, A.jsxs)(A.Fragment, {
                children: [
                  (0, A.jsx)(B, {
                    snr: !0,
                    external: !0,
                    to: f.STORE_BASE_URL + "hardware_recycling/",
                    children: Ue.Localize("#footer_recycling"),
                  }),
                  (0, A.jsx)(Pt, {}),
                ],
              }),
            !Ot(f.EREALM) &&
              (0, A.jsxs)(A.Fragment, {
                children: [
                  (0, A.jsx)(B, {
                    snr: !0,
                    external: !0,
                    to: f.STORE_BASE_URL + "digitalgiftcards/",
                    children: Ue.Localize("#footer_walletcode"),
                  }),
                  (0, A.jsx)(Pt, {}),
                  (0, A.jsxs)(B, {
                    openInNewWindow: !0,
                    to: "http://www.facebook.com/Steam",
                    children: [
                      (0, A.jsx)("img", {
                        src: ct(lC),
                        alt: "Facebook",
                        className: Rs,
                      }),
                      " Steam",
                    ],
                  }),
                  (0, A.jsx)(Pt, {}),
                  (0, A.jsxs)(B, {
                    openInNewWindow: !0,
                    to: "http://twitter.com/steam",
                    children: [
                      (0, A.jsx)("img", {
                        src: ct(mC),
                        alt: "X",
                        className: Rs,
                      }),
                      " @steam",
                    ],
                  }),
                ],
              }),
          ],
        }),
        t.children,
      ],
    }),
  });
}
var Nt = {
  LoadingIndicator: "YCAfbWkeMBk-",
  loadingBarAnim: "Sszr8hrC6Ks-",
  Root: "gQWgnAxVrOM-",
  StoreBody: "VuAIAiWhjcg-",
  StoreBodyContainer: "khI3dKnN9c8-",
  Scrollable: "o5zcnn2HXfA-",
  Header: "bp0Pu4TVwpI-",
  StoreContent: "GHIW6-Wf1rQ-",
  InternalOptions: "r4HLvRr97Ps-",
  Text: "_75hRa6m6-oI-",
};
var ue = b(H(), 1),
  wS = pb({ Component: SS });
function SS({ children: t }) {
  let {
      strWebAPIToken: e,
      header: n,
      currentUserLinkDetails: o,
      steamid: a,
      storeBrowseContext: i,
      bShowGlobalHeader: _,
      gamepadUiTabs: r,
      bSpoofing: u,
      bVirtualizedScrolling: s,
      bUseV7Menu: l,
      ePreferredHWCompat: c,
    } = wS.useLoaderData(),
    m = (0, PC.useRef)(null),
    p = r.length > 0;
  return (
    f.IN_GAMEPADUI && (window.bSupportsGamepadUI = !0),
    (0, ue.jsx)(RS, {
      strWebAPIToken: e,
      steamid: a,
      storeBrowseContext: i,
      ePreferredHWCompat: c,
      children: (0, ue.jsxs)("html", {
        lang: uo().strISOCode,
        className: (0, w_.default)(Nt.Root, Dc()),
        children: [
          (0, ue.jsx)("head", { children: (0, ue.jsx)(zs, {}) }),
          (0, ue.jsx)("body", {
            className: (0, w_.default)(Nt.StoreBody, p && "gamepadui"),
            children: (0, ue.jsx)(ei, {
              navID: "StoreTemplate",
              disabledRoot: !f.IN_GAMEPADUI,
              children: (0, ue.jsx)("div", {
                className: (0, w_.default)(
                  Nt.StoreBodyContainer,
                  s && Nt.Scrollable,
                ),
                children: (0, ue.jsx)(po, {
                  children: (0, ue.jsxs)(bC, {
                    children: [
                      _ &&
                        (0, ue.jsx)(pp, {
                          navContent: n.navContent,
                          globalActions: n.globalActions,
                          notifications: n.notifications,
                          userDetails: o,
                          changeLanguagePath: "/account/setlanguage/",
                          cartInResponsiveMenu: !0,
                          className: Nt.Header,
                          children: (0, ue.jsxs)("div", {
                            className: Nt.InternalOptions,
                            children: [
                              u && (0, ue.jsx)(gp, {}),
                              (0, ue.jsx)(wl, { buttonClassName: Nt.Text }),
                            ],
                          }),
                        }),
                      l && (0, ue.jsx)(jy, { refPage: m }),
                      (0, ue.jsxs)("section", {
                        className: Nt.StoreContent,
                        ref: m,
                        children: [
                          (0, ue.jsx)("div", {
                            className: Nt.LoadingIndicator,
                          }),
                          (0, ue.jsx)(Rl, { gamepadUiTabs: r }),
                          (0, ue.jsx)(um, {}),
                          (0, ue.jsx)(Bs, { children: t }),
                        ],
                      }),
                      !f.IN_GAMEPADUI &&
                        (0, ue.jsx)(RC, { className: Nt.Footer }),
                    ],
                  }),
                }),
              }),
            }),
          }),
        ],
      }),
    })
  );
}
function RS(t) {
  let {
    strWebAPIToken: e,
    steamid: n,
    storeBrowseContext: o,
    ePreferredHWCompat: a,
    children: i,
  } = t;
  return (0, ue.jsx)(yb, {
    IN_GAMEPADUI: f.IN_GAMEPADUI,
    children: (0, ue.jsx)(mm, {
      children: (0, ue.jsx)(kp, {
        strWebAPIToken: e,
        steamid: n,
        children: (0, ue.jsx)(Wy, {
          children: (0, ue.jsx)(Kb, {
            context: o,
            msDelayBatch: 250,
            children: (0, ue.jsx)(vl, { ePreferredHWCompat: a, children: i }),
          }),
        }),
      }),
    }),
  });
}
export { wS as route };
