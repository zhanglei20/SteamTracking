import { a as ec, b as Fe } from "./chunk-SKMQMVWC.js";
import { a as Vu } from "./chunk-X7BQQ37I.js";
import {
  a as ku,
  b as wu,
  c as Su,
  d as xu,
  e as Lu,
} from "./chunk-25BQSRT5.js";
import { a as Wt } from "./chunk-XJNBRNNC.js";
import { a as Tu, b as Rt, c as Bu } from "./chunk-JJH2Y7UY.js";
import {
  b as Ht,
  c as h_,
  d as Uu,
  e as Ou,
  f as Eu,
} from "./chunk-SHAZR5F4.js";
import { a as fu, f as xn } from "./chunk-HWTTAHO5.js";
import { a as Nu } from "./chunk-CFHD25NZ.js";
import {
  a as mu,
  b as Gu,
  c as Fu,
  d as Wu,
  e as qu,
  f as Ku,
  g as Ju,
  h as Tn,
  i as $u,
  j as Qu,
  k as Yu,
  l as Zu,
  m as Xu,
  o as Bn,
  p as ei,
  q as ti,
} from "./chunk-MXACHJQE.js";
import { a as Hu, c as p_, f as pu } from "./chunk-RMFYWD42.js";
import { b as Sn } from "./chunk-KB6BWSZZ.js";
import { a as yu } from "./chunk-CP2YM27A.js";
import "./chunk-5GQXUOM2.js";
import {
  b as kt,
  c as C_,
  d as v_,
  e as ju,
  f as Du,
  g as ni,
} from "./chunk-M75KYLHO.js";
import { b as Au, c as Mu, d as zu } from "./chunk-7KGXXAVM.js";
import {
  A as Rn,
  a as iu,
  b as ru,
  c as Vt,
  d as gn,
  e as Cn,
  f as Ke,
  g as vn,
  h as hn,
  i as bu,
} from "./chunk-QDD2ORHM.js";
import "./chunk-7CN4UUUX.js";
import { a as Iu } from "./chunk-HMPN46LB.js";
import { a as d_, b as v } from "./chunk-GZCNVDGW.js";
import { a as Ru, c as Pu, m as zn } from "./chunk-HTAN7TSW.js";
import "./chunk-RR334TXO.js";
import {
  A as g_,
  a as Je,
  d as wt,
  e as St,
  f as Pn,
  g as An,
  i as Mn,
  j as du,
  k as Ae,
  m as gu,
  n as Cu,
  w as vu,
  z as hu,
} from "./chunk-L2W5RQL6.js";
import "./chunk-WLWYE2K4.js";
import {
  a as Ta,
  b as Ba,
  c as La,
  d as Ia,
  f as ja,
  g as Da,
  h as Na,
  i as ft,
} from "./chunk-KQK52YO3.js";
import { a as Ge, b as P } from "./chunk-G3LEQ3C5.js";
import { a as kn } from "./chunk-XF6XMHXR.js";
import "./chunk-T4EIYI5T.js";
import "./chunk-2AGR2RAI.js";
import "./chunk-GLU63NUG.js";
import "./chunk-227VYZV4.js";
import { a as cu, b as mt } from "./chunk-YST6PKN2.js";
import "./chunk-HT7IDABX.js";
import "./chunk-MGHJCU7X.js";
import { a as wn } from "./chunk-EXROBS5G.js";
import {
  a as Ma,
  b as C,
  c as h,
  d as W,
  e as q,
  f as K,
  g as J,
  h as $,
  i as Q,
  o as za,
  r as xa,
  t as de,
  u as ce,
  v as su,
  w as ge,
  y as lu,
} from "./chunk-5YCHQL3Y.js";
import "./chunk-54KSWEKF.js";
import "./chunk-ZB6ZVAEP.js";
import { a as wa } from "./chunk-JFIWTN3S.js";
import { a as Aa } from "./chunk-ZLR6XQSM.js";
import { a as fn } from "./chunk-MH3M6O5E.js";
import "./chunk-6C3EPE3R.js";
import { a as Ce } from "./chunk-6XEB4VUI.js";
import { a as G } from "./chunk-YPG4IY42.js";
import {
  H as dn,
  I as re,
  P as ou,
  a as Wa,
  c as ot,
  h as $a,
  j as Qa,
  k as Ot,
  m as Et,
  n as Ya,
  p as Za,
  q as Xa,
  s as y_,
  t as eu,
  u as tu,
  w as nu,
  x as _u,
} from "./chunk-I6DVAXY6.js";
import {
  A as Ja,
  b as Ga,
  d as Fa,
  g as Ua,
  i as Oa,
  k as Ea,
  n as Va,
  p as qa,
  q as Ka,
} from "./chunk-BYPHUPKZ.js";
import { a as ye } from "./chunk-SA4EEJQB.js";
import { b as uu, c as qe } from "./chunk-LT4TDRWV.js";
import "./chunk-SC45LNZU.js";
import "./chunk-LD74FR32.js";
import "./chunk-L4MVVTZP.js";
import { a as au } from "./chunk-X3PW7MUS.js";
import {
  a as yn,
  c as Ft,
  h as ht,
  t as Ra,
  u as Pa,
} from "./chunk-65YMABNY.js";
import "./chunk-SB2MMXKX.js";
import { a as ka, d as vt } from "./chunk-RR2M2CJG.js";
import {
  b as tt,
  e as me,
  h as pn,
  i as Ut,
  k as nt,
  l as _t,
  s as O,
  y as ie,
  z as Sa,
} from "./chunk-TBGOSV3U.js";
import {
  j as _e,
  k as fa,
  l as Pe,
  m as l,
  n as fe,
  p as g,
} from "./chunk-IN63BXCF.js";
import { a as B } from "./chunk-K32VMO2L.js";
import { d as XH, e as b, g as U } from "./chunk-UUUEXOLW.js";
function Ln() {
  return location.href;
}
var In = b(B(), 1);
var f_ = b(g(), 1),
  tc = In.default.lazy(() => import("./metrics-KVJP5CZK.js"));
function _i(t) {
  let e = Ra();
  return e.metrics
    ? (0, f_.jsx)(In.Suspense, {
        children: (0, f_.jsx)(tc, { metrics: e.metrics, ...t }),
      })
    : null;
}
var oi = b(ye(), 1);
var qt = {
  HeaderContainer: "NS66-vzC3B4-",
  PillTabs: "HfUir0ARlEg-",
  PillTabItem: "_6YKIMRZJgjI-",
  Active: "cVEuwqCXKqk-",
};
var jn = b(g(), 1);
function ai(t) {
  let { gamepadUiTabs: e } = t;
  if (e.length === 0) return null;
  let n = Ln(),
    _ = [...e]
      .sort((o, a) => a.href.length - o.href.length)
      .find((o) => n.startsWith(o.href));
  return (0, jn.jsx)("div", {
    className: qt.HeaderContainer,
    children: (0, jn.jsx)("div", {
      className: qt.PillTabs,
      children: e.map((o) =>
        (0, jn.jsx)(
          P,
          {
            gamepadFocusable: !0,
            noFocusRing: !0,
            className: (0, oi.default)(
              qt.PillTabItem,
              o === _ && qt.Active,
              o.className,
            ),
            snr: !0,
            to: o.href,
            children: o.label,
          },
          o.href,
        ),
      ),
    }),
  });
}
var Dn = b(B());
var ui = "D6LHFgi1JYw-";
var ii = "-ygkyFbonHM-";
var ri = "-ocPE8koGWA-";
var bi = "wScBjl6G2E8-";
var k_ = "J8QB0JMqyaM-";
var si = "-mBLWqp7JFk-";
var li = "./cookies_brazilian-BBM5W7BA.json";
var mi = "./cookies_bulgarian-TTDJPHDA.json";
var Hi = "./cookies_czech-V5C3V6DA.json";
var ci = "./cookies_danish-YYRI2GAA.json";
var yi = "./cookies_dutch-5GFT6WAA.json";
var pi = "./cookies_english-P33NRVBA.json";
var di = "./cookies_finnish-7E6DXYAA.json";
var gi = "./cookies_french-MPFS6NAA.json";
var Ci = "./cookies_german-WE4FZBAA.json";
var vi = "./cookies_greek-Q4QODFBA.json";
var hi = "./cookies_hungarian-JXOVMXAA.json";
var fi = "./cookies_indonesian-KH35N4CA.json";
var ki = "./cookies_italian-GS3M6BDA.json";
var wi = "./cookies_japanese-QMH4OWBA.json";
var Si = "./cookies_koreana-DCDXV5DA.json";
var Ri = "./cookies_latam-WP7O4FBA.json";
var Pi = "./cookies_norwegian-CTM7LTCA.json";
var Ai = "./cookies_polish-KP5C3RCA.json";
var Mi = "./cookies_portuguese-3BQHT6AA.json";
var zi = "./cookies_romanian-WNAW7RAA.json";
var xi = "./cookies_russian-NFHTBMDA.json";
var Ti = "./cookies_schinese-LZLMOJBA.json";
var Bi = "./cookies_spanish-HFWXNTDA.json";
var Li = "./cookies_swedish-SU7WJ5BA.json";
var Ii = "./cookies_tchinese-IPBOFGCA.json";
var ji = "./cookies_thai-5ZF52MCA.json";
var Di = "./cookies_turkish-QTC3WUCA.json";
var Ni = "./cookies_ukrainian-CZFP46DA.json";
var Gi = "./cookies_vietnamese-SNGIHUDA.json";
var N = {};
N.brazilian = li;
N.bulgarian = mi;
N.czech = Hi;
N.danish = ci;
N.dutch = yi;
N.english = pi;
N.finnish = di;
N.french = gi;
N.german = Ci;
N.greek = vi;
N.hungarian = hi;
N.indonesian = fi;
N.italian = ki;
N.japanese = wi;
N.koreana = Si;
N.latam = Ri;
N.norwegian = Pi;
N.polish = Ai;
N.portuguese = Mi;
N.romanian = zi;
N.russian = xi;
N.schinese = Ti;
N.spanish = Bi;
N.swedish = Li;
N.tchinese = Ii;
N.thai = ji;
N.turkish = Di;
N.ukrainian = Ni;
N.vietnamese = Gi;
async function w_(t) {
  if (N[t]) return (await fetch(new URL(N[t], import.meta.url))).json();
}
var Kt = vt(w_);
var Me = b(g());
async function Fi(t) {
  let e = l.STORE_BASE_URL + "account/ajaxsetcookiepreferences",
    n = new FormData();
  n.set("bAllow", t.toString()), n.set("sessionId", Ke(ru));
  let _ = await fetch(e, { method: "POST", credentials: "include", body: n });
  if (_.ok) {
    let o = await _.json();
    o.transfer_urls &&
      o.transfer_params &&
      o.transfer_urls.forEach(async (a) => {
        let u = new FormData();
        u.set("transfer_params", o.transfer_params),
          fetch(a, { method: "POST", credentials: "include", body: u });
      });
  }
}
function Tc() {
  let t = (0, Dn.useRef)(null);
  return (
    (0, Dn.useEffect)(() => {
      let e = setTimeout(() => {
        t.current?.show();
      }, 4e3);
      return () => {
        clearTimeout(e);
      };
    }, []),
    (0, Me.jsxs)("dialog", {
      className: ui,
      ref: t,
      children: [
        (0, Me.jsxs)("div", {
          className: ii,
          children: [
            (0, Me.jsx)("div", {
              className: k_,
              children: Kt.Localize("#CookiePrefPopup_Title"),
            }),
            (0, Me.jsx)("div", {
              className: k_,
              children: yn(
                Kt.Localize("#CookiePrefPopup_Desc"),
                (0, Me.jsx)("a", {
                  href: l.STORE_BASE_URL + "account/cookiepreferences",
                }),
                (0, Me.jsx)("a", {
                  href: l.STORE_BASE_URL + "privacy_agreement",
                }),
              ),
            }),
          ],
        }),
        (0, Me.jsxs)("div", {
          className: si,
          children: [
            (0, Me.jsx)("button", {
              className: ri,
              onClick: async () => {
                await Fi(1), t.current?.close();
              },
              children: Kt.Localize("#CookiePrefPopup_AcceptAll"),
            }),
            (0, Me.jsx)("button", {
              className: bi,
              onClick: async () => {
                await Fi(0), t.current?.close();
              },
              children: Kt.Localize("#CookiePrefPopup_RejectAll"),
            }),
          ],
        }),
      ],
    })
  );
}
function Ui() {
  let t = bu();
  return t && t.preference_state != 4 ? null : (0, Me.jsx)(Tc, {});
}
var ze = b(B());
var Jt = "GamepadInput";
var Bc = "Checkout",
  Lc = "PinnedView",
  Nn = class {
    PostMessage(e) {}
    RegisterForMessage(e) {}
  },
  $t = class {
    m_fnCallback = void 0;
    constructor() {
      SteamClient.BrowserView.RegisterForMessageFromParent(this.OnMessage);
    }
    RegisterForMessage(e) {
      this.m_fnCallback = e;
    }
    PostMessage(e) {
      let n = JSON.stringify(e);
      SteamClient.BrowserView.PostMessageToParent(Jt, n);
    }
    OnMessage(e, n) {
      if (e == Jt) {
        let _ = JSON.parse(n);
        this.m_fnCallback(_);
      } else if (e == Bc) {
        let _ = JSON.parse(n);
        if (_.action == "paypal_success")
          try {
            window.OnPayPalSuccess(_.transid);
          } catch {}
        else if (_.action == "paypal_cancel")
          try {
            window.OnPayPalCancel(_.transid);
          } catch {}
      } else if (e == Lc) {
        let _ = JSON.parse(n);
        try {
          window.HandleOverlayWindowPinnedView(
            _.bPinned == !0,
            _.bShowPinnedView == !0,
          );
        } catch {}
      }
    }
  };
U([O], $t.prototype, "OnMessage", 1);
var Qt = class {
  m_postWindow;
  m_fnCallback = void 0;
  constructor(e) {
    (this.m_postWindow = e), window.addEventListener("message", this.OnMessage);
  }
  RegisterForMessage(e) {
    this.m_fnCallback = e;
  }
  PostMessage(e) {
    let n = JSON.stringify(e);
    this.m_postWindow.postMessage({ gamepadMessage: Jt, args: n }, "*");
  }
  OnMessage(e) {
    let n = e?.data;
    if (n && n.gamepadMessage == Jt && n.args) {
      let _ = JSON.parse(n.args);
      this.m_fnCallback(_);
    }
  }
};
U([O], Qt.prototype, "OnMessage", 1);
var ct = class {
  m_NavigationController;
  m_postMessage;
  m_bIsGamepadInputExternallyControlled = !1;
  constructor(e) {
    if (((this.m_NavigationController = e), Ic()))
      (this.m_bIsGamepadInputExternallyControlled = !0),
        (this.m_postMessage = new $t()),
        this.m_NavigationController.UpdateSourceToGamepad();
    else {
      let n = window.top;
      n && n != window.self
        ? ((this.m_bIsGamepadInputExternallyControlled = !0),
          (this.m_postMessage = new Qt(n)))
        : ((this.m_bIsGamepadInputExternallyControlled = !1),
          (this.m_postMessage = new Nn()));
    }
    this.m_postMessage.RegisterForMessage(this.OnMessage),
      window.addEventListener("unload", this.PostPageUnloading),
      this.m_NavigationController.RegisterForUnhandledButtonDownEvents((n) =>
        this.PostButtonPressToSteam(n.detail.button),
      ),
      this.UpdateActionDescriptions({}),
      this.SendGameInputState("CGamepadWebBridgeClient constructor");
  }
  RegisterForFocusChanged(e) {
    return e.FocusChangedCallbacks.Register(this.OnFocusChanged).Unregister;
  }
  BIsGamepadInputExternallyControlled() {
    return this.m_bIsGamepadInputExternallyControlled;
  }
  BFromActiveNavTree(e, n) {
    let _ = n?.Tree;
    return _ || (_ = e?.Tree), _ && _.Controller.IsActiveFocusNavTree(_);
  }
  OnFocusChanged(e, n, _) {
    this.BFromActiveNavTree(n, _) && this.OnActionDescriptionTargetChanged(_);
  }
  UpdateActionDescriptions(e) {
    this.m_postMessage.PostMessage({
      type: "UpdateActionDescriptions",
      data: { descriptions: e },
    });
  }
  m_rgCallbackRegistrations = [];
  OnActionDescriptionTargetChanged(e) {
    if (
      (this.m_rgCallbackRegistrations.forEach((n) => n()),
      (this.m_rgCallbackRegistrations = []),
      e)
    ) {
      let n = () =>
        this.UpdateActionDescriptions(e.GetActiveActionDescriptions() ?? {});
      n();
      for (let _ = e; _ != null; _ = _.Parent)
        this.m_rgCallbackRegistrations.push(
          e.ActionDescriptionChangedCallbackList.Register(n).Unregister,
        );
    } else this.UpdateActionDescriptions({});
  }
  OnMessage(e) {
    switch (e.type) {
      case "TakeFocus":
        this.m_NavigationController.TakeFocusChangingIFrame();
        break;
      case "ForwardedGameEventDetail":
        this.m_NavigationController.DispatchVirtualGamepad(
          e.data.event,
          e.data.details,
        );
        break;
    }
  }
  SendGameInputState(e) {
    let n = 3;
    window.bSupportsGamepadUI && (n = 4),
      this.m_postMessage.PostMessage({
        type: "GameInputState",
        data: { source: e, support: n },
      });
  }
  PostButtonPressToSteam(e) {
    this.m_postMessage.PostMessage({
      type: "ButtonPressed",
      data: { button: e },
    });
  }
  PostPageUnloading() {
    this.m_postMessage.PostMessage({
      type: "PageUnloading",
      data: { location: window.location.href },
    });
  }
};
U([O], ct.prototype, "OnFocusChanged", 1),
  U([O], ct.prototype, "OnMessage", 1),
  U([O], ct.prototype, "PostPageUnloading", 1);
function Ic() {
  return (
    Et("BrowserView.RegisterForMessageFromParent") &&
    Et("BrowserView.PostMessageToParent")
  );
}
var Oi = [
    { index: 0, type: 1, category: "action" },
    { index: 1, type: 2, category: "action" },
    { index: 2, type: 3, category: "action" },
    { index: 3, type: 4, category: "action" },
    { index: 4, type: 5, category: "action" },
    { index: 5, type: 6, category: "action" },
    { index: 6, type: 7, category: "action" },
    { index: 7, type: 8, category: "action" },
    { index: 8, type: 13, category: "action" },
    { index: 9, type: 14, category: "action" },
    { index: 10, type: 15, category: "action" },
    { index: 11, type: 16, category: "action" },
    { index: 12, type: 9, category: "navigation" },
    { index: 13, type: 10, category: "navigation" },
    { index: 14, type: 11, category: "navigation" },
    { index: 15, type: 12, category: "navigation" },
    { index: 16, type: 27, category: "action" },
    { index: 17, type: 13, category: "action" },
  ],
  Yt = class extends ot {
    m_rgGamepadStatus = [];
    constructor() {
      super(),
        this.SetSourceType(1),
        window.addEventListener("gamepadconnected", (e) => {
          this.m_bGamepadDetected ||
            (this.OnGamepadDetected(), this.PollGamepads());
        });
    }
    PollGamepads() {
      let e = navigator.getGamepads(),
        n = !1;
      for (let _ = 0; _ < e.length; _++) {
        let o = e[_];
        if (!o) continue;
        this.m_rgGamepadStatus[_] ||
          (this.m_rgGamepadStatus[_] = { buttons: [] });
        let a = this.m_rgGamepadStatus[_];
        for (let u = 0; u < Oi.length; u++) {
          let i = Oi[u],
            r = i.index;
          o.buttons[r] &&
            (o.buttons[r].pressed
              ? ((n = !0),
                a.buttons[r] ||
                  ((a.buttons[r] = !0), this.OnButtonDown(i.type)))
              : a.buttons[r] && (this.OnButtonUp(i.type), (a.buttons[r] = !1)));
        }
      }
      requestAnimationFrame(this.PollGamepads);
    }
  };
U([O], Yt.prototype, "PollGamepads", 1);
var yt = class extends ot {
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(2),
      e.addEventListener("keydown", this.OnKeyDown, { capture: !0 }),
      e.addEventListener("keyup", this.OnKeyUp, { capture: !0 }),
      e.addEventListener("blur", this.Reset);
  }
  OnKeyDown(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      e.stopPropagation(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)));
  }
  OnKeyUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n),
      (this.m_lastButtonDown = 0),
      e.preventDefault(),
      e.stopPropagation());
  }
  Reset() {
    this.m_lastButtonDown != 0 &&
      (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
  GetKeycodeFromEvent(e) {
    return _e.PLATFORM === "linux" && e.key.length > 1
      ? e.key || e.code
      : e.code || e.key;
  }
  BShouldSwallowEventForTextInputWorkaround(e) {
    if (
      !(
        qa(e.target) &&
        (e.target.nodeName === "INPUT" ||
          e.target.nodeName === "TEXTAREA" ||
          e.target.hasAttribute("contenteditable"))
      )
    )
      return !1;
    if (e.target.hasAttribute("contenteditable")) return !0;
    let _ = this.GetKeycodeFromEvent(e),
      o = e.target,
      u = Array.from(o.ownerDocument.getElementsByClassName("gpfocus")).some(
        (i) =>
          Array.from(i.classList).some((r) => r.includes("virtualkeyboard")),
      );
    switch (_) {
      case "ArrowUp": {
        if (u) return !0;
        let i = o?.value.indexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          i >= 0 &&
          i < (o?.selectionStart ?? 0)
        );
      }
      case "ArrowDown": {
        if (u) return !0;
        let i = o?.value.lastIndexOf(`
`);
        return (
          e.target.nodeName === "TEXTAREA" &&
          i >= 0 &&
          i >= (o?.selectionStart ?? 0) &&
          (o?.selectionEnd ?? 0) < o?.value.length
        );
      }
      case "ArrowLeft":
        return u
          ? !0
          : (o?.selectionStart ?? 0) > 0 && (o?.selectionEnd ?? 0) > 0;
      case "ArrowRight":
        return u
          ? !0
          : (o?.selectionStart ?? 0) < o?.value.length &&
              (o?.selectionEnd ?? 0) < o?.value.length;
      case "Enter":
        return !0;
      case "Backspace":
        return !0;
      default:
        return !1;
    }
  }
  TranslateKey(e) {
    let n = this.GetKeycodeFromEvent(e),
      _ = e.ctrlKey,
      o = e.shiftKey;
    if (this.BShouldSwallowEventForTextInputWorkaround(e)) return 0;
    if (_ && o)
      switch (n) {
        case "Digit4":
          return 7;
        case "Digit5":
          return 8;
        default:
          return 0;
      }
    if (_)
      switch (n) {
        case "Digit1":
          return 27;
        case "Digit2":
          return 28;
        case "Digit3":
          return 13;
        case "Digit4":
          return 5;
        case "Digit5":
          return 6;
        case "Digit6":
          return 15;
        case "Digit7":
          return 16;
        case "Digit8":
          return 4;
        case "Digit9":
          return 13;
        case "Digit0":
          return 14;
      }
    switch (n) {
      case "Escape":
        return 2;
      case "Enter":
        return 1;
      case "Backspace":
        return 3;
      case "ArrowUp":
        return 9;
      case "ArrowDown":
        return 10;
      case "ArrowLeft":
        return 11;
      case "ArrowRight":
        return 12;
    }
    return 0;
  }
};
U([O], yt.prototype, "OnKeyDown", 1),
  U([O], yt.prototype, "OnKeyUp", 1),
  U([O], yt.prototype, "Reset", 1);
var $e = class extends ot {
  m_nAccumulatedMouseMovement = 0;
  m_bFirstMouseUpdate = !0;
  m_nLastScreenX;
  m_nLastScreenY;
  m_lastButtonDown = 0;
  constructor(e) {
    super(),
      this.SetSourceType(3),
      e.addEventListener("mousedown", this.OnMouseDown),
      e.addEventListener("mouseup", this.OnMouseUp),
      e.addEventListener("mousemove", this.OnMouseMove),
      e.addEventListener("blur", this.Reset);
  }
  TranslateKey(e) {
    switch (e.button) {
      case 3:
        return 2;
      default:
        return 0;
    }
  }
  OnMouseDown(e) {
    if (e.defaultPrevented) return;
    let n = this.TranslateKey(e);
    n != 0 &&
      (e.preventDefault(),
      n != this.m_lastButtonDown &&
        (this.Reset(), this.OnButtonDown(n), (this.m_lastButtonDown = n)),
      this.OnNavigationTypeChanged(3));
  }
  OnMouseUp(e) {
    let n = this.TranslateKey(e);
    n != 0 &&
      (this.OnButtonUp(n), (this.m_lastButtonDown = 0), e.preventDefault());
  }
  OnMouseMove(e) {
    if (!e.defaultPrevented) {
      if (this.m_bFirstMouseUpdate) {
        (this.m_nLastScreenX = e.screenX),
          (this.m_nLastScreenY = e.screenY),
          (this.m_bFirstMouseUpdate = !1);
        return;
      }
      (this.m_nAccumulatedMouseMovement +=
        Math.abs(e.screenX - this.m_nLastScreenX) +
        Math.abs(e.screenY - this.m_nLastScreenY)),
        this.m_nAccumulatedMouseMovement > 500 &&
          (this.Reset(), this.OnNavigationTypeChanged(3));
    }
  }
  Reset() {
    (this.m_nAccumulatedMouseMovement = 0),
      (this.m_bFirstMouseUpdate = !0),
      this.m_lastButtonDown != 0 &&
        (this.OnButtonUp(this.m_lastButtonDown), (this.m_lastButtonDown = 0));
  }
};
U([O], $e.prototype, "TranslateKey", 1),
  U([O], $e.prototype, "OnMouseDown", 1),
  U([O], $e.prototype, "OnMouseUp", 1),
  U([O], $e.prototype, "OnMouseMove", 1),
  U([O], $e.prototype, "Reset", 1);
var Pt = class extends ot {
  constructor(e) {
    super(),
      this.SetSourceType(4),
      e.addEventListener("touchstart", this.OnTouchStart),
      e.addEventListener("touchend", this.OnTouchEnd);
  }
  OnTouchStart(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
  OnTouchEnd(e) {
    e.defaultPrevented || this.OnNavigationTypeChanged(4);
  }
};
U([O], Pt.prototype, "OnTouchStart", 1), U([O], Pt.prototype, "OnTouchEnd", 1);
var P_ = "VirtualKeyboardMessage";
function Vi(t) {
  return t && t.type === P_;
}
var Qe = class {
  m_ownerWindow;
  constructor() {}
  Init(e) {
    return (
      (this.m_ownerWindow = e),
      this.m_ownerWindow.addEventListener("message", this.OnMessage),
      () => {
        this.m_ownerWindow.removeEventListener("message", this.OnMessage),
          (this.m_ownerWindow = void 0);
      }
    );
  }
  CreateVirtualKeyboardRef() {
    return {
      ShowVirtualKeyboard: this.ShowVirtualKeyboard,
      ShowModalKeyboard: this.ShowModalKeyboard,
      SetAsCurrentVirtualKeyboardTarget: () => {},
      HideVirtualKeyboard: this.HideVirtualKeyboard,
      DelayHideVirtualKeyboard: this.HideVirtualKeyboard,
      BIsActive: () => !0,
      BIsElementValidForInput: () => !0,
    };
  }
  ShowVirtualKeyboard() {
    this.SendMessage({ message: "ShowVirtualKeyboard" });
  }
  ShowModalKeyboard() {
    this.SendMessage({ message: "ShowModalKeyboard" });
  }
  HideVirtualKeyboard(e) {
    this.SendMessage({ message: "HideVirtualKeyboard", msDelay: e });
  }
  OnBrowserViewMessage(e, n) {
    e == P_ && this.InternalDispatchMessage(JSON.parse(n));
  }
  OnMessage(e) {
    this.InternalDispatchMessage(e.data);
  }
  InternalDispatchMessage(e) {
    if (Vi(e))
      switch (e.message) {
        case "OnEnterKeyPress":
          break;
      }
  }
  SendMessage(e) {
    let n = { type: "VirtualKeyboardMessage", ...e };
    Et("BrowserView.PostMessageToParent")
      ? SteamClient.BrowserView.PostMessageToParent(n.type, JSON.stringify(n))
      : this.m_ownerWindow &&
        (pn(
          this.m_ownerWindow.parent &&
            this.m_ownerWindow.parent != this.m_ownerWindow,
          "CVirtualKeyboardClient: No parent client window available, cannot display virtual keyboard",
        ),
        this.m_ownerWindow.parent.postMessage(n, "*"));
  }
};
U([O], Qe.prototype, "ShowVirtualKeyboard", 1),
  U([O], Qe.prototype, "ShowModalKeyboard", 1),
  U([O], Qe.prototype, "HideVirtualKeyboard", 1),
  U([O], Qe.prototype, "OnBrowserViewMessage", 1),
  U([O], Qe.prototype, "OnMessage", 1);
var R_ = class {
  m_showKeyboard;
  m_showModalKeyboard;
  m_hideKeyboard;
  constructor(e, n, _, o) {
    (this.m_showKeyboard = n),
      (this.m_showModalKeyboard = _),
      (this.m_hideKeyboard = o),
      e.on("message", this.OnMessage);
  }
  OnMessage(e, n, _) {
    if (e == P_) {
      let o = JSON.parse(n);
      if (Vi(o))
        switch (o.message) {
          case "ShowVirtualKeyboard":
            this.m_showKeyboard();
            break;
          case "ShowModalKeyboard":
            this.m_showModalKeyboard();
            break;
          case "HideVirtualKeyboard":
            this.m_hideKeyboard();
            break;
        }
    }
  }
};
U([O], R_.prototype, "OnMessage", 1);
var Ye = b(g());
function Wi(t) {
  let [e] = ze.useState(() => new Ya()),
    [n, _] = ze.useState(),
    [o] = ze.useState(() => new Qe()),
    [a, u] = ze.useState(void 0),
    i = qe();
  return (
    ze.useEffect(() => {
      if (i && !n) {
        let m = new ct(e);
        _(m), u(m.BIsGamepadInputExternallyControlled());
      }
    }, [i, n, e]),
    ze.useEffect(() => {
      if (i) return o.Init(window);
    }, [i, o]),
    (0, Ye.jsxs)(Xa, {
      controller: e,
      children: [
        a === !1 && i === !0 && (0, Ye.jsx)(Nc, {}),
        (a === !0 || i === !0) && (0, Ye.jsx)(Gc, {}),
        i && (0, Ye.jsx)(Fc, {}),
        (0, Ye.jsxs)(eu, {
          ownerWindow: window,
          children: [
            n && (0, Ye.jsx)(Dc, { bridge: n }),
            (0, Ye.jsx)(Za, { factory: o, children: t.children }),
          ],
        }),
      ],
    })
  );
}
function Dc(t) {
  let { bridge: e } = t,
    n = tu();
  return (
    ze.useEffect(() => {
      if (!(!n || !e)) return e.RegisterForFocusChanged(n);
    }, [n, e]),
    null
  );
}
function Nc() {
  let [t] = ze.useState(() => new Yt());
  return y_(t), null;
}
function A_(t) {
  let [e, n] = ze.useState(void 0);
  ze.useEffect(() => n(new t(window)), [t]), y_(e);
}
function Gc() {
  return A_(yt), null;
}
function Fc() {
  return A_($e), A_(Pt), null;
}
var Wn = b(ye(), 1),
  Kb = b(B(), 1);
var Fn = b(B()),
  qi = b(B());
var Gn = b(g());
function Un(t) {
  let { dynamicImport: e, fallback: n, ..._ } = t,
    [o] = (0, Fn.useState)(() =>
      qi.default.lazy(async () => ({ default: await e() })),
    );
  return (0, Gn.jsx)(mu, {
    fallback: n,
    children: (0, Gn.jsx)(Fn.Suspense, {
      fallback: n,
      children: (0, Gn.jsx)(o, { ..._ }),
    }),
  });
}
var Gr = b(ye(), 1),
  at = b(B(), 1);
var At = b(B(), 1);
var Ki = "FbRIoYoNi9g-";
var Ji = "vnGo6vvKWMk-";
var $i = "kCO5XYi3veo-";
var Qi = "Ca4SW9HC3ME-";
var Yi = "P0JO-Sl0erw-";
var Ue = b(g(), 1);
async function M_(t, e) {
  let n = new FormData();
  n.set("language", t);
  let _ = await fetch(e, {
    method: "POST",
    credentials: "same-origin",
    body: n,
  });
  if (!_.ok) throw _;
}
function Zi(t) {
  let {
      open: e,
      menuAction: n,
      changeLanguagePath: _,
      bLoggedIn: o,
      onDismiss: a,
    } = t,
    [u, i] = (0, At.useState)(!1),
    r = (0, At.useRef)(null);
  (0, At.useEffect)(() => {
    e ? r.current?.showModal() : r.current?.close();
  }, [e]);
  async function H(m) {
    i(!0);
    try {
      await M_(m, _);
    } catch (d) {
      console.error(d), i(!1);
      return;
    }
    o
      ? (location.href = l.STORE_BASE_URL + "account/languagepreferences/")
      : n.href
        ? (location.href = n.href)
        : location.reload();
  }
  return (0, Ue.jsx)("dialog", {
    ref: r,
    className: Ki,
    onMouseDown: (m) => m.target === r.current && a(),
    children: (0, Ue.jsxs)("div", {
      children: [
        (0, Ue.jsx)("hr", { className: $i }),
        (0, Ue.jsxs)("form", {
          method: "dialog",
          className: Ji,
          onSubmit: (m) => H(m.target.elements.namedItem("language")?.value),
          children: [
            (0, Ue.jsx)("select", {
              disabled: u,
              name: "language",
              onChange: (m) => H(m.target.value),
              defaultValue: ht().strLanguage,
              children: t.menuAction.children?.map((m) =>
                (0, Ue.jsx)(
                  "option",
                  { value: m.action_parameters?.language, children: m.label },
                  m.label,
                ),
              ),
            }),
            (0, Ue.jsx)("div", {
              className: Qi,
              children: (0, Ue.jsx)("input", {
                type: "submit",
                value: "OK",
                className: Yi,
              }),
            }),
          ],
        }),
      ],
    }),
  });
}
var z_ = "h3Jy-1Il1os-";
var Xi = "HOrB6lehQpg-";
var er = "_7iCcob-JJ4g-";
var tr = "QYT54GHN-rI-";
var nr = "_79DIT7RUQ5g-";
var x_ = "Hxi-pnf9Xlw-";
var T_ = "TwsehSqoph8-";
var _r = "cQPGTl-Lp-0-";
var or = "rzUmQa-ty1I-";
var B_ = "_2CYMhC951F4-";
var ar = "h8dQ-Uyh4L0-";
var ur = "NzGUCXVXDcA-";
var ir = "L09rGTMfR9c-";
var rr = "./global_header_brazilian-53KW44CA.json";
var br = "./global_header_bulgarian-ZZXRWCBA.json";
var sr = "./global_header_czech-DJIVXRCA.json";
var lr = "./global_header_danish-P2TF25DA.json";
var mr = "./global_header_dutch-7E76TWDA.json";
var Hr = "./global_header_english-F2LU6TBA.json";
var cr = "./global_header_finnish-DU6XP6CA.json";
var yr = "./global_header_french-PI2EE3CA.json";
var pr = "./global_header_german-ZWLA5LCA.json";
var dr = "./global_header_greek-CA2HDYDA.json";
var gr = "./global_header_hungarian-UB5LTKDA.json";
var Cr = "./global_header_indonesian-MBENTBBA.json";
var vr = "./global_header_italian-R43PL5DA.json";
var hr = "./global_header_japanese-W4G3OSDA.json";
var fr = "./global_header_koreana-UU4SJADA.json";
var kr = "./global_header_latam-HRFU66CA.json";
var wr = "./global_header_norwegian-QDUWNXBA.json";
var Sr = "./global_header_polish-KJ3L66AA.json";
var Rr = "./global_header_portuguese-JFUPEFCA.json";
var Pr = "./global_header_romanian-4FLNKVBA.json";
var Ar = "./global_header_russian-YVPP5QAA.json";
var Mr = "./global_header_sc_schinese-MKJGJICA.json";
var zr = "./global_header_schinese-EMP74NBA.json";
var xr = "./global_header_spanish-KIXBTGCA.json";
var Tr = "./global_header_swedish-4HWK3GBA.json";
var Br = "./global_header_tchinese-LEIC2VAA.json";
var Lr = "./global_header_thai-HK4PYOBA.json";
var Ir = "./global_header_turkish-MKIJAGBA.json";
var jr = "./global_header_ukrainian-F3P6YVAA.json";
var Dr = "./global_header_vietnamese-KH5UZSCA.json";
var j = {};
j.brazilian = rr;
j.bulgarian = br;
j.czech = sr;
j.danish = lr;
j.dutch = mr;
j.english = Hr;
j.finnish = cr;
j.french = yr;
j.german = pr;
j.greek = dr;
j.hungarian = gr;
j.indonesian = Cr;
j.italian = vr;
j.japanese = hr;
j.koreana = fr;
j.latam = kr;
j.norwegian = wr;
j.polish = Sr;
j.portuguese = Rr;
j.romanian = Pr;
j.russian = Ar;
j.sc_schinese = Mr;
j.schinese = zr;
j.spanish = xr;
j.swedish = Tr;
j.tchinese = Br;
j.thai = Lr;
j.turkish = Ir;
j.ukrainian = jr;
j.vietnamese = Dr;
async function L_(t) {
  if (j[t]) return (await fetch(new URL(j[t], import.meta.url))).json();
}
var E = vt(L_);
function On() {
  let t = document.createElement("form");
  (t.action = "/logout/"),
    (t.method = "POST"),
    document.body.appendChild(t),
    t.submit();
}
var s = b(Ma());
var I_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country_code || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              country_code: { n: 1, br: C.readString, bw: h.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Request";
    }
  },
  j_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotions || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { promotions: { n: 1, c: D_, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response";
    }
  },
  D_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.promotionid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              promotionid: { n: 1, br: C.readUint32, bw: h.writeUint32 },
              promotion_description: {
                n: 2,
                br: C.readString,
                bw: h.writeString,
              },
              minimum_cart_amount: {
                n: 3,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              minimum_cart_amount_for_display: {
                n: 4,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              discount_amount: {
                n: 5,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              currency_code: { n: 6, br: C.readInt32, bw: h.writeInt32 },
              available_use_count: { n: 7, br: C.readInt32, bw: h.writeInt32 },
              promotional_discount_type: {
                n: 8,
                br: C.readInt32,
                bw: h.writeInt32,
              },
              loyalty_reward_id: { n: 9, br: C.readInt32, bw: h.writeInt32 },
              localized_name_token: {
                n: 10,
                br: C.readString,
                bw: h.writeString,
              },
              max_use_count: { n: 11, br: C.readInt32, bw: h.writeInt32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAvailableValveDiscountPromotions_Response_ValveDiscountPromotionDetails";
    }
  },
  N_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.has_wallet || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, [13], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              has_wallet: { n: 1, br: C.readBool, bw: h.writeBool },
              user_country_code: { n: 2, br: C.readString, bw: h.writeString },
              wallet_country_code: {
                n: 3,
                br: C.readString,
                bw: h.writeString,
              },
              wallet_state: { n: 4, br: C.readString, bw: h.writeString },
              balance: { n: 5, br: C.readInt64String, bw: h.writeInt64String },
              delayed_balance: {
                n: 6,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              currency_code: { n: 7, br: C.readInt32, bw: h.writeInt32 },
              time_most_recent_txn: {
                n: 8,
                br: C.readUint32,
                bw: h.writeUint32,
              },
              most_recent_txnid: {
                n: 9,
                br: C.readUint64String,
                bw: h.writeUint64String,
              },
              balance_in_usd: {
                n: 10,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              delayed_balance_in_usd: {
                n: 11,
                br: C.readInt64String,
                bw: h.writeInt64String,
              },
              has_wallet_in_other_regions: {
                n: 12,
                br: C.readBool,
                bw: h.writeBool,
              },
              other_regions: {
                n: 13,
                r: !0,
                q: !0,
                br: C.readInt32,
                pbr: C.readPackedInt32,
                bw: h.writeRepeatedInt32,
              },
              formatted_balance: { n: 14, br: C.readString, bw: h.writeString },
              formatted_delayed_balance: {
                n: 15,
                br: C.readString,
                bw: h.writeString,
              },
              delayed_balance_available_min_time: {
                n: 16,
                br: C.readInt32,
                bw: h.writeInt32,
              },
              delayed_balance_available_max_time: {
                n: 17,
                br: C.readInt32,
                bw: h.writeInt32,
              },
              delayed_balance_newest_source: {
                n: 18,
                br: C.readInt32,
                bw: h.writeInt32,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetWalletDetails_Response";
    }
  },
  G_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.include_balance_in_usd || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              include_balance_in_usd: { n: 1, br: C.readBool, bw: h.writeBool },
              wallet_region: { n: 2, d: 1, br: C.readInt32, bw: h.writeInt32 },
              include_formatted_balance: {
                n: 3,
                br: C.readBool,
                bw: h.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetClientWalletDetails_Request";
    }
  },
  F_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Request";
    }
  },
  U_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.pwid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              pwid: { n: 1, br: C.readUint32, bw: h.writeUint32 },
              identity_verification: {
                n: 2,
                br: C.readUint32,
                bw: h.writeUint32,
              },
              performed_age_verification: {
                n: 3,
                br: C.readBool,
                bw: h.writeBool,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetAccountLinkStatus_Response";
    }
  },
  O_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.appid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { appid: { n: 1, br: C.readUint32, bw: h.writeUint32 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Request";
    }
  },
  E_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CancelLicenseForApp_Response";
    }
  },
  V_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: C.readFixed64String,
                bw: h.writeFixed64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Request";
    }
  },
  W_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.country || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { country: { n: 1, br: C.readString, bw: h.writeString } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetUserCountry_Response";
    }
  },
  q_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_limit || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_limit: { n: 1, br: C.readUint32, bw: h.writeUint32 },
              invite_duration: { n: 2, br: C.readUint32, bw: h.writeUint32 },
              invite_note: { n: 3, br: C.readString, bw: h.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Request";
    }
  },
  En = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: C.readString, bw: h.writeString },
              invite_limit: {
                n: 2,
                br: C.readUint64String,
                bw: h.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: C.readUint64String,
                bw: h.writeUint64String,
              },
              time_created: { n: 4, br: C.readFixed32, bw: h.writeFixed32 },
              valid: { n: 5, br: C.readBool, bw: h.writeBool },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_CreateFriendInviteToken_Response";
    }
  },
  K_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Request";
    }
  },
  J_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.tokens || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { tokens: { n: 1, c: En, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_GetFriendInviteTokens_Response";
    }
  },
  $_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: C.readFixed64String,
                bw: h.writeFixed64String,
              },
              invite_token: { n: 2, br: C.readString, bw: h.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Request";
    }
  },
  Q_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.valid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              valid: { n: 1, br: C.readBool, bw: h.writeBool },
              steamid: {
                n: 2,
                br: C.readUint64String,
                bw: h.writeUint64String,
              },
              invite_duration: {
                n: 3,
                br: C.readUint64String,
                bw: h.writeUint64String,
              },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_ViewFriendInviteToken_Response";
    }
  },
  Y_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: C.readFixed64String,
                bw: h.writeFixed64String,
              },
              invite_token: { n: 2, br: C.readString, bw: h.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Request";
    }
  },
  Z_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RedeemFriendInviteToken_Response";
    }
  },
  X_ = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.invite_token || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              invite_token: { n: 1, br: C.readString, bw: h.writeString },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Request";
    }
  },
  eo = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RevokeFriendInviteToken_Response";
    }
  },
  to = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.compat_tool || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              compat_tool: { n: 1, br: C.readUint32, bw: h.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Request";
    }
  },
  no = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserAccount_RegisterCompatTool_Response";
    }
  },
  _o = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: C.readFixed64String,
                bw: h.writeFixed64String,
              },
              client_token: { n: 2, br: C.readBytes, bw: h.writeBytes },
              expiry: { n: 3, br: C.readUint32, bw: h.writeUint32 },
              deviceid: { n: 4, br: C.readUint32, bw: h.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_Token";
    }
  },
  oo = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.result || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              result: { n: 1, br: C.readUint32, bw: h.writeUint32 },
              token: { n: 2, c: _o },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeDevice_Response";
    }
  },
  ao = class t extends s.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.steamid || Q(t.M()),
        s.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              steamid: {
                n: 1,
                br: C.readFixed64String,
                bw: h.writeFixed64String,
              },
              appid: { n: 2, br: C.readUint32, bw: h.writeUint32 },
              device_info: { n: 3, br: C.readString, bw: h.writeString },
              deviceid: { n: 4, br: C.readUint32, bw: h.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new s.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new s.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CEmbeddedClient_AuthorizeCurrentDevice_Request";
    }
  },
  uo;
((d) => {
  function t(y, c) {
    return y.SendMsg(
      "UserAccount.GetAvailableValveDiscountPromotions#1",
      ce(I_, c),
      j_,
      { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
    );
  }
  d.GetAvailableValveDiscountPromotions = t;
  function e(y, c) {
    return y.SendMsg("UserAccount.GetClientWalletDetails#1", ce(G_, c), N_, {
      ePrivilege: 1,
    });
  }
  d.GetClientWalletDetails = e;
  function n(y, c) {
    return y.SendMsg("UserAccount.GetAccountLinkStatus#1", ce(F_, c), U_, {
      ePrivilege: 1,
    });
  }
  d.GetAccountLinkStatus = n;
  function _(y, c) {
    return y.SendMsg("UserAccount.CancelLicenseForApp#1", ce(O_, c), E_, {
      ePrivilege: 1,
    });
  }
  d.CancelLicenseForApp = _;
  function o(y, c) {
    return y.SendMsg("UserAccount.GetUserCountry#1", ce(V_, c), W_, {
      ePrivilege: 1,
    });
  }
  d.GetUserCountry = o;
  function a(y, c) {
    return y.SendMsg("UserAccount.CreateFriendInviteToken#1", ce(q_, c), En, {
      ePrivilege: 3,
    });
  }
  d.CreateFriendInviteToken = a;
  function u(y, c) {
    return y.SendMsg("UserAccount.GetFriendInviteTokens#1", ce(K_, c), J_, {
      ePrivilege: 1,
    });
  }
  d.GetFriendInviteTokens = u;
  function i(y, c) {
    return y.SendMsg("UserAccount.ViewFriendInviteToken#1", ce($_, c), Q_, {
      ePrivilege: 1,
    });
  }
  d.ViewFriendInviteToken = i;
  function r(y, c) {
    return y.SendMsg("UserAccount.RedeemFriendInviteToken#1", ce(Y_, c), Z_, {
      ePrivilege: 1,
    });
  }
  d.RedeemFriendInviteToken = r;
  function H(y, c) {
    return y.SendMsg("UserAccount.RevokeFriendInviteToken#1", ce(X_, c), eo, {
      ePrivilege: 1,
    });
  }
  d.RevokeFriendInviteToken = H;
  function m(y, c) {
    return y.SendMsg("UserAccount.RegisterCompatTool#1", ce(to, c), no, {
      ePrivilege: 1,
    });
  }
  d.RegisterCompatTool = m;
})((uo ||= {}));
var vy;
((e) => {
  function t(n, _) {
    return n.SendMsg("EmbeddedClient.AuthorizeCurrentDevice#1", ce(ao, _), oo, {
      ePrivilege: 1,
    });
  }
  e.AuthorizeCurrentDevice = t;
})((vy ||= {}));
function hy() {
  return ["CurrentUserWalletDetails", fe.accountid];
}
function fy(t) {
  return {
    queryKey: hy(),
    queryFn: async () => {
      if (!fe.accountid) return;
      let e = l.EREALM === 2;
      return (
        await uo.GetClientWalletDetails(t, {
          wallet_region: e ? 2 : 1,
          include_formatted_balance: !0,
        })
      )
        .Body()
        .toObject();
    },
    staleTime: 10 * 60 * 1e3,
  };
}
function Vn() {
  let t = ge();
  return me(fy(t));
}
var Z = b(g(), 1);
function Fr(t) {
  let { action: e } = t,
    n = (0, at.useContext)(Ur),
    _ = "span",
    o = {};
  return (
    e.href &&
      ((_ = P),
      (o.to = e.href),
      (o.external = !e.ssr),
      e.href.startsWith(l.STORE_BASE_URL) &&
        (o.snr = { feature: "globalheader" })),
    e.action &&
      (e.href || (_ = "button"),
      (o.onClick = async function (u) {
        switch ((u.preventDefault(), e.action)) {
          case 1: {
            On();
            return;
          }
          case 2: {
            if (e.action_parameters?.language === void 0)
              throw "Missing language";
            try {
              await M_(e.action_parameters.language, n.changeLanguagePath);
            } catch (i) {
              console.error(i);
              return;
            }
            n.userDetails
              ? (location.href =
                  l.STORE_BASE_URL + "account/languagepreferences/")
              : e.href
                ? (location.href = e.href)
                : location.reload();
            return;
          }
        }
      })),
    (0, Z.jsx)(kt, {
      menuTarget: (0, Z.jsx)(_, {
        ...o,
        tabIndex: 0,
        className: T_,
        children: yn(e.label, (0, Z.jsx)("span", { className: Xi })),
      }),
      direction: "left",
      className: or,
      children: e.children?.map((a, u) => (0, Z.jsx)(Fr, { action: a }, u)),
    })
  );
}
var Ur = (0, at.createContext)({});
function Nr(t) {
  return (0, Z.jsx)(Ur.Provider, {
    value: t,
    children: t.globalActions.map((e, n) =>
      (0, Z.jsx)(
        kt,
        {
          direction: "down-left",
          menuTarget: (0, Z.jsx)("button", {
            className: tr,
            children: e.label,
          }),
          className: _r,
          interactionMode: 1,
          children: e.children?.map((_, o) => (0, Z.jsx)(Fr, { action: _ }, o)),
        },
        n,
      ),
    ),
  });
}
function ky() {
  let { data: t } = Vn();
  return (0, Z.jsx)("div", { className: nr, children: t?.formatted_balance });
}
function Or(t) {
  let { userDetails: e } = t,
    [n, _] = (0, at.useState)(void 0),
    o = `/login/${n ? `?redir=${encodeURIComponent(n)}` : ""}`;
  return (
    (0, at.useEffect)(() => {
      _(location.href);
    }, []),
    e
      ? (0, Z.jsxs)("div", {
          className: z_,
          children: [
            (0, Z.jsx)("a", {
              className: B_,
              href: l.STORE_BASE_URL + "about/",
              children: E.Localize("#global_menu_install_steam"),
            }),
            t.notifications &&
              (0, Z.jsx)("div", {
                className: ur,
                children: (0, Z.jsx)(Un, {
                  dynamicImport: async () =>
                    (await import("./greenenvelope-MTHXLYDY.js")).GreenEnvelope,
                  fallback: (0, Z.jsx)("div", { className: ir }),
                  bResponsiveHeader: !1,
                  notifications: t.notifications,
                }),
              }),
            (0, Z.jsxs)("div", {
              className: x_,
              children: [
                (0, Z.jsx)(Nr, {
                  userDetails: e,
                  globalActions: t.globalActions,
                  changeLanguagePath: t.changeLanguagePath,
                }),
                (0, Z.jsx)(ky, {}),
              ],
            }),
            (0, Z.jsx)("a", {
              className: er,
              href: Wt(e),
              children: (0, Z.jsx)(kn, {
                playerLinkDetails: e,
                statusPosition: "border",
                alt: "",
                role: "presentation",
                size: "Small",
              }),
            }),
          ],
        })
      : (0, Z.jsx)("div", {
          className: z_,
          children: (0, Z.jsxs)("div", {
            className: x_,
            children: [
              (0, Z.jsx)("a", {
                className: (0, Gr.default)(B_, ar),
                href: l.STORE_BASE_URL + "about/",
                children: E.Localize("#global_menu_install_steam"),
              }),
              " ",
              (0, Z.jsx)("a", {
                href: o,
                className: T_,
                children: E.Localize("#global_menu_login"),
              }),
              "  |  ",
              (0, Z.jsx)(Nr, {
                userDetails: e,
                globalActions: t.globalActions,
                changeLanguagePath: t.changeLanguagePath,
              }),
            ],
          }),
        })
  );
}
var Er = "eGsI8rO3zfU-";
var Vr = "Ca2l5LKN6as-";
var Wr = "CVZpOujCk08-";
var qr = "ewJx-kmPr-8-";
var io = "_2GKjdN512t4-";
var Kr = "SmaLDT4y0RE-";
var Jr = "LyTAF1R-NHw-";
var $r = "FhcQPauG0Bc-";
var Qr = "_40MmWrTStR0-";
var Yr = "_5N8HUkyU1sA-";
var ro = b(ye(), 1),
  ub = b(B(), 1);
var Zr = "MMrgod6KQlc-";
var Xr = "k0AAbwuFzJQ-";
var eb = "ofgQne2Wvqg-";
var tb = "FTufO00UqAw-";
var nb = "iHkamGVWNgw-";
var _b = "_9-ylsFqlD1Y-";
var ob = "_99jWUQL7ajk-";
var ab = "maI6DbOJuy4-";
var ve = b(g(), 1),
  Ze = (0, ub.forwardRef)(function (e, n) {
    let { item: _, responsive: o, className: a, ...u } = e,
      i = Ln().startsWith(_.href),
      r = _.label;
    return (
      o && (r = _.label_responsive ?? _.label),
      (0, ve.jsx)(ve.Fragment, {
        children: (0, ve.jsxs)(P, {
          className: (0, ro.default)(a, _.valveOnly && ob),
          to: _.href,
          "aria-current": i ? "page" : void 0,
          external: !_.ssr,
          snr: _.href.startsWith(l.STORE_BASE_URL) && {
            feature: "globalheader",
          },
          ref: n,
          ...u,
          children: [
            r,
            _.new &&
              (0, ve.jsx)("span", {
                className: ab,
                children: E.Localize("#m_ext_new"),
              }),
          ],
        }),
      })
    );
  });
function ib(t) {
  let { navContent: e } = t;
  return (0, ve.jsx)(kt, {
    menuTarget: (0, ve.jsx)(Ze, { item: e, className: _b }),
    direction: "right",
    children: e.children?.map((n, _) => (0, ve.jsx)(ib, { navContent: n }, _)),
  });
}
function rb(t) {
  return (0, ve.jsx)("nav", {
    className: Zr,
    children: (0, ve.jsx)("ul", {
      className: Xr,
      children: t.navContent.map((e, n) =>
        (0, ve.jsx)(
          kt,
          {
            menuTarget: (0, ve.jsx)(Ze, {
              item: e,
              className: (0, ro.default)(eb, e.userContent && tb),
            }),
            direction: "down",
            className: nb,
            children: e.children?.map((_, o) =>
              (0, ve.jsx)(ib, { navContent: _ }, o),
            ),
          },
          n,
        ),
      ),
    }),
  });
}
var bb = "/X3MIBOBA.png";
var sb = "/TYQTXQDA.svg";
var bo = "/5EH3SHCA.svg";
var lb = "/KSEIVHDA.png";
function Mt() {
  return Ke(Vt) === "desktop";
}
function zy() {
  return Ke(Vt) === "touch";
}
function mb() {
  let t = [];
  return (
    Mt() ? t.push("force_desktop") : t.push("responsive"),
    zy() && t.push("touch"),
    t.join(" ")
  );
}
function Hb() {
  vn(Vt, "desktop"), "location" in window && location.reload();
}
function cb() {
  Mt() && hn(Vt), "location" in window && location.reload();
}
var Le = b(ye(), 1),
  Ie = b(B(), 1);
var yb = "UJ-b28jREN4-";
var pb = "-ackiz2p900-";
var db = "dsfHY-n2vRo-";
var gb = "_7QSpS4Fcxis-";
var Cb = "SMuDlFUQZ7c-";
var vb = "fbumr489F1M-";
var hb = "_4Irj26b6cAc-";
var fb = "J0hwuL-5qaI-";
var so = "vaiPH0LUuOg-";
var lo = "lHc2D8LzCAM-";
var kb = "qMsE88Z2WWg-";
var wb = "SI1K4dzVIa4-";
var Sb = "wQ0CyaaCCZw-";
var Rb = "QB99AacwCmk-";
var Pb = "_8pHkaq8PPAw-";
var Oe = "Ud1IMOOMuOI-";
var Ab = "_58A1pqE2uSo-";
var pt = "myYtt3d51V4-";
var Mb = "cmJ4ozhx9RE-";
var zb = "_2wGlOytoBKw-";
var xb = "_049Kz8GkLto-";
var Tb = "qNNahG-7Lqc-";
var Bb = "Yp-VG7Zk9AY-";
var Lb = "CX4Bz9fkpP4-";
var Ib = "mL8bNWbmixg-";
var jb = "fPuSnTPv8Sw-";
var Db = "pHDUu-G3uyI-";
var Nb = "do714Zjyklo-";
var Gb = "eemuAILDlkQ-";
var Fb = "Q-TiFOlMJ8s-";
var mo = "V29-mSaJz7Q-";
var Ub = "lFK0b3Au9I8-";
var Ob = "eaAkMgON-CQ-";
var Eb = "gLRm-ue6Z7Q-";
var Vb = "RRZn8XwJQEk-";
var p = b(g(), 1);
function Ty(t) {
  return t.private_data?.persona_state === 0
    ? hb
    : t.private_data?.game_id !== void 0
      ? vb
      : Cb;
}
function By() {
  let { data: t } = Rn();
  return t
    ? (0, p.jsx)("div", {
        className: so,
        children: (0, p.jsx)(P, {
          snr: !0,
          external: !0,
          to: l.STORE_BASE_URL + "cart",
          className: so,
          children: E.LocalizeReact(
            "#Cart_CountWidget",
            (0, p.jsx)("b", { children: Ft(t) }),
          ),
        }),
      })
    : null;
}
function Ly() {
  let { data: t } = Vn();
  return t?.formatted_balance
    ? (0, p.jsx)("div", {
        className: lo,
        children: (0, p.jsx)(P, {
          snr: !0,
          external: !0,
          to: l.STORE_BASE_URL + "account",
          className: lo,
          children: E.LocalizeReact(
            "#responsive_menu_wallet_balance",
            (0, p.jsx)("b", { children: t.formatted_balance }),
          ),
        }),
      })
    : null;
}
function Wb(t) {
  let { navContent: e, children: n, labelAddition: _ } = t,
    o = (0, Ie.useRef)(null),
    a = (0, Ie.useRef)(null),
    u = (0, Ie.useRef)(null),
    i = (0, Ie.useRef)();
  if (!n && (!e.children || e.children.length === 0))
    return (0, p.jsx)(Ze, { item: e, className: Oe, responsive: !0 });
  function r() {
    o.current &&
      (i.current && i.current.cancel(),
      (i.current = o.current.animate(
        {
          height: [
            `${u.current.offsetHeight}px`,
            `${a.current.offsetHeight + u.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )));
  }
  function H() {
    o.current &&
      (i.current && i.current.cancel(),
      (i.current = o.current.animate(
        {
          height: [
            `${a.current.offsetHeight + u.current.offsetHeight}px`,
            `${u.current.offsetHeight}px`,
          ],
        },
        { duration: 250, fill: "forwards" },
      )),
      i.current.addEventListener("finish", () => {
        o.current && (o.current.open = !1);
      }));
  }
  function m() {
    o.current?.open ? r() : o.current && H();
  }
  return (0, p.jsxs)("details", {
    name: "responsive-menu",
    className: Rb,
    ref: o,
    onToggle: m,
    children: [
      (0, p.jsxs)("summary", {
        className: Oe,
        ref: u,
        children: [
          e.label_responsive ?? e.label,
          " ",
          _,
          " ",
          (0, p.jsx)("div", { className: Ab }),
        ],
      }),
      (0, p.jsxs)("div", {
        className: Pb,
        ref: a,
        children: [
          e.children?.map((d, y) =>
            (0, p.jsx)(Ze, { item: d, className: Mb, responsive: !0 }, y),
          ),
          n,
        ],
      }),
    ],
  });
}
function Iy() {
  return (0, p.jsxs)(p.Fragment, {
    children: [
      (0, p.jsxs)("div", {
        className: Ib,
        children: [
          (0, p.jsx)(P, {
            snr: !0,
            external: !0,
            to: l.STORE_BASE_URL + "about",
            children: "关于蒸汽平台",
          }),
          "  |  ",
          (0, p.jsx)(P, {
            snr: !0,
            external: !0,
            to: l.STORE_BASE_URL + "steam_refunds",
            children: "退款政策",
          }),
          "  |  ",
          (0, p.jsx)(P, {
            snr: !0,
            external: !0,
            to: l.STORE_BASE_URL + "subscriber_agreement",
            children: "软件许可服务协议",
          }),
          "  |  ",
          (0, p.jsx)("br", {}),
          (0, p.jsx)(P, {
            snr: !0,
            external: !0,
            to: l.STORE_BASE_URL + "privacy_agreement",
            children: "个人信息保护政策",
          }),
          "  |  ",
          (0, p.jsx)(P, {
            snr: !0,
            external: !0,
            to: l.STORE_BASE_URL + "data_outbound",
            children: "个人信息出境告知书",
          }),
          "  |  ",
          (0, p.jsx)("br", {}),
          (0, p.jsx)(P, {
            to: "https://about.steamchina.com/content_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "不良内容举报投诉",
          }),
          "  |  ",
          (0, p.jsx)(P, {
            to: "https://about.steamchina.com/infringement_report.html",
            target: "_blank",
            rel: "noreferrer",
            children: "侵权投诉",
          }),
          "  |  ",
          (0, p.jsx)(P, {
            to: "https://about.steamchina.com/parentguardianship_agreement.html",
            target: "_blank",
            rel: "noreferrer",
            children: "家长监护",
          }),
        ],
      }),
      (0, p.jsxs)("div", {
        className: jb,
        children: [
          (0, p.jsxs)(P, {
            external: !0,
            className: mo,
            to: "http://qr.weibo.cn/g/7kla92",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, p.jsx)("img", {
                alt: "微博",
                className: Ob,
                src: `${l.STORE_CDN_URL}/public/shared/images/footer/weibo_logo.svg?v=1`,
              }),
              (0, p.jsx)("div", { children: "微博" }),
            ],
          }),
          (0, p.jsxs)(P, {
            external: !0,
            className: mo,
            to: "http://weixin.qq.com/r/LC-K0i3EunDFrWmx93o_",
            target: "_blank",
            rel: "noreferrer",
            children: [
              (0, p.jsx)("img", {
                alt: "微信",
                className: Ub,
                src: `${l.STORE_CDN_URL}/public/shared/images/footer/wechat_logo.svg?v=1`,
              }),
              (0, p.jsx)("div", { children: "微信" }),
            ],
          }),
        ],
      }),
      (0, p.jsx)("hr", { className: Gb }),
      (0, p.jsxs)("div", {
        className: Fb,
        children: [
          (0, p.jsx)(P, {
            external: !0,
            to: "https://www.wanmei.com/",
            target: "_blank",
            rel: "noreferrer",
            children: (0, p.jsx)("img", {
              className: Eb,
              src: `${l.STORE_CDN_URL}/public/shared/images/footer/pw_logo.svg?v=1`,
              alt: "",
            }),
          }),
          (0, p.jsx)(P, {
            external: !0,
            to: "https://www.valvesoftware.com",
            target: "_blank",
            rel: "noreferrer",
            children: (0, p.jsx)("img", {
              className: Vb,
              src: `${l.STORE_CDN_URL}/public/shared/images/footer/valve_logo.svg?v=1`,
              alt: "",
            }),
          }),
        ],
      }),
      (0, p.jsxs)("div", {
        className: Db,
        children: [
          (0, p.jsxs)("div", {
            children: [
              "© ",
              new Date().getFullYear(),
              " Valve Corporation 版权所有，完美世界已获授权。",
              (0, p.jsx)("br", {}),
              "所有商标均属于其在美国或其他国家的拥有者。",
            ],
          }),
          (0, p.jsxs)("div", {
            className: Nb,
            children: [
              "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。",
              (0, p.jsx)("br", {}),
              "增值电信业务经营许可证沪B2-20180406",
            ],
          }),
        ],
      }),
    ],
  });
}
function jy() {
  return (0, p.jsxs)(p.Fragment, {
    children: [
      (0, p.jsx)("div", {
        children: (0, p.jsx)("img", {
          src: `${l.STORE_CDN_URL}/public/shared/images/responsive/logo_valve_footer.png`,
          alt: "",
        }),
      }),
      E.Localize("#responsive_footer_copyright"),
      "  ",
      (0, p.jsxs)("span", {
        children: [
          (0, p.jsx)(P, {
            to: l.STORE_BASE_URL + "privacy_agreement/",
            target: "_blank",
            children: E.Localize("#Common_Footer_PrivacyPolicy"),
          }),
          " |  ",
          (0, p.jsx)(P, {
            to: "http://www.valvesoftware.com/legal.htm",
            target: "_blank",
            children: E.Localize("#Common_Footer_Legal"),
          }),
          " |  ",
          (0, p.jsx)(P, {
            to: l.STORE_BASE_URL + "subscriber_agreement/",
            target: "_blank",
            children: E.Localize("#Common_Footer_SSA"),
          }),
          " |  ",
          (0, p.jsx)(P, {
            to: l.STORE_BASE_URL + "steam_refunds/",
            target: "_blank",
            children: E.Localize("#Common_Footer_Refunds"),
          }),
        ],
      }),
    ],
  });
}
function qb(t) {
  let {
      userDetails: e,
      navContent: n,
      globalActions: _,
      changeLanguagePath: o,
      open: a,
      onDismiss: u,
      cartInResponsiveMenu: i,
    } = t,
    [r, H] = (0, Ie.useState)(!1),
    m = (0, Ie.useRef)(null),
    d = (0, Ie.useRef)();
  (0, Ie.useEffect)(() => {
    m.current &&
      (a
        ? (m.current?.showModal(),
          d.current?.cancel(),
          (d.current = m.current.animate(
            { transform: ["translateX(-280px)", "translateX(0)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )))
        : d.current &&
          (d.current?.cancel(),
          (d.current = m.current.animate(
            { transform: ["translateX(0)", "translateX(-280px)"] },
            { duration: 250, fill: "forwards", easing: "ease-in-out" },
          )),
          d.current.addEventListener("finish", () => m.current?.close())));
  }, [a]);
  let y =
      _.find((w) => w.id === "language") ??
      _[0]?.children?.find((w) => w.id === "language"),
    c = {};
  return (
    a || (c.inert = "inert"),
    (0, p.jsxs)(p.Fragment, {
      children: [
        (0, p.jsxs)("dialog", {
          className: (0, Le.default)(yb, Ge(l.EREALM) && pb),
          ref: m,
          onMouseDown: (w) => w.target === m.current && u(),
          onKeyDown: (w) => w.key === "Escape" && u(),
          ...c,
          children: [
            (0, p.jsxs)("div", {
              className: db,
              children: [
                !e &&
                  (0, p.jsx)(Ze, {
                    className: (0, Le.default)(Oe),
                    item: {
                      href: "/login/",
                      label: E.Localize("#global_menu_login_caps"),
                    },
                  }),
                e &&
                  (0, p.jsxs)("div", {
                    className: (0, Le.default)(gb, Ty(e)),
                    children: [
                      (0, p.jsxs)("div", {
                        className: fb,
                        children: [
                          (0, p.jsx)("a", {
                            className: Sb,
                            href: Wt(e),
                            children: (0, p.jsx)(kn, {
                              playerLinkDetails: e,
                              statusPosition: "border",
                              alt: "",
                              role: "presentation",
                              size: "Small",
                              className: wb,
                            }),
                          }),
                          " ",
                          (0, p.jsx)("a", {
                            className: kb,
                            href: Wt(e),
                            children: e.public_data?.persona_name,
                          }),
                        ],
                      }),
                      i && (0, p.jsx)(By, {}),
                      (0, p.jsx)(Ly, {}),
                    ],
                  }),
                t.notifications &&
                  (0, p.jsx)(Wb, {
                    navContent: { label: "Notifications", href: "" },
                    labelAddition: (0, p.jsxs)("div", {
                      className: (0, Le.default)(
                        zb,
                        t.notifications?.unread_count && Tb,
                      ),
                      children: [
                        t.notifications.unread_count > 0 &&
                          (0, p.jsx)("span", { className: xb }),
                        (0, p.jsx)("span", {
                          className: Bb,
                          children: Ft(t.notifications?.unread_count ?? 0),
                        }),
                      ],
                    }),
                    children: (0, p.jsx)(Un, {
                      dynamicImport: async () =>
                        (await import("./greenenvelope-MTHXLYDY.js"))
                          .GreenEnvelope,
                      fallback: (0, p.jsx)("div", {}),
                      bResponsiveHeader: !0,
                      notifications: t.notifications,
                    }),
                  }),
                n.map((w, M) => (0, p.jsx)(Wb, { navContent: w }, M)),
                (0, p.jsxs)("div", {
                  className: "minor_menu_items",
                  children: [
                    e &&
                      (0, p.jsxs)(p.Fragment, {
                        children: [
                          (0, p.jsx)(Ze, {
                            className: (0, Le.default)(Oe, pt),
                            item: {
                              href: l.STORE_BASE_URL + "account",
                              label: E.Localize("#global_menu_account_details"),
                            },
                          }),
                          (0, p.jsx)(Ze, {
                            className: (0, Le.default)(Oe, pt),
                            item: {
                              href: l.STORE_BASE_URL + "account/preferences",
                              label: E.Localize(
                                "#global_menu_account_preferences",
                              ),
                            },
                          }),
                        ],
                      }),
                    !Ge(l.EREALM) &&
                      (0, p.jsx)(p.Fragment, {
                        children: (0, p.jsx)("button", {
                          className: (0, Le.default)(Oe, pt),
                          onClick: () => H(!0),
                          children: E.Localize("#global_menu_change_language"),
                        }),
                      }),
                    e &&
                      (0, p.jsx)("button", {
                        className: (0, Le.default)(Oe, pt),
                        onClick: On,
                        children: E.Localize("#global_menu_change_user"),
                      }),
                    !Ge(l.EREALM) &&
                      (0, p.jsx)(Ze, {
                        className: (0, Le.default)(Oe, pt),
                        item: {
                          href: l.STORE_BASE_URL + "mobile",
                          label: E.Localize("#global_menu_getmobileapp"),
                        },
                      }),
                    !Mt() &&
                      (0, p.jsx)("button", {
                        className: (0, Le.default)(Oe, pt),
                        onClick: Hb,
                        children: E.Localize(
                          "#global_menu_view_desktop_website",
                        ),
                      }),
                  ],
                }),
              ],
            }),
            (0, p.jsx)("footer", {
              className: Lb,
              children: Ge(l.EREALM) ? (0, p.jsx)(Iy, {}) : (0, p.jsx)(jy, {}),
            }),
          ],
        }),
        y &&
          (0, p.jsx)(Zi, {
            open: r,
            onDismiss: () => H(!1),
            menuAction: y,
            changeLanguagePath: o,
            bLoggedIn: e != null,
          }),
      ],
    })
  );
}
var ae = b(g(), 1);
function Jb(t) {
  let { fnRenderCustomHeader: e = (o) => o } = t,
    [n, _] = (0, Kb.useState)(!1);
  return (0, ae.jsxs)(ae.Fragment, {
    children: [
      (0, ae.jsxs)("header", {
        className: (0, Wn.default)(Er, t.className),
        children: [
          (0, ae.jsxs)("div", {
            className: (0, Wn.default)(Vr, t.bWiderHeader && Wr),
            children: [
              (0, ae.jsx)("a", {
                href: l.STORE_BASE_URL,
                "aria-label": E.Localize("#Aria_Steam_Home_Link"),
                className: io,
                children: (0, ae.jsx)("img", {
                  src: Pe(Ge(l.EREALM) ? bo : sb),
                  alt: E.Localize("#Aria_Steam_Home_Link"),
                  width: 176,
                  height: 44,
                }),
              }),
              (0, ae.jsx)(rb, { navContent: t.navContent }),
              (0, ae.jsx)(Or, {
                globalActions: t.globalActions,
                userDetails: t.userDetails,
                notifications: t.notifications,
                changeLanguagePath: t.changeLanguagePath,
              }),
              t.children,
            ],
          }),
          (0, ae.jsx)("div", {
            className: qr,
            children: (0, ae.jsxs)("nav", {
              children: [
                (0, ae.jsxs)("button", {
                  className: Kr,
                  onClick: () => _(!0),
                  "aria-expanded": n,
                  "aria-label": E.Localize("#Aria_Navigation"),
                  children: [
                    (0, ae.jsx)("img", { src: Pe(bb), alt: "", className: Jr }),
                    t.notifications?.unread_count !== 0 &&
                      (0, ae.jsx)("div", {
                        className: $r,
                        children: (0, ae.jsx)("div", {
                          className: (0, Wn.default)(Qr),
                          children: (0, ae.jsx)("span", {
                            className: Yr,
                            children: Ft(t.notifications?.unread_count ?? 0),
                          }),
                        }),
                      }),
                  ],
                }),
                e(
                  (0, ae.jsx)("a", {
                    href: l.STORE_BASE_URL,
                    "aria-label": E.Localize("#Aria_Steam_Home_Link"),
                    className: io,
                    children: (0, ae.jsx)("img", {
                      src: Pe(Ge(l.EREALM) ? bo : lb),
                      alt: E.Localize("#Aria_Steam_Home_Link"),
                      height: 36,
                    }),
                  }),
                ),
              ],
            }),
          }),
        ],
      }),
      (0, ae.jsx)(qb, { ...t, open: n, onDismiss: () => _(!1) }),
    ],
  });
}
var $b = "y0fX1sHXgbg-";
var Qb = "dkzTutiFwB8-";
var Yb = "SMtSKQQ7dWs-";
var Zt = b(g(), 1);
function Zb(t) {
  return (0, Zt.jsxs)("span", {
    className: $b,
    children: [
      (0, Zt.jsx)("span", {
        className: Qb,
        children: "You are spoofing another user!",
      }),
      " ",
      (0, Zt.jsx)("span", {
        className: Yb,
        onClick: () => {
          hn(Cn), window.location.reload();
        },
        children: "end spoofing",
      }),
    ],
  });
}
var zt = b(B());
var ns = b(ec(), 1);
function Ho(t) {
  try {
    if (!t || typeof t != "string") return null;
    let e = t.split(".");
    if (e.length !== 3) return null;
    let [n, _] = e,
      o = es(n),
      a = es(_);
    return !o || !a ? null : { header: JSON.parse(o), body: JSON.parse(a) };
  } catch (e) {
    return (
      console.error(`Exception while attempting to decode token: "${e}"`), null
    );
  }
}
function Xb(t) {
  return t ? t.body.exp : 0;
}
function Ny(t) {
  return t ? t.body.nbf || t.body.iat : 0;
}
function ts(t) {
  let e = Xb(t),
    n = Ny(t),
    _ = 900,
    o = e - n;
  return o < 900 * 1.5 && (_ = o <= 60 ? 0 : 60), Xb(t) - _ < Date.now() / 1e3;
}
function es(t) {
  return atob(t.replace(/-/g, "+").replace(/_/g, "/"));
}
var qn = class {
  m_ServiceTransport;
  m_AnonymousServiceTransport;
  m_strWebAPIBaseURL;
  m_webApiAccessToken = "";
  m_bJsonMode = !1;
  m_bJWTToken = !1;
  m_fnRequestNewAccessToken;
  m_refreshAccessTokenPromise;
  m_dtLastExpireCheck = 0;
  m_strSpoofedSteamID = "";
  constructor(e, n = "", _ = !1, o) {
    (this.m_strWebAPIBaseURL = e),
      (this.m_webApiAccessToken = n),
      (this.m_bJsonMode = _),
      (this.m_fnRequestNewAccessToken = o),
      (this.m_bJWTToken = Ho(n) != null),
      (this.m_ServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !0 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !0 }),
        MakeReady: this.MakeReady.bind(this),
      }),
      (this.m_AnonymousServiceTransport = {
        SendMsg: this.SendMsgAndAwaitResponse.bind(this, { bSendAuth: !1 }),
        SendNotification: this.SendNotification.bind(this, { bSendAuth: !1 }),
        MakeReady: this.MakeReady.bind(this),
      });
    let a = Ke(Cn);
    a && /[0-9]+/g.test(a) && (this.m_strSpoofedSteamID = a);
  }
  WaitUntilLoggedOn() {
    return Promise.resolve();
  }
  GetServerRTime32() {
    return Number(new Date());
  }
  get steamid() {
    return new xa();
  }
  RTime32ToDate(e) {
    return new Date(e * 1e3);
  }
  MakeReady() {
    return Promise.resolve({ result: 1, message: "ready" });
  }
  GetServiceTransport() {
    return this.m_ServiceTransport;
  }
  GetWebAPIAccessToken() {
    return this.m_webApiAccessToken;
  }
  GetAnonymousServiceTransport() {
    return this.m_AnonymousServiceTransport;
  }
  async SendMsgAndAwaitResponse(e, n, _, o, a) {
    let u,
      i = 0;
    try {
      if (this.m_bJWTToken && e.bSendAuth) {
        let m = Date.now() / 1e3;
        this.m_refreshAccessTokenPromise
          ? await this.m_refreshAccessTokenPromise
          : this.m_fnRequestNewAccessToken &&
            m - this.m_dtLastExpireCheck > 60 &&
            ((this.m_dtLastExpireCheck = m),
            ts(Ho(this.m_webApiAccessToken)) &&
              ((this.m_refreshAccessTokenPromise =
                this.m_fnRequestNewAccessToken(this.m_webApiAccessToken)),
              (this.m_webApiAccessToken =
                await this.m_refreshAccessTokenPromise),
              (this.m_refreshAccessTokenPromise = void 0)));
      }
      let H = await this.Send(e, n, _, a);
      if (((i = H.status), i == 200))
        if (
          ((u = de.Init(o, 147)),
          H.headers &&
            (H.headers.get("x-eresult") &&
              u.Hdr().set_eresult(parseInt(H.headers.get("x-eresult"))),
            H.headers.get("x-error_message") &&
              u.Hdr().set_error_message(H.headers.get("x-error_message"))),
          this.m_bJsonMode)
        )
          u.SetBodyJSON(await H.json());
        else {
          let m = new za(await H.arrayBuffer());
          u.ReadBodyFromBuffer(o, m);
        }
    } catch {}
    let r = i === 401;
    if (!u) {
      let H = r ? "Unauthorized" : void 0;
      u = this.CreateFailedMsgProtobuf(o, 3, H);
    }
    return (
      r &&
        !this.m_refreshAccessTokenPromise &&
        this.m_bJWTToken &&
        e.bSendAuth &&
        this.m_fnRequestNewAccessToken &&
        ((this.m_refreshAccessTokenPromise = this.m_fnRequestNewAccessToken(
          this.m_webApiAccessToken,
        )),
        (this.m_webApiAccessToken = await this.m_refreshAccessTokenPromise),
        (this.m_refreshAccessTokenPromise = void 0)),
      u
    );
  }
  SendNotification(e, n, _, o) {
    return this.Send(e, n, _, o), !0;
  }
  Send(e, n, _, o) {
    let a = this.CreateWebAPIURL(n),
      u = _.SerializeBody(),
      i = ns.fromByteArray(u),
      r = o.eWebAPIKeyRequirement,
      H = o.ePrivilege == 0 && r == 1,
      m = {},
      d = new URLSearchParams();
    if (
      (!e.bSendAuth &&
        r != 1 &&
        console.error(
          `Attempting to invoke service ${n} without auth, but auth is required.`,
        ),
      this.m_webApiAccessToken &&
        e.bSendAuth &&
        !H &&
        (d.append("access_token", this.m_webApiAccessToken),
        this.m_strSpoofedSteamID &&
          d.append("spoof_steamid", this.m_strSpoofedSteamID)),
      o.bConstMethod)
    )
      return (
        d.append("origin", self.origin),
        this.m_bJsonMode
          ? d.append("input_json", JSON.stringify(_.Body().toObject()))
          : d.append("input_protobuf_encoded", i),
        fetch(`${a}?${d.toString()}`, m)
      );
    {
      let c = new FormData();
      return (
        this.m_bJsonMode
          ? c.append("input_json", JSON.stringify(_.Body().toObject()))
          : c.append("input_protobuf_encoded", i),
        fetch(`${a}?${d.toString()}`, { ...m, method: "POST", body: c })
      );
    }
  }
  CreateWebAPIURL(e) {
    let n = /([^\.]+)\.(.+)#(\d+)/,
      _ = e.match(n);
    if (!_ || _.length != 4) throw `Invalid service name: ${e}`;
    return `${this.m_strWebAPIBaseURL}I${_[1]}Service/${_[2]}/v${_[3]}`;
  }
  CreateFailedMsgProtobuf(e, n, _) {
    let o = de.Init(e);
    return (
      o.Hdr().set_eresult(2),
      o.Hdr().set_transport_error(n),
      _ && o.Hdr().set_error_message(_),
      o
    );
  }
};
var Kn = class {
  async GetObject(e) {
    try {
      let n = await this.GetString(e);
      return n ? JSON.parse(n) : null;
    } catch {
      return null;
    }
  }
  async StoreObject(e, n) {
    return this.StoreString(e, JSON.stringify(n));
  }
};
var Xt = class extends Kn {
  GetString(e) {
    return Promise.resolve(localStorage.getItem(e));
  }
  StoreString(e, n) {
    return localStorage.setItem(e, n), Promise.resolve();
  }
  RemoveObject(e) {
    return localStorage.removeItem(e), Promise.resolve();
  }
};
var co = b(g());
function _s(t) {
  let { strWebAPIToken: e, steamid: n, children: _ } = t,
    o = zt.useRef(),
    a = zt.useRef(),
    u = zt.useCallback(
      () => (
        o.current || (o.current = new qn(l.WEBAPI_BASE_URL, e, !1, Gy)),
        o.current
      ),
      [e],
    ),
    i = zt.useCallback(
      () => (a.current || (a.current = new Xt()), a.current),
      [],
    );
  return (0, co.jsx)(su, {
    useActiveSteamInterface: u,
    useStorage: i,
    children: (0, co.jsx)(cu, { steamid: n, children: _ }),
  });
}
async function Gy(t) {
  let n = await (
    await fetch(`${l.LOGIN_BASE_URL}jwt/ajaxrefresh`, {
      method: "POST",
      body: new URLSearchParams({ redir: window.location.href }),
      credentials: "include",
      mode: "cors",
    })
  ).json();
  if (n.success) {
    let o = await (
      await fetch(n.login_url, {
        method: "POST",
        body: new URLSearchParams({ ...n, prior: t }),
      })
    ).json();
    if (o.result === 1) return o.token;
  }
  return "";
}
var yo = "46px";
var os = "Tz2vUyr7bng-";
var as = "-hQN9V25Qf8-";
var us = "sfBlGJThi-w-";
var is = "_6hfP8ufnkvg-";
var rs = "HqwQAoZWzIQ-";
var bs = "qxuaSNtrNvE-";
var ss = "v2uRRqcZpzM-";
var ls = "-ov10mpoxq8-";
var ms = "e5dakwFkeEs-";
var Hs = "IuDNhSMX5G0-";
var cs = "yHfCsuBZw7g-";
var ys = "ovbIJyzwQ4U-";
var ps = "wARh8VsFUg8-";
var ds = "AlTDVvmjvUU-";
var gs = "In8c5bkG5eM-";
var Cs = "yzn1exHts-g-";
var Jn = "_-4fVuiRLPho-";
var vs = "ntJcAB2O7Fk-";
var hs = "ZfTk6ryId-Y-";
var fs = "HIlJVl7G7A4-";
var ks = "WcMLzycTyxU-";
var ws = "mjYLRTgzt4A-";
var Ss = "EMyT87c-1ws-";
var Rs = "IOoilFOfWUQ-";
var Ps = {
  menuHeight: "46px",
  accordionMenuScreenWidth: "730px",
  StoreMenuLegacyWrapper: "o8xu6D1j3rk-",
  StoreMenuNavWrapper: "ek6H33vqJUo-",
  StoreMenuContainer: "Tz2vUyr7bng-",
  GamepadUI: "-hQN9V25Qf8-",
  StoreMenuBackdropContainer: "sfBlGJThi-w-",
  Backdrop: "_6hfP8ufnkvg-",
  BackdropActive: "HqwQAoZWzIQ-",
  StoreMenu: "qxuaSNtrNvE-",
  Content: "v2uRRqcZpzM-",
  MobileWebview: "-ov10mpoxq8-",
  HideTransition: "e5dakwFkeEs-",
  Hide: "IuDNhSMX5G0-",
  HideMenu: "_0LVhrp9VgCU-",
  Hidden: "yHfCsuBZw7g-",
  Show: "ovbIJyzwQ4U-",
  MenuButtonAndSearchContainer: "wARh8VsFUg8-",
  MenuButtonContainer: "AlTDVvmjvUU-",
  DynamicMenuButtons: "In8c5bkG5eM-",
  NoSearchBarSpacer: "yzn1exHts-g-",
  MenuButton: "_-4fVuiRLPho-",
  ItemCount: "ntJcAB2O7Fk-",
  WishlistButton: "ZfTk6ryId-Y-",
  CartButton: "HIlJVl7G7A4-",
  Active: "WcMLzycTyxU-",
  FlyoutMenuButton: "egWCUcRU2LI-",
  MenuLabel: "mjYLRTgzt4A-",
  MenuUnderscoreCtn: "EMyT87c-1ws-",
  MenuUnderscore: "IOoilFOfWUQ-",
  Separator: "CKr-BZNYbas-",
  ValveOnlyNotice: "Z2-NY-0yNhg-",
};
var R = b(B()),
  jt = b(B());
var As = "350px";
var Ms = "_5de1w948geo-";
var zs = "ljhXHoxtTZY-";
var po = "B6Smo5P5blM-";
var xs = "khWjubQ0dGo-";
var Ts = "_5f3k46d-01g-";
var go = "_1qQtew7iByA-";
var Bs = "EmE6VCbTZpg-";
var Ls = "ZaHNigq8DMs-";
var Co = "_81NJwJfkZk0-";
var vo = "hkaaZt8UNuI-";
var Is = "sGePe4nq0rw-";
var js = "k-ntEbkXrl8-";
var Ds = "QJl65TKCK08-";
var Ns = "v2IwQA-KdAA-";
var Gs = "S4kluVkVsFI-";
var ho = "MlhnYsP-wdE-";
var Fs = "_8A-51zo2cfU-";
var Us = "XrWKA0nulTQ-";
var Os = "_0XrOCCCls98-";
var fo = "QDANEnXGNEk-";
var Es = "WFiBT4Tgqtc-";
var Xe = b(B(), 1);
var je = b(B()),
  Vs = b(wa()),
  Ws = b(g());
function xt(t) {
  let {
      id: e,
      role: n,
      visible: _ = !0,
      className: o,
      keepMounted: a = !1,
      expandDirection: u = "height",
      msAnimationDuration: i = 250,
      children: r,
    } = t,
    { style: H, active: m, refDiv: d } = Uy(_, u, i);
  return !_ && !m && !a
    ? null
    : (0, Ws.jsx)("div", {
        id: e,
        role: n,
        className: o,
        ref: d,
        style: H,
        children: r,
      });
}
function Uy(t, e = "height", n = 250) {
  let _ = je.useRef(null),
    o = je.useRef(!0),
    [a, u] = je.useState("idle"),
    [i, r] = je.useState(t ? {} : { [e]: "0px", overflow: "hidden" }),
    [H, m] = je.useState(t);
  return (
    je.useLayoutEffect(() => {
      o.current || u("start"), t && m(t);
    }, [t]),
    je.useLayoutEffect(
      () => (
        (o.current = !1),
        () => {
          o.current = !0;
        }
      ),
      [],
    ),
    je.useLayoutEffect(() => {
      let y = _.current,
        c = e == "height" ? "scrollHeight" : "scrollWidth",
        w = () => {
          Vs.unstable_batchedUpdates(() => {
            r(t ? {} : { [e]: "0px", overflow: "hidden" }), u("idle"), m(t);
          });
        };
      if (a == "start") {
        let M = y[c];
        M == 0
          ? w()
          : (r((A) => ({
              [e]: t ? "0px" : `${M}px`,
              ...A,
              overflow: "hidden",
            })),
            u("active"));
      } else if (a == "active") {
        y.scrollTop;
        let M = y[c];
        return (
          r({ overflow: "hidden", [e]: t ? `${M}px` : "0px" }),
          y.addEventListener("transitionend", w),
          () => {
            y.removeEventListener("transitionend", w);
          }
        );
      }
    }, [a, t]),
    { style: { ...i, transition: `${e} ${n}ms` }, active: H, refDiv: _ }
  );
}
var un = b(ye(), 1),
  be = b(B(), 1);
var en = b(B());
function qs(t, e = {}) {
  let {
      nTimeoutMS: n = 350,
      nTimeoutExtensionMS: _ = 125,
      nMaxTimeoutExtensions: o = 3,
    } = e,
    [a, u] = en.default.useState(t),
    i = en.default.useRef();
  return (
    en.default.useEffect(() => {
      let r = performance.now();
      i.current
        ? r - i.current.tsLastChange < o * n &&
          (i.current.tsScheduledTimeout = Math.max(
            performance.now() + _,
            i.current.tsScheduledTimeout,
          ))
        : (i.current = {
            tsLastChange: r,
            tsScheduledTimeout: performance.now() + n,
          });
      let H = i.current.tsScheduledTimeout - performance.now(),
        m = window.setTimeout(() => {
          (i.current = void 0), u(t);
        }, H);
      return () => window.clearTimeout(m);
    }, [t, n, _, o]),
    a
  );
}
async function Oy(t, e, n) {
  let _ = de.Init(Au);
  _.Body().set_steamid(fe.steamid),
    wt(e, _),
    n &&
      (St(_, n.data_request),
      _.Body().set_sort_order(5),
      _.Body().set_page_size(n.item_count)),
    _.Body().filters(!0).set_min_discount_percent(10);
  let o = await Mu.GetWishlistSortedFiltered(t, _);
  if (!o.BSuccess())
    throw `Error from WishlistService.GetWishlistSortedFiltered: ${o.GetErrorMessage()}`;
  return (
    n &&
      o
        .Body()
        .items()
        .forEach((a) => {
          let u = a.store_item();
          u && n.cacheStoreItemData(u, n.data_request);
        }),
    {
      appids: n
        ? o
            .Body()
            .items()
            .slice(0, n.item_count)
            .map((a) => a.appid())
        : [],
      total_items_on_sale: o.Body().items().length,
    }
  );
}
function Ey(t, e, n) {
  return {
    queryKey: ["GetWishlistItemsOnSale"],
    queryFn: () => Oy(t, e, n),
    staleTime: 15 * 60 * 1e3,
    enabled: fe.logged_in,
  };
}
function wo() {
  let t = ge(),
    { storeBrowseContext: e } = fu({ include_assets: !0 });
  return me({ ...Ey(t, e), select: (n) => n.total_items_on_sale });
}
var z = b(Ma());
var So = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.recent_apps || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, [1], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: { recent_apps: { n: 1, c: Ro, r: !0, q: !0 } },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData";
    }
  },
  Ro = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: ft },
              time_visit: { n: 2, br: C.readFixed32, bw: h.writeFixed32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisitData_RecentApps";
    }
  },
  tn = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(), z.Message.initialize(this, e, 0, -1, void 0, null);
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return e ? { $jspbMessageInstance: n } : {};
    }
    static fromObject(e) {
      return new t();
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return e;
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {}
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Request";
    }
  },
  Po = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.visit_data || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, [2], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              visit_data: { n: 1, c: So },
              frequent_hubs: { n: 2, c: Ao, r: !0, q: !0 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response";
    }
  },
  Ao = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_id || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_id: { n: 1, c: ft },
              time_visit: { n: 2, br: C.readUint32, bw: h.writeUint32 },
              visit_count: { n: 3, br: C.readUint32, bw: h.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetFrequentlyVisitedPages_Response_FrequentHubs";
    }
  },
  nn = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.context || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, void 0, null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              context: { n: 1, c: Na },
              data_request: { n: 2, c: Da },
              count: { n: 3, d: 10, br: C.readUint32, bw: h.writeUint32 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetMostVisitedItemsOnStore_Request";
    }
  },
  Mo = class t extends z.Message {
    static ImplementsStaticInterface() {}
    constructor(e = null) {
      super(),
        t.prototype.item_ids || Q(t.M()),
        z.Message.initialize(this, e, 0, -1, [1, 2], null);
    }
    static sm_m;
    static sm_mbf;
    static M() {
      return (
        t.sm_m ||
          (t.sm_m = {
            proto: t,
            fields: {
              item_ids: { n: 1, c: ft, r: !0, q: !0 },
              items: { n: 2, c: ja, r: !0, q: !0 },
            },
          }),
        t.sm_m
      );
    }
    static MBF() {
      return t.sm_mbf || (t.sm_mbf = W(t.M())), t.sm_mbf;
    }
    toObject(e = !1) {
      return t.toObject(e, this);
    }
    static toObject(e, n) {
      return K(t.M(), e, n);
    }
    static fromObject(e) {
      return q(t.M(), e);
    }
    static deserializeBinary(e) {
      let n = new z.default.BinaryReader(e),
        _ = new t();
      return t.deserializeBinaryFromReader(_, n);
    }
    static deserializeBinaryFromReader(e, n) {
      return J(t.MBF(), e, n);
    }
    serializeBinary() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBuffer();
    }
    static serializeBinaryToWriter(e, n) {
      $(t.M(), e, n);
    }
    serializeBase64String() {
      var e = new z.default.BinaryWriter();
      return t.serializeBinaryToWriter(this, e), e.getResultBase64String();
    }
    getClassName() {
      return "CUserStoreVisit_GetMostVisitedItemsOnStore_Response";
    }
  },
  _n;
((n) => {
  function t(_, o) {
    return _.SendMsg(
      "UserStoreVisit.GetFrequentlyVisitedPages#1",
      ce(tn, o),
      Po,
      { bConstMethod: !0, ePrivilege: 1 },
    );
  }
  n.GetFrequentlyVisitedPages = t;
  function e(_, o) {
    return _.SendMsg(
      "UserStoreVisit.GetMostVisitedItemsOnStore#1",
      ce(nn, o),
      Mo,
      { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
    );
  }
  n.GetMostVisitedItemsOnStore = e;
})((_n ||= {}));
function Ks(t = !0) {
  let e = ge(),
    n = mt(),
    _ = Js(e, n);
  return me({
    ..._,
    select: (o) => o.visit_data?.recent_apps?.map(({ item_id: a }) => a) || [],
    enabled: _.enabled && t,
  });
}
function on(t = !0) {
  let e = tt(),
    n = ge(),
    _ = lu(),
    o = An(),
    a = mt(),
    u = Vy(e, n, _, o, a);
  return me({ ...u, enabled: u.enabled && t });
}
function Vy(t, e, n, _, o) {
  return {
    queryKey: ["StoreFrequentlyVisitedHubs", o],
    queryFn: async () => {
      let [a, u] = await Promise.all([
        t.fetchQuery(Js(e, o)),
        t.fetchQuery(Bu(t, e, _)),
      ]);
      return (a.frequent_hubs || [])
        .map((r) =>
          r.item_id.hubcategoryid
            ? { ...r, hubconfig: u.get(r.item_id.hubcategoryid) }
            : r.item_id.tagid
              ? { ...r, tagid: r.item_id.tagid }
              : null,
        )
        .filter(
          (r) =>
            r &&
            (("hubconfig" in r && r.hubconfig) || ("tagid" in r && r.tagid)),
        );
    },
    enabled: !!o,
    initialData: o ? void 0 : [],
    staleTime: 1e3 * 60 * 10,
  };
}
function Js(t, e) {
  return {
    queryKey: ["StoreFrequentlyVisited", e],
    queryFn: () => Wy(t),
    enabled: !!e,
    staleTime: 1e3 * 60 * 10,
  };
}
async function Wy(t) {
  let e = de.Init(tn),
    n = await _n.GetFrequentlyVisitedPages(t, e);
  if (!n.BSuccess()) throw n.GetErrorMessage();
  return n.Body().toObject();
}
var $s = [
  {
    rgTagIDs: [19],
    id: "action",
    strLocToken: "#ContentHubby_Hub_action_menu",
    strSalePageURL: "category/action",
  },
  {
    rgTagIDs: [21],
    id: "adventure",
    strLocToken: "#ContentHubby_Hub_adventure_menu",
    strSalePageURL: "category/adventure",
  },
  {
    rgTagIDs: [4085],
    id: "anime",
    strLocToken: "#ContentHubby_Hub_anime_mild_menu",
    strSalePageURL: "category/anime",
  },
  {
    rgTagIDs: [597],
    id: "casual",
    strLocToken: "#ContentHubby_Hub_casual_menu",
    strSalePageURL: "category/casual",
  },
  {
    rgTagIDs: [1695],
    id: "open_world",
    strLocToken: "#ContentHubby_Hub_adventure_explore_open_world_menu",
    strSalePageURL: "category/exploration_open_world",
  },
  {
    rgTagIDs: [4328, 4736, 6506],
    id: "fighting",
    strLocToken: "#ContentHubby_Hub_fighting_menu",
    strSalePageURL: "category/fighting_martial_arts",
  },
  {
    rgTagIDs: [1667],
    id: "horror",
    strLocToken: "#ContentHubby_Hub_horror_menu",
    strSalePageURL: "category/horror",
  },
  {
    rgTagIDs: [1685],
    id: "coop",
    strLocToken: "#ContentHubby_Hub_multiplayer_coop_menu",
    strSalePageURL: "category/multiplayer_coop",
  },
  {
    rgTagIDs: [1664, 5537, 1665],
    id: "puzzle",
    strLocToken: "#ContentHubby_Hub_puzzle_menu",
    strSalePageURL: "category/puzzle_matching/",
  },
  {
    rgTagIDs: [699, 4102],
    id: "racing",
    strLocToken: "#ContentHubby_Hub_racing_menu",
    strSalePageURL: "category/racing",
  },
  {
    rgTagIDs: [42804],
    id: "roguelike",
    strLocToken: "#ContentHubby_Hub_rogue_like_rogue_lite_menu",
    strSalePageURL: "category/rogue_like_rogue_lite",
  },
  {
    rgTagIDs: [112, 4434, 4231],
    id: "rpg",
    strLocToken: "#ContentHubby_Hub_rpg_menu",
    strSalePageURL: "category/rpg",
  },
  {
    rgTagIDs: [3942],
    id: "scifi",
    strLocToken: "#ContentHubby_Hub_science_fiction_menu",
    strSalePageURL: "category/science_fiction",
  },
  {
    rgTagIDs: [599, 12472],
    id: "simulation",
    strLocToken: "#ContentHubby_Hub_simulation_menu",
    strSalePageURL: "category/simulation",
  },
  {
    rgTagIDs: [701],
    id: "sports",
    strLocToken: "#ContentHubby_Hub_sports_menu",
    strSalePageURL: "category/sports",
  },
  {
    rgTagIDs: [1742],
    id: "story_rich",
    strLocToken: "#ContentHubby_Hub_interactive_fiction_menu",
    strSalePageURL: "category/story_rich",
  },
  {
    rgTagIDs: [9, 1670, 1676],
    id: "strategy",
    strLocToken: "#ContentHubby_Hub_strategy_menu",
    strSalePageURL: "category/strategy",
  },
  {
    rgTagIDs: [9, 4328, 220585],
    id: "cities_settlements",
    strLocToken: "#ContentHubby_Hub_sim_cities_settlements_menu",
    strSalePageURL: "category/strategy_cities_settlements",
  },
  {
    rgTagIDs: [1662],
    id: "survival",
    strLocToken: "#ContentHubby_Hub_survival_menu",
    strSalePageURL: "category/survival",
  },
  {
    rgTagIDs: [3799],
    id: "visual_novel",
    strLocToken: "#ContentHubby_Hub_visual_novel_menu",
    strSalePageURL: "category/visual_novel",
  },
  {
    rgTagIDs: [113],
    id: "f2p",
    strLocToken: "#ContentHubby_Hub_free_to_play",
    strSalePageURL: "genre/Free%20to%20Play",
  },
  {
    rgTagIDs: [],
    id: "greatondeck",
    strLocToken: "#ContentHubby_Hub_greatondeck",
    strSalePageURL: "greatondeck",
  },
  {
    rgTagIDs: [402, 401],
    id: "vr",
    strLocToken: "#Store_VR_MainMenu_Virtual_Reality",
    strSalePageURL: "vr",
  },
];
var Qs = "./marketing_brazilian-GHVHLUAA.json";
var Ys = "./marketing_bulgarian-KKV63KAA.json";
var Zs = "./marketing_czech-C2ETZTCA.json";
var Xs = "./marketing_danish-MNZFA6BA.json";
var el = "./marketing_dutch-QVIPGNAA.json";
var tl = "./marketing_english-3WMI36DA.json";
var nl = "./marketing_finnish-XT3WXEBA.json";
var _l = "./marketing_french-AVDRDYCA.json";
var ol = "./marketing_german-XZUPPAAA.json";
var al = "./marketing_greek-NL2OYGAA.json";
var ul = "./marketing_hungarian-TMXQUYDA.json";
var il = "./marketing_indonesian-HS7RZJDA.json";
var rl = "./marketing_italian-RHVQBIAA.json";
var bl = "./marketing_japanese-OFKOWHCA.json";
var sl = "./marketing_koreana-JUNQ22AA.json";
var ll = "./marketing_latam-ZLW2TXBA.json";
var ml = "./marketing_norwegian-N7PUDPAA.json";
var Hl = "./marketing_polish-6QAKF2BA.json";
var cl = "./marketing_portuguese-6C7ALUBA.json";
var yl = "./marketing_romanian-WF7TK2AA.json";
var pl = "./marketing_russian-PHFM4ICA.json";
var dl = "./marketing_sc_schinese-YUF5SQBA.json";
var gl = "./marketing_schinese-YNV7JKCA.json";
var Cl = "./marketing_spanish-BTXIFUBA.json";
var vl = "./marketing_swedish-V57IMUAA.json";
var hl = "./marketing_tchinese-CXRW3FDA.json";
var fl = "./marketing_thai-NHILGZDA.json";
var kl = "./marketing_turkish-YZB72IBA.json";
var wl = "./marketing_ukrainian-2Y3MDABA.json";
var Sl = "./marketing_vietnamese-LHZ5ERDA.json";
var D = {};
D.brazilian = Qs;
D.bulgarian = Ys;
D.czech = Zs;
D.danish = Xs;
D.dutch = el;
D.english = tl;
D.finnish = nl;
D.french = _l;
D.german = ol;
D.greek = al;
D.hungarian = ul;
D.indonesian = il;
D.italian = rl;
D.japanese = bl;
D.koreana = sl;
D.latam = ll;
D.norwegian = ml;
D.polish = Hl;
D.portuguese = cl;
D.romanian = yl;
D.russian = pl;
D.sc_schinese = dl;
D.schinese = gl;
D.spanish = Cl;
D.swedish = vl;
D.tchinese = hl;
D.thai = fl;
D.turkish = kl;
D.ukrainian = wl;
D.vietnamese = Sl;
async function zo(t) {
  if (D[t]) return (await fetch(new URL(D[t], import.meta.url))).json();
}
var an = vt(zo);
function $n() {
  let t = an.Localize;
  return $s.map((e) => ({ ...e, strName: t(e.strLocToken) }));
}
var Il = b(B(), 1);
var To = b(ye(), 1);
var xo = b(g(), 1);
function ut(t) {
  let {
      storeItem: e,
      feature: n,
      depth: _,
      children: o,
      noImpressionTracking: a,
      ...u
    } = t,
    i = e?.appid,
    r = kp(e);
  if (!e) return o;
  let H = (0, xo.jsx)(re, { ...u, href: r, children: o });
  return i && !a
    ? (0, xo.jsx)(Du, { appID: i, feature: n, depth: _, children: H })
    : H;
}
function kp(t, e, n) {
  return ie(t ? `${l.STORE_BASE_URL}${t.store_url_path}` : void 0, e, n);
}
var Rl = "w3okjvq794Q-";
var Pl = "qRybCqH-jtw-";
var Al = "RsMQfu7puz8-";
var Ml = "UMEIAUzn8fQ-";
var zl = "b3jIaejFEco-";
var xl = "xfZcMLcNsgU-";
var Tl = "KdTm5UPqjB8-";
var Bl = "G-AxgYgeAPM-";
var Ll = "_10mrxtI-TKw-";
var pe = b(g(), 1);
function Bo(t) {
  let { rgItemIDs: e } = t;
  return (0, pe.jsx)(G, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: Rl,
    children: e.map((n) => (0, pe.jsx)(Lo, { itemid: n }, Je(n))),
  });
}
var Lo = Il.memo(function (e) {
  let { itemid: n, active: _, className: o, ...a } = e,
    { data: u } = Ae(n),
    { data: i } = Cu(n);
  return (0, pe.jsxs)(ut, {
    ...a,
    storeItem: u,
    className: (0, To.default)(Pl, _ === void 0 && Ml, _ && Al, o),
    children: [
      (0, pe.jsx)(Rp, { itemid: n }),
      (0, pe.jsxs)("div", {
        className: Tl,
        children: [
          (0, pe.jsx)("div", { className: Bl, children: u?.name }),
          (0, pe.jsx)("div", {
            className: Ll,
            children: (0, pe.jsx)(Sp, { storeItem: u, purchaseOption: i }),
          }),
        ],
      }),
    ],
  });
});
function Sp(t) {
  let { storeItem: e, purchaseOption: n } = t;
  return n
    ? (0, pe.jsx)(Iu, {
        purchaseOption: n,
        size: "inline",
        transparentBackground: !0,
      })
    : e?.is_free
      ? v("#Price_Free")
      : (0, pe.jsx)(pe.Fragment, { children: " " });
}
function Rp(t) {
  let { itemid: e } = t,
    { data: n } = gu(e),
    _ = n && xn(n, "small_capsule");
  return (0, pe.jsx)("div", {
    className: (0, To.default)(zl, !_ && xl),
    children: _ && (0, pe.jsx)("img", { src: _, alt: "" }),
  });
}
function Pp(t, e, n = 10, _ = void 0) {
  return {
    queryKey: ["MostVisitedItems", n],
    queryFn: () => Ap(t, e, n, _),
    staleTime: 5 * 60 * 1e3,
  };
}
function jl(t = 10, e = {}, n = !0) {
  let _ = tt(),
    o = ge(),
    { dataLoader: a, storeBrowseContext: u, cacheStoreItemData: i } = Mn();
  return me({
    queryKey: ["MostVisitedItemsFiltered", t],
    queryFn: async () => {
      let r = await _.fetchQuery(
          Pp(o, u, t, {
            cacheStoreItemData: i,
            data_request: { ...e, apply_user_filters: !0 },
          }),
        ),
        H = await Promise.all(r.map((y) => _.fetchQuery(hu(a, y)))),
        m = new Map();
      for (let y = 0; y < r.length; y++) m.set(r[y], H[y]);
      let d = (y) => {
        let c = m.get(y);
        return !c || (c.filter_failure == 10 && c.on_wishlist)
          ? 0
          : c.filter_failure;
      };
      return r
        .filter((y) => {
          let c = m.get(y);
          return !c || c.filter_failure < 40;
        })
        .sort((y, c) => d(y) - d(c));
    },
    staleTime: 5 * 60 * 1e3,
    enabled: n,
  });
}
async function Ap(t, e, n = 10, _ = void 0) {
  let o = de.Init(nn);
  o.Body().set_count(n), wt(e, o), _ && St(o, _.data_request);
  let a = await _n.GetMostVisitedItemsOnStore(t, o);
  if (!a.BSuccess())
    throw `Error loading most visited items: ${a.GetErrorMessage()}`;
  return (
    _ &&
      a
        .Body()
        .items()
        .forEach((u) => _.cacheStoreItemData(u, _.data_request)),
    a
      .Body()
      .item_ids()
      .map((u) => u.toObject())
  );
}
var it = b(g(), 1);
function Dl(t) {
  let { itemid: e, ...n } = t;
  return "hubcategoryid" in e
    ? (0, it.jsx)(Mp, { hubcategoryid: e.hubcategoryid, ...n })
    : "tagid" in e
      ? (0, it.jsx)(Io, { tagid: e.tagid, ...n })
      : "creatorid" in e
        ? (0, it.jsx)(zp, { creatorid: e.creatorid, ...n })
        : null;
}
function Mp(t) {
  let { hubcategoryid: e, className: n } = t,
    { data: _ } = Tu(),
    o = _?.get(e);
  if (o)
    return (0, it.jsx)("img", {
      className: n,
      alt: "",
      src: `${l.STORE_CDN_URL}categories/image/category/${o.handle}?cc=${l.COUNTRY}&l=${l.LANGUAGE}`,
    });
}
function Nl(t) {
  let { category: e, className: n } = t;
  return (0, it.jsx)("img", {
    className: n,
    alt: "",
    src: `${l.STORE_CDN_URL}categories/image/category/${e}?cc=${l.COUNTRY}&l=${l.LANGUAGE}`,
  });
}
function Io(t) {
  let { tagid: e, className: n } = t;
  return (0, it.jsx)("img", {
    className: n,
    alt: "",
    src: `${l.STORE_CDN_URL}categories/image/tags/${e}?cc=${l.COUNTRY}&l=${l.LANGUAGE}`,
  });
}
function zp(t) {
  let { creatorid: e, className: n } = t;
  return (0, it.jsx)("img", {
    className: n,
    alt: "",
    src: `${l.STORE_CDN_URL}categories/image/creator/${e}?cc=${l.COUNTRY}&l=${l.LANGUAGE}`,
  });
}
var I = b(g(), 1),
  Fl = { include_assets: !0 },
  xp = { include_tags: !0, include_creators: !0 };
function Ul(t) {
  let { list: e, iActiveIndex: n, activeSection: _, getMouseHandlers: o } = t,
    a,
    u,
    i;
  e.rgMainItems.length
    ? (a = (0, I.jsx)(jo, {
        title: e.strMainTitle,
        children: e.rgMainItems.map(({ item_id: m }, d) =>
          (0, I.jsx)(
            Dp,
            {
              itemid: m,
              index: d,
              active: _ == "apps" && d == n,
              getMouseHandlers: o,
            },
            Je(m),
          ),
        ),
      }))
    : e.rgMainItems &&
      e.eListType == "suggestions" &&
      (a = (0, I.jsx)(jo, {
        title: e.strMainTitle,
        children: (0, I.jsx)(Fp, {}),
      })),
    e.rgTextItems?.length &&
      (u = (0, I.jsx)(Ip, { title: e.strTextLinks, items: e.rgTextItems })),
    e.rgSubSectionItems?.length &&
      (i = (0, I.jsx)(jo, {
        title: e.strSubSectionTitle,
        horizontal: !0,
        children: e.rgSubSectionItems.map(({ item_id: m }, d) =>
          (0, I.jsx)(
            Np,
            {
              itemid: m,
              index: d,
              active: _ == "categories" && d == n,
              getMouseHandlers: o,
            },
            Je(m),
          ),
        ),
      }));
  let r, H;
  switch (e.eListType) {
    case "suggestions":
      H = "search-suggestion";
      break;
    case "recent":
      (r = "popular"), (H = "recent");
      break;
    default:
      Ut(e.eListType, `Unhandled list type ${e.eListType}`);
  }
  return (0, I.jsxs)(Fe, {
    controller: "search",
    method: "suggest",
    submethod: "",
    feature: H,
    children: [
      (0, I.jsx)(Fe, { feature: r ?? H, children: a }),
      u,
      i,
      (0, I.jsx)(Gp, { active: _ == "advancedsearch", getMouseHandlers: o }),
    ],
  });
}
function Tp(t = !0) {
  return jl(10, Fl, t);
}
function Ol(t, e, n, _ = !0) {
  let o = qs(t),
    a = xu(),
    u = be.useMemo(() => ku(xp, a), [a]),
    i = wu(Fl, 5, u),
    r = Lu(i, a === void 0 ? "" : o),
    H = e && t == "",
    { data: m } = Tp(H),
    { data: d } = on(H),
    { data: y } = Ks(H && _),
    c = be.useMemo(() => nt.ShuffleArray($n().slice()), []),
    w = be.useMemo(() => {
      if (r && r.data) {
        let [M, A, te] = Su(r.data.rgItemIDs);
        return {
          eListType: "suggestions",
          strMainTitle: v("#Menu_SearchBar_SearchResults"),
          rgMainItems: M.slice(0, n).map((ne) => ({ item_id: ne })),
          strSubSectionTitle: v("#Menu_SearchBar_BrowseBy"),
          rgSubSectionItems: [...A, ...te]
            .slice(0, 3)
            .map((ne) => ({ item_id: ne })),
        };
      } else if (m || d || y) {
        let M = m?.slice(0, n) || [];
        return {
          eListType: "recent",
          strMainTitle: v("#Menu_SearchBar_PopularSearches"),
          rgMainItems: M.map((A) => ({ item_id: A })),
          strTextLinks: v("#Menu_SearchBar_RecentlyViewed"),
          rgTextItems: _ ? y?.slice(0, 4).map((A) => ({ item_id: A })) : void 0,
          strSubSectionTitle: v("#Menu_SearchBar_YourTopGenres"),
          rgSubSectionItems:
            d?.slice(0, 3).map((A) => ({ item_id: A.item_id })) || [],
        };
      } else return;
    }, [r, m, d, y, n, _]);
  return Lp(w);
}
function Bp(t, e) {
  let n = tt(),
    _ = Pn(),
    o = Sa(t, e);
  return be.useCallback(
    async (a) => {
      let u = await n.fetchQuery(g_(_, a));
      return u
        ? ((window.location.href = `${l.STORE_BASE_URL}${u.store_url_path}?snr=${o}`),
          !0)
        : !1;
    },
    [n, _, o],
  );
}
var Gl = { eListType: "suggestions", strMainTitle: "", rgMainItems: [] };
function Lp(t) {
  let [e, n] = be.useState(t || Gl),
    [_, o] = be.useState({
      activeSection: "apps",
      iActiveIndex: void 0,
      eLastInputSource: void 0,
    }),
    a = Bp();
  be.useEffect(() => {
    n(t || Gl);
  }, [t]);
  let u = e.rgMainItems.length,
    i = e.rgSubSectionItems?.length || 0,
    r = (_.activeSection == "apps" ? e.rgMainItems : e.rgSubSectionItems) || [],
    H = be.useCallback(
      (y, c) => ({
        onMouseEnter: () => {
          o((w) =>
            w.activeSection === y && w.iActiveIndex === c
              ? w
              : {
                  activeSection: y,
                  iActiveIndex: c,
                  eLastInputSource: "mouse",
                },
          );
        },
        onMouseLeave: () => {
          o({
            activeSection: "apps",
            iActiveIndex: void 0,
            eLastInputSource: "mouse",
          });
        },
      }),
      [],
    ),
    m = be.useRef();
  m.current = (y) => {
    if (u == 0) return !1;
    switch (y.key) {
      case "ArrowUp":
        return (
          o(({ activeSection: c, iActiveIndex: w }) => {
            let M =
                (w === void 0 || c == "categories" || c == "advancedsearch"
                  ? 0
                  : w) - 1,
              A = c;
            return (
              M < 0 &&
                (c == "categories"
                  ? u > 0
                    ? (A = "apps")
                    : (A = "advancedsearch")
                  : c == "advancedsearch"
                    ? i > 0
                      ? (A = "categories")
                      : u > 0 && (A = "apps")
                    : c == "apps" && (A = "advancedsearch"),
                A == "apps" ? (M = u - 1) : (M = 0)),
              {
                activeSection: A,
                iActiveIndex: M,
                eLastInputSource: "keyboard",
              }
            );
          }),
          !0
        );
      case "ArrowDown":
        return (
          o(({ activeSection: c, iActiveIndex: w }) => {
            let M = (w ?? -1) + 1,
              A = c;
            return (
              M >= (A == "apps" ? u : -1) &&
                (c == "categories"
                  ? (A = "advancedsearch")
                  : c == "advancedsearch"
                    ? u > 0
                      ? (A = "apps")
                      : i > 0 && (A = "categories")
                    : c == "apps" &&
                      (i > 0 ? (A = "categories") : u > 0 && (A = "apps")),
                (M = 0)),
              {
                activeSection: A,
                iActiveIndex: M,
                eLastInputSource: "keyboard",
              }
            );
          }),
          !0
        );
      case "ArrowLeft":
        return (
          o((c) =>
            c.activeSection == "categories"
              ? {
                  activeSection: "categories",
                  iActiveIndex: ((c.iActiveIndex ?? 0) + i - 1) % i,
                  eLastInputSource: "keyboard",
                }
              : c,
          ),
          !0
        );
      case "ArrowRight":
        return (
          o((c) =>
            c.activeSection == "categories"
              ? {
                  activeSection: "categories",
                  iActiveIndex: ((c.iActiveIndex ?? 0) + 1) % i,
                  eLastInputSource: "keyboard",
                }
              : c,
          ),
          !0
        );
      case "Enter": {
        let { activeSection: c, iActiveIndex: w, eLastInputSource: M } = _;
        if (c == "advancedsearch") return !1;
        {
          let A = c == "apps" ? e.rgMainItems : e.rgSubSectionItems;
          if (w !== void 0 && A && w < A.length && M === "keyboard")
            return a(A[w].item_id), !0;
        }
        break;
      }
    }
    return !1;
  };
  let d = be.useCallback((y) => m.current(y), []);
  return {
    list: e,
    activeSection: _.activeSection,
    iActiveIndex:
      _.iActiveIndex !== void 0
        ? Math.max(0, Math.min(r.length - 1, _.iActiveIndex))
        : void 0,
    getMouseHandlers: H,
    onKeyDown: d,
  };
}
function jo(t) {
  let { title: e, children: n, horizontal: _ } = t;
  return (0, I.jsxs)("div", {
    className: (0, un.default)(Co, _ && js),
    children: [
      (0, I.jsx)("div", { className: vo, children: e }),
      (0, I.jsx)("div", { className: Is, children: n }),
    ],
  });
}
function Ip(t) {
  let { title: e, items: n } = t;
  return (0, I.jsx)("div", {
    className: (0, un.default)(Co),
    children: (0, I.jsxs)("div", {
      className: Ds,
      children: [
        (0, I.jsx)("div", { className: vo, children: e }),
        n.map(({ item_id: _ }, o) =>
          (0, I.jsx)(jp, { itemid: _, first: o == 0 }, Je(_)),
        ),
      ],
    }),
  });
}
function jp(t) {
  let { itemid: e, first: n } = t,
    { data: _ } = Ae(e);
  return (0, I.jsxs)(I.Fragment, {
    children: [
      !n && ", ",
      (0, I.jsx)(ut, {
        className: Ns,
        storeItem: _,
        feature: "recent",
        children: _?.name,
      }),
    ],
  });
}
var Dp = be.memo(function (e) {
    let { itemid: n, index: _, getMouseHandlers: o, active: a = !1 } = e,
      u = be.useMemo(() => o("apps", _), [o, _]);
    return (0, I.jsx)(Lo, { itemid: n, active: a, ...u });
  }),
  Np = be.memo(function (e) {
    let { itemid: n, index: _, getMouseHandlers: o, active: a } = e,
      { data: u } = Ae(n),
      i = ie(`${l.STORE_BASE_URL}${u?.store_url_path || "/"}`);
    return (0, I.jsxs)("a", {
      className: (0, un.default)(Fs, a && ho),
      href: i,
      ...o("categories", _),
      children: [
        (0, I.jsxs)("div", {
          className: Us,
          children: [
            (0, I.jsx)(Dl, { itemid: n }),
            (0, I.jsx)("div", { className: Os }),
          ],
        }),
        (0, I.jsx)("div", {
          className: fo,
          children: (0, I.jsx)("div", { children: u?.name }),
        }),
      ],
    });
  });
function Gp(t) {
  let { getMouseHandlers: e, active: n } = t;
  return (0, I.jsx)("button", {
    className: (0, un.default)(Gs, n && ho),
    type: "submit",
    ...e("advancedsearch", 0),
    children: (0, I.jsx)("span", {
      className: fo,
      children: v("#Menu_SearchBar_AdvancedSearch"),
    }),
  });
}
function Fp() {
  return (0, I.jsx)("div", {
    className: Es,
    children: v("#Menu_SearchBar_NoMatches"),
  });
}
var Kl = b(ye(), 1);
var El = "730px";
var ke = b(B());
var Qn = b(g());
function Ee() {
  return Nu(`(max-width: ${El})`) || l.IN_MOBILE_WEBVIEW;
}
function Yn(t) {
  return (0, Qn.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 12 12",
    fill: "none",
    role: "presentation",
    className: t.className,
    children: (0, Qn.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M5.81026 6.36084L8.50899 3.66211L9.6875 4.84062L5.81026 8.71786L1.93302 4.84062L3.11153 3.66211L5.81026 6.36084Z",
    }),
  });
}
var Do = ke.createContext({ nBackdropHeight: void 0, bBackdropActive: !1 });
function No() {
  return ke.useContext(Do);
}
var Wl = ke.createContext(void 0);
function Vl() {}
function ql(t) {
  let [e, n] = ke.useState(""),
    [_, o] = ke.useState(() => Vl),
    [a, u] = ke.useState(!1),
    [i, r, H] = Va(),
    d = `searchSuggestions_${ke.useId()}`,
    y = ke.useMemo(
      () => ({
        term: e,
        setTerm: n,
        onInputKeyDown: _,
        setInputKeyDown: (c) => o(() => c ?? Vl),
        suggestionsId: d,
        bEverActive: a,
        onActive: () => u(!0),
        bSearchVisible: i,
        openSearch: r,
        closeSearch: H,
      }),
      [e, _, d, a, i, r, H],
    );
  return (0, Qn.jsx)(Wl.Provider, { value: y, children: t.children });
}
function Tt() {
  return ke.useContext(Wl);
}
var he = b(g(), 1),
  Go = Xe.memo(function () {
    let { bBackdropActive: e } = No(),
      n = Ee();
    return (0, he.jsxs)("div", {
      className: Ms,
      children: [
        !n && (0, he.jsx)(Fo, { bBackdropActive: e }),
        (0, he.jsx)(Op, {}),
      ],
    });
  });
function Jl(t) {
  return Xe.useCallback(
    (e) => {
      let n = (_) => _.classList.contains(go) || _.classList.contains(po);
      !Ka(e.currentTarget, e.relatedTarget) && !Ja(e.relatedTarget, n) && t();
    },
    [t],
  );
}
var Fo = Xe.memo(function (e) {
  let { bBackdropActive: n, autoFocus: _ } = e,
    {
      term: o,
      setTerm: a,
      onInputKeyDown: u,
      suggestionsId: i,
      onActive: r,
      bSearchVisible: H,
      openSearch: m,
      closeSearch: d,
    } = Tt(),
    y = Jl(d);
  return (0, he.jsxs)("form", {
    className: (0, Kl.default)(po, n && !H && zs),
    role: "search",
    onMouseEnter: () => r(),
    method: "GET",
    action: `${l.STORE_BASE_URL}search`,
    onBlur: y,
    children: [
      (0, he.jsx)("input", {
        className: xs,
        name: "term",
        placeholder: v("#Menu_SearchPlaceholder"),
        value: o,
        onChange: (c) => a(c.currentTarget.value),
        onFocus: () => {
          r(), m();
        },
        autoFocus: _,
        onKeyDown: u,
        autoComplete: "off",
        role: "combobox",
        "aria-expanded": H,
        "aria-autocomplete": "list",
        "aria-controls": H ? i : void 0,
      }),
      (0, he.jsx)("button", {
        className: Ts,
        type: "submit",
        onClick: d,
        children: (0, he.jsx)(Ep, { "aria-label": v("#Menu_Search") }),
      }),
    ],
  });
});
function Op() {
  let {
      term: t,
      setInputKeyDown: e,
      suggestionsId: n,
      bEverActive: _,
      bSearchVisible: o,
      openSearch: a,
      closeSearch: u,
    } = Tt(),
    { nBackdropHeight: i } = No(),
    r = i && i < 480 ? 3 : 4,
    H = !(i && i < 450),
    { onKeyDown: m, ...d } = Ol(t, _, r, H),
    y = Jl(u),
    c = Xe.useCallback(
      (w) => {
        if (o && m(w)) {
          w.preventDefault();
          return;
        }
        w.key === "Escape" ? u() : a();
      },
      [o, u, a, m],
    );
  return (
    Xe.useEffect(() => (e(c), () => e(void 0)), [e, c]),
    (0, he.jsx)("div", {
      className: go,
      onBlur: y,
      children: (0, he.jsx)(xt, {
        visible: o,
        className: Bs,
        msAnimationDuration: 100,
        keepMounted: !0,
        children: (0, he.jsx)("div", {
          className: Ls,
          id: n,
          children: (0, he.jsx)(Ul, { ...d }),
        }),
      }),
    })
  );
}
var Ep = Xe.memo(function (e) {
  return (0, he.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 18 18",
    fill: "none",
    ...e,
    children: (0, he.jsx)("path", {
      fill: "currentColor",
      d: "M13.8296 12.0786C14.8347 10.6321 15.2623 8.86133 15.0284 7.11496C14.7945 5.36859 13.9159 3.77313 12.5656 2.64269C11.2153 1.51224 9.49114 0.928708 7.73254 1.00696C5.97394 1.08522 4.30831 1.8196 3.06357 3.06552C1.81882 4.31144 1.08514 5.97864 1.00696 7.7389C0.928776 9.49916 1.51176 11.2249 2.64114 12.5765C3.77052 13.9281 5.36446 14.8075 7.10919 15.0417C8.85391 15.2758 10.623 14.8477 12.0682 13.8417L15.2185 17L15.3997 16.8187L16.8188 15.3982L17 15.2168L13.8296 12.0786ZM8.04222 12.5824C7.14643 12.5824 6.27075 12.3165 5.52593 11.8183C4.7811 11.3202 4.20058 10.6122 3.85777 9.78376C3.51497 8.95538 3.42528 8.04384 3.60004 7.16443C3.7748 6.28502 4.20616 5.47723 4.83958 4.84321C5.47301 4.20919 6.28004 3.77742 7.15862 3.60249C8.0372 3.42757 8.94787 3.51734 9.77548 3.86047C10.6031 4.2036 11.3104 4.78467 11.8081 5.5302C12.3058 6.27573 12.5714 7.15223 12.5714 8.04887C12.5714 9.25123 12.0943 10.4043 11.2449 11.2545C10.3955 12.1047 9.24344 12.5824 8.04222 12.5824V12.5824Z",
    }),
  });
});
var gt = b(ye());
var HH = b(B(), 1);
var Yl = b(B(), 1);
var $l = "DkDkgW5s5IY-";
var Ql = "_7xtK0r5UTx8-";
var Zn = b(g(), 1);
function Zl(t) {
  let {
      visible: e,
      closePopover: n,
      children: _,
      refPopover: o,
      refActiveButton: a,
    } = t,
    u = Yl.useCallback(
      (i) => {
        if (
          !(!o.current || !a.current || !document.activeElement) &&
          i.key === "Tab"
        ) {
          let r = Ot(o.current),
            H = r.indexOf(document.activeElement);
          if (H === -1) return;
          if (
            (H === 0 && i.shiftKey && (a.current.focus(), i.preventDefault()),
            H === r.length - 1 && !i.shiftKey && a.current.parentElement)
          ) {
            let m = Ot(a.current.parentElement),
              d = m.indexOf(a.current);
            if (d !== -1) {
              let y = m[d + 1];
              y && (y.focus(), i.preventDefault());
            }
          }
        }
      },
      [a, o],
    );
  return (0, Zn.jsx)(xt, {
    visible: e,
    msAnimationDuration: 100,
    children: (0, Zn.jsx)("div", {
      className: $l,
      children: (0, Zn.jsx)(G, {
        "flow-children": "row",
        className: Ql,
        onCancelButton: n,
        ref: o,
        onKeyDown: u,
        children: _,
      }),
    }),
  });
}
var $o = b(ye(), 1),
  dt = b(B(), 1);
var Xl = "b-HJJEhQMU8-";
var em = "mI7yDdWRs7s-";
var Uo = "lXuAiu-iXVg-";
var Oo = "NNdAu3V92ks-";
var Eo = "ZB189Gu3K08-";
var rn = "AEA4GfrWyfA-";
var tm = "_9zveWEWUE7E-";
var nm = "_5ugSucgZfms-";
var _m = "bz3JO4um03s-";
var om = "VpezFJtD5Jk-";
var am = "P-RpS3TL4ck-";
var um = "_3tjjTZcUesk-";
var im = "zMIGQslm-QQ-";
var rm = "cewzj0KMkus-";
var bm = "_3nkzqYA4FK4-";
var sm = "dErpveGqVik-";
var lm = "gYGEdmPvZHE-";
var mm = "yfQ-e815I6Q-";
var Vo = "muC5kYuxRKc-";
var Hm = "iB3ocr-ufDs-";
var Wo = "vWxxzFGj5QA-";
var cm = "OXyMWcHNhmk-";
var ym = "ULGYPLpLEck-";
var pm = "zyQ6rHCzBVo-";
var dm = "gSkvnXl1o38-";
var gm = "_4gbfFObQAhE-";
var Cm = "uk8N4gUn-8w-";
var vm = "_6SLYXFxl98I-";
var hm = "_0jWrovn7F2Q-";
var bn = b(B(), 1);
var sn = b(ye(), 1);
var X = b(g(), 1);
function xe(t) {
  let e = Lt();
  return (0, X.jsx)(G, {
    className: (0, sn.default)(im, e && rm),
    children: t.children,
  });
}
function Te(t) {
  return (0, X.jsx)("div", {
    role: "heading",
    "aria-level": 2,
    className: bm,
    children: t.children,
  });
}
function fm(t) {
  let { title: e, children: n } = t;
  return (0, X.jsxs)(G, {
    "flow-children": "row",
    className: sm,
    children: [
      (0, X.jsx)(Te, { children: e }),
      (0, X.jsx)("div", { className: lm, children: n }),
    ],
  });
}
function Ve(t) {
  return (0, X.jsx)(G, {
    "flow-children": "row",
    className: mm,
    children: t.children,
  });
}
function rt(t) {
  return (0, X.jsx)(G, {
    className: (0, sn.default)(Vo, t.className),
    children: t.children,
  });
}
function De(t) {
  return (0, X.jsx)(G, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: Hm,
    children: t.children,
  });
}
function ue(t) {
  let e = ie(t.href);
  return (0, X.jsx)(re, { href: e, className: Wo, children: t.children });
}
function Xn(t) {
  let { storeItem: e, feature: n, depth: _, name: o } = t;
  return e && !e.visible
    ? null
    : (0, X.jsx)(ut, {
        storeItem: e,
        feature: n,
        depth: _,
        className: Wo,
        children: o || e?.name,
      });
}
var se = bn.default.memo(function (e) {
  let { handle: n, name: _ } = e,
    { data: o } = Rt(),
    a = o?.get(n);
  return a
    ? (0, X.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}${a.url_path}`,
        children: a.display_name,
      })
    : null;
});
function e_() {
  return (0, X.jsx)("hr", { className: cm });
}
function t_(t) {
  return (0, X.jsx)(G, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: (0, sn.default)(Vo, ym),
    children: t.children,
  });
}
function Bt(t) {
  return (0, X.jsx)(G, {
    "flow-children": "row",
    navEntryPreferPosition: 2,
    className: pm,
    children: t.children,
  });
}
function bt(t) {
  let { data: e } = Rt(),
    n = e?.get(t.handle);
  return n
    ? (0, X.jsx)(n_, {
        href: `${_e.STORE_BASE_URL}${n.url_path}`,
        name: n.display_name,
        icon: t.icon,
      })
    : null;
}
function n_(t) {
  let e = ie(t.href);
  return (0, X.jsxs)(re, {
    href: e,
    className: (0, sn.default)(dm, t.icon && gm),
    children: [
      t.icon && (0, X.jsx)("span", { className: Cm, children: t.icon }),
      (0, X.jsx)("span", { className: vm, children: t.name }),
    ],
  });
}
var km = bn.default.createContext({ wide: !0 });
function qo(t) {
  let e = bn.default.useMemo(() => ({ wide: !1 }), []);
  return (0, X.jsx)(km.Provider, { value: e, children: t.children });
}
function Lt() {
  let t = Ee();
  return bn.default.useContext(km).wide && !t;
}
function Ko(t) {
  let { href: e, label: n = v("#Menu_Popover_ViewAll") } = t;
  return (0, X.jsxs)(re, {
    className: hm,
    href: e,
    children: [n, (0, X.jsx)(Kp, {})],
  });
}
function Kp() {
  return (0, X.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 7 11",
    fill: "none",
    children: (0, X.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M3.41628 5.2L-6.9089e-08 1.58057L1.49186 6.52113e-08L6.4 5.2L1.49186 10.4L-3.85509e-07 8.81943L3.41628 5.2Z",
    }),
  });
}
var f = b(g(), 1);
function Sm() {
  return (0, f.jsx)(xe, {
    children: (0, f.jsxs)(Ve, {
      children: [(0, f.jsx)(Qp, {}), (0, f.jsx)(Jp, {})],
    }),
  });
}
var It = { include_assets: !0 };
function Jp() {
  return (0, f.jsxs)(De, {
    children: [
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}charts/`,
        children: v("#Menu_Popover_SteamCharts"),
      }),
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}explore/upcoming`,
        children: v("#Menu_Popover_Upcoming"),
      }),
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}points/`,
        children: v("#Menu_Popover_PointsShop"),
      }),
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}digitalgiftcards/`,
        children: v("#Menu_Popover_GiftCards"),
      }),
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}news/`,
        children: v("#Menu_Popover_NewsAndUpdates"),
      }),
      (0, f.jsx)(ue, {
        href: `${l.STORE_BASE_URL}account/preferences/`,
        children: v("#Menu_Popover_Preferences"),
      }),
      (0, f.jsx)(nd, {}),
    ],
  });
}
function Rm() {
  return Rt(), Ht({ count: 10 }, It), h_({ count: 10 }, It), wo(), null;
}
var $p = _t.GenerateRandomSeed();
function Qp() {
  let { data: t } = Rt(),
    e = t?.get("freetoplay"),
    n = t?.get("demos");
  return (0, f.jsxs)(rt, {
    className: Xl,
    children: [
      (0, f.jsx)(Te, { children: v("#Menu_Section_Browse_BrowseTop") }),
      (0, f.jsxs)(G, {
        className: em,
        children: [
          (0, f.jsxs)(ed, {
            children: [(0, f.jsx)(Yp, {}), (0, f.jsx)(Zp, {})],
          }),
          (0, f.jsxs)(td, {
            children: [
              (0, f.jsx)(__, {
                href: "explore/new/",
                children: (0, f.jsx)("div", {
                  className: rn,
                  children: v("#Menu_Section_Browse_NewReleases"),
                }),
              }),
              (0, f.jsx)(Xp, {}),
              e &&
                (0, f.jsx)(__, {
                  href: e.url_path,
                  children: (0, f.jsx)("div", {
                    className: rn,
                    children: v("#Menu_Section_Browse_FreeToPlay"),
                  }),
                }),
              n &&
                (0, f.jsx)(__, {
                  href: n.url_path,
                  children: (0, f.jsx)("div", {
                    className: rn,
                    children: n.display_name,
                  }),
                }),
            ],
          }),
        ],
      }),
    ],
  });
}
var wm = 3,
  Jo = 3;
function Qo(t) {
  let { rgItemIDs: e } = t,
    n = tt(),
    _ = Pn(),
    { data: o } = me({
      queryKey: ["CapsuleGrid", e],
      queryFn: async () =>
        (await Promise.all(e.map((i) => n.fetchQuery(vu(_, i))))).filter(
          Boolean,
        ),
    }),
    a = dt.useMemo(() => {
      if (!o || !o.length) return;
      let u = o.map((d) => xn(d, "header")).filter(Boolean),
        i = wm * Jo,
        r = [],
        H = _t.SeededRandom($p);
      for (; r.length < i; )
        r.push(...nt.ShuffleArray(u.slice(0, i - r.length), 0, H));
      let m = [];
      for (let d = 0; d < wm; d++) m.push(r.slice(d * Jo, (d + 1) * Jo));
      return m;
    }, [o]);
  return a
    ? (0, f.jsx)("div", {
        className: om,
        children: a.map((u, i) =>
          (0, f.jsx)(
            "div",
            {
              className: am,
              children: u.map((r, H) =>
                (0, f.jsx)("img", { src: r, alt: "" }, H),
              ),
            },
            i,
          ),
        ),
      })
    : null;
}
function Yp() {
  let { data: t } = Ht({ count: 10 }, It);
  return (0, f.jsx)(Pm, {
    label: v("#Menu_Section_Browse_TopSellers"),
    href: "charts/topselling",
    children: t && (0, f.jsx)(Qo, { rgItemIDs: t.rgItemIDs }),
  });
}
function Zp() {
  let { data: t } = h_({ count: 10 }, It);
  return (0, f.jsx)(Pm, {
    label: v("#Menu_Section_Browse_Discounts"),
    href: "specials/",
    children: t && (0, f.jsx)(Qo, { rgItemIDs: t.rgItemIDs }),
  });
}
function Xp() {
  let { data: t } = wo(),
    { data: e } = Ht({ count: 10 }, It);
  return (0, f.jsx)(__, {
    href: "wishlist/?min_discount=any",
    children: (0, f.jsx)("div", {
      className: rn,
      children: (0, f.jsxs)("div", {
        children: [
          v("#Menu_Section_Browse_Discounts_YourWishlist"),
          t !== void 0 &&
            t > 0 &&
            (0, f.jsx)("div", {
              className: tm,
              children: v(
                "#Menu_Section_Browse_Discounts_YourWishlist_Discounts",
                t.toLocaleString(),
              ),
            }),
        ],
      }),
    }),
  });
}
function ed(t) {
  let { children: e } = t;
  return (0, f.jsx)(G, {
    "flow-children": "column",
    navEntryPreferPosition: 3,
    className: (0, $o.default)(Uo, _m),
    children: e,
  });
}
function td(t) {
  let { children: e } = t;
  return (0, f.jsx)(G, {
    "flow-children": "grid",
    navEntryPreferPosition: 3,
    className: (0, $o.default)(Uo, nm),
    children: e,
  });
}
function Pm(t) {
  let { label: e, href: n, children: _ } = t,
    o = ie(`${l.STORE_BASE_URL}${n}`);
  return (0, f.jsxs)(re, {
    className: Oo,
    href: o,
    children: [_, e && (0, f.jsx)("span", { className: Eo, children: e })],
  });
}
function __(t) {
  let { label: e, href: n, children: _ } = t,
    { data: o } = Ht({ count: 10 }, It),
    a = ie(`${l.STORE_BASE_URL}${n}`);
  return (0, f.jsxs)(re, {
    className: Oo,
    href: a,
    children: [
      (0, f.jsxs)("div", {
        className: um,
        children: [" ", o && (0, f.jsx)(Qo, { rgItemIDs: o.rgItemIDs })],
      }),
      _,
      e && (0, f.jsx)("span", { className: Eo, children: e }),
    ],
  });
}
function nd() {
  return (0, f.jsx)("div", {
    className: Ps.ValveOnlyNotice,
    children: (0, f.jsx)(Fu, {
      toolTipContent:
        "The new store menu is currently visible only to Valve accounts for testing.",
      direction: "top",
      children: (0, f.jsxs)("span", {
        style: { display: "inline-block", cursor: "default" },
        children: [
          "VO",
          " - ",
          (0, f.jsx)("a", {
            href: "https://valve.enterprise.slack.com/archives/C08VC797WA1",
            target: "_blank",
            children: "Feedback",
          }),
        ],
      }),
    }),
  });
}
var ZR = dt.memo(function (e) {
    return (0, f.jsx)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 31 30",
      fill: "none",
      ...e,
      children: (0, f.jsx)("path", {
        fill: "currentColor",
        d: "M11.8667 20.8749L14.0834 17.7416V28.3749H5.75004V20.8749H11.8667ZM19.6167 20.8749L17.4167 17.7416V28.3749H25.75V20.8749H19.6167ZM21.575 17.5416H29.9167L25.75 11.7083H17.4167L21.575 17.5416ZM14.075 11.7083H5.75004L1.58337 17.5416H9.91671L14.075 11.7083ZM16.9917 1.70825H14.4917V5.45825C14.4917 5.62311 14.5243 5.78634 14.5876 5.93854C14.651 6.09074 14.7438 6.22891 14.8608 6.3451C14.9777 6.46128 15.1165 6.55318 15.2691 6.6155C15.4217 6.67783 15.5852 6.70935 15.75 6.70825C16.0816 6.70825 16.3995 6.57656 16.6339 6.34214C16.8683 6.10772 17 5.78977 17 5.45825L16.9917 1.70825ZM23.825 5.38325L21.825 3.86659L19.975 6.31658C19.8744 6.44714 19.8005 6.59633 19.7577 6.75555C19.715 6.91477 19.7041 7.08088 19.7258 7.24431C19.7475 7.40774 19.8013 7.56527 19.8841 7.70782C19.9669 7.85037 20.0771 7.97513 20.2084 8.07492C20.4739 8.27518 20.8079 8.36218 21.1374 8.31689C21.4669 8.27161 21.765 8.09772 21.9667 7.83325L23.825 5.38325ZM11.5084 6.31658L9.65837 3.86659L7.65837 5.38325L9.51671 7.83325C9.71836 8.09772 10.0165 8.27161 10.346 8.31689C10.6755 8.36218 11.0095 8.27518 11.275 8.07492C11.4063 7.97513 11.5165 7.85037 11.5993 7.70782C11.6821 7.56527 11.7359 7.40774 11.7576 7.24431C11.7793 7.08088 11.7684 6.91477 11.7257 6.75555C11.6829 6.59633 11.609 6.44714 11.5084 6.31658Z",
      }),
    });
  }),
  XR = dt.memo(function (e) {
    return (0, f.jsx)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 30 30",
      fill: "none",
      ...e,
      children: (0, f.jsx)("path", {
        fill: "currentColor",
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M28.1504 16.0166L16.0166 28.1504L3.33301 15.4668V3.33301H15.4668L28.1504 16.0166ZM12.4023 11.1221L8.33301 11.6387L11.3105 14.4004L10.5605 18.333L14.167 16.4268L17.7734 18.333L17.0264 14.4004L20 11.6387L15.9307 11.1221L14.167 7.5L12.4023 11.1221Z",
      }),
    });
  }),
  eP = dt.memo(function (e) {
    return (0, f.jsx)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 30 30",
      fill: "none",
      ...e,
      children: (0, f.jsx)("path", {
        fill: "currentColor",
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M8.33332 26.5469C14.7106 30.2288 22.8651 28.0438 26.547 21.6665C30.2289 15.2893 28.0439 7.13476 21.6667 3.45286C15.2894 -0.229037 7.13488 1.95596 3.45298 8.3332C-0.228915 14.7104 1.95609 22.865 8.33332 26.5469ZM6.23348 21.3692C3.79844 18.0137 3.41122 13.4055 5.61805 9.5832C7.6228 6.11087 11.2595 4.16821 15 4.16473V9.99903C13.2736 10.0006 11.5951 10.8972 10.6699 12.4999C9.65132 14.264 9.83004 16.3909 10.9539 17.9396L6.23348 21.3692ZM15 25.835C18.7405 25.8315 22.3772 23.8888 24.3819 20.4165C26.5887 16.5942 26.2015 11.9861 23.7666 8.63065L19.0461 12.0602C20.1699 13.6089 20.3486 15.7357 19.3301 17.4999C18.4049 19.1025 16.7264 19.9991 15 20.0007L15 25.835ZM16.25 12.8348C17.4457 13.5252 17.8554 15.0541 17.1651 16.2499C16.4747 17.4456 14.9457 17.8553 13.75 17.1649C12.5543 16.4746 12.1446 14.9456 12.8349 13.7499C13.5253 12.5541 15.0543 12.1444 16.25 12.8348Z",
      }),
    });
  }),
  tP = dt.memo(function (e) {
    return (0, f.jsxs)("svg", {
      xmlns: "http://www.w3.org/2000/svg",
      viewBox: "0 0 30 30",
      fill: "none",
      ...e,
      children: [
        (0, f.jsx)("path", {
          fill: "currentColor",
          d: "M21.725 15.0001L11.6666 20.8917V9.10841L21.725 15.0001Z",
        }),
        (0, f.jsx)("path", {
          fill: "currentColor",
          fillRule: "evenodd",
          clipRule: "evenodd",
          d: "M15 1.66675C12.3629 1.66675 9.78502 2.44873 7.59236 3.91382C5.39971 5.3789 3.69074 7.46129 2.68157 9.89763C1.6724 12.334 1.40836 15.0149 1.92283 17.6013C2.4373 20.1877 3.70717 22.5635 5.57187 24.4282C7.43657 26.2929 9.81235 27.5627 12.3988 28.0772C14.9852 28.5917 17.6661 28.3276 20.1024 27.3185C22.5388 26.3093 24.6211 24.6003 26.0862 22.4077C27.5513 20.215 28.3333 17.6372 28.3333 15.0001C28.3333 13.2491 27.9884 11.5153 27.3184 9.89763C26.6483 8.27996 25.6662 6.8101 24.4281 5.57199C23.1899 4.33388 21.7201 3.35175 20.1024 2.68169C18.4847 2.01162 16.7509 1.66675 15 1.66675ZM9.44426 6.68539C11.0888 5.58657 13.0222 5.00008 15 5.00008C16.3132 5.00008 17.6135 5.25874 18.8268 5.76129C20.0401 6.26383 21.1424 7.00043 22.071 7.92901C22.9996 8.8576 23.7362 9.95999 24.2388 11.1732C24.7413 12.3865 25 13.6869 25 15.0001C25 16.9779 24.4135 18.9113 23.3147 20.5558C22.2158 22.2003 20.6541 23.482 18.8268 24.2389C16.9995 24.9957 14.9889 25.1938 13.0491 24.8079C11.1093 24.4221 9.32742 23.4697 7.9289 22.0711C6.53037 20.6726 5.57796 18.8908 5.19211 16.951C4.80626 15.0112 5.00429 13.0005 5.76117 11.1732C6.51805 9.34599 7.79977 7.7842 9.44426 6.68539Z",
        }),
      ],
    });
  });
var Gm = b(B(), 1);
var Am = "WjktTyUPITU-";
var Yo = "_9H5o02mVhIk-";
var Mm = "-WrCGkDvlps-";
var zm = "WY6K-yZzAe8-";
var xm = "xH2YoV9IJC0-";
var Tm = "S9gkWvzssts-";
var Bm = "rMWh4wVK2GM-";
var Lm = "lEUQ9HI4CZ4-";
var Im = "qWGrofpir30-";
var jm = "FjXlzzZgX68-";
var Dm = "mWxgVCwoFBY-";
function Nm(t = 0, e = void 0) {
  let n = ge();
  return me(od(n, t, !1, e));
}
function od(t, e, n = !1, _ = void 0) {
  return {
    queryKey: ["DiscoveryQueue", e, _],
    queryFn: () => ad(t, e, n, _),
    enabled: fa.logged_in,
  };
}
async function ad(t, e, n = !1, _ = void 0) {
  let o = de.Init(Pu);
  o.Body().set_queue_type(e),
    o.Body().set_country_code(_e.COUNTRY),
    o.Body().set_rebuild_queue(n),
    o.Body().set_rebuild_queue_if_stale(!0),
    (_?.nSaleTagID || _?.strContentHubType) &&
      o.Body().set_store_page_filter(ud(_));
  let a = await zn.GetDiscoveryQueue(t, o);
  if (!a.BSuccess())
    throw `Error loading discovery queue: ${a.GetErrorMessage()}`;
  return a.Body().toObject();
}
function ud(t) {
  let e = t?.nSaleTagID,
    n = t?.strContentHubType,
    _ = t?.strContentHubCategory,
    o = t?.nContentHubTagID,
    a = t?.bDiscountsOnly,
    u = t?.bPrioritizeDiscounts,
    i = t?.strOptInName,
    r = t?.nOptInTagID,
    H = t?.nPruneTagID,
    m = t?.bOptInOnly,
    d = new Ta();
  if (e) {
    let y = new Ba();
    y.set_sale_tagid(e), d.set_sale_filter(y);
  } else if (n) {
    let y = new La();
    if (
      (y.set_hub_type(n),
      n === "category"
        ? y.set_hub_category(_)
        : n === "tags" && y.set_hub_tagid(o),
      a ? y.set_discount_filter(1) : u && y.set_discount_filter(2),
      i)
    ) {
      let c = new Ia();
      c.set_name(i),
        c.set_optin_tagid(r),
        c.set_prune_tagid(H),
        c.set_optin_only(m),
        y.set_optin(c);
    }
    d.set_content_hub_filter(y);
  }
  return d;
}
var sd = b(ye(), 1);
function Zo(t, e) {
  let n = ge(),
    { storeBrowseContext: _, cacheStoreItemData: o } = Mn();
  return me(id(n, { storeBrowseContext: _, cacheStoreItemData: o }, e, t));
}
function id(t, e, n, _) {
  let { storeBrowseContext: o, cacheStoreItemData: a } = e;
  return {
    ...rd(
      t,
      o,
      { rgAdditionalRecommendationIDs: n ?? [] },
      _ && { data_request: _, cacheStoreItemData: a },
    ),
    enabled: fe.logged_in,
    select: (u) => (u.purchase_recommendations || []).map((i) => i.item_id),
  };
}
function rd(t, e, n, _) {
  let {
      bIncludeDailyDeals: o = !1,
      nIncludeTopNSpecials: a = 0,
      spotlightLocation: u = {},
      rgAdditionalRecommendationIDs: i,
    } = n,
    r = {
      bIncludeDailyDeals: o,
      nIncludeTopNSpecials: a,
      spotlightLocation: u,
      rgAdditionalRecommendationIDs: i,
    };
  return {
    queryKey: ["ItemsToFeature", r],
    queryFn: () => bd(t, e, r, _),
    staleTime: 3600 * 1e3,
  };
}
async function bd(t, e, n, _) {
  let o = de.Init(Uu);
  wt(e, o),
    _ && St(o, _.data_request),
    n.bIncludeDailyDeals && o.Body().set_include_dailydeals(!0),
    n.nIncludeTopNSpecials &&
      o.Body().set_include_top_specials_count(n.nIncludeTopNSpecials),
    n.spotlightLocation &&
      o.Body().set_include_spotlights(Ou.fromObject(n.spotlightLocation)),
    n.rgAdditionalRecommendationIDs !== void 0 &&
      (o.Body().set_include_purchase_recommendations(!0),
      n.rgAdditionalRecommendationIDs.forEach((u) =>
        o.Body().add_additional_purchase_item_ids(ft.fromObject(u)),
      ));
  let a = await Eu.GetItemsToFeature(t, o);
  if (!a.BSuccess()) throw a.GetErrorMessage();
  if (_) {
    let { cacheStoreItemData: u, data_request: i } = _,
      r = (H) => H && u(H, i);
    a
      .Body()
      .spotlights()
      .forEach((H) => r(H.associated_item(!1))),
      a
        .Body()
        .daily_deals()
        .forEach((H) => r(H.item(!1))),
      a
        .Body()
        .specials()
        .forEach((H) => r(H.item(!1))),
      a
        .Body()
        .purchase_recommendations()
        .forEach((H) => r(H.item(!1)));
  }
  return a.Body().toObject();
}
var x = b(g(), 1);
function Fm() {
  return (0, x.jsx)(xe, {
    children: (0, x.jsxs)(Ve, {
      children: [
        (0, x.jsxs)(rt, {
          className: Am,
          children: [
            fe.logged_in ? (0, x.jsx)(cd, {}) : (0, x.jsx)(yd, {}),
            (0, x.jsx)(md, {}),
          ],
        }),
        (0, x.jsx)(ld, {}),
      ],
    }),
  });
}
function Um() {
  return Zo(Xo), Nm(), null;
}
function ld() {
  let t = Lt();
  return (0, x.jsxs)(De, {
    children: [
      !t &&
        (0, x.jsx)(ue, {
          href: `${_e.STORE_BASE_URL}explore/next/3`,
          children: v("#Menu_Section_Recommendations_DiscoveryQueue_Title"),
        }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}explore/next/3`,
        children: v("#Menu_Section_Recommendations_NewReleasesQueue"),
      }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}communityrecommendations/`,
        children: v("#Menu_Section_Recommendations_CommunityRecommendations"),
      }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}recommender/`,
        children: v("#Menu_Section_Recommendations_InteractiveRecommender"),
      }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}recommended/friendactivity/`,
        children: v("#Menu_Section_Recommendations_PopularAmongFriends"),
      }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}curators/`,
        children: v("#Menu_Section_Recommendations_SteamCurators"),
      }),
      (0, x.jsx)(ue, {
        href: `${_e.STORE_BASE_URL}dlcforyou/`,
        children: v("#Menu_Section_Recommendations_DLCForYou"),
      }),
    ],
  });
}
function md() {
  return Lt()
    ? (0, x.jsxs)(re, {
        className: Mm,
        href: `${_e.STORE_BASE_URL}explore/next/0`,
        children: [
          (0, x.jsxs)("div", {
            className: zm,
            children: [
              (0, x.jsx)("div", {
                className: Bm,
                style: {
                  backgroundImage:
                    "url('https://store.akamai.steamstatic.com/public/shared/images/joinsteam/new_login_bg_strong_mask.jpg')",
                },
              }),
              (0, x.jsx)("div", { className: xm }),
            ],
          }),
          (0, x.jsxs)("div", {
            className: Lm,
            children: [
              (0, x.jsx)("div", {
                className: Im,
                children: v(
                  "#Menu_Section_Recommendations_DiscoveryQueue_Title",
                ),
              }),
              (0, x.jsx)("div", {
                className: jm,
                children: v(
                  "#Menu_Section_Recommendations_DiscoveryQueue_Description",
                ),
              }),
              (0, x.jsxs)("div", {
                className: Tm,
                children: [
                  (0, x.jsx)("span", {
                    className: Dm,
                    children: v(
                      "#Menu_Section_Recommendations_DiscoveryQueue_ActionButton",
                    ),
                  }),
                  (0, x.jsx)(pd, {}),
                ],
              }),
            ],
          }),
        ],
      })
    : null;
}
var Xo = { include_assets: !0 },
  Hd = Math.floor(Date.now() / (10 * 60 * 1e3));
function cd(t) {
  let { rgRecentApps: e } = t,
    { data: n } = Zo(Xo),
    _ = Gm.default.useMemo(() => {
      if (!n) return [];
      let o = new Set(e?.map(Je) || []),
        a = n.slice(0, 10).filter((u) => !o.has(Je(u)));
      return nt.ShuffleArray(a, 0, _t.SeededRandom(Hd)).slice(0, 3);
    }, [n, e]);
  return (0, x.jsx)(Fe, {
    feature: "package-purchase-recommendations",
    children: (0, x.jsxs)("div", {
      className: Yo,
      children: [
        (0, x.jsx)(Te, { children: v("#Menu_Section_Browse_Recommended") }),
        (0, x.jsx)(Bo, { rgItemIDs: _ }),
      ],
    }),
  });
}
function yd() {
  let { data: t } = Ht({ count: 3, name: "Store Menu Top Grossing" }, Xo);
  return (0, x.jsx)(Fe, {
    feature: "topsellers",
    children: (0, x.jsxs)("div", {
      className: Yo,
      children: [
        (0, x.jsx)(Te, { children: v("#Menu_TopSellers") }),
        (0, x.jsx)(Bo, { rgItemIDs: t?.rgItemIDs || [] }),
      ],
    }),
  });
}
function pd() {
  return (0, x.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 18 16",
    fill: "none",
    children: (0, x.jsx)("path", {
      fill: "currentColor",
      d: "M11.0941 6.30047L7.19722 2.40354L9.60075 -3.86836e-07L17.6008 8L9.60075 16L7.19722 13.5965L11.0941 9.69958L0.750976 9.69958L0.750976 6.30047L11.0941 6.30047Z",
    }),
  });
}
var o_ = b(B(), 1);
var Om = "KS3VoNPGZ8c-";
var Em = "Fn8mFRDdRio-";
var ea = "FNE-mPeXzQA-";
var Vm = "pWS9WkhTQxE-";
var Wm = "MjVgWd26-Ks-";
var qm = "i0CnQqTCYIQ-";
var Km = "jLuOSBgXneI-";
var Jm = "O-5tWVDApEQ-";
var ta = "pFyqFohCcGg-";
function na(t) {
  let { tagid: e, language: n = _e.LANGUAGE } = t;
  return v_(e, n) || String(e);
}
function _a(t, e = _e.LANGUAGE) {
  let n = v_(t, e);
  return `${_e.STORE_BASE_URL}tags/${ka(e)}/${n}`;
}
function oa() {
  let t = An(),
    e = ge(),
    n = mt();
  return me({ ...gd(e, t), enabled: !!n, initialData: n ? void 0 : [] });
}
function gd(t, e) {
  return {
    queryKey: ["RecommendedTagsForUser", e.country, e.language],
    queryFn: () => Cd(t, e),
    staleTime: 1e3 * 60 * 60 * 24,
  };
}
async function Cd(t, e) {
  let n = de.Init(Ru);
  n.Body().set_language(e.language),
    n.Body().set_country_code(e.country),
    n.Body().set_favor_rarer_tags(!0);
  let _ = await zn.GetRecommendedTagsForUser(t, n);
  if (!_.BSuccess())
    throw `Error loading recommended tags: ${_.GetErrorMessage()}`;
  return _.Body().toObject().tags || [];
}
var F = b(g(), 1);
function $m() {
  return (0, F.jsxs)(xe, {
    children: [
      (0, F.jsx)(fm, {
        title: v("#Menu_Section_Categories_YourTopGenres"),
        children: (0, F.jsx)(Ko, {
          href: `${l.STORE_BASE_URL}sitemap/#genres`,
          label: v("#Menu_Section_Categories_ViewAll"),
        }),
      }),
      (0, F.jsx)(rt, { children: (0, F.jsx)(vd, {}) }),
    ],
  });
}
function Qm() {
  return C_(l.LANGUAGE), on(fe.logged_in), oa(), null;
}
var vd = o_.default.memo(function () {
    let [e, n] = fd();
    return e === null || n === null
      ? null
      : (0, F.jsxs)(F.Fragment, {
          children: [
            (0, F.jsx)(G, {
              "flow-children": "row",
              className: Om,
              children: e.map((_) =>
                _.type === "hub"
                  ? (0, F.jsx)(kd, { featuredCategory: _ }, _.strHandle)
                  : (0, F.jsx)(wd, { featuredTag: _ }, _.unTagID),
              ),
            }),
            (0, F.jsxs)(G, {
              "flow-children": "row",
              className: Km,
              children: [
                (0, F.jsx)(G, {
                  "flow-children": "row",
                  className: Jm,
                  children: n.map((_) =>
                    _.type === "hub"
                      ? (0, F.jsx)(Rd, { featuredLink: _ }, _.strHandle)
                      : (0, F.jsx)(Sd, { featuredLink: _ }, _.unTagID),
                  ),
                }),
                (0, F.jsx)(Ko, {
                  href: `${l.STORE_BASE_URL}tag/browse/`,
                  label: v("#Menu_Section_Categories_ViewAllTags"),
                }),
              ],
            }),
          ],
        });
  }),
  hd = _t.GenerateRandomSeed();
function fd() {
  let { data: t } = on(),
    { data: e } = oa(),
    n = Vu(an),
    { data: _ } = C_(l.LANGUAGE),
    o = o_.default.useMemo(
      () => nt.ShuffleArray($n().slice(), 0, _t.SeededRandom(hd)),
      [],
    ),
    a = Lt(),
    u = a ? 8 : 5,
    i = a ? 12 : 8;
  return o_.default.useMemo(() => {
    if (t == null || e == null || !n || !_) return [null, null];
    let r = new Set(),
      H = new Set(),
      m = [],
      d = [],
      y = t.slice(),
      c = e.slice(),
      w = o;
    for (let M of [m, d]) {
      let A = M == m ? u : i;
      for (; M.length < A; ) {
        let te;
        if (y.length) {
          let ne = y.shift();
          "hubconfig" in ne
            ? (te = {
                type: "hub",
                strHandle: ne.hubconfig.handle,
                strName: ne.hubconfig.display_name,
                strURLPath: ne.hubconfig.url_path,
              })
            : (te = { type: "tag", unTagID: ne.tagid });
        } else if (c.length) te = { type: "tag", unTagID: c.shift().tagid };
        else if (w.length) {
          let ne = w.shift();
          te = {
            type: "hub",
            strHandle: ne.id,
            strName: an.Localize(ne.strLocToken),
            strURLPath: ne.strSalePageURL,
          };
        } else break;
        te.type == "tag"
          ? !H.has(te.unTagID) &&
            te.unTagID in _ &&
            (H.add(te.unTagID), M.push(te))
          : te.type == "hub" &&
            (r.has(te.strHandle) || (r.add(te.strHandle), M.push(te)));
      }
    }
    return [m, d];
  }, [u, i, t, e, o, n, _]);
}
function kd(t) {
  let { featuredCategory: e } = t,
    { strHandle: n, strURLPath: _, strName: o } = e,
    a = ie(`${l.STORE_BASE_URL}${_}`, "big-category-link");
  return (0, F.jsx)(Ym, {
    title: o,
    href: a,
    children: (0, F.jsx)(Nl, { category: n, className: ea }),
  });
}
function wd(t) {
  let { featuredTag: e } = t,
    { unTagID: n } = e,
    _ = ie(_a(n), "big-category-link");
  return (0, F.jsx)(Ym, {
    title: (0, F.jsx)(na, { tagid: n }),
    href: _,
    children: (0, F.jsx)(Io, { tagid: n, className: ea }),
  });
}
function Ym(t) {
  let { children: e, title: n, href: _ } = t;
  return (0, F.jsxs)(re, {
    className: Em,
    href: _,
    children: [
      e,
      (0, F.jsx)("div", { className: Vm }),
      (0, F.jsx)("div", {
        className: Wm,
        children: (0, F.jsx)("div", { className: qm, children: n }),
      }),
    ],
  });
}
function Sd(t) {
  let { featuredLink: e } = t,
    n = ie(_a(e.unTagID), "small-category-link");
  return (0, F.jsx)(re, {
    className: ta,
    href: n,
    fnCanTakeFocus: p_,
    children: (0, F.jsx)(na, { tagid: e.unTagID }),
  });
}
function Rd(t) {
  let { featuredLink: e } = t,
    n = ie(`${l.STORE_BASE_URL}${e.strURLPath}`, "small-category-link");
  return (0, F.jsx)(re, {
    className: ta,
    href: n,
    fnCanTakeFocus: p_,
    children: e.strName,
  });
}
var Zm = "BUi42fzAwGY-";
var Xm = "HWTMAITMowM-";
var eH = "MFaLtBAVIAM-";
var tH = "Vg3QiTRTamw-";
var nH = "eLjOKgMe1Sk-";
var _H = "/2KRULVAA.png";
var oH = "/A7QSO6BA.png";
var oe = b(g(), 1),
  uH = { appid: 1675200 },
  iH = { appid: 1696780 },
  rH = { packageid: 354231 };
function bH() {
  return (0, oe.jsxs)(xe, {
    children: [
      (0, oe.jsx)(Te, { children: v("#Menu_Section_Hardware") }),
      (0, oe.jsxs)(Ve, {
        children: [(0, oe.jsx)(zd, {}), (0, oe.jsx)(xd, {})],
      }),
    ],
  });
}
function zd() {
  let { data: t } = Ae(uH),
    { data: e } = Ae(iH),
    { data: n } = Ae(rH),
    _ = [
      { storeItem: t, image: Pe(_H) },
      {
        storeItem: e,
        image: Pe(oH),
        name: v("#Menu_Section_Hardware_SteamDeckDock"),
      },
      { storeItem: n },
    ]
      .filter(({ storeItem: o }) => o && o.visible)
      .slice(0, 2);
  return (0, oe.jsxs)(rt, {
    className: Zm,
    children: [
      _.length >= 1 && (0, oe.jsx)(aH, { ..._[0] }),
      _.length >= 2 && (0, oe.jsx)(aH, { ..._[1] }),
    ],
  });
}
function aH(t) {
  let { storeItem: e, image: n, name: _ = e.name } = t;
  return (0, oe.jsxs)(ut, {
    className: Xm,
    storeItem: e,
    children: [
      n && (0, oe.jsx)("img", { className: tH, src: n, alt: _ }),
      (0, oe.jsx)("div", {
        className: eH,
        children: (0, oe.jsx)("div", { className: nH, children: _ }),
      }),
    ],
  });
}
function xd() {
  let { data: t } = Ae(uH),
    { data: e } = Ae(iH),
    { data: n } = Ae(rH);
  return (0, oe.jsxs)(De, {
    children: [
      (0, oe.jsx)(Xn, { storeItem: t }),
      (0, oe.jsx)(Xn, { storeItem: e }),
      (0, oe.jsx)(Xn, {
        storeItem: n,
        name: v("#Menu_Section_Hardware_VRHardware"),
      }),
      (0, oe.jsx)(e_, {}),
      (0, oe.jsx)(se, { handle: "greatondeck" }),
      (0, oe.jsx)(se, { handle: "vr" }),
      (0, oe.jsx)(se, { handle: "controller" }),
    ],
  });
}
var T = b(g(), 1);
function sH() {
  return (0, T.jsxs)(xe, {
    children: [
      (0, T.jsx)(Te, { children: v("#Menu_Section_WaysToPlay") }),
      (0, T.jsxs)(Ve, { children: [(0, T.jsx)(Bd, {}), (0, T.jsx)(Td, {})] }),
    ],
  });
}
function Td() {
  return (0, T.jsxs)(De, {
    children: [
      (0, T.jsx)(se, { handle: "multiplayer_lan" }),
      (0, T.jsx)(se, { handle: "multiplayer_local_party" }),
      (0, T.jsx)(se, { handle: "multiplayer_mmo" }),
      (0, T.jsx)(se, { handle: "multiplayer" }),
      (0, T.jsx)(se, { handle: "multiplayer_online_competitive" }),
      (0, T.jsx)(se, { handle: "singleplayer" }),
    ],
  });
}
function Bd() {
  return (0, T.jsxs)(t_, {
    children: [
      (0, T.jsxs)(Bt, {
        children: [
          (0, T.jsx)(bt, { handle: "greatondeck", icon: (0, T.jsx)(Dd, {}) }),
          (0, T.jsx)(bt, {
            handle: "remoteplay_hub",
            icon: (0, T.jsx)(Id, {}),
          }),
          (0, T.jsx)(bt, { handle: "vr", icon: (0, T.jsx)(jd, {}) }),
        ],
      }),
      (0, T.jsxs)(Bt, {
        children: [
          (0, T.jsx)(bt, { handle: "controller", icon: (0, T.jsx)(Ld, {}) }),
          (0, T.jsx)(bt, {
            handle: "multiplayer_coop",
            icon: (0, T.jsx)(Nd, {}),
          }),
        ],
      }),
    ],
  });
}
function Ld() {
  return (0, T.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 46 47",
    fill: "none",
    children: (0, T.jsx)("path", {
      stroke: "currentColor",
      fill: "currentColor",
      d: "M23 7.38892C29.6405 7.38892 34.242 8.69779 37.1699 9.99146C38.6345 10.6386 39.6828 11.2832 40.3604 11.761C40.6989 11.9998 40.9454 12.197 41.1045 12.3323C41.1603 12.3797 41.2056 12.4201 41.2402 12.4514C41.2433 12.4618 41.2466 12.4731 41.25 12.4846C41.2814 12.5922 41.327 12.7511 41.3857 12.9553C41.5034 13.3645 41.6721 13.9564 41.874 14.6848C42.278 16.1422 42.8171 18.1467 43.3555 20.3352C44.4379 24.7353 45.5 29.807 45.5 32.7004C45.4998 34.6845 44.063 36.4077 42.4902 37.6848C41.7174 38.3123 40.942 38.8073 40.3584 39.1458C40.0962 39.2978 39.8734 39.4168 39.709 39.5022L32.1514 31.9446H13.8486L13.7021 32.0911L6.29004 39.5022C6.12571 39.4168 5.90342 39.2976 5.6416 39.1458C5.05803 38.8073 4.28256 38.3123 3.50977 37.6848C1.93696 36.4077 0.500199 34.6845 0.5 32.7004C0.5 29.807 1.56212 24.7353 2.64453 20.3352C3.18289 18.1467 3.72199 16.1422 4.12598 14.6848C4.3279 13.9564 4.49657 13.3645 4.61426 12.9553C4.67299 12.7511 4.71857 12.5922 4.75 12.4846C4.75335 12.4731 4.75578 12.4617 4.75879 12.4514C4.79351 12.42 4.83937 12.38 4.89551 12.3323C5.05464 12.197 5.30107 11.9998 5.63965 11.761C6.31717 11.2832 7.36553 10.6386 8.83008 9.99146C11.758 8.69779 16.3595 7.38892 23 7.38892ZM11 17.8889H7.16699V22.7219H11V26.5559H15.833V22.7219H19.667V17.8889H15.833V14.0559H11V17.8889ZM28.8857 19.4475C28.2109 19.1681 27.4683 19.0952 26.752 19.2375C26.125 19.3623 25.5424 19.6475 25.0605 20.0627L24.8594 20.2483C24.4074 20.7003 24.082 21.2612 23.9121 21.8743L23.8486 22.1409C23.724 22.7678 23.7645 23.4147 23.9639 24.0188L24.0586 24.2747C24.3033 24.8653 24.6968 25.3811 25.1982 25.7727L25.4199 25.9329C26.0274 26.3388 26.742 26.5559 27.4727 26.5559C27.8971 26.5559 28.318 26.4827 28.7168 26.3401L28.8857 26.2747C29.278 26.1122 29.6392 25.8833 29.9531 25.5989L30.085 25.4739C30.3852 25.1736 30.6304 24.8237 30.8115 24.4407L30.8857 24.2747C31.0713 23.8267 31.1669 23.3465 31.167 22.8616C31.167 22.2222 31.0009 21.595 30.6875 21.0413L30.5439 20.8088C30.1888 20.2773 29.7029 19.848 29.1348 19.5618L28.8857 19.4475ZM36.5527 14.3372C35.9619 14.0924 35.3192 14.0055 34.6875 14.0833L34.418 14.1262C33.791 14.251 33.2085 14.536 32.7266 14.9514L32.5264 15.1379C32.0742 15.5901 31.748 16.1506 31.5781 16.7639L31.5156 17.0295C31.391 17.6565 31.4315 18.3033 31.6309 18.9075L31.7256 19.1643C31.9703 19.7548 32.3639 20.2698 32.8652 20.6614L33.0859 20.8215C33.6934 21.2274 34.4081 21.4445 35.1387 21.4446C36.0572 21.4446 36.9405 21.1021 37.6182 20.4885L37.751 20.3625C38.4438 19.6698 38.833 18.73 38.833 17.7502C38.833 17.1109 38.6679 16.4836 38.3545 15.9299L38.2109 15.6975C37.8557 15.1658 37.3692 14.7367 36.8008 14.4504L36.5527 14.3372Z",
    }),
  });
}
function Id() {
  return (0, T.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 47 47",
    fill: "none",
    children: (0, T.jsx)("path", {
      fill: "currentColor",
      d: "M44.1111 8.16675V38.8334H22.3888V33.7223H38.9999V13.2779H8.33328V19.6667H3.22217V8.16675H44.1111ZM3.22217 23.5001V28.6112C5.93327 28.6112 8.53333 29.6882 10.4504 31.6052C12.3674 33.5223 13.4444 36.1223 13.4444 38.8334H18.5555C18.5555 34.7668 16.94 30.8667 14.0645 27.9911C11.1889 25.1156 7.28882 23.5001 3.22217 23.5001ZM3.22217 32.4445V38.8334H9.61106C9.61106 37.9944 9.4458 37.1636 9.12473 36.3885C8.80366 35.6134 8.33306 34.9091 7.73979 34.3158C7.14653 33.7225 6.44223 33.2519 5.66709 32.9309C4.89195 32.6098 4.06117 32.4445 3.22217 32.4445Z",
    }),
  });
}
function jd() {
  return (0, T.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 47 28",
    fill: "none",
    children: (0, T.jsx)("path", {
      fill: "currentColor",
      d: "M42.5002 8.49432C42.5147 7.1735 42.1195 5.88065 41.3689 4.79371C40.6184 3.70677 39.5494 2.87919 38.3091 2.42488C33.4448 1.02283 28.394 0.376401 23.3335 0.508213C18.2729 0.376401 13.2222 1.02283 8.35794 2.42488C7.11763 2.87919 6.04862 3.70677 5.29806 4.79371C4.5475 5.88065 4.15229 7.1735 4.16683 8.49432L0.333496 9.45266V17.1193L4.16683 18.0904C4.27554 19.7299 4.82745 21.3091 5.76364 22.6594C6.69984 24.0096 7.98516 25.0803 9.48238 25.7571L13.3157 27.3799C14.0945 27.6992 14.9581 27.7467 15.7672 27.5149C16.5763 27.283 17.2837 26.7853 17.7752 26.1021C18.3811 25.2081 19.2178 24.4949 20.1964 24.0382C21.1751 23.5815 22.2591 23.3984 23.3335 23.5082C24.4131 23.4088 25.4994 23.6048 26.4762 24.0752C27.4531 24.5456 28.2836 25.2727 28.8791 26.1788C29.3705 26.862 30.0779 27.3597 30.887 27.5915C31.6961 27.8234 32.5597 27.7758 33.3385 27.4565L37.1718 25.8338C38.6691 25.157 39.9544 24.0863 40.8906 22.736C41.8268 21.3858 42.3787 19.8066 42.4874 18.1671L46.3207 17.196V9.52932L42.5002 8.49432ZM28.6491 8.11099C27.0968 7.75874 25.5127 7.56607 23.9213 7.53599C21.9373 7.4828 19.9544 7.67594 18.0179 8.11099L17.1491 4.37988C19.4044 3.87493 21.713 3.64751 24.0235 3.70266C25.8737 3.73511 27.7153 3.9621 29.5179 4.37988L28.6491 8.11099Z",
    }),
  });
}
function Dd() {
  return (0, T.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 46 47",
    fill: "none",
    children: (0, T.jsx)("path", {
      fill: "currentColor",
      fillRule: "evenodd",
      clipRule: "evenodd",
      d: "M0 14.5556C0 13.1442 1.14416 12 2.55556 12H43.4444C44.8558 12 46 13.1442 46 14.5556V31.1667C46 33.2838 44.2838 35 42.1667 35H3.83333C1.71624 35 0 33.2838 0 31.1667V14.5556ZM42.1667 20.9444C42.1667 21.6501 41.5946 22.2222 40.8889 22.2222C40.1832 22.2222 39.6111 21.6501 39.6111 20.9444C39.6111 20.2387 40.1832 19.6667 40.8889 19.6667C41.5946 19.6667 42.1667 20.2387 42.1667 20.9444ZM40.8889 17.1111C41.5946 17.1111 42.1667 16.539 42.1667 15.8333C42.1667 15.1276 41.5946 14.5556 40.8889 14.5556C40.1832 14.5556 39.6111 15.1276 39.6111 15.8333C39.6111 16.539 40.1832 17.1111 40.8889 17.1111ZM44.7222 18.3889C44.7222 19.0946 44.1501 19.6667 43.4444 19.6667C42.7387 19.6667 42.1667 19.0946 42.1667 18.3889C42.1667 17.6832 42.7387 17.1111 43.4444 17.1111C44.1501 17.1111 44.7222 17.6832 44.7222 18.3889ZM38.3333 19.6667C39.039 19.6667 39.6111 19.0946 39.6111 18.3889C39.6111 17.6832 39.039 17.1111 38.3333 17.1111C37.6276 17.1111 37.0556 17.6832 37.0556 18.3889C37.0556 19.0946 37.6276 19.6667 38.3333 19.6667ZM7.66667 18.3889C7.66667 19.8003 6.52251 20.9444 5.11111 20.9444C3.69972 20.9444 2.55556 19.8003 2.55556 18.3889C2.55556 16.9775 3.69972 15.8333 5.11111 15.8333C6.52251 15.8333 7.66667 16.9775 7.66667 18.3889ZM3.05556 27.3333C2.77941 27.3333 2.55556 27.5572 2.55556 27.8333V31.9444C2.55556 32.2206 2.77941 32.4444 3.05556 32.4444H7.16667C7.44281 32.4444 7.66667 32.2206 7.66667 31.9444V27.8333C7.66667 27.5572 7.44281 27.3333 7.16667 27.3333H3.05556ZM38.3333 27.8333C38.3333 27.5572 38.5572 27.3333 38.8333 27.3333H42.9444C43.2206 27.3333 43.4444 27.5572 43.4444 27.8333V31.9444C43.4444 32.2206 43.2206 32.4444 42.9444 32.4444H38.8333C38.5572 32.4444 38.3333 32.2206 38.3333 31.9444V27.8333ZM35.7778 14.5556H10.2222V32.4444H35.7778V14.5556Z",
    }),
  });
}
function Nd() {
  return (0, T.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 40 41",
    fill: "none",
    children: (0, T.jsx)("path", {
      fill: "currentColor",
      d: "M19.9999 29.3888V34.9443H2.22217V29.3888C2.22217 27.0313 3.15867 24.7704 4.82566 23.1034C6.49265 21.4364 8.75358 20.4999 11.1111 20.4999C13.4685 20.4999 15.7295 21.4364 17.3965 23.1034C19.0634 24.7704 19.9999 27.0313 19.9999 29.3888ZM11.1111 17.1666C12.1 17.1666 13.0667 16.8733 13.8889 16.3239C14.7112 15.7745 15.352 14.9936 15.7305 14.08C16.1089 13.1663 16.2079 12.161 16.015 11.1911C15.8221 10.2212 15.3459 9.33029 14.6466 8.63103C13.9473 7.93176 13.0564 7.45556 12.0865 7.26263C11.1166 7.06971 10.1113 7.16872 9.19764 7.54716C8.28401 7.9256 7.50312 8.56646 6.95371 9.38871C6.4043 10.211 6.11106 11.1777 6.11106 12.1666C6.10959 12.8236 6.23792 13.4744 6.48868 14.0817C6.73943 14.689 7.10767 15.2408 7.57226 15.7054C8.03684 16.1699 8.58862 16.5382 9.19591 16.7889C9.8032 17.0397 10.454 17.168 11.1111 17.1666ZM35.1777 20.8777C34.2936 19.9926 33.2327 19.3041 32.0642 18.8572C30.8957 18.4103 29.6461 18.2151 28.397 18.2843C27.1479 18.3535 25.9275 18.6856 24.8156 19.2589C23.7037 19.8321 22.7253 20.6337 21.9444 21.611C23.5779 23.8747 24.453 26.5973 24.4444 29.3888V32.7221H37.7777V27.1666C37.7786 25.9989 37.5495 24.8425 37.1034 23.7635C36.6573 22.6844 36.0029 21.7038 35.1777 20.8777ZM28.8888 14.9443C29.8777 14.9443 30.8444 14.6511 31.6667 14.1017C32.4889 13.5523 33.1298 12.7714 33.5082 11.8578C33.8867 10.9441 33.9857 9.93879 33.7928 8.96889C33.5998 7.99898 33.1236 7.10807 32.4244 6.4088C31.7251 5.70954 30.8342 5.23334 29.8643 5.04041C28.8944 4.84749 27.889 4.9465 26.9754 5.32494C26.0618 5.70338 25.2809 6.34424 24.7315 7.16649C24.1821 7.98873 23.8888 8.95543 23.8888 9.94434C23.8874 10.6014 24.0157 11.2522 24.2665 11.8595C24.5172 12.4668 24.8855 13.0186 25.35 13.4831C25.8146 13.9477 26.3664 14.316 26.9737 14.5667C27.581 14.8175 28.2318 14.9458 28.8888 14.9443Z",
    }),
  });
}
var Y = b(g(), 1);
function lH() {
  return (0, Y.jsxs)(xe, {
    children: [
      (0, Y.jsx)(Te, { children: v("#Menu_Section_SpecialSections") }),
      (0, Y.jsxs)(Ve, {
        children: [(0, Y.jsx)(Ud, {}), (0, Y.jsx)(Gd, {}), (0, Y.jsx)(Fd, {})],
      }),
    ],
  });
}
function Gd() {
  return (0, Y.jsxs)(De, {
    children: [
      (0, Y.jsx)(se, { handle: "software" }),
      (0, Y.jsx)(se, { handle: "soundtracks" }),
      (0, Y.jsx)(se, { handle: "earlyaccess" }),
      (0, Y.jsx)(se, { handle: "TODO" }),
      (0, Y.jsx)(e_, {}),
      (0, Y.jsx)(se, { handle: "pccafe" }),
      (0, Y.jsx)(se, { handle: "macos" }),
      (0, Y.jsx)(se, { handle: "linux" }),
    ],
  });
}
function Fd() {
  return (0, Y.jsxs)(De, {
    children: [
      (0, Y.jsx)(ue, {
        href: `${l.STORE_BASE_URL}sale/nextfest/`,
        children: v("#Menu_Section_SpecialSections_NextFest"),
      }),
      (0, Y.jsx)(ue, {
        href: `${l.STORE_BASE_URL}sale/steamawards/`,
        children: v("#Menu_Section_SpecialSections_SteamAwards"),
      }),
      (0, Y.jsx)(ue, {
        href: `${l.STORE_BASE_URL}yearinreview/`,
        children: v("#Menu_Section_SpecialSections_SteamReplay"),
      }),
      (0, Y.jsx)(ue, {
        href: `${l.STORE_BASE_URL}labs/`,
        children: v("#Menu_Section_SpecialSections_SteamLabs"),
      }),
    ],
  });
}
function Ud() {
  return (0, Y.jsxs)(t_, {
    children: [
      (0, Y.jsxs)(Bt, {
        children: [
          (0, Y.jsx)(bt, { handle: "demos" }),
          (0, Y.jsx)(n_, {
            href: `${l.STORE_BASE_URL}dlcforyou/`,
            name: v("#Menu_Section_SpecialSections_DLCForYou"),
          }),
        ],
      }),
      (0, Y.jsx)(Bt, {
        children: (0, Y.jsx)(n_, {
          href: `${l.STORE_BASE_URL}specials/`,
          name: v("#Menu_Section_SpecialSections_SaleEvents"),
        }),
      }),
    ],
  });
}
var pa = {};
XH(pa, {
  AccordionSection: () => ba,
  AccordionSectionHeader: () => sa,
  Active: () => ln,
  Chevron: () => u_,
  ChevronSpacer: () => ia,
  Down: () => ya,
  DynamicMenu: () => aa,
  Enter: () => Ed,
  EnterActive: () => Vd,
  Exit: () => Wd,
  ExitActive: () => qd,
  Label: () => la,
  MenuItem: () => a_,
  MenuOptions: () => ua,
  MenuSection: () => Od,
  MoreMenuAccordion: () => ra,
  SectionTransition: () => ca,
  TransitionContainer: () => ma,
  Up: () => Ha,
  default: () => Kd,
});
var aa = "QIXgBSHq6cY-";
var ua = "e6ZIu2birzY-";
var Od = "dtuuezlV-7Y-";
var a_ = "_-5GwwXIMjIQ-";
var ia = "qshuHK34Txs-";
var u_ = "oVv8PgvP5Mc-";
var ln = "-kwbmHXqu1A-";
var ra = "eXY7k03iDSA-";
var ba = "oC2LWRiGXFo-";
var sa = "Y8Nr5U1xl3M-";
var la = "oXoyg-fBkHk-";
var ma = "JjjLEZhMaK4-";
var Ha = "ggTx88t3rD8-";
var ca = "hLyW92JUQIM-";
var Ed = "eu8omg7gpxU-";
var Vd = "_0QZf4yyfpD8-";
var Wd = "mWR-5YJlyMA-";
var qd = "GQOJ5K5pn6U-";
var ya = "_7FKZUleWBlc-";
var Kd = {
  DynamicMenu: "QIXgBSHq6cY-",
  MenuOptions: "e6ZIu2birzY-",
  MenuSection: "dtuuezlV-7Y-",
  MenuItem: "_-5GwwXIMjIQ-",
  ChevronSpacer: "qshuHK34Txs-",
  Chevron: "oVv8PgvP5Mc-",
  Active: "-kwbmHXqu1A-",
  MoreMenuAccordion: "eXY7k03iDSA-",
  AccordionSection: "oC2LWRiGXFo-",
  AccordionSectionHeader: "Y8Nr5U1xl3M-",
  Label: "oXoyg-fBkHk-",
  TransitionContainer: "JjjLEZhMaK4-",
  Up: "ggTx88t3rD8-",
  SectionTransition: "hLyW92JUQIM-",
  Enter: "eu8omg7gpxU-",
  EnterActive: "_0QZf4yyfpD8-",
  Exit: "mWR-5YJlyMA-",
  ExitActive: "GQOJ5K5pn6U-",
  Down: "_7FKZUleWBlc-",
};
var le = b(B(), 1),
  da = b(B(), 1);
var i_ = b(ye(), 1);
var L = b(g(), 1);
function mH(t) {
  let [e] = le.useState(t.excludedSections),
    n = Zd(e),
    _ = Ee(),
    [o, a] = le.useState();
  return _
    ? (0, L.jsx)($d, { rgSections: n, activeSection: o, setActiveSection: a })
    : (0, L.jsx)(Jd, {
        rgSections: n,
        activeSection: o ?? n[0][0],
        setActiveSection: a,
      });
}
function Jd(t) {
  let { rgSections: e, activeSection: n, setActiveSection: _ } = t,
    { onMouseLeaveContainer: o, onMouseEnterItem: a } = tg(n, _),
    u = ie(`${_e.STORE_BASE_URL}sitemap`);
  return (0, L.jsxs)(L.Fragment, {
    children: [
      (0, L.jsxs)(G, {
        "flow-children": "row",
        navEntryPreferPosition: 3,
        className: aa,
        children: [
          (0, L.jsxs)(G, {
            "flow-children": "column",
            className: ua,
            onMouseLeave: o,
            children: [
              e.map(([i, r]) =>
                (0, L.jsx)(
                  ng,
                  {
                    active: n == i,
                    setSection: _,
                    onMouseEnterItem: a,
                    section: i,
                    children: r,
                  },
                  i,
                ),
              ),
              (0, L.jsx)(re, {
                className: a_,
                href: u,
                children: v("#Menu_Popover_ViewAll"),
              }),
            ],
          }),
          (0, L.jsx)(qo, {
            children: (0, L.jsx)(Xd, { rgSections: e, section: n }),
          }),
        ],
      }),
      (0, L.jsx)(Yd, { rgSections: e }),
    ],
  });
}
function $d(t) {
  let { rgSections: e, activeSection: n, setActiveSection: _ } = t;
  return (0, L.jsx)("div", {
    className: ra,
    children: e.map((o) =>
      (0, L.jsx)(
        Qd,
        { rgSection: o, active: o[0] === n, setActiveSection: _ },
        o[0],
      ),
    ),
  });
}
function Qd(t) {
  let { rgSection: e, active: n, setActiveSection: _ } = t,
    [o, a] = e,
    u = le.useCallback(() => _((i) => (i === o ? void 0 : o)), [_, o]);
  return (0, L.jsxs)("div", {
    className: (0, i_.default)(ba, n && ln),
    children: [
      (0, L.jsxs)("div", {
        className: (0, i_.default)(sa, n && ln),
        onClick: u,
        children: [
          (0, L.jsx)("div", {
            role: "heading",
            "aria-level": 3,
            className: la,
            children: a,
          }),
          (0, L.jsx)(Yn, { className: u_ }),
        ],
      }),
      (0, L.jsx)(xt, {
        visible: n,
        keepMounted: !0,
        children: (0, L.jsx)(qo, { children: (0, L.jsx)(b_, { section: o }) }),
      }),
    ],
  });
}
var Yd = le.memo(function (e) {
  let { rgSections: n } = e;
  return n.map((_) => (0, L.jsx)(s_, { section: _[0] }, _[0]));
});
function Zd(t) {
  return le.useMemo(
    () => r_().filter((e) => e[0] !== "more" && (!t || !t.has(e[0]))),
    [t],
  );
}
var Xd = le.memo(function (e) {
    let { rgSections: n, section: _ } = e,
      [o, a] = le.useState(_),
      [u, i] = le.useState(void 0);
    return (
      (0, da.useEffect)(() => {
        let r = n.findIndex((m) => m[0] == o) || 0,
          H = n.findIndex((m) => m[0] == _) || 0;
        r < H ? i(ya) : r > H ? i(Ha) : i(void 0), a(_);
      }, [_, n]),
      (0, L.jsx)("div", {
        className: ma,
        children: (0, L.jsx)(Wu, {
          childrenKey: o,
          childrenClasses: qu(pa, ca),
          directionClass: u,
          animate: !!u,
          children: (0, L.jsx)(b_, { section: o }),
        }),
      })
    );
  }),
  eg = 0.25;
function tg(t, e) {
  let n = le.useRef(void 0);
  (0, da.useEffect)(() => {
    n.current?.section != t && (n.current = void 0);
  }, [t]);
  let _ = le.useCallback(() => (n.current = void 0), []),
    o = le.useCallback(
      (a, u) => {
        if (n.current) {
          let { x: i, y: r, section: H } = n.current,
            m = u.clientX - i,
            d = u.clientY - r;
          if (a == H) {
            m < 0 && (n.current = { x: u.clientX, y: u.clientY, section: H });
            return;
          }
          if (m > 0 && (m != 0 ? Math.abs(d) / m : 0) < eg) return;
        }
        e(a), (n.current = { x: u.clientX, y: u.clientY, section: a });
      },
      [e],
    );
  return { onMouseLeaveContainer: _, onMouseEnterItem: o };
}
function ng(t) {
  let {
      setSection: e,
      onMouseEnterItem: n,
      active: _,
      section: o,
      children: a,
    } = t,
    u = le.useCallback(() => e(o), [e, o]),
    i = le.useCallback((r) => n(o, r), [n, o]);
  return (0, L.jsxs)(dn, {
    className: (0, i_.default)(a_, _ && ln),
    onClick: u,
    onMouseMove: i,
    onGamepadFocus: u,
    children: [a, " ", (0, L.jsx)(_g, {})],
  });
}
function _g() {
  return (0, L.jsxs)(L.Fragment, {
    children: [
      (0, L.jsx)("div", { className: ia }),
      (0, L.jsx)("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 12 13",
        fill: "none",
        className: u_,
        children: (0, L.jsx)("path", {
          fill: "currentColor",
          fillRule: "evenodd",
          clipRule: "evenodd",
          d: "M6.36084 6.68974L3.66211 3.99101L4.84062 2.8125L8.71786 6.68974L4.84062 10.567L3.66211 9.38847L6.36084 6.68974Z",
        }),
      }),
    ],
  });
}
var we = b(g(), 1);
function r_() {
  return [
    ["browse", v("#Menu_Popover_Browse")],
    ["recommendations", v("#Menu_Popover_Recommendations")],
    ["categories", v("#Menu_Popover_Categories")],
    ["hardware", v("#Menu_Popover_Hardware")],
    ["waystoplay", v("#Menu_Popover_WaysToPlay")],
    ["specialsections", v("#Menu_Popover_SpecialSections")],
    ["more", v("#Menu_Popover_More")],
  ];
}
function cH(t) {
  let {
      activeSection: e,
      closePopover: n,
      visibleSections: _,
      refPopover: o,
      refActiveButton: a,
    } = t,
    u = HH.useRef(e);
  return (
    e && (u.current = e),
    (0, we.jsx)(Zl, {
      visible: e !== void 0,
      closePopover: n,
      refPopover: o,
      refActiveButton: a,
      children:
        u.current &&
        (0, we.jsx)(b_, { section: u.current, visibleSections: _ }),
    })
  );
}
function b_(t) {
  let { section: e, visibleSections: n } = t;
  return (0, we.jsx)(Fe, { method: e, children: og(e, n) });
}
function og(t, e) {
  switch (t) {
    case "browse":
      return (0, we.jsx)(Sm, {});
    case "recommendations":
      return (0, we.jsx)(Fm, {});
    case "categories":
      return (0, we.jsx)($m, {});
    case "hardware":
      return (0, we.jsx)(bH, {});
    case "waystoplay":
      return (0, we.jsx)(sH, {});
    case "specialsections":
      return (0, we.jsx)(lH, {});
    case "more":
      return (0, we.jsx)(mH, { excludedSections: e });
    default:
      return Ut(t, `unhandled section ${t}`), null;
  }
}
function s_(t) {
  let { section: e } = t;
  switch (e) {
    case "browse":
      return (0, we.jsx)(Rm, {});
    case "recommendations":
      return (0, we.jsx)(Um, {});
    case "categories":
      return (0, we.jsx)(Qm, {});
    case "hardware":
      return null;
    case "waystoplay":
      return null;
    case "specialsections":
      return null;
    case "more":
      return null;
    default:
      return Ut(e, `unhandled section ${e}`), null;
  }
}
var yH = b(B());
function ag(t, e) {
  return Fa(
    (n) => {
      if (!n) return;
      let _ = e(n.ownerDocument.defaultView, (o) => {
        t(o[0]);
      });
      return _.observe(n), () => _.unobserve(n);
    },
    [t, e],
  );
}
function l_(t) {
  let e = yH.useCallback(
    (n, _) =>
      n.ResizeObserver
        ? new n.ResizeObserver(_)
        : (pn(!1, "ResizeObserver is not available"),
          { observe: () => {}, unobserve: () => {}, disconnect: () => {} }),
    [],
  );
  return ag(t, e);
}
var S = b(g()),
  pH = R.memo(function (e) {
    let { refPage: n } = e,
      [_, o] = R.useState(),
      [a, u] = R.useState(() => (l.IN_MOBILE_WEBVIEW ? new Set() : void 0)),
      i = dH(),
      { bSearchVisible: r, openSearch: H, closeSearch: m } = Tt(),
      d = R.useCallback(() => o(void 0), []),
      y = R.useCallback(() => {
        o(void 0), m();
      }, [m]),
      c = R.useCallback(
        (te) => {
          o((ne) => (ne == te ? void 0 : te)), m();
        },
        [m],
      ),
      w = R.useCallback(() => c("more"), [c]);
    (0, jt.useEffect)(() => {
      r && d();
    }, [r, d]);
    let M = R.useRef(null),
      A = R.useRef(null);
    return (0, S.jsxs)(Fe, {
      controller: "storemenu",
      method: "default",
      submethod: "",
      feature: "",
      children: [
        (0, S.jsxs)(ug, {
          bShowBackdrop: r || !!_,
          closePopoverAndSearch: y,
          refPage: n,
          children: [
            l.IN_MOBILE_WEBVIEW
              ? (0, S.jsx)(Go, {})
              : (0, S.jsxs)(G, {
                  "flow-children": "row",
                  className: ss,
                  role: "navigation",
                  "aria-label": v("#Menu_Label"),
                  children: [
                    (0, S.jsxs)(rg, {
                      openPopover: c,
                      activeSection: _,
                      visibleSections: a,
                      setVisibleSections: u,
                      refPopover: M,
                      refActiveButton: A,
                      children: [
                        i && (0, S.jsx)(Go, {}),
                        !i && (0, S.jsx)("div", { className: Cs }),
                      ],
                    }),
                    (0, S.jsx)(lg, {}),
                    (0, S.jsx)(mg, {}),
                  ],
                }),
            (0, S.jsx)(cH, {
              activeSection: _,
              closePopover: d,
              visibleSections: a,
              refPopover: M,
              refActiveButton: A,
            }),
          ],
        }),
        (0, S.jsx)(yg, { openMoreSection: w }),
      ],
    });
  });
function ug(t) {
  let {
      bShowBackdrop: e,
      closePopoverAndSearch: n,
      refPage: _,
      children: o,
    } = t,
    a = qe(),
    [u, i] = R.useState("visible"),
    [r, H] = R.useState(),
    m = R.useRef();
  m.current || (m.current = new WeakMap()),
    (0, jt.useLayoutEffect)(() => {
      (m.current = new WeakMap()), i("visible");
    }, [e]);
  let d = R.useCallback((ee) => {
    let He = m.current,
      We = He.get(ee),
      Re = "scrollTop" in ee ? ee.scrollTop : ee.scrollY;
    if (We !== void 0) {
      let et = Re - We;
      if (et > 90 && Re > 400) i((Gt) => (Gt != "hidden" ? "hide" : Gt));
      else if (et < -30) i((Gt) => (Gt != "visible" ? "show" : Gt));
      else return;
    }
    He.set(ee, Re);
  }, []);
  Oa(
    window,
    "scroll",
    R.useCallback((ee) => d(window), [d]),
  );
  let y = yu(
      R.useCallback(
        (ee) => {
          let He = ee.currentTarget;
          $a(He) && d(He);
        },
        [d],
      ),
    ),
    c = R.useCallback(
      (ee) => {
        ee || n();
      },
      [n],
    ),
    w = ig(_, a),
    M = l_(
      R.useCallback((ee) => {
        H(ee.contentBoxSize[0].blockSize);
      }, []),
    ),
    A = u != "visible" && !e,
    te = (0, gt.default)(
      bs,
      A && ms,
      l.IN_MOBILE_WEBVIEW && ls,
      u == "hide" && Hs,
      u == "hidden" && cs,
      u == "show" && ys,
    ),
    ne;
  u == "hide"
    ? (ne = () => i((ee) => (ee == "hide" ? "hidden" : ee)))
    : u == "show" && (ne = () => i((ee) => (ee == "show" ? "visible" : ee)));
  let lt = R.useMemo(
    () => ({ nBackdropHeight: r, bBackdropActive: e }),
    [r, e],
  );
  return (0, S.jsx)("div", {
    className: (0, gt.default)(os, a && as),
    ref: y,
    children: (0, S.jsxs)("div", {
      className: (0, gt.default)(us, e && rs),
      children: [
        (0, S.jsx)(G, {
          className: te,
          ref: w,
          onAnimationEnd: ne,
          onFocusWithin: c,
          children: (0, S.jsx)(Do.Provider, { value: lt, children: o }),
        }),
        (0, S.jsx)("div", { className: is, ref: M, onClick: n }),
      ],
    }),
  });
}
function ig(t, e) {
  let [n, _] = R.useState(),
    o = R.useCallback((a) => {
      _(Math.min(a.borderBoxSize[0].blockSize, parseInt(yo)));
    }, []);
  return (
    (0, jt.useEffect)(() => {
      if (n === void 0) return;
      let a = t.current,
        u = e || l.IN_MOBILE_WEBVIEW ? 0 : n;
      return (
        a.style.setProperty(
          "--store-menu-overlap-height",
          l.IN_MOBILE_WEBVIEW ? "0px" : yo,
        ),
        a.style.setProperty("--store-menu-floating-height", `${u}px`),
        () => {
          a?.style.removeProperty("--store-menu-overlap-height"),
            a?.style.removeProperty("--store-menu-floating-height");
        }
      );
    }, [t, n, e]),
    l_(o)
  );
}
function dH() {
  return !qe();
}
function rg(t) {
  let {
      openPopover: e,
      activeSection: n,
      visibleSections: _,
      setVisibleSections: o,
      refPopover: a,
      refActiveButton: u,
      children: i,
    } = t,
    r = R.useRef([]),
    H = R.useMemo(() => r_(), []);
  r.current.length != H.length && (r.current = H.map(() => R.createRef()));
  let {
      rgButtonWidths: m,
      nContainerWidth: d,
      refDynamicButtonContainer: y,
    } = bg(_ !== void 0, r.current),
    c = dH(),
    w = Ee(),
    M = c && !w;
  R.useLayoutEffect(() => {
    if (!m || d === void 0) return;
    let lt = M ? parseInt(As) : 0,
      ee = m[m.length - 1],
      He = m.slice(0, -1),
      We = d - lt,
      Re = [];
    for (let et = 0; et < He.length && He[et] < We; et++)
      (We -= He[et]), Re.push(H[et][0]);
    if (Re.length < H.length - 1) {
      for (; Re.length && We < ee; ) (We += He[Re.length - 1]), Re.pop();
      Re.push(H[H.length - 1][0]);
    }
    o(new Set(Re));
  }, [d, m, H, o, M]),
    (0, jt.useEffect)(() => {
      if (n) {
        let lt = H.findIndex((ee) => n === ee[0]);
        u.current = r.current[lt].current;
      } else u.current = null;
    }, [n, u, H]);
  let A,
    te = (lt, ee) => {
      let [He, We] = lt;
      if (_ && !_.has(He)) return null;
      let Re = n === A;
      return (
        (A = He),
        (0, S.jsx)(
          sg,
          {
            section: He,
            label: We,
            openPopover: e,
            active: n === He,
            previousActive: Re,
            refButton: r.current[ee],
            refPopover: a,
          },
          He,
        )
      );
    },
    ne = H[H.length - 1];
  return (0, S.jsxs)("div", {
    className: ps,
    ref: y,
    children: [
      (0, S.jsxs)("div", {
        className: ds,
        children: [
          (0, S.jsx)("div", {
            className: gs,
            children: H.slice(0, -1).map(te),
          }),
          te(ne, H.length - 1),
        ],
      }),
      i,
    ],
  });
}
function bg(t, e) {
  let [n, _] = R.useState(),
    [o, a] = R.useState();
  R.useLayoutEffect(() => {
    if (t) return;
    let i = [];
    for (let r = 0; r < e.length; r++)
      e[r].current
        ? i.push(e[r].current.clientWidth)
        : console.assert(!1, `Missing ref button ${r}`);
    _(i);
  }, [e, t]);
  let u = l_(
    R.useCallback((i) => {
      a(i.contentBoxSize[0].inlineSize);
    }, []),
  );
  return {
    rgButtonWidths: n,
    nContainerWidth: o,
    refDynamicButtonContainer: u,
  };
}
function sg(t) {
  let {
      section: e,
      openPopover: n,
      label: _,
      active: o,
      previousActive: a,
      refButton: u,
      refPopover: i,
    } = t,
    [r, H] = R.useState(!1),
    m = R.useCallback(() => n(e), [n, e]),
    d = R.useCallback(() => H(!0), []),
    y = R.useCallback(
      (c) => {
        if (o && c.key === "Tab" && !c.shiftKey && i.current) {
          let w = Qa(i.current);
          w && (w.focus(), c.preventDefault());
        }
        if (a && c.key === "Tab" && c.shiftKey && i.current) {
          let w = Ot(i.current),
            M = w[w.length - 1];
          M && (M.focus(), c.preventDefault());
        }
      },
      [o, i, a],
    );
  return (0, S.jsxs)(dn, {
    className: (0, gt.default)(Jn, o && ks),
    onMouseEnter: d,
    onClick: m,
    ref: u,
    "aria-expanded": !!o,
    onKeyDown: y,
    children: [
      (0, S.jsxs)("div", {
        className: ws,
        children: [
          _,
          (0, S.jsx)("div", {
            className: Ss,
            children: (0, S.jsx)("div", { className: Rs }),
          }),
        ],
      }),
      (0, S.jsx)(Yn, {}),
      r && (0, S.jsx)(s_, { section: e }),
    ],
  });
}
function lg() {
  let t = mt(),
    { data: e } = zu(t),
    n = ie(`${l.STORE_BASE_URL}wishlist/`);
  return t
    ? (0, S.jsxs)(re, {
        className: (0, gt.default)(Jn, hs),
        href: n,
        children: [
          (0, S.jsx)(Hg, { role: "presentation" }),
          d_.Localize("#Menu_Wishlist"),
          e > 0 && (0, S.jsx)(gH, { children: e }),
        ],
      })
    : null;
}
function gH(t) {
  return (0, S.jsx)("span", { className: vs, children: t.children });
}
function mg() {
  let { data: t } = Rn(),
    e = ie(`${l.STORE_BASE_URL}cart/`);
  return t
    ? (0, S.jsxs)(re, {
        className: (0, gt.default)(Jn, fs),
        href: e,
        children: [
          (0, S.jsx)(cg, {}),
          d_.Localize("#Menu_Cart"),
          t > 0 && (0, S.jsx)(gH, { children: t }),
        ],
      })
    : null;
}
function Hg(t) {
  return (0, S.jsxs)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 14 14",
    fill: "none",
    ...t,
    children: [
      (0, S.jsx)("g", {
        children: (0, S.jsx)("path", {
          fill: "currentColor",
          d: "M7 0L4.88269 4.68067L0 5.348L3.5688 8.918L2.67216 14L7 11.536L11.3278 14L10.4268 8.918L14 5.348L9.11731 4.68067L7 0Z",
        }),
      }),
      (0, S.jsx)("defs", {
        children: (0, S.jsx)("clipPath", {
          children: (0, S.jsx)("rect", {
            fill: "currentColor",
            width: "14",
            height: "14",
            transform: "matrix(-1 0 0 1 14 0)",
          }),
        }),
      }),
    ],
  });
}
function cg(t) {
  return (0, S.jsx)("svg", {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 14 14",
    fill: "none",
    ...t,
    children: (0, S.jsx)("path", {
      fill: "currentColor",
      d: "M14 4L12.442 9.00854C12.3675 9.29313 12.2005 9.54492 11.9674 9.72437C11.7343 9.90382 11.4482 10.0008 11.154 10H5.64338C5.35664 10.0003 5.07751 9.90773 4.84773 9.7362C4.61796 9.56467 4.44988 9.32336 4.36864 9.04837L2.46095 3.77047H0V2H2.77964C3.0578 2.00052 3.32878 2.08838 3.55432 2.25119C3.77987 2.41399 3.94859 2.64352 4.03667 2.90737L4.3288 4.02213L14 4ZM5.64338 11.7672C5.42452 11.7672 5.21058 11.8321 5.02861 11.9537C4.84664 12.0753 4.70481 12.2481 4.62106 12.4503C4.53731 12.6525 4.5154 12.875 4.55809 13.0897C4.60079 13.3043 4.70618 13.5015 4.86093 13.6562C5.01568 13.811 5.21285 13.9164 5.4275 13.9591C5.64215 14.0018 5.86464 13.9799 6.06683 13.8961C6.26903 13.8123 6.44185 13.6705 6.56343 13.4885C6.68502 13.3066 6.74992 13.0926 6.74992 12.8738C6.74992 12.5803 6.63334 12.2989 6.42582 12.0913C6.2183 11.8838 5.93685 11.7672 5.64338 11.7672ZM10.9548 11.7672C10.7359 11.7672 10.522 11.8321 10.34 11.9537C10.1581 12.0753 10.0162 12.2481 9.93248 12.4503C9.84872 12.6525 9.82681 12.875 9.86951 13.0897C9.9122 13.3043 10.0176 13.5015 10.1723 13.6562C10.3271 13.811 10.5243 13.9164 10.7389 13.9591C10.9536 14.0018 11.1761 13.9799 11.3782 13.8961C11.5804 13.8123 11.7533 13.6705 11.8748 13.4885C11.9964 13.3066 12.0613 13.0926 12.0613 12.8738C12.0613 12.5803 11.9448 12.2989 11.7372 12.0913C11.5297 11.8838 11.2483 11.7672 10.9548 11.7672Z",
    }),
  });
}
function yg(t) {
  let { openMoreSection: e } = t,
    { setTerm: n, openSearch: _, onActive: o } = Tt(),
    a = R.useCallback(
      (u) => {
        try {
          if (u.origin !== "") return;
          let i = JSON.parse(u.data);
          if (i && typeof i == "object")
            switch (i.type) {
              case "toggle_header_menu":
                e();
                break;
              case "set_search_query":
              case "show_search_results":
                o(), n(i.term), _();
                break;
            }
        } catch {}
      },
      [e, o, n, _],
    );
  return (
    R.useEffect(
      () =>
        navigator.userAgent.match(/(android)/i)
          ? (document.addEventListener("message", a),
            () => document.removeEventListener("message", a))
          : (window.addEventListener("message", a),
            () => window.removeEventListener("message", a)),
      [a],
    ),
    null
  );
}
var CH = b(B());
var m_ = class {
  m_mapAppToSNRs = new Map();
  m_rgImpressionsToAdd = [];
  BIsValid() {
    return !0;
  }
  AddImpression(e, n) {
    if (!iu(gn)) return;
    let _ = !1;
    this.m_mapAppToSNRs.has(e)
      ? this.m_mapAppToSNRs.get(e).indexOf(n) == -1 &&
        (this.m_mapAppToSNRs.get(e).push(n), (_ = !0))
      : (this.m_mapAppToSNRs.set(e, [n]), (_ = !0)),
      _ &&
        (this.m_rgImpressionsToAdd.push(`${e}@${n}`), this.QueueCookieUpdate());
  }
  m_iUpdateInterval;
  QueueCookieUpdate() {
    this.m_iUpdateInterval ||
      (this.m_iUpdateInterval = window.setTimeout(() => {
        this.UpdateCookie(), (this.m_iUpdateInterval = void 0);
      }, 1e3));
  }
  UpdateCookie() {
    let n = [Ke(gn) || "", ...this.m_rgImpressionsToAdd].join("|");
    this.m_rgImpressionsToAdd = [];
    let _ = encodeURIComponent(n).length,
      o = 3200;
    _ <= o
      ? vn(gn, n)
      : console.warn(
          `Cookie max length exceeded ( ${_} > ${o} ), discarding impressions`,
        );
  }
};
var hH = b(g());
function vH(t) {
  let [e] = CH.useState(() => new m_());
  return (0, hH.jsx)(ju, { ImpressionTracker: e, children: t.children });
}
var c_ = b(ye(), 1),
  ZH = b(B(), 1);
var PH = b(B());
var st = b(B());
var Ct = b(B()),
  fH = b(wa());
var ga = b(g());
function kH(t) {
  let { active: e, children: n } = t,
    _ = $u() || Ju(window),
    o = Qu(),
    [a, u] = Ct.useState(null),
    [i, r] = Ct.useState(!1),
    H = Ct.useRef();
  if (
    (Ct.useEffect(() => {
      if (e) {
        let d = _.ShowPortalModal(),
          y = d.OnElementReadyCallbacks.Register(u),
          c = d.OnModalActiveCallbacks.Register(r);
        return (
          (H.current = d.key),
          () => {
            u(null), r(!1), d.Close(), y.Unregister(), c.Unregister();
          }
        );
      } else return;
    }, [_, e]),
    !a || !e)
  )
    return null;
  let m = (0, ga.jsx)(Gu, { children: n });
  return (
    o && (m = (0, ga.jsx)(o, { active: i, modalKey: H.current, children: m })),
    fH.createPortal(m, a)
  );
}
var mn = {
  "duration-app-launch": "800ms",
  BasicContextMenuModal: "uJ0hG-CaVOs-",
  BasicContextMenuHeader: "AN2Hp1LQ9n0-",
  BasicContextMenuHeaderShrinkableSpacing: "hhS45xpvmfI-",
  BasicContextMenuContainer: "cDV5SKqaxnw-",
  slideInAnimation: "_9RJyOBZkv0I-",
  contextMenu: "VhLVP3Jhvgw-",
  contextMenuContents: "x1-2KO7vgJs-",
  hasSubMenu: "ATTtIklorIs-",
  contextMenuFade: "gTRyZgCh-Ho-",
  contextMenuItem: "FHkogJCCEy0-",
  Destructive: "Yxr6N2s2xws-",
  Positive: "eu5VX0tYz1Y-",
  Emphasis: "-WXzVoCu0h0-",
  active: "QKT3qH6x50k-",
  Selected: "c-X1QIVPLV4-",
  Focused: "RlhXEz57U1Q-",
  Capitalized: "Mn3ln2J648M-",
  MenuSectionHeader: "pOKcXNp9Arw-",
  UpperCase: "ToEy48RSk-A-",
  SubMenu: "Bntd5n9xKuk-",
  ContextMenuSeparator: "F-1ptqsIY-w-",
  Label: "iVtiM3Pigsc-",
  Arrow: "k1Y1vLMrtss-",
  BackgroundAnimation: "MgI1vEuUsqE-",
  "ItemFocusAnim-darkerGrey-nocolor": "DdWcJspeHns-",
  "ItemFocusAnim-darkerGrey": "_7oE4zLcHjdQ-",
  "ItemFocusAnim-darkGrey": "zz5u1HFpgNU-",
  "ItemFocusAnim-grey": "BUFXFGQP9Gs-",
  "ItemFocusAnim-translucent-white-10": "fMP0VfJIbPg-",
  "ItemFocusAnim-translucent-white-20": "dVMbtgn4Whs-",
  "ItemFocusAnimBorder-darkGrey": "l7pXZguduCo-",
  "ItemFocusAnim-green": "VQNbBo8A804-",
  focusAnimation: "_7XOpRmzNKi0-",
  hoverAnimation: "l-HXOknTs7g-",
};
var Se = b(g());
function wH(t) {
  let { managerOverride: e } = t,
    n = Ku(),
    _ = e ?? n,
    o = Ua();
  return (
    Ea(_.OnMenusChanged, o),
    (0, Se.jsx)(kH, {
      active: !!_.ActiveMenu,
      children: (0, Se.jsx)(pg, { ActiveMenu: _.ActiveMenu }),
    })
  );
}
function pg(t) {
  let { ActiveMenu: e } = t,
    n = st.useCallback(() => {
      e?.OnCancel();
    }, [e]);
  st.useEffect(() => () => e?.Hide(), [e]);
  let _ = [],
    o = null;
  Hu(() => {
    for (let u = e; u && u.visible; u = u.submenu)
      _.push((0, Se.jsx)(dg, { instance: u }, u.key)), (o = u.label);
  });
  let a = st.useCallback(
    (u) => {
      u.currentTarget == u.target && n();
    },
    [n],
  );
  return (0, Se.jsx)(Zu, {
    padding: "none",
    children: (0, Se.jsxs)("div", {
      onClick: a,
      className: wn("BasicUIContextMenu", mn.BasicContextMenuModal),
      children: [
        o &&
          (0, Se.jsx)(Se.Fragment, {
            children: (0, Se.jsx)("div", {
              className: mn.BasicContextMenuHeader,
              children: o,
            }),
          }),
        (0, Se.jsx)(G, {
          className: mn.BasicContextMenuContainer,
          onCancelButton: n,
          onClick: a,
          children: _,
        }),
      ],
    }),
  });
}
function dg(t) {
  let { instance: e } = t,
    n = qe(),
    _ = st.useCallback(() => {
      n && Wa.PlayNavSound(25);
    }, [n]),
    o = st.useMemo(
      () => ({
        instance: e,
        styles: mn,
        presentation: 1,
        callbacks: { onDisabledItemSelected: _ },
      }),
      [e, _],
    );
  return (0, Se.jsx)(Sn, {
    children: (0, Se.jsx)(pu.Provider, { value: o, children: e.ReactElement }),
  });
}
var Hn = b(B());
var Dt = b(g());
function SH() {
  return Hn.useMemo(() => gg(), []);
}
function gg() {
  return function (e) {
    let {
        refNavTree: n,
        className: _,
        active: o,
        children: a,
        modalKey: u,
      } = e,
      i = Hn.useRef(null);
    ou(i, o, !0);
    let r = Ga(i, n);
    return (0, Dt.jsx)(nu, {
      className: _,
      navTreeRef: r,
      modal: !0,
      enabled: o,
      navID: `ModalDialogOverlay_${u}`,
      children: a,
    });
  };
}
function Cg(t) {
  let {
      className: e,
      onEscKeypress: n,
      padding: _ = "standard",
      bGamepadUIScrollWithin: o,
      children: a,
    } = t,
    u = wn(
      Bn.ModalPosition,
      _ == "standard" && Bn.WithStandardPadding,
      o && Bn.ScrollWithin,
      e,
    );
  return (0, Dt.jsx)(G, {
    className: u,
    onCancelButton: n,
    focusableIfNoChildren: !0,
    children: (0, Dt.jsx)(fn, { children: (0, Dt.jsx)(Sn, { children: a }) }),
  });
}
function RH(t) {
  let e = Hn.useMemo(() => ({ ModalPosition: Cg }), []);
  return (0, Dt.jsx)(Yu.Provider, { value: e, children: t.children });
}
var H_ = b(g());
function Ca(t) {
  let e = SH(),
    n = PH.useMemo(() => ({ DropDownMenu: ei, Content: ti }), []);
  return (0, H_.jsx)(Xu.Provider, {
    value: n,
    children: (0, H_.jsx)(RH, {
      children: (0, H_.jsx)(Tn, {
        ...t,
        bUseDialogElement: !1,
        DialogWrapper: e,
        ContextMenuComponent: wH,
      }),
    }),
  });
}
var va = b(g());
function AH(t) {
  let e = qe(),
    n = { bRenderOverlayAtRoot: !0, bUsePopups: !1, ...t };
  return e ? (0, va.jsx)(Ca, { ...n }) : (0, va.jsx)(Tn, { ...n });
}
var EH = b(ye(), 1);
var MH = "/RDNVLABA.png";
var zH = "/QQGETVBA.png";
var xH = "/MVIQJMBA.png";
var TH = "/62SHH2CA.png";
var BH = "Ksy4XAVZlM0-";
var LH = "n2wjqqfVgC4-";
var ha = "osYYItlitxA-";
var IH = "knntvUEkLRg-";
var jH = "_1ToiOSH69g8-";
var DH = "s6DTWBl90Rc-";
var NH = "UnRkTYm5fo0-";
var GH = "ftmxCcsknb4-";
var FH = "byvXpNiaYrs-";
var UH = "y9kERlobJ88-";
var OH = "Hf0BSchKz6g-";
var k = b(g(), 1);
function Be() {
  return (0, k.jsx)("span", {
    "aria-hidden": "true",
    className: UH,
    children: "|",
  });
}
function VH(t) {
  return (0, k.jsx)("footer", {
    className: (0, EH.default)(BH, t.className, !fe.logged_in && LH),
    children: (0, k.jsxs)("div", {
      className: IH,
      children: [
        (0, k.jsx)("hr", {}),
        (0, k.jsxs)("div", {
          className: jH,
          children: [
            (0, k.jsx)(P, {
              className: NH,
              to: "https://www.valvesoftware.com",
              openInNewWindow: !0,
              children: (0, k.jsx)("img", {
                src: Pe(TH),
                alt: "Valve Software",
              }),
            }),
            (0, k.jsxs)("div", {
              className: DH,
              children: [
                (0, k.jsx)("div", {
                  children: Ce.Localize(
                    "#footer_legal_notice",
                    new Date().getFullYear(),
                  ),
                }),
                (0, k.jsxs)("div", {
                  children: [
                    Ce.Localize("#footer_vat_included"),
                    "  ",
                    (0, k.jsx)(P, {
                      openInNewWindow: !0,
                      to: l.STORE_BASE_URL + "privacy_agreement/",
                      children: Ce.Localize("#footer_privacy_policy"),
                    }),
                    (0, k.jsx)(Be, {}),
                    (0, k.jsx)(P, {
                      openInNewWindow: !0,
                      to: l.STORE_BASE_URL + "legal/",
                      children: Ce.Localize("#footer_legal"),
                    }),
                    (0, k.jsx)(Be, {}),
                    (0, k.jsx)(P, {
                      openInNewWindow: !0,
                      to: l.STORE_BASE_URL + "subscriber_agreement/",
                      children: Ce.Localize("#footer_ssa"),
                    }),
                    (0, k.jsx)(Be, {}),
                    (0, k.jsx)(P, {
                      openInNewWindow: !0,
                      to: l.STORE_BASE_URL + "steam_refunds/",
                      children: Ce.Localize("#footer_refunds"),
                    }),
                    (0, k.jsx)(Be, {}),
                    (0, k.jsx)(P, {
                      openInNewWindow: !0,
                      to: l.STORE_BASE_URL + "account/cookiepreferences/",
                      children: Ce.Localize("#footer_cookies"),
                    }),
                  ],
                }),
              ],
            }),
            (0, k.jsx)("div", {
              className: GH,
              children: (0, k.jsx)("img", {
                src: Pe(xH),
                alt: "Valve Software",
              }),
            }),
          ],
        }),
        Mt() &&
          (0, k.jsx)("div", {
            className: FH,
            children: (0, k.jsx)("button", {
              onClick: cb,
              children: E.Localize("#global_menu_view_mobile_website"),
            }),
          }),
        (0, k.jsx)("hr", {}),
        (0, k.jsxs)("div", {
          className: OH,
          children: [
            (0, k.jsx)(P, {
              openInNewWindow: !0,
              to: "https://www.valvesoftware.com/about",
              children: Ce.Localize("#footer_about_valve"),
            }),
            (0, k.jsx)(Be, {}),
            (0, k.jsx)(P, {
              openInNewWindow: !0,
              to: "http://www.valvesoftware.com",
              children: Ce.Localize("#footer_jobs"),
            }),
            (0, k.jsx)(Be, {}),
            (0, k.jsx)(P, {
              openInNewWindow: !0,
              to: "http://www.steampowered.com/steamworks/",
              children: Ce.Localize("#footer_steamworks"),
            }),
            (0, k.jsx)(Be, {}),
            (0, k.jsx)(P, {
              openInNewWindow: !0,
              to: l.PARTNER_BASE_URL + "steamdirect",
              children: Ce.Localize("#footer_steam_distribution"),
            }),
            (0, k.jsx)(Be, {}),
            (0, k.jsx)(P, {
              external: !0,
              to: l.HELP_BASE_URL + ht().strISOCode + "/",
              children: Ce.Localize("#footer_nav_help_support"),
            }),
            (0, k.jsx)(Be, {}),
            l.COUNTRY === "US" &&
              (0, k.jsxs)(k.Fragment, {
                children: [
                  (0, k.jsx)(P, {
                    snr: !0,
                    external: !0,
                    to: l.STORE_BASE_URL + "hardware_recycling/",
                    children: Ce.Localize("#footer_recycling"),
                  }),
                  (0, k.jsx)(Be, {}),
                ],
              }),
            !Ge(l.EREALM) &&
              (0, k.jsxs)(k.Fragment, {
                children: [
                  (0, k.jsx)(P, {
                    snr: !0,
                    external: !0,
                    to: l.STORE_BASE_URL + "digitalgiftcards/",
                    children: Ce.Localize("#footer_walletcode"),
                  }),
                  (0, k.jsx)(Be, {}),
                  (0, k.jsxs)(P, {
                    openInNewWindow: !0,
                    to: "http://www.facebook.com/Steam",
                    children: [
                      (0, k.jsx)("img", {
                        src: Pe(MH),
                        alt: "Facebook",
                        className: ha,
                      }),
                      " Steam",
                    ],
                  }),
                  (0, k.jsx)(Be, {}),
                  (0, k.jsxs)(P, {
                    openInNewWindow: !0,
                    to: "http://twitter.com/steam",
                    children: [
                      (0, k.jsx)("img", {
                        src: Pe(zH),
                        alt: "X",
                        className: ha,
                      }),
                      " @steam",
                    ],
                  }),
                ],
              }),
          ],
        }),
        t.children,
      ],
    }),
  });
}
var Ne = {
  LoadingIndicator: "YCAfbWkeMBk-",
  loadingBarAnim: "Sszr8hrC6Ks-",
  Root: "gQWgnAxVrOM-",
  StoreBody: "VuAIAiWhjcg-",
  StoreBodyContainer: "khI3dKnN9c8-",
  Scrollable: "o5zcnn2HXfA-",
  StoreContent: "GHIW6-Wf1rQ-",
  InternalOptions: "r4HLvRr97Ps-",
  Text: "_75hRa6m6-oI-",
};
var Nt = b(B());
var WH = "v43jCTCHMpw-";
var qH = "MDOqSCtQWiY-";
var KH = "QtFR0e-fCdg-";
var $H = b(ye());
var cn = b(g());
function QH(t) {
  return Ee() ? (0, cn.jsx)(Rg, {}) : t.children;
}
function Rg() {
  let [t, e] = Nt.useState(null);
  return (
    JH(t?.parentElement?.parentElement, WH),
    JH(t?.parentElement?.parentElement, qH),
    (0, cn.jsx)("div", {
      className: (0, $H.default)(KH),
      ref: e,
      children: (0, cn.jsx)(Fo, { bBackdropActive: !1 }),
    })
  );
}
function YH() {
  return Nt.useCallback((t) => (0, cn.jsx)(QH, { children: t }), []);
}
function JH(t, e) {
  Nt.useLayoutEffect(() => {
    if (!(!t || !e)) return t.classList.add(e), () => t.classList.remove(e);
  }, [t, e]);
}
var V = b(g(), 1),
  Pg = au({ Component: Ag });
function Ag({ children: t }) {
  let {
      strWebAPIToken: e,
      header: n,
      currentUserLinkDetails: _,
      steamid: o,
      storeBrowseContext: a,
      bShowGlobalHeader: u,
      gamepadUiTabs: i,
      bSpoofing: r,
      bVirtualizedScrolling: H,
      bUseV7Menu: m,
      ePreferredHWCompat: d,
    } = Pg.useLoaderData(),
    y = (0, ZH.useRef)(null),
    c = i.length > 0,
    w = YH();
  return (
    l.IN_GAMEPADUI && (window.bSupportsGamepadUI = !0),
    (0, V.jsx)(Mg, {
      strWebAPIToken: e,
      steamid: o,
      storeBrowseContext: a,
      ePreferredHWCompat: d,
      children: (0, V.jsxs)("html", {
        lang: ht().strISOCode,
        className: (0, c_.default)(Ne.Root, mb()),
        children: [
          (0, V.jsx)("head", { children: (0, V.jsx)(Pa, {}) }),
          (0, V.jsx)("body", {
            className: (0, c_.default)(Ne.StoreBody, c && "gamepadui"),
            children: (0, V.jsx)(_u, {
              navID: "StoreTemplate",
              disabledRoot: !l.IN_GAMEPADUI,
              children: (0, V.jsx)("div", {
                className: (0, c_.default)(
                  Ne.StoreBodyContainer,
                  H && Ne.Scrollable,
                ),
                children: (0, V.jsx)(fn, {
                  children: (0, V.jsxs)(AH, {
                    children: [
                      u &&
                        (0, V.jsx)(Jb, {
                          navContent: n.navContent,
                          globalActions: n.globalActions,
                          notifications: n.notifications,
                          userDetails: _,
                          changeLanguagePath: "/account/setlanguage/",
                          cartInResponsiveMenu: !0,
                          className: Ne.Header,
                          bWiderHeader: m,
                          fnRenderCustomHeader: m ? w : void 0,
                          children: (0, V.jsxs)("div", {
                            className: Ne.InternalOptions,
                            children: [
                              r && (0, V.jsx)(Zb, {}),
                              (0, V.jsx)(_i, { buttonClassName: Ne.Text }),
                            ],
                          }),
                        }),
                      m && (0, V.jsx)(pH, { refPage: y }),
                      (0, V.jsxs)("section", {
                        className: Ne.StoreContent,
                        ref: y,
                        children: [
                          (0, V.jsx)("div", { className: Ne.LoadingIndicator }),
                          (0, V.jsx)(ai, { gamepadUiTabs: i }),
                          (0, V.jsx)(Ui, {}),
                          (0, V.jsx)(Aa, { children: t }),
                        ],
                      }),
                      !l.IN_GAMEPADUI &&
                        (0, V.jsx)(VH, { className: Ne.Footer }),
                    ],
                  }),
                }),
              }),
            }),
          }),
        ],
      }),
    })
  );
}
function Mg(t) {
  let {
    strWebAPIToken: e,
    steamid: n,
    storeBrowseContext: _,
    ePreferredHWCompat: o,
    children: a,
  } = t;
  return (0, V.jsx)(uu, {
    IN_GAMEPADUI: l.IN_GAMEPADUI,
    children: (0, V.jsx)(Wi, {
      children: (0, V.jsx)(_s, {
        strWebAPIToken: e,
        steamid: n,
        children: (0, V.jsx)(vH, {
          children: (0, V.jsx)(du, {
            context: _,
            msDelayBatch: 250,
            children: (0, V.jsx)(ni, {
              ePreferredHWCompat: o,
              children: (0, V.jsx)(ql, { children: a }),
            }),
          }),
        }),
      }),
    }),
  });
}
export { Pg as route };
