import { _ } from "./chunk-XXXXXXXX.js";
import { _, _ } from "./chunk-XXXXXXXX.js";
import { _ } from "./chunk-XXXXXXXX.js";
import { _ } from "./chunk-XXXXXXXX.js";
var _ = _(_(), 1),
  _ = _(_(), 1);
var _ = "zEz4mayYHlU-";
var _ = "_3pEsdTdzZjw-";
var _ = "_5wIbq5Tk72s-";
var _ = "_8fetIAGvUN8-";
var _ = "rlexzsaIuBw-";
var _ = {
  ShowMetricsButton: "zEz4mayYHlU-",
  ArbitraryMetricTable: "_3pEsdTdzZjw-",
  MetricsDialog: "_5wIbq5Tk72s-",
  CloseDialogButton: "_8fetIAGvUN8-",
  WGEntry: "rlexzsaIuBw-",
  Timeline: "FuylFbqd9TI-",
  TimelineChart: "GNLrZqHiwfQ-",
  TimelineTable: "W0NUU9SMhW8-",
  Waterfall: "EaXLy0ri6Mg-",
  HoveredSpanRow: "a2VQ9sufVh0-",
};
var _ = function (_, _, _) {
    if (!_.has(_))
      throw new TypeError("attempted to set private field on non-instance");
    return _.set(_, _), _;
  },
  _ = function (_, _) {
    if (!_.has(_))
      throw new TypeError("attempted to get private field on non-instance");
    return _.get(_);
  },
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _,
  _ = function (_) {
    var _ = 131,
      _ = 137,
      _ = 0;
    _ += "x";
    var _ = Math.floor(9007199254740991 / _);
    for (let _ = 0; _ < _.length; _++)
      _ > _ && (_ = Math.floor(_ / _)), (_ = _ * _ + _.charCodeAt(_));
    return _;
  },
  _ = "0123456789abcdef".split(""),
  _ = [-2147483648, 8388608, 32768, 128],
  _ = [24, 16, 8, 0],
  _ = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ],
  _ = [],
  _ = class {
    constructor(_ = !1, _ = !1) {
      _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, void 0),
        _.set(this, 0),
        _.set(this, void 0),
        this.init(_, _);
    }
    init(_, _) {
      _
        ? ((_[0] =
            _[16] =
            _[1] =
            _[2] =
            _[3] =
            _[4] =
            _[5] =
            _[6] =
            _[7] =
            _[8] =
            _[9] =
            _[10] =
            _[11] =
            _[12] =
            _[13] =
            _[14] =
            _[15] =
              0),
          _(this, _, _))
        : _(this, _, [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
        _
          ? (_(this, _, 3238371032),
            _(this, _, 914150663),
            _(this, _, 812702999),
            _(this, _, 4144912697),
            _(this, _, 4290775857),
            _(this, _, 1750603025),
            _(this, _, 1694076839),
            _(this, _, 3204075428))
          : (_(this, _, 1779033703),
            _(this, _, 3144134277),
            _(this, _, 1013904242),
            _(this, _, 2773480762),
            _(this, _, 1359893119),
            _(this, _, 2600822924),
            _(this, _, 528734635),
            _(this, _, 1541459225)),
        _(this, _, _(this, _, _(this, _, _(this, _, 0)))),
        _(this, _, _(this, _, !1)),
        _(this, _, !0),
        _(this, _, _);
    }
    update(_) {
      if (_(this, _)) return this;
      let _;
      _ instanceof ArrayBuffer ? (_ = new Uint8Array(_)) : (_ = _);
      let _ = 0,
        _ = _.length,
        _ = _(this, _);
      for (; _ < _; ) {
        let _;
        if (
          (_(this, _) &&
            (_(this, _, !1),
            (_[0] = _(this, _)),
            (_[16] =
              _[1] =
              _[2] =
              _[3] =
              _[4] =
              _[5] =
              _[6] =
              _[7] =
              _[8] =
              _[9] =
              _[10] =
              _[11] =
              _[12] =
              _[13] =
              _[14] =
              _[15] =
                0)),
          typeof _ != "string")
        )
          for (_ = _(this, _); _ < _ && _ < 64; ++_)
            _[_ >> 2] |= _[_] << _[_++ & 3];
        else
          for (_ = _(this, _); _ < _ && _ < 64; ++_) {
            let _ = _.charCodeAt(_);
            _ < 128
              ? (_[_ >> 2] |= _ << _[_++ & 3])
              : _ < 2048
                ? ((_[_ >> 2] |= (192 | (_ >> 6)) << _[_++ & 3]),
                  (_[_ >> 2] |= (128 | (_ & 63)) << _[_++ & 3]))
                : _ < 55296 || _ >= 57344
                  ? ((_[_ >> 2] |= (224 | (_ >> 12)) << _[_++ & 3]),
                    (_[_ >> 2] |= (128 | ((_ >> 6) & 63)) << _[_++ & 3]),
                    (_[_ >> 2] |= (128 | (_ & 63)) << _[_++ & 3]))
                  : ((_ =
                      65536 +
                      (((_ & 1023) << 10) | (_.charCodeAt(++_) & 1023))),
                    (_[_ >> 2] |= (240 | (_ >> 18)) << _[_++ & 3]),
                    (_[_ >> 2] |= (128 | ((_ >> 12) & 63)) << _[_++ & 3]),
                    (_[_ >> 2] |= (128 | ((_ >> 6) & 63)) << _[_++ & 3]),
                    (_[_ >> 2] |= (128 | (_ & 63)) << _[_++ & 3]));
          }
        _(this, _, _),
          _(this, _, _(this, _) + (_ - _(this, _))),
          _ >= 64
            ? (_(this, _, _[16]),
              _(this, _, _ - 64),
              this.hash(),
              _(this, _, !0))
            : _(this, _, _);
      }
      return (
        _(this, _) > 4294967295 &&
          (_(this, _, _(this, _) + ((_(this, _) / 4294967296) << 0)),
          _(this, _, _(this, _) % 4294967296)),
        this
      );
    }
    finalize() {
      if (_(this, _)) return;
      _(this, _, !0);
      let _ = _(this, _),
        _ = _(this, _);
      (_[16] = _(this, _)),
        (_[_ >> 2] |= _[_ & 3]),
        _(this, _, _[16]),
        _ >= 56 &&
          (_(this, _) || this.hash(),
          (_[0] = _(this, _)),
          (_[16] =
            _[1] =
            _[2] =
            _[3] =
            _[4] =
            _[5] =
            _[6] =
            _[7] =
            _[8] =
            _[9] =
            _[10] =
            _[11] =
            _[12] =
            _[13] =
            _[14] =
            _[15] =
              0)),
        (_[14] = (_(this, _) << 3) | (_(this, _) >>> 29)),
        (_[15] = _(this, _) << 3),
        this.hash();
    }
    hash() {
      let _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _,
        _,
        _,
        _,
        _,
        _,
        _,
        _,
        _,
        _;
      for (let _ = 16; _ < 64; ++_)
        (_ = _[_ - 15]),
          (_ = ((_ >>> 7) | (_ << 25)) ^ ((_ >>> 18) | (_ << 14)) ^ (_ >>> 3)),
          (_ = _[_ - 2]),
          (_ =
            ((_ >>> 17) | (_ << 15)) ^ ((_ >>> 19) | (_ << 13)) ^ (_ >>> 10)),
          (_[_] = (_[_ - 16] + _ + _[_ - 7] + _) << 0);
      _ = _ & _;
      for (let _ = 0; _ < 64; _ += 4)
        _(this, _)
          ? (_(this, _)
              ? ((_ = 300032),
                (_ = _[0] - 1413257819),
                (_ = (_ - 150054599) << 0),
                (_ = (_ + 24177077) << 0))
              : ((_ = 704751109),
                (_ = _[0] - 210244248),
                (_ = (_ - 1521486534) << 0),
                (_ = (_ + 143694565) << 0)),
            _(this, _, !1))
          : ((_ =
              ((_ >>> 2) | (_ << 30)) ^
              ((_ >>> 13) | (_ << 19)) ^
              ((_ >>> 22) | (_ << 10))),
            (_ =
              ((_ >>> 6) | (_ << 26)) ^
              ((_ >>> 11) | (_ << 21)) ^
              ((_ >>> 25) | (_ << 7))),
            (_ = _ & _),
            (_ = _ ^ (_ & _) ^ _),
            (_ = (_ & _) ^ (~_ & _)),
            (_ = _ + _ + _ + _[_] + _[_]),
            (_ = _ + _),
            (_ = (_ + _) << 0),
            (_ = (_ + _) << 0)),
          (_ =
            ((_ >>> 2) | (_ << 30)) ^
            ((_ >>> 13) | (_ << 19)) ^
            ((_ >>> 22) | (_ << 10))),
          (_ =
            ((_ >>> 6) | (_ << 26)) ^
            ((_ >>> 11) | (_ << 21)) ^
            ((_ >>> 25) | (_ << 7))),
          (_ = _ & _),
          (_ = _ ^ (_ & _) ^ _),
          (_ = (_ & _) ^ (~_ & _)),
          (_ = _ + _ + _ + _[_ + 1] + _[_ + 1]),
          (_ = _ + _),
          (_ = (_ + _) << 0),
          (_ = (_ + _) << 0),
          (_ =
            ((_ >>> 2) | (_ << 30)) ^
            ((_ >>> 13) | (_ << 19)) ^
            ((_ >>> 22) | (_ << 10))),
          (_ =
            ((_ >>> 6) | (_ << 26)) ^
            ((_ >>> 11) | (_ << 21)) ^
            ((_ >>> 25) | (_ << 7))),
          (_ = _ & _),
          (_ = _ ^ (_ & _) ^ _),
          (_ = (_ & _) ^ (~_ & _)),
          (_ = _ + _ + _ + _[_ + 2] + _[_ + 2]),
          (_ = _ + _),
          (_ = (_ + _) << 0),
          (_ = (_ + _) << 0),
          (_ =
            ((_ >>> 2) | (_ << 30)) ^
            ((_ >>> 13) | (_ << 19)) ^
            ((_ >>> 22) | (_ << 10))),
          (_ =
            ((_ >>> 6) | (_ << 26)) ^
            ((_ >>> 11) | (_ << 21)) ^
            ((_ >>> 25) | (_ << 7))),
          (_ = _ & _),
          (_ = _ ^ (_ & _) ^ _),
          (_ = (_ & _) ^ (~_ & _)),
          (_ = _ + _ + _ + _[_ + 3] + _[_ + 3]),
          (_ = _ + _),
          (_ = (_ + _) << 0),
          (_ = (_ + _) << 0);
      _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0),
        _(this, _, (_(this, _) + _) << 0);
    }
    hex() {
      this.finalize();
      let _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ =
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15] +
          _[(_ >> 28) & 15] +
          _[(_ >> 24) & 15] +
          _[(_ >> 20) & 15] +
          _[(_ >> 16) & 15] +
          _[(_ >> 12) & 15] +
          _[(_ >> 8) & 15] +
          _[(_ >> 4) & 15] +
          _[_ & 15];
      return (
        _(this, _) ||
          (_ +=
            _[(_ >> 28) & 15] +
            _[(_ >> 24) & 15] +
            _[(_ >> 20) & 15] +
            _[(_ >> 16) & 15] +
            _[(_ >> 12) & 15] +
            _[(_ >> 8) & 15] +
            _[(_ >> 4) & 15] +
            _[_ & 15]),
        _
      );
    }
    toString() {
      return this.hex();
    }
    digest() {
      this.finalize();
      let _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = _(this, _),
        _ = [
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
          (_ >> 24) & 255,
          (_ >> 16) & 255,
          (_ >> 8) & 255,
          _ & 255,
        ];
      return (
        _(this, _) ||
          _.push((_ >> 24) & 255, (_ >> 16) & 255, (_ >> 8) & 255, _ & 255),
        _
      );
    }
    array() {
      return this.digest();
    }
    arrayBuffer() {
      this.finalize();
      let _ = new ArrayBuffer(_(this, _) ? 28 : 32),
        _ = new DataView(_);
      return (
        _.setUint32(0, _(this, _)),
        _.setUint32(4, _(this, _)),
        _.setUint32(8, _(this, _)),
        _.setUint32(12, _(this, _)),
        _.setUint32(16, _(this, _)),
        _.setUint32(20, _(this, _)),
        _.setUint32(24, _(this, _)),
        _(this, _) || _.setUint32(28, _(this, _)),
        _
      );
    }
  };
(_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap()),
  (_ = new WeakMap());
function _(_) {
  let _ = new _();
  return _.update(_), parseInt(_.hex().substring(0, 8), 16);
}
var _ = function (_) {
    var _ = "#";
    return (
      _.forEach(function (_) {
        _ < 16 && (_ += 0), (_ += _.toString(16));
      }),
      _
    );
  },
  _ = function (_, _, _) {
    _ /= 360;
    var _ = _ < 0.5 ? _ * (1 + _) : _ + _ - _ * _,
      _ = 2 * _ - _;
    return [_ + 1 / 3, _, _ - 1 / 3].map(function (_) {
      return (
        _ < 0 && _++,
        _ > 1 && _--,
        _ < 1 / 6
          ? (_ = _ + (_ - _) * 6 * _)
          : _ < 0.5
            ? (_ = _)
            : _ < 2 / 3
              ? (_ = _ + (_ - _) * 6 * (2 / 3 - _))
              : (_ = _),
        Math.round(_ * 255)
      );
    });
  },
  _ = class {
    constructor(_ = {}) {
      let [_, _] = [_.lightness, _.saturation].map(function (_) {
        return (
          (_ = _ !== void 0 ? _ : [0.35, 0.5, 0.65]),
          Array.isArray(_) ? _.concat() : [_]
        );
      });
      (this._ = _),
        (this._ = _),
        typeof _.hue == "number" &&
          (_.hue = {
            min: _.hue,
            max: _.hue,
          }),
        typeof _.hue == "object" && !Array.isArray(_.hue) && (_.hue = [_.hue]),
        typeof _.hue > "u" && (_.hue = []),
        (this.hueRanges = _.hue.map(function (_) {
          return {
            min: typeof _.min > "u" ? 0 : _.min,
            max: typeof _.max > "u" ? 360 : _.max,
          };
        })),
        (this.hash = _),
        typeof _.hash == "function" && (this.hash = _.hash),
        _.hash === "bkdr" && (this.hash = _);
    }
    hsl(_) {
      var _,
        _,
        _,
        _ = this.hash(_),
        _ = 727;
      if (this.hueRanges.length) {
        let _ = this.hueRanges[_ % this.hueRanges.length];
        _ = (((_ / this.hueRanges.length) % _) * (_.max - _.min)) / _ + _.min;
      } else _ = _ % 359;
      return (
        (_ = Math.ceil(_ / 360)),
        (_ = this._[_ % this._.length]),
        (_ = Math.ceil(_ / this._.length)),
        (_ = this._[_ % this._.length]),
        [_, _, _]
      );
    }
    rgb(_) {
      var _ = this.hsl(_);
      return _.apply(this, _);
    }
    hex(_) {
      var _ = this.rgb(_);
      return _(_);
    }
  };
var _ = _(_(), 1);
var _ = _(_(), 1);
function _() {
  return "default" in _ ? _.default : _;
}
var _ = new (_())({
  lightness: 0.5,
  saturation: [0.35, 0.5, 0.65],
});
function _(_) {
  if (_.length <= 1) return [_];
  let _ = [],
    _ = [..._].sort((_, _) => _.startMilliseconds - _.startMilliseconds),
    _ = 0,
    _ = _[_].endMilliseconds ?? _[_].startMilliseconds;
  for (let _ = 1; _ < _.length; _++) {
    let _ = _[_];
    _ >= _.startMilliseconds && (_.push(..._.splice(_, 1)), _--),
      (_ = _),
      (_ = _.endMilliseconds ?? _.startMilliseconds);
  }
  return _.length === 0 ? [_] : [..._(_), _];
}
function _(_) {
  let { spans: _, endTimestamp: _ } = _,
    _ = Math.min(..._.map((_) => _.startMilliseconds)),
    _ = Math.max(..._.map((_) => _.endMilliseconds ?? _.startMilliseconds)) - _,
    _ = _(_),
    _ = 100 / _.length,
    _ = Math.floor(Math.max(_ / 10, 50)),
    _ = Array.from(
      {
        length: Math.ceil(_ / _),
      },
      (_, _) => _ * _,
    ),
    _ = (0, _.useMemo)(
      () => [..._].sort((_, _) => _.startMilliseconds - _.startMilliseconds),
      [_],
    ),
    [_, _] = (0, _.useState)();
  return (0, _.jsxs)("div", {
    className: _.Timeline,
    onMouseOut: () => _(void 0),
    onBlur: () => _(void 0),
    children: [
      (0, _.jsxs)("svg", {
        className: _.TimelineChart,
        viewBox: `${_ - 20} -20 ${_ + _ + 20} 160`,
        children: [
          _.map((_) =>
            (0, _.jsxs)(
              "g",
              {
                transform: `translate(${_ + _}, 0)`,
                children: [
                  (0, _.jsx)("line", {
                    stroke: "pink",
                    _: 0,
                    _: 0,
                    _: "0",
                    _: "160",
                  }),
                  (0, _.jsxs)("text", {
                    stroke: "pink",
                    _: 4,
                    _: 135,
                    style: {
                      fontSize: `${_ / 5}px`,
                    },
                    children: [_, "ms"],
                  }),
                ],
              },
              _,
            ),
          ),
          _.map((_, _) =>
            _.map((_, _) =>
              (0, _.jsx)(
                "rect",
                {
                  _: _.startMilliseconds,
                  width: _.endMilliseconds - _.startMilliseconds,
                  _: _ * _ + 20,
                  height: _,
                  fill: _.hex(_.label),
                  stroke: _ === _ ? "white" : void 0,
                  onMouseOver: () => _(_),
                  children: (0, _.jsx)("title", {
                    children: `${_.label} ${((_.endMilliseconds ?? _.startMilliseconds) - _.startMilliseconds).toLocaleString()}ms`,
                  }),
                },
                _,
              ),
            ),
          ),
        ],
      }),
      (0, _.jsxs)("table", {
        className: _.TimelineTable,
        children: [
          (0, _.jsx)("thead", {
            children: (0, _.jsxs)("tr", {
              children: [
                (0, _.jsx)("td", {
                  children: "Label",
                }),
                (0, _.jsx)("td", {
                  children: "Timestamp",
                }),
                (0, _.jsx)("td", {
                  children: "Duration",
                }),
                (0, _.jsx)("td", {
                  children: "Waterfall",
                }),
              ],
            }),
          }),
          (0, _.jsx)("tbody", {
            children: _.map((_, _) =>
              (0, _.jsxs)(
                "tr",
                {
                  onMouseOver: () => _(_),
                  onFocus: () => _(_),
                  className: _ === _ ? _.HoveredSpanRow : void 0,
                  children: [
                    (0, _.jsx)("td", {
                      children: _.label,
                    }),
                    (0, _.jsx)("td", {
                      children: `${(_.startMilliseconds - _).toLocaleString()}ms`,
                    }),
                    (0, _.jsx)("td", {
                      children: `${((_.endMilliseconds ?? _.startMilliseconds) - _.startMilliseconds).toLocaleString()}ms`,
                    }),
                    (0, _.jsx)("td", {
                      className: _.Waterfall,
                      children: (0, _.jsx)("svg", {
                        viewBox: `${_} 0 ${_} 20`,
                        children: (0, _.jsx)(
                          "rect",
                          {
                            _: _.startMilliseconds,
                            width: _.endMilliseconds - _.startMilliseconds,
                            _: 0,
                            height: 20,
                            fill: _.hex(_.label),
                          },
                          _,
                        ),
                      }),
                    }),
                  ],
                },
                _,
              ),
            ),
          }),
        ],
      }),
    ],
  });
}
var _ = _(_(), 1);
function _(_, _) {
  return "value" in _ ? _(_, _) : _(_);
}
function _(_) {
  return _(_.timestamps);
}
function _(_) {
  return _.endMilliseconds !== void 0 &&
    _.endMilliseconds - _.startMilliseconds !== 0
    ? (0, _.jsxs)("span", {
        children: [
          Math.floor(_.endMilliseconds - _.startMilliseconds).toLocaleString(),
          "ms",
        ],
      })
    : (0, _.jsxs)("span", {
        children: ["at ", _.startMilliseconds],
      });
}
var _ = ["bytes", "KB", "MB", "GB", "TB", "PB"];
function _(_) {
  let _ = Math.floor(Math.log(_) / Math.log(1e3));
  return `${parseFloat((_ / Math.pow(1e3, _)).toLocaleString())} ${_[_]}`;
}
function _(_, _) {
  return _.startsWith("memory_usage") ? _(_.value) : _.value;
}
var _ = /.*\/valve\/www\/(?:.*?)\/(.*)/;
function _(_) {
  {
    let _ = _.match(_);
    if (_) {
      let _ = "https://swarm.valve.org/files/Steam/rel/storefront/web_src/",
        _ = _[1];
      if (_ && !_.startsWith("node_modules")) {
        let _ = _.match(/(.*?):(\d+:(\d+)?)/);
        return _ ? `${_}${_[1]}?v=@10144208#L${_[2]}` : `${_}${_}?v=@10144208`;
      }
    }
  }
}
function _(_) {
  return _.map(([_, _], _) => {
    let _ = _(_);
    return (0, _.jsxs)(
      "span",
      {
        children: [
          _ + " ",
          _
            ? (0, _.jsx)("a", {
                target: "_blank",
                rel: "noreferrer",
                href: _,
                children: _,
              })
            : (0, _.jsx)("span", {
                children: _,
              }),
          (0, _.jsx)("br", {}),
        ],
      },
      _,
    );
  });
}
function _(_) {
  let { metrics: _ } = _,
    _ = Object.entries(_.measurements);
  return (0, _.jsxs)(_.Fragment, {
    children: [
      (0, _.jsx)("h2", {
        children: "WG Stats",
      }),
      "Total WG calls: ",
      _.length,
      _.map(([_, _]) =>
        (0, _.jsxs)(
          "details",
          {
            children: [
              (0, _.jsx)("summary", {
                children: (0, _.jsxs)("span", {
                  className: _,
                  children: [
                    (0, _.jsxs)("span", {
                      children: [
                        "#",
                        _,
                        ": ",
                        _.details?.strLegacyRequestName ??
                          _.details?.strJobName ??
                          _,
                      ],
                    }),
                    (0, _.jsx)("span", {
                      children: _(_, _),
                    }),
                    _.details?.byteLength &&
                      (0, _.jsx)("span", {
                        children: _(_.details.byteLength),
                      }),
                  ],
                }),
              }),
              _.details?.stack &&
                (0, _.jsx)("pre", {
                  children: _(_.details.stack),
                }),
            ],
          },
          _,
        ),
      ),
    ],
  });
}
function _(_, _) {
  let _ = [];
  for (let [_, _] of Object.entries(_.measurements))
    "timestamps" in _ &&
      (_ === "WG"
        ? _.push({
            ..._.timestamps,
            label: `WG ${_.details?.strLegacyRequestName ?? _.details?.strJobName ?? _}`,
          })
        : _.push({
            ..._.timestamps,
            label: `${_} ${_}`,
          }));
  return _;
}
function _(_) {
  let _ = [];
  for (let [_, _] of Object.entries(_.categories)) _.push(..._(_, _));
  return _;
}
function _(_) {
  return (0, _.jsx)("table", {
    className: _,
    children: (0, _.jsx)("tbody", {
      children: Object.entries(_.metricsData.measurements).map(([_, _]) =>
        (0, _.jsxs)(
          "tr",
          {
            children: [
              (0, _.jsxs)("td", {
                children: [_, ":"],
              }),
              (0, _.jsx)("td", {
                children: _(_, _),
              }),
            ],
          },
          _,
        ),
      ),
    }),
  });
}
function _(_) {
  return (0, _.jsx)("table", {
    className: _,
    children: (0, _.jsx)("tbody", {
      children: Object.entries(_.metricsData.dimensions).map(([_, _]) =>
        (0, _.jsxs)(
          "tr",
          {
            children: [
              (0, _.jsxs)("td", {
                children: [_, ":"],
              }),
              (0, _.jsx)("td", {
                children: _,
              }),
            ],
          },
          _,
        ),
      ),
    }),
  });
}
function _(_) {
  let { metricsData: _, name: _ } = _;
  return (0, _.jsxs)(_.Fragment, {
    children: [
      Object.keys(_.dimensions).length > 0 &&
        (0, _.jsxs)(_.Fragment, {
          children: [
            (0, _.jsxs)("h2", {
              children: [_, " Dimensions"],
            }),
            (0, _.jsx)(_, {
              metricsData: _,
            }),
          ],
        }),
      Object.keys(_.measurements).length > 0 &&
        (0, _.jsxs)(_.Fragment, {
          children: [
            (0, _.jsxs)("h2", {
              children: [_, " Measurements"],
            }),
            (0, _.jsx)(_, {
              metricsData: _,
            }),
          ],
        }),
    ],
  });
}
var _ =
    "https://grafana.valve.org/steam/d/a6066f12-141d-4cb5-be00-11f5646c0a10/node-ssr-controller-stats?orgId=2&",
  _ = "https://grafana.valve.org/shared/d/l66htQGWz/pm2?orgId=1&var-job=All&",
  _ =
    "https://grafana.valve.org/steam/d/bb3cf20b-37cd-4da8-a82c-781d472c6cbf/server-detail-by-rack-ip?orgId=2&";
function _(_) {
  switch (_) {
    case 1:
      return "SteamPublic Timescale";
    case 2:
      return "SteamBeta Timescale";
    default:
      return "SteamDev Timescale";
  }
}
function _(_) {
  switch (_) {
    case 1:
      return "Steam Prometheus";
    default:
      return "monitor.valve.org prometheus";
  }
}
function _(_) {
  let [_, _] = (0, _.useState)(!1),
    _ = (0, _.useRef)(null);
  (0, _.useEffect)(() => {
    _ && _.current?.showModal();
  }, [_]);
  let _ = new URLSearchParams();
  _.set("var-datasource", _(_.EUNIVERSE)),
    _.metrics.logToWG.forEach((_) => {
      _.operation && _.set("var-site", _.operation);
      let _ = _.dimensions?.find((_) => _.name === "route")?.value_string;
      _ && _.set("var-route", _);
    });
  let _ = new URLSearchParams();
  _.set("var-datasource", _(_.EUNIVERSE)),
    _.metrics.categories.Server.dimensions.Host &&
      _.set("var-host", _.metrics.categories.Server.dimensions.Host.toString()),
    _.metrics.categories.Server.dimensions.App &&
      _.set("var-app", _.metrics.categories.Server.dimensions.App.toString());
  let _ = new URLSearchParams();
  if (_.metrics.categories._.dimensions["WG address"]) {
    let _ = _.metrics.categories._.dimensions["WG address"]
      .toString()
      .match(/ip-(.*?)\./)?.[1]
      .replace(/-/g, ".");
    _ && _.set("var-ipaddressrack", _);
  }
  return (0, _.jsxs)(_.Fragment, {
    children: [
      (0, _.jsx)("button", {
        className: (0, _.default)(_, _.buttonClassName),
        onClick: () => _(!_),
        children: _.buttonText ?? "perf",
      }),
      _ &&
        (0, _.jsxs)("dialog", {
          className: (0, _.default)(_, _.dialogClassName),
          ref: _,
          children: [
            (0, _.jsx)("button", {
              className: (0, _.default)(_),
              onClick: () => _(!_),
              children: "x",
            }),
            (0, _.jsx)("table", {
              className: _,
              children: (0, _.jsxs)("tbody", {
                children: [
                  (0, _.jsx)("tr", {
                    children: (0, _.jsx)("td", {
                      children: (0, _.jsx)("a", {
                        target: "_blank",
                        rel: "noreferrer",
                        href: _ + _.toString(),
                        children: "WebMetrics grafana for this route",
                      }),
                    }),
                  }),
                  (0, _.jsx)("tr", {
                    children: (0, _.jsx)("td", {
                      children: (0, _.jsx)("a", {
                        target: "_blank",
                        rel: "noreferrer",
                        href: _ + _.toString(),
                        children: "PM2 grafana for this host",
                      }),
                    }),
                  }),
                  (0, _.jsxs)("tr", {
                    children: [
                      (0, _.jsx)("td", {
                        children: "Changelist:",
                      }),
                      (0, _.jsx)("td", {
                        children: (0, _.jsx)("a", {
                          target: "_blank",
                          rel: "noreferrer",
                          href: "https://swarm.valve.org/changes/10144208",
                          children: "10144208",
                        }),
                      }),
                    ],
                  }),
                  (0, _.jsxs)("tr", {
                    children: [
                      (0, _.jsx)("td", {
                        children: "WG address:",
                      }),
                      (0, _.jsx)("td", {
                        children: (0, _.jsx)("a", {
                          target: "_blank",
                          rel: "noreferrer",
                          href: _ + _.toString(),
                          children:
                            _.metrics.categories._.dimensions["WG address"],
                        }),
                      }),
                    ],
                  }),
                ],
              }),
            }),
            Object.entries(_.metrics.categories).map(([_, _]) =>
              _ === "WG"
                ? (0, _.jsx)(
                    _,
                    {
                      metrics: _,
                    },
                    _,
                  )
                : (0, _.jsx)(
                    _,
                    {
                      name: _,
                      metricsData: _,
                    },
                    _,
                  ),
            ),
            _.metrics.logToWG.map((_) => {
              let _ =
                  _.dimensions?.filter((_) => _.value_string !== void 0) ?? [],
                _ =
                  _.dimensions?.filter((_) => _.value_integer !== void 0) ?? [];
              return (0, _.jsxs)(
                _.default.Fragment,
                {
                  children: [
                    (0, _.jsxs)("h2", {
                      children: [
                        'Metrics Logged for "',
                        _.program,
                        '" "',
                        _.operation,
                        '"',
                      ],
                    }),
                    (0, _.jsx)("table", {
                      className: _,
                      children: (0, _.jsxs)("tbody", {
                        children: [
                          _.length > 0 &&
                            (0, _.jsxs)(_.Fragment, {
                              children: [
                                (0, _.jsx)("tr", {
                                  children: (0, _.jsx)("td", {
                                    children: "String dimensions:",
                                  }),
                                }),
                                _.map((_) =>
                                  (0, _.jsxs)(
                                    "tr",
                                    {
                                      children: [
                                        (0, _.jsxs)("td", {
                                          children: [_.name, ":"],
                                        }),
                                        (0, _.jsx)("td", {
                                          children: _.value_string,
                                        }),
                                      ],
                                    },
                                    _.name,
                                  ),
                                ),
                              ],
                            }),
                          _.length > 0 &&
                            (0, _.jsxs)(_.Fragment, {
                              children: [
                                (0, _.jsx)("tr", {
                                  children: (0, _.jsx)("td", {
                                    children: "Numeric dimensions:",
                                  }),
                                }),
                                _.map((_) =>
                                  (0, _.jsxs)(
                                    "tr",
                                    {
                                      children: [
                                        (0, _.jsxs)("td", {
                                          children: [_.name, ":"],
                                        }),
                                        (0, _.jsx)("td", {
                                          children: _.value_integer,
                                        }),
                                      ],
                                    },
                                    _.name,
                                  ),
                                ),
                              ],
                            }),
                          _.measurements &&
                            _.measurements.length > 0 &&
                            (0, _.jsxs)(_.Fragment, {
                              children: [
                                (0, _.jsx)("tr", {
                                  children: (0, _.jsx)("td", {
                                    children: "Measurements:",
                                  }),
                                }),
                                _.measurements?.map((_) =>
                                  (0, _.jsxs)(
                                    "tr",
                                    {
                                      children: [
                                        (0, _.jsxs)("td", {
                                          children: [_.name, ":"],
                                        }),
                                        (0, _.jsx)("td", {
                                          children:
                                            _.value_integer ?? _.value_float,
                                        }),
                                      ],
                                    },
                                    _.name,
                                  ),
                                ),
                              ],
                            }),
                        ],
                      }),
                    }),
                  ],
                },
                `${_.program}/${_.operation}`,
              );
            }),
            (0, _.jsx)(_, {
              spans: _(_.metrics),
              endTimestamp: _.metrics.reportTimestamp,
            }),
          ],
        }),
    ],
  });
}
export { _ as default };
