/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [8350],
  {
    3311: (e) => {
      e.exports = {
        ItemContainer: "x1ZXiuhxzdmthc1Gn6cqH",
        ButtonsOnTop: "_1b7b1bvhRiuhRcDQmW55h-",
        ButtonsOnBottom: "_1hA2MT9R4XntxdhXc2g4r1",
        HasImage: "_2-lMV2nN-RNIN6b7ggfOQY",
        BackgroundImage: "_1Tu9TzCMyCaDCxi_LZsw7R",
        Dimmed: "_3vx7I2DbzVxsE2u0v5Ie-Y",
        BackgroundColor: "_3y7fdv_YPkakfL0WMx9G2b",
        ItemNameInfoContainer: "_2cVvcDGlKQl4ctvOXNJnbj",
        ItemInfoHeader: "bqRJHlem6AtsG_mqGj-nl",
        InlineDate: "_3IvASkrz_KwzUlcsqeLF6b",
        ItemName: "_2glFMGcTPJvp6erVA6TTr_",
        Light: "_1TMfa019CaA4qxnR2zVK5A",
        Large: "_3RWhTDfFof9_Jj4b7oYD09",
        ItemImage: "_3vWrL53WYwNeXyPrbnViQT",
        CapsuleTitle: "_3B_PS2u5Y911Ui1wE03GMa",
        Deadline: "_2j2hVvEQSKTMqfZ6DLsuyW",
        Urgent: "_2pgzVrBemEcmU369lE2qfM",
        ReleaseGame: "_2-rM8_8Dv67mW6payePQwy",
        ReleaseDLC: "_3hWVPHAwTHF3XQT-Fr69jG",
        CapsuleImage: "_1cDWqLckZCvIIygSvUyUUV",
        DateText: "_35y5dxjV7pt_nRddPGolhN",
        LinkButtonContainer: "_2v_h3baxh4W0DWGv-qlfWc",
        LinkButton: "_2_96_GQOvdZPdTN3T6Chw3",
        StatusItemRow: "_3YILl4NAgWEBENeTALTmag",
        StatusContainer: "_320wsExrFkK8JCKq34EPB4",
        StatusText: "_3j7xEYXhDVTYD9KZdi1pe8",
        Incomplete: "_3fh36YRxdJwX9pjhykK0Hs",
        IncompleteUrgent: "_14JsBkqWndayJN4RREWF45",
        StatusTodoContainer: "_2a4m-BvtYILAvxLV2JlbiP",
        StatusTodoColumn: "M-Mx519xP00iM4-njDf4E",
        StatusTodoLabelRow: "_2jx4X4-wJz4SIGISZ6ZCIU",
        StatusTodoLabelCheck: "_22PWQq8DFiWtAS6J5-w0V6",
        StatusTodoLabel: "_3rRiX6TSXbb0TV62sQPUiv",
        StatusTodoText: "_2snMdlpkl3kCJJy5O3IOKo",
      };
    },
    30446: (e) => {
      e.exports = {
        CreateCustomDiscountCtn: "_2T8DyF_QPmBfwHdjQByUkw",
        TimezoneNotice: "_3b_Fw9HRyniOqpKjCVbJ_W",
        Section: "_1LCTirlb4CZV9rVWaTGzaC",
        InstructionsCtn: "FnFwdZ7IvBGGnBEW81xgv",
        Warning: "_2RAeXWxmz-7eErRQYQkKAL",
        RequiredFieldWarning: "_1JnjbiJK8-S_Ya75S7AU5L",
        CooldownWarning: "_1LzOxkCM8rqX0LzwRnOUVw",
        CustomInstructionsCtn: "_2tqOEqpmWsMuxNeKGDW0db",
        DiscountCtn: "_1fE6JV_C3li52QMjcFFp4P",
        DiscountHelperCtn: "_3B4DZI92_MgAH2lFBqLT2e",
        HistoryLine: "ZmVYLu1ME_gfz4YM-CqDw",
        AvailableRange: "trSI7N_YmfiTjB6_fZqCl",
        DiscountedRange: "_2ysY6eQ8VtwC_Coxlloy5r",
        Dates: "_6Z2m03wBi10Igmh1Z5OR0",
        SelectedEvent: "_13wZta-VC2vD-qiWs80UCA",
        DiscountName: "_3UxnEIfBIeRKlxkpVOySxB",
        DiscountPercentage: "IAC4vBBcGaruTisdh19cS",
        DiscountRange: "mddbOKO0RIOIQeJ-h7eI9",
        AvailableText: "_1METezLK8YEbSMQkhZhC8X",
        DiscountEventSelectDropDown: "_1TuVi1JR-0DBYY4TZIszqX",
        DiscountPctHistory: "PO8Y8S9HEomMJUP-qXPvH",
        DropDownScroll: "_3jSyZs1wgd5ouPf8uJViw7",
        DateCtn: "_3ylapx07wP2ox2t3Lyvms3",
        DatePicker: "_2n6EdGGO1j6FYfzT96LBG2",
        SelectedPackage: "_3BWNETam2oBjvwOILDcLuL",
        OnePackageResult: "_1HqM33jwjHjyFrCKKvAcs_",
        PackageName: "_3xE_QwJ0Eme9shoT2g-5-3",
        ClearSelectedPackage: "_27zzrFCxyekWP38JCQNZJX",
        SearchResults: "_2m4PZ8dsvzkVgbli4GQMFc",
        SummaryLine: "_1XXEb28Oa0RFnF31Aji2RG",
        PackageList: "vwVXi8gp1fIkw6_n6be6w",
        PackageHeaderImage: "_2eRO8Z0INkSMTBIoL4V8j-",
        DiscountLengthCtn: "U9VTONZz_t3ROedWvMDYW",
        DiscountPercentCtn: "_2YPdFQCJjv9rNcNL2wEu4x",
      };
    },
    20969: (e) => {
      e.exports = {
        DiscountGridCtn: "_3THzepUIt_9YaOf4KmNcW4",
        Title: "ieZ0La3YWoVXTqHlUonFW",
        DiscountsFilterBar: "_1Rr15kfbsKhzqpYqu2mJ25",
        DiscountSelectDropDown: "_1vpeLno-fxLiEr36lSvB9_",
        DiscountFilterCheckbox: "_2K2RilMOnElfQZ1WRNhQfo",
        UpdatingMessage: "_13PLUpybO095PSWN2KtKcP",
        DiscountGridWrapper: "_6SeSQKhdlkGydbt8O0I-E",
        DiscountGrid: "_39Ize8dokzZuzGXAaSq_NF",
        DataCell: "_3V8Jbtexw6tKPwushv5utD",
        DiscountInput: "_2bWSQewEdMrW-n5hoKq7IF",
        HasDiscount: "_16Z51dJHAoSqaIqUudtaBV",
        LiveEvent: "MJbOkh8JnJKSOBUlou2j8",
        DiscountValueCtn: "At0eU37TeAd2RakZ3xCuN",
        ConflictWarning: "_3ypGB4aVOIjKy5eaTZaY5K",
        NeedsOptIn: "Wp6D3m2s9U42GDdQiMSLK",
        RegistrationLink: "_2pjYaTAJ1gBsQUkNnAG9pq",
        TheLinkItself: "_3ku7CZTyNt80HY8kHW7EDm",
        CellPct: "xbyPggdhYH7OS4g4gtPFt",
        TextCell: "_30Pxi4p4svYvt0gjfdB8rT",
        ResetButton: "_1lJpMiF_7fipvb0Fwh_1PG",
        ResetButtonCtn: "_2fvdeP5_XBAt2WV5YkcI2N",
        IneligibleNoApp: "UrglOIGSdnO0bq19ifw8o",
        ChangedLocally: "zv4kmAcn11HUsn_OigMkH",
        DiscountTooHigh: "GACCxLawf-htg_I_hyr99",
        DiscountTooLow: "_17g5ZLhE1nEbEYZnYJzWwI",
        DiscountRangeWarning: "_2_w-XxxXsbLKX5IjHmLHlu",
        ButtonCell: "_1J2q2UgCROhFPlR2jeLxNf",
        ConflictToolTip: "_1nSci9H6aORL_nK4W3NdVq",
        ConflictText: "_28b0Ons-qKNOCnUgkJARYg",
        ConflictExplanationText: "nBw6vaeW3Y5aeU2Kzy_ww",
        ConflictDetailText: "_2OS_FekIbxHHjhBFIKrbDg",
        EventTitle: "_3FDJP270FRoqT7SCREV69P",
        EventDates: "vmimx_P47BOqySGTak1qU",
      };
    },
    67302: (e) => {
      e.exports = {
        Instructions: "_3XzkBlyUR_vmsn2EDyreD7",
        ChoiceSeparator: "_2MThyT40jgg809DPoGd2Th",
        ButtonRows: "_36Y-tQTxf6Q7eVYJ8dsm57",
        Button: "how9a_zLR8wIRdY6qCPZM",
        ImportButtonLabel: "MoV1bhGNY2U3wBSmL1g5I",
        OptionCtn: "_18v_k_3u5eP4ud4nBFpQw_",
        OptionDesc: "_307U-wkGDV7Rp-CbxfGoTk",
        ParseResultCount: "_3wac_Ag4DVs05RgbOnxdGW",
        ErrorHeader: "bh1JBOaVT2SApZdmePrlA",
        ParseErrors: "_2sHaVV6XPXAK57t39EPPpR",
      };
    },
    85254: (e) => {
      e.exports = {
        ToolbarInfo: "_5a6kgT5Y9TDy2b7eW_KGb",
        Visible: "_3O9re6ObDKYKNDbkugM8t3",
        ChangeCount: "zPEyHrOK71yme5oSTHoqs",
        Buttons: "_2u2UgY7HvrcpTSce9VuRWj",
        Button: "_1ko4cBGJhFKlTf-K8HMzPV",
        SaveButton: "_1HBCAeWNjehnpwICaZps3m",
        NavigationWarning: "_123Gvg6G-1VBFkqx0r6xCj",
        DiscountTooLowWarning: "_3ACuuXOw_8ik-3V74Os1yK",
        DiscountTooHighWarning: "_3qgy8-d30t__WppzYOZX-V",
        DiscountStartImmediately: "_1kasl81eekO2b8WGK1w_uE",
        DiscountTooLow: "_3bgrT6c4dmSsWjVXE4L9hF",
        DiscountTooHigh: "_3rdrEk85aE5dbEZsOG2_4i",
        NewDiscount: "_2cO2zi69E45eP1ae-1X94d",
        SeeDetailsSection: "_2vKJryGsl1bEmuZcTaasqb",
        SeeDetailsButton: "_1dqW3d22SxJOW3DwjP4XSb",
        DiscountSummaryList: "_2jhyJdq3fZNF0R1L6220kv",
        DiscountSummary: "_1bNwvTe_FC6VCflEc6i76b",
        PackageName: "_10l8zc4ATLVmZiqw-_icR5",
        DiscountDelta: "FrNhSyXIj7OrB1NjUhYdF",
        DiscountEventName: "_2a8myoM3qLyg2Sklv-KvZ",
        PreviousDiscount: "dyifEykVRBd1P5M-GEZgQ",
        MaxDiscount: "_3eLo5y4jBcfwMUQz6wIJcZ",
        DiscountArrow: "_2r8Z6uh8eZWaxAHSNPVyLf",
        ProgressIcon: "_24b4eETIBbBqER57VPOLIw",
        ProgressIconBlank: "_3QeQi7qY62dgzhzFmTiAfY",
        ProgressIconCheck: "_32a73ITGryHUmU_4fy9qfu",
        ProgressIconWarning: "_3eTMDy78PGwHNBByPUeT6F",
        ProgressIconError: "_3xfYZDycu8V06FgfJm7hS8",
        ProgressIconThrobber: "_1h_MOw7uv5uO-3NjB_353L",
        HoverToolTip: "gba9ORrJbj5gmNm9W6UUS",
      };
    },
    29524: (e) => {
      e.exports = {
        SingleEventDetailsCtn: "_381ib_jM3s2g_OfVNoF_z8",
        Visible: "_1qjHyeKYpcv1IFmVZmsTkw",
        Section: "qWsOGf_bOUdbKU6uOeO2n",
        SectionLabel: "_1RuFOVUpm-iPdK4RVFwAgy",
        SectionDate: "_3DpTZY_dQeqBm1zvnOz_P4",
        ViewSummary: "_1asTwqP_rc_HISLHpeRWhr",
        SectionText: "_2oFM4IWyacTftKyLkKR78J",
        WarningText: "_3Uyj_XkyWMBNercoo6EQut",
        helpCtn: "_2MBA-YyJVi9vhm412-C7Mw",
        BatchDiscountLine: "YW4tzX6XiA_e0OZzHp6Je",
        Disabled: "_3ndVfu44OeiWUEpu1jN17M",
        BatchDiscountInput: "_2Vsri9hvhsazGcnli6kEO2",
        CellPct: "_1NHr4HifCXmG6CqMXqZ8dj",
        BatchDiscountButton: "_2SPUS5dAdQ_7Mpjv5FWc81",
      };
    },
    15480: (e) => {
      e.exports = { AppImgCtn: "_2ZE7VRLkz02vD4UGS2B_dH" };
    },
    60169: (e) => {
      e.exports = {
        Header: "_1DEtCuEDdbBHu0qZxRB-qN",
        AddSectionCtn: "QTymRMXMzqdXjCMeoeS28",
        optionList: "_2QQ6j9BXjsTZlfwG2LOf08",
      };
    },
    73086: (e) => {
      e.exports = {
        MainBody: "_3QmglPlogoZ2FVr8KIwxsh",
        MainCol: "_1PltsWB_h5qdWiJCgWaAsG",
        RightCol: "_1hPMJK0FN7yP_UmuRcHYi",
        FlexRowWrapFlexStartContainer: "_2DAMJDwsdG6OiQ2EQRqoIy",
        InviteButtonRow: "z70Aa-I0xJwrObXVHmGKg",
        ShowAllInvitedRow: "YH0Zz5E1DHq7us-SwmbDp",
        NarrowInputField: "_3s6tXeknaUMhhIR8NoWYzc",
        TopBarContainer: "aeUyk7rI8mC9mKtPjTda5",
        BottomBar: "_1JwCyoaoU2Q139AWQrCTMw",
        EligibleGames: "_1rysVF7go2J-8hHPBWpEnh",
        BasicButtonSize: "_29w-Z1ugZoBYArwA1_X2jk",
        EditorInputPaneContents: "_1EuN8ny5rxP3EIKLSEqX3q",
        Section: "_2yL7JZ7leAVvBHmRcwl_mJ",
        SectionDesc: "_33_oCFON1JVNDNRKc_w7NY",
        ManageTable: "_2afWvUbg3NpgntTDylEHBc",
        EventBBCodeEditor: "_3UtWXZ3dOC0Y-WnrNRdrpP",
        IndentedSubSection: "_3zYTcSYSIq81s0lGtYvnN2",
        Disabled: "_2rKAB-m6OrWzD-xqx4yzCY",
        RightSection: "_3NiRTjeodCFztYzNC8PO1K",
        InvitedAppHistoryDialog: "_1OeP6U95st3jcjePzzhsdN",
        InvitedAppHistoryTable: "Lp1p-Wyni2VEi_4YUkfrC",
        InvitedAppRow: "_2tiXsmYQ1DliDpAzYq_aAV",
        StatsCtn: "_3R21MZG-g_yM1S23hdLsKh",
        NoEligibleCtn: "_3LgwOe6mZR78-w_PoXGKmt",
        EligibleGamesTable: "_3sBXwILYFyzoFqxMG_Q5yE",
      };
    },
    18202: (e) => {
      e.exports = {
        EmailTypesCtn: "_4xCByWOsTQR3UlA-qAYZg",
        EmailAdmin: "_2PhkO_dMhvxvHLtf91ZDy1",
        CreationRow: "_3Uphn_PISbN2EZ1xbTnj8v",
        EmailsCtn: "_30DZ2NcLbYfFjTHJzTiBac",
        NoWrap: "_3yOHONtUJGaZTXYXI8xZ04",
        TileContainer: "_2dKmv1jSlutTWJ9-4dshpw",
        EmailType: "_2JiccDDBQPFLlvI05Iomjs",
        EmailDesc: "_1CE8Cn60dhsKJ-R3uqEyNW",
        EmailStatusTodo: "_3bvmesOZFGCGwyytDy6Z-u",
        EmailTitle: "ZubnXh2yMM06gevGzvi3b",
        Selected: "UaNa5L5y0mtCFnTnZnBSy",
      };
    },
    83271: (e) => {
      e.exports = {
        CenterAlign: "_30g6tWWHgBw_8SX_hJ8U5t",
        EmailEditorContent: "BLEK0pedAqsKYDawmnv9h",
        Columns: "_3dWS09psnWrOzi7c7myD5-",
        LeftCol: "_3v4VetEtviCcmeiKYvUKYi",
        RightCol: "_2XdISc3FSMCH1bO8cVsUtF",
        Sticky: "_1JpQaxv-Ejzz-lwL7uUSJb",
        ConfTitle: "_1034qJDouTHTOcIQP1xNFY",
        EmailSubjectCtn: "Ky6vQs2Ff2w0K67ooIoKZ",
        EmailCustomSubject: "_1BjnJC7P1VkfmFwiPHduyZ",
        EmailTemplate: "_4QEkYlTQNaQDQjH9CwFaj",
        RightAlign: "jGzd4tFA2syd_rWwhw7xW",
        DevEmailTemplate: "_1MnomTjg9dKzkkTceWmJmo",
        SubjectPickerRow: "_1wigN3ltmqJaCMIzoYAZvz",
        DevEmail_Content: "_3Ot-a9W-cxpbwB97depPQi",
        DevEmail_Headline1: "_3dKOmPkNgctPd6TxRIBfsT",
        DevEmail_TopLogo: "_1cVtvIqv0kQbbVcALjnwSv",
        DevEmail_TopHeader: "I1TnLYJOHefid6PAZREDa",
        DevEmail_Headline2: "_2Jqt0syOIpdsBdBwdlRgPP",
        EventCtn: "_3LekGE1v2xAROh0oX3SJvn",
        EventTitle: "Zmpp3Dg6kH7F_7gVJYEP8",
        EventDates: "_300LPGAM_T9NVX9L7Y5kVi",
        DevEmail_SignOff_Img: "_3O708NIAr2kE7qJL0iPTtc",
        DevEmail_Signoff: "_3AVDIuXuULcVJ38zufLL4y",
        DevEmail_Footer_Ctn: "FpCTMgwkfdUEyaglt79Zo",
        DevEmail_Footer_Reason: "oQkDs7urXux0dzQnlpOTf",
        DevEmail_Footer_SubSection: "_2fxkCYuOyk3rNlI7Hc6aw-",
        DevEmail_Footer_Bold: "_3dqocAJCi7TXQfEiEIT0fb",
        DevEmail_Footer_Regular: "pleWjzitxj88gkyATUDsX",
        DevEmail_Follow: "_1i4xtAqK-MmJukSuvOzVcw",
        DevEmail_RecipientTable: "wkKazMbkWdz1ISc8-ltsD",
        MetaDataCtn: "_1-s0hDk-6Hv4PON2lW2Tm-",
        MetaDataSummary: "_22Gai8csqtEIw7WpP_FtWH",
        MetaDataRow: "_1Pb5P3hiyBkfMoKp0wE-Td",
        MetaDataRowTitle: "_393GuAv7eI_UjVXM0Zg8hj",
        MaxEventCount: "_1E7zP_XHgZbkli43aR1oT3",
        SectionCtn: "_2LeZ2BB6PDd0SHAzDKx5MD",
        SectionTitle: "Ypz5SaiL7Gw5Fgczbidwz",
        SectionEntryTitle: "ScsuEfNm-mzBJEIwSsKUi",
        SectionBody: "_2JTPYfVtEKGXsiFzIHLijp",
        ChangeBtnCtn: "_1LZ2L7xIYRJKUnBED4wve_",
        AddSectionCtn: "_2H_OOx4aDIy0iCtasclvcc",
        StatCtn: "_3lCM2FmZgnNED5RX_EeYAL",
        StatNumber: "_3gAEw18835AkUiGnrWZcTM",
        BigButton: "_2d5qKzWR6OBkrN8cW00C3x",
        appItem: "_32UiY6_GcRmqCR9wca4CDO",
      };
    },
    35458: (e) => {
      e.exports = { Preview: "_3fMhGOYMLcdHpgtk6eZULh" };
    },
    71683: (e) => {
      e.exports = {
        DownloadRow: "_3Bo6GQIrwXOnaUmy0lXrzx",
        ManageCallout: "_24SeyqOaBpKgA27KCtkRRF",
      };
    },
    39128: (e) => {
      e.exports = {
        StatsCtn: "JtiCebOxXMutVCivZa-pf",
        Warning: "_3cDtwWqZjnSppII202KeYN",
      };
    },
    64035: (e) => {
      e.exports = {
        Ctn: "Ldxf5Gy_0pgDODbg67v_v",
        ColorOverrideCtn: "_3yejm9xBOxeSK-OFACuXPS",
        BackgroundColorBtn: "j53NLlhPJNNtYoeAZ64YD",
      };
    },
    25035: (e) => {
      e.exports = {
        TopSection: "UPClWbalp44EP2uo6yjGT",
        SearchCtn: "h98zJqVmYBDzGDR12EfkO",
        ResultSetsCtn: "uV8MpQrLfUNZ58rIxWYjp",
        Warning: "_3VyhAgX9eeTu40DTZasJj_",
        ResultsTitle: "KtWoZ_O7pwXNcJbuBMkDr",
      };
    },
    17904: (e) => {
      e.exports = {
        ResultsTable: "_3Slb68JYoGIPgg8618iXCJ",
        Img: "_2phzB7HNCsXkPPJkHwvf2u",
      };
    },
    74303: (e) => {
      e.exports = {
        SectionTitle: "VM14UGwmk4Ng_GDgIOldV",
        Row: "_2db7mqsWVB9uITzObYYyl_",
        Pruned: "_2-QYplON9ZYDL8F7UCPKkn",
        CapsuleImg: "_8kkOBQP9vZs4Sc5e-D6Nx",
        Column: "_1r2iOIGkkE_H-dtyZl9UIA",
        TopSection: "_2nKNyFzGZRK6V4byOFHBxY",
        ActionsCtn: "_2jqGLvwK_rnnuqv5Bhw7D4",
        AppealWordsCtn: "_3B_85IU-BWQ7IsZ1IvtON4",
        GameInfo: "_3FTQ3un50thBT-7xji_vdf",
        Title: "_1Y3gQeVyRPx26BMlVqCC90",
        Desc: "_1ICOQoKc9Yus7L-CxMdL5i",
        StoreTags: "_3eS-zxfXPqFdoQWy6KV0Yl",
        RowNumber: "_1HUphXBGHaXuM6Vt-_xH_j",
        FilterTagCnt: "-HWZKyvQQSbeyYiwDC76A",
        TagFilterBar: "sNv3-Ibnicq6cU_RV724_",
      };
    },
    81943: (e) => {
      e.exports = { CollapseableTitle: "vvz0tBhHiq7j1fc3fJoWO" };
    },
    21745: (e) => {
      e.exports = {
        SurveyQuestionCtn: "WJ6651pdkwt3xs2P1zXz",
        ResponseRow: "_3PBKjnguWO7v1w7vcI7RZd",
        ResponseText: "_2WcRLDkkh3XxZF9k_6L5xW",
        FollowUpText: "_2ZClDe6jwX1LpjtkXIHeuj",
        FollowUpTextInput: "FsvRlmH1G7iZ1hJ5hfxJB",
        SubmitSurveyCtn: "_2ZWGaGFrBSVaWky4aM0Ijn",
      };
    },
    62007: (e) => {
      e.exports = {
        Dummy: "XMLkPKDQ1MgeD1j32O-v1",
        ButtonCtn: "_3QVsdxhgU_YPPHTyMJDHz5",
        AppealResults: "_3RoeYJNaQv8Eequ7cx1f6",
        Submitted: "Z3TjVBwrSm9asHXEYxaqB",
        Declined: "_3fgI817EeORmHp2YcnBcp5",
        AppealSummaryCtn: "_2NYKMnhLa6yG5AlbFm40Js",
        CapsuleImg: "_3bewl5JFFO1zc4y4rC4huS",
        AppealTitle: "X7wqWSp1svujzBKi9j7xG",
        AppealsEntryPointCtn: "o0-VKT1E9Pv5FCfCBgLY-",
        AppealSelectedApp: "_2JcBfbFeA2I-s9d5g-fi56",
        SelectedApp: "DZyHhYnXa8tbad1X4kSEU",
        Notice: "_1pk0lDJ_EF8QD2UVr1sI4m",
      };
    },
    82348: (e) => {
      e.exports = {
        Dummy: "_2ezUjTi6bzTmNav917dO6L",
        AppealTextInput: "_2g-Q7ER64YspNvgCAS5tWf",
        AppealsEntryForm: "_1G49-MEvbF_vCnZ5dlq813",
      };
    },
    19514: (e) => {
      e.exports = {
        DynamicSection: "-H4oQP3-YUTtFxAZNJJr",
        ListContainer: "b77rlI7RrSK9bq-bvYrpa",
        ListTitle: "_1vaSC4WyVJM_jE6lbzCtUA",
        Column: "_1nquN8bkqq0c_NmRzPjGbP",
        VisibilityTable: "_2Doz0vGfyLG0tj2WIjqBOk",
        TextArea: "_2GJyIfe_RhVk4YI9MOZFl2",
      };
    },
    69290: (e) => {
      e.exports = { TitleAndDoc: "voPt0u3YF0z3YDxxPg97z" };
    },
    59040: (e) => {
      e.exports = {
        ChartContainer: "_38gl3E5j4bYagIMSd9MXCf",
        Chart: "_3hXybphdl7Tr8Q7-L69uTA",
      };
    },
    85074: (e) => {
      e.exports = {
        WithBox: "Y8Nm1z765AoqpdvMSwdWk",
        SideBySide: "_1J1S1afbY87Eh4tId7j3sx",
        GraphCtn: "_1LaTKzVsF3Fn7X15owSSUq",
        PromoDetails: "_2ExrE_Vps40qyzUQXhbiQ1",
      };
    },
    99193: (e) => {
      e.exports = {
        PromoHover: "_1zQUa5y25NlPl9OWzoUiK3",
        PromoInfo: "_2IU5pgqJCU7UbbWe-bxpTI",
      };
    },
    84073: (e) => {
      e.exports = {
        Dummy: "ldc1aCofZ6R39NNGJqZXP",
        AssetSection: "_2Sa_-7AiJ8CoQDFcgkkcxY",
        SectionCtn: "PHCQrEzsz9s8AEnGFpm9S",
        AssetSpecs: "_25TK9ZxS-kHvNff-Rn5l0n",
        LinkRow: "ADaiGJVuZzoGI1bmkrL5r",
        AssetUploadPreviewCtn: "_2kDp_nyn7miLTeZK-BaTn0",
        AssetUploadPreview: "_3qbEjMrc3bDcRT1FeyzFzU",
        UploadPreviewCtn: "_1X0nVrj2AZjOA0qruGw7ke",
        TitleBar: "_3sj9kku46IOP4MYpSduqzY",
        AssetTypeCtn: "_37aDawTGN37t4eWf964BpZ",
        AssetTitle: "_3Te6XB_WKYUrHzGMEMSbAZ",
        SetupRow: "Bif2RRtzHC64Rl0ScjJ3Z",
        TypeNotLinked: "kk2lJWuYWdrboMcV2u3md",
        AssetNeedsColumn: "xo-7hAtZSSEdQilGkznF4",
        InstructionCtn: "_18kCx3860VHk-nq8dV_ZRt",
        PartnerIdRow: "_2BgYYSCUIvB8klcoIM2KlE",
        PartnerLink: "_2pxTG67Y35OVRuoeXS2b2e",
        SetObviousPartner: "_1hUvZZdsXPzTmMecE4wj8K",
        SpotlightPreviewCtn: "GrCIp45m5QpIwycVAC7rw",
        Content: "JPDZnP55tUl6QqfpQP-ES",
        Title: "_2fVP65kYiChekv9kTztQ6D",
        Subtitle: "_3Ar6JPkjNYdym7w5t92Uqk",
        PartnerSettingCtn: "_11g8jk2YKBFhioXqGKrW03",
        AltAssetCtn: "_3GijVLoinPhCGGQ8SaqqYS",
        EmailHistory: "_2h2QbH-XdrlfTP-p7hq90-",
        SendOptionsRow: "_15BGaYMjv6fgOxglZDH0Ad",
        EmailButtonsCtn: "_3_6R_B--O6IpytQEot_SpA",
        AssetRequestPreviewCtn: "_1H2Hz37JljOjFhW2m__9en",
        PromoDetailsCtn: "_3GPlR7608JOYPoWgsBou2X",
        FeaturedApp: "_35RvmGDJKKWMbBdc0XD1tF",
        PromoText: "_3grp6zvawf2-myfONdhi9E",
        ArtTaskCtn: "_8a8hIuBZZ6K788L_qCzqC",
        Icon: "_2A8k7-_Fo6_ufXVRe3WDdk",
        Asset: "wLZ--JfeYIRMVdNYM_o9S",
        Deadline: "LiOZUtVRwcRzYVm8YmxqK",
        CustomMessage: "_1GbC2xgFQmWT5i-ZjY1z-z",
        ChecklistTitleCtn: "_2at5P6b_uN8GXPKkNX0-PC",
        ChecklistTitle: "_1dnpjLV_MWr7i8W5iTlqUY",
        Required: "_28FR7Dlej-1JMcWXCRAKaa",
        Optional: "_24ZWqTDTI_Dh-S4NM5C-Na",
        Completed: "_32heBTmctlIP57GpmXGOPM",
        ChecklistDescription: "_1hBXnQ2KH1N571c49o1a-e",
        InstructionsTextInput: "_33qrxIXyEBGd_4SYlgINpa",
        OptionalToggle: "_35eGeoERKBtEL_ZdR4svDf",
        SubmitButton: "_1SeDTJwMXlTMLLf2zBlrG0",
        DateCustomizeCtn: "_1ImfNLIp32O3EJGx-srAoU",
        AssetRequestDoneCtn: "_29h_jamNbiaQL9G2Bq8bRp",
        CheckMark: "_3ZLM-e-m2UMcugiJIRtrT0",
        Body: "_1ZWLuWmtp7SB0uQ6-o-Oni",
        DiscountReminderCtn: "NKqq6YyRNhnjtZaG0ETYr",
        ReviewSubmissionDetailsCtn: "_1eh8pTGJV7jJG2LjkNByjL",
        Warning: "_239HdXXNkq4JegSY78C-b0",
        EditDueDateContainer: "PGvY_orr9RXv8qRv9VkFN",
        ButtonDueDateASAP: "rK5tvKNZuJzDgQs6AV2cB",
      };
    },
    24440: (e) => {
      e.exports = { Link: "xXdUXMPgihLl7s4kU295_" };
    },
    65803: (e) => {
      e.exports = {
        DealCapImg: "_29Nw3v_On6G8g7PkKFM5zA",
        DealCapCtn: "_3n8tu8rebxD3XxtBpskJIN",
        DealNameCtn: "_3z8vIbjBQF-s8njTMlu8be",
        DealName: "_2Ruo9Xp2tSmNlQX4hU59Q5",
        DiscountLiveWarning: "_28bhaUQESheuS3GNb80RGU",
        DiscountCtn: "LUWYnNPcztnXITSyIiTre",
        DiscountInputCtn: "_2DTJtoMcvmuGE-wHqACKzt",
        PackageSelectCtn: "_2ytWmFDgESBRLmQT8cfnYU",
        FeatureSelectCtn: "RhuUZWbgwchYHb99KX6-B",
        AssociatedPartnerCtn: "_1wLwcoaYTeoAqxWF-spV-D",
        GameName: "_3wpQYlFP8UOTbvIO2LB-Th",
        SelectInvitedAppRow: "SxB7vUwzczv-iehhlfgiP",
        DiscountPreviewCtn: "_1QLwjmShDbrMFj3Pz_4f6M",
        DiscountPreview: "gapSJpEsuDSIz78z29zwf",
        Percentage: "_2OoUsH0AJNhzrEmd5Ftvt8",
        DiscountPrices: "_1suUWv3bU82uCh4JodRz-e",
        NormalPrice: "_3WNQa4WYdyOpVjVsrq2j_U",
        CreationDialogueBody: "_1Bifj0Y3ZZu2y11_5rOUKS",
        DiscountLimited: "_5k1WugaKTRIv2ulG9kNHQ",
        CurrentPrice: "_3UShm-Rtpl6xK1WV_k7nfD",
        Accept_StartDate: "_1HZxHzVccnQkP1rChOXyfK",
        CreateSalePageFromInviteDesc: "_3SGJTQ6Je87pvkYSy0_enZ",
      };
    },
    94511: (e) => {
      e.exports = {
        SearchCtn: "_1xsEIvq8iqksfjKSLLafR8",
        ResultRow: "ddpG1ydr9ymgHWvqUjzc2",
      };
    },
    32570: (e) => {
      e.exports = {
        CalendarGridCtn: "_2smJ3vdxZvzZsAWT_t5n2S",
        NavBar: "_3h36HYj-GO1-9nGhSGJ12F",
        NavButton: "TRinQTYT25nphy5QeuA6J",
        CalendarGrid: "_1dtYbTQSXksSUbS-qX0LMn",
        CalendarRow: "_3eajthRtVx2daqBzOFqsb-",
        CalendarDate: "_1dm0xlBBCWUYPTWwtITpVr",
        DealSection: "jxKWo02frPnb03gS_1m4b",
        DayOfTheWeek: "_1gW_Biq16hTFJW3V5oZmHs",
        DailyDealCtn: "_2XgAJynX1USZ9KmmD1G5b1",
        Available: "qoXiK_Fw2W1wu-PAZrOlG",
        Taken: "uhJP7qvCldW_7SRMrEXGc",
        InviteTaken: "_3muZeZee4ojPSeQmC5rvr1",
        Reserved: "s-YTZFiyQgv96FJrE6ril",
        DailyDealImage: "_1HprjQjHahXV_FRl2OVc-w",
        DailyDealImageFallback: "_8wyyUKBL6O03xGaNC6L6I",
        NotesIcon: "_1t0Rh9X2gMS3aKD-BkQ1A6",
        Pct: "_1mEh6gD9LbWGWMBqdIOUvP",
        DayName: "_3-2CuMZn3S9A_yO3SzwJYI",
        PastEntry: "_3E1Fg8YKQMnSpNhbA6RXyq",
        TodayEntry: "lafVMk3zuOVpvAORYDwEN",
        FutureEntry: "_15wQf1-68hUcsVHd1tZxr9",
        Blocked: "E1Gpso-IzSuq4gHYyN5Aw",
        MajorSaleDropdown: "_7ElvMWR0RMkZJLVsaelRf",
        SalePageIndicator: "d4PQYKHqo8hGA76FzBBKd",
      };
    },
    68380: (e) => {
      e.exports = {
        HoverObject: "_2x-6cuvBy6bHEXSnLoKlYi",
        HoverCtn: "_3cendz6YnUqe2R83Chs2gx",
        DiscountEventName: "_2H6CRLiBfLkBqmR7A0OJHF",
        DiscountDates: "_3fhuWwxllZeIUzUVgLNUuT",
        DiscountedPackageList: "_2ixiPkFgc7D1ONn_NWYv0s",
        DiscountedPackage: "zxSzygpswf9DGwWdZuMBX",
        MissingDiscount: "_1gz3FosupwRbd6_gzC60t4",
        LastDiscount: "_2gbaQeuRkGJvjsUcjQhETJ",
        RecentDiscount: "W5lwNOMjuAj4ckoZKzoUP",
        ActiveDiscount: "_2VxE0jalycwNuxuzh0A7vn",
        Inline: "_2HIMHiGs8T7KdeDTQTfzpJ",
        CooldownActive: "_1KlTDoZ-hgxTzNT2E9dPyl",
      };
    },
    32701: (e) => {
      e.exports = {
        PromoTitle: "_1rgqMzhBHDGXlWOBS3iyqD",
        DiscountEventLinks: "_1LKk1ryDUFIVyeWntAojFX",
        SectionCtn: "_247gAWh8bxMlvcTslWIqgG",
        GroupCtn: "nfAajJChRc-DiNe6oliAA",
        DailyDealAdminNotes: "_nOD91u9wZC0-GgVENvaz",
        OverrideURLCtn: "_2sA84zGSaSp4vS9PyQhycL",
        TestLink: "_1ywZO03-qIcKqpmGBYU3Zv",
        SectionHdr: "_14AcV8LYR7HWoaz07CNhOV",
        CheckBoxSize: "_1wywLnAP5HIsrAj35X9Gyi",
        EditCtn: "_1arRUJ3hNlhRn0Z8E5HpBQ",
        LocationCtn: "_1TvAw0ZfTHpbJLh5WaY8Gl",
        ButtonRow: "_2fO-Cf86lTRa_O2RfWG1Nv",
        DashLink: "_1Xkkbsga46AFHfXQUgHuJK",
        DDAdminColums: "_1KdA5J2sOY9vBEp3bmqeUC",
        Column: "_3tD9K-AjLfb80Z82jHJwPs",
        DiscountEventCtn: "_2Pk6WiXigcuIbRmag2WWFa",
        DeleteDialogBody: "_144lkNgfd9QkSN3SeGb_5p",
      };
    },
    77958: (e) => {
      e.exports = {
        PartnerFooter: "_226LWzhEJAda1tMaDEXOvn",
        InfoRow: "_101h8j_AtS8-UQO_WMFwRt",
        Title: "_2TtasSZS_sr6v0po_6k8sK",
        InfoSection: "hdU6SgTtmyphZnPs4mvRa",
        MoreInfo: "_3DU0H1ySYf6VMVO1ZZZo3B",
        DDVisibilityExample: "_3OAcn32kfenlSWw8zg-pFr",
      };
    },
    8955: (e) => {
      e.exports = {
        Row: "_2fsEu5kwkRDakBWjqJCa9",
        DailyDeal_Container: "_2CWQT4ureadEtWhiffUEih",
        PromoTitle: "_1wObrmuWGhg8gk7jkR9y4Q",
        Cancelled: "_1BYSD0-xptNZEzOl8jBh6v",
        AppName: "YQi_MLU615s_i01m9tIhf",
        CapsuleContainer: "_2Dn1NAotM9yCfE-oS2lp73",
        PartnerDashboard_ScheduledHeader: "UmxF5q5pA9wzOPYICACGe",
        PartnerDashboard_HistoryHeader: "_4N2ZTuq6H_1jN6k_9V6Yf",
        PartnerDashboard_InvitationHeader: "Cqoj5-BiHhV1xIuwJXCLv",
        PartnerDashboard_Incomplete_Description: "_39yxFJeRwIZ4HBStd9pR1O",
        PartnerDashboard_Invite: "_147XKFTvlMnOjyGNEuEcCd",
        PartnerDashboard_NoInvites: "W2HsXPwJTqyiJVrS1D6S4",
        Orange: "_235VrjcHn3AANlpYLXekrL",
        NoScheduledDealsContainer: "_2gv7sh_yeB-IeqSnk99hfG",
        DailyDealStatusContainer: "_3b7O9NNMod3oErBnswOTID",
        Column: "_3GuhUTTDRwDbcLKO4Fnm6v",
        DailyDealCheckbox: "_1WzIioub32L4jccWSuUZEP",
        DailyDealTitle: "yYzcpCNNBj9cdocoRP9IP",
        DailyDealButton: "_1MMGdyBPgmzeWl0xiMJF36",
        InviteBody: "_1rjF1mDeOiypHOaSBz21vx",
        FeaturedDate: "_3aUGm49iKOkkeL7bdfP9hP",
        SalePageBody: "YpcNPxe0kZv5pvfw7WS3W",
        SalePageContainer: "_14q9eJO4Iq17ONG4-Kxsik",
        EditSaleButton: "SIsEAPC3PVxrI9g-rhTdK",
        SalePageDropdown: "_2kzqppJ97cvHf2cf3LA9cb",
        GroupDropdown: "_18yeKZ4XYo5a3Fp-7CnR0n",
        MissingCreatorHome: "_1-IRXSo7I0NrniPLqX06Mo",
        DiscountButtonRow: "_2Qkeo12FKR-U9SHc_Fu6q0",
        DiscountPercentage: "_3yMTPMRaT00YVSwsCprHfI",
        EditDiscounts: "_1uVhkCeM81Z22fEnnKSw74",
        BasicResult: "YsPk0yyZv_JLbAJYgjvSZ",
        CreateSalePageBody: "_1k9-5E9DqeEaTNIomfiFwT",
        CreateSalePageError: "_2pmepTynyxm9GMJXVIkesP",
        RightColumnRow: "_3gddo3Xp_k_wpmSeE_F1s7",
        RightColumnLabel: "bDp_11FwLNLTAVOjevkPT",
        Expander: "_2qCT8L4opLiedNXhse4tvY",
        DailyDeal_HistoryContainer: "_3RwwjhI47nTpFl_-zy-Bs_",
        HistoryTitleRow: "_2h2YAQFzASbJdJh4s5Y0Xs",
        ReportTabContainer: "_11lmE4UnBTMUiduUuTM3ji",
        ReportTab: "_3pnqwxsDdxti9KFQYpFf3x",
        Highlighted: "_2scf4t38OJcqrUMZvKgal5",
        PromotionReportBody: "_2mb7pLtJdKt2j1_vxjPzck",
        DailyDeal_HistoryTable: "_2vOl63XenlnDpHLEOzTY_S",
        ClickableHeader: "kxFAU0VHuMVKhvPliC_Uu",
        ColumnSortIndicator: "_2R7gz1pi4KWD16n8wbvUBE",
        Ascending: "n8bl4F0Gyq5WF2ItYwdyI",
        DetailRow: "_16VWg7wfrCJJqWngGDHug7",
        SalesBarChartContainer: "_2JgSuwG2CUtxwJghqdv9Zj",
        Cell: "_1Q9K5v8R5ezHFBS4YGo-jb",
        SalesBarChart: "_2Y1Ohp4FmEJOm-dx1L1L3d",
        HighlightHeader: "_3kjFfMNTukBJT9yVjCU3TO",
        ActiveSortColumn: "_2SaAt9RawgD_uFxaWA-WW0",
        HighlightValue: "O3oPG0TSGjqJOYeji-sIq",
        HighlightText: "_1r3D6HvVwu-Yv5ZNiQF9cc",
        RightColumnData: "GBPrYNmIH4miVg5tSFS98",
        BlueHighlight: "_241qQtWfs185gPVfRT7v-o",
        SalesPackageTitleCell: "_3i684FwaWvxJsJf4YpICZc",
        MarketingAppTitleCell: "in2n3ALH613p-Y5td8PVV",
        MarketingCell: "_1PBHFKvI48-zcNDtRDdE0e",
        SalesCell: "EsNiiuvw4iJrlroxDY5W7",
        DiscountPercentageContainer: "_3mWzC2go9Rk4_zsL3fXKYK",
        GameCountInfo: "NtseNNy86csiR-ctSJAnu",
        GameCountBadge: "_2qOXeMNq6wbprU9tbhWusC",
        GameCountContent: "_2IIXK-74etvt7jE2bNcJOu",
        GameCount: "_3V9pEViFsrjjW-zOvS-6DN",
        GamesLabel: "_3c9YoPIFdbMaSv4-4NaF-k",
        SearchContainer: "VnEqwkeFBW_f7YdjLFROP",
        BottomFade: "_12Wbkj7uTAIaln2PnlTt_B",
        ReportThrobberContainer: "_3D63IrgUTjBc397MDDdQdr",
        ReportThrobber: "RGcuEAF0t7Rcp6PAK3Tua",
        ViewAllButton: "_2MAlj6wb25S_X-n2HRJSYy",
      };
    },
    18791: (e) => {
      e.exports = {
        Container: "_398qzydemboBN-RxXd6iOo",
        Expander: "_2z_UTMMkqOTxnJ5FzWw9tu",
        Expanded: "_5GSfzusk7YQuZqjmAhBTS",
        ExpanderContainer: "_2L-Rm7GcmqzGcFQYOiIVw1",
        DataMigrationListContainer: "CWGwikY5BW-tPMrAu32lF",
        DataMigrationTextArea: "_1QMUfbjQMQEKCitv7WxPYy",
        DataMigrationButtonContainer: "_26gyMfNhCa93aqqN6uikGL",
        DataMigrationButton: "_1GAtnuc4QwEFLxCavMW-K4",
      };
    },
    9690: (e) => {
      e.exports = {
        CandidateTable: "_2qjp5Djf83SHbsnVQaIn5G",
        CandidateHeader: "_3XLXxzOeIiXll6wfV1ehiv",
        AppCtn: "_38wbGdU5Fr5Lz01OlpO3Vc",
        AppImgCtn: "_1IPZBd7obIzaZvsgbnrB9a",
        AppName: "_2ubxSmr8NAVLZRV_8CPId7",
        Ao: "_2mq4l7kCaBPByavSUM_JaE",
        F2p: "_2ZQqsLk4wtS3_jnwPDBZ0i",
        VrRequired: "rozJXPEjxv1owMix27AZn",
        VrSupported: "_6FqyyzvjzOeCSgXg2ByBw",
        Ea: "_1W10glUMe2iK9o8Cpc88O1",
        AppType: "_2oW4yletF5_fJTEzaRTrU3",
        CandidateRow: "_1-lXevywfwnvWgq9wWIuU2",
        DiscountPercent: "uq9p7ipLguZ8eIuhQTpYf",
        InviteActions: "_2PnU0BKJqTtUVaAZPnqpQQ",
        RecentPromos: "gUn74c3vh5bpvGU6nx9Zw",
        Promo: "Tk6iBLgHjRHuLoBAj21Ry",
        Recent: "_2O0cufWlwHuuMxjD8nKFkE",
        Upcoming: "_3ruO2Dupvk3EcLFjNxW2mr",
        OpenInvite: "wA4yCJ9cCiNkwZ2w6FFp_",
        ExpiredInvite: "_3ZPXxn8qkP6c3ffvDzTi8R",
        SalesRank: "_2KWeGH6NTF15xAqmMWPJF",
        ModifiedRevenue: "_3YCIsa63bL2OlHzbcbKLEc",
        DaysInDiscount: "h2qWtnF-hd6uWITotVTTU",
        PartnerCol: "_2DqGfjdxXIOkOrqs1sblsE",
        PartnerName: "_3Tyh3r8_e2IQfo1jRNCldG",
        BizContactsCtn: "_3670NSTxRoD8AaISIV3gaB",
        BizContact: "_1e7dY3BFOis-DvcPIEVfxq",
        FilterRow: "_3x4uaNOgVnRB2SqTrTmsbH",
        FiltersWrap: "_28sDb-_mVCF1iFI_jWC9oy",
        Filter: "_2h6FvzGNu26XFEz7G3h2ka",
        AppInputCtn: "_1tIVZys0DITEEyIIqsZ997",
        PagingRow: "_3qLRlDyHZJIS4BugMgi7oL",
        Inline: "AzROoeBRhQAuBrZNeDxYZ",
        PageTitle: "gBcUE6x7TiYgRRvXKNJ5e",
        CollectionControlsContainer: "Ze9vpZVnhuM5ixQnBbxt2",
        StoreTagChooser: "_3MXUKUNf99BSPBfv_wRDmI",
        SelectedTags: "G4ZLNqu2ItSLt2a4nyywL",
        ButtonRemove: "_33l2PQpdFV5xTe1VnUD3vr",
        CuratedPromoFinderCtn: "_2I9RguJSPMrFA3BaCYsTDC",
        ModRankHeaderContent: "yvFKrzh7VyheJNXRPEfQZ",
        HeaderDownArrowSVG: "_1M---DuBLBmJ3wziNwQwZK",
        FeaturingFinderDropDown: "_19yKcT-6yXGzPTnwowUH_p",
        FeaturingFinderGOButton: "_8VJYI1VS6M0clgIu1wQbl",
      };
    },
    96289: (e) => {
      e.exports = { Row: "_2-DPyRtWZKmGiUlanXBO5n" };
    },
    80675: (e) => {
      e.exports = {
        SelectedAppCtn: "_1kLuQ0dympeLD7amawORSQ",
        SelectedApp: "_3FFreVEzPDa_rvdu8HPvE5",
        AppName: "_1FeTrxGc5i511P7d-rR__G",
        InviteBtnCtn: "_2iMIjz2otOt3jG3-ZTyEj3",
        InvitedAppsCtn: "_3FouwbshakWUdLyH6doqG8",
        InviteTitleCtn: "IO0gUy_Fca5kejHHG2q_P",
        InvitedAppsRowScrollCtn: "uIqPl0eYF-WMwn0uTacc2",
        InvitedAppsRow: "_2GaU2Mre6OUt6H2jqpsWH1",
        InviteItemAdminList: "eCacw4e9u6IAuPO8iaiqm",
        InvitePageHeader: "_1rKT2hfb6Y8UuGr5aD9eWL",
        InviteTitle: "_2k3HTP8DAn8NZy0tx9_q3h",
        InviteTitle_AppName: "GZ2KkMTggYjZPqGqUkwgP",
        InvitedAppCtn: "_14klKDHHyJsENEpVKJ8P3i",
        SalePageInvite: "_2FEgHad-UGsXIxhRColplJ",
        CapsuleContainer: "_2soUAmXBgkQLGCMSCYRKqZ",
        InvitedAppInfo: "_2h8seOo57-jgqoA4IMn48k",
        InviteAdminButtons: "L4pIQiDLfR5Xci194GhSn",
        InviteResult: "_677sGhoDj769qVXL7av2o",
        InviteNotAvailableContainer: "_3-W-uJBBfzOZAL3cS-PFHR",
        ReturnToDashboard: "DB8o70W9ULuTIKKpQ02zn",
        WhyUnavailable: "_34OckOBiJimqqX_pRaN9ax",
        SearchCtn: "_1GXJazE0CvBxInhgcpRyrH",
        ValveAccountDropdown: "zzVbO1yOKUezUixvIVJVu",
        ViewPartnerContacts: "_3eUy1U6qOW5ZYcC9x5_4aB",
      };
    },
    42833: (e) => {
      e.exports = {
        DialogCtn: "_3sIyQ7GZbfZOJl33KaIXz7",
        InviteResult: "Fz3D_Ob1SfsM7NlllVW4Q",
        SalePageInfoCtn: "_2FWCaSAjdSHf7w_aN_jPIV",
        AdvertisingAppSection: "_15rIZw2NyMBg4Q2ApraIcz",
        ChooseInviteTypeContainer: "R-dUfNFnRveUE4hFgt52X",
        PartnerContactRow: "eyyqHrjN-07t7Dfn0OFdF",
      };
    },
    689: (e) => {
      e.exports = {
        ConflictWarning: "_1uxtlIGXtImvq39vHoMLp3",
        ExistingDiscountCtn: "_2rZ77kcww-hJ8LrPDzYyRw",
        Title: "_1fAabTP9UADAmEwrkstQgb",
      };
    },
    43507: (e) => {
      e.exports = {
        MMArtPreview: "uaJWOBcbrszCIM9jPJQ1P",
        MMArtNoArt: "_1oJlfyCX34cNTvLlNJxqAM",
        LegalPreview: "_3UR3Ewy0eOiigTBb1kMIk5",
        legalSectionCtn: "_2Pr-js3Udcl6ijZj_UySRj",
        subSection: "_2W8DuE42O6B1_qpeGV7i9c",
        previewSection: "_18ctSpZDuUziLFqRD5Afxq",
      };
    },
    61910: (e) => {
      e.exports = {
        DateCtn: "_1mrqJ1WLmobh_wzIY3EVZl",
        PreLoadNowFeature: "_2XT3auesRGpSKWjno9Xcvm",
      };
    },
    63606: (e) => {
      e.exports = { HeaderButtons: "_1Q4PqR6_dSTkwZLC86uSPL" };
    },
    58995: (e) => {
      e.exports = {
        Dummy: "_3x7rO8JdqsQ3O_kICECOMg",
        MessageCtn: "_18Z_QfJhGZl4XGJKvw0Uzc",
        CountryInOut: "_219uC_2Slgr7kYg7WnWyFv",
        CountryText: "YvodBrJv5G36uXgxsvW4a",
        RemoveLegacyBtn: "_1pvKrK9Ig2mfvdXTTEiIhO",
        MessageImagePreview: "_3vqntF7LN-Xp1OU8dmKvKP",
        ScopeNameGlobal: "_1mF1EOFyE8NI-I2Z91XK78",
        ScopeNameChina: "_2O5jchVFzrdgkZjqNTj35L",
        ApprovedForPublishStatus: "_13Useg3SkW7YczZ_nZ1LNk",
        PartnerPreviewLink: "_3QdBI3rV8HLWt47vhdtUIN",
        SecondaryButton: "_3l4AnY6laFUM4An6S4XtGl",
        hover: "o9oXDiBXfBfOE5I36iOL",
      };
    },
    94029: (e) => {
      e.exports = {
        Dummy: "_3glD2lGMwlZh3hZb4XH6MW",
        ConditionContainer: "_26iQ5cwVaCRdq4kQV-Z3hJ",
        RemoveSelectedProductBtn: "_28FDKm7uc61fzDoE1s4AN1",
        RemoveConditionBtn: "_2I6jnAosElv90qG-NR6CNd",
        RemoveCaseBtn: "jkA0eKrZwNnfQwq6RS_zl",
        AddConditionBtnCtn: "_2jPjOfmBcD9ynwSP3mn457",
        NewConditionRow: "_3pJgJImcPeTCcR87F8YTsm",
        CaseContainer: "S7-lNYeMUcaLTvOgTqZ5u",
        CaseTypeSelectCtn: "_2zuM6HX5WBJ-SZUsTHHl4",
        CaseTypeSelect: "_2c8Z6sbb9fEPPcvQnZ55Rr",
        AddCaseBtnCtn: "_6TrpentH84qKXfi8P2JPL",
        AddProductBtnCtn: "_1cTJt6UOSYAPG75MFKuztF",
        SelectedProductList: "B1AM6vpaWpD3Nk_s6enro",
        ConditionDescription: "_3jCu6xqoXYWOH2SMhFu-8T",
        SelectedProductCtn: "BiBUb4TdnBXELebd08teO",
        SelectedProduct: "_3qEa8uUM5vtMiCckq5qOeU",
        ConditionTitle: "_3b-fObFOXin-XmUDZfacQ5",
        ConditionTitleOr: "_2CvHfdolvQMO4gkMlxjlPh",
        ConditionTitleAnd: "yF0yECe83wdyLwJm21HGH",
        AppSelectCtn: "_2n3Wnr5wfaKGHxxqLbhOEQ",
        ItemToAdd: "_33WvvdTdyUzp71coa4Anc-",
      };
    },
    2164: (e) => {
      e.exports = {
        Throbber: "_38Qg3geqXBWeZCZM-CU2Sq",
        LoadError: "UR7pUCgpM4ljBq9YBzvXH",
        Header: "_2tR6ZBlIJ_Esi9G4Hw6vqK",
        LeftCol: "_9Fx0W92OvqbOXJd9-5Wva",
        Status: "OhXSoUp56RTFd0y-6dMkq",
        Public: "_1my7xZmhFLHsYejQOawojL",
        PublishButton: "_1DqxCoZJrYbuiI8BxucPRC",
        ErrorMessage: "TZupMtL5lHm5jk9lVrnQp",
        RightCol: "_3fklb3q3M0tVhy9J5jgiBk",
        PreviewCtn: "_24mVGQxS0dAHxutWQUN56T",
        PreviewHeader: "_3x7OGhtnLkhY_TuvhSeBeL",
        ArtPreviews: "_2DFLsfb9CkxR3b70L70OaD",
        LanguagePreviewLinks: "_3U7DzUbwntA3Pc5a2NNbCP",
        PreviewButtons: "_21DYWab8qvVyrW7PdtMa1D",
      };
    },
    36630: (e) => {
      e.exports = {
        PreviewRow: "Wog1GBQw7vlXxhbVxHRbn",
        Spacer: "_1rAD1PsCoDy42BnDw6bmio",
      };
    },
    63544: (e) => {
      e.exports = {
        Container: "_1IVr1rWbkO_nsOEdKNnI7X",
        CalendarCtn: "_3reVPYSvvoiYSRth2QxYjt",
        CreateNewCtn: "OryGTU11g-AQPcVlqKqP4",
        filtersCtn: "Epsp1EFTe732X0hSq835Z",
        FilterRow: "_2qhMYoG1U-uRZVJyTBoFuJ",
        VisibilityFilterCtn: "hPops4DbAJCvfMUt2K7tu",
        MarketingMessageSearch: "_36QLW88mlNMDXRwcocgctz",
        OtherLinks: "_1ePXECwiPS_VGuhB4uh4Qy",
        EventContainer: "_2nYdhByvfAdvZPHDFyt_Ku",
        EventNotesTooltipIndicator: "_3Ab46MTXfA0egFEwYoU0Jr",
      };
    },
    12080: (e) => {
      e.exports = {
        RowCtn: "_1Cq0N3-UepmTlAvDH0ElVg",
        Public: "_2p_SNLf4Iy4y6ti82xe-EN",
        Future: "EJs6PDCIY6j02hlmzmFgO",
        Soon: "_3txtb744TErZIjJiafI6eZ",
        Ready: "_1PRvxPXhYGbG_M2kPhOrNJ",
        Approved: "V_M3QNQ4BoCPhcptm3CqU",
        Compact: "_2cprKboJkehwZ_t7Jn2Cst",
        Row: "_2KUhB_BLktT3FQGqB_y54o",
        Primary: "_2tQk8n1YH5C2v8367dhlfX",
        HeaderRow: "MGJxkhOwzywm5cqaty3DR",
        Col: "_2x28WNTnFLN7p5-W6dUFFq",
        ItemName: "K3sWBC1TVzqQqY6olyu0f",
        Type: "_1hntlllJLxrLj22xkPzMXJ",
        Deal: "_1I4-4shtv4hF3PvfsYZTrd",
        Date: "_17dLAP-RyWwuTzck9Gz47f",
        Creator: "_3VjL-JocxpP2ljeZhqUIRk",
        Visibility: "wvE-jG0F6Bz8vnGxKpQQY",
        Revenue: "_2oBY-a9UYtSwgEOESAqMZZ",
        Small: "_18G4aX1ScPJrnNOPWKuI6y",
        CountryList: "_17dzIUq2f_CSOR1Eug7HUe",
        OwnerLimit: "LDwRnmtVW5slGcNhaiHPs",
        CapsulePlatform: "_2OJsE_nWOGFfZwO3NXSNsz",
        LiveStatsCtn: "_3fKCbgfnhUnHqZuYR_DA8h",
        ViewsCtn: "qbvhk46RDj72WOCxtxodV",
        SummaryCtn: "_3LlHNgNijnyDOhyZaZP3CV",
        VisualizationRow: "pdvDRuNQsG-Y7JfY5d7dF",
        BarCtn: "k5NJyCaP6acX5utnOweN",
        TitleCtn: "_2pxDGL76WfgYWVxPoX2aiG",
        WillBecomeVisible: "_26S-q1rh4KBSENR6EI-bTQ",
        MissedRelease: "_1f2UQJ2ioT_SYgxhzez2G4",
        Unset: "mDhm0oiq8R71Z0WQF1mRd",
        NoResults: "_1bOoImFN1WJOMod4hTHJa3",
      };
    },
    83854: (e) => {
      e.exports = {
        DateCtn: "_13RGKmbd0bFVxkQJdMEX0t",
        Vacation: "_1RS5BRUx0pdtR2xvd3P2oQ",
        Seasons: "_1GNn5Ekyu5iiizG3V_xRal",
      };
    },
    98076: (e) => {
      e.exports = {
        ButtonRow: "_3KhKTPCE7ypE5LBMu7_ErR",
        ButtonRowSpacer: "AWToJgEIX-j--80870i2d",
        EditCtn: "_1Q3ppPFyL5I-yzdlW6qoc9",
        StatusBtn: "_3btXS661T4IU89cO5eo8XE",
        InputContainer: "JbwjfTH4nnQrsq16Hztqe",
        PreviewLinkCtn: "RacQWVhlOFswJZjjnxkul",
        PromoName: "_2tLRc5NDSTZGzLadmTD8EH",
        TypeCtn: "Lw9EhG5HAG-zXYwNwUdl1",
        EventDetailsCtn: "_1UwWTpxA7qhaSOlJpNgwsR",
        AdminNotesCtn: "_3ZkUKKY3MbHhKyVBav_wtN",
        AdminNotesText: "_2EeD_fx7U_0Bcelj9YqNlw",
        PromotionPlannerText: "_2jOn18K8Q6EDLSqEeNMVfa",
        BroadcastNotes: "_3SotCt7y4bC9UOPX6G0u1E",
        FeatureSelectBtn: "KdmlAN7oziOO8EtO6Ylw6",
        StatusCtn: "_1DrAwPew412VtdD9T9w7vl",
        ReviewState: "_3mtqDIw2XooklHiqKm9ryY",
        Complete: "kpXmMf9brjNOzSKzjkKtb",
        Incomplete: "_2TKFBv2u8j98_U8GUmaer",
        LinksCtn: "_2SJfiT2B5DPTb5uwQKdvQf",
        LinkCtn: "_2s6vNlrXn0j5A3T7_lS0iN",
        PreviewLinksCtn: "_298xIUAc2r1LzqBC6YgpJG",
        FeatureSelectCtn: "FRWr1JG5rEuPeQBbQhIwp",
        CreationDialogCtn: "_2LmdQpQwt7eqXEc22-HE6l",
        LargeSelectorCtn: "iTSaTqNaYWKTbAEYX0oLm",
        LinkMsgModalCtn: "MsxBDbzjGO3rHRhMb7IxC",
        SalePageLinkCtn: "_1L_j6E-j-QzvIZznwAl3cb",
        LinkedFeatureRow: "_1lX6jiEwBT8iN5F9esCSYY",
        FeatureName: "K-HQQVsPByIrqwC65aGu1",
        DiscountEvent: "_2PEK48vlZOAR3u-PynpZiU",
        OwnerRow: "dmR1Kff7LaguFmLQ4oZPL",
        ActionBtnCtn: "N28BLqQg-mt8IMXUsv-40",
        UserCtn: "_20WlQ3dvb9vmh_mZiSYMf0",
        AssetField: "kOPbypW632DCsWzrd9DG8",
        OwnerCtn: "_3kmgLamQZRx5tIIb0YaWSo",
        AssetNotes: "VaLwylBilZSHWeTdxBQQC",
        TargetGamePlaceholder: "QQLfNfmbpzk36zioE_X76",
        StatusRow: "DF-Ee8IlwQoq0lur2i5DQ",
        Status: "_1x31t73u4DQOWgUUcdwzcW",
        StatusAlert: "JoaDoHqXEaQDzfPXkWyyy",
        OwnersRowCtn: "_2Um8WPyOYefW7coiDEOzDw",
        OwnerColCtn: "_21K5eiT5agJhoaa8OTh7E_",
        CalDownload: "Y4ZfntBhYMVNYQ0chXUGY",
        AssetTimelineCtn: "_2StVtbEDNO5xhWjjAuvXBT",
        ActiveState: "_3Slqmy9X_4XKVBaosBcqbG",
        DiscountEventChooser: "_3ZLpLM_zY-MFBGz76igjDJ",
        ModalMax: "_7d8DEH3yYHFSsLvCrrrqN",
        MissingSalePageVanityWarning: "VxdV9EyGqyUL8ERVzD6Ta",
      };
    },
    31541: (e) => {
      e.exports = {
        MaxInvites: "_37BtrSI9vJMqi9eqV_c8Ut",
        FullyBooked: "_2q-e6NDU-wz5TzRzQGkSjm",
        TooltipContainer: "_63VWld61ITDexhA9O8sa",
        PromotionPlanningStatsContainer: "_39E0g37VF9zENTy1IM6ffX",
      };
    },
    32826: (e) => {
      e.exports = {
        WarningsContainer: "Jdmsq5MsiHnsvkmShEESN",
        WarningItem: "_1Rz4Zv92hVIueGpZK-vmHO",
      };
    },
    20997: (e) => {
      e.exports = {
        AccountSelectCtn: "Rr1SDxJ5QKOsU6vn4ICGI",
        AccountList: "s4Nfx1C1K1p25RnxjucXa",
      };
    },
    81132: (e) => {
      e.exports = {
        ChartContainer: "_1Aj2OWer0d8RJKWXdK4B_2",
        Chart: "pwfTeHvMQX63C9oIT8-Vi",
      };
    },
    26142: (e) => {
      e.exports = {
        Featuring: "_3T5cuT1JEgQKn-huguKotK",
        FeaturingMissing: "_22uFYnpVb1aMFkIapLvrD1",
        FeaturingActive: "EZKx4ef-OSncbayXhA8KS",
        FeaturingMainCapsule: "_30k7GZ11m1ZneWgkauXIpx",
        FeaturingSpotlight: "_3VVXbA0aZicy103SNOq7W9",
        FeaturingIM: "_3CobVJLHLAAy1ke2nIDBMi",
        FeaturingDailyDeal: "_1aulIHoeZNkLG3UkBJEBM_",
        FeaturingProductBanner: "_17oCe1SdBhTMZh85naWwn7",
        BannerCtn: "_2dqTsf4SXUM871G5SoJlv0",
      };
    },
    6286: (e) => {
      e.exports = {
        SearchResults: "_3j5hsNUpJYgdYJ2gtrXvLh",
        VerifyCtn: "_14bU7K6FT6-zov5bL8cIib",
        VerifyCheck: "QK3cD6xQQrNpL4YU7wepl",
        FailCheck: "_3ZDrmN-fC_RWr28P33s_6r",
        MinWidthCtn: "_3VgMxVNDzd2JISZuxQhi4M",
        DateCtn: "HCvNcHOVeeked_V9t1Z0U",
        BasicInfoCtn: "_1_-Y4ce-DafmjZHzwF7m8T",
        StepOneTitle: "_21SRBhOPkZKtZKQAbyO9W_",
      };
    },
    95821: (e) => {
      e.exports = {
        SectionContainer: "DPwXXwSbN_Xjxca7pl0o_",
        SaleSectionTitle: "jRz_cEMetJtN1JKpVSrv_",
        SaleSectionResizeButton: "J8r3M8lX-hMDrD_jApe1T",
        SaleSectionDesc: "_3LwmLWHA2YGDzLMQXwo9i",
        TileContainer: "_3miRjDumYLGynv1Nn7lkUt",
        ListEventEventSection: "_2uxMxaptnpEk3KLUw-4471",
        EventNameCtn: "YXjI3tITvCCJIT10CzKwy",
        EventName: "_1MeeJWoN5-iX-QlFD_3KAf",
        DatesCtn: "_1r5csMq9mLC5MbaBQCRO4E",
        EventDetailsCtn: "iajpgf9lb468JAuTxHZwj",
        CapsuleImg: "jrn9lDAVT6ncc1SvDWr1C",
        TopStatsCtn: "_1mhrsl5i4BKJcswusNF-Ub",
        FeaturedApps: "OfWnMzBeP0_WEadkOKes1",
        EventStats: "E5F7A-Sl_JZoQW8YbCktt",
        SaleDetails: "_1TNA21Q8xGpOoRqDgI_-VS",
        VisitorCount: "_22LLqIBATUUdrf9TjIbJTF",
        BasicStatsCtn: "_2pNPEeF24ujyIwQvfkeL2F",
        LinkCtn: "y7fEJKGaE_U-aFvfQKZZg",
        Spacer: "ST3282nIwiZE_98ZnMt69",
        NotVisibleDescription: "_2mKeP5DhWVItqwRx7MkIyQ",
        NotVisibleMessage: "_12IYhNE-Cnf_9j2C9ojWxW",
        WhyTooltip: "_3QkT85mhs0U06Ta4LSQmGm",
        ClanInfoRow: "_2OKJ2bv51LPBekwcdIBWsE",
        ClanInfoName: "QkmRbAOW1L6s_UOle6SU6",
        HoverCtn: "_1euONV-EbqzG6lUSSYkFvE",
        Avatar: "_1KgRK5gf5C3aAUqZ428Xap",
        ClanInfoContactInfo: "_11DcH9rlCSXiRk-S06OKqH",
        ClanInfoEmail: "_1NP0vRNuNpz5_lXhXyFcxT",
        BrowseLink: "_3isng9wpgfuQQEvHWp39UB",
      };
    },
    91477: (e) => {
      e.exports = {
        DetailedStats: "z2xIGpuWDXocYIrl4KJx3",
        DetailedStatsTopBar: "_3YStRmsQI809qGUWQ0WdOK",
        DetailedStatsTimestamp: "_1RMEXqkGu2vdlJNeCDatV5",
        TopBarSection: "_3cLfEQ35BtiOLMfSiWonTO",
        TopBarSectionName: "_3kYTwWKqpjb14PaU5AQPNN",
        TopBarSubSections: "_3h_MdEGT5GIQutARI687j7",
        TopBarSubSection: "_3i-Zjuwv2xzdXB6PrSctwE",
        SubSectionName: "C227Qf2CL8CDq3K2eFM3c",
        SubSectionValue: "_1zwRaVLume4l4uXoHCbC47",
        DetailedStatsSectionHeader: "_2ViSjwyjZNy2uhztuidBiX",
        SectionHeaderName: "_2mE1giK4Mr25lW9_es9nK0",
        SectionHeaderDescription: "_38FIWdYl_SzB2LoyHLd6GB",
        DetailedStatsRow: "_2Ca6mZIpcDr12junhfjewq",
        DetailedStatsRowHeader: "_3NUuyhO9pWNVO1B1ULUhc7",
        DetailedStatShort: "_2cAR33W4iUYYsH4274EzsD",
        DetailedStatLong: "_1WWxK1YXXOJIuEjSRYkzXx",
        DetailedStatsButton: "_2F8AJNrC1ZugSr712_iXUl",
        SaleDetailsTable: "_2fPU26z3JscPGgS-Hs9Q5n",
      };
    },
    97028: (e) => {
      e.exports = {
        AccessLog: "_3H6ey4oPTTSFT9R457CJ6E",
        AccessLogHeader: "_1qWNlN_Q4AbQPpTke3lX6E",
        AccessLogEntry: "_2e3poRbNgHtigt9E_3gXho",
        Name: "_2qrNOSYgExrgouavGekMlJ",
        Timestamp: "_3EUlYyC8kTjMybmlhNkNs8",
      };
    },
    18949: (e) => {
      e.exports = { SearchResults: "_3MD3z-ZmuI3BKmLDDS67RG" };
    },
    70452: (e) => {
      e.exports = { DefaultFancyTable: "_1rBAIP5Ht_L8jYiI_TbJgL" };
    },
    15527: (e) => {
      e.exports = {
        BroadcastPlayerLite: "SAxf3Rqn792kM6c4U_vx5",
        BroadcastPlayerLiteVideo: "yCd0zjymzfw3HkVm-1YwX",
        BroadcastContext: "_3TnYLKMweBMIC69qFU6OJj",
        BroadcastPlaceholderImg: "_3hxn99MT14hFUCrUp6zbsf",
      };
    },
    56420: (e) => {
      e.exports = {
        SnoozeContainer: "_1DsumfIa3MlkzUV9EXY5W9",
        SnoozeZ: "_2n0EiKMGRP-r_BI5tDtttu",
        none: "T3Fb5KTXwIHM2B-ThTvEs",
        Medium: "_1iYPlsChibPe7Ga9B3c5Wm",
        Large: "_3BESV4eFnr4EnaSaJSdk6T",
        Dim: "rpZ9bKyFXYvNQvgtKn5GV",
        Z1: "_2hnF3M_l4xdIdQ4CkN7LYB",
        Z2: "VmQTOrz5MPOWte5C9K7YS",
        Z3: "_29mtadjX8N6pRn5TX1nA0o",
        hoverParent: "_3-8cByP2koYzHwgZqjvFA",
        animating: "_2rXc7hLg6bohWZ-JpRcYEB",
        Snoring: "_38wIVgo1WjvGqL5ZsmpmiX",
      };
    },
    18828: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        statusAndName: "_4ZTzGZ5TTgFyfw1DcXLXS",
        threeLines: "_1oYSXGjBe7QctQ1ikLpCMm",
        blocked: "VTxPkslK1CSpKNFMgKg7d",
        richPresenceLabel: "_2Ri005Wg_uXDTa71kdRbcN",
        playerName: "nOdcT-MoOaXGePXLyPe0H",
        playerNickname: "_2saJTAocZ9TnYXTGvnqUMC",
        DisableColoring: "_3oDmKGyTBBm7i4DULjwYcC",
        playerNicknameBracket: "_3XEmWmfQy7gbYJ4KJ1N9tp",
        richPresenceContainer: "_3sxE7F1LV2IcSX68YsH9dI",
        gameName: "_1cB0qtF0paHWWyj1XNcnbG",
        NoMask: "_2dAj6KfWRAxoYPr6tgXd6t",
        twoLine: "_1BbOegz8bYL7iPzgYpOgQI",
        DNDContainer: "_3IswZMeeD6ORStUjgv6Xh8",
        partyBeaconJoin: "_3BnDsXrefFJrt_8frF2wvB",
        hidePersona: "_3ZJkOzmqed_i-p74uF3hus",
        compactView: "_3bbRZyUiK-bfc5Qov6xukI",
        noContextMenu: "_1JE5G7_FNm2SRDEEnOWMVv",
        gameIsPrivateIcon: "_2gBKQXiTBLjeVVaqvc5QVh",
        PendingPersona: "_2sxXnGfkPxNgR6Lk1-SmfQ",
      };
    },
    70342: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        PersonaStatusIcon: "KxAI_M9gWx3OnKSshHOs6",
        MobilePhoneIcon: "_1iRFj5lJrMqMnRb3GZYPSw",
        SteamDeckIcon: "_2oLqcfqHHKKAK0WfzjXMg_",
        VRIcon: "_368tz9TSOLGiG2mNMLScMz",
      };
    },
    43047: (e) => {
      e.exports = {
        avatarHolder: "nibodjvvrm86uCfnnAn4g",
        avatarStatus: "_3xUpb5DWXPFNcHHIcv-9pe",
        avatar: "_3h-QRJGxnVOIExtHD1R0f2",
        avatarFrame: "X_mJE4BYV5StDPwZhSiAu",
        avatarFrameImg: "_3fM0F85j3aWVzr4RJM9-eu",
      };
    },
    19418: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Picker: "tid_OE5NJWCCVJQP1PfRc",
        Tabs: "_1yVkTX9Mo_7qb2sxWhM0Cr",
        Tab: "_2CJ0LpiSgVs2JuTlwbzBM",
        Focus: "_1xH5si_KorJpS4ST2Geksh",
        TabContent: "_1mROo5bpUJSg8D8ILx7qpw",
        Active: "_1ddEQAfz6GuVRSEqk-d0r",
        Content: "dUQIH8Qg80N6kjB8UQO0P",
        ItemList: "_2OWGRbhpXNcuR3oih9IGrX",
        Item: "_1SFqyFzFrpPOEAKCrq2kKZ",
        SectionedPageTitle: "ZmsElITvVzU-7a2HXKBZI",
        SectionTitle: "_3WuFl419BivPeLqeVIC939",
        FilterInputContainer: "EuFePPYFGrcf99uLXmBYN",
        FilterInput: "_2l4z-U60lABvd9XWArGjAf",
        AddonPickerMessage: "_2wUk7QR9TZiiKB4bX_9EgD",
      };
    },
    99312: (e) => {
      e.exports = {
        DragTarget: "_2sUvh2ZpsDAw1xNqgRBELg",
        DragOnTopOfMe: "_1mvpIyLL0-Pd4QMIoRXHtu",
        DescriptionCtn: "_3DQEBNkYGY3hyLFAjhtq7V",
        EventEditorLinkInput: "_25nbuIEmk-BBWxsSvWGG1n",
        DefaultEditor: "NENu2K19GJmLf1Asga-WF",
        ImportHTMLCtn: "_3sVZHF23hli8ijIwtMs8oU",
        ImportHTMLTextArea: "DHbRFUDVAeXGluFH-smoE",
        ImportHTMLConvertButtons: "lnyZaHhcGtBzDU0SMlFd1",
        ImportHTMLCheckBoxLine: "_3R3FNRLSeiOwBgELGjSPbz",
        OptionRow: "_2Y3MLEmGvWMI8BoNZgCllJ",
        TextEditorToolBarContainer: "_2bOpQtX5QAuQxfGhEJ_iYg",
        EmoteOuter: "_1x3UOXJkizqKhkssRfFjSS",
        YouTubeInput: "_3WXTC22teDkm8BMc01ZTLA",
        YouTubePreviewInsertOption: "_6ocliVvrdQxHPu-upv6-s",
        DropDownScroll: "P0-tbY3743fHY8SAzfF6b",
        InsertSpeakerCtn: "_2f-6Yv5h7xjUcZCrepnQhg",
        TitleGroup: "_1ddLhT39tQNuR4ljq6Nfg5",
        AssociateRowCtn: "_2HeY5m9J-kxRVzGn8dAwv5",
        PhotoCtn: "_2-f4CX_EyXfhRUmPdIey4w",
        AboutCtn: "_3hF9cNUOsfV0BkzEaWn7FM",
        PreviewCtn: "_VCRyh7nyN-2xDV6yH6Sg",
        BBCodeEditorInputStyles: "F506h2OVFDcZeXFtyqthY",
      };
    },
    34510: (e) => {
      e.exports = {
        BBCode_Toggle: "_3dX8-PpYvSNsGv4k5lvP-R",
        Active: "_2vTzhbuJFb9_vHvquo2L-L",
        BBCode: "_1pH9CKzm5VpicOgzyWpsy_",
      };
    },
    64233: (e) => {
      e.exports = { Image: "_1po_jxHTSix3Li3w5ZnMBB" };
    },
    90024: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        chatEntryControls: "_3Ule3rolhZJiBN4yNNtk1s",
        chatTextarea: "_113iuw_HlE_qSgt9cGWCSv",
        chatEntryActionsGroup: "_2WfNoLBdfKwyutA6ho4aSH",
        chatEntryActionsContainer: "W0OhkJtz8zMUW8Mhu0BMO",
        minHeightZero: "_2zeehYTQ2oNY7TvjqGC_gL",
        chatSubmitButton: "RVIs84dAE6wHcjH9tkinc",
        EmbedButton: "_3zOBeq5W4cNK3lRz_7aroW",
        EmoticonPickerButton: "Aupswi7-c-w3XwNO5cp2i",
        disabled: "jaQN2IyN4P8LZXJ6P11qy",
        Inactive: "_3G-I9qj7vqOe6SOFG27ohD",
        AudioLines: "IWabakUFeIH_d5rhBZ6dG",
        Active: "_37tPtXtV-sv9XgDHjS2cnj",
      };
    },
    39362: (e) => {
      e.exports = { Ctn: "_1xGaMOW4aakB5uwqOCT3nI" };
    },
    49333: (e) => {
      e.exports = {
        UploadPreviewContainer: "CCBFyy2uP4GNSQGfe2T1L",
        SVGIcon_Video: "_2Fs53eUCdV8xsO83Jc40DH",
        UploadPreview: "_1cXUbzBtV9qFc_63x_j2F2",
        FileUploadFileName: "_21dZgGfG0xtybuVTE6nCv0",
        FileUploadCancel: "rFDt7lDfNBv3BUjppBm9i",
        SVGIcon_X_Line: "_1H7hrp21ukrcZyCAzv9Oc1",
        FileUploadBtn: "_2FFH3ZhSGGItb8Z61CSGfe",
        FileUploadProgressContainer: "_1UobbffXVmx8rwsOHYeNb5",
        FileUploadProgressBarContainer: "tFbvGbecHSHr8P3EdINV-",
        FileUploadProgressName: "_288RbRaiLR6h9q5sWoD2eC",
      };
    },
    8743: (e) => {
      e.exports = {
        ArtPreview: "_3793xvP87t1rZYbAQDC1pG",
        ArtNoArt: "_3WxfzmFYwb-rh8sn5VMFMl",
      };
    },
    70646: (e) => {
      e.exports = {
        NewEmoticonIndicator: "_3O2gRFANfKKg3mYONXvlcL",
        NewEmoticonCircle: "JRMFrrhowzfdWhJcPIMB1",
        EmoticonSelector: "_1_1QI6qRSlB5SDDnagoV5j",
        emoticon: "AB86vEzEKPL0y5fK_m4pT",
        large: "_4xBaTT5razIZJ5CecJ7s9",
        EmoticonSelector_Emoticons: "XWWY6XX9jHFGKPn7b1-PH",
        EmoticonSelector_Separator: "_2rvMUWTGDDCOa1i9w3vGor",
        EmoticonSelector_SeparatorBackground: "_3_kYchhn19OZ8ClWnlvpFy",
        EmoticonSelector_Controls: "_2cdkFMkQC0EsD9BuCmMauN",
        EmoticonSelector_Item: "_2C8r7RcyTuBVZCJmaoQx_N",
        EmoticonSelector_Item_New: "_1vWJHaLfUABGrsiiY4ubmI",
        EffectHeading: "_2-uNY5pp8tdsmuvnE1mHf2",
        StickerHeading: "_3-4KSMO-yuBSbJzVCdeAbk",
        GetFestive: "_1tX6qGX09u4sZIv2e2UAi1",
        TopDivider: "_2A8FlIBZPAgoEmflXSEbEN",
        BottomDivider: "_2IZ1KVJ-9W5aK6VFegHBqF",
        StickerButton: "_3Wc3jBAd8xYHu8EUsa93VY",
        EffectButton: "nnnSnQuyFsNqDmaSxknlB",
        EmoticonHover: "_36iQ4zr5AiMWVmmiHee0mN",
        Info: "_1EGMuGj8BnVwY9FY_hre1R",
        Name: "_1AncwmbW9wMCUYJFht59NF",
        AppName: "_335w0RQ7aldGlE8E-fqm82",
        StickerHoverSticker: "_2VN79s9aYNt-l_v5Jyv4Xj",
        EffectHoverEffect: "_3ngRvhpTH9vbu5JeIB2iT6",
        PickerTab: "_3JpKJFAvvDJ0Js0f3-arto",
        Clock: "_2osi8r23eZgeNkWUaot-Vz",
        EmoticonItem: "gZL645YbPyHbNeh1a3zfX",
      };
    },
    79786: (e) => {
      e.exports = {
        Emoticon_Toggle: "Y5J3nttqNZsLax6MbnH-L",
        Active: "YCbwLzK9cJ7QissjKq11n",
        Emoticon: "_2o57_fRPxv5_x6BkjL_cgc",
      };
    },
    17618: (e) => {
      e.exports = {
        ImagesOuterContainer: "_3A8RGZO2pwg1yKDAdFqp9r",
        Hilight: "_1v_zQLXgFsvon1SwxrWjE-",
        ImageContainer: "_2ti3yMwzfkGoiW68FuNjTG",
        Image: "y902_9A0Wj5bTshbt4xRb",
        ImageFilename: "_2jzLZXXxgDMMcA9X0QDSdg",
      };
    },
    39978: (e) => {
      e.exports = {
        sketchfab_play_overlay_image: "j_bDCIOMLFNOKaIFJzk2_",
        sketchfabmodelembedded: "_1hkVJ0EfOR3lTom2cDAN4w",
        dynamiclink_box: "_2OrALNR-dII7L3YP3pXWBG",
        dynamiclink_preview: "_3__9JYEkVlbq76JT_4TByA",
        dynamiclink_content: "_2ocugWm5DDJzRPwAxIsCtq",
        dynamiclink_name: "_3a1nw-REuLvtrUfFX3lonG",
        dynamiclink_type: "_31hqFGM_Of2_4xkXfb8TtV",
        dynamiclink_author: "_13lYjZu0VIgol2-cHgw8vK",
      };
    },
    64502: (e) => {
      e.exports = { AppSummaryWidgetCtn: "_1-2t1NI3qbO2JgWmCss7AW" };
    },
    37768: (e) => {
      e.exports = {
        SearchResults: "_1ZSuk1trnTRF3290XhOiiv",
        SmallText: "_3KfJIWWHAYunAZwOr895l-",
      };
    },
    88336: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        strWidescreenWidth: "1600px",
        strMidscreenWidth: "940px",
        strPhoneWidth: "768px",
        FacetedBrowseInnerCtn: "_3vjDu6zylspBzUE7FmM6Yl",
        FacetedBrowseControls: "_1JM3A81UO1KoAFlVTA3a8O",
        FacetList: "_3XVd2muqXLYd2dNJEe3Xyj",
        FacetMenuTitle: "_2HmeH7CKXh-UZS3UgKQ9DL",
        FacetedBrowseMatchCount: "_3_OwRHMdhLqzhaZ9Y0aSlK",
        FacetedBrowseReset: "_3jRGARq9XRw0uVd6lwd8E8",
        Facet: "Qa8BXBnhFcu7QgSy5RqD",
        FacetTitleCtn: "lDWZOvvYt_I38AKpMGNoE",
        FacetTitle: "_3Jg7mwjxVKjnATI6MUQiGK",
        FacetValue: "_12piyDV8d50GcK-wlEd3fy",
        FacetValueEnabled: "TZdshfRox53mYuERxC510",
        FacetValueDeactivated: "_2OE4sA183JjLeguru8dVfj",
        FacetValueName: "_2uSEnLjFPyX4-yugJ6ZaEt",
        FacetValueDescription: "_1inQ19muJm6rBJWJNHyPSx",
        FacetValueShowMore: "_2b0ptP1NNBI0nXI0jsLlSO",
        FacetedBrowseItems: "_3EdZTDIisUpowxwm6uJ7Iq",
        FacetedBrowsePopupCtn: "_24dqXeaCgVvEZiayDaTquu",
        FacetedBrowsePopupLabel: "zux_uSpUKU26Qnmh3MlFz",
        FacetedBrowsePopup: "_2FEDs7kEuJtGGf36_PiaGZ",
        FacetedBrowseFeedbackLink: "rpvzDfG6xbJVPUwzI49cl",
        FacetValuePriceSlider: "FdYHbkrRE4XLP9tzEWPzZ",
        SelectedFacetValuesTitle: "_2zYJo5ygwHplvJw4wZI5ly",
        SelectedFacetValuesList: "T2laXwxJLS6qZ1Ko0q0Db",
        SelectedFacetValueCtn: "_2XgkK2m_01lZYUuqv34NBt",
        FacetValueSearch: "_3-lHtLWJ9p9OkKHzA4E5J",
      };
    },
    52724: (e) => {
      e.exports = {
        HorizontalScrollInDragForceCursor: "_2kFhNSS_ljPFFh8GXnC0to",
      };
    },
    92543: (e) => {
      e.exports = {
        ArtworkDimensionTooSmall: "_1m0PpUctuGTw-Jma50hi2v",
        UploadPreviewCtn: "_34UWtR_ugfBbP2GT9UNyZB",
        UploadPreviewButtonsCtn: "_3rKybFjcU5JGIfziRxbuNt",
        UploadPreviewDelete: "_260mOfOKtRiiYz6UiaZS_w",
        UploadPreviewButton: "_19Fl6VCN7JZgGShsQY_p95",
        UploadPreviewError: "_14nIWrGmXJICEe4YEEcdWS",
        UploadPreviewWarning: "_13jPeHck1h76bmmxJ-csvw",
        UploadPreview: "mOxVUSRnTr3nIwMW_T0fY",
        PreviewImgCtn: "_1gWyQDmPFiSh-p1BD5TC1k",
        PreviewImgInfo: "_15NFxbc1Jv0dEJJpjDrtri",
      };
    },
    71647: (e) => {
      e.exports = {
        DragAndDropContainer: "_2RL1a79W53-tCW7090DcUp",
        DragAndDropContainerDragging: "wn604fTvW5SH1o852jAnI",
        ImageUploadBar: "_2Zk7b2c_FLMvZPqYvzTzt5",
        SelectImageButton: "_3Cd9cpywFS-01PilCrgOQo",
      };
    },
    65835: (e) => {
      e.exports = { Ctn: "_2L6sVk9vOgKcXO6DgZHpJ9" };
    },
    3246: (e) => {
      e.exports = {
        SpeakerOuter: "_3rRqPJdGrYx9YMtQMciIFY",
        Speaker: "_3F7-FkJu8-JstT7SouP8XJ",
        SpeakerPopup: "_3y7kVhhGmtbSgbZdte0EuV",
        SpeakerInfoOuter: "_1NC9nn23Pdd7FtZW6zM7he",
        SpeakerInfoInner: "_1bMpEcCbkVkKo1Oc02WFoJ",
        SpeakerTitle: "_2Vo0lUG19xIopljkxhtSod",
        SpeakerBio: "_2yP7s2N28D9PFHs9yUr3jD",
        SpeakerHover: "_16UyHpAXG98qQsfN8mBk3x",
      };
    },
    11833: (e) => {
      e.exports = {
        ApprovalRequiredCtn: "_2pKjCSfT0Aa7Wx8_VoNJzc",
        PendingApproval: "_27C9CXtP6vYFYNpAhDJciM",
        Approved: "_2W3o61eSl990XjaneBlzaE",
        PublishWithRestrictions: "_32dufkQ3fNn_8sJusL-nd_",
        Right: "_2lUXdTnEBjAXrbGOs8rZVb",
        Title: "Oc0UNBEG4L2poFTcpQzwx",
        RequireText: "OZlfJDOJer5NjUxcJJf7Z",
      };
    },
    87736: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        narrowWidth: "500px",
        SaleItemBrowserContainer: "_18byEIHFiivSklOwKqIx2b",
        SaleItemBrowserHeaderContainer: "_1edLKYpcJyTYC7ku9fYI1_",
        SaleItemBrowserHeader: "Eh-ow8RpArn1HQyPR8RFY",
        FlavorLabel: "KDLASaMCaASZ6LnF3kQY8",
        SelectedFlavor: "qYruXlm9Lip3i2lmnsxum",
        SuggestContainer: "_1YWp1WOcTPesvO2Yp5SuOA",
        Debug: "_1MGr0XISx00Rhmq-im9N42",
        EmptyResults: "_3U-cq3FxCNFcRt2r3vettM",
        ShowContentsContainer: "_36qA-3ePJIusV1oKLQep-w",
        Loading: "nXk7R_GTBNslmTYgEnyjh",
        ShowContentsButton: "_2tkiJ4VfEdI9kq1agjZyNz",
        ResetItemsCtn: "_3qMdRTPEpLgg7Pm_WClAOY",
        ResetItems: "wSIzdwbMsNzmPcwFcw8FX",
        SaleItemBrowserDebug: "VCp1R1uXN0omRZyK1-iX7",
        ShowHideLink: "_3B9LYbPvIJCyaoTLDAL83n",
        QueryTerm: "_3qC2vrNpgJjfzDrkysII0q",
        Name: "_3G6UxIJ7FZVBIRxqDPtK2l",
        WGTesterLink: "_3SHhZFzZm_ZJ39MEcrzKmf",
      };
    },
    37341: (e) => {
      e.exports = {
        CheckMark: "_2RwDkHMoOnosJANzYXpE",
        DialogCtn: "_1un0dZktOVEKH7zzpSTtoF",
        EquipCtn: "_1zUv_m9l3wknw_k_rwz0uy",
      };
    },
    15392: (e) => {
      e.exports = {
        Link: "-HlDBB290kjpl61uUmRed",
        Banner: "_2bT8irkKNnA5sxFG3MUXzH",
        Big: "sGy-bB7uqEt4Hoe7U5iA1",
        Mobile: "mhii5hgMCQvO2tXOUdWPQ",
      };
    },
    26323: (e) => {
      e.exports = {
        Dummy: "_3xTWQPntvW4ZC3wLrEh4Tk",
        Exhausted: "_3aOQ0Sjc2wuN64fXK8NrTX",
      };
    },
    66285: (e) => {
      e.exports = {
        GhostCtn: "_3Kh2xkNOxK9yAzjUL6Ivgx",
        PlaceholderCap: "w8Jvjch8aFrIUAv0SH561",
        GhostShine: "_2BHrUiVJgb5paKR9HDuFry",
        PlaceholderBox: "_3xK5GjRYJTY1N5bjbocIm9",
        ShineCtn: "cI9gcyxQOApga-GXz7_V4",
        PlaceholderVideo: "_26iPLXluGpPw4W-coLs883",
        CapsuleRow3: "_3K3QSflZnf6fPmoBKqoGjc",
        CapsuleRow4: "_1gEPGVsJ0bb_BL9C4YvFNv",
        CapsuleRowSuperCapsule: "_3zJewh51IljAQRz-6OMdOB",
        ItemBrowserCapsule: "_2fHvxv3mZQin5_2wB2xfmg",
        CapsuleRow23: "_3Zk9eQFgRurzIIkTvIMxHW",
        CapRow: "dGk0hxulznq7MwRweW94h",
        Caps2: "_1uECvRdcT_yaRni_AEsObF",
        Caps3: "QU4kidgDKJx_jDfEquNmT",
        CapsuleRow234: "_2V6zSuL6-efjUwNCdSspJk",
        Caps4: "_3xqTH8e1tUBIai3kdvgahn",
        SpotlightsRow: "_3_FBxHpnwok2YRFmtASM5I",
        DailyDealsColumn: "_1Rudow4oFWhnDbqnzJ0nuM",
        EventRow: "_1jEY56Mb_K-eNOlOZ2ayy0",
        PlaceholderGroupImage: "_1RRbToD4zek6vvdq8pajSX",
        DetailsPlaceholder: "_2SrANXbyCGZNaPRuc1diKT",
        PlaceholderTitle: "BryzNsBYLnALstxxAzdwn",
        PlaceholderSubtitle: "_1rI86EQqPtdjPy7CDjcWE3",
        PlaceholderButtons: "aHFZOytk7I6xyF53cX0Iz",
        TrailerCarouselRow: "_2riTESHkYgpUJmljZgTq8l",
        VideoPlaceholder: "vcMMLd9fIq4BaswR6HQQ9",
        ItemDescPlaceholer: "_1kdJAyCv00MWHDn5rzbV2I",
        ExpandedItemRow: "_2OtITqwZfhmZb03KpQTBlh",
        CapsulePlaceholder: "YPF1eKQQ3Eb-CUIZR3Fpm",
        ItemDefPlaceholder: "_1rbaHDESwlAUrD1J-2EZpa",
        MainCapRow: "_4USkr2F0D76zPrDAKe8tZ",
        PlaceholderRelease: "_3kqq8V4VYQWX0MTcaWruTa",
        PlaceholderReviews: "_1TQDb8Ui8AuVqTFeIQHC8J",
        PlaceholderTags: "_2I6t8VQXDbATmaOzp9jRzk",
      };
    },
    46745: (e) => {
      e.exports = {
        SectionLabelCtn: "v7Xo47-E5cR6b-rvcmp-H",
        SectionLabelRight: "_3Vww38pO7uZXdih9MxhSkH",
        SectionLabelLinkButton: "_2DdLjM_1-DDJlVf9qhMXB3",
        SectionTitleInnerCtn: "_2s_hQYvfnrZrKaBO-URg89",
      };
    },
    7716: (e) => {
      e.exports = {
        Ctn: "_1cKuIWVnzQyoBqcjbmQej8",
        DetailText: "ur8Kb4QFgfep75jIe6Cdz",
        RewardText: "_1sTpucKBB_H5jsSx1uDFGS",
        PostText: "_15_aOIWD_1U_J_zwCK1U1Q",
        ImgFullBagde: "_1ZBOVc-VGXMnDpiwyh7ju4",
      };
    },
    19432: (e) => {
      e.exports = { BroadcastCtn: "_3HRa-mVPX65qnntN2DS0xc" };
    },
    91640: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "_3kTQIYYiQiVR_DeJepkOwJ",
        Body: "_2s393FLIe2l5quVJHoS53K",
        HeaderBlock: "X9bYNT3rKpg6L1Cgq45pG",
        Background: "_1xwi06sEKXpwIpZcgHle_h",
        DimBackground: "_2N55HNCo3jLIzL6RNNlRUo",
        Input: "_1BUtyMrOPfXVpnfK-Z5OnA",
        CopyContainer: "_1HjkZ3ooQw-4TV518YPtvp",
        Text: "_1ehqRyqgPLFNoFwFifHPPR",
        Link: "_18Sc08YQfmAIVx8H1h8A1V",
        Button: "_2772E6skxrFIemLRdp0EKv",
        GenerateLinkButton: "T52tUwptWdakIKgaAVn3i",
        ProfileCard: "_28a_CNvDls7VgWoPW2-9Kz",
        UserContainer: "_29w-2Eb_kk-viSqGW8RTn2",
        Image: "_1n4lDOfOQzOhvshIPt1UWT",
        ProfileContent: "_1qz9xLw5YttjO8gVfuMwS",
        ProfileLink: "_1tEt0fYckNbFAqGLEfrsfj",
        Failure: "UoMCo-OvninFBFozRomeh",
        Success: "zNkywkFbUJio86FBwBWwx",
        FriendCodeSelector: "_3nmSpgo_T_V0-Er7h8J2Ar",
        SendInviteButton: "kcAlkPA1uhcWs_5eatvVd",
      };
    },
    81315: (e) => {
      e.exports = {
        LinkRegionDragBox: "Rtlc-BB1aJFRIM1lH4zN1",
        EdgeDown: "i9zrHPy0-LgZONeZE4fgG",
        LinkRegionGridBox: "_1Ob4AvWwUMx67yR7owjqse",
        LinkRegionEdge: "_2stP4WlwIxd0-9GjYyI7vF",
        TopLeft: "Clgi---P85XXv25yLZwB0",
        Top: "_2Z9VyBAzofV3JvK__dECbX",
        TopRight: "_2-8DbI8PAEkk6i_0CoUeKM",
        Left: "_3ZwUw4ojIRguwHHAcn2Y4y",
        Middle: "_1HecozzoSZfUZSci9dLkxN",
        LinkRegionDelete: "_3Hb3w5_ECwPKcEr5QSAsNk",
        LinkRegionSettings: "VazMl4niFnodlVJhHIGlL",
        Right: "_3h5fKwHq9Uj2VGs8qxxtLl",
        BottomLeft: "_2CQe0cOBOLqq6y6KAUXqH3",
        Bottom: "sIHlK9sN2255-irERXD_V",
        BottomRight: "_3lnwjSWK9Gh1dFkD46NTpP",
        topleft: "_3W096h6Ka6U7sOZVa9lXQo",
        top: "_1iRW1Msfh60zHqD-xe4EAk",
        topright: "_1Yrl7AkNVVGwbM2vyL8yY1",
        left: "_2iBrmAEyXuaKAeZ-g-4CPF",
        right: "_15t6A4l27DY4KRL1aAUTTS",
        bottomleft: "_3SdBcnCBApw0fQ886qgsUx",
        bottom: "_2kzZ9Ilwo92sEI9LXTtZjN",
        bottomright: "_2AKXkFPsIBpG-HeeN58Rti",
        middle: "_1CS75ZrrDXna6xatw5ZvPR",
        LinkRegionButtonContainer: "_1ZJ42NPmBFvIcOai51ZKv3",
        DialogButton: "nN2Q1qGmO2BGMhVnIVMce",
        LinkRegionInfo: "_3TiV7d40PX30wy8UghFCaJ",
        LinkText: "_2TAc2iPcWUHTtwlg7urHv8",
      };
    },
    96471: (e) => {
      e.exports = {
        Label: "_1LhItwhLHspVcQdfcbd2Sg",
        ImportLocSampleButtonCtn: "D-1dlROLVuva-sb6tFgwU",
        SampleTitle: "_9189ilzQ3YES-a-6DyBhR",
        ImportButton: "WyfyxbGrKQq8cKMK5kfxE",
      };
    },
    40594: (e) => {
      e.exports = {
        ProgressBar: "_3szjUMH5QeRwtXAsLRcWt9",
        AnimateProgress: "_3DjdoQj5NoknowwV5t5JPN",
        loadingBarAnim: "_2SA1xV5w3BGirkDWosGYoX",
        Indeterminate: "_3G7KLhFOuTiHW-fGxtWtRs",
        Circular: "_3wMS41OoTPnZyEddTVwzy_",
        Full: "_3t_UEZDy1QxxcYfn3TTvD2",
      };
    },
    82062: (e) => {
      e.exports = { SearchResults: "_1roMuz15pxKZcGYgASP5xg" };
    },
    61088: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppCarouselTrailerCtn: "_2DzJ9TSrYmyo1tY_R-1jym",
        AutoplayCheckbox: "ZZgGaqlJvV83f4CYl3O3N",
        AppVideo: "_3sG-J5T8SrzM0Hjkda7sgL",
        Microtrailer: "_24GFDabY2zeyuzhvACpldO",
        PlayFullTrailer: "_115ZF6m0XsEieocbL7zjo-",
        "microtrailer-trans-out": "HMoi7fPFNjxiHeyrfkgmO",
        PlayMicrotrailer: "_2edFDJ0B9YjtlfqugPTxw0",
        "microtrailer-trans-in": "_3D_pgT8sxFP3ieDxVt_1zp",
        NoTrailer: "WtSN6aaEz7vEnRjVrq2hS",
        Trailer: "_1_z8vE2vYRzSyf1HQIcm5O",
        "trailer-trans-in": "_3kp7PkbzSVQPFoobA3Xx7N",
        AppMainCap: "_3cc6kgsSpd-DeLRDHEM_lD",
        AppMainCapFadeIn: "_2tGHq2pbqmrGJVCXoN5f0r",
        PlayButton: "_1y11BvPq_nL5EZFF8GLuD9",
        PlayButtonCapFadeIn: "_3Nk6pNRuMCIddyuE9mWS55",
        AutoplayCheckboxCtn: "_2HvO_RKtxiyyhZsELjYyq5",
        "capsule-trans-out": "hckHU2LXCJNx0X37OqCsx",
      };
    },
    71477: (e) => {
      e.exports = {
        DiscoveryQueueWidgetCtn: "_3Y72HgnTA3W9eV4Z5OBvWt",
        WidgetHeaderCtn: "_2-tz2hqtOXPPtMnVPHNSdx",
        LaunchAction: "xD8XE561L4OLHkp9K3UIV",
        AppCarouselPosition: "_1-LJHJRsteRD-MMTkV3euH",
        Initialized: "_3s4Iu4fpr4clYfkpaXEOXd",
        Spinner: "_3I6-9MDGeV0lFzgJn25TgG",
        AppCarouselCtn: "_1ab2u-OsAo8k_KM9vpvoCE",
        FadeIn: "_1z7iQxGll4hgW0TGB2pP-n",
        WidgetHeaderText: "_1mKVZY4-l46AZiZvctCEmx",
        WidgetHeaderSubText: "O2jA-VCFl9bmblncfI4k2",
        AppCapsuleCtn: "_37pAaTBY_oYZSI6lv8SuU5",
        LibraryImage: "_3D933A3S26z4EtK8t_LETk",
        CapsuleColumn: "_31tM5M2eLC43W6kBYfVmwn",
        AppName: "_3RZNatcCUyIOavmOweW6L9",
        LoginButton: "_3u1HeR7JRPiiuKIT78j2Cc",
        Placeholder: "_3qFL88r7vVtG3lg2enLhfi",
        SaleTopSection: "_3Xj9phC0S8zL6qrQ5T1sUJ",
        StickerArrangement: "_1hvmhK7qgdrqLwH_Duphah",
        SaleSticker: "_19psoPSyaHlg76v5Cd9H-n",
        SaleTextCtn: "cwQNGPoPuJS67rykUgZdU",
        BoldText: "_1LS-qczKUuqKzg56ll_C0A",
      };
    },
    57834: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_2u0N2gUX44_tavazJJb_QP",
        TextLink: "_3ZdNCUMz9KZMkwPZlO8zmi",
        DiscoveryQueueApp: "_1xJSMubUWBlahkrtb4IFTc",
        DiscoveryQueueWrapper: "_2BYaxM7mBfooJbZYzhEv4D",
        revealDiscoveryQueueWrapper: "brzQbY6Z8TH8Ww-rFL4E0",
        DiscoveryQueueItemsCtn: "_3q6eNRFBrPSFSGEn8uRFZ3",
        DiscoveryQueueItemPositioner: "_16tdfw6vxg9Hdy0KfCutXn",
        Selected: "_2aeAhZ2Y99YIR2-zD6l27U",
        InRange: "_1XPIeNMxObbkYolTEj0Bwh",
        Dragging: "_3fTO0TgoWEAo4zdaHOCTh0",
        FarLeft: "vkLp1smRjDnZg7XQcMqjk",
        Left: "_3gBoKuhIxMBjlxU7FZ2L3a",
        Current: "_2CgJDPFhM9rbjsq9n0c9I_",
        Right: "_1AGP_wKeaN9phzlq_2K9H7",
        FarRight: "hBGRzfrW2Obp7QpzYCi2L",
        AppDetailsCtn: "_2Zwt2P5vy4W9Ha5ePOv54U",
        AppDetailsCtnTop: "_3TkhdqIi1gqwMzexQDS8Ab",
        CapsuleLink: "_2m8YEKXvKa2bcFNjqXdJu7",
        AppLibraryHero: "_uGgOnTsOzgIVK9BHMTUV",
        AppHeader: "Vwr5XZLr5tOEaVLYbj1mZ",
        RightColumn: "VVNgZo2T-rubrTvNMPSoh",
        AppName: "_3lk6f1XI_loCIhBevOddHP",
        AppTagsCtn: "xXcRKEuacDG8kYtDXu6OH",
        TagEntry: "xmqBa8sZa4Xhgktfr43Uh",
        AppReviews: "_2alBMAZOarIyf-vIiNazRg",
        RelevantCtn: "_3sfhS6SCV1q8dTaRIpWCHB",
        RelevantColumn: "Ne2AhbYmPfTxwJVmj1FZP",
        RelevantItem: "_2OUHZGUrr0FugrwCwIm6dF",
        RelevantCheck: "_1BOH1zFTOxtlgKkeEANpYO",
        IgnoreLink: "fir3UBZYT6EAmdYWAdr3a",
        AppActionButtonsCtn: "_2IQHDn5ZvlB1ThhSb_lhX",
        AppActionJustButtonsCtn: "duAyQ1rUX78lMmmZY1V0n",
        QueueButton: "_22Bfzcdg2l-RQEn-qKSIol",
        ButtonsRowWrap: "_1plvU4aLu4hq22gYwThZnH",
        IgnoredCtn: "_3G1MYmgXVcweTUK5jtU_Ft",
        Active: "_2D_EZlAEopCvqU0_w21FdH",
        IgnoredInfo: "_2j-elz350f4ndxI9CBUbyW",
        IgnoredTitle: "_18alvCecAAMAsyM_6zCY2T",
        IgnoredDescription: "CmI-HxKbBH8PjoSk7IVPC",
        UndoIgnoreButton: "_2E3PfDDIiiKoy4iDQV7Ewl",
        AppDesc: "_3-6CubUJWYN2tbKvwS2N9n",
        YGlyph: "_3ncywKLa2mgKgbsj-g2wJi",
        SummaryContentCtn: "Tvu6zAI3kbdYjGQGbypuQ",
        SummaryTitle: "_2o4_HDWD3bRMkoJT4RfiMv",
        YourStats: "_3-iD7yn2dCmqp9AL5xuwLX",
        SummaryGrid: "_3vRcTzxpTSFxcxVm9BKrlQ",
        GridItem: "_2w3xjuBZIgZJPO9HAa5Hb0",
        GridTitle: "_7HEa84jCz03LkGTjIZa7c",
        GridNumber: "jM11lU9OD9-2Hlu3Akwtj",
        GridSubTitle: "_2n8wa2hMCjKHhvMsS0v3_k",
        SummaryActionButtonsCtn: "nqmYD9sGBA3BEmNjp6qYF",
        TopBarCtn: "_1ewUwegRciiNydBWSQRCX-",
        LearnMoreLink: "CiFk6OuYAQSbv_DGXoBSX",
        ControlsCtn: "_2Gy72TJcKqY9gqP5-TAmSk",
        Disabled: "_2xsPifNspMLcbkoUSA5Ujl",
        Primary: "_3o2jhEGrGiVndMjUbNpOw-",
        Launch: "_3SOZx68qVakLwDvAYBOPMG",
        Wide: "_1tFfTbcTKjlfSGsMOJvdf_",
        QueueNavArrow: "_2sZ7DAljYV5Xd-nbhtlmyM",
        Enable: "_2CTzbHZ-C-FfnXEtLZPv9q",
        RightArrow: "_30_0NBq3DkV-qL7Eyqva-t",
        LeftArrow: "_36Cln2gIYtwR3sPPcOi9bT",
        ReleventSimilarAppsCtn: "_2akaWEht7jMXdxPJFmf3WN",
        RecommendingCuratorsCtn: "_RZQ6JnUY6lQGmRcgHFNA",
        AppRelevanceCtn: "_367qBdIRU4xAYHt5cqhPVa",
        WhyRelevant: "_29ReJunMtLbnxbnixF6VdE",
        SimilarAppCtn: "_2fNR47HGs7tI_v1HC2-N1h",
        SimilarAppImg: "_1q8mEyt8Rp7JweHMRGm6hq",
        SimilarAppText: "YWLoeGgBPsjUtXywol3_O",
        FriendAvatarsCtn: "_2hxko0SvUWCZ30U4JH4TNn",
        RelevantTextBold: "_1Z_ek2XNBZbkZqyR-QSwlo",
        AppDescription: "_2mksBeuafFs1CMp0t5Z9gX",
        TradingCardCtn: "_13ZcoCKc8H09LSHp4C197Z",
        TradingCardImage: "_2ZB_x5Jq7JGDapJVPsCZTo",
        Bold: "_2P6WAN13LnRVRmRb-VNu_L",
        FriendBlockCtn: "_34aoCP80lDRK3cq6_V0YQ_",
        PersonaStatus: "_1AYnL3n86EbaOCKf18KKV8",
        ProgressHidden: "UdYhfFDOguxduU7c3PVpv",
        DiscoveryQueueName: "D7yeVCEwaFr6qNo_bPGCr",
        SaleRewardsCtn: "u42zSEWdGrvBDimhV4QNI",
        RewardStatusCtn: "_2C1i6xEuF431h_KHPB53zS",
        SaleRewardAppTitle: "_1-pK3SWEOk30eo-q0EKyH7",
      };
    },
    25599: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        ProgressCtn: "_3ed1Al-hFnjq4HQeLo6cIT",
        ProgressDot: "_2R187sMx7MTX5XQ2KN3Xnx",
        ProgressDotActive: "_3z2pS3DFn3MEl5ZPw6lsa9",
        ProgressDotSelected: "_1qJVCZsv51RtfBGao-PV8V",
        ProgressDotClickable: "jKfeFH4S6YhaeZ7RCZ8BN",
      };
    },
    12037: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppVideoCtn: "_5T6C7ESpj4ynwbH8LS101",
        WishlistBadge: "_1H947zVMI4eix33y6Vyrm0",
        Active: "QO_OlPouxqbJBf7_YhDcB",
        DeckVerifiedLogo: "_32nCthjo6y3PW8ly04ygbU",
        VideoArea: "_1dktHf2Jq2wDCCvlx1tpMJ",
        IgnoredCtn: "_1fmpWkA3raMRNRb2988jsO",
        IgnoredInfo: "_12r_HcaLl4JO7AfMLMEZqE",
        IgnoredTitle: "_2NLzxMudKrBejIZmxYz-Wu",
        IgnoredDescription: "_3ViR4YrtH0a-mK6EiPgOSB",
        UndoIgnoreButton: "_177VX9-0Tj1sNozNrm8bN1",
        UndoButton: "_3HOpXzFuRFY1WwrPL-fxOi",
        Disabled: "_3xyNp4rGNpDJtxvww4ZCOR",
      };
    },
    828: (e) => {
      e.exports = {
        TrailerTitle: "_3HELOo0qFfDrRZ9Sa1GXeF",
        Category: "_2YhOhoyYNbue9fEPMYPiq2",
        Visible: "_2cpBClyttSkWAsgMArc0BM",
      };
    },
    77700: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        mentionDialogPosition: "_3isL0ZmZcmPqrXDdNiNSsm",
        mentionDialog: "_1QU3cLCGXCmYTUvjYiqqz6",
        mentionSearchText: "_1xVcZo7UqD1Idiz3hcGoHg",
        suggestOption: "vquL9mspYzz2tBtxrzqw9",
        mentionSearchOption: "_3O0sMruBIaruOmKJLJre-J",
        manyMatches: "_1cweL4uxVeoeKoymO9IuaT",
        selected: "boNOGnexLhWO9Nd0e6-0A",
        nickname: "_2dKJqMZUnKQIInZReBkcRI",
        mentionSearchMatch: "_2_0t_pDYqkDefMC0gDZV8G",
      };
    },
    50666: (e) => {
      e.exports = {
        CropImage: "_3qfqTaQ35U6AO3FNeijcFV",
        CropPreviewGroup: "_1RI-QM2ZjK9MaVjeCLE_LF",
        CropPreviewLabel: "_3_zyLDUyxZNyexfX3kNOPv",
      };
    },
    73523: (e, t, a) => {
      "use strict";
      var n;
      function r(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "frontpage";
          case n.k_ConfigPage_Takeunder:
            return "takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "frontpage_china";
          case n.k_ConfigPage_Spotlight:
            return "spotlights";
          case n.k_ConfigPage_EarlyAccess_Takeover:
            return "content_hub_earlyaccess";
          case n.k_ConfigPage_FreeToPlay_Takeover:
            return "content_hub_freetoplay";
          case n.k_ConfigPage_GreatOnDeck_Takeover:
            return "content_hub_greatondeck";
          case n.k_ConfigPage_Category_Action_Takeover:
            return "content_hub_category_action";
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
            return "content_hub_category_multiplayer";
          case n.k_ConfigPage_Demo_Hub_Takeover:
            return "content_hub_demos";
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "content_hub_tags_122";
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "content_hub_tags_699";
          case n.k_ConfigPage_VR_Hub_Takeover:
            return "content_hub_vr";
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub_tags_599";
        }
      }
      function i(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "Front Page Takeover";
          case n.k_ConfigPage_Takeunder:
            return "Takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "Steam China Frontpage Takeover";
          case n.k_ConfigPage_Spotlight:
            return "Front Page Spotlight";
          case n.k_ConfigPage_EarlyAccess_Takeover:
            return "Early Access Content Hub Takeover";
          case n.k_ConfigPage_FreeToPlay_Takeover:
            return "Free to Play Content Hub Takeover";
          case n.k_ConfigPage_GreatOnDeck_Takeover:
            return "Great on Deck Hub Takeover";
          case n.k_ConfigPage_Category_Action_Takeover:
            return "Category Action Hub Takeover";
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
            return "Category Multiplayer Hub Takeover";
          case n.k_ConfigPage_Demo_Hub_Takeover:
            return "Demo Hub Takeover";
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "RPG Tag Hub Takeover";
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "Racing Tag Hub Takeover";
          case n.k_ConfigPage_VR_Hub_Takeover:
            return "VR Content Hub Takeover";
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "Casual Tag Hub Takeover";
        }
      }
      function s(e) {
        switch (e) {
          case n.k_ConfigPage_Takeover:
            return "defcon1";
          case n.k_ConfigPage_Takeunder:
            return "takeunder";
          case n.k_ConfigPage_TakeoverSteamChina:
            return "defcon1_china";
          case n.k_ConfigPage_Spotlight:
            return null;
          case n.k_ConfigPage_EarlyAccess_Takeover:
          case n.k_ConfigPage_FreeToPlay_Takeover:
          case n.k_ConfigPage_GreatOnDeck_Takeover:
          case n.k_ConfigPage_Category_Action_Takeover:
          case n.k_ConfigPage_Category_Multiplayer_Takeover:
          case n.k_ConfigPage_Demo_Hub_Takeover:
          case n.k_ConfigPage_RPG_Tag_Hub_Takeover:
          case n.k_ConfigPage_Racing_Tag_Hub_Takeover:
          case n.k_ConfigPage_VR_Hub_Takeover:
          case n.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub";
        }
        return null;
      }
      function l(e) {
        return `/admin/store/pageclusteredit/${r(e)}/<grab this ID>`;
      }
      a.d(t, {
        J4: () => s,
        NA: () => i,
        br: () => l,
        gw: () => r,
        ii: () => n,
      }),
        (function (e) {
          (e[(e.k_ConfigPage_Takeover = 1)] = "k_ConfigPage_Takeover"),
            (e[(e.k_ConfigPage_Takeunder = 2)] = "k_ConfigPage_Takeunder"),
            (e[(e.k_ConfigPage_TakeoverSteamChina = 3)] =
              "k_ConfigPage_TakeoverSteamChina"),
            (e[(e.k_ConfigPage_Spotlight = 4)] = "k_ConfigPage_Spotlight"),
            (e[(e.k_ConfigPage_EarlyAccess_Takeover = 5)] =
              "k_ConfigPage_EarlyAccess_Takeover"),
            (e[(e.k_ConfigPage_FreeToPlay_Takeover = 6)] =
              "k_ConfigPage_FreeToPlay_Takeover"),
            (e[(e.k_ConfigPage_GreatOnDeck_Takeover = 7)] =
              "k_ConfigPage_GreatOnDeck_Takeover"),
            (e[(e.k_ConfigPage_Category_Action_Takeover = 8)] =
              "k_ConfigPage_Category_Action_Takeover"),
            (e[(e.k_ConfigPage_Category_Multiplayer_Takeover = 9)] =
              "k_ConfigPage_Category_Multiplayer_Takeover"),
            (e[(e.k_ConfigPage_Demo_Hub_Takeover = 10)] =
              "k_ConfigPage_Demo_Hub_Takeover"),
            (e[(e.k_ConfigPage_RPG_Tag_Hub_Takeover = 11)] =
              "k_ConfigPage_RPG_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_Racing_Tag_Hub_Takeover = 12)] =
              "k_ConfigPage_Racing_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_VR_Hub_Takeover = 13)] =
              "k_ConfigPage_VR_Hub_Takeover"),
            (e[(e.k_ConfigPage_Casual_Tag_Hub_Takeover = 14)] =
              "k_ConfigPage_Casual_Tag_Hub_Takeover");
        })(n || (n = {}));
    },
    55278: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => d });
      var n = a(34629),
        r = a(14947),
        i = a(62792),
        s = a(6144),
        l = a(73745),
        o = a(14771),
        c = a(17720),
        m = a(30470);
      class d {
        m_oDailyDeal = null;
        m_originalDailyDeal = null;
        m_bDirty = !1;
        m_callback = new s.lu();
        m_storeItemKey = null;
        m_jsonTemplate;
        m_jsonInternal;
        m_jsonPartner;
        m_nCreatorID;
        constructor(e) {
          (0, r.Gn)(this), this.Reset(e);
        }
        CalculateStoreItemKey() {
          switch (this.m_oDailyDeal.store_item_type) {
            case 1:
              return (0, i.wR)(void 0, this.m_oDailyDeal.store_item_id);
            case 2:
              return (0, i.wR)(void 0, void 0, this.m_oDailyDeal.store_item_id);
            default:
              return (0, i.wR)(this.m_oDailyDeal.store_item_id);
          }
        }
        Reset(e) {
          (this.m_originalDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_oDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_storeItemKey = this.CalculateStoreItemKey()),
            (this.m_jsonTemplate = e.template_json
              ? JSON.parse(e.template_json)
              : {}),
            (this.m_jsonInternal = e.internal_json
              ? JSON.parse(e.internal_json)
              : {}),
            (this.m_jsonPartner = e.partner_jsondata
              ? JSON.parse(e.partner_jsondata)
              : {}),
            (this.m_nCreatorID = e.creator_id);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsCancelled() {
          return Boolean(this.m_oDailyDeal.cancelled);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDailyDeal;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetCreatorID() {
          return this.m_nCreatorID;
        }
        BHasPromotionPlanAssetRequest() {
          return Boolean(this.m_jsonInternal.promotion_plan_asset_request);
        }
        GetPromotionPlanAssetRequestID() {
          return this.m_jsonInternal.promotion_plan_asset_request;
        }
        BHidePrices() {
          return (
            !!this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price
          );
        }
        GetStartDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time;
        }
        GetEndDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time + o.Kp.PerDay;
        }
        BHasHubTarget(e) {
          return (
            !(
              !this.m_jsonTemplate.hasOwnProperty("location") ||
              !this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ) && this.m_jsonTemplate.location.hubTargets?.includes(e)
          );
        }
        GetHubTargets() {
          return this.m_jsonTemplate.hasOwnProperty("location") &&
            this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ? this.m_jsonTemplate.location.hubTargets
            : [];
        }
        GetDealID() {
          return this.m_oDailyDeal.gid;
        }
        GetNotes() {
          return this.m_jsonInternal?.notes;
        }
        GetDiscountEventID() {
          return this.m_oDailyDeal.discount_event_id.toString() ?? "";
        }
        BHasDiscountEventID() {
          return (
            !!this.m_oDailyDeal.discount_event_id &&
            this.m_oDailyDeal.discount_event_id > 0
          );
        }
        GetOverrideURL() {
          return this.m_jsonTemplate.hasOwnProperty("override_url")
            ? this.m_jsonTemplate.override_url
            : "";
        }
        BHasOverrideURL() {
          return (
            this.m_jsonTemplate?.hasOwnProperty("override_url") &&
            this.m_jsonTemplate.override_url.trim().length > 0
          );
        }
        GetInvitationAccountID() {
          return this.m_jsonInternal?.invite_account_id;
        }
        SetVisiblity(e) {
          (this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price == e) ||
            ((this.m_jsonTemplate.hide_price = e ? 1 : 0),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        AddRemoveHubTarget(e, t) {
          const a = this.GetHubTargets();
          if (e && !a?.includes(t))
            this.m_jsonTemplate.hasOwnProperty("location") ||
              (this.m_jsonTemplate.location = []),
              this.m_jsonTemplate.location.hasOwnProperty("hubTargets") ||
                (this.m_jsonTemplate.hubTargets = []),
              this.m_jsonTemplate.location.hubTargets.push(t),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch();
          else if (!e && a?.includes(t)) {
            const e = a.indexOf(t);
            e >= 0 &&
              (this.m_jsonTemplate.location.hubTargets.splice(e, 1),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch());
          }
        }
        RevertChanges() {
          this.Reset(this.m_originalDailyDeal),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        SetNotes(e) {
          this.m_jsonInternal?.notes != e &&
            ((this.m_jsonInternal.notes = e),
            (this.m_oDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )),
            this.Dispatch());
        }
        SetPromotionPlanAssetRequestID(e) {
          this.m_jsonInternal?.promotion_plan_asset_request != e &&
            ((this.m_jsonInternal.promotion_plan_asset_request = e),
            (this.m_oDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )));
        }
        SetDiscountEventID(e) {
          this.m_oDailyDeal.discount_event_id.toString() != e &&
            ((this.m_oDailyDeal.discount_event_id = parseInt(e)),
            this.Dispatch());
        }
        SetOverrideURL(e) {
          (this.m_jsonTemplate.hasOwnProperty("override_url") &&
            this.m_jsonTemplate.override_url == e) ||
            ((this.m_jsonTemplate.override_url = e),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        BHasGenreTarget(e) {
          return !1;
        }
        BHasCategoryTarget(e) {
          return !1;
        }
        GetSaleClanAccountID() {
          return this.m_jsonPartner.sale_clan_account;
        }
        GetSaleClanEventGID() {
          return this.m_jsonPartner.sale_clan_event_gid;
        }
        BHasAssociatedSaleEvent() {
          return Boolean(this.m_jsonPartner.sale_clan_event_gid);
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = c.b.InitFromClanID(this.m_jsonPartner.sale_clan_account);
            return (
              m.TS.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_jsonPartner.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        SetSaleEvent(e, t) {
          (this.m_jsonPartner.sale_clan_account == t &&
            this.m_jsonPartner.sale_clan_event_gid == e) ||
            ((this.m_jsonPartner.sale_clan_account = t),
            (this.m_jsonPartner.sale_clan_event_gid = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        ClearSalePage() {
          (this.m_jsonPartner.sale_clan_account = void 0),
            (this.m_jsonPartner.sale_clan_event_gid = void 0),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch();
        }
        BRequiresSalePage() {
          return this.m_jsonPartner.require_sale_page;
        }
        SetRequiresSalePage(e) {
          this.m_jsonPartner.require_sale_page != e &&
            ((this.m_jsonPartner.require_sale_page_type = e ? 1 : 0),
            (this.m_jsonPartner.require_sale_page = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        GetRequiresSalePageType() {
          return this.m_jsonPartner.require_sale_page_type;
        }
        SetRequiresSalePageType(e) {
          this.m_jsonPartner.require_sale_page_type != e &&
            ((this.m_jsonPartner.require_sale_page_type = e),
            (this.m_oDailyDeal.partner_jsondata = JSON.stringify(
              this.m_jsonPartner,
            )),
            this.Dispatch());
        }
        AddRemoveGenreTarget(e, t) {}
        AddRemoveCategoryTarget(e, t) {}
      }
      (0, n.Cg)([r.sH], d.prototype, "m_bDirty", void 0),
        (0, n.Cg)([l.oI], d.prototype, "SetVisiblity", null),
        (0, n.Cg)([l.oI], d.prototype, "RevertChanges", null),
        (0, n.Cg)([l.oI], d.prototype, "SetSaleEvent", null),
        (0, n.Cg)([l.oI], d.prototype, "ClearSalePage", null),
        (0, n.Cg)([l.oI], d.prototype, "SetRequiresSalePage", null),
        (0, n.Cg)([l.oI], d.prototype, "SetRequiresSalePageType", null);
    },
    43258: (e, t, a) => {
      "use strict";
      a.d(t, { AK: () => E, Z8: () => S, fV: () => v, mH: () => y });
      var n = a(34629),
        r = a(2160),
        i = a(22837),
        s = a(32703),
        l = a(14947),
        o = a(17720),
        c = a(56186),
        m = a(62792),
        d = a(44332),
        u = a(6419),
        p = a(6144),
        _ = a(78327),
        g = a(23910);
      function h(e, t) {
        if (
          ((t.temp_id =
            ("clause" in t ? t.clause + "_" : "filter_") +
            ++v.sm_nTempIDCounter),
          "children" in t)
        )
          Array.isArray(t.children)
            ? t.children.forEach((t) => h(e, t))
            : (console.error(
                `marketing message ${e}:  clause error, clearing its setting so we can continue in the editor. `,
                (0, l.HO)(t),
              ),
              (t.children = []));
        else {
          const e = t;
          (e.filter_type = parseInt("" + e.filter_type)),
            Array.isArray(e.id_list)
              ? (e.id_list = e.id_list.map((e) => parseInt("" + e)))
              : (e.id_list = []);
        }
      }
      function E(e, t) {
        if (!e || !t) return null;
        const a = JSON.parse(t) || {};
        return (
          a.valid_realms && (a.valid_realms = parseInt(a.valid_realms)),
          a.must_have_market_transactions &&
            (a.must_have_market_transactions =
              "true" === a.must_have_market_transactions),
          a.interactive_recommender_rank &&
            (a.interactive_recommender_rank = parseInt(
              a.interactive_recommender_rank,
            )),
          a.experiment_control_group &&
            (a.experiment_control_group = parseInt(a.experiment_control_group)),
          a.user_filters &&
            ((a.no_filters_required = !1), h(e, a.user_filters)),
          a
        );
      }
      function S(e, t) {
        switch (e) {
          case 1:
            return (0, m.wR)(t);
          case 2:
            return (0, m.wR)(null, t);
          case 5:
            return (0, m.wR)(null, null, t);
        }
        return null;
      }
      function y(e) {
        if (e?.user_filters?.children?.length > 0) {
          let t = 0;
          return (
            e.user_filters.children
              .map((e) => e.children.length)
              .forEach((e) => (t += e)),
            t
          );
        }
        return 0;
      }
      class v {
        m_oMessage = null;
        m_originalMessage = null;
        m_oTemplateVars = null;
        m_oAdditionalRestrictions = null;
        m_bDirty = !1;
        m_callback = new p.lu();
        m_storeItemKey = null;
        m_storeItemID = null;
        m_eSteamRealms = null;
        k_DefaultFilterClause = { clause: "and", children: [] };
        static sm_nTempIDCounter = 1;
        constructor(e) {
          (0, l.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          switch (
            ((this.m_originalMessage = JSON.parse(JSON.stringify(e))),
            (this.m_oMessage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            this.GetRealm())
          ) {
            case 0:
              this.m_eSteamRealms = [r.TU.k_ESteamRealmGlobal];
              break;
            case 1:
              this.m_eSteamRealms = [r.TU.k_ESteamRealmChina];
              break;
            case 2:
              this.m_eSteamRealms = [
                r.TU.k_ESteamRealmGlobal,
                r.TU.k_ESteamRealmChina,
              ];
          }
          (this.m_oTemplateVars = (0, c.c2)(e.template_vars_json) || {}),
            (this.m_oAdditionalRestrictions = E(
              e.gid,
              e.additional_restrictions_json,
            )),
            "featured_video" === this.m_oTemplateVars.custom_display &&
              (this.m_oTemplateVars.background ||
                (this.m_oTemplateVars.background = {})),
            this.SetupStoreItemKey();
        }
        RecursivelyCleanupTempIDForSerialized(e) {
          (e.temp_id = void 0),
            "children" in e &&
              e.children.forEach((e) =>
                this.RecursivelyCleanupTempIDForSerialized(e),
              );
        }
        PrepareMessageModelForUpdate() {
          const e = JSON.parse(JSON.stringify(this.m_oMessage)),
            t = JSON.parse(
              JSON.stringify(this.m_oAdditionalRestrictions || {}),
            );
          return (
            t.user_filters &&
              this.RecursivelyCleanupTempIDForSerialized(t.user_filters),
            (e.template_vars_json = JSON.stringify(this.m_oTemplateVars || {})),
            (e.additional_restrictions_json = JSON.stringify(t || {})),
            e
          );
        }
        SetupStoreItemKey() {
          (this.m_storeItemKey = S(
            this.m_oMessage.association_type,
            this.m_oMessage.associated_id,
          )),
            (this.m_storeItemID = (0, m.Di)(this.m_storeItemKey));
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BHasAnimatedAssets() {
          return Boolean(this.m_oTemplateVars.has_animated_assets);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oMessage;
        }
        GetTemplateVarsModel() {
          return this.m_oTemplateVars;
        }
        GetAdditionalRestrictionModel() {
          return this.m_oAdditionalRestrictions;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetStoreItemID() {
          return this.m_storeItemID;
        }
        GetGID() {
          return this.m_oMessage.gid;
        }
        GetName() {
          return this.m_oMessage.title;
        }
        GetType() {
          return this.m_oMessage.type;
        }
        GetVisibilty() {
          return this.m_oMessage.visibility;
        }
        GetPriority() {
          return this.m_oMessage.priority;
        }
        GetCreatorName() {
          return this.m_oMessage.creator_name;
        }
        GetStartRTime() {
          return this.m_oMessage.start_date;
        }
        GetEndRTime() {
          return this.m_oMessage.end_date;
        }
        GetCountryAllow() {
          return this.m_oMessage.country_allow;
        }
        GetCountryAllowList() {
          return (this.m_oMessage.country_allow || "").split(",");
        }
        GetCountryDeny() {
          return this.m_oMessage.country_deny;
        }
        GetCountryDenyList() {
          return (this.m_oMessage.country_deny || "").split(",");
        }
        GetCustomTemplate() {
          return this.m_oTemplateVars.custom_display || void 0;
        }
        GetFeaturedVideoMP4Url() {
          return this.m_oTemplateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMUrl() {
          return this.m_oTemplateVars.featured_video_webm;
        }
        GetFeaturedVideoAutoPlay() {
          return this.m_oTemplateVars.featured_video_autoplay;
        }
        GetFeaturedVideoLoop() {
          return this.m_oTemplateVars.featured_video_loop;
        }
        GetAutoRenderWithoutOverride() {
          return Boolean(
            this.m_oTemplateVars.autorender_assets_without_overrides,
          );
        }
        GetMustOwnAppID() {
          return this.m_oMessage.must_own_appid;
        }
        GetMustNotOwnAppID() {
          return this.m_oMessage.must_not_own_appid;
        }
        GetMustOwnPackageID() {
          return this.m_oMessage.must_own_packageid;
        }
        GetMustNotOwnPackageID() {
          return this.m_oMessage.must_not_own_packageid;
        }
        GetMustHaveLaunchedAppID() {
          return this.m_oMessage.must_have_launched_appid;
        }
        GetPreviewURL(e = "US", t = "english", a = !1, n = !1, r = [], i, s) {
          return `${_.TS.PARTNER_BASE_URL}marketingmessages/messagepreview/${this.m_oMessage.gid}/?cc=${e}&l=${t}&bForceSteamChina=${a}&low_bandwidth=${n}&timezone=${i ? encodeURIComponent(i) : ""}&locale=${s ?? ""}&dlc_override=${r ? r.join(",") : ""}`;
        }
        GetSteamRealmsForLanguage() {
          return this.m_eSteamRealms || [r.TU.k_ESteamRealmGlobal];
        }
        GetUserMessageFilters() {
          return (
            this.m_oAdditionalRestrictions?.user_filters ||
            this.k_DefaultFilterClause
          );
        }
        GetInternalAssetURL() {
          return this.m_oAdditionalRestrictions.internal_asset_url;
        }
        BHasPlatformWindows() {
          return Boolean(
            this.m_oMessage.flags &
              g.s8.k_EMarketingMessageFlagsPlatformWindows,
          );
        }
        BHasPlatformMac() {
          return Boolean(
            this.m_oMessage.flags & g.s8.k_EMarketingMessageFlagsPlatformMac,
          );
        }
        BHasPlatformLinux() {
          return Boolean(
            this.m_oMessage.flags & g.s8.k_EMarketingMessageFlagsPlatformLinux,
          );
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_storeItemKey);
        }
        BHasAssociatedItem() {
          return Boolean(this.m_storeItemID);
        }
        BHasAssociatedItemReleaseState() {
          return Boolean(
            null !=
              this.m_oAdditionalRestrictions.associated_item_release_state &&
              null !=
                this.m_oAdditionalRestrictions.associated_item_release_state &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                s.de.k_StoreInvalidState &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                s.de.k_StoreUnavailable,
          );
        }
        GetAssociatedItemReleaseState() {
          return (
            this.m_oAdditionalRestrictions.associated_item_release_state ||
            s.de.k_StoreInvalidState
          );
        }
        BIsCountryShow() {
          return (
            !this.m_oMessage.country_deny ||
            0 == this.m_oMessage.country_deny.trim().length
          );
        }
        BOwnershipRestrictionOverride() {
          return this.m_oMessage.ownership_restrictions_overridden;
        }
        BHasLegacyRestrictions() {
          return Boolean(
            this.m_oMessage.ownership_restrictions_overridden ||
              this.m_oMessage.must_own_appid ||
              this.m_oMessage.must_not_own_appid ||
              this.m_oMessage.must_own_packageid ||
              this.m_oMessage.must_not_own_packageid ||
              this.m_oMessage.must_have_launched_appid,
          );
        }
        BExplicitNoAssociationItem() {
          return this.m_oAdditionalRestrictions.explicit_no_associated_item;
        }
        BExplicitNoLegalPartnerNeeded() {
          return this.m_oAdditionalRestrictions.explicit_no_partner_name_needed;
        }
        GetLinkURL() {
          return this.m_oTemplateVars.linkurl || "";
        }
        GetButtonToken() {
          return this.m_oTemplateVars.button_text;
        }
        GetLegalTextPartnerName() {
          return this.m_oTemplateVars.partner?.toString();
        }
        BHasLegalLinePartner() {
          return Boolean(
            this.m_oTemplateVars.partner?.toString().trim().length,
          );
        }
        BHidePriceOnMessage() {
          return this.m_oTemplateVars.hide_price;
        }
        GetAssetsObject(e) {
          return this.m_oTemplateVars[e];
        }
        GetAssetsModifyTime() {
          return this.m_oTemplateVars.last_asset_mtime;
        }
        BIsNoFilterRequired() {
          return this.m_oAdditionalRestrictions.no_filters_required;
        }
        GetWatchList() {
          return this.m_oAdditionalRestrictions.watchlist || [];
        }
        BIsAccountInWatchList(e) {
          return this.m_oAdditionalRestrictions?.watchlist?.includes(e);
        }
        BHasDynamicFilterForApp(e, t) {
          if (
            !this.m_oAdditionalRestrictions.user_filters ||
            0 == this.m_oAdditionalRestrictions.user_filters.children.length
          )
            return !1;
          let a = this.m_oAdditionalRestrictions.user_filters.children;
          for (let n = 0; n < a.length; ++n) {
            const r = a[n];
            if (this.BRecursiveHasDynamicFilterForApp(r, e, t)) return !0;
          }
          return !1;
        }
        BRecursiveHasDynamicFilterForApp(e, t, a) {
          if ("children" in e) {
            for (let n = 0; n < e.children.length; ++n) {
              const r = e.children[n];
              if (this.BRecursiveHasDynamicFilterForApp(r, t, a)) return !0;
            }
            return !1;
          }
          return (
            "filter_type" in e && e.filter_type == t && e.id_list.includes(a)
          );
        }
        GetRealm() {
          return this.m_oAdditionalRestrictions?.valid_realms || 0;
        }
        GetAdminNotes() {
          return this.m_oAdditionalRestrictions.admin_notes || "";
        }
        GetMustUseClientLanguage() {
          return this.m_oAdditionalRestrictions.must_use_client_language || "";
        }
        GetMustHaveClientPackageGTE() {
          return this.m_oAdditionalRestrictions?.must_have_client_package_gte;
        }
        GetMustHaveClientPackageLTE() {
          return this.m_oAdditionalRestrictions?.must_have_client_package_lte;
        }
        GetUserMessageFilterCount() {
          return y(this.m_oAdditionalRestrictions);
        }
        GetCustomLegalText() {
          return this.m_oTemplateVars.custom_legal_text || "";
        }
        BUseCustomLegalText() {
          return this.m_oTemplateVars.use_custom_legal_text;
        }
        GetSaleClanEventGID() {
          return this.m_oAdditionalRestrictions.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oAdditionalRestrictions.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oAdditionalRestrictions.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = o.b.InitFromClanID(
              this.m_oAdditionalRestrictions.sale_clan_account,
            );
            return (
              _.TS.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oAdditionalRestrictions.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return this.m_oAdditionalRestrictions.requires_sale_page;
        }
        GetRequiresSalePageType() {
          return 0;
        }
        BHasPlanAssetRequestGID() {
          return Boolean(this.m_oAdditionalRestrictions.plan_asset_request_gid);
        }
        GetPlanAssetRequestGID() {
          return this.m_oAdditionalRestrictions.plan_asset_request_gid;
        }
        GetAutoRenderSubtitle() {
          return this.m_oTemplateVars.autorender_subtitle_token;
        }
        GetUpdateEventClanAccountID() {
          return this.m_oTemplateVars.update_event_clan_accountid;
        }
        GetUpdateEventGID() {
          return this.m_oTemplateVars.update_event_gid;
        }
        SaveSuccessClearDirty() {
          (this.m_originalMessage = JSON.parse(
            JSON.stringify(this.m_oMessage),
          )),
            (this.m_bDirty = !1);
        }
        ClearAllLegacyRestrictions() {
          (this.m_oMessage.must_own_appid = 0),
            (this.m_oMessage.must_not_own_appid = 0),
            (this.m_oMessage.must_own_packageid = 0),
            (this.m_oMessage.must_not_own_packageid = 0),
            (this.m_oMessage.must_have_launched_appid = 0),
            (this.m_oMessage.ownership_restrictions_overridden = !1),
            this.Dispatch();
        }
        SetExplicitNoLegalPartnerNeeded(e) {
          this.m_oAdditionalRestrictions.explicit_no_partner_name_needed !==
            e &&
            (e && (this.m_oTemplateVars.partner = void 0),
            (this.m_oAdditionalRestrictions.explicit_no_partner_name_needed =
              e),
            this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oAdditionalRestrictions.admin_notes != e &&
            ((this.m_oAdditionalRestrictions.admin_notes = e), this.Dispatch());
        }
        SetName(e) {
          this.m_oMessage.title !== e &&
            ((this.m_oMessage.title = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oMessage.type !== e &&
            ((this.m_oMessage.type = e), this.Dispatch());
        }
        SetVisibility(e) {
          this.m_oMessage.visibility !== e &&
            ((this.m_oMessage.visibility = e), this.Dispatch());
        }
        SetAssociation(e, t) {
          if (
            this.m_oMessage.association_type != e ||
            this.m_oMessage.associated_id != t
          )
            switch (e) {
              case 1:
              case 5:
              case 2:
              case 0:
                (this.m_oMessage.association_type = e),
                  (this.m_oMessage.associated_id = t),
                  (this.m_oMessage.associated_name = ""),
                  this.SetupStoreItemKey(),
                  this.Dispatch();
                break;
              case 4:
              case 3:
                this.m_oMessage.associated_name = "" + t;
              default:
                throw new Error(
                  "Unexpected Marketing Message Association Type: " + e,
                );
            }
        }
        ClearAssociation() {
          (this.m_storeItemID = null),
            (this.m_storeItemKey = null),
            (this.m_oMessage.association_type = void 0),
            (this.m_oMessage.associated_id = void 0),
            (this.m_oMessage.associated_name = ""),
            this.Dispatch();
        }
        SetMessageTime(e, t) {
          (this.m_oMessage.start_date === e &&
            this.m_oMessage.end_date === t) ||
            ((this.m_oMessage.start_date = e),
            (this.m_oMessage.end_date = t),
            this.Dispatch());
        }
        SetMessageStartTime(e) {
          this.m_oMessage.start_date !== e &&
            ((this.m_oMessage.start_date = e), this.Dispatch());
        }
        SetMessageEndTime(e) {
          this.m_oMessage.end_date !== e &&
            ((this.m_oMessage.end_date = e), this.Dispatch());
        }
        SetCountryAllow(e) {
          this.m_oMessage.country_allow !== e &&
            ((this.m_oMessage.country_allow = e), this.Dispatch());
        }
        SetCountryDeny(e) {
          this.m_oMessage.country_deny !== e &&
            ((this.m_oMessage.country_deny = e), this.Dispatch());
        }
        ClearCountryRestrictions() {
          (this.m_oMessage.country_allow = void 0),
            (this.m_oMessage.country_deny = void 0),
            this.Dispatch();
        }
        SetAndConvertURL(e, t) {
          this.m_oTemplateVars.linkurl &&
            ((this.m_oTemplateVars.linkurl =
              this.m_oTemplateVars.linkurl.replace(e, t)),
            this.Dispatch());
        }
        SetMustOwnAppID(e) {
          this.m_oMessage.must_own_appid !== e &&
            ((this.m_oMessage.must_own_appid = e), this.Dispatch());
        }
        SetMustNotOwnAppID(e) {
          this.m_oMessage.must_not_own_appid !== e &&
            ((this.m_oMessage.must_not_own_appid = e), this.Dispatch());
        }
        SetMustOwnPackageID(e) {
          this.m_oMessage.must_own_packageid !== e &&
            ((this.m_oMessage.must_own_packageid = e), this.Dispatch());
        }
        SetMustNotOwnPackageID(e) {
          this.m_oMessage.must_not_own_packageid !== e &&
            ((this.m_oMessage.must_not_own_packageid = e), this.Dispatch());
        }
        SetMustHaveLaunchedAppID(e) {
          this.m_oMessage.must_have_launched_appid !== e &&
            ((this.m_oMessage.must_have_launched_appid = e), this.Dispatch());
        }
        SetLinkURL(e) {
          this.m_oTemplateVars.linkurl !== e &&
            ((this.m_oTemplateVars.linkurl = e), this.Dispatch());
        }
        SetRealm(e) {
          if (this.m_oAdditionalRestrictions.valid_realms !== e) {
            switch (
              ((this.m_oAdditionalRestrictions.valid_realms = e),
              this.m_oAdditionalRestrictions.valid_realms)
            ) {
              default:
              case 0:
                this.m_eSteamRealms = [r.TU.k_ESteamRealmGlobal];
                break;
              case 1:
                this.m_eSteamRealms = [r.TU.k_ESteamRealmChina];
                break;
              case 2:
                this.m_eSteamRealms = [
                  r.TU.k_ESteamRealmGlobal,
                  r.TU.k_ESteamRealmChina,
                ];
            }
            this.Dispatch();
          }
        }
        SetMustUseClientLanguage(e) {
          this.m_oAdditionalRestrictions.must_use_client_language != e &&
            ((this.m_oAdditionalRestrictions.must_use_client_language = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageGTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_gte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_gte = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageLTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_lte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_lte = e),
            this.Dispatch());
        }
        SetPlatformWindows(e) {
          this.SetFlag(g.s8.k_EMarketingMessageFlagsPlatformWindows, e);
        }
        SetPlatformMac(e) {
          this.SetFlag(g.s8.k_EMarketingMessageFlagsPlatformMac, e);
        }
        SetPlatformLinux(e) {
          this.SetFlag(g.s8.k_EMarketingMessageFlagsPlatformLinux, e);
        }
        SetFlag(e, t) {
          t && !Boolean(this.m_oMessage.flags & e)
            ? ((this.m_oMessage.flags |= e), this.Dispatch())
            : !t &&
              Boolean(this.m_oMessage.flags & e) &&
              ((this.m_oMessage.flags &= ~e), this.Dispatch());
        }
        SetNoFiltersRequired(e) {
          this.m_oAdditionalRestrictions.no_filters_required != e &&
            ((this.m_oAdditionalRestrictions.no_filters_required = e),
            this.Dispatch());
        }
        AddToWatchList(e) {
          this.m_oAdditionalRestrictions.watchlist ||
            (this.m_oAdditionalRestrictions.watchlist = []),
            this.m_oAdditionalRestrictions.watchlist.includes(e) ||
              (this.m_oAdditionalRestrictions.watchlist.push(e),
              this.Dispatch());
        }
        ClearWatchList(e) {
          (this.m_oAdditionalRestrictions.watchlist = void 0), this.Dispatch();
        }
        RemoveFromWatchList(e) {
          if (
            this.m_oAdditionalRestrictions.watchlist &&
            this.m_oAdditionalRestrictions.watchlist.includes(e)
          ) {
            const t = this.m_oAdditionalRestrictions.watchlist.findIndex(
              (t) => t === e,
            );
            t >= 0 &&
              (this.m_oAdditionalRestrictions.watchlist.splice(t, 1),
              this.Dispatch());
          }
        }
        ClearUserDynamicFilter() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            (this.m_oAdditionalRestrictions.no_filters_required = !1),
            this.Dispatch();
        }
        ReplaceUserFilter(e) {
          (this.m_oAdditionalRestrictions.no_filters_required = !1),
            (this.m_oAdditionalRestrictions.user_filters = e),
            h(this.GetGID(), this.m_oAdditionalRestrictions.user_filters),
            this.Dispatch();
        }
        AddNewAndUserFilter(e = { filter_type: 1, id_list: [] }) {
          this.m_oAdditionalRestrictions ||
            (this.m_oAdditionalRestrictions = {}),
            this.m_oAdditionalRestrictions.user_filters ||
              (this.m_oAdditionalRestrictions.user_filters = {
                clause: "and",
                children: [],
                temp_id: "and_" + ++v.sm_nTempIDCounter,
              }),
            (e.temp_id = "filter_" + ++v.sm_nTempIDCounter);
          const t = {
            clause: "or",
            children: [e],
            temp_id: "or_" + ++v.sm_nTempIDCounter,
          };
          this.m_oAdditionalRestrictions.user_filters.children.push(t),
            this.Dispatch();
        }
        RemoveAndUserFilter(e) {
          this.m_oAdditionalRestrictions.user_filters.children.splice(e, 1),
            0 == this.m_oAdditionalRestrictions.user_filters.children.length &&
              (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        BHasSomeIDForAndUserFilter(e) {
          return (
            (this.m_oAdditionalRestrictions.user_filters.children?.[e])
              .children?.[0]?.id_list?.length > 0
          );
        }
        AddNewOrUserFilter(e, t = { filter_type: 1, id_list: [] }) {
          const a = this.m_oAdditionalRestrictions.user_filters;
          (0, d.w)("children" in a.children[e], "or clauses broken"),
            "children" in a.children[e] &&
              ((t.temp_id = "filter_" + ++v.sm_nTempIDCounter),
              a.children[e].children.push(t),
              this.Dispatch());
        }
        RemoveOrUserFilterAt(e, t) {
          this.m_oAdditionalRestrictions.user_filters.children[
            e
          ].children.splice(t, 1),
            0 ==
            this.m_oAdditionalRestrictions.user_filters.children[e].children
              .length
              ? this.RemoveAndUserFilter(e)
              : this.Dispatch();
        }
        UpdateUserFilter(e, t, a) {
          const n = this.m_oAdditionalRestrictions.user_filters;
          (0, d.w)("children" in n.children[t], "or clauses broken"),
            "children" in n.children[t] &&
              JSON.stringify(n.children[t].children[a]) != JSON.stringify(e) &&
              ((e.temp_id = "filter_" + ++v.sm_nTempIDCounter),
              (n.children[t].children[a] = e),
              this.Dispatch());
        }
        SetButtonToken(e) {
          this.m_oTemplateVars.button_text != e &&
            ((this.m_oTemplateVars.button_text = e), this.Dispatch());
        }
        SetLegalTextPartnerName(e) {
          this.m_oTemplateVars.partner != e &&
            ((this.m_oTemplateVars.partner = e), this.Dispatch());
        }
        SetHidePriceOnMessage(e) {
          this.m_oTemplateVars.hide_price != e &&
            ((this.m_oTemplateVars.hide_price = e), this.Dispatch());
        }
        SetTemplateAssetImagePath(e, t, a) {
          const n = (0, i.Lg)(a);
          this.m_oTemplateVars[t]?.[n]?.path !== e &&
            ((this.m_oTemplateVars[t][n] = { type: "file", path: e }),
            (this.m_oTemplateVars.last_asset_mtime = Math.floor(
              Date.now() / 1e3,
            )),
            this.Dispatch());
        }
        ClearAllAssetObjects(e) {
          (this.m_oTemplateVars[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, i.Lg)(t);
          this.m_oTemplateVars[e]?.[a] &&
            (delete this.m_oTemplateVars[e][a], this.Dispatch());
        }
        ClearUserFilters() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        SetInternalAssetURL(e) {
          this.m_oAdditionalRestrictions.internal_asset_url !== e &&
            ((this.m_oAdditionalRestrictions.internal_asset_url = e),
            this.Dispatch());
        }
        SetCustomLegalText(e) {
          this.m_oTemplateVars.custom_legal_text != e &&
            ((this.m_oTemplateVars.custom_legal_text = e), this.Dispatch());
        }
        SetUseCustomLegalText(e) {
          this.m_oTemplateVars.use_custom_legal_text !== e &&
            ((this.m_oTemplateVars.use_custom_legal_text = e),
            e &&
              !this.m_oTemplateVars.custom_legal_text &&
              (this.m_oTemplateVars.custom_legal_text =
                `&copy; ${(new Date()).getFullYear()} Valve Corporation and ` +
                (this.m_oTemplateVars.partner
                  ? this.m_oTemplateVars.partner
                  : "_______") +
                ".<br />All Trademarks are property of their respective owners in the US and other countries."),
            this.Dispatch());
        }
        SetAnimatedAssetsEnabled(e) {
          this.m_oTemplateVars.has_animated_assets != e &&
            ((this.m_oTemplateVars.has_animated_assets = e),
            e &&
              (this.m_oTemplateVars.mp4 ||
                ((this.m_oTemplateVars.mp4 = {}),
                (this.m_oTemplateVars.webm = {}),
                (this.m_oTemplateVars.poster = void 0),
                (this.m_oTemplateVars.subtitles = void 0),
                (this.m_oTemplateVars.background = void 0))),
            this.Dispatch());
        }
        ClearCustomTemplate() {
          void 0 !== this.m_oTemplateVars.custom_display &&
            ((this.m_oTemplateVars.custom_display = void 0), this.Dispatch());
        }
        SetCustomTemplate(e) {
          if (this.m_oTemplateVars.custom_display !== e) {
            if (
              ((this.m_oTemplateVars.custom_display = e),
              "featured_video" === e)
            )
              (this.m_oTemplateVars.poster = {}),
                (this.m_oTemplateVars.subtitles = {}),
                (this.m_oTemplateVars.background = {}),
                (this.m_oTemplateVars.mp4 = void 0),
                (this.m_oTemplateVars.webm = void 0);
            this.Dispatch();
          }
        }
        SetFeaturedVideoMP4Url(e) {
          this.m_oTemplateVars.featured_video_mp4 != e &&
            ((this.m_oTemplateVars.featured_video_mp4 = e), this.Dispatch());
        }
        SetFeaturedVideoWebMUrl(e) {
          this.m_oTemplateVars.featured_video_webm != e &&
            ((this.m_oTemplateVars.featured_video_webm = e), this.Dispatch());
        }
        SetFeaturedVideoAutoPlay(e) {
          this.m_oTemplateVars.featured_video_autoplay != e &&
            ((this.m_oTemplateVars.featured_video_autoplay = e),
            this.Dispatch());
        }
        SetFeaturedVideoLooping(e) {
          this.m_oTemplateVars.featured_video_loop != e &&
            ((this.m_oTemplateVars.featured_video_loop = e), this.Dispatch());
        }
        SetAutoRenderWithoutOverride(e) {
          this.m_oTemplateVars.autorender_assets_without_overrides != e &&
            ((this.m_oTemplateVars.autorender_assets_without_overrides = e),
            this.Dispatch());
        }
        SetAutoRenderSubtitle(e) {
          this.m_oTemplateVars.autorender_subtitle_token != e &&
            ((this.m_oTemplateVars.autorender_subtitle_token = e),
            this.Dispatch());
        }
        SetExplicitNoAssociatedItem(e) {
          this.m_oAdditionalRestrictions.explicit_no_associated_item != e &&
            ((this.m_oAdditionalRestrictions.explicit_no_associated_item = e),
            this.Dispatch());
        }
        SetAssociatedItemReleaseState(e) {
          this.m_oAdditionalRestrictions.associated_item_release_state != e &&
            (e == s.de.k_StoreInvalidState || e == s.de.k_StoreUnavailable
              ? (this.m_oAdditionalRestrictions.associated_item_release_state =
                  void 0)
              : (this.m_oAdditionalRestrictions.associated_item_release_state =
                  e),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oAdditionalRestrictions.sale_clan_event_gid === e &&
            this.m_oAdditionalRestrictions.sale_clan_account == t) ||
            ((this.m_oAdditionalRestrictions.sale_clan_event_gid = e),
            (this.m_oAdditionalRestrictions.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oAdditionalRestrictions.sale_clan_event_gid &&
            ((this.m_oAdditionalRestrictions.sale_clan_account = void 0),
            (this.m_oAdditionalRestrictions.sale_clan_event_gid = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oAdditionalRestrictions.requires_sale_page != e &&
            ((this.m_oAdditionalRestrictions.requires_sale_page = e),
            this.Dispatch());
        }
        SetRequiresSalePageType(e) {}
        SetPlanAssetRequestGID(e) {
          this.m_oAdditionalRestrictions.plan_asset_request_gid != e &&
            ((this.m_oAdditionalRestrictions.plan_asset_request_gid = e),
            this.Dispatch());
        }
        SetUpdateEvent(e, t) {
          (this.m_oTemplateVars.update_event_gid === t &&
            this.m_oTemplateVars.update_event_clan_accountid == e) ||
            ((this.m_oTemplateVars.update_event_gid = t),
            (this.m_oTemplateVars.update_event_clan_accountid = e),
            this.Dispatch());
        }
        ClearUpdateEvent() {
          this.m_oTemplateVars.update_event_gid &&
            ((this.m_oTemplateVars.update_event_gid = void 0),
            (this.m_oTemplateVars.update_event_clan_accountid = void 0),
            this.Dispatch());
        }
        RevertChanges() {
          this.Reset(JSON.parse(JSON.stringify(this.m_originalMessage))),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.Cg)([l.sH], v.prototype, "m_bDirty", void 0),
        (0, n.Cg)([u.o], v.prototype, "ClearAllLegacyRestrictions", null),
        (0, n.Cg)([u.o], v.prototype, "SetExplicitNoLegalPartnerNeeded", null),
        (0, n.Cg)([u.o], v.prototype, "SetAdminNote", null),
        (0, n.Cg)([u.o], v.prototype, "SetName", null),
        (0, n.Cg)([u.o], v.prototype, "SetType", null),
        (0, n.Cg)([u.o], v.prototype, "SetVisibility", null),
        (0, n.Cg)([u.o], v.prototype, "SetAssociation", null),
        (0, n.Cg)([u.o], v.prototype, "ClearAssociation", null),
        (0, n.Cg)([u.o], v.prototype, "SetMessageTime", null),
        (0, n.Cg)([u.o], v.prototype, "SetMessageStartTime", null),
        (0, n.Cg)([u.o], v.prototype, "SetMessageEndTime", null),
        (0, n.Cg)([u.o], v.prototype, "SetCountryAllow", null),
        (0, n.Cg)([u.o], v.prototype, "SetCountryDeny", null),
        (0, n.Cg)([u.o], v.prototype, "ClearCountryRestrictions", null),
        (0, n.Cg)([u.o], v.prototype, "SetAndConvertURL", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustOwnAppID", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustNotOwnAppID", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustOwnPackageID", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustNotOwnPackageID", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustHaveLaunchedAppID", null),
        (0, n.Cg)([u.o], v.prototype, "SetLinkURL", null),
        (0, n.Cg)([u.o], v.prototype, "SetRealm", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustUseClientLanguage", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustHaveClientPackageGTE", null),
        (0, n.Cg)([u.o], v.prototype, "SetMustHaveClientPackageLTE", null),
        (0, n.Cg)([u.o], v.prototype, "SetPlatformWindows", null),
        (0, n.Cg)([u.o], v.prototype, "SetPlatformMac", null),
        (0, n.Cg)([u.o], v.prototype, "SetPlatformLinux", null),
        (0, n.Cg)([u.o], v.prototype, "SetNoFiltersRequired", null),
        (0, n.Cg)([u.o], v.prototype, "AddToWatchList", null),
        (0, n.Cg)([u.o], v.prototype, "ClearWatchList", null),
        (0, n.Cg)([u.o], v.prototype, "RemoveFromWatchList", null),
        (0, n.Cg)([u.o], v.prototype, "ClearUserDynamicFilter", null),
        (0, n.Cg)([u.o], v.prototype, "ReplaceUserFilter", null),
        (0, n.Cg)([u.o], v.prototype, "AddNewAndUserFilter", null),
        (0, n.Cg)([u.o], v.prototype, "RemoveAndUserFilter", null),
        (0, n.Cg)([u.o], v.prototype, "AddNewOrUserFilter", null),
        (0, n.Cg)([u.o], v.prototype, "RemoveOrUserFilterAt", null),
        (0, n.Cg)([u.o], v.prototype, "UpdateUserFilter", null),
        (0, n.Cg)([u.o], v.prototype, "SetButtonToken", null),
        (0, n.Cg)([u.o], v.prototype, "SetLegalTextPartnerName", null),
        (0, n.Cg)([u.o], v.prototype, "SetHidePriceOnMessage", null),
        (0, n.Cg)([u.o], v.prototype, "SetTemplateAssetImagePath", null),
        (0, n.Cg)([u.o], v.prototype, "ClearAllAssetObjects", null),
        (0, n.Cg)([u.o], v.prototype, "DeleteAssetObjectLang", null),
        (0, n.Cg)([u.o], v.prototype, "ClearUserFilters", null),
        (0, n.Cg)([u.o], v.prototype, "SetInternalAssetURL", null),
        (0, n.Cg)([u.o], v.prototype, "SetCustomLegalText", null),
        (0, n.Cg)([u.o], v.prototype, "SetUseCustomLegalText", null),
        (0, n.Cg)([u.o], v.prototype, "SetAnimatedAssetsEnabled", null),
        (0, n.Cg)([u.o], v.prototype, "SetAssociatedItemReleaseState", null),
        (0, n.Cg)([u.o], v.prototype, "SetSaleEvent", null),
        (0, n.Cg)([u.o], v.prototype, "ClearSalePage", null),
        (0, n.Cg)([u.o], v.prototype, "SetRequiresSalePage", null),
        (0, n.Cg)([u.o], v.prototype, "SetRequiresSalePageType", null),
        (0, n.Cg)([u.o], v.prototype, "SetPlanAssetRequestGID", null),
        (0, n.Cg)([u.o], v.prototype, "SetUpdateEvent", null),
        (0, n.Cg)([u.o], v.prototype, "ClearUpdateEvent", null),
        (0, n.Cg)([u.o], v.prototype, "RevertChanges", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "Dispatch", null);
    },
    81418: (e, t, a) => {
      "use strict";
      a.d(t, {
        CN: () => s,
        Xd: () => u,
        YI: () => i,
        Ym: () => c,
        mA: () => m,
        qc: () => d,
        rj: () => n,
        sp: () => o,
      });
      var n,
        r,
        i,
        s,
        l = a(22837);
      function o(e, t) {
        if (e) {
          const a =
            e.collect_trailer_permissions ||
            e.collect_demo_permissions ||
            e.collect_game_profile_intent;
          return Boolean(
            e.categories?.enabled ||
              e.artist_statement?.enabled ||
              e.free_to_keep_item_drop?.enabled ||
              e.primary_country?.enabled ||
              e.press_contact?.enabled ||
              e.dynamic_sections?.length > 0 ||
              (e.additional_featuring_section_enabled &&
                a &&
                (!t || t.additional_featuring)),
          );
        }
        return !1;
      }
      function c(e, t, a = "") {
        if (e) {
          const n = (0, l.Lg)(t);
          return e[n] ? e[n] : e.english ? e.english : a;
        }
        return a;
      }
      function m(e, t, a = "") {
        if (e) {
          const n = (0, l.Lg)(t);
          return e[n] ? e[n] : a;
        }
        return a;
      }
      function d(e, t) {
        const a = (0, l.Lg)(t);
        return e?.[a]?.length > 0;
      }
      function u(e) {
        e.dynamic_sections?.forEach((e) => {
          e.lists?.forEach((e) => {
            e.options?.forEach((e, t) => {
              p(e.text), p(e.tooltip);
            });
          });
        });
      }
      function p(e) {
        if (e)
          for (let t = 0; t < 31; ++t) {
            const a = (0, l.Lg)(t);
            null == e[a] ||
              null == e[a] ||
              Number.isNaN(e[a]) ||
              (e[a] = "" + e[a]);
          }
      }
      !(function (e) {
        (e[(e[""] = 0)] = ""),
          (e[(e["Steam Game Festival"] = 1)] = "Steam Game Festival"),
          (e[(e["Tabletop Festival"] = 2)] = "Tabletop Festival");
      })(n || (n = {})),
        (function (e) {
          (e[(e.k_Optional = 0)] = "k_Optional"),
            (e[(e.k_Suggested = 1)] = "k_Suggested"),
            (e[(e.k_Required = 2)] = "k_Required");
        })(r || (r = {})),
        (function (e) {
          (e[(e.k_EOptInType_EventRegistration = 0)] =
            "k_EOptInType_EventRegistration"),
            (e[(e.k_EOptInType_RecommendedAction = 1)] =
              "k_EOptInType_RecommendedAction");
        })(i || (i = {})),
        (function (e) {
          (e[(e.k_EOptInVisibility_Public = 0)] = "k_EOptInVisibility_Public"),
            (e[(e.k_EOptInVisibility_InviteOnly = 1)] =
              "k_EOptInVisibility_InviteOnly");
        })(s || (s = {}));
    },
    77515: (e, t, a) => {
      "use strict";
      a.d(t, {
        AE: () => g,
        Dj: () => E,
        Rv: () => y,
        Xo: () => h,
        YG: () => p,
        Zg: () => _,
        cg: () => f,
        dv: () => d,
        h6: () => v,
        m: () => S,
      });
      var n = a(34629),
        r = a(22837),
        i = a(81418),
        s = a(29385),
        l = a(14947),
        o = a(63556),
        c = a(44332),
        m = a(73745);
      const d = "email_",
        u = "email_section_";
      var p;
      !(function (e) {
        (e[(e.k_RegistrationConfirmation = 0)] = "k_RegistrationConfirmation"),
          (e[(e.k_Reminder = 1)] = "k_Reminder"),
          (e[(e.k_Invite = 2)] = "k_Invite"),
          (e[(e.k_Followup = 3)] = "k_Followup"),
          (e[(e.k_Starting = 4)] = "k_Starting"),
          (e[(e.k_InviteReminder = 5)] = "k_InviteReminder"),
          (e[(e.k_Update = 6)] = "k_Update"),
          (e[(e.k_PermissionRequest = 7)] = "k_PermissionRequest"),
          (e[(e.k_MediaUsageNotification = 8)] = "k_MediaUsageNotification"),
          (e[(e.k_GeneralCommunication = 9)] = "k_GeneralCommunication"),
          (e[(e.k_SteamAwardFinalists = 10)] = "k_SteamAwardFinalists");
      })(p || (p = {}));
      const _ = [
        p.k_Invite,
        p.k_InviteReminder,
        p.k_RegistrationConfirmation,
        p.k_Update,
        p.k_Reminder,
        p.k_Starting,
        p.k_Followup,
        p.k_PermissionRequest,
        p.k_MediaUsageNotification,
        p.k_GeneralCommunication,
        p.k_SteamAwardFinalists,
      ];
      function g(e) {
        switch (e) {
          case p.k_Invite:
            return "Invitation Email";
          case p.k_InviteReminder:
            return "Invitation Reminder Email";
          case p.k_RegistrationConfirmation:
            return "Registration Success Email";
          case p.k_Update:
            return "General Update";
          case p.k_Reminder:
            return "Reminder Email - Just Days Until It Starts";
          case p.k_Starting:
            return "Event Starts Today Email";
          case p.k_Followup:
            return "Follow-up Email";
          case p.k_PermissionRequest:
            return "Media Permission Request";
          case p.k_MediaUsageNotification:
            return "Media Usage Notification";
          case p.k_GeneralCommunication:
            return "Game Specific General Communication";
          case p.k_SteamAwardFinalists:
            return "Steam Awards Finalists Notification";
        }
        return "unknown";
      }
      function h(e) {
        switch (e) {
          case p.k_Invite:
          case p.k_InviteReminder:
            return "Here's what you need to know and how to get registered:";
          case p.k_RegistrationConfirmation:
          case p.k_Update:
            return "Below are some general things to keep in mind and make use of while you prepare for your participation.";
          case p.k_Reminder:
            return "We're here to help connect you with everything you need to have a successful event.";
          case p.k_Starting:
          case p.k_Followup:
          case p.k_PermissionRequest:
          case p.k_MediaUsageNotification:
          case p.k_GeneralCommunication:
            return null;
          case p.k_SteamAwardFinalists:
            return "Here's how to get the most out of the Steam Awards";
        }
        return "unknown";
      }
      var E;
      !(function (e) {
        (e[(e.k_Custom = 0)] = "k_Custom"),
          (e[(e.k_AssetKit = 1)] = "k_AssetKit"),
          (e[(e.k_DemoPressPreview = 2)] = "k_DemoPressPreview"),
          (e[(e.k_ScheduleLiveStream = 3)] = "k_ScheduleLiveStream"),
          (e[(e.k_CancelSection = 4)] = "k_CancelSection"),
          (e[(e.k_DemoNotReady = 5)] = "k_DemoNotReady"),
          (e[(e.k_ReviewCategorization = 6)] = "k_ReviewCategorization"),
          (e[(e.k_DemoReview = 7)] = "k_DemoReview"),
          (e[(e.k_PressPreviewDetails = 8)] = "k_PressPreviewDetails"),
          (e[(e.k_StatsSummary = 9)] = "k_StatsSummary"),
          (e[(e.k_SurveyButton = 10)] = "k_SurveyButton"),
          (e[(e.k_DemoLaunch = 11)] = "k_DemoLaunch"),
          (e[(e.k_CallForRegistration = 12)] = "k_CallForRegistration"),
          (e[(e.k_EnterDiscount = 13)] = "k_EnterDiscount"),
          (e[(e.k_EnterDiscountReminder = 14)] = "k_EnterDiscountReminder"),
          (e[(e.k_LearnMore = 15)] = "k_LearnMore"),
          (e[(e.k_MediaUsePermission = 16)] = "k_MediaUsePermission"),
          (e[(e.k_MeasureResults = 17)] = "k_MeasureResults"),
          (e[(e.k_TrailerOrDemoPermissions = 18)] =
            "k_TrailerOrDemoPermissions"),
          (e[(e.k_NextFestQASession = 19)] = "k_NextFestQASession"),
          (e[(e.k_NextFestReturns = 20)] = "k_NextFestReturns"),
          (e[(e.k_NextFestWhatNext = 21)] = "k_NextFestWhatNext"),
          (e[(e.k_NextFestTips = 22)] = "k_NextFestTips"),
          (e[(e.k_NextFestStartsNow = 23)] = "k_NextFestStartsNow"),
          (e[(e.k_MeasureResultsFree = 24)] = "k_MeasureResultsFree"),
          (e[(e.k_NextFestThankYou = 25)] = "k_NextFestThankYou"),
          (e[(e.k_MediaPermissionReminder = 26)] = "k_MediaPermissionReminder"),
          (e[(e.k_SaleThankYou = 27)] = "k_SaleThankYou"),
          (e[(e.k_NextFestMediaUsageIntended = 28)] =
            "k_NextFestMediaUsageIntended"),
          (e[(e.k_GenericActionLink = 29)] = "k_GenericActionLink"),
          (e[(e.k_SteamAwardsCategories = 30)] = "k_SteamAwardsCategories"),
          (e[(e.k_NextFestMediaUsageIntendedTrailer = 31)] =
            "k_NextFestMediaUsageIntendedTrailer"),
          (e[(e.k_NextFestMediaUsageIntendedLivestream = 32)] =
            "k_NextFestMediaUsageIntendedLivestream"),
          (e[(e.k_NextFestTopGameWrapUp = 33)] = "k_NextFestTopGameWrapUp"),
          (e[(e.k_ImageBoxSection = 34)] = "k_ImageBoxSection"),
          (e[(e.k_MeasureResultsNextFest = 35)] = "k_MeasureResultsNextFest"),
          (e[(e.k_SeasonalFeatureRequest = 36)] = "k_SeasonalFeatureRequest"),
          (e[(e.k_SeasonalFeatureDiscount = 37)] = "k_SeasonalFeatureDiscount"),
          (e[(e.k_GenericActionButton = 38)] = "k_GenericActionButton");
      })(E || (E = {}));
      const S = [
        E.k_Custom,
        E.k_CallForRegistration,
        E.k_AssetKit,
        E.k_DemoPressPreview,
        E.k_DemoReview,
        E.k_DemoLaunch,
        E.k_DemoNotReady,
        E.k_EnterDiscount,
        E.k_EnterDiscountReminder,
        E.k_ScheduleLiveStream,
        E.k_ReviewCategorization,
        E.k_LearnMore,
        E.k_CancelSection,
        E.k_StatsSummary,
        E.k_SurveyButton,
        E.k_MediaUsePermission,
        E.k_TrailerOrDemoPermissions,
        E.k_MeasureResults,
        E.k_MeasureResultsFree,
        E.k_MeasureResultsNextFest,
        E.k_NextFestQASession,
        E.k_PressPreviewDetails,
        E.k_NextFestReturns,
        E.k_NextFestWhatNext,
        E.k_NextFestTips,
        E.k_NextFestStartsNow,
        E.k_NextFestThankYou,
        E.k_NextFestMediaUsageIntended,
        E.k_NextFestMediaUsageIntendedTrailer,
        E.k_NextFestMediaUsageIntendedLivestream,
        E.k_NextFestTopGameWrapUp,
        E.k_MediaPermissionReminder,
        E.k_SaleThankYou,
        E.k_GenericActionLink,
        E.k_GenericActionButton,
        E.k_SteamAwardsCategories,
        E.k_ImageBoxSection,
        E.k_SeasonalFeatureRequest,
        E.k_SeasonalFeatureDiscount,
      ];
      function y(e) {
        switch (e) {
          case E.k_Custom:
            return "Custom text section";
          case E.k_CallForRegistration:
            return "Register now by dateX";
          case E.k_AssetKit:
            return "Asset kit section";
          case E.k_ScheduleLiveStream:
            return "Livestream, create up to n and see schedule";
          case E.k_CancelSection:
            return "Change of plans? Cancel until x";
          case E.k_DemoNotReady:
            return "Demo: cancel registration by date";
          case E.k_ReviewCategorization:
            return "Review your game's categorization";
          case E.k_DemoReview:
            return "Demo Reminder: Get your demo reviewed";
          case E.k_DemoLaunch:
            return "Demo Reminder: Launch your demo";
          case E.k_DemoPressPreview:
            return "Press Preview, Reminder to register now";
          case E.k_PressPreviewDetails:
            return "Next Fest: Press Preview, details";
          case E.k_EnterDiscount:
            return "Discount, Enter Now";
          case E.k_EnterDiscountReminder:
            return "Discount, Reminder";
          case E.k_SurveyButton:
            return "Survey button";
          case E.k_MeasureResults:
            return "Measuring Your Results (sales, wishlists, demos)";
          case E.k_StatsSummary:
            return "Game Stats; demos, wishlists, views, etc.";
          case E.k_LearnMore:
            return "Learn More Link";
          case E.k_MediaUsePermission:
            return "Permission Request: Media Usage";
          case E.k_TrailerOrDemoPermissions:
            return "Permission Request: Trailer and/or Demo";
          case E.k_MediaPermissionReminder:
            return "Permission Reminder: Trailer and/or Demo";
          case E.k_NextFestReturns:
            return "Next Fest:  Returns on _date_";
          case E.k_NextFestQASession:
            return "Next Fest: Join Us For A Live Q&A Session";
          case E.k_NextFestWhatNext:
            return "Next Fest: What's Next";
          case E.k_NextFestTips:
            return "Next Fest: Tips & Best Practices";
          case E.k_NextFestMediaUsageIntended:
            return "Next Fest: We Intend To Feature Your Game";
          case E.k_NextFestMediaUsageIntendedTrailer:
            return "Next Fest: We Intend To Feature Your Game in Trailer";
          case E.k_NextFestMediaUsageIntendedLivestream:
            return "Next Fest: We Intend To Feature Your Game in Livestream";
          case E.k_NextFestStartsNow:
            return "Next Fest: Starts Today!";
          case E.k_NextFestThankYou:
            return "Next Fest: Concludes. Thank You";
          case E.k_NextFestTopGameWrapUp:
            return "Next Fest: Top Games Of The Fest";
          case E.k_MeasureResultsNextFest:
            return "Next Fest: Measuring Your Results";
          case E.k_SaleThankYou:
            return "Sale Over: Thank You";
          case E.k_SeasonalFeatureRequest:
            return "Seasonal Sale: Can we feature your game?";
          case E.k_SeasonalFeatureDiscount:
            return "Seasonal Sale: Featured Discount Recommendations";
          case E.k_GenericActionLink:
            return "Generic Action Link";
          case E.k_GenericActionButton:
            return "Generic Action Button";
          case E.k_SteamAwardsCategories:
            return "Steam Awards Finalist Categories";
          case E.k_ImageBoxSection:
            return "Image Box Section";
          case E.k_MeasureResultsFree:
            return "(Deprecated) Measuring Your Results (wishlists, demos, livestreams)";
        }
        return "unknown";
      }
      class v {
        m_strOptInName;
        m_email = void 0;
        m_bReadOnly = !1;
        m_sections = void 0;
        constructor(e, t) {
          (0, l.Gn)(this),
            (this.m_strOptInName = e),
            (this.m_email = t),
            (this.m_sections = this.m_email.sections.map((e) => new f(e))),
            (this.m_email.custom_app_list = (
              this.m_email.custom_app_list || []
            ).map((e) => ("string" == typeof e ? Number.parseInt(e) : e)));
        }
        GetOwningOptInName() {
          return this.m_strOptInName;
        }
        SetReadOnly(e) {
          this.m_bReadOnly != e &&
            ((this.m_bReadOnly = e),
            this.m_sections.forEach((t) => t.SetReadOnly(e)));
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        BHasLanguageData(e) {
          const t = (0, r.Lg)(e);
          return (
            this.m_email.subject?.[t]?.length > 0 ||
            this.m_sections?.some((t) => t.BHasLangData(e))
          );
        }
        BIsDraftEmail() {
          return (
            null === this.m_email.email_def_id ||
            void 0 === this.m_email.email_def_id
          );
        }
        BHasSectionType(e) {
          return this.m_sections.some((t) => t.GetType() == e);
        }
        GetModel() {
          return this.m_email;
        }
        GetUniqueID() {
          return this.m_email.unique_id;
        }
        GetType() {
          return this.m_email.type;
        }
        GetNumberSections() {
          return this.m_sections.length;
        }
        GetEmailTargeting() {
          return this.m_email.targeting || 1;
        }
        GetServerEmailDefID() {
          return this.m_email.email_def_id
            ? "" + this.m_email.email_def_id
            : this.m_email.email_def_id;
        }
        GetInternalName() {
          return this.m_email.internal_name;
        }
        GetAssetKitURL() {
          return this.m_email.asset_kit_url;
        }
        GetWikiDocURL() {
          return this.m_email.wiki_doc_url;
        }
        GetSurveyLinkURL() {
          return this.m_email.survey_link_url;
        }
        GetSalePreviewPage() {
          return this.m_email.sale_preview_page;
        }
        GetScheduleMaxItems() {
          return this.m_email.schedule_max_items || 2;
        }
        GetDemoPressPreviewDate() {
          return this.m_email.demo_press_preview_date;
        }
        GetNextEditionDate() {
          return this.m_email.next_edition_date;
        }
        GetCancelDate() {
          return this.m_email.cancel_date;
        }
        GetPreviewDate() {
          return this.m_email.preview_date;
        }
        GetPermissionDate() {
          return this.m_email.permission_date;
        }
        GetTrailerLaunchDate() {
          return this.m_email.trailer_date;
        }
        GetLivestreamLaunchDate() {
          return this.m_email.livestream_date;
        }
        GetPressPreviewVisibleDate() {
          return this.m_email.press_preview_visible_date;
        }
        GetQASessionDate() {
          return this.m_email.qasession_date;
        }
        GetQASessionLink() {
          return this.m_email.qasession_link;
        }
        GetRecordedQASessionLink() {
          return this.m_email.recorded_qa_session_link;
        }
        GetCustomAppTargetList() {
          return this.m_email.custom_app_list || [];
        }
        BHasCustomAppTargetList() {
          return Boolean(this.m_email.custom_app_list?.length > 0);
        }
        GetTrailerDemoDeadlineDate() {
          return this.m_email.trailer_demo_deadline_date;
        }
        GetDemoTrailerRegLink() {
          return this.m_email.trailer_demo_reg_link;
        }
        GetGenericActionLink() {
          return this.m_email.generic_action_link;
        }
        GetGenericActionButtonLink() {
          return this.m_email.generic_button_link;
        }
        GetGenericActionButtonText(e) {
          return (
            (0, i.mA)(this.m_email.localized_generic_button_text, e, "") ?? ""
          );
        }
        GetGenericActionButtonTextWithFallback(e) {
          return (
            (0, i.Ym)(
              this.m_email.localized_generic_button_text,
              o.O.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        BHasImageUploaded() {
          return Boolean(
            this.m_email.localized_email_image &&
              "english" in this.m_email.localized_email_image &&
              this.m_email.localized_email_image.english,
          );
        }
        GetEmailImage(e) {
          return this.m_email.localized_email_image?.[(0, r.Lg)(e)];
        }
        GetEmailImageCount() {
          let e = 0;
          for (let t in this.m_email.localized_email_image || {})
            t?.length > 0 && (e += 1);
          return e;
        }
        GetAllEmailImages() {
          return this.m_email.localized_email_image || {};
        }
        GetSteamAwardsAdApp() {
          return this.m_email.steam_awards_advertising_app;
        }
        BHasSteamAwardsAdApp() {
          return Boolean(this.GetSteamAwardsAdApp());
        }
        GetSubject(e) {
          return (0, i.mA)(this.m_email.subject, e, "") ?? "";
        }
        GetSubjectWithFallback(e) {
          return (
            (0, i.Ym)(
              this.m_email.subject,
              o.O.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        GetSubjectToken() {
          return this.m_email.subject_token;
        }
        GetSections() {
          return this.m_sections;
        }
        GetSection(e) {
          return this.m_sections[e];
        }
        GetSectionByID(e) {
          for (let t = 0; t < this.m_sections.length; ++t)
            if (this.m_sections[t].GetUniqueID() == e)
              return this.m_sections[t];
          return null;
        }
        AddSection(e) {
          if (this.m_bReadOnly) return;
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetSectionByID(u + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          const a = { unique_id: u + t, type: e };
          this.m_email.sections || (this.m_email.sections = []),
            this.m_email.sections.push(a);
          const n = new f(
            this.m_email.sections[this.m_email.sections.length - 1],
          );
          this.m_sections.push(n), s.Mt.Get().SetDirty(!0);
        }
        RemoveSectionByIndex(e) {
          !this.m_bReadOnly &&
            this.m_email.sections &&
            (e < this.m_email.sections.length &&
              (this.m_email.sections.splice(e, 1),
              this.m_sections.splice(e, 1)),
            s.Mt.Get().SetDirty(!0));
        }
        SetEmailImage(e, t) {
          this.m_email.localized_email_image ||
            (this.m_email.localized_email_image = {});
          const a = (0, r.Lg)(e);
          this.m_email.localized_email_image[a] != t &&
            ((this.m_email.localized_email_image[a] = t),
            s.Mt.Get().SetDirty(!0));
        }
        SetAllEmailImages(e) {
          (this.m_email.localized_email_image = e), s.Mt.Get().SetDirty(!0);
        }
        SetServerEmailDefID(e) {
          this.m_email.email_def_id == e ||
            this.m_bReadOnly ||
            ((0, c.w)(
              null == this.m_email.email_def_id ||
                null == this.m_email.email_def_id,
              "Error: Reseting emailed def id from " +
                this.m_email.email_def_id +
                " to " +
                e,
            ),
            (this.m_email.email_def_id = "" + e),
            s.Mt.Get().SetDirty(!0));
        }
        SetType(e) {
          this.m_email.type == e ||
            this.m_bReadOnly ||
            ((this.m_email.type = e), s.Mt.Get().SetDirty(!0));
        }
        SetEmailTargeting(e) {
          this.m_email.targeting == e ||
            this.m_bReadOnly ||
            ((this.m_email.targeting = e), s.Mt.Get().SetDirty(!0));
        }
        SetInternalName(e) {
          this.m_email.internal_name == e ||
            this.m_bReadOnly ||
            ((this.m_email.internal_name = e), s.Mt.Get().SetDirty(!0));
        }
        SetAssetKitURL(e) {
          this.m_email.asset_kit_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.asset_kit_url = e), s.Mt.Get().SetDirty(!0));
        }
        SetWikiDocURL(e) {
          this.m_email.wiki_doc_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.wiki_doc_url = e), s.Mt.Get().SetDirty(!0));
        }
        SetSurveyLinkURL(e) {
          this.m_email.survey_link_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.survey_link_url = e), s.Mt.Get().SetDirty(!0));
        }
        SetSalePreviewURL(e) {
          this.m_email.sale_preview_page == e ||
            this.m_bReadOnly ||
            ((this.m_email.sale_preview_page = e), s.Mt.Get().SetDirty(!0));
        }
        SetDemoPreviewDate(e) {
          this.m_email.demo_press_preview_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.demo_press_preview_date = e),
            s.Mt.Get().SetDirty(!0));
        }
        SetCancelDate(e) {
          this.m_email.cancel_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.cancel_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetPreviewDate(e) {
          this.m_email.preview_date != e &&
            ((this.m_email.preview_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetPermissionDate(e) {
          this.m_email.permission_date != e &&
            ((this.m_email.permission_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetTrailerLaunchDate(e) {
          this.m_email.trailer_date != e &&
            ((this.m_email.trailer_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetLivestreamLaunchDate(e) {
          this.m_email.livestream_date != e &&
            ((this.m_email.livestream_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetPressPreviewVisibleDate(e) {
          this.m_email.press_preview_visible_date != e &&
            ((this.m_email.press_preview_visible_date = e),
            s.Mt.Get().SetDirty(!0));
        }
        SetScheduleMaxItems(e) {
          this.m_email.schedule_max_items == e ||
            this.m_bReadOnly ||
            ((this.m_email.schedule_max_items = e), s.Mt.Get().SetDirty(!0));
        }
        SetNextEditionDate(e) {
          this.m_email.next_edition_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.next_edition_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetQASessionDate(e) {
          this.m_email.qasession_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_date = e), s.Mt.Get().SetDirty(!0));
        }
        SetTrailerDemoDeadlineDate(e) {
          this.m_email.trailer_demo_deadline_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_deadline_date = e),
            s.Mt.Get().SetDirty(!0));
        }
        SetQASessionLink(e) {
          this.m_email.qasession_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_link = e), s.Mt.Get().SetDirty(!0));
        }
        SetDemoTrailerRegLink(e) {
          this.m_email.trailer_demo_reg_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_reg_link = e), s.Mt.Get().SetDirty(!0));
        }
        SetRecordedQASessionLink(e) {
          this.m_email.recorded_qa_session_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.recorded_qa_session_link = e),
            s.Mt.Get().SetDirty(!0));
        }
        SetSubject(e, t) {
          if (
            (0, i.mA)(this.m_email.subject, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, r.Lg)(t, "english");
            this.m_email.subject || (this.m_email.subject = {}),
              (this.m_email.subject[a] = e),
              s.Mt.Get().SetDirty(!0);
          }
        }
        ClearSubjectText() {
          (this.m_email.subject = {}), s.Mt.Get().SetDirty(!0);
        }
        SetSubjectToken(e) {
          this.m_email.subject_token == e ||
            this.m_bReadOnly ||
            (e && this.m_email.subject && (this.m_email.subject = {}),
            (this.m_email.subject_token = e),
            s.Mt.Get().SetDirty(!0));
        }
        AddAppToCustomList(e) {
          this.m_email.custom_app_list || (this.m_email.custom_app_list = []),
            this.m_email.custom_app_list.includes(e) ||
              (this.m_email.custom_app_list.push(e), s.Mt.Get().SetDirty(!0));
        }
        RemoveAppToCustomList(e) {
          if (this.m_email.custom_app_list) {
            const t = this.m_email.custom_app_list.findIndex((t) => e == t);
            if (t >= 0)
              return (
                this.m_email.custom_app_list.splice(t, 1),
                s.Mt.Get().SetDirty(!0),
                !0
              );
          }
          return !1;
        }
        ClearAllAppInCustomList() {
          return (
            this.m_email.custom_app_list?.length > 0 &&
            ((this.m_email.custom_app_list = []), s.Mt.Get().SetDirty(!0), !0)
          );
        }
        SetGenericActionLink(e) {
          this.m_email.generic_action_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.generic_action_link = e), s.Mt.Get().SetDirty(!0));
        }
        SetGenericActionButtonLink(e) {
          this.m_email.generic_button_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.generic_button_link = e), s.Mt.Get().SetDirty(!0));
        }
        SetGenericActionButtonText(e, t) {
          if (
            (0, i.mA)(this.m_email.localized_generic_button_text, t, void 0) !=
              e &&
            !this.m_bReadOnly
          ) {
            const a = (0, r.Lg)(t, "english");
            this.m_email.localized_generic_button_text ||
              (this.m_email.localized_generic_button_text = {}),
              (this.m_email.localized_generic_button_text[a] = e),
              s.Mt.Get().SetDirty(!0);
          }
        }
        SetSteamAwardsAdvertisingApp(e) {
          this.m_email.steam_awards_advertising_app == e ||
            this.m_bReadOnly ||
            ((this.m_email.steam_awards_advertising_app = e),
            s.Mt.Get().SetDirty(!0));
        }
      }
      (0, n.Cg)([l.sH], v.prototype, "m_email", void 0),
        (0, n.Cg)([l.sH], v.prototype, "m_sections", void 0),
        (0, n.Cg)([m.oI], v.prototype, "BHasLanguageData", null),
        (0, n.Cg)([m.oI], v.prototype, "GetGenericActionButtonText", null),
        (0, n.Cg)([m.oI], v.prototype, "GetSubject", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "AddSection", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "RemoveSectionByIndex", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetEmailImage", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetAllEmailImages", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetServerEmailDefID", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetType", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetEmailTargeting", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetInternalName", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetAssetKitURL", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetWikiDocURL", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetSurveyLinkURL", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetSalePreviewURL", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetDemoPreviewDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetCancelDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetPreviewDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetPermissionDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetTrailerLaunchDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetLivestreamLaunchDate", null),
        (0, n.Cg)(
          [l.XI.bound],
          v.prototype,
          "SetPressPreviewVisibleDate",
          null,
        ),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetScheduleMaxItems", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetNextEditionDate", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetQASessionDate", null),
        (0, n.Cg)(
          [l.XI.bound],
          v.prototype,
          "SetTrailerDemoDeadlineDate",
          null,
        ),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetQASessionLink", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetDemoTrailerRegLink", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetRecordedQASessionLink", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetSubject", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "ClearSubjectText", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetSubjectToken", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "AddAppToCustomList", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "RemoveAppToCustomList", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "ClearAllAppInCustomList", null),
        (0, n.Cg)([l.XI.bound], v.prototype, "SetGenericActionLink", null),
        (0, n.Cg)(
          [l.XI.bound],
          v.prototype,
          "SetGenericActionButtonLink",
          null,
        ),
        (0, n.Cg)(
          [l.XI.bound],
          v.prototype,
          "SetGenericActionButtonText",
          null,
        ),
        (0, n.Cg)(
          [l.XI.bound],
          v.prototype,
          "SetSteamAwardsAdvertisingApp",
          null,
        );
      class f {
        m_section = void 0;
        m_bReadOnly = !1;
        constructor(e) {
          (0, l.Gn)(this), (this.m_section = e);
        }
        SetReadOnly(e) {
          this.m_bReadOnly = e;
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetType() {
          return this.m_section.type;
        }
        GetModel() {
          return this.m_section;
        }
        BHasLangData(e) {
          return (
            (0, i.qc)(this.m_section.title, e) ||
            (0, i.qc)(this.m_section.description, e)
          );
        }
        GetTitle(e) {
          return (0, i.mA)(this.m_section.title, e, "") ?? "";
        }
        GetTitleWithFallback(e) {
          return (
            (0, i.Ym)(
              this.m_section.title,
              o.O.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        GetDescription(e) {
          return (0, i.mA)(this.m_section.description, e, "") ?? "";
        }
        GetDescriptionWithFallback(e) {
          return (
            (0, i.Ym)(
              this.m_section.description,
              o.O.Get().GetCurEditLanguage(),
              e,
            ) ?? ""
          );
        }
        SetType(e) {
          this.m_section.type == e ||
            this.m_bReadOnly ||
            (this.m_section.type == E.k_Custom &&
              e != E.k_Custom &&
              ((this.m_section.title = {}), (this.m_section.description = {})),
            (this.m_section.type = e),
            s.Mt.Get().SetDirty(!0));
        }
        SetTitle(e, t) {
          if (
            (0, i.mA)(this.m_section.title, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, r.Lg)(t, "english");
            this.m_section.title || (this.m_section.title = {}),
              (this.m_section.title[a] = e),
              s.Mt.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if (
            (0, i.mA)(this.m_section.description, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const a = (0, r.Lg)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[a] = e),
              s.Mt.Get().SetDirty(!0);
          }
        }
      }
      (0, n.Cg)([l.sH], f.prototype, "m_section", void 0),
        (0, n.Cg)([m.oI], f.prototype, "GetTitle", null),
        (0, n.Cg)([m.oI], f.prototype, "GetDescription", null),
        (0, n.Cg)([l.XI.bound], f.prototype, "SetType", null),
        (0, n.Cg)([l.XI.bound], f.prototype, "SetTitle", null),
        (0, n.Cg)([l.XI.bound], f.prototype, "SetDescription", null);
    },
    67239: (e, t, a) => {
      "use strict";
      a.d(t, {
        Hm: () => C,
        I8: () => w,
        Pq: () => D,
        QP: () => c,
        Qo: () => I,
        Ue: () => b,
        W7: () => g,
        Yh: () => v,
        Z7: () => S,
        ZK: () => h,
        ZL: () => y,
        db: () => _,
        lF: () => u,
        lt: () => d,
        n5: () => p,
        qt: () => f,
        re: () => E,
        vm: () => B,
        wv: () => m,
      });
      var n = a(17720),
        r = a(61859),
        i = a(91675),
        s = a(14771),
        l = a(78327),
        o = a(73523);
      const c = [
          "midweek",
          "weekenddeal",
          "saleevent",
          "themesale",
          "nextfest",
          "seasonalsale",
          "informational",
          "dailydeal",
          "vacation",
          "important",
          "preload",
          "assetrequest",
        ],
        m =
          (new Set(c),
          new Set([
            "midweek",
            "weekenddeal",
            "saleevent",
            "informational",
            "vacation",
            "important",
            "preload",
            "themesale",
            "nextfest",
            "seasonalsale",
          ])),
        d = new Set(["dailydeal", "assetrequest"]),
        u = 604800,
        p = 172800,
        _ = 0,
        g = new Map();
      g.set("midweek", "Midweek Deal"),
        g.set("weekenddeal", "Weekend Deal"),
        g.set("saleevent", "Sale Event"),
        g.set("themesale", "Theme Sale"),
        g.set("nextfest", "Next Fests"),
        g.set("seasonalsale", "Seasonal Sale"),
        g.set("informational", "Informational"),
        g.set("dailydeal", "Daily Deal"),
        g.set("vacation", "Vacation/PTO"),
        g.set("important", "Takeover / Takeunder"),
        g.set("preload", "Pre-load"),
        g.set("assetrequest", "Asset Request Only");
      const h = new Set();
      h.add("seasonalsale"), h.add("themesale"), h.add("nextfest");
      new Set().add("vacation");
      const E = new Set();
      E.add("important");
      const S = new Map();
      S.set("midweek", "#254069"),
        S.set("weekenddeal", "#254069"),
        S.set("saleevent", "#819c8a"),
        S.set("themesale", "#819c8a"),
        S.set("nextfest", "#819c8a"),
        S.set("seasonalsale", "#819c8a"),
        S.set("informational", "#474747"),
        S.set("dailydeal", "#80275D"),
        S.set("vacation", "#6f7485"),
        S.set("important", "#40ccfd"),
        S.set("preload", "#A47332"),
        S.set("assetrequest", "#80875D");
      const y = new Map();
      y.set("midweek", "#discount_desc_preset_midweek"),
        y.set("weekenddeal", "#discount_desc_preset_weekend"),
        y.set("saleevent", "#discount_desc_preset_special"),
        y.set("themesale", "#discount_desc_preset_special"),
        y.set("nextfest", "#discount_desc_preset_special"),
        y.set("seasonalsale", "#discount_desc_preset_special"),
        y.set("informational", "#discount_desc_limited_time_date"),
        y.set("dailydeal", "#discount_desc_preset_daily"),
        y.set("vacation", "#discount_desc_limited_time_date"),
        y.set("important", "#discount_desc_limited_time_date"),
        y.set("preload", "#discount_desc_limited_time_date");
      const v = new Map();
      v.set("midweek", ["Midweek", "Midweek Deal"]),
        v.set("weekenddeal", ["Weekend", "Weekend Deal"]);
      const f = new Map();
      f.set("none", ""),
        f.set("takeover", "Takeover"),
        f.set("takeunder", "Takeunder"),
        f.set("hub_takeover", "Hub"),
        f.set("regional_takeunder", "Regional Takeunder"),
        f.set("f2p", "F2P"),
        f.set("ea", "EA"),
        f.set("steamchina_takeover", "SC Takeover"),
        f.set("steamchina_only", "SC");
      const b = [
          "marketingmessage_art",
          "marketingmessage_art_2",
          "marketingmessage_art_eventcapsule",
          "marketingmessage_art_2_eventcapsule",
        ],
        w = [
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
        ];
      function D(e) {
        switch (e) {
          case "marketingmessage_art":
            return "Marketing Message Banner";
          case "marketingmessage_art_eventcapsule":
            return "Marketing Message Event Capsule";
          case "marketingmessage_art_2":
            return "Marketing Message Banner 2";
          case "marketingmessage_art_2_eventcapsule":
            return "Marketing Message Event Capsule 2";
          case "spotlight_art":
            return "Spotlight Banner";
          case "takeover_art":
            return "Takeover Banner";
          case "takeover_webm_art":
            return "Takeover Animated WEBM";
          case "takeover_mp4_art":
            return "Takoever Animated MP4";
          case "takeover_webm_mobile_art":
            return "Takoever Animated Mobile (WEBM)";
          case "takeover_mp4_mobile_art":
            return "Takoever Animated Mobile (MP4)";
          case "takeunder_art":
            return "Takeunder Banner";
          case "takeover_mobile_art":
            return "Takeover Mobile Banner";
          case "takeunder_mobile_art":
            return "Takeunder Mobile Banner";
          case "sale_header":
            return "Sale Page Background";
          case "sale_logo":
            return "Sale Logo Image";
          case "capsule":
            return "Event Cover Image";
          case "product_banner":
            return "Sale's Store Page Banner";
          case "product_mobile_banner":
            return "Sale's Store Page Mobile Banner";
          case "localized_title_image":
            return "Event Header Image";
          case "app_header_capsule":
            return "Promo App Header Capsule";
          case "app_main_capsule":
            return "Promo App Main Capsule";
          default:
            return "Unknown Promo Art Request";
        }
      }
      class C {
        static GetSpotlightEditURL(e) {
          return l.TS.PARTNER_BASE_URL + "admin/store/spotlight/" + e;
        }
        static GetMarketingMesssageEditURL(e) {
          return (
            l.TS.PARTNER_BASE_URL + "promotion/marketingmessages/edit/" + e
          );
        }
        static GetClusterEditURL(e, t) {
          switch (e) {
            case o.ii.k_ConfigPage_Takeover:
              return C.GetTakeoverEditURL(t);
            case o.ii.k_ConfigPage_Takeunder:
              return C.GetTakeunderEditURL(t);
            case o.ii.k_ConfigPage_TakeoverSteamChina:
              return C.GetSteamChinaTakeoverEditURL(t);
            default:
              return C.GetContentHubTakeoverEditURL(e, t);
          }
        }
        static GetTakeoverEditURL(e) {
          return (
            l.TS.PARTNER_BASE_URL + "admin/store/pageclusteredit/frontpage/" + e
          );
        }
        static GetContentHubTakeoverEditURL(e, t) {
          return `${l.TS.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, o.gw)(e)}/${t}`;
        }
        static GetTakeunderEditURL(e) {
          return (
            l.TS.PARTNER_BASE_URL + "admin/store/pageclusteredit/takeunder/" + e
          );
        }
        static GetMainCapsuleEditURL(e) {
          return (
            l.TS.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage/" +
            e +
            "?activetab=tab_capsules"
          );
        }
        static GetSteamChinaTakeoverEditURL(e) {
          return (
            l.TS.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage_china/" +
            e
          );
        }
        static GetOptInEditURL(e) {
          return l.TS.PARTNER_BASE_URL + "optin/admin/edit/" + e;
        }
        static GetGiveawayControlsURL(e) {
          return l.TS.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetDiscountEditURL(e) {
          return l.TS.PARTNER_BASE_URL + "admin/editdiscountevent/" + e;
        }
        static GetGiveawayEditURL(e) {
          return l.TS.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetSalePageClanEditURL(e, t) {
          const a = n.b.InitFromClanID(e);
          return (
            l.TS.COMMUNITY_BASE_URL +
            "/gid/" +
            a.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t
          );
        }
        static GetAdvertingAppLandingURL(e) {
          return l.TS.PARTNER_BASE_URL + "apps/landing/" + e;
        }
      }
      const I = new Map();
      I.set("midweek", {
        nMaxSlots: 6,
        rtStartModifier: 10 * s.Kp.PerHour,
        rtEndModifier: 3 * s.Kp.PerDay + 10 * s.Kp.PerHour,
        fnRenderWeekDisplayForSelection: (e, t) => {
          const a = new Date(1e3 * (e + 10800));
          a.setHours(10);
          const n = Math.floor(a.getTime() / 1e3),
            s = (0, r.TW)(n);
          (0, i.KC)(n);
          return s + ": " + t + (1 == t ? " slot" : " slots");
        },
        nDaysDiscountEvent: 7,
        rtDays: 3,
      }),
        I.set("weekenddeal", {
          nMaxSlots: 6,
          rtStartModifier: 3 * s.Kp.PerDay + 10 * s.Kp.PerHour,
          rtEndModifier: 7 * s.Kp.PerDay + 10 * s.Kp.PerHour,
          fnRenderWeekDisplayForSelection: (e, t) => {
            const a = new Date(1e3 * (e + 259200 + 10800));
            a.setHours(10);
            const n = Math.floor(a.getTime() / 1e3),
              s = (0, r.TW)(n);
            (0, i.KC)(n);
            return s + ": " + t + (1 == t ? " slot" : " slots");
          },
          nDaysDiscountEvent: 7,
          rtDays: 4,
        });
      const B = ["midweek", "weekenddeal"];
      new Set(B);
    },
    92135: (e, t, a) => {
      "use strict";
      a.d(t, {
        Oq: () => _,
        gM: () => d,
        mF: () => p,
        nx: () => u,
        pf: () => g,
      });
      var n = a(34629),
        r = a(22837),
        i = a(14947),
        s = a(17720),
        l = a(63556),
        o = a(62490),
        c = a(6419),
        m = a(6144);
      const d = [
        "localized_capsule_image",
        "localized_sale_header",
        "localized_sale_logo",
        "localized_sale_product_banner",
        "localized_sale_product_mobile_banner",
        "localized_title_image",
      ];
      function u(e) {
        switch (e) {
          case "localized_capsule_image":
            return "Event Cover Image";
          case "localized_sale_header":
            return "Sales Background Image";
          case "localized_sale_logo":
            return "Sales Logo";
          case "localized_sale_product_banner":
            return "Sale Pages Product Banner";
          case "localized_sale_product_mobile_banner":
            return "Sale Pages Product Banner (mobile)";
          case "localized_title_image":
            return "Event Header Image";
        }
      }
      function p(e) {
        switch (e) {
          case "localized_capsule_image":
            return "capsule";
          case "localized_sale_header":
            return "sale_header";
          case "localized_sale_logo":
            return "sale_logo";
          case "localized_sale_product_banner":
            return "product_banner";
          case "localized_sale_product_mobile_banner":
            return "product_mobile_banner";
          case "localized_title_image":
            return "localized_title_image";
        }
      }
      function _(e) {
        switch (e) {
          case "capsule":
            return "localized_capsule_image";
          case "sale_header":
            return "localized_sale_header";
          case "sale_logo":
            return "localized_sale_logo";
          case "product_banner":
            return "localized_sale_product_banner";
          case "product_mobile_banner":
            return "localized_sale_product_mobile_banner";
          case "localized_title_image":
            return "localized_title_image";
          default:
            return;
        }
      }
      class g {
        m_oSalePage = null;
        m_originalSalePage = null;
        m_bDirty = !1;
        m_callback = new m.lu();
        constructor(e) {
          (0, i.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oSalePage = JSON.parse(JSON.stringify(e))),
            this.m_oSalePage &&
              ((this.m_oSalePage.jsondata.localized_capsule_image = (0, o.$Y)(
                this.m_oSalePage.jsondata.localized_capsule_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_header = (0, o.$Y)(
                this.m_oSalePage.jsondata.localized_sale_header || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_logo = (0, o.$Y)(
                this.m_oSalePage.jsondata.localized_sale_logo || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_banner = (0,
              o.$Y)(
                this.m_oSalePage.jsondata.localized_sale_product_banner || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_mobile_banner =
                (0, o.$Y)(
                  this.m_oSalePage.jsondata
                    .localized_sale_product_mobile_banner || [],
                  31,
                  null,
                )),
              (this.m_oSalePage.jsondata.localized_title_image = (0, o.$Y)(
                this.m_oSalePage.jsondata.localized_title_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.clanSteamID = new s.b(
                this.m_oSalePage.clanSteamID,
              ))),
            (this.m_originalSalePage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSalePage;
        }
        GetAssetModel() {
          return {
            localized_capsule_image:
              this.m_oSalePage.jsondata.localized_capsule_image,
            localized_sale_header:
              this.m_oSalePage.jsondata.localized_sale_header,
            localized_sale_logo: this.m_oSalePage.jsondata.localized_sale_logo,
            localized_sale_product_banner:
              this.m_oSalePage.jsondata.localized_sale_product_banner,
            localized_sale_product_mobile_banner:
              this.m_oSalePage.jsondata.localized_sale_product_mobile_banner,
            localized_title_image:
              this.m_oSalePage.jsondata.localized_title_image,
          };
        }
        GetName(e = 0) {
          return this.m_oSalePage.name.get(e);
        }
        GetStartDate() {
          return this.m_oSalePage.startTime || 0;
        }
        GetPromoModifyTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetAssetUpdateTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetImage(e, t) {
          return this.m_oSalePage.jsondata[e]?.[t];
        }
        GetCurImage(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetAssetsObject(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetClanAccountID() {
          return this.m_oSalePage.clanSteamID.GetAccountID();
        }
        GetClanSteamID() {
          return this.m_oSalePage.clanSteamID;
        }
        GetGID() {
          return this.m_oSalePage.GID;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, l.O.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          (this.m_oSalePage.jsondata[e][t] = a), this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oSalePage.jsondata[e] = (0, o.$Y)([], 31, null)),
            this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          (0, r.Lg)(t);
          (this.m_oSalePage.jsondata[e][t] = null), this.Dispatch();
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          this.Reset(this.m_originalSalePage), this.m_callback.Dispatch(this);
        }
      }
      (0, n.Cg)([i.sH], g.prototype, "m_bDirty", void 0),
        (0, n.Cg)([c.o], g.prototype, "SetCurImage", null),
        (0, n.Cg)([i.XI.bound], g.prototype, "SetImage", null),
        (0, n.Cg)([c.o], g.prototype, "ClearAllAssetObjects", null),
        (0, n.Cg)([c.o], g.prototype, "DeleteAssetObjectLang", null),
        (0, n.Cg)([c.o], g.prototype, "RevertChanges", null);
    },
    92391: (e, t, a) => {
      "use strict";
      a.d(t, { $U: () => r, A8: () => i, QT: () => s, lQ: () => n });
      const n = [
        "webm_page_bg",
        "mp4_page_bg",
        "page_bg",
        "page_bg_mobile",
        "mp4_page_bg_mobile",
        "webm_page_bg_mobile",
      ];
      function r(e) {
        switch (e) {
          case "page_bg":
            return "Takeover Background";
          case "page_bg_mobile":
            return "Takeover Background Mobile";
          case "webm_page_bg":
            return "Takeover Animated (webm)";
          case "mp4_page_bg":
            return "Takeover Animated (mp4)";
          case "webm_page_bg_mobile":
            return "Takeover Animated Mobile (webm)";
          case "mp4_page_bg_mobile":
            return "Takeover Animated Mobile (mp4)";
        }
      }
      function i(e) {
        switch (e) {
          case "takeover_art":
            return "page_bg";
          case "takeover_mobile_art":
            return "page_bg_mobile";
          case "takeover_webm_art":
            return "webm_page_bg";
          case "takeover_mp4_art":
            return "mp4_page_bg";
          case "takeover_webm_mobile_art":
            return "webm_page_bg_mobile";
          case "takeover_mp4_mobile_art":
            return "mp4_page_bg_mobile";
          default:
            return;
        }
      }
      function s(e) {
        switch (e) {
          case "page_bg":
            return "takeover_art";
          case "page_bg_mobile":
            return "takeover_mobile_art";
          case "webm_page_bg":
            return "takeover_webm_art";
          case "mp4_page_bg":
            return "takeover_mp4_art";
          case "webm_page_bg_mobile":
            return "takeover_webm_mobile_art";
          case "mp4_page_bg_mobile":
            return "takeover_mp4_mobile_art";
        }
      }
    },
    49821: (e, t, a) => {
      "use strict";
      a.d(t, { NU: () => r, ir: () => i, m9: () => s, rk: () => n });
      const n = ["takeunder_desktop", "takeunder_mobile"];
      function r(e) {
        switch (e) {
          case "takeunder_desktop":
            return "Takeunder Banner";
          case "takeunder_mobile":
            return "Takeunder Bannerr Mobile";
        }
      }
      function i(e) {
        switch (e) {
          case "takeunder_art":
          case "takeunder_mobile_art":
            return "takeunder_desktop";
          default:
            return;
        }
      }
      function s(e) {
        switch (e) {
          case "takeunder_desktop":
            return "takeunder_art";
          case "takeunder_mobile":
            return "takeunder_mobile_art";
        }
      }
    },
    5917: (e, t, a) => {
      "use strict";
      a.d(t, { JK: () => m, wI: () => c });
      var n,
        r = a(41735),
        i = a.n(r),
        s = a(51614),
        l = a(68797),
        o = a(30470);
      !(function (e) {
        (e.k_AppTypeGame = "Game"),
          (e.k_AppTypeApplication = "Application"),
          (e.k_AppTypeTool = "Tool"),
          (e.k_AppTypeDemo = "Demo"),
          (e.k_AppTypeDlc = "DLC"),
          (e.k_AppTypeMod = "Mod"),
          (e.k_AppTypeGuide = "Guide"),
          (e.k_AppTypeMedia = "Media"),
          (e.k_AppTypeConfig = "Config"),
          (e.k_AppTypeMusicAlbum = "Music"),
          (e.k_AppTypePlugIn = "PlugIn"),
          (e.k_AppTypeHardware = "Hardware"),
          (e.k_AppTypeBeta = "Beta"),
          (e.k_AppTypeMovie = "Movie"),
          (e.k_AppTypeAdvertising = "Advertising");
      })(n || (n = {}));
      const c = 2 == o.TS.EUNIVERSE ? 12 : 504;
      function m(e, t = c, a = !0) {
        const r = (0, s.n)({
          mutationFn: async (e) => {
            const t = `${o.TS.PARTNER_BASE_URL}apps/ajaxcreatenewapp/`,
              a = new FormData();
            a.append("sessionid", o.TS.SESSIONID),
              a.append("name", e.name),
              a.append("type", e.type),
              a.append("range", "" + (e.range || 10)),
              a.append(
                "add_partner_app_reporting",
                e.add_partner_app_reporting ? "1" : "0",
              ),
              a.append("publisherid", "" + e.publisherid),
              a.append("parentid", "" + (e.parentid || 0)),
              a.append("f2p", e.f2p ? "1" : "0"),
              a.append("f2ptext", e.f2ptext ? "1" : "0"),
              a.append("auto_publish", "" + (e.auto_publish || 0));
            const n = await i().post(t, a);
            if (200 == n?.status && 1 == n.data?.success && n.data.appid)
              return n.data.appid;
            const r = (0, l.H)(n);
            return (
              console.error(
                "useCreateApp failed to create app " + r.strErrorMsg,
                r,
                n,
              ),
              null
            );
          },
        });
        return (0, s.n)({
          mutationFn: async () => {
            const i = {
              name: e,
              publisherid: t,
              type: n.k_AppTypeAdvertising,
              range: 10,
              add_partner_app_reporting: !1,
              auto_publish: a,
            };
            return await r.mutateAsync(i);
          },
        });
      }
    },
    93095: (e, t, a) => {
      "use strict";
      a.d(t, { F_: () => u, QJ: () => p, gt: () => _ });
      var n = a(41735),
        r = a.n(n),
        i = a(58632),
        s = a.n(i),
        l = a(90626),
        o = a(54806),
        c = a(61859),
        m = a(78327),
        d = a(75493);
      function u(e, t) {
        const a = (0, d.V)(),
          n = l.useMemo(
            () => ({
              bExcludeExpired: t?.bExcludeExpired ?? !0,
              bExcludeCommercial: t?.bExcludeCommercial ?? !0,
              nPartnerID: t?.nPartnerID ?? a,
            }),
            [a, t?.bExcludeExpired, t?.bExcludeCommercial, t?.nPartnerID],
          ),
          i = (0, l.useMemo)(() => {
            const t = Array.from(new Set(e)).filter((e) => e > 0),
              a = [];
            for (let e = 0; e < t.length; e += 100) a.push(t.slice(e, e + 100));
            return a;
          }, [e]),
          c = (0, o.E)({
            queries: i.map((e) => ({
              queryKey: ["useAppWithDiscounts", n, e],
              queryFn: () =>
                (function (e) {
                  const t = JSON.stringify(e);
                  E.get(t) ||
                    E.set(
                      t,
                      new (s())(
                        async (t) => {
                          const a =
                              m.TS.PARTNER_BASE_URL +
                              "discounts/ajaxgetdiscountbyapp",
                            n = new Map();
                          if (!t || 0 == t.length) return [];
                          const i = [...t],
                            s = [];
                          for (; i.length > 0; ) {
                            const t = new FormData(),
                              n = i.splice(0, 250);
                            t.append("sessionid", m.TS.SESSIONID),
                              t.append("rgAppIDs", n.join(",")),
                              t.append(
                                "bExcludeExpired",
                                e.bExcludeExpired ? "1" : "0",
                              ),
                              t.append(
                                "bExcludeCommercial",
                                e.bExcludeCommercial ? "1" : "0",
                              ),
                              e.nPartnerID &&
                                t.append(
                                  "publisherid",
                                  e.nPartnerID.toString(),
                                ),
                              s.push(r().post(a, t, { withCredentials: !0 }));
                          }
                          return (
                            (await Promise.all(s)).forEach((e) => {
                              if (
                                200 == e?.status &&
                                1 == e?.data?.success &&
                                e?.data?.map
                              )
                                for (let t in e.data.map) {
                                  const a = Number.parseInt(t);
                                  a &&
                                    n.set(a, {
                                      storeItem: a,
                                      discountSetting: e.data.map[a],
                                    });
                                }
                              else
                                console.log(
                                  "Error: Failed on FetchDiscountByApp request " +
                                    e?.status +
                                    " " +
                                    e?.statusText +
                                    " " +
                                    e?.data?.success,
                                );
                            }),
                            t.map((e) => n.get(e) ?? null)
                          );
                        },
                        { maxBatchSize: 100 },
                      ),
                    );
                  return E.get(t);
                })(n).loadMany(e),
            })),
          }),
          u = c.some((e) => e.isLoading);
        return l.useMemo(() => {
          let e = new Map();
          return (
            u ||
              c.forEach((t) => {
                t.isSuccess &&
                  t.data &&
                  t.data.forEach((t) => {
                    !t ||
                      t instanceof Error ||
                      e.set(t.storeItem, t.discountSetting);
                  });
              }),
            e
          );
        }, [e, n, u]);
      }
      function p(e, t) {
        const a = g,
          n = (0, d.V)(),
          r = {
            bExcludeExpired: t?.bExcludeExpired ?? !0,
            nPartnerID: t?.nPartnerID ?? n,
          },
          i = Array.from(new Set(e)).filter((e) => e > 0),
          s = (0, o.E)({
            queries: i.map((e) =>
              (function (e, t, a) {
                return {
                  queryKey: ["useBundleWithDiscounts", t, a],
                  queryFn: () => e.loadBundleWithDiscounts(a, t),
                  enabled: !!t,
                };
              })(a, r, e),
            ),
          }),
          c = s.some((e) => e.isLoading);
        return l.useMemo(() => {
          let e = new Map();
          return (
            c ||
              s.forEach((t) => {
                t.isSuccess &&
                  t.data &&
                  e.set(t.data.storeItem, t.data.discountSetting);
              }),
            e
          );
        }, [e, r, c]);
      }
      function _(e, t, a, n, r) {
        const i = t?.get(e);
        if (i) {
          if (i.is_coming_soon) return (0, c.we)("#DiscountEvent_ComingSoon");
          if (i.is_free) return (0, c.we)("#DiscountEvent_Free");
          if (i.discounts?.some((e) => e.discountEventID == r))
            return (0, c.we)("#DiscountEvent_Official");
          const e = i.discounts?.filter(
            (e) => e.rtStartDate < n && e.rtEndDate > a,
          );
          if (e?.length > 0)
            return e
              .map(
                (e) =>
                  `${e.nDiscountPct}% - ${(0, c._l)(e.rtStartDate)} to ${(0, c._l)(e.rtEndDate)} (package id:${e.packageID})`,
              )
              .join("\n");
        }
        return "";
      }
      const g = {
        loadBundleWithDiscounts: async (e, t) =>
          await (function (e) {
            const t = JSON.stringify(e);
            h.get(t) ||
              h.set(
                t,
                new (s())(
                  async (t) => {
                    const a =
                        m.TS.PARTNER_BASE_URL +
                        "discounts/ajaxgetdiscountbybundle",
                      n = new Map();
                    if (!t || 0 == t.length) return [];
                    const i = [...t],
                      s = [];
                    for (; i.length > 0; ) {
                      const t = i.splice(0, 100),
                        n = new FormData();
                      n.append("sessionid", m.TS.SESSIONID),
                        n.append("rgBundleIDs", t.join(",")),
                        n.append(
                          "bExcludeExpired",
                          e.bExcludeExpired ? "1" : "0",
                        ),
                        e.nPartnerID &&
                          n.append("publisherid", e.nPartnerID.toString()),
                        s.push(r().post(a, n, { withCredentials: !0 }));
                    }
                    return (
                      (await Promise.all(s)).forEach((e) => {
                        if (
                          200 == e?.status &&
                          1 == e?.data?.success &&
                          e?.data?.map
                        )
                          for (let t in e.data.map) {
                            const a = Number.parseInt(t);
                            a &&
                              n.set(a, {
                                storeItem: a,
                                discountSetting: e.data.map[a],
                              });
                          }
                        else
                          console.log(
                            "Error: Failed on FetchDiscountByBundle request " +
                              e?.status +
                              " " +
                              e?.statusText +
                              " " +
                              e?.data?.success,
                          );
                      }),
                      t.map((e) => n.get(e) ?? null)
                    );
                  },
                  { maxBatchSize: 100 },
                ),
              );
            return h.get(t);
          })(t).load(e),
      };
      const h = new Map(),
        E = new Map();
    },
    2516: (e, t, a) => {
      "use strict";
      a.d(t, { K: () => r });
      var n = a(9161);
      function r(e, t, a) {
        const r = [],
          i = a.map((e) => e.header);
        r.push(i);
        for (const e of t) {
          const t = [];
          for (const n of a) {
            const a = e[n.accessorKey];
            t.push(null != a ? a.toString() : "");
          }
          r.push(t);
        }
        n.g.WriteCSVToFile(r, e);
      }
    },
    4074: (e, t, a) => {
      "use strict";
      a.d(t, { E: () => c, i: () => o });
      var n = a(34629),
        r = a(14947),
        i = a(78327);
      const s = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/sale\/([a-zA-Z0-9\-_&]+)/i,
        ),
        l = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/(?:curator|dev|developer|franchise|pub|publisher)\/[a-zA-Z0-9\-_%]+\/sale\/([a-zA-Z0-9\-_&%]+)/i,
        );
      function o(e) {
        let t = null,
          a = s.exec(e);
        a && a.length > 1 && (t = a);
        let n = l.exec(e);
        return n && n.length > 1 && (t = n), t ? t[1].toLowerCase() : null;
      }
      class c {
        constructor() {
          (0, r.Gn)(this);
        }
        static s_FeatureStore;
        m_rgMapCluster = new Map();
        m_rgFeatureNames = new Array();
        m_rgActiveFeatureNames = new Array();
        m_rgSpotlights = null;
        m_rgIM = null;
        m_activeDeals = null;
        m_mapSaleVanityTakeover = new Map();
        m_mapSaleVanitySpotlight = new Map();
        m_mapSaleVanityIM = new Map();
        BHasVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.has(e.toLowerCase());
        }
        GetVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.get(e.toLowerCase()) || [];
        }
        BHasVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.has(e.toLowerCase());
        }
        GetVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.get(e.toLowerCase());
        }
        BHasVanityIM(e) {
          return this.m_mapSaleVanityIM.has(e.toLowerCase());
        }
        GetVanityIM(e) {
          return this.m_mapSaleVanityIM.get(e.toLowerCase());
        }
        static Get() {
          return (
            c.s_FeatureStore ||
              ((c.s_FeatureStore = new c()), c.s_FeatureStore.Init()),
            c.s_FeatureStore
          );
        }
        InsertVanityToForceFeature(e, t, a) {
          e &&
            (this.m_mapSaleVanityTakeover.has(e) ||
              this.m_mapSaleVanityTakeover.set(e, new Array()),
            this.m_mapSaleVanityTakeover
              .get(e)
              .push({ cluster_name: t.cluster_name, clusters: [a] }));
        }
        InsertVanityToSpotlight(e, t) {
          e && this.m_mapSaleVanitySpotlight.set(e, t);
        }
        Init() {
          let e = (0, i.Tc)("steampagefeaturing", "application_config");
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => {
              this.m_rgMapCluster.set(e.cluster_name, e.clusters),
                this.m_rgFeatureNames.push(e.cluster_name),
                e.clusters &&
                  e.clusters.length > 0 &&
                  this.m_rgActiveFeatureNames.push(e.cluster_name),
                e.clusters.forEach((t) => {
                  t.page_bg_url &&
                    this.InsertVanityToForceFeature(o(t.page_bg_url), e, t),
                    t.expanded_capsules &&
                      t.expanded_capsules.forEach((a) => {
                        a.website &&
                          "Advertising" == a.type &&
                          this.InsertVanityToForceFeature(o(a.website), e, t);
                      });
                });
            }),
            "dev" == i.TS.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Features: " +
                  this.m_rgActiveFeatureNames.length +
                  " Matching Vanity: " +
                  this.m_mapSaleVanityTakeover.size,
                this.m_mapSaleVanityTakeover.keys(),
              ));
          let t = (0, i.Tc)("spotlightfeaturing", "application_config");
          this.ValidateSpotlightDefault(t) &&
            ((this.m_rgSpotlights = t),
            this.m_rgSpotlights &&
              this.m_rgSpotlights.forEach((e) => {
                e.associated_url &&
                  this.InsertVanityToSpotlight(o(e.associated_url), e),
                  e.associated_app &&
                    "Advertising" == e.associated_app.type &&
                    e.associated_app.website &&
                    this.InsertVanityToSpotlight(
                      o(e.associated_app.website),
                      e,
                    );
              }),
            "dev" == i.TS.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Spotlight: " +
                  this.m_rgSpotlights.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanitySpotlight.size,
                this.m_mapSaleVanitySpotlight.keys(),
              ));
          let a = (0, i.Tc)("marketingmsg", "application_config");
          this.ValidateIMDefault(a) &&
            ((this.m_rgIM = a),
            a.forEach((e) => {
              if (e.template && e.template.linkurl) {
                let t = o(e.template.linkurl);
                this.m_mapSaleVanityIM.set(t, e);
              }
            }),
            "dev" == i.TS.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Marketing MEssages (IM) : " +
                  this.m_rgIM.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanityIM.size,
                this.m_mapSaleVanityIM.keys(),
              ));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].cluster_name &&
            "object" == typeof t[0].clusters
          );
        }
        ValidateSpotlightDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            "string" == typeof t[0].id
          );
        }
        ValidateIMDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "string" == typeof t[0].name
          );
        }
      }
      (0, n.Cg)([r.XI], c.prototype, "Init", null);
    },
    38149: (e, t, a) => {
      "use strict";
      a.d(t, { S: () => c, p: () => o });
      var n = a(56545),
        r = a(33543),
        i = a(90626),
        s = a(20194),
        l = a(96001);
      function o(e) {
        const t = (0, l.a)();
        return (0, s.I)({
          queryKey: [`demostats_${e}`],
          queryFn: async () => {
            const a = n.w.Init(r.p3);
            a.Body().set_opt_in_name(e);
            const i = (await r.Yz.GetOptInDemoStats(t, a)).Body().toObject();
            return {
              stats: i.stats,
              appIdsWithoutPermissions: i.appid_without_permissions,
            };
          },
          enabled: e && e.startsWith("sale_"),
        });
      }
      function c(e, t) {
        const a = (0, l.a)(),
          o = (0, s.I)({
            queryKey: [`demostats_${e}_${t}`],
            queryFn: async () => {
              const i = n.w.Init(r.p3);
              i.Body().set_opt_in_name(e), i.Body().set_partner_id(t);
              const s = (await r.Yz.GetOptInDemoStats(a, i)).Body().toObject();
              return {
                stats: s.stats,
                appIdsWithoutPermissions: s.appid_without_permissions,
              };
            },
            enabled: e && e.startsWith("sale_"),
          });
        return i.useMemo(() => o, [e, t, o.isLoading]);
      }
    },
    29385: (e, t, a) => {
      "use strict";
      a.d(t, {
        $I: () => I,
        G4: () => C,
        It: () => b,
        Mt: () => w,
        io: () => f,
      });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(81418),
        l = a(77515),
        o = a(14947),
        c = a(90626),
        m = a(22837),
        d = a(63556),
        u = a(62490),
        p = a(68797),
        _ = a(6144),
        g = a(73745),
        h = a(78327),
        E = a(76685),
        S = a(4544),
        y = a(17720);
      const v = "section_",
        f = "list_",
        b = "option_";
      class w {
        static s_Editor;
        m_model = void 0;
        m_bDirty = !1;
        rgActiveStats = void 0;
        m_dynamicSections = void 0;
        m_mapDynamicSection = new Map();
        m_EmailDefinitions = void 0;
        m_mapEmails = new Map();
        static Get() {
          return (
            w.s_Editor ||
              ((w.s_Editor = new w()),
              ("dev" != h.TS.WEB_UNIVERSE && "beta" != h.TS.WEB_UNIVERSE) ||
                (window.g_OptInAdminEditModel = w.s_Editor)),
            w.s_Editor
          );
        }
        m_activeStatsChange = new _.lu();
        GetActiveStatsChangeCallaback() {
          return this.m_activeStatsChange;
        }
        GetOptInPageID() {
          return this.m_model.pageid;
        }
        GetDynamicOptionByID(e) {
          let t = null;
          return (
            this.GetDynamicSections().forEach((a) => {
              a.unique_id == e.section_id &&
                a.lists.forEach((a) => {
                  a.unique_id == e.list_id &&
                    a.options.forEach((a) => {
                      a.unique_id == e.option_id && (t = a);
                    });
                });
            }),
            t
          );
        }
        BContainDyanmicOptionByIDs(e) {
          return null != this.GetDynamicOptionByID(e);
        }
        GetOptionNameByID(e, t = 0) {
          const a = this.GetDynamicOptionByID(e);
          return a ? this.GetKVLang(a.text, t) : "";
        }
        AddDemoPackage(e) {
          this.m_model.demo_packages || (this.m_model.demo_packages = []),
            this.m_model.demo_packages.push(e),
            this.SetDirty(!0);
        }
        GetDemoPackages() {
          return this.m_model.demo_packages;
        }
        GetName() {
          return this.m_model && this.m_model.pageid
            ? -1 != this.m_model.pageid.indexOf("sale_", 0)
              ? this.m_model.pageid.substring(5)
              : this.m_model.pageid
            : "";
        }
        GetFullName() {
          return this.m_model && this.m_model.pageid ? this.m_model.pageid : "";
        }
        BHasSpecialEventType() {
          return Boolean(this.m_model?.special_event_type);
        }
        GetSpecialEventType() {
          return this.m_model.special_event_type;
        }
        SetSpecialEventType(e) {
          e !== this.m_model.special_event_type &&
            ((this.m_model.special_event_type = e), this.SetDirty(!0));
        }
        GetCurSpecialEventName() {
          return this.GetSpecialEventName(d.O.Get().GetCurEditLanguage());
        }
        GetSpecialEventName(e) {
          return this.GetKVLang(this.m_model.special_event_name, e) ?? "";
        }
        SetCurSpecialEventName(e) {
          this.SetSpecialEventName(d.O.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventName(e, t) {
          this.SetKVLang(this.m_model.special_event_name, e, t);
        }
        GetCurSpecialEventDescription() {
          return this.GetSpecialEventDescription(
            d.O.Get().GetCurEditLanguage(),
          );
        }
        GetSpecialEventDescription(e) {
          return (
            this.GetKVLang(this.m_model.special_event_description, e) ?? ""
          );
        }
        SetCurSpecialEventDescription(e) {
          this.SetSpecialEventDescription(d.O.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventDescription(e, t) {
          this.SetKVLang(this.m_model.special_event_description, e, t);
        }
        GetQandA1EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer1 || 0;
        }
        SetQandA1EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer1 &&
            ((this.m_model.rtime_nextfest_question_and_answer1 = e),
            this.SetDirty(!0));
        }
        GetQandA1URL() {
          return this.m_model.nextfest_question_and_answer_url1 || "";
        }
        SetQandA1URL(e) {
          e != this.m_model.nextfest_question_and_answer_url1 &&
            ((this.m_model.nextfest_question_and_answer_url1 = e),
            this.SetDirty(!0));
        }
        GetQandA2EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer2 || 0;
        }
        SetQandA2EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer2 &&
            ((this.m_model.rtime_nextfest_question_and_answer2 = e),
            this.SetDirty(!0));
        }
        GetQandA2URL() {
          return this.m_model.nextfest_question_and_answer_url2 || "";
        }
        SetQandA2URL(e) {
          e != this.m_model.nextfest_question_and_answer_url2 &&
            ((this.m_model.nextfest_question_and_answer_url2 = e),
            this.SetDirty(!0));
        }
        GetSpecialEventDocLink() {
          return this.m_model.special_event_doc_link;
        }
        SetSpecialEventDocLink(e) {
          e != this.m_model.special_event_doc_link &&
            ((this.m_model.special_event_doc_link = e), this.SetDirty(!0));
        }
        GetSpecialEventTypeMax() {
          return this.m_model.special_event_type_max || 0;
        }
        SetSpecialEventTypeMax(e) {
          e != this.m_model.special_event_type_max &&
            ((this.m_model.special_event_type_max = e), this.SetDirty(!0));
        }
        GetSpecialEventStartTime() {
          return this.m_model.special_event_rt_start || 0;
        }
        SetSpecialEventStartTime(e) {
          e != this.m_model.special_event_rt_start &&
            ((this.m_model.special_event_rt_start = e), this.SetDirty(!0));
        }
        GetSpecialEventEndTime() {
          return this.m_model.special_event_rt_end || 0;
        }
        SetSpecialEventEndTime(e) {
          e != this.m_model.special_event_rt_end &&
            ((this.m_model.special_event_rt_end = e), this.SetDirty(!0));
        }
        BHasSpecialEventTimeSet() {
          return (
            Boolean(this.m_model.special_event_rt_start) ||
            Boolean(this.m_model.special_event_rt_end)
          );
        }
        NCountSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks?.length || 0;
        }
        AddSpecialEventBlock() {
          this.m_model.special_event_time_blocks ||
            (this.m_model.special_event_time_blocks = []),
            this.m_model.special_event_time_blocks.push({ block_reason: {} }),
            this.SetDirty(!0);
        }
        RemoveSpecialEventBlock(e) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            (this.m_model.special_event_time_blocks.splice(e),
            this.SetDirty(!0),
            !0)
          );
        }
        SetSpecialEventBlock(e, t) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            ((this.m_model.special_event_time_blocks[e] = t),
            this.SetDirty(!0),
            !0)
          );
        }
        GetAllSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks || [];
        }
        MoveSpecialEventblock(e, t) {
          return (
            e < this.m_model.special_event_time_blocks?.length &&
            t < this.m_model.special_event_time_blocks?.length &&
            e != t &&
            ((0, u.yY)(this.m_model.special_event_time_blocks, e, t),
            this.SetDirty(!0),
            !0)
          );
        }
        BIsInSpecialEventBlockedTime(e) {
          return Boolean(
            e &&
              this.m_model.special_event_time_blocks?.filter(
                (t) => e >= t.block_rt_start && e < t.block_rt_end,
              )?.length > 0,
          );
        }
        BRequiresRemotePlayTogether() {
          return this.m_model.required_app_features.remote_play_together || !1;
        }
        SetRequiresRemotePlayTogether(e) {
          e !==
            (this.m_model.required_app_features.remote_play_together || !1) &&
            ((this.m_model.required_app_features.remote_play_together = e),
            this.SetDirty(!0));
        }
        BRequiresVR() {
          return this.m_model.required_app_features.vr || !1;
        }
        SetRequiresVR(e) {
          e !== (this.m_model.required_app_features.vr || !1) &&
            ((this.m_model.required_app_features.vr = e), this.SetDirty(!0));
        }
        BOptInRegistationOnlyShowSaveButton() {
          return this.m_model.opt_in_registration_only_show_save;
        }
        SetOptInRegistationOnlyShowSaveButton(e) {
          e != this.m_model.opt_in_registration_only_show_save &&
            ((this.m_model.opt_in_registration_only_show_save = e),
            this.SetDirty(!0));
        }
        BIsAdditionalFeaturingSectionEnabled() {
          return this.m_model.additional_featuring_section_enabled;
        }
        SetAdditionalFeaturingSectionEnabled(e) {
          e != this.m_model.additional_featuring_section_enabled &&
            ((this.m_model.additional_featuring_section_enabled = e),
            this.SetDirty(!0));
        }
        BIsCollectTrailerPermissions() {
          return this.m_model.collect_trailer_permissions;
        }
        SetCollectTrailerPermissions(e) {
          e != this.m_model.collect_trailer_permissions &&
            ((this.m_model.collect_trailer_permissions = e), this.SetDirty(!0));
        }
        BIsCollectDemoPermissions() {
          return this.m_model.collect_demo_permissions;
        }
        SetCollectDemoPermissions(e) {
          e != this.m_model.collect_demo_permissions &&
            ((this.m_model.collect_demo_permissions = e), this.SetDirty(!0));
        }
        BIsCollectGameProfileIntent() {
          return this.m_model.collect_game_profile_intent;
        }
        SetCollectGameProfileIntent(e) {
          e != this.m_model.collect_game_profile_intent &&
            ((this.m_model.collect_game_profile_intent = e), this.SetDirty(!0));
        }
        BHasCollectDemoDeadlineDate() {
          return Boolean(this.m_model.collect_demo_deadline);
        }
        GetCollectDemoDeadlineDate() {
          return this.m_model.collect_demo_deadline;
        }
        SetCollectDemoDeadlineDate(e) {
          e != this.m_model.collect_demo_deadline &&
            ((this.m_model.collect_demo_deadline = e), this.SetDirty(!0));
        }
        BHasSurveyEnabled() {
          return Boolean(this.m_model.survey_type_enabled);
        }
        GetSurveyType() {
          return this.m_model.survey_type_enabled;
        }
        SetSurveyType(e) {
          e != this.m_model.survey_type_enabled &&
            ((this.m_model.survey_type_enabled = e), this.SetDirty(!0));
        }
        GetCurEventTitle() {
          return this.GetEventTitle(d.O.Get().GetCurEditLanguage()) ?? "";
        }
        GetEventTitle(e) {
          return this.GetKVLang(this.m_model.event_title, e) ?? "";
        }
        SetCurEventTitle(e) {
          this.SetEventTitle(d.O.Get().GetCurEditLanguage(), e);
        }
        SetEventTitle(e, t) {
          this.SetKVLang(this.m_model.event_title, e, t);
        }
        GetCurEligibilityText() {
          return this.GetEligibilityText(d.O.Get().GetCurEditLanguage()) ?? "";
        }
        GetEligibilityText(e) {
          return this.GetKVLang(this.m_model.eligibility_text, e) ?? "";
        }
        SetCurEligibilityText(e) {
          this.SetEligibilityText(d.O.Get().GetCurEditLanguage(), e);
        }
        SetEligibilityText(e, t) {
          this.SetKVLang(this.m_model.eligibility_text, e, t);
        }
        GetCurOptInRegistrationTitle() {
          return (
            this.GetOptInRegistrationTitle(d.O.Get().GetCurEditLanguage()) ?? ""
          );
        }
        GetOptInRegistrationTitle(e) {
          return (
            this.GetKVLang(this.m_model.opt_in_registration_title, e) ?? ""
          );
        }
        SetCurOptInRegistrationTitle(e) {
          this.SetOptInRegistrationTitle(d.O.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationTitle(e, t) {
          this.m_model.opt_in_registration_title ||
            (this.m_model.opt_in_registration_title = {}),
            Array.isArray(this.m_model.opt_in_registration_title) &&
              (this.m_model.opt_in_registration_title = {}),
            this.SetKVLang(this.m_model.opt_in_registration_title, e, t);
        }
        GetCurOptInRegistrationCheckbox() {
          return (
            this.GetOptInRegistrationCheckbox(d.O.Get().GetCurEditLanguage()) ??
            ""
          );
        }
        GetOptInRegistrationCheckbox(e) {
          return (
            this.GetKVLang(this.m_model.opt_in_registration_checkbox, e) ?? ""
          );
        }
        SetCurOptInRegistrationCheckbox(e) {
          this.SetOptInRegistrationCheckbox(d.O.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationCheckbox(e, t) {
          this.m_model.opt_in_registration_checkbox ||
            (this.m_model.opt_in_registration_checkbox = {}),
            Array.isArray(this.m_model.opt_in_registration_checkbox) &&
              (this.m_model.opt_in_registration_checkbox = {}),
            this.SetKVLang(this.m_model.opt_in_registration_checkbox, e, t);
        }
        BHasOptInRegistrationTitleOrCheckbox() {
          return (
            Boolean(this.m_model.opt_in_registration_title) ||
            Boolean(this.m_model.opt_in_registration_checkbox)
          );
        }
        BIsOptInEnabled() {
          return this.m_model.sale_optin_enabled;
        }
        SetOptInEnabled(e) {
          e !== this.m_model.sale_optin_enabled &&
            ((this.m_model.sale_optin_enabled = e), this.SetDirty(!0));
        }
        GetOptInType() {
          return this.m_model.optin_type || s.YI.k_EOptInType_EventRegistration;
        }
        SetOptInType(e) {
          e !== this.m_model.optin_type &&
            ((this.m_model.optin_type = e), this.SetDirty(!0));
        }
        GetPublicEventURL() {
          return this.m_model.public_event_url;
        }
        SetPublicEventURL(e) {
          e != this.m_model.public_event_url &&
            ((this.m_model.public_event_url = e), this.SetDirty(!0));
        }
        GetAssetSetDocFile() {
          return this.m_model.asset_set_doc_file;
        }
        SetAssetSetDocFile(e) {
          e != this.m_model.asset_set_doc_file &&
            ((this.m_model.asset_set_doc_file = e), this.SetDirty(!0));
        }
        GetPublicDocumentationWikiURL() {
          return this.m_model.public_doc_wiki_url;
        }
        SetPublicDocumentationWikiURL(e) {
          e != this.m_model.public_doc_wiki_url &&
            ((this.m_model.public_doc_wiki_url = e), this.SetDirty(!0));
        }
        GetPublicEventID() {
          return this.m_model.public_event_id;
        }
        SetPublicEventID(e) {
          e != this.m_model.public_event_id &&
            ((this.m_model.public_event_id = e), this.SetDirty(!0));
        }
        GetEventStartTime() {
          return this.m_model.event_start_date;
        }
        SetEventStartTime(e) {
          e !== this.m_model.event_start_date &&
            ((this.m_model.event_start_date = e), this.SetDirty(!0));
        }
        GetEventEndTime() {
          return this.m_model.event_end_date;
        }
        SetEventEndTime(e) {
          e !== this.m_model.event_end_date &&
            ((this.m_model.event_end_date = e), this.SetDirty(!0));
        }
        GetEventTrailerDropDate() {
          return this.m_model.trailer_drop_date;
        }
        SetEventTrailerDropDate(e) {
          e !== this.m_model.trailer_drop_date &&
            ((this.m_model.trailer_drop_date = e), this.SetDirty(!0));
        }
        GetOptInDeadlineTime() {
          return this.m_model.optin_deadline_date;
        }
        SetOptInDeadlineTime(e) {
          e !== this.m_model.optin_deadline_date &&
            ((this.m_model.optin_deadline_date = e), this.SetDirty(!0));
        }
        BIsInvitationOnly() {
          return this.m_model.invitation_only;
        }
        SetInvititationOnly(e) {
          e !== this.m_model.invitation_only &&
            ((this.m_model.invitation_only = e), this.SetDirty(!0));
        }
        EVisibility() {
          return this.m_model.visibility;
        }
        SetVisibility(e) {
          e !== this.m_model.visibility &&
            ((this.m_model.visibility = e), this.SetDirty(!0));
        }
        BIsReleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_released_games;
        }
        SetReleaseGameEligible(e) {
          e !== this.m_model.release_date_eligibility.include_released_games &&
            ((this.m_model.release_date_eligibility.include_released_games = e),
            this.SetDirty(!0));
        }
        BIsUnreleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_unreleased_games;
        }
        SetUnreleaseGameEligible(e) {
          e !==
            this.m_model.release_date_eligibility.include_unreleased_games &&
            ((this.m_model.release_date_eligibility.include_unreleased_games =
              e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseBeforeDate() {
          return this.m_model.release_date_eligibility.release_before_date;
        }
        SetEligibleReleaseBeforeDate(e) {
          e !== this.m_model.release_date_eligibility.release_before_date &&
            ((this.m_model.release_date_eligibility.release_before_date = e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseAfterDate() {
          return this.m_model.release_date_eligibility.release_after_date;
        }
        SetEligibleReleaseAfterDate(e) {
          e !== this.m_model.release_date_eligibility.release_after_date &&
            ((this.m_model.release_date_eligibility.release_after_date = e),
            this.SetDirty(!0));
        }
        GetCooldownGroupType() {
          return this.m_model.cooldown_group.group_id || 0;
        }
        SetCooldownGroupType(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.group_id) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.group_id = e),
            this.SetDirty(!0));
        }
        GetCooldownRequired() {
          return this.m_model.cooldown_group.cooldown_required || !1;
        }
        SetCooldownRequired(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.cooldown_required) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.cooldown_required = e),
            this.SetDirty(!0));
        }
        GetCooldownDays() {
          return this.m_model.cooldown_group.cooldown_time || 0;
        }
        SetCooldownDays(e) {
          e !== this.m_model.cooldown_group.cooldown_time &&
            ((this.m_model.cooldown_group.cooldown_time = e),
            this.SetDirty(!0));
        }
        GetRequiredTags() {
          let e = [];
          if (this.m_model && this.m_model.required_tags) {
            let t = E.v.Get().GetGameTags();
            Object.keys(this.m_model.required_tags).forEach((a) => {
              const n = t.find((e) => e.value == a);
              n && e.push({ label: n.label, value: n.value });
            });
          }
          return e;
        }
        OnChangeRequiredTags(e) {
          (this.m_model.required_tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.required_tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        GetAppOfficialWeightedTagRankToInclude() {
          return this.m_model.app_official_weighted_tag_rank_to_include || 20;
        }
        SetAppOfficialWeightedTagRankToInclude(e) {
          e !== this.m_model.app_official_weighted_tag_rank_to_include &&
            ((this.m_model.app_official_weighted_tag_rank_to_include = e),
            this.SetDirty(!0));
        }
        GetModel() {
          return this.m_model;
        }
        GetDynamicSections() {
          return this.m_model.dynamic_sections || [];
        }
        GetEditableDynamicSections() {
          return this.m_dynamicSections || [];
        }
        GetDynamicSectionByID(e) {
          return this.m_mapDynamicSection.get(e);
        }
        GetEmailDefinitionByID(e) {
          return this.m_mapEmails.get(e);
        }
        GetFirstEmail() {
          return this.m_EmailDefinitions?.length > 0
            ? this.m_EmailDefinitions[0]
            : void 0;
        }
        GetEmailDefinitions() {
          return this.m_EmailDefinitions;
        }
        GetCurDescription() {
          return this.GetDescription(d.O.Get().GetCurEditLanguage());
        }
        GetDescription(e) {
          return this.GetKVLang(this.m_model.description, e) ?? "";
        }
        SetCurDescription(e) {
          this.SetDescription(d.O.Get().GetCurEditLanguage(), e);
        }
        SetDescription(e, t) {
          this.SetKVLang(this.m_model.description, e, t);
        }
        GetCurHelpText() {
          return this.GetHelpText(d.O.Get().GetCurEditLanguage());
        }
        GetHelpText(e) {
          return this.GetKVLang(this.m_model.help_text, e) ?? "";
        }
        SetCurHelpText(e) {
          this.SetHelpText(d.O.Get().GetCurEditLanguage(), e);
        }
        SetHelpText(e, t) {
          this.SetKVLang(this.m_model.help_text, e, t);
        }
        GetCurAppealsText() {
          return this.GetAppealsText(d.O.Get().GetCurEditLanguage());
        }
        GetAppealsText(e) {
          return this.GetKVLang(this.m_model.appeals_text, e) ?? "";
        }
        SetCurAppealsText(e) {
          this.SetAppealsText(d.O.Get().GetCurEditLanguage(), e);
        }
        SetAppealsText(e, t) {
          this.SetKVLang(this.m_model.appeals_text, e, t);
        }
        GetCurPruningCriteriaText() {
          return this.GetPruningCriteriaText(d.O.Get().GetCurEditLanguage());
        }
        GetPruningCriteriaText(e) {
          return this.m_model.eligibility_criteria ?? "";
        }
        SetCurPruningCriteriaText(e) {
          this.SetPruningCriteriaText(d.O.Get().GetCurEditLanguage(), e);
        }
        SetPruningCriteriaText(e, t) {
          (this.m_model.eligibility_criteria = t), this.SetDirty(!0);
        }
        GetPointShopPriorityApps() {
          return this.m_model.point_shop_priority_appids;
        }
        SetPointShopPriorityApps(e) {
          (this.m_model.point_shop_priority_appids = e), this.SetDirty(!0);
        }
        GetPointShopIncludedApps() {
          return this.m_model.point_shop_included_appids;
        }
        SetPointShopIncludedApps(e) {
          (this.m_model.point_shop_included_appids = e), this.SetDirty(!0);
        }
        GetPointShopAdvertisingAppID() {
          return this.m_model.point_shop_advertising_appid || 0;
        }
        SetPointShopAdvertisingAppID(e) {
          e != this.m_model.point_shop_advertising_appid &&
            ((this.m_model.point_shop_advertising_appid = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialColorOverride() {
          return this.m_model.point_shop_radial_color_override;
        }
        SetPointShopRadialColorOverride(e) {
          e != this.m_model.point_shop_radial_color_override &&
            ((this.m_model.point_shop_radial_color_override = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialEdgeColorOverride() {
          return this.m_model.point_shop_radial_edge_color_override;
        }
        SetPointShopRadialEdgeColorOverride(e) {
          e != this.m_model.point_shop_radial_edge_color_override &&
            ((this.m_model.point_shop_radial_edge_color_override = e),
            this.SetDirty(!0));
        }
        GetAllLocalizedOptInBanner() {
          return this.m_model.localized_optin_banner ?? {};
        }
        GetLocalizedOptInBanner(e) {
          return this.m_model.localized_optin_banner?.[(0, m.Lg)(e)] ?? "";
        }
        SetLocalizedOptInBanner(e, t) {
          (this.m_model.localized_optin_banner &&
            !Array.isArray(this.m_model.localized_optin_banner)) ||
            (this.m_model.localized_optin_banner = {});
          const a = (0, m.Lg)(e);
          this.m_model.localized_optin_banner[a] != t &&
            ((this.m_model.localized_optin_banner[a] = t), this.SetDirty(!0));
        }
        DeleteLocalizedOptInBanner(e) {
          const t = (0, m.Lg)(e);
          this.m_model.localized_optin_banner?.[t] &&
            (delete this.m_model.localized_optin_banner[t], this.SetDirty(!0));
        }
        BIsCategoriesEnabled() {
          return this.m_model.categories.enabled;
        }
        SetCategoriesEnabled(e) {
          e != this.m_model.categories.enabled &&
            ((this.m_model.categories.enabled = e), this.SetDirty(!0));
        }
        GetCategoriesRequired() {
          return this.m_model.categories.required || 0;
        }
        SetCategoriesRequired(e) {
          e != this.m_model.categories.required &&
            ((this.m_model.categories.required = e), this.SetDirty(!0));
        }
        GetCategoryTags() {
          let e = [];
          if (this.m_model && this.m_model.categories.tags) {
            let t = E.v.Get().GetGameTags();
            Object.keys(this.m_model.categories.tags).forEach((a) => {
              const n = t.find((e) => e.value == a);
              e.push({ label: n.label, value: n.value });
            });
          }
          return e;
        }
        OnChangeCategoryTags(e) {
          (this.m_model.categories.tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.categories.tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        BIsArtistStatementEnabled() {
          return this.m_model.artist_statement.enabled || !1;
        }
        SetArtistStatementEnabled(e) {
          e !== this.m_model.artist_statement.enabled &&
            ((this.m_model.artist_statement.enabled = e), this.SetDirty(!0));
        }
        GetArtistStatementRequired() {
          return this.m_model.artist_statement.required || 0;
        }
        SetArtistStatementRequired(e) {
          e !== this.m_model.artist_statement.required &&
            ((this.m_model.artist_statement.required = e), this.SetDirty(!0));
        }
        BIsFreeToKeepItemDropEnabled() {
          return this.m_model.free_to_keep_item_drop.enabled || !1;
        }
        SetFreeToKeepItemDropEnabled(e) {
          e !== this.m_model.free_to_keep_item_drop.enabled &&
            ((this.m_model.free_to_keep_item_drop.enabled = e),
            this.SetDirty(!0));
        }
        GetFreeToKeepItemDropRequired() {
          return this.m_model.free_to_keep_item_drop.required || 0;
        }
        SetFreeToKeepItemDropRequired(e) {
          e !== this.m_model.free_to_keep_item_drop.required &&
            ((this.m_model.free_to_keep_item_drop.required = e),
            this.SetDirty(!0));
        }
        BIsPrimaryCountryEnabled() {
          return this.m_model.primary_country.enabled || !1;
        }
        SetPrimaryCountryEnabled(e) {
          e !== this.m_model.primary_country.enabled &&
            ((this.m_model.primary_country.enabled = e), this.SetDirty(!0));
        }
        GetPrimaryCountryRequired() {
          return this.m_model.primary_country.required || 0;
        }
        SetPrimaryCountryRequired(e) {
          e !== this.m_model.primary_country.required &&
            ((this.m_model.primary_country.required = e), this.SetDirty(!0));
        }
        BIsPressContactEnabled() {
          return this.m_model.press_contact.enabled || !1;
        }
        SetPressContactEnabled(e) {
          e !== this.m_model?.press_contact.enabled &&
            ((this.m_model.press_contact.enabled = e), this.SetDirty(!0));
        }
        GetPressContactRequired() {
          return this.m_model.press_contact.required || 0;
        }
        SetPressContactRequired(e) {
          e !== this.m_model?.press_contact.required &&
            ((this.m_model.press_contact.required = e), this.SetDirty(!0));
        }
        BIsBeforeYouOptInEnabled() {
          return this.m_model.before_you_opt_in || !1;
        }
        SetBeforeYouOptInEnabled(e) {
          e !== this.m_model.before_you_opt_in &&
            ((this.m_model.before_you_opt_in = e), this.SetDirty(!0));
        }
        BIsBuildYourStorePageEnabled() {
          return this.m_model.build_store_page.enabled || !1;
        }
        SetBuildYourStorePageEnabled(e) {
          e !== this.m_model.build_store_page.enabled &&
            ((this.m_model.build_store_page.enabled = e), this.SetDirty(!0));
        }
        GetBuildYourStorePageRequired() {
          return this.m_model.build_store_page.required || 0;
        }
        SetBuildYourStorePageRequired(e) {
          e !== this.m_model.build_store_page.required &&
            ((this.m_model.build_store_page.required = e), this.SetDirty(!0));
        }
        GetStorePageText() {
          return (
            this.GetKVLang(
              this.m_model.build_store_page.description,
              d.O.Get().GetCurEditLanguage(),
            ) ?? ""
          );
        }
        SetStorePageText(e) {
          this.m_model.build_store_page || (this.m_model.build_store_page = {}),
            Array.isArray(this.m_model.build_store_page) &&
              (this.m_model.build_store_page = {}),
            this.m_model.build_store_page.description ||
              (this.m_model.build_store_page.description = {}),
            Array.isArray(this.m_model.build_store_page.description) &&
              (this.m_model.build_store_page.description = {}),
            this.SetKVLang(
              this.m_model.build_store_page.description,
              d.O.Get().GetCurEditLanguage(),
              e,
            );
        }
        BIsTaggingWizardEnabled() {
          return this.m_model.tagging_wizard || !1;
        }
        SetTaggingWizardEnabled(e) {
          e !== this.m_model.tagging_wizard &&
            ((this.m_model.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsLaunchYourDemoEnabled() {
          return this.m_model.launch_demo.enabled || !1;
        }
        SetLaunchYourDemoEnabled(e) {
          e !== this.m_model.launch_demo.enabled &&
            ((this.m_model.launch_demo.enabled = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoRequired() {
          return this.m_model.launch_demo.required || 0;
        }
        SetLaunchYourDemoRequired(e) {
          e !== this.m_model.launch_demo.required &&
            ((this.m_model.launch_demo.required = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoDueDate() {
          return this.m_model.launch_demo.due_date || 0;
        }
        SetLaunchYourDemoDueDate(e) {
          e !== this.m_model.launch_demo.due_date &&
            ((this.m_model.launch_demo.due_date = e), this.SetDirty(!0));
        }
        BIsDoAnytimeEnabled() {
          return this.m_model.do_anytime.enabled || !1;
        }
        SetDoAnytimeEnabled(e) {
          e !== this.m_model.do_anytime.enabled &&
            ((this.m_model.do_anytime.enabled = e), this.SetDirty(!0));
        }
        BIsLivestreamEnabled() {
          return this.m_model.do_anytime.livestream || !1;
        }
        SetLivestreamEnabled(e) {
          e !== this.m_model.do_anytime.livestream &&
            ((this.m_model.do_anytime.livestream = e), this.SetDirty(!0));
        }
        BIsChatSessionEnabled() {
          return this.m_model.do_anytime.chat_session || !1;
        }
        SetChatSessionEnabled(e) {
          e !== this.m_model.do_anytime.chat_session &&
            ((this.m_model.do_anytime.chat_session = e), this.SetDirty(!0));
        }
        BIsAnytimeTaggingWizardEnabled() {
          return this.m_model.do_anytime.tagging_wizard || !1;
        }
        SetAnytimeTaggingWizardEnabled(e) {
          e !== this.m_model.do_anytime.tagging_wizard &&
            ((this.m_model.do_anytime.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsEnterDiscountsEnabled() {
          return this.m_model.do_anytime.enter_discounts || !1;
        }
        SetEnterDiscountsEnabled(e) {
          e !== this.m_model.do_anytime.enter_discounts &&
            ((this.m_model.do_anytime.enter_discounts = e), this.SetDirty(!0));
        }
        GetDiscountEventID() {
          return this.m_model.do_anytime.discount_event_id || "";
        }
        SetDiscountEventID(e) {
          e !== this.m_model.do_anytime.discount_event_id &&
            ((this.m_model.do_anytime.discount_event_id = e),
            this.SetDirty(!0));
        }
        GetExternalAppReviewers() {
          return this.m_model.external_app_reviewer || [];
        }
        SetExternalAppReviewers(e) {
          JSON.stringify(e) !==
            JSON.stringify(this.m_model.external_app_reviewer) &&
            ((this.m_model.external_app_reviewer = e), this.SetDirty(!0));
        }
        RemoveExternalAppReviewAt(e) {
          e < this.m_model.external_app_reviewer?.length &&
            (this.m_model.external_app_reviewer.splice(e, 1),
            this.SetDirty(!0));
        }
        BAddExternalAppReviewAt(e) {
          this.m_model.external_app_reviewer ||
            (this.m_model.external_app_reviewer = []);
          return (
            -1 == this.m_model.external_app_reviewer.findIndex((t) => t == e) &&
            (this.m_model.external_app_reviewer.push(e), this.SetDirty(!0), !0)
          );
        }
        SetKVLang(e, t, a) {
          (0, S.pV)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, S.VX)(e, t);
        }
        AddDynamicSection() {
          this.m_model.dynamic_sections || (this.m_model.dynamic_sections = []),
            this.m_model.dynamic_sections.push(w.CreateDefaultDynamicSection());
          const e = new D(
            this.m_model.dynamic_sections[
              this.m_model.dynamic_sections.length - 1
            ],
          );
          this.m_mapDynamicSection.set(e.GetUniqueID(), e),
            this.m_dynamicSections.push(e),
            this.SetDirty(!0);
        }
        static CreateDefaultDynamicSection() {
          return {
            unique_id: w.Get().GenerateUniqueIDForOptInSection(),
            input_style: "radio",
            columns: 1,
            lists: [
              {
                options: [],
                unique_id: w.GenerateUniqueIDForOptionListSection(),
              },
            ],
          };
        }
        DeleteDynamicSection(e) {
          const t = this.GetDynamicSectionByID(e);
          if (!t) return console.log("Could not find section with ID " + e), !1;
          this.m_mapDynamicSection.delete(t.GetUniqueID());
          let a = this.m_dynamicSections.findIndex((t) => t.GetUniqueID() == e);
          if (-1 === a) throw `dynamic section unique id ${e} missing: editing`;
          if (
            (this.m_dynamicSections.splice(a, 1),
            (a = this.m_model.dynamic_sections.findIndex(
              (t) => t.unique_id === e,
            )),
            -1 === a)
          )
            throw `dynamic section unique id ${e} missing: source model`;
          return (
            this.m_model.dynamic_sections.splice(a, 1), this.SetDirty(!0), !0
          );
        }
        GenerateUniqueIDForOptInSection() {
          let e = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetDynamicSectionByID(v + e); )
            e = Math.floor(1 + 1e5 * Math.random());
          return v + e;
        }
        static GenerateUniqueIDForOptionListSection(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === f + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return f + t;
        }
        static GenerateUniqueIDForListItem(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === b + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return b + t;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        SetDirty(e) {
          this.m_bDirty != e && (this.m_bDirty = e);
        }
        async Save(e) {
          let t = h.TS.PARTNER_BASE_URL + "optin/ajaxadminupdate";
          const a = new FormData();
          a.append("sessionid", h.TS.SESSIONID),
            a.append("pageid", this.m_model.pageid),
            a.append("jsondata", JSON.stringify(this.m_model));
          try {
            let n = await i().post(t, a, {
              withCredentials: !0,
              cancelToken: e,
            });
            if (e.reason)
              return (
                console.log("COptInAdminEditModel.Save Cancelled: " + e.reason),
                null
              );
            if (200 != n.status || !n.data || 1 != n.data.success) {
              let e =
                "Save Error: (" +
                (n.data
                  ? "erseult: " + n.data.success
                  : "status: " + n.status) +
                ")";
              return (
                n.data &&
                  n.data.err_msg &&
                  (e += " Error Message: " + n.data.err_msg),
                console.error("COptInAdminEditModel.Save: " + e),
                e
              );
            }
            E.v.Get().SetOptInDefinition(this.m_model), this.SetDirty(!1);
          } catch (e) {
            let t = (0, p.H)(e);
            return (
              console.error(
                "COptInAdminEditModel save error: " + t.strErrorMsg,
                t,
              ),
              "Save Error: " + e.strErrorMsg
            );
          }
          return null;
        }
        BInitialized() {
          return Boolean(this.m_model);
        }
        BHasLanguageData(e) {
          const t = (0, m.Lg)(e);
          return (
            (this.m_model.description &&
              this.m_model.description[t] &&
              this.m_model.description[t].length > 0) ||
            (this.m_model.help_text &&
              this.m_model.help_text[t] &&
              this.m_model.help_text[t].length > 0) ||
            (this.m_model.appeals_text &&
              this.m_model.appeals_text[t] &&
              this.m_model.appeals_text[t].length > 0) ||
            (this.m_model.special_event_name &&
              this.m_model.special_event_name[t] &&
              this.m_model.special_event_name[t].length > 0) ||
            (this.m_model.special_event_description &&
              this.m_model.special_event_description[t] &&
              this.m_model.special_event_description[t].length > 0) ||
            (this.m_model.build_store_page &&
              this.m_model.build_store_page.description &&
              this.m_model.build_store_page.description[t] &&
              this.m_model.build_store_page.description[t].length > 0) ||
            (this.m_model.artist_statement &&
              this.m_model.artist_statement.description &&
              this.m_model.artist_statement.description[t] &&
              this.m_model.artist_statement.description[t].length > 0) ||
            (this.m_model.free_to_keep_item_drop &&
              this.m_model.free_to_keep_item_drop.description &&
              this.m_model.free_to_keep_item_drop.description[t] &&
              this.m_model.free_to_keep_item_drop.description[t].length > 0)
          );
        }
        constructor() {
          (0, o.Gn)(this);
        }
        Reset(e, t) {
          if (
            ((this.m_model = e ? JSON.parse(JSON.stringify(e)) : null),
            (this.m_bDirty = !1),
            d.O.Get().SetCurEditLanguage(0),
            this.SetActiveStats(t),
            this.m_model &&
              ((this.m_model.required_tags &&
                !Array.isArray(this.m_model.required_tags)) ||
                (this.m_model.required_tags = {}),
              (this.m_model.categories &&
                !Array.isArray(this.m_model.categories)) ||
                (this.m_model.categories = {}),
              (this.m_model.categories.tags &&
                !Array.isArray(this.m_model.categories.tags)) ||
                (this.m_model.categories.tags = {}),
              (this.m_model.artist_statement &&
                !Array.isArray(this.m_model.artist_statement)) ||
                (this.m_model.artist_statement = {}),
              (this.m_model.free_to_keep_item_drop &&
                !Array.isArray(this.m_model.free_to_keep_item_drop)) ||
                (this.m_model.free_to_keep_item_drop = {}),
              (this.m_model.primary_country &&
                !Array.isArray(this.m_model.primary_country)) ||
                (this.m_model.primary_country = {}),
              (this.m_model.press_contact &&
                !Array.isArray(this.m_model.press_contact)) ||
                (this.m_model.press_contact = {}),
              (this.m_model.build_store_page &&
                !Array.isArray(this.m_model.build_store_page)) ||
                (this.m_model.build_store_page = {}),
              (this.m_model.launch_demo &&
                !Array.isArray(this.m_model.launch_demo)) ||
                (this.m_model.launch_demo = {}),
              (this.m_model.do_anytime &&
                !Array.isArray(this.m_model.do_anytime)) ||
                (this.m_model.do_anytime = {}),
              (this.m_model.release_date_eligibility &&
                !Array.isArray(this.m_model.release_date_eligibility)) ||
                (this.m_model.release_date_eligibility = {}),
              (this.m_model.cooldown_group &&
                !Array.isArray(this.m_model.cooldown_group)) ||
                (this.m_model.cooldown_group = {}),
              (this.m_model.description &&
                !Array.isArray(this.m_model.description)) ||
                (this.m_model.description = {}),
              (this.m_model.help_text &&
                !Array.isArray(this.m_model.help_text)) ||
                (this.m_model.help_text = {}),
              (this.m_model.appeals_text &&
                !Array.isArray(this.m_model.appeals_text)) ||
                (this.m_model.appeals_text = {}),
              (this.m_model.special_event_description &&
                !Array.isArray(this.m_model.special_event_description)) ||
                (this.m_model.special_event_description = {}),
              (this.m_model.special_event_name &&
                !Array.isArray(this.m_model.special_event_name)) ||
                (this.m_model.special_event_name = {}),
              (this.m_model.event_title &&
                !Array.isArray(this.m_model.event_title)) ||
                (this.m_model.event_title = {}),
              (this.m_model.eligibility_text &&
                !Array.isArray(this.m_model.eligibility_text)) ||
                (this.m_model.eligibility_text = {}),
              (this.m_model.required_app_features &&
                !Array.isArray(this.m_model.required_app_features)) ||
                (this.m_model.required_app_features = {})),
            this.m_model && !this.m_model.event_start_date)
          ) {
            let e = new Date();
            e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_start_date = Math.floor(e.getTime() / 1e3));
          }
          if (this.m_model && !this.m_model.event_end_date) {
            let e = new Date();
            e.setDate(e.getDate() + 1),
              e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_end_date = Math.floor(e.getTime() / 1e3));
          }
          (this.m_dynamicSections = []),
            (this.m_mapDynamicSection = new Map()),
            this.m_model &&
              this.m_model.dynamic_sections &&
              this.m_model.dynamic_sections.forEach((e) => {
                let t = new D(e);
                this.m_dynamicSections.push(t),
                  this.m_mapDynamicSection.set(t.GetUniqueID(), t);
              }),
            (this.m_EmailDefinitions = []),
            (this.m_mapEmails = new Map()),
            this.m_model?.emails?.length > 0 &&
              this.m_model.emails.forEach((e) => {
                const t = new l.h6(this.GetFullName(), e);
                this.m_EmailDefinitions.push(t),
                  this.m_mapEmails.set(t.GetUniqueID(), t);
              }),
            this.LoadActiveStatsDetails();
        }
        AddEmailDraft(e) {
          this.m_model.emails || (this.m_model.emails = []),
            this.m_model.emails.push(e);
          const t = new l.h6(
            this.GetFullName(),
            this.m_model.emails[this.m_model.emails.length - 1],
          );
          return (
            this.m_EmailDefinitions.push(t),
            this.m_mapEmails.set(t.GetUniqueID(), t),
            this.SetDirty(!0),
            t
          );
        }
        SetActiveStats(e) {
          (this.rgActiveStats = e),
            this.GetActiveStatsChangeCallaback().Dispatch(e);
        }
        GetActiveStats() {
          return this.rgActiveStats;
        }
        async LoadActiveStatsDetails() {
          if (!this.m_model) return null;
          let e = h.TS.PARTNER_BASE_URL + "optin/ajaxgetoptinstats";
          e +=
            "?active=true&pageids=" + encodeURIComponent(this.m_model.pageid);
          try {
            let t = await i().get(e, { withCredentials: !0, timeout: 2e4 });
            if (200 != t.status || !t.data || 1 != t.data.success) {
              return (
                "LoadActiveStatsDetails error: (" +
                (t.data ? "result: " + t.data.success : "status: " + t.status) +
                ")"
              );
            }
            if (t.data.msg) {
              const e = t.data.msg
                ? JSON.parse(JSON.stringify(t.data.msg))
                : null;
              this.SetActiveStats(e ? e[0] : null);
            }
          } catch (e) {
            return "Loading active stats returned " + e.strErrorMsg;
          }
          return null;
        }
        async RefreshActiveStats(e) {
          if (!this.m_model) return null;
          let t = h.TS.PARTNER_BASE_URL + "optin/ajaxrefreshoptinstats";
          const a = new FormData();
          a.append("sessionid", h.TS.SESSIONID),
            a.append("pageids", this.m_model.pageid);
          try {
            let n = await i().post(t, a, {
              withCredentials: !0,
              cancelToken: e || void 0,
              timeout: 12e4,
            });
            if (e && e.reason)
              return (
                console.log("RefreshingActiveStats Cancelled: " + e.reason),
                null
              );
            if (200 != n.status || !n.data || 1 != n.data.success) {
              let e =
                "Refresh optin stats error: (" +
                (n.data ? "result: " + n.data.success : "status: " + n.status) +
                ")";
              return (
                console.log("COptInAdminEditModel.RefresActiveStats: " + e), e
              );
            }
            if (n.data.msg) {
              let e = n.data.msg
                ? JSON.parse(JSON.stringify(n.data.msg))
                : null;
              this.SetActiveStats(e ? e[0] : null);
            }
          } catch (e) {
            let t = (0, p.H)(e);
            return (
              console.error(
                "COptInAdminEditModel.RefreshActiveStats error: " +
                  t.strErrorMsg,
                t,
              ),
              "Save Error: " + e.strErrorMsg
            );
          }
          return null;
        }
        rgOptionalSuggestedRequired = [];
        GetRequiredOptions() {
          return (
            this.rgOptionalSuggestedRequired.length ||
              (this.rgOptionalSuggestedRequired.push({
                label: "Optional",
                data: 0,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Suggested",
                data: 1,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Required",
                data: 2,
              })),
            this.rgOptionalSuggestedRequired
          );
        }
        rgEventTypes = [];
        GetCooldownGroupOptions() {
          if (!this.rgEventTypes.length)
            for (let e = 0; null != s.rj[e]; e++)
              this.rgEventTypes.push({ label: s.rj[e], data: e });
          return this.rgEventTypes;
        }
        rgGameTokens = [];
        GetGameTagOptions() {
          if (!this.rgGameTokens.length) {
            E.v
              .Get()
              .GetGameTags()
              .forEach((e) => {
                this.rgGameTokens.push({ label: e.label, value: e.value });
              });
          }
          return this.rgGameTokens;
        }
        GetSaleClanEventGID() {
          return this.m_model.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_model.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_model.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = y.b.InitFromClanID(this.m_model.sale_clan_account);
            return (
              h.TS.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_model.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return !1;
        }
        SetRequiresSalePage(e) {}
        GetRequiresSalePageType() {
          return 0;
        }
        SetRequiresSalePageType(e) {}
        SetSaleEvent(e, t) {
          (this.m_model.sale_clan_account == t &&
            this.m_model.sale_clan_event_gid == e) ||
            ((this.m_model.sale_clan_account = t),
            (this.m_model.sale_clan_event_gid = e),
            this.SetDirty(!0));
        }
        ClearSalePage() {
          (this.m_model.sale_clan_account = void 0),
            (this.m_model.sale_clan_event_gid = void 0),
            this.SetDirty(!0);
        }
        ClearSpecialEventCategory() {
          (this.m_model.special_event_type = void 0),
            (this.m_model.special_event_name = void 0),
            (this.m_model.special_event_description = void 0),
            (this.m_model.special_event_doc_link = void 0),
            (this.m_model.special_event_type_max = void 0),
            (this.m_model.special_event_rt_start = void 0),
            (this.m_model.special_event_rt_end = void 0),
            (this.m_model.special_event_time_blocks = void 0),
            this.SetDirty(!0);
        }
      }
      (0, n.Cg)([o.sH], w.prototype, "m_model", void 0),
        (0, n.Cg)([o.sH], w.prototype, "m_bDirty", void 0),
        (0, n.Cg)([o.sH], w.prototype, "rgActiveStats", void 0),
        (0, n.Cg)([o.sH], w.prototype, "m_dynamicSections", void 0),
        (0, n.Cg)([o.sH], w.prototype, "m_EmailDefinitions", void 0),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventType", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventType", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurSpecialEventName", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventName", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurSpecialEventName", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventName", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurSpecialEventDescription", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventDescription", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurSpecialEventDescription", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetSpecialEventDescription",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetQandA1EventStartTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetQandA1EventStartTime", null),
        (0, n.Cg)([g.oI], w.prototype, "GetQandA1URL", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetQandA1URL", null),
        (0, n.Cg)([g.oI], w.prototype, "GetQandA2EventStartTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetQandA2EventStartTime", null),
        (0, n.Cg)([g.oI], w.prototype, "GetQandA2URL", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetQandA2URL", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventDocLink", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventDocLink", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventTypeMax", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventTypeMax", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventStartTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventStartTime", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSpecialEventEndTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventEndTime", null),
        (0, n.Cg)([g.oI], w.prototype, "BHasSpecialEventTimeSet", null),
        (0, n.Cg)([g.oI], w.prototype, "NCountSpecialEventBlocks", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "AddSpecialEventBlock", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "RemoveSpecialEventBlock", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSpecialEventBlock", null),
        (0, n.Cg)([g.oI], w.prototype, "GetAllSpecialEventBlocks", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "MoveSpecialEventblock", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsInSpecialEventBlockedTime", null),
        (0, n.Cg)([g.oI], w.prototype, "BRequiresRemotePlayTogether", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetRequiresRemotePlayTogether",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BRequiresVR", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetRequiresVR", null),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "BOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "BIsAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsCollectTrailerPermissions", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetCollectTrailerPermissions",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsCollectDemoPermissions", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCollectDemoPermissions", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsCollectGameProfileIntent", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetCollectGameProfileIntent",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BHasCollectDemoDeadlineDate", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCollectDemoDeadlineDate", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetCollectDemoDeadlineDate",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BHasSurveyEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetSurveyType", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetSurveyType", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurEventTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "GetEventTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurEventTitle", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEventTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurEligibilityText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetEligibilityText", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurEligibilityText", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEligibilityText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurOptInRegistrationTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "GetOptInRegistrationTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurOptInRegistrationTitle", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetOptInRegistrationTitle", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurOptInRegistrationCheckbox", null),
        (0, n.Cg)([g.oI], w.prototype, "GetOptInRegistrationCheckbox", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurOptInRegistrationCheckbox", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetOptInRegistrationCheckbox",
          null,
        ),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "BHasOptInRegistrationTitleOrCheckbox",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsOptInEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetOptInEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetOptInType", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetOptInType", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPublicEventURL", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetAssetSetDocFile", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetPublicDocumentationWikiURL",
          null,
        ),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPublicEventID", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEventStartTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEventEndTime", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEventTrailerDropDate", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetOptInDeadlineTime", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsInvitationOnly", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetInvititationOnly", null),
        (0, n.Cg)([g.oI], w.prototype, "EVisibility", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetVisibility", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetReleaseGameEligible", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetUnreleaseGameEligible", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetEligibleReleaseBeforeDate",
          null,
        ),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetEligibleReleaseAfterDate",
          null,
        ),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCooldownGroupType", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCooldownRequired", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCooldownDays", null),
        (0, n.Cg)([g.oI], w.prototype, "OnChangeRequiredTags", null),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "GetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetCurDescription", null),
        (0, n.Cg)([g.oI], w.prototype, "GetDescription", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurDescription", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetDescription", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurHelpText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetHelpText", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurHelpText", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetHelpText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurAppealsText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetAppealsText", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurAppealsText", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetAppealsText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCurPruningCriteriaText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPruningCriteriaText", null),
        (0, n.Cg)([g.oI], w.prototype, "SetCurPruningCriteriaText", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPruningCriteriaText", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPointShopPriorityApps", null),
        (0, n.Cg)([g.oI], w.prototype, "SetPointShopPriorityApps", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPointShopIncludedApps", null),
        (0, n.Cg)([g.oI], w.prototype, "SetPointShopIncludedApps", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPointShopAdvertisingAppID", null),
        (0, n.Cg)([g.oI], w.prototype, "SetPointShopAdvertisingAppID", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPointShopRadialColorOverride", null),
        (0, n.Cg)([g.oI], w.prototype, "SetPointShopRadialColorOverride", null),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "GetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, n.Cg)(
          [g.oI],
          w.prototype,
          "SetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetLocalizedOptInBanner", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetLocalizedOptInBanner", null),
        (0, n.Cg)([g.oI], w.prototype, "DeleteLocalizedOptInBanner", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsCategoriesEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCategoriesEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCategoriesRequired", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetCategoriesRequired", null),
        (0, n.Cg)([g.oI], w.prototype, "OnChangeCategoryTags", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsArtistStatementEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetArtistStatementEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetArtistStatementRequired", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetArtistStatementRequired",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsFreeToKeepItemDropEnabled", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetFreeToKeepItemDropEnabled",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetFreeToKeepItemDropRequired", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetFreeToKeepItemDropRequired",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsPrimaryCountryEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPrimaryCountryEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPrimaryCountryRequired", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPrimaryCountryRequired", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsPressContactEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPressContactEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetPressContactRequired", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetPressContactRequired", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsBeforeYouOptInEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetBeforeYouOptInEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsBuildYourStorePageEnabled", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetBuildYourStorePageEnabled",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetBuildYourStorePageRequired", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetBuildYourStorePageRequired",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "GetStorePageText", null),
        (0, n.Cg)([g.oI], w.prototype, "SetStorePageText", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsTaggingWizardEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetTaggingWizardEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsLaunchYourDemoEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetLaunchYourDemoEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetLaunchYourDemoRequired", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetLaunchYourDemoRequired", null),
        (0, n.Cg)([g.oI], w.prototype, "GetLaunchYourDemoDueDate", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetLaunchYourDemoDueDate", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsDoAnytimeEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetDoAnytimeEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsLivestreamEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetLivestreamEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsChatSessionEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetChatSessionEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "BIsAnytimeTaggingWizardEnabled", null),
        (0, n.Cg)(
          [o.XI.bound],
          w.prototype,
          "SetAnytimeTaggingWizardEnabled",
          null,
        ),
        (0, n.Cg)([g.oI], w.prototype, "BIsEnterDiscountsEnabled", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetEnterDiscountsEnabled", null),
        (0, n.Cg)([g.oI], w.prototype, "GetDiscountEventID", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetDiscountEventID", null),
        (0, n.Cg)([g.oI], w.prototype, "GetExternalAppReviewers", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "SetExternalAppReviewers", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "RemoveExternalAppReviewAt", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "BAddExternalAppReviewAt", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "AddDynamicSection", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "DeleteDynamicSection", null),
        (0, n.Cg)([g.oI], w.prototype, "BHasLanguageData", null),
        (0, n.Cg)([o.XI], w.prototype, "Reset", null),
        (0, n.Cg)([o.XI.bound], w.prototype, "AddEmailDraft", null),
        (0, n.Cg)([g.oI], w.prototype, "GetRequiredOptions", null),
        (0, n.Cg)([g.oI], w.prototype, "GetCooldownGroupOptions", null),
        (0, n.Cg)([g.oI], w.prototype, "GetGameTagOptions", null),
        (0, n.Cg)([g.oI], w.prototype, "SetRequiresSalePage", null),
        (0, n.Cg)([g.oI], w.prototype, "SetRequiresSalePageType", null),
        (0, n.Cg)([g.oI], w.prototype, "SetSaleEvent", null),
        (0, n.Cg)([g.oI], w.prototype, "ClearSalePage", null),
        (0, n.Cg)([g.oI], w.prototype, "ClearSpecialEventCategory", null);
      class D {
        m_section = void 0;
        constructor(e) {
          (0, o.Gn)(this), (this.m_section = e);
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetName() {
          return (
            (0, s.Ym)(
              this.m_section.name,
              d.O.Get().GetCurEditLanguage(),
              "",
            ) ?? ""
          );
        }
        GetNameWithFallback(e) {
          return (
            (0, s.Ym)(this.m_section.name, d.O.Get().GetCurEditLanguage(), e) ??
            ""
          );
        }
        GetDescription() {
          return (
            (0, s.Ym)(
              this.m_section.description,
              d.O.Get().GetCurEditLanguage(),
              "",
            ) ?? ""
          );
        }
        GetInputStyle() {
          return this.m_section.input_style;
        }
        GetColumnCount() {
          return this.m_section.columns;
        }
        GetLists() {
          return this.m_section.lists;
        }
        GetListTitle(e) {
          return (
            (0, s.Ym)(
              this.m_section.lists[e].option_title,
              d.O.Get().GetCurEditLanguage(),
            ) ?? ""
          );
        }
        GetListByIndex(e) {
          return this.m_section.lists[e];
        }
        GetListByID(e) {
          const t = this.m_section.lists.filter((t) => t.unique_id == e);
          return t.length > 0 ? t[0] : null;
        }
        GetItemAtListAndIndex(e, t) {
          return this.m_section.lists[e].options[t];
        }
        GetModel() {
          return this.m_section;
        }
        GetListCount() {
          return this.m_section.lists ? this.m_section.lists.length : 0;
        }
        BIsValveOnlySection() {
          return this.m_section.valve_only;
        }
        SetName(e, t) {
          if ((0, s.Ym)(this.m_section.name, t) != e) {
            const a = (0, m.Lg)(t, "english");
            this.m_section.name || (this.m_section.name = {}),
              (this.m_section.name[a] = e),
              w.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if ((0, s.Ym)(this.m_section.description, t) != e) {
            const a = (0, m.Lg)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[a] = e),
              w.Get().SetDirty(!0);
          }
        }
        SetDescriptionWithCurLang(e) {
          this.SetDescription(e, d.O.Get().GetCurEditLanguage());
        }
        SetInputStyle(e) {
          this.m_section.input_style != e &&
            ((this.m_section.input_style = e),
            "text_input" == e &&
              ((this.m_section.lists = this.m_section.lists.splice(
                1,
                this.m_section.lists.length,
              )),
              0 == this.m_section.lists.length && this.AddOptionList()),
            w.Get().SetDirty(!0));
        }
        SetColumnCount(e) {
          this.m_section.columns != e &&
            ((this.m_section.columns = e), w.Get().SetDirty(!0));
        }
        SetValveOnly(e) {
          this.m_section.valve_only != e &&
            ((this.m_section.valve_only = e), w.Get().SetDirty(!0));
        }
        AddItemToList(e, t, a, n) {
          let r = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.AddItemToListByIndex(r, t, a);
        }
        AddItemToListByIndex(e, t, a, n) {
          if (!(e >= 0 && e <= this.m_section.lists.length))
            throw "Adding item to a list that does not exist: " + e;
          {
            const r = (0, m.Lg)(a, "english");
            this.m_section.lists[e].options ||
              (this.m_section.lists[e].options = []);
            const i = {
              text: {},
              unique_id: w.GenerateUniqueIDForListItem(
                this.m_section.lists[e].options,
              ),
            };
            (i.text[r] = t),
              n && ((i.tooltip = {}), (i.tooltip[r] = n)),
              this.m_section.lists[e].options.push(i),
              w.Get().SetDirty(!0);
          }
        }
        RemoveListItemByID(e, t) {
          let a = this.m_section.lists.findIndex((t) => t.unique_id === e);
          -1 !== a &&
            t < this.m_section.lists[a].options.length &&
            (this.m_section.lists[a].options.splice(t, 1),
            w.Get().SetDirty(!0));
        }
        RemoveListItem(e, t) {
          e < this.m_section.lists.length &&
            t < this.m_section.lists[e].options.length &&
            (this.m_section.lists[e].options.splice(t, 1),
            w.Get().SetDirty(!0));
        }
        MoveListItem(e, t, a) {
          e < this.m_section.lists.length &&
            ((0, u.yY)(this.m_section.lists[e].options, t, a),
            w.Get().SetDirty(!0));
        }
        UpdateListItemText(e, t, a, n) {
          let r = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== r &&
            t < this.m_section.lists[r].options.length &&
            (0, s.Ym)(this.m_section.lists[r].options[t].text, n) != a
          ) {
            const e = (0, m.Lg)(n, "english");
            (this.m_section.lists[r].options[t].text[e] = a),
              w.Get().SetDirty(!0);
          }
        }
        UpdateListItemTooltip(e, t, a, n) {
          let r = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== r &&
            t < this.m_section.lists[r].options.length &&
            (0, s.Ym)(this.m_section.lists[r].options[t].tooltip, n) != a
          ) {
            const e = (0, m.Lg)(n, "english");
            this.m_section.lists[r].options[t].tooltip ||
              (this.m_section.lists[r].options[t].tooltip = {}),
              (this.m_section.lists[r].options[t].tooltip[e] = a),
              w.Get().SetDirty(!0);
          }
        }
        UpdateListItemTextByKV(e, t, a, n) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            t >= 0 &&
            t < this.m_section.lists[e].options.length
          ) {
            let r = this.m_section.lists[e].options[t],
              i = !1;
            for (let e = 0; e < 31; ++e) {
              if ((0, s.Ym)(a, e) != (0, s.Ym)(r.text, e)) {
                const t = (0, m.Lg)(e);
                (r.text[t] = a[t]), (i = !0);
              }
              if (
                n &&
                (r.tooltip || (r.tooltip = {}),
                (0, s.Ym)(n, e) != (0, s.Ym)(r.tooltip, e))
              ) {
                const t = (0, m.Lg)(e);
                (r.tooltip[t] = n[t]), (i = !0);
              }
            }
            i && w.Get().SetDirty(!0);
          }
        }
        AddOptionList() {
          const e = {
            options: [],
            unique_id: w.GenerateUniqueIDForOptionListSection(
              this.m_section.lists,
            ),
          };
          this.m_section.lists.push(e), w.Get().SetDirty(!0);
        }
        DeleteOptionList(e) {
          let t = this.m_section.lists.findIndex((t) => t.unique_id === e);
          t &&
            (this.m_section.lists.splice(t, 1),
            0 == this.m_section.lists.length &&
              (this.m_section.lists = [
                {
                  options: [],
                  unique_id: w.GenerateUniqueIDForOptionListSection(),
                },
              ]),
            w.Get().SetDirty(!0));
        }
        SetListTitle(e, t, a) {
          let n = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.SetListTitleByListIndex(n, t, a);
        }
        SetListTitleByListIndex(e, t, a) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            (0, s.Ym)(this.m_section.lists[e].option_title, a) != t
          ) {
            const n = (0, m.Lg)(a, "english");
            this.m_section.lists[e].option_title ||
              (this.m_section.lists[e].option_title = {}),
              (this.m_section.lists[e].option_title[n] = t),
              w.Get().SetDirty(!0);
          }
        }
      }
      function C() {
        const [e, t] = (0, c.useState)(w.Get().GetActiveStats());
        return (0, g.hL)(w.Get().GetActiveStatsChangeCallaback(), t), e;
      }
      function I() {
        const e = C();
        return (0, c.useMemo)(() => {
          const t = JSON.parse(e?.json_eligible || "[]"),
            a = {
              jsonEligible: Array.isArray(t) ? t : [],
              jsonOptedIn: JSON.parse(e?.json_opted_in || "[]"),
              jsonOptedOut: JSON.parse(e?.json_opted_out || "[]"),
              jsonInvited: JSON.parse(e?.json_invited || "[]"),
              jsonPruned: JSON.parse(e?.json_pruned || "[]"),
              jsonFeatured: JSON.parse(e?.json_featured || "[]"),
              jsonPendingReview: JSON.parse(e?.json_pending_review || "[]"),
            };
          return (
            (a.setEligible = new Set(a.jsonEligible.map((e) => e.appid))),
            (a.setOptedIn = new Set(a.jsonOptedIn.map((e) => e.appid))),
            (a.setOptedOut = new Set(a.jsonOptedOut.map((e) => e.appid))),
            (a.setInvited = new Set(a.jsonInvited.map((e) => e.appid))),
            (a.setPruned = new Set(a.jsonPruned.map((e) => e.appid))),
            (a.setFeatured = new Set(a.jsonFeatured.map((e) => e.appid))),
            (a.setPendingReview = new Set(
              a.jsonPendingReview.map((e) => e.appid),
            )),
            a
          );
        }, [e]);
      }
      (0, n.Cg)([g.oI], D.prototype, "GetName", null),
        (0, n.Cg)([g.oI], D.prototype, "GetDescription", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetName", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetDescription", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetDescriptionWithCurLang", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetInputStyle", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetColumnCount", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "SetValveOnly", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "AddItemToList", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "AddItemToListByIndex", null),
        (0, n.Cg)([o.XI], D.prototype, "RemoveListItemByID", null),
        (0, n.Cg)([o.XI], D.prototype, "RemoveListItem", null),
        (0, n.Cg)([o.XI], D.prototype, "MoveListItem", null),
        (0, n.Cg)([o.XI], D.prototype, "UpdateListItemText", null),
        (0, n.Cg)([o.XI], D.prototype, "UpdateListItemTooltip", null),
        (0, n.Cg)([o.XI], D.prototype, "UpdateListItemTextByKV", null),
        (0, n.Cg)([o.XI.bound], D.prototype, "AddOptionList", null),
        (0, n.Cg)([o.XI], D.prototype, "DeleteOptionList", null),
        (0, n.Cg)([o.XI], D.prototype, "SetListTitle", null),
        (0, n.Cg)([o.XI], D.prototype, "SetListTitleByListIndex", null);
    },
    76685: (e, t, a) => {
      "use strict";
      a.d(t, { u: () => d, v: () => m });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(81418),
        l = a(14947),
        o = a(68797),
        c = a(78327);
      class m {
        constructor() {
          (0, l.Gn)(this);
        }
        static s_OptInAdmin;
        m_optInDef = new Map();
        m_activeOptInDef = new Array();
        m_archivedOptInDef = new Array();
        m_game_tags = [];
        m_optin_stats = {};
        m_appReviewOptInDef = new Array();
        m_appealsReviewOptInDef = new Array();
        m_mapOptInLoader = new Map();
        GetActiveOptIn() {
          return this.m_activeOptInDef;
        }
        GetArchivedOptIn() {
          return this.m_archivedOptInDef;
        }
        GetAppReviewOptIn() {
          return this.m_appReviewOptInDef;
        }
        GetAppealReviewOptIn() {
          return this.m_appealsReviewOptInDef;
        }
        GetGameTags() {
          return this.m_game_tags;
        }
        GetOptInStats() {
          return this.m_optin_stats;
        }
        GetDefinition(e) {
          return this.m_optInDef.get(e.toLowerCase());
        }
        SetOptInDefinition(e) {
          this.m_optInDef.set(e.pageid.toLowerCase(), e);
          let t = this.m_activeOptInDef.findIndex((t) => t.pageid == e.pageid);
          -1 != t &&
            (this.m_activeOptInDef.splice(t, 1),
            this.m_activeOptInDef.unshift(e)),
            (t = this.m_archivedOptInDef.findIndex(
              (t) => t.pageid == e.pageid,
            )),
            -1 != t &&
              (this.m_archivedOptInDef.splice(t, 1),
              this.m_archivedOptInDef.unshift(e));
        }
        createdPageId;
        createPageErrMsg;
        GetCreatedPageId() {
          return this.createdPageId;
        }
        GetCreatePageErrMsg() {
          return this.createPageErrMsg;
        }
        async LoadOptInAdminDef(e) {
          return (
            this.m_mapOptInLoader.has(e) ||
              this.m_mapOptInLoader.set(e, this.InternalLoadOptInAdminDef(e)),
            this.m_mapOptInLoader.get(e)
          );
        }
        async InternalLoadOptInAdminDef(e) {
          let t = null;
          try {
            const a = `${c.TS.PARTNER_BASE_URL}optin/ajaxadmingetdefandstats`,
              n = { pageid: e, sessionid: c.TS.SESSIONID },
              r = await i().get(a, { params: n });
            if (200 == r?.status && r.data?.def && r.data.stats)
              return (
                this.InternalAddOptInDef(r.data.def),
                (this.m_optin_stats[e] = r.data.stats),
                !0
              );
            t = (0, o.H)(r);
          } catch (e) {
            t = (0, o.H)(e);
          }
          return (
            console.error(
              "COptInAdmin::LoadOptInAdminDef failed " + t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async CreatePage(e, t) {
          (this.createdPageId = ""), (this.createPageErrMsg = "");
          let a = c.TS.PARTNER_BASE_URL + "/admin/store/pagecreate";
          const n = new FormData();
          n.append("sessionid", c.TS.SESSIONID),
            n.append("action", "createsale"),
            n.append("id", e),
            n.append("is_optin", "true");
          try {
            let e = await i().post(a, n, {
              withCredentials: !0,
              cancelToken: t,
            });
            if (t.reason)
              return (
                console.log(
                  "COptInAdminStore.CreatePage cancelled: " + t.reason,
                ),
                null
              );
            if (200 != e.status || !e.data || 1 != e.data.success) {
              let t =
                "Save Error: (" +
                (e.data ? "result: " + e.data.success : "status: " + e.status) +
                ")";
              return (
                e.data && e.data.msg && (t += " Error Message: " + e.data.msg),
                (this.createPageErrMsg = e.data.msg),
                t
              );
            }
            this.createdPageId = e.data.msg;
          } catch (e) {
            let t = (0, o.H)(e);
            return (
              console.error(
                "OptinAdminStore.CreatePage error: " + t.strErrorMsg,
                t,
              ),
              (this.createPageErrMsg = t.strErrorMsg),
              "Page creation error: " + e.strErrorMsg
            );
          }
          return null;
        }
        static Get() {
          return (
            m.s_OptInAdmin ||
              ((m.s_OptInAdmin = new m()),
              ("dev" != c.TS.WEB_UNIVERSE && "beta" != c.TS.WEB_UNIVERSE) ||
                (window.g_OptInAdminStore = m.s_OptInAdmin),
              m.s_OptInAdmin.Init()),
            m.s_OptInAdmin
          );
        }
        InternalAddOptInDef(e) {
          this.m_optInDef.set(e.pageid.toLowerCase(), e);
          const t = Math.floor(Date.now() / 1e3);
          e.event_end_date < t
            ? this.m_archivedOptInDef.push(e)
            : this.m_activeOptInDef.push(e),
            !e.sale_optin_enabled &&
            e.event_start_date &&
            e.event_start_date > t
              ? this.m_appReviewOptInDef.push(e)
              : e.sale_optin_enabled &&
                e.event_end_date > t &&
                this.m_appealsReviewOptInDef.push(e);
        }
        Init() {
          let e = JSON.parse(
            JSON.stringify((0, c.Tc)("optin_game_tags", "application_config")),
          );
          if (e)
            for (let t of Object.keys(e))
              this.m_game_tags.push({ label: e[t], value: t });
          let t = JSON.parse(
            JSON.stringify((0, c.Tc)("optin_page_stats", "application_config")),
          );
          if (t)
            for (let e of Object.keys(t)) {
              let a = t[e].pageid;
              this.m_optin_stats[a] = t[e];
            }
          let a = (0, c.Tc)("optin_admin_pages", "application_config");
          this.ValidateStoreDefault(a)
            ? (a.forEach((e) => {
                (0, s.Xd)(e);
              }),
              a.map((e) => {
                this.InternalAddOptInDef(e);
              }),
              "dev" == c.TS.WEB_UNIVERSE &&
                console.log(
                  "Loading OptIn Definitions: " + this.m_optInDef.size,
                  this.m_optInDef,
                ))
            : "dev" == c.TS.WEB_UNIVERSE &&
              console.error("COptInAdmin.Init: Failed to load defintion", a);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) && "string" == typeof t[0].pageid
          );
        }
      }
      function d(e) {
        return m.Get().GetDefinition(e);
      }
      (0, n.Cg)([l.XI], m.prototype, "Init", null);
    },
    89269: (e, t, a) => {
      "use strict";
      a.d(t, { Mb: () => E, UQ: () => _, wC: () => h });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(90626),
        l = a(68797),
        o = a(6419),
        c = a(6144),
        m = a(73745),
        d = a(30470),
        u = a(24484);
      class p {
        m_mapAppToPackages = new Map();
        m_mapAppUpdateCallback = new Map();
        m_mapAppLoadPromise = new Map();
        m_mapPackageToUSCent = new Map();
        m_mapPackageListToPromise = new Map();
        m_mapPackageUpdateCallback = new Map();
        GetAllPackagesForApp(e) {
          return this.m_mapAppToPackages.get(e);
        }
        GetPackageListUpdateCallback(e) {
          return (
            this.m_mapAppUpdateCallback.has(e) ||
              this.m_mapAppUpdateCallback.set(e, new c.lu()),
            this.m_mapAppUpdateCallback.get(e)
          );
        }
        GetSinglePackageUpdateCallback(e) {
          return (
            this.m_mapPackageUpdateCallback.has(e) ||
              this.m_mapPackageUpdateCallback.set(e, new c.lu()),
            this.m_mapPackageUpdateCallback.get(e)
          );
        }
        GetPackageUSCentPrice(e) {
          return this.m_mapPackageToUSCent.get(e) || 0;
        }
        async LoadAppPackages(e) {
          return e
            ? this.m_mapAppToPackages.has(e)
              ? this.m_mapAppToPackages.get(e)
              : (this.m_mapAppLoadPromise.has(e) ||
                  this.m_mapAppLoadPromise.set(
                    e,
                    this.InternalLoadAppPackages(e),
                  ),
                this.m_mapAppLoadPromise.get(e))
            : null;
        }
        async InternalLoadAppPackages(e) {
          const t = `${d.TS.PARTNER_BASE_URL}/packages/ajaxgetpackageforapp`;
          let a = null;
          try {
            const n = { appid: e, bExcludeCommercial: !0 },
              r = await i().get(t, { params: n });
            if (1 == r?.data?.success) {
              r.data.packageWithUSCents.forEach((e) => {
                this.m_mapPackageToUSCent.set(e.packageid, e.uscent);
              });
              const t = r.data.packages;
              return (
                this.m_mapAppToPackages.set(e, t),
                this.GetPackageListUpdateCallback(e).Dispatch(t),
                t
              );
            }
            a = { response: r };
          } catch (e) {
            a = e;
          }
          const n = (0, l.H)(a);
          return (
            console.error(
              "CPartnerSitePackageStore Could not load packages for app " + e,
              n.strErrorMsg,
              n,
            ),
            []
          );
        }
        static s_Singleton;
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == d.TS.WEB_UNIVERSE &&
                (window.g_PartnerSitePackageStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        Init() {
          const e = (0, u.Fd)("app_to_package_lists", "application_config");
          e &&
            e.forEach((e) => {
              this.m_mapAppToPackages.set(e.appid, e.packageid);
            });
          const t = (0, u.Fd)("package_with_usd_cents", "application_config");
          t &&
            t.forEach((e) => {
              this.m_mapPackageToUSCent.set(e.packageid, e.usd_cents);
            });
        }
      }
      function _(e) {
        const t = (0, m.CH)();
        return (
          (0, s.useEffect)(() => {
            p.Get().LoadAppPackages(e);
          }, [e]),
          (0, m.hL)(p.Get().GetPackageListUpdateCallback(e), () => t()),
          p.Get().GetAllPackagesForApp(e)
        );
      }
      function g(e) {
        return p.Get().GetPackageUSCentPrice(e);
      }
      function h(e) {
        const t = p.Get().GetAllPackagesForApp(e);
        return null != t?.find((e) => g(e) > 0);
      }
      function E(e) {
        const t = (0, m.CH)();
        return (
          (0, m.hL)(p.Get().GetPackageListUpdateCallback(e), () => t()),
          (function (e) {
            const t = p.Get().GetAllPackagesForApp(e);
            if (t?.length > 0) {
              let e = null;
              return (
                t.forEach((t) => {
                  let a = g(t);
                  a && (!e || e > a) && (e = a);
                }),
                e
              );
            }
            return null;
          })(e)
        );
      }
      (0, n.Cg)([o.o], p.prototype, "LoadAppPackages", null),
        (0, n.Cg)([o.o], p.prototype, "InternalLoadAppPackages", null);
    },
    14446: (e, t, a) => {
      "use strict";
      a.d(t, { Ex: () => h, fH: () => g, gS: () => _ });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(90626),
        l = a(17720),
        o = a(68797),
        c = a(6419),
        m = a(6144),
        d = a(73745),
        u = a(78327);
      class p {
        m_mapUsersBySteamID = new Map();
        m_promiseLoadUsersBySteamID = new Map();
        m_mapUserToCallback = new Map();
        static s_globalSingletonStore;
        static Get() {
          return (
            p.s_globalSingletonStore ||
              ((p.s_globalSingletonStore = new p()),
              p.s_globalSingletonStore.Init()),
            p.s_globalSingletonStore
          );
        }
        Init() {}
        BHasUserInfo(e) {
          return this.m_mapUsersBySteamID.has(e);
        }
        GetUserInfo(e) {
          return this.m_mapUsersBySteamID.get(e);
        }
        GetUserInfoCallbackup(e) {
          return (
            this.m_mapUserToCallback.has(e) ||
              this.m_mapUserToCallback.set(e, new m.lu()),
            this.m_mapUserToCallback.get(e)
          );
        }
        async LoadUserInfo(e) {
          const t = [],
            a = new Array();
          for (const n of e)
            this.m_mapUsersBySteamID.has(n) ||
              (this.m_promiseLoadUsersBySteamID.has(n)
                ? a.push(this.m_promiseLoadUsersBySteamID.get(n))
                : t.push(n));
          if (!t.length) return void (await Promise.all(a));
          const n = this.InternalFetchUserInfo(t);
          t.forEach((e) => this.m_promiseLoadUsersBySteamID.set(e, n));
        }
        async InternalFetchUserInfo(e) {
          const t = { steamids: e.join(",") },
            a = u.TS.PARTNER_BASE_URL + "user/ajaxgetusers";
          let n = null;
          try {
            const e = await i().get(a, { params: t, withCredentials: !0 });
            if (1 == e?.data?.success) {
              for (const t of e.data.users)
                this.m_mapUsersBySteamID.set(t.steamid, t),
                  this.GetUserInfoCallbackup(t.steamid).Dispatch(t);
              return;
            }
            n = (0, o.H)(e?.data);
          } catch (e) {
            n = (0, o.H)(e);
          }
          console.warn("ajax request failed with error", n);
        }
      }
      function _(e) {
        return g(l.b.InitFromAccountID(e).ConvertTo64BitString());
      }
      function g(e) {
        const [t, a] = (0, s.useState)(p.Get().GetUserInfo(e));
        return (
          (0, s.useEffect)(() => {
            !e || (t && t?.steamid == e) || p.Get().LoadUserInfo([e]);
          }, [e, t]),
          (0, d.hL)(p.Get().GetUserInfoCallbackup(e), a),
          t
        );
      }
      function h() {
        return { fnHintLoadPartnerUserInfo: p.Get().LoadUserInfo };
      }
      (0, n.Cg)([c.o], p.prototype, "LoadUserInfo", null);
    },
    1305: (e, t, a) => {
      "use strict";
      a.d(t, { Bx: () => E, S0: () => g, TR: () => h, f1: () => _ });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(73523),
        l = a(90626),
        o = a(68797),
        c = a(6419),
        m = a(6144),
        d = a(73745),
        u = a(30470);
      class p {
        m_mapCluster = new Map();
        m_mapChangeCallbacks = new Map();
        m_mapClusterLoaders = new Map();
        GetKey(e, t) {
          return `${e}_${t}`;
        }
        GetClusterByID(e, t) {
          const a = this.GetKey(e, t);
          return this.m_mapCluster.get(a);
        }
        GetCallbackForClusterByID(e, t) {
          this.GetKey(e, t);
          return (
            this.m_mapChangeCallbacks.has(t) ||
              this.m_mapChangeCallbacks.set(t, new m.lu()),
            this.m_mapChangeCallbacks.get(t)
          );
        }
        async LoadCluster(e, t) {
          const a = this.GetKey(e, t);
          return this.m_mapCluster.has(a)
            ? this.m_mapCluster.get(a)
            : (this.m_mapClusterLoaders.has(a) ||
                this.m_mapClusterLoaders.set(a, this.InternalLoadCluster(e, t)),
              this.m_mapClusterLoaders.get(a));
        }
        async InternalLoadCluster(e, t) {
          let a = null;
          try {
            const n = u.TS.PARTNER_BASE_URL + "cluster/ajaxloadcluster",
              r = {
                clustertype: (0, s.gw)(e),
                clusterid: t,
                sessionid: u.TS.SESSIONID,
              },
              l = await i().get(n, { params: r });
            if (200 == l?.status && 1 == l.data?.success && l.data.cluster)
              return (
                this.InternalAddCluster(e, t, l.data.cluster),
                this.GetCallbackForClusterByID(e, t).Dispatch(l.data.cluster),
                l.data.cluster
              );
            a = (0, o.H)(l?.data);
          } catch (e) {
            a = (0, o.H)(e);
          }
          return (
            console.error(
              "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                a.strErrorMsg,
              a,
            ),
            null
          );
        }
        async SaveClusterAssets(e, t, a) {
          const n = t.id;
          let r = null;
          try {
            const l = u.TS.PARTNER_BASE_URL + "cluster/ajaxsaveclusterassets",
              c = new FormData();
            c.append("clustertype", (0, s.gw)(e)),
              c.append("clusterid", n),
              c.append("clusterdata", JSON.stringify(t)),
              c.append("sessionid", u.TS.SESSIONID),
              a && c.append("additional_params", JSON.stringify(a));
            const m = await i().post(l, c);
            if (200 == m?.status && 1 == m.data?.success && m.data.cluster)
              return (
                this.InternalAddCluster(e, n, m.data.cluster),
                this.GetCallbackForClusterByID(e, n).Dispatch(m.data.cluster),
                !0
              );
            r = (0, o.H)(m?.data);
          } catch (e) {
            r = (0, o.H)(e);
          }
          return (
            console.error(
              "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                r.strErrorMsg,
              r,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == u.TS.WEB_UNIVERSE &&
                (window.g_ClusterStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        constructor() {}
        async Init() {}
        InternalAddCluster(e, t, a) {
          const n = this.GetKey(e, t);
          this.m_mapCluster.set(n, a);
        }
      }
      function _(e, t) {
        return p.Get().GetKey(e, t);
      }
      function g(e, t) {
        return p.Get().GetClusterByID(e, t);
      }
      function h(e, t) {
        const [a, n] = (0, l.useState)(() => p.Get().GetClusterByID(e, t));
        return (
          (0, l.useEffect)(() => {
            e && t && a?.id != t && p.Get().LoadCluster(e, t).then(n);
          }, [a, e, t]),
          (0, d.hL)(p.Get().GetCallbackForClusterByID(e, t), n),
          a
        );
      }
      function E() {
        return { fnSaveClusterAssets: p.Get().SaveClusterAssets };
      }
      (0, n.Cg)([c.o], p.prototype, "LoadCluster", null),
        (0, n.Cg)([c.o], p.prototype, "SaveClusterAssets", null);
    },
    11542: (e, t, a) => {
      "use strict";
      a.d(t, { aR: () => l, hn: () => c, lH: () => o });
      var n = a(55278),
        r = a(90626),
        i = a(73745),
        s = a(78327);
      class l {
        m_model = null;
        InitDailyDealToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new n.J(e)),
            this.m_model
          );
        }
        GetDailyDealToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            l.s_Singleton ||
              ((l.s_Singleton = new l()),
              "dev" == s.TS.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = l.s_Singleton)),
            l.s_Singleton
          );
        }
        constructor() {}
      }
      function o() {
        const e = (0, i.CH)(),
          [t, a] = r.useState(l.Get().GetDailyDealToEdit());
        return (
          (0, i.hL)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function c() {
        return [
          r.useCallback(
            () =>
              !!l.Get().GetDailyDealToEdit() &&
              l.Get().GetDailyDealToEdit().BIsDirty(),
            [],
          ),
          r.useCallback(() => {
            l.Get().ClearEditModel();
          }, []),
        ];
      }
    },
    9907: (e, t, a) => {
      "use strict";
      a.d(t, {
        JF: () => u,
        Kt: () => _,
        MH: () => d,
        QU: () => p,
        Ty: () => m,
        YQ: () => h,
        z_: () => g,
      });
      var n = a(56545),
        r = a(33543),
        i = a(90626),
        s = a(20194),
        l = a(62792),
        o = a(55263),
        c = a(96001);
      const m = { include_assets: !0 };
      function d(e) {
        const t = (0, i.useMemo)(
          () => (0, l.wR)(e.appid, e.packageid, e.bundleid),
          [e.appid, e.bundleid, e.packageid],
        );
        return (0, o.G6)(t.id, (0, l.gy)(t), m);
      }
      function u(e, t) {
        const [a, n] = (0, i.useMemo)(() => {
          let a = new Set(),
            n = new Set();
          return (
            e?.length > 0 &&
              e.forEach((e) => {
                e?.store_item_id && 0 == e.store_item_type
                  ? a.add(e.store_item_id)
                  : e?.store_item_id &&
                    2 == e.store_item_type &&
                    n.add(e.store_item_id);
              }),
            t?.length > 0 &&
              t.forEach((e) => {
                e.appid ? a.add(e.appid) : e.bundleid && n.add(e.bundleid);
              }),
            [a, n]
          );
        }, [e, t]);
        return { rgAppIDs: Array.from(a), rgBundleIDs: Array.from(n) };
      }
      function p(e) {
        return ["partnerSalePageCandidates" + e];
      }
      function _(e, t) {
        let a = (0, s.I)({
          queryKey: p(e),
          queryFn: async () =>
            (async function (e, t) {
              if (!e)
                throw new Error(
                  "Invalid accountid for FetchSalePageCandidatesForPromotion",
                );
              const a = n.w.Init(r.Bl);
              a.Body().set_account_id(e);
              const i = await r.WZ.GetSalePageCandidatesForPromo(t, a);
              if (1 !== i.GetEResult())
                throw new Error(
                  `Error from GetSalePagesForPromotion: ${i.GetEResult()}`,
                );
              return i.Body().clans().length
                ? i
                    .Body()
                    .clans()
                    .map((e) => e.toObject())
                : [];
            })(e, t),
          staleTime: 1 / 0,
        });
        return a.isSuccess ? a.data : null;
      }
      function g(e) {
        return ["partnerAdvertisingApps", e];
      }
      function h(e) {
        const t = (0, c.a)();
        let a = (0, s.I)({
          queryKey: g(e),
          queryFn: async () =>
            (async function (e, t) {
              if (!e) return [];
              const a = n.w.Init(r.o$);
              a.Body().set_partner_id(e);
              const i = await r.WZ.GetAdvertisingAppsForPartner(t, a);
              if (1 !== i.GetEResult())
                throw new Error(
                  `Error from GetAdvertisingAppsForPartner: ${i.GetEResult()}`,
                );
              return i.Body().advertising_apps().length
                ? i
                    .Body()
                    .advertising_apps()
                    .map((e) => e.toObject())
                : [];
            })(e, t),
          staleTime: 1 / 0,
        });
        return a.isSuccess ? a.data : null;
      }
    },
    52625: (e, t, a) => {
      "use strict";
      a.d(t, {
        JX: () => K,
        N0: () => Q,
        dl: () => Y,
        of: () => $,
        Sq: () => J,
        Dt: () => X,
        o9: () => Z,
        UU: () => q,
        a4: () => x,
        Jw: () => H,
        aU: () => W,
        $_: () => j,
        zy: () => ae,
        tR: () => ne,
        uW: () => se,
        Uv: () => de,
        z2: () => me,
        Y4: () => pe,
        UJ: () => ee,
        W6: () => oe,
        ZG: () => re,
        Yg: () => le,
        PI: () => ce,
        D4: () => ie,
        we: () => ue,
      });
      var n,
        r = a(34629),
        i = a(90626),
        s = a(6144),
        l = a(68797),
        o = a(73745),
        c = a(78327),
        m = a(80613),
        d = a.n(m),
        u = a(89068),
        p = a(56545);
      class _ extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.gid || u.Sg(_.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  gid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                  store_item_type: {
                    n: 2,
                    br: u.qM.readEnum,
                    bw: u.gp.writeEnum,
                  },
                  store_item_id: {
                    n: 3,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  store_item_name: {
                    n: 4,
                    br: u.qM.readString,
                    bw: u.gp.writeString,
                  },
                  discount_event_id: {
                    n: 5,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  creator_id: {
                    n: 6,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  rtime32_start_time: {
                    n: 7,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  last_update_time: {
                    n: 8,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  template_json: {
                    n: 9,
                    br: u.qM.readString,
                    bw: u.gp.writeString,
                  },
                  partner_jsondata: {
                    n: 10,
                    br: u.qM.readString,
                    bw: u.gp.writeString,
                  },
                  internal_json: {
                    n: 11,
                    br: u.qM.readString,
                    bw: u.gp.writeString,
                  },
                  deleted: { n: 12, br: u.qM.readBool, bw: u.gp.writeBool },
                  cancelled: { n: 13, br: u.qM.readBool, bw: u.gp.writeBool },
                  rtime32_cancel_time: {
                    n: 14,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  asset_request_id: {
                    n: 15,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = u.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDealDetails";
        }
      }
      class g extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.daily_deal || u.Sg(g.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  daily_deal: { n: 1, c: _ },
                  partnerid: {
                    n: 2,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  inviteid: {
                    n: 3,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = u.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_CreateDailyDeal_Request";
        }
      }
      class h extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.gid || u.Sg(h.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  gid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = u.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_CreateDailyDeal_Response";
        }
      }
      class E extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.daily_deal || u.Sg(E.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  daily_deal: { n: 1, c: _ },
                  gid: {
                    n: 2,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = u.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_UpdateDailyDeal_Request";
        }
      }
      class S extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new S();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_UpdateDailyDeal_Response";
        }
      }
      class y extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.gid || u.Sg(y.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  gid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = u.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_DeleteDailyDeal_Request";
        }
      }
      class v extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new v();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_DeleteDailyDeal_Response";
        }
      }
      class f extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.gid || u.Sg(f.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  gid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = u.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_CancelDailyDeal_Request";
        }
      }
      class b extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new b();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_CancelDailyDeal_Response";
        }
      }
      class w extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.gid || u.Sg(w.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  gid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                  rtime32_start_date: {
                    n: 2,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  rtime32_end_date: {
                    n: 3,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  appid: { n: 4, br: u.qM.readUint32, bw: u.gp.writeUint32 },
                  store_item_type: {
                    n: 5,
                    br: u.qM.readEnum,
                    bw: u.gp.writeEnum,
                  },
                  search_term: {
                    n: 6,
                    br: u.qM.readString,
                    bw: u.gp.writeString,
                  },
                  partnerid: {
                    n: 7,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = u.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_GetDailyDeals_Request";
        }
      }
      class D extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            D.prototype.daily_deals || u.Sg(D.M()),
            m.Message.initialize(this, e, 0, -1, [1, 2, 3, 4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            D.sm_m ||
              (D.sm_m = {
                proto: D,
                fields: {
                  daily_deals: { n: 1, c: _, r: !0, q: !0 },
                  blocked_dates: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: u.qM.readUint32,
                    pbr: u.qM.readPackedUint32,
                    bw: u.gp.writeRepeatedUint32,
                  },
                  scheduled_slots: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: u.qM.readUint32,
                    pbr: u.qM.readPackedUint32,
                    bw: u.gp.writeRepeatedUint32,
                  },
                  blocked: { n: 4, c: C, r: !0, q: !0 },
                },
              }),
            D.sm_m
          );
        }
        static MBF() {
          return D.sm_mbf || (D.sm_mbf = u.w0(D.M())), D.sm_mbf;
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(D.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(D.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(D.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(D.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_GetDailyDeals_Response";
        }
      }
      class C extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.date || u.Sg(C.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: {
                  date: { n: 1, br: u.qM.readUint32, bw: u.gp.writeUint32 },
                  name: { n: 2, br: u.qM.readString, bw: u.gp.writeString },
                },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = u.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_GetDailyDeals_Response_DailyDealBlockedDate";
        }
      }
      class I extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.appids || u.Sg(I.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: u.qM.readUint32,
                    pbr: u.qM.readPackedUint32,
                    bw: u.gp.writeRepeatedUint32,
                  },
                },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = u.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_GetDailyDealsForApps_Request";
        }
      }
      class B extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.daily_deals || u.Sg(B.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: { daily_deals: { n: 1, c: _, r: !0, q: !0 } },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = u.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new B();
          return B.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDailyDeal_GetDailyDealsForApps_Response";
        }
      }
      !(function (e) {
        (e.GetDailyDeals = function (e, t) {
          return e.SendMsg("DailyDeal.GetDailyDeals#1", (0, p.I8)(w, t), D, {
            bConstMethod: !0,
            ePrivilege: 1,
          });
        }),
          (e.CreateDailyDeal = function (e, t) {
            return e.SendMsg(
              "DailyDeal.CreateDailyDeal#1",
              (0, p.I8)(g, t),
              h,
              { ePrivilege: 1 },
            );
          }),
          (e.UpdateDailyDeal = function (e, t) {
            return e.SendMsg(
              "DailyDeal.UpdateDailyDeal#1",
              (0, p.I8)(E, t),
              S,
              { ePrivilege: 1 },
            );
          }),
          (e.DeleteDailyDeal = function (e, t) {
            return e.SendMsg(
              "DailyDeal.DeleteDailyDeal#1",
              (0, p.I8)(y, t),
              v,
              { ePrivilege: 1 },
            );
          }),
          (e.CancelDailyDeal = function (e, t) {
            return e.SendMsg(
              "DailyDeal.CancelDailyDeal#1",
              (0, p.I8)(f, t),
              b,
              { ePrivilege: 1 },
            );
          }),
          (e.GetDailyDealsForApps = function (e, t) {
            return e.SendMsg(
              "DailyDeal.GetDailyDealsForApps#1",
              (0, p.I8)(I, t),
              B,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          });
      })(n || (n = {}));
      var T = a(44332),
        M = a(96059),
        A = a(60778),
        k = a(55278),
        R = a(4074),
        P = a(14771),
        N = a(62792),
        G = a(48996),
        O = a(94238),
        F = a(93095),
        L = a(33543),
        U = a(38390);
      const z = new A.wd("DailyDealAdmin"),
        x = 7,
        q = 14,
        W = 4,
        j = 3,
        H = 6,
        V = "#DailyDeals_Blackout";
      function K(e) {
        return e.store_item_name == V;
      }
      var Y, $, J;
      function X(e, t) {
        let a = $.Unknown;
        const n = Date.now() / 1e3;
        return e.rtime32_start_time
          ? e.cancelled
            ? $.Cancelled
            : ((a =
                e.rtime32_start_time > n
                  ? Z(e) == J.NotSetUp
                    ? $.InviteAccepted
                    : t > 0
                      ? $.DealReady
                      : $.InviteAccepted
                  : t > 0
                    ? e.rtime32_start_time + P.Kp.PerDay < n
                      ? $.DealCompleted
                      : $.DealLive
                    : $.DealFailed),
              a)
          : $.Unknown;
      }
      function Q(e) {
        return Z(e) != J.NotRequired;
      }
      function Z(e) {
        if (e && e.partner_jsondata) {
          const t = JSON.parse(e.partner_jsondata);
          if (t && t.require_sale_page)
            return t.sale_clan_account && t.sale_clan_event_gid
              ? J.SetUp
              : J.NotSetUp;
        }
        return J.NotRequired;
      }
      function ee(e) {
        let t, a;
        if (e && e.partner_jsondata) {
          const n = JSON.parse(e.partner_jsondata);
          n && ((t = n.sale_clan_account), (a = n.sale_clan_event_gid));
        }
        const { eventModel: n, bLoading: r } = (0, U.B9)(t, a);
        return !r && n?.GetSaleURL();
      }
      !(function (e) {
        (e[(e.k_BlockDate = 1)] = "k_BlockDate"),
          (e[(e.k_ScheduleSlot = 2)] = "k_ScheduleSlot");
      })(Y || (Y = {})),
        (function (e) {
          (e[(e.Unknown = 0)] = "Unknown"),
            (e[(e.Cancelled = 1)] = "Cancelled"),
            (e[(e.InviteActive = 2)] = "InviteActive"),
            (e[(e.InviteExpired = 3)] = "InviteExpired"),
            (e[(e.InviteAccepted = 4)] = "InviteAccepted"),
            (e[(e.DealReady = 5)] = "DealReady"),
            (e[(e.DealLive = 6)] = "DealLive"),
            (e[(e.DealCompleted = 7)] = "DealCompleted"),
            (e[(e.DealFailed = 8)] = "DealFailed");
        })($ || ($ = {})),
        (function (e) {
          (e[(e.NotRequired = 0)] = "NotRequired"),
            (e[(e.NotSetUp = 1)] = "NotSetUp"),
            (e[(e.SetUp = 2)] = "SetUp");
        })(J || (J = {}));
      class te {
        m_mapCDailyDeals = new Map();
        m_mapCDailyDealsByDay = new Map();
        m_mapCalendarMarkupByDay = new Map();
        m_DailyDealListCallback = new s.lu();
        m_mapDailyDealCallback = new Map();
        m_mapDailyDealsByDayCallback = new Map();
        m_mapSaleVanityDailyDeals = null;
        m_SteamInterface = null;
        GetAllDailyDeals() {
          return Array.from(this.m_mapCDailyDeals.values());
        }
        GetDailyDealByID(e) {
          return this.m_mapCDailyDeals.get(e);
        }
        GetDailyDealStartTime(e) {
          if (this.GetDailyDealByID(e)) {
            const t = Array.from(this.m_mapCDailyDealsByDay.keys());
            for (let a = 0; a < t.length; a++) {
              const n = t[a];
              if (this.m_mapCDailyDealsByDay.get(n)?.some((t) => t == e))
                return n;
            }
          }
          return 0;
        }
        GetDailyDealByDay(e) {
          return this.m_mapCDailyDealsByDay
            .get(e)
            ?.map((e) => this.m_mapCDailyDeals.get(e));
        }
        GetDailyDealDisplayOverridesByDay(e) {
          return this.m_mapCalendarMarkupByDay.get(e);
        }
        GetCallbackForDailyDealID(e) {
          return (
            this.m_mapDailyDealCallback.has(e) ||
              this.m_mapDailyDealCallback.set(e, new s.lu()),
            this.m_mapDailyDealCallback.get(e)
          );
        }
        GetCallbackForDailyDealList() {
          return this.m_DailyDealListCallback;
        }
        GetCallbackForDailyDealByDayList(e) {
          return (
            this.m_mapDailyDealsByDayCallback.has(e) ||
              this.m_mapDailyDealsByDayCallback.set(e, new s.lu()),
            this.m_mapDailyDealsByDayCallback.get(e)
          );
        }
        async LoadDailyDealByID(e, t) {
          if (void 0 === e) return !1;
          let a = null;
          try {
            const r = p.w.Init(w);
            r.Body().set_gid(e), t && r.Body().set_partnerid(t);
            let i = await n.GetDailyDeals(
              this.m_SteamInterface.GetServiceTransport(),
              r,
            );
            if (1 == i.GetEResult()) {
              if (1 == i.Body().daily_deals().length) {
                let e = i.Body().daily_deals().at(0).toObject();
                return (
                  this.InternalAddCDailyDeal(e),
                  this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                  this.GetCallbackForDailyDealByDayList(
                    e.rtime32_start_time,
                  ).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(e.rtime32_start_time)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              }
              a = {
                strErrorMsg:
                  "CDailyDealStore.LoadDailyDealByID returned: " +
                  i.Body().daily_deals().length +
                  " deals.  Should have returned 1",
              };
            } else 42 != i.GetEResult() && (a = (0, l.H)(i));
          } catch (e) {
            a = (0, l.H)(e);
          }
          return (
            this.m_mapCDailyDeals.set(e, null),
            this.GetCallbackForDailyDealID(e).Dispatch(null),
            a &&
              z.Error(
                "CDailyDealStore.LoadDailyDealByID failed: " + a.strErrorMsg,
                a,
              ),
            !1
          );
        }
        CreateVanityToDailyDealMap() {
          (this.m_mapSaleVanityDailyDeals = new Map()),
            Array.from(this.m_mapCDailyDeals.values()).forEach((e) => {
              if (e.template_json?.includes("override_url")) {
                const t = new k.J(e),
                  a = t.GetOverrideURL(),
                  n = (0, R.i)(a);
                n &&
                  (this.m_mapSaleVanityDailyDeals.has(n)
                    ? this.m_mapSaleVanityDailyDeals.set(n, [
                        ...this.m_mapSaleVanityDailyDeals.get(n),
                        t.GetDealID(),
                      ])
                    : this.m_mapSaleVanityDailyDeals.set(n, [t.GetDealID()]));
              }
            });
        }
        GetDailyDealsBySalePageVanity(e) {
          return (
            this.m_mapSaleVanityDailyDeals || this.CreateVanityToDailyDealMap(),
            this.m_mapSaleVanityDailyDeals.has(e)
              ? this.m_mapSaleVanityDailyDeals
                  .get(e)
                  .map((e) => this.m_mapCDailyDeals.get(e))
              : null
          );
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllDailyDeals().forEach((t) => {
              if (t.store_item_id) {
                let a = -1;
                switch (t.store_item_type) {
                  case 0:
                    a = 0;
                    break;
                  case 1:
                    a = 1;
                    break;
                  case 2:
                    a = 2;
                }
                if (-1 != a) {
                  const n = (0, N.FT)(t.store_item_id, a);
                  e.has(n) ? e.get(n).push(t) : e.set(n, [t]);
                }
              }
            }),
            e
          );
        }
        async AddDailyDeal(e, t, a, r) {
          let i = null;
          try {
            let s = new _();
            s.set_rtime32_start_time(t),
              e.appid
                ? (s.set_store_item_type(0), s.set_store_item_id(e.appid))
                : e.packageid
                  ? (s.set_store_item_type(1), s.set_store_item_id(e.packageid))
                  : e.bundleid &&
                    (s.set_store_item_type(2), s.set_store_item_id(e.bundleid));
            let o = {};
            (o = { ...o, location: { hubTargets: ["main"] } }),
              a &&
                a.trim().startsWith(c.TS.STORE_BASE_URL) &&
                (o = { ...o, override_url: a.trim() }),
              s.set_template_json(JSON.stringify(o)),
              r?.trim().length > 0 &&
                s.set_discount_event_id(parseInt(r.trim()));
            const m = p.w.Init(g);
            m.Body().set_daily_deal(s);
            let d = await n.CreateDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              m,
            );
            if (1 == d.GetEResult())
              return (
                s.set_gid(d.Body().gid()),
                this.InternalAddCDailyDeal(s.toObject()),
                this.GetCallbackForDailyDealByDayList(t).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(t)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            i = (0, l.H)(d);
          } catch (e) {
            i = (0, l.H)(e);
          }
          return (
            z.Error(
              "CDailyDealStore.AddDailyDeal failed: " + i?.strErrorMsg,
              i,
            ),
            !1
          );
        }
        async SaveDailyDeal(e) {
          let t = null;
          try {
            let a = _.fromObject(e);
            z.Info("Saving:" + JSON.stringify(a)),
              this.m_mapCDailyDeals.set(e.gid, e);
            const r = p.w.Init(E);
            r.Body().set_gid(e.gid), r.Body().set_daily_deal(a);
            let i = await n.UpdateDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              r,
            );
            if (1 == i.GetEResult())
              return (
                this.m_mapCDailyDeals.set(e.gid, e),
                this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                !0
              );
            t = (0, l.H)(i);
          } catch (e) {
            t = (0, l.H)(e);
          }
          return (
            z.Error(
              "CDailyDealStore.SaveDailyDeal failed: " + t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async RemoveDailyDeal(e) {
          const t = this.m_mapCDailyDeals.get(e);
          let a = null;
          if ((z.Debug("Deleting Deal:" + JSON.stringify(t)), !t || !t.gid))
            return (
              z.Error(
                "CDailyDealStore.RemoveDailyDeal ID does not exist: " + e,
              ),
              !1
            );
          try {
            const e = p.w.Init(y);
            e.Body().set_gid(t.gid);
            let r = await n.DeleteDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == r.GetEResult()) {
              this.m_mapCDailyDeals.delete(t.gid);
              const e = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
              if (e) {
                const a = e.findIndex((e) => t.gid == e);
                -1 != a && e.splice(a, 1);
              }
              const a = t.rtime32_start_time;
              return (
                this.GetCallbackForDailyDealByDayList(a).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(a)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            }
            a = (0, l.H)(r);
          } catch (e) {
            a = (0, l.H)(e);
          }
          return (
            z.Error(
              "CDailyDealStore.RemoveDailyDeal failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async CancelDailyDeal(e) {
          const t = this.m_mapCDailyDeals.get(e);
          let a = null;
          if (
            (z.Debug("Canceling daily deal:" + JSON.stringify(t)), !t || !t.gid)
          )
            return (
              z.Error(
                "CDailyDealStore.CancelDailyDeal ID does not exist: " + e,
              ),
              !1
            );
          try {
            const e = p.w.Init(f);
            e.Body().set_gid(t.gid);
            let r = await n.CancelDailyDeal(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == r.GetEResult()) {
              const e = this.m_mapCDailyDeals.get(t.gid);
              (e.cancelled = !0),
                (e.rtime32_cancel_time = Math.floor(Date.now() / 1e3));
              const a = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
              if (a) {
                const e = a.findIndex((e) => t.gid == e);
                -1 != e && a.splice(e, 1);
              }
              const n = t.rtime32_start_time;
              return (
                this.GetCallbackForDailyDealByDayList(n).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(n)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                ),
                this.GetCallbackForDailyDealList().Dispatch(
                  Array.from(this.m_mapCDailyDeals.values()),
                ),
                !0
              );
            }
            a = (0, l.H)(r);
          } catch (e) {
            a = (0, l.H)(e);
          }
          return (
            z.Error(
              "CDailyDealStore.CancelDailyDeal failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async SetDailyDealSalePage(e, t, a, n, r, i, s) {
          const l = p.w.Init(L.b5);
          l.Body().set_clan_account_id(a),
            l.Body().set_daily_deal_gid(e),
            l.Body().set_partner_id(t),
            l.Body().set_rtime_sale_start(n),
            l.Body().set_rtime_sale_end(r),
            l.Body().set_create_asset_request(!0),
            i && l.Body().set_advertising_appid(i),
            s && l.Body().set_clan_event_gid(s);
          const o = await L.WZ.CreateSalePageForPromo(
            this.m_SteamInterface.GetServiceTransport(),
            l,
          );
          return (
            o.BSuccess() && this.LoadDailyDealByID(e, t),
            o.BSuccess() && 1 == o.GetEResult()
          );
        }
        async SetBlackoutDate(e, t, a) {
          let r = null;
          try {
            let i = new _();
            if (t) {
              i.set_rtime32_start_time(e),
                i.set_store_item_name(V),
                i.set_template_json("{}"),
                i.set_store_item_type(-1),
                i.set_store_item_id(0),
                i.set_discount_event_id(a);
              const t = p.w.Init(g);
              t.Body().set_daily_deal(i);
              let s = await n.CreateDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == s.GetEResult())
                return (
                  i.set_gid(s.Body().gid()),
                  this.InternalAddCDailyDeal(i.toObject()),
                  this.GetCallbackForDailyDealByDayList(e).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(e)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              r = (0, l.H)(s);
            } else if (this.m_mapCDailyDealsByDay.has(e)) {
              const t = this.m_mapCDailyDealsByDay.get(e).find((e) => {
                const t = this.m_mapCDailyDeals.get(e);
                return t.store_item_name == V && !t.deleted;
              });
              if (null != t) {
                const a = this.m_mapCDailyDeals.get(t),
                  i = p.w.Init(y);
                i.Body().set_gid(a.gid);
                let s = await n.DeleteDailyDeal(
                  this.m_SteamInterface.GetServiceTransport(),
                  i,
                );
                if (1 == s.GetEResult()) {
                  const a = this.m_mapCDailyDealsByDay.get(e);
                  if (a) {
                    this.m_mapCDailyDeals.delete(t);
                    const e = a.findIndex((e) => e == t);
                    -1 != e && a.splice(e, 1);
                  }
                  return (
                    this.GetCallbackForDailyDealByDayList(e).Dispatch(
                      this.m_mapCDailyDealsByDay
                        .get(e)
                        .map((e) => this.m_mapCDailyDeals.get(e)),
                    ),
                    this.GetCallbackForDailyDealList().Dispatch(
                      Array.from(this.m_mapCDailyDeals.values()),
                    ),
                    !0
                  );
                }
                r = (0, l.H)(s);
              }
            }
          } catch (e) {
            r = (0, l.H)(e);
          }
          return (
            z.Error(
              "CDailyDealStore.SetBlackoutDate failed: " + r?.strErrorMsg,
              r,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            te.s_Singleton ||
              ((te.s_Singleton = new te()),
              te.s_Singleton.Init(),
              "dev" == c.TS.WEB_UNIVERSE &&
                (window.g_DailyDealStore = te.s_Singleton)),
            te.s_Singleton
          );
        }
        constructor() {}
        InternalAddCDailyDeal(e) {
          this.m_mapCDailyDeals.set(e.gid, e);
          const t = e.rtime32_start_time;
          t &&
            !e.cancelled &&
            (this.m_mapCDailyDealsByDay.has(t) ||
              this.m_mapCDailyDealsByDay.set(t, new Array()),
            this.m_mapCDailyDealsByDay.get(t).push(e.gid));
        }
        async Init() {
          const e = (0, c.Tc)(
            "promotion_operation_token",
            "application_config",
          );
          (0, T.w)(e, "CDailyDealStore: promotion operation token is missing"),
            (this.m_SteamInterface = new M.D(c.TS.WEBAPI_BASE_URL, e));
          const t = (0, c.Tc)("daily_deals", "application_config");
          t &&
            (t.forEach((e) => {
              this.InternalAddCDailyDeal(e);
            }),
            this.GetCallbackForDailyDealList().Dispatch(
              Array.from(this.m_mapCDailyDeals.values()),
            ),
            this.m_mapCDailyDealsByDay.forEach((e, t) => {
              this.GetCallbackForDailyDealByDayList(t).Dispatch(
                this.m_mapCDailyDealsByDay
                  .get(t)
                  .map((e) => this.m_mapCDailyDeals.get(e)),
              );
            }),
            this.m_mapCDailyDeals.forEach((e) => {
              this.GetCallbackForDailyDealID(e.gid).Dispatch(e);
            }));
          const a = (0, c.Tc)("blockout_dates", "application_config") || [],
            n = (0, c.Tc)("scheduled_slots", "application_config") || [];
          n.length > 0 &&
            n.forEach((e) =>
              this.HelperAddEDailyDealDisplayInfo(e, {
                eType: Y.k_ScheduleSlot,
              }),
            ),
            a.length > 0 &&
              a.forEach((e) =>
                this.HelperAddEDailyDealDisplayInfo(e.date, {
                  eType: Y.k_BlockDate,
                  name: e.name,
                }),
              ),
            "dev" == c.TS.WEB_UNIVERSE &&
              console.log(
                `DEV_DEBUG: CDailyDealStore loaded ${t.length} daily deals, separate blocked dates ${a.length}, separated schedule dates ${n.length}`,
              );
        }
        HelperAddEDailyDealDisplayInfo(e, t) {
          this.m_mapCalendarMarkupByDay.has(e) ||
            this.m_mapCalendarMarkupByDay.set(e, []),
            this.m_mapCalendarMarkupByDay.set(e, [
              ...this.m_mapCalendarMarkupByDay.get(e),
              t,
            ]);
        }
      }
      function ae() {
        const [e, t] = i.useState(te.Get().GetAllDailyDeals());
        return (0, o.hL)(te.Get().GetCallbackForDailyDealList(), t), e;
      }
      function ne(e, t) {
        const a = te.Get(),
          [n, r] = i.useState(a.GetDailyDealByID(e));
        return (
          i.useEffect(() => {
            void 0 === n && a.LoadDailyDealByID(e, t);
          }, [n, e, a, t]),
          (0, o.hL)(a.GetCallbackForDailyDealID(e), r),
          n
        );
      }
      function re(e) {
        const t = te.Get(),
          [a, n] = i.useState(t.GetDailyDealStartTime(e));
        return (
          (0, o.hL)(t.GetCallbackForDailyDealID(e), () =>
            n(t.GetDailyDealStartTime(e)),
          ),
          a
        );
      }
      function ie(e) {
        const [t, a] = i.useState(() => te.Get().GetDailyDealByDay(e));
        return (0, o.hL)(te.Get().GetCallbackForDailyDealByDayList(e), a), t;
      }
      function se() {
        return { fnAddDailyDeal: te.Get().AddDailyDeal };
      }
      function le() {
        return {
          fnSaveDailyDeal: te.Get().SaveDailyDeal,
          fnRemoveDailyDeal: te.Get().RemoveDailyDeal,
          fnCancelDailyDeal: te.Get().CancelDailyDeal,
          fnSetDailyDealSalePage: te.Get().SetDailyDealSalePage,
        };
      }
      function oe() {
        return te.Get().SetBlackoutDate;
      }
      function ce(e) {
        return te.Get().GetDailyDealsBySalePageVanity(e);
      }
      function me(e) {
        return te.Get().GetDailyDealDisplayOverridesByDay(e);
      }
      function de() {
        const [e, t] = (0, i.useState)(() => te.Get().CreateMapByStoreItem());
        return (
          (0, o.hL)(te.Get().GetCallbackForDailyDealList(), () =>
            t(te.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      function ue(e) {
        const t = (0, F.F_)(
            e.filter((e) => 0 == e.store_item_type).map((e) => e.store_item_id),
          ),
          a = (0, F.QJ)(
            e.filter((e) => 2 == e.store_item_type).map((e) => e.store_item_id),
          );
        return (0, i.useMemo)(() => {
          let n = [];
          return (
            e?.forEach((e) => {
              const r = (0, O.qc)(e),
                i = (0, G.$U)(e?.discount_event_id?.toString()),
                s = (0, G.qN)(r.packageid);
              let l = [];
              0 == e.store_item_type
                ? (l = t?.get(e.store_item_id)?.discounts ?? [])
                : 1 == e.store_item_type
                  ? (l = s)
                  : 2 == e.store_item_type &&
                    (l = a?.get(e.store_item_id)?.discounts ?? []),
                n.push(_e(e, l, i));
            }),
            n
          );
        }, [e, t, a]);
      }
      function pe(e) {
        const t = (0, O.qc)(e),
          a = (0, G.CW)(t.packageid),
          n = e.rtime32_start_time > Date.now() / 1e3,
          r = (0, F.F_)([0 == e.store_item_type ? e.store_item_id : 0], {
            bExcludeExpired: n,
          }),
          s = (0, F.QJ)([2 == e.store_item_type ? e.store_item_id : 0], {
            bExcludeExpired: n,
          }),
          l = (0, G.sk)(e?.discount_event_id?.toString());
        return (0, i.useMemo)(() => {
          let t = [];
          return (
            0 == e.store_item_type
              ? (t = r?.get(e.store_item_id)?.discounts)
              : 1 == e.store_item_type
                ? (t = a)
                : 2 == e.store_item_type &&
                  (t = s?.get(e.store_item_id)?.discounts),
            _e(e, t, l)
          );
        }, [e, l, r, a, s]);
      }
      function _e(e, t, a) {
        if (e) {
          const n = e.rtime32_start_time,
            r = e.rtime32_start_time + 82800;
          let i =
            t?.filter(
              (e) =>
                e.rtStartDate <= n && r <= e.rtEndDate && e.nDiscountPct > 0,
            ) ?? [];
          if (
            (a &&
              (i = i.concat(
                a.filter((e) => !i.find((t) => t.nDiscountID == e.nDiscountID)),
              )),
            i?.length > 0)
          ) {
            let e, t, a, n;
            return (
              i.forEach((r) => {
                (null == e || e > r.nDiscountPct) && (e = r.nDiscountPct),
                  (null == t || t < r.nDiscountPct) && (t = r.nDiscountPct),
                  (null == a || a < r.rtStartDate) && (a = r.rtStartDate),
                  (null == n || n > r.rtEndDate) && (n = r.rtEndDate);
              }),
              {
                nDiscountPercentHigh: t,
                nDiscountPercentLow: e,
                dtDiscountStart: a,
                dtDiscountEnd: n,
                rgDiscounts: i,
              }
            );
          }
        }
        return {
          nDiscountPercentHigh: 0,
          nDiscountPercentLow: 0,
          dtDiscountStart: 0,
          dtDiscountEnd: 0,
          rgDiscounts: [],
        };
      }
      (0, r.Cg)([o.oI], te.prototype, "LoadDailyDealByID", null),
        (0, r.Cg)([o.oI], te.prototype, "GetDailyDealsBySalePageVanity", null),
        (0, r.Cg)([o.oI], te.prototype, "AddDailyDeal", null),
        (0, r.Cg)([o.oI], te.prototype, "SaveDailyDeal", null),
        (0, r.Cg)([o.oI], te.prototype, "RemoveDailyDeal", null),
        (0, r.Cg)([o.oI], te.prototype, "CancelDailyDeal", null),
        (0, r.Cg)([o.oI], te.prototype, "SetDailyDealSalePage", null),
        (0, r.Cg)([o.oI], te.prototype, "SetBlackoutDate", null),
        (0, r.Cg)([o.oI], te.prototype, "InternalAddCDailyDeal", null);
    },
    92082: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => p, E: () => _ });
      var n = a(33428),
        r = a(93095),
        i = a(48996),
        s = a(52625),
        l = a(87924),
        o = a(94238),
        c = a(90626),
        m = a(61859),
        d = a(14771),
        u = a(24484);
      function p(e) {
        const t = c.useMemo(
            () =>
              (0, u.Tc)("bundle_discount_conflict_dates", "application_config"),
            [],
          ),
          a = (0, i.CW)(e.packageid),
          s = (0, r.F_)([e.appid], { bExcludeExpired: !1 }),
          { rgDiscountEvents: l, eResult: o } = (0, n.sU)(
            e.primary_partnerid,
            !0,
          );
        return {
          rgDiscountConflict: c.useMemo(() => {
            let n = [];
            return (
              e?.appid
                ? (n = g(s?.get(e.appid), l))
                : e?.packageid && a?.length > 0
                  ? (n = g({ discounts: a }, l))
                  : e?.bundleid && t && (n = t),
              n
            );
          }, [e?.appid, e?.packageid, e?.bundleid, s, l, a, t]),
          bLoading:
            !e ||
            null == o ||
            (e.appid && !s) ||
            (e.packageid && !a) ||
            (e.bundleid && !t),
        };
      }
      function _(e, t, a, n) {
        let r,
          i = "",
          s = !1,
          l = "",
          o = "",
          c = null;
        const u = a + d.Kp.PerDay * n;
        return (
          e.length > 0 &&
            e.forEach((e) => {
              e.rtConflictStart <= a && e.rtConflictEnd > a
                ? (t?.appid || t?.packageid) &&
                  e.rtDiscountStart <= a &&
                  u <= e.rtDiscountEnd
                  ? (!r || e.nHighestDiscount > r) &&
                    ((r = e.nHighestDiscount),
                    (i = e.strDiscountName),
                    (s = e.bMajorSale),
                    (l = e.discountEventID))
                  : (o && (o += ", "),
                    (o += t?.bundleid
                      ? (0, m.we)("#DailyDeals_BundleCooldownConflict")
                      : e.description))
                : !c && e.rtConflictStart > a && (c = e);
            }),
          {
            strConflict: o,
            nextDiscount: c,
            nMaxDiscount: r,
            strDiscountName: i,
            bMajorSale: s,
            discountEventID: l,
          }
        );
      }
      function g(e, t) {
        let a = new Array();
        const n = (s.a4 - 1) * d.Kp.PerDay,
          r = n + l.T1 * d.Kp.PerDay,
          i = l.T1 * d.Kp.PerDay,
          c = Number.parseInt(
            "" + (0, u.Tc)("most_recent_price_increase", "application_config"),
          );
        return (
          (0, o.TQ)(Math.floor(Date.now() / 1e3)) < c + l.nu &&
            a.push({
              rtConflictStart: c - r,
              rtConflictEnd: c + i,
              description: (0, m.we)("#DailyDeals_PriceIncrease"),
              bMajorSale: !1,
            }),
          e && !e.is_free && e.discounts && 0 != e.discounts.length
            ? (e.discounts.forEach((e) => {
                const s =
                  e.strDiscountName ??
                  (0, m.we)("#Existing_Discount", (0, m.TW)(e.rtStartDate));
                let l = !1;
                if (e.discountEventID && t) {
                  const a = t.find((t) => t.id == e.discountEventID);
                  a && (l = "unique" == a.collision_type);
                }
                a.push({
                  rtConflictStart: l ? e.rtStartDate - n : e.rtStartDate - r,
                  rtConflictEnd: l ? e.rtEndDate : e.rtEndDate + i,
                  description: s,
                  rtDiscountStart: e.rtStartDate,
                  rtDiscountEnd: e.rtEndDate,
                  nHighestDiscount: e.nDiscountPct,
                  strDiscountName: e.strDiscountName,
                  bMajorSale: l,
                  discountEventID: e.discountEventID,
                });
              }),
              a.sort((e, t) => e.rtConflictStart - t.rtConflictStart),
              a)
            : a
        );
      }
    },
    45325: (e, t, a) => {
      "use strict";
      a.d(t, { IA: () => d, tS: () => c, kK: () => m });
      var n = a(90626),
        r = a(24484),
        i = a(52625),
        s = a(62792);
      var l = a(64399),
        o = a(90031);
      function c() {
        const [e] = (0, n.useState)(() =>
          (0, r.Tc)("candidate_app_info", "application_config"),
        );
        return e;
      }
      function m() {
        const e = (0, l.no)(),
          t = (function () {
            const [e] = (0, n.useState)(() => {
              const e = (0, r.Tc)(
                  "marketing_messages_metadataonly",
                  "application_config",
                ),
                t = new Map();
              return e
                ? (e.forEach((e) => {
                    if (e.associated_id) {
                      let a = -1;
                      switch (e.association_type) {
                        case 1:
                          a = 0;
                          break;
                        case 2:
                          a = 1;
                          break;
                        case 5:
                          a = 2;
                      }
                      if (-1 != a) {
                        const n = (0, s.FT)(e.associated_id, a);
                        t.has(n) ? t.get(n).push(e) : t.set(n, [e]);
                      }
                    }
                  }),
                  t)
                : t;
            });
            return e;
          })(),
          a = (0, i.Uv)(),
          c = (0, o.mN)(),
          m = (0, l.jo)();
        return {
          mapStoreItemToPlans: e,
          mapStoreItemToMMs: t,
          mapStoreItemToDailyDeals: a,
          mapStoreItemToInvites: c,
          mapMMFeaturedInPlans: (0, n.useMemo)(() => {
            const e = new Map();
            return (
              m.map((t) => {
                t.marketing_message_ids &&
                  t.marketing_message_ids.forEach((a) => e.set(a, t.id));
              }),
              e
            );
          }, [m]),
        };
      }
      function d(e) {
        const t = Date.now() / 1e3;
        return !e.cancelled && !e.rtaccepttime && e.rtexpiretime > t;
      }
    },
    97911: (e, t, a) => {
      "use strict";
      a.d(t, { L: () => r });
      var n = a(65946);
      function r(e) {
        const [t, a] = (0, n.q3)(() => [
            e.BHasAssociatedItem(),
            e.GetStoreItemKey(),
          ]),
          [r] = (0, n.q3)(() => [e.BHasDynamicFilterForApp(2, a?.id)]);
        return t && "app" == a.item_type && r;
      }
    },
    34288: (e, t, a) => {
      "use strict";
      a.d(t, { BQ: () => p, zw: () => u });
      var n = a(43258),
        r = a(14947),
        i = a(90626),
        s = a(16676),
        l = a(6144),
        o = a(73745),
        c = a(78327),
        m = a(68612);
      class d {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitMarketingMessageToEdit(e, t, a = !1) {
          if (
            ("dev" == c.TS.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CMarketingMessageEditStore.InitMarketingMessageToEdit with model:" +
                  Boolean(this.m_mapEditModel.get(e)),
                (0, r.HO)(t),
              ),
            this.m_mapEditModel.has(e) && !a)
          )
            this.m_mapEditModel.get(e).Reset(t);
          else {
            const r = new n.fV(t);
            this.m_mapEditModel.set(e, r),
              r.GetCallback().Register((t) => this.GetCallback(e).Dispatch(t)),
              a && this.GetCallback(e).Dispatch(r);
          }
          return this.m_mapEditModel.get(e);
        }
        BHasMarketingMessageToEdit(e) {
          return this.m_mapEditModel.has(e);
        }
        GetMarketingMessageToEdit(e) {
          return this.m_mapEditModel.get(e);
        }
        ClearEditModel() {
          this.m_mapEditModel = new Map();
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new l.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              "dev" == c.TS.WEB_UNIVERSE &&
                (window.g_MarketingMessageEditStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
      }
      function u(e) {
        const t = (0, o.CH)(),
          [a, n] = i.useState(d.Get().GetMarketingMessageToEdit(e)),
          r = (0, m.dr)(e);
        return (
          i.useEffect(() => {
            r &&
              !d.Get().BHasMarketingMessageToEdit(r.gid) &&
              d.Get().InitMarketingMessageToEdit(r.gid, r),
              n(d.Get().GetMarketingMessageToEdit(r?.gid));
          }, [r]),
          (0, o.hL)(d.Get().GetCallback(e), (e) => {
            n(e), t();
          }),
          a?.GetGID() == e ? a : null
        );
      }
      function p(e, t) {
        return (
          !!(e?.length > 0 && s.pd.validateUrl(e)) &&
          e.split("?")[0].toLowerCase().endsWith(t.toLowerCase())
        );
      }
    },
    32703: (e, t, a) => {
      "use strict";
      a.d(t, {
        GO: () => C,
        M: () => y,
        _p: () => T,
        de: () => f,
        gA: () => v,
        w2: () => B,
        w9: () => I,
      });
      var n = a(22837),
        r = a(23910),
        i = a(43258),
        s = a(14514),
        l = a(65946),
        o = a(90626),
        c = a(38390),
        m = a(56186),
        d = a(62792),
        u = a(55263),
        p = a(16676),
        _ = a(34288),
        g = a(68612),
        h = a(10592);
      function E(e, t, a, r, i, s, l, o, c, m, d) {
        const u = Boolean(1 != t),
          p = Boolean(0 != t);
        let g = 0;
        if ("mm_auto_render" != s)
          for (let t = 0; t < 31; ++t) e && e[(0, n.Lg)(t)] && (g += 1);
        let E,
          S = h.G;
        if ((1 == t ? (S = 1) : 2 == t && (S += 1), a)) {
          E = !0;
          let t = 0;
          for (let a = 0; a < 31; ++a) {
            const s = (0, n.Lg)(a);
            if (
              (r && r[s] && i && i[s] && (t += 1),
              r && r[s] && (!i || !i[s] || !e || !e[s]))
            ) {
              E = !1;
              break;
            }
            if (i && i[s] && (!r || !r[s] || !e || !e[s])) {
              E = !1;
              break;
            }
          }
          0 == t && (E = !1);
        }
        let y = 0,
          v = 0;
        if ("featured_video" == s) {
          E = (0, _.BQ)(c, ".mp4") && (0, _.BQ)(m, ".webm");
          for (let e = 0; e < 31; ++e) {
            const t = (0, n.Lg)(e);
            l && l[t] && (y += 1), o && o[t] && (v += 1);
          }
        }
        const f = d?.GetAssets().GetHeroCapsuleURL()?.length > 0;
        return {
          bMinimumAssetsSetup: Boolean(
            "mm_auto_render" == s ||
              (e && (!u || e.english) && (!p || e.sc_schinese)),
          ),
          nAssetSetup: g,
          nCompleteAssetRequired: S,
          bMatchingVideoAssets: E,
          nSubtitleCount: y,
          nPosterCount: v,
          strCustomTemplateType: s,
          bHasStoreVerticalCapsule: f,
        };
      }
      const S = { include_assets: !0 };
      function y(e) {
        const t = (0, _.zw)(e),
          [a, n, r, i, s, o, c, m, d, p, g] = (0, l.q3)(() => [
            t?.GetAssetsObject("ll_image"),
            t?.GetRealm(),
            t?.BHasAnimatedAssets(),
            t?.GetAssetsObject("mp4"),
            t?.GetAssetsObject("webm"),
            t?.GetCustomTemplate(),
            t?.GetAssetsObject("subtitles"),
            t?.GetAssetsObject("poster"),
            t?.GetFeaturedVideoMP4Url(),
            t?.GetFeaturedVideoWebMUrl(),
            t?.GetStoreItemID(),
          ]),
          [h] = (0, u.t7)(g?.appid, S);
        return t?.GetGID() == e
          ? E(a, n, r, i, s, o, c, m, d, p, h)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
              bHasStoreVerticalCapsule: !1,
            };
      }
      function v(e, t) {
        const a = (0, g.dr)(t?.gid ?? e),
          n = t || a,
          [r, s] = (0, o.useState)(n ? e : null),
          [c, d] = (0, o.useState)(() => (0, m.c2)(n?.template_vars_json)),
          [p, _] = (0, o.useState)(() =>
            (0, i.AK)(e, n?.additional_restrictions_json),
          );
        (0, o.useEffect)(() => {
          r != e &&
            n &&
            (s(e),
            d((0, m.c2)(n.template_vars_json)),
            _((0, i.AK)(e, n.additional_restrictions_json)));
        }, [r, e, n]);
        const [h, y, v, f, b, w, D, C, I, B, T] = (0, l.q3)(() => [
            c?.ll_image,
            p?.valid_realms || 0,
            c?.has_animated_assets,
            c?.mp4,
            c?.webm,
            c?.custom_display,
            c?.subtitles,
            c?.poster,
            c?.featured_video_mp4,
            c?.featured_video_webm,
            1 == n?.association_type ? n?.associated_id : void 0,
          ]),
          [M] = (0, u.t7)(T, S);
        return n
          ? E(h, y, v, f, b, w, D, C, I, B, M)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
              bHasStoreVerticalCapsule: !1,
            };
      }
      var f;
      !(function (e) {
        (e[(e.k_StoreInvalidState = 0)] = "k_StoreInvalidState"),
          (e[(e.k_StoreUnavailable = 1)] = "k_StoreUnavailable"),
          (e[(e.k_StorePrePurchase = 2)] = "k_StorePrePurchase"),
          (e[(e.k_StoreComingSoon = 3)] = "k_StoreComingSoon"),
          (e[(e.k_StoreEarlyAccess = 4)] = "k_StoreEarlyAccess"),
          (e[(e.k_StoreGeneralAvailability = 5)] =
            "k_StoreGeneralAvailability");
      })(f || (f = {}));
      const b = { include_release: !0 };
      function w(e, t, a, n, i, l, o, c, m, d, u, _, g, h, E) {
        const S = (0, r.e5)(d, m),
          y = (0, s.UT)(m),
          v = Boolean(m?.startsWith("steam://open/"));
        let b = f.k_StoreInvalidState;
        return (
          2 == l
            ? (b = f.k_StoreUnavailable)
            : i &&
              (i.BIsPrePurchase()
                ? (b = f.k_StorePrePurchase)
                : i.BIsComingSoon()
                  ? (b = f.k_StoreComingSoon)
                  : i.BIsEarlyAccess()
                    ? (b = f.k_StoreEarlyAccess)
                    : i.BIsReleased() &&
                      !i.BIsComingSoon() &&
                      (b = f.k_StoreGeneralAvailability)),
          {
            eVisibility: e,
            bDateSet: Boolean(t) && Boolean(a) && t < a,
            bItemAssociated: Boolean(n) || _,
            bFiltersSetup: Boolean(o > 0 || c),
            bValidLink: Boolean(m && p.pd.validateUrl(m) && ((S && y) || v)),
            bButtonTokenEntered: Boolean(u),
            bExplicitNoItemAssociation: _,
            bLegalLineHandled: g,
            bAdvertisingAppWithoutURL:
              14 == i?.GetAppType() &&
              (!i.GetStorePageURLOverride() ||
                0 == i.GetStorePageURLOverride().trim().length),
            eStoreItemMarketingMessageState: b,
            bRequiresPartnerEvent: 10 == h,
            bUpdateEventLinked: Boolean(E),
            bUpdateEventLive: E?.BIsVisibleEvent(),
          }
        );
      }
      function D() {
        return {
          eVisibility: 1,
          bDateSet: !1,
          bItemAssociated: !1,
          bFiltersSetup: !1,
          bValidLink: !1,
          bButtonTokenEntered: !1,
          bExplicitNoItemAssociation: !1,
          bLegalLineHandled: !1,
          bAdvertisingAppWithoutURL: !1,
          eStoreItemMarketingMessageState: f.k_StoreInvalidState,
          bRequiresPartnerEvent: !1,
          bUpdateEventLinked: !1,
          bUpdateEventLive: !1,
        };
      }
      function C(e) {
        const t = (0, _.zw)(e),
          [a, n, r, i, s, o, m, p, g, h, E, S, y, v] = (0, l.q3)(() => [
            t?.GetVisibilty(),
            t?.GetStartRTime(),
            t?.GetEndRTime(),
            t?.GetStoreItemID(),
            t?.GetUserMessageFilterCount(),
            t?.BIsNoFilterRequired(),
            t?.GetLinkURL(),
            t?.GetRealm(),
            t?.GetButtonToken(),
            t?.BExplicitNoAssociationItem(),
            t?.BHasLegalLinePartner() ||
              t?.BExplicitNoLegalPartnerNeeded() ||
              t?.BUseCustomLegalText(),
            t?.GetType(),
            t?.GetUpdateEventClanAccountID(),
            t?.GetUpdateEventGID(),
          ]),
          { eventModel: f } = (0, c.B9)(y, v, !0),
          [C, I] = (0, u.G6)((0, d.M9)(i), (0, d.pk)(i), b);
        return t?.GetGID() == e
          ? w(a, n, r, i, C, I, s, o, m, p, g, h, E, S, f)
          : D();
      }
      function I(e, t) {
        const a = (0, g.dr)(t?.gid ?? e),
          n = t || a,
          [r, s] = (0, o.useState)(n ? e : null),
          [p, _] = (0, o.useState)((0, m.c2)(n?.template_vars_json)),
          [h, E] = (0, o.useState)(
            (0, i.AK)(e, n?.additional_restrictions_json),
          );
        (0, o.useEffect)(() => {
          r != e &&
            n &&
            (s(e),
            _((0, m.c2)(n.template_vars_json)),
            E((0, i.AK)(e, n.additional_restrictions_json)));
        }, [r, e, n]);
        const [S, y, v, f, C, I, B, T, M, A, k, R, P, N] = (0, l.q3)(() => [
            n?.visibility,
            n?.start_date,
            n?.end_date,
            (0, d.Di)((0, i.Z8)(n?.association_type, n?.associated_id)),
            (0, i.mH)(h),
            h?.no_filters_required,
            p?.linkurl,
            h?.valid_realms || 0,
            p?.button_text,
            h?.explicit_no_associated_item,
            p?.partner?.trim().length > 0 || h?.explicit_no_partner_name_needed,
            n?.type,
            p?.update_event_clan_accountid,
            p?.update_event_gid,
          ]),
          [G, O] = (0, u.G6)((0, d.M9)(f), (0, d.pk)(f), b),
          { eventModel: F } = (0, c.B9)(P, N);
        return origin ? w(S, y, v, f, G, O, C, I, B, T, M, A, k, R, F) : D();
      }
      function B(e) {
        return M(C(e), y(e), !1);
      }
      function T(e, t, a = !1) {
        return M(I(e, t), v(e, t), a);
      }
      function M(e, t, a) {
        const {
            bDateSet: n,
            bItemAssociated: r,
            bFiltersSetup: i,
            bValidLink: s,
            bButtonTokenEntered: l,
            bLegalLineHandled: o,
            bAdvertisingAppWithoutURL: c,
            eStoreItemMarketingMessageState: m,
            bExplicitNoItemAssociation: d,
            bRequiresPartnerEvent: u,
            bUpdateEventLive: p,
          } = e,
          { bMinimumAssetsSetup: _ } = t;
        let g = n && _ && l && o && !c;
        a ||
          (g =
            g &&
            r &&
            i &&
            s &&
            (d || (m != f.k_StoreInvalidState && m != f.k_StoreUnavailable)));
        return { bReady: g && (!u || p), bReadyExceptLiveEvent: g };
      }
    },
    68612: (e, t, a) => {
      "use strict";
      a.d(t, {
        $c: () => S,
        JV: () => C,
        Z7: () => b,
        Zx: () => f,
        dr: () => v,
        kE: () => E,
        kG: () => w,
        kn: () => y,
        qw: () => D,
      });
      var n = a(34629),
        r = a(90626),
        i = a(56545),
        s = a(96059),
        l = a(5864),
        o = a(44332),
        c = a(68797),
        m = a(6144),
        d = a(73745),
        u = a(78327),
        p = a(6419),
        _ = a(8527),
        g = a(20194);
      class h {
        m_rgActiveMessages = new Array();
        m_mapMessages = new Map();
        m_mapMessagesCallback = new Map();
        m_ActiveMessageListCallback = new m.lu();
        m_steamInterface = null;
        m_mapPromiseMarketingMessage = new Map();
        GetAllActiveMarketingMessages() {
          return this.m_rgActiveMessages;
        }
        GetMarketingMessageByID(e) {
          return this.m_mapMessages.get(e);
        }
        GetCallbackForMarketingMessage(e) {
          return (
            this.m_mapMessagesCallback.has(e) ||
              this.m_mapMessagesCallback.set(e, new m.lu()),
            this.m_mapMessagesCallback.get(e)
          );
        }
        GetCallbackForActiveMarketingMessageList() {
          return this.m_ActiveMessageListCallback;
        }
        HandleFindMessageRseponse(e) {
          const t = new Array();
          return (
            e
              .Body()
              .messages()
              .forEach((e) => {
                const a = e.toObject();
                t.push(a),
                  this.m_mapMessages.has(a.gid) ||
                    this.m_mapMessages.set(a.gid, a);
              }),
            t
          );
        }
        async LoadAllActiveMarketingMessages() {
          let e = null;
          try {
            const t = i.w.Init(l.MG);
            t.Body().set_lookup_type(2);
            let a = await l.EO.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            if (1 == a.GetEResult()) {
              (0, o.w)(
                0 == this.m_rgActiveMessages.length,
                "We expect m_rgActiveMessages to be empty",
              );
              const e = this.HandleFindMessageRseponse(a);
              return (
                (this.m_rgActiveMessages = e),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                this.m_rgActiveMessages
              );
            }
            e = (0, c.H)(a);
          } catch (t) {
            e = (0, c.H)(t);
          }
          return (
            console.error(
              "CMarketingMessageStore::LoadAllActiveMarketingMessages failed: " +
                e.strErrorMsg,
              e,
            ),
            this.m_rgActiveMessages
          );
        }
        async LoadMarketingMessage(e) {
          return this.m_mapMessages.has(e)
            ? this.m_mapMessages.get(e)
            : (this.m_mapPromiseMarketingMessage.has(e) ||
                this.m_mapPromiseMarketingMessage.set(
                  e,
                  this.InternalLoadMarketingMessage(e),
                ),
              this.m_mapPromiseMarketingMessage.get(e));
        }
        async InternalLoadMarketingMessage(e) {
          let t = null;
          try {
            const a = i.w.Init(l.MG);
            a.Body().set_lookup_type(1), a.Body().set_gid(e);
            let n = await l.EO.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == n.GetEResult()) {
              const t = this.HandleFindMessageRseponse(n);
              if (t.length > 0) {
                const e = t[0];
                this.m_mapMessages.set(e.gid, e),
                  this.GetCallbackForMarketingMessage(e.gid).Dispatch(e);
              }
              return this.m_mapMessages.get(e);
            }
            t = (0, c.H)(n);
          } catch (e) {
            t = (0, c.H)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::InternalLoadMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        async Search(e, t) {
          let a = null;
          try {
            const n = i.w.Init(l.MG);
            n.Body().set_lookup_type(3),
              n.Body().set_message_type(e),
              t?.trim().length > 0
                ? ("%" != t.charAt(0) && (t = "%" + t),
                  "%" != t.charAt(t.length - 1) && (t += "%"),
                  n.Body().set_title(t.trim()))
                : n.Body().set_title("%");
            let r = await l.EO.FindMarketingMessages(
              this.m_steamInterface.GetServiceTransport(),
              n,
            );
            if (1 == r.GetEResult())
              return r
                .Body()
                .messages()
                .map((e) => e.toObject());
            a = (0, c.H)(r);
          } catch (e) {
            a = (0, c.H)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::Search failed: " + a.strErrorMsg,
              a,
            ),
            []
          );
        }
        async CreateMarketingMessage(e, t) {
          let a = null;
          try {
            const n = i.w.Init(l.QG);
            n.Body().set_message(l.NI.fromObject(e)), n.Body().set_from_json(t);
            let r = await l.EO.CreateMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              n,
            );
            if (1 == r.GetEResult() && r.Body().gid())
              return (
                (e.gid = r.Body().gid()),
                this.m_mapMessages.set(e.gid, e),
                (this.m_rgActiveMessages = [...this.m_rgActiveMessages, e]),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                e.gid
              );
            a = (0, c.H)(r);
          } catch (e) {
            a = (0, c.H)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::CreateMarketingMessage failed: " +
                a.strErrorMsg,
              a,
            ),
            null
          );
        }
        async UpdateMarketingMessage(e) {
          let t = null;
          try {
            const a = i.w.Init(l.ZR),
              n = e.PrepareMessageModelForUpdate();
            a.Body().set_message(l.NI.fromObject(n)),
              a.Body().set_from_json(!0),
              a.Body().set_gid(n.gid);
            let r = await l.EO.UpdateMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == r.GetEResult())
              return (
                this.m_mapMessages.set(n.gid, n),
                (this.m_rgActiveMessages = [...this.m_rgActiveMessages]),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                console.log("Save Successful"),
                !0
              );
            t = (0, c.H)(r);
          } catch (e) {
            t = (0, c.H)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::UpdateMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async DeleteMarketingMessage(e) {
          let t = null;
          try {
            const a = i.w.Init(l.JE);
            a.Body().set_gid(e.gid);
            let n = await l.EO.DeleteMarketingMessage(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            if (1 == n.GetEResult())
              return (
                this.m_mapMessages.set(e.gid, void 0),
                this.m_ActiveMessageListCallback.Dispatch(
                  this.m_rgActiveMessages,
                ),
                !0
              );
            t = (0, c.H)(n);
          } catch (e) {
            t = (0, c.H)(e);
          }
          return (
            console.error(
              "CMarketingMessageStore::DeleteMarketingMessage failed: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            h.s_Singleton ||
              ((h.s_Singleton = new h()),
              h.s_Singleton.Init(),
              "dev" == u.TS.WEB_UNIVERSE &&
                (window.g_MarketingMessageStore = h.s_Singleton)),
            h.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, u.Tc)(
            "promotion_operation_token",
            "application_config",
          );
          (0, o.w)(Boolean(e), "require promotion_operation_token"),
            "dev" == u.TS.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                e,
              ),
            (this.m_steamInterface = new s.D(u.TS.WEBAPI_BASE_URL, e));
          const t = (0, u.Fd)("marketing_messages", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapMessages.set(e.gid, e), (this.m_rgActiveMessages = t);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t && Array.isArray(t) && t.length > 0 && Boolean(t[0].associated_id)
          );
        }
        GetSteamInterface() {
          return this.m_steamInterface;
        }
      }
      function E() {
        return h.Get().GetSteamInterface();
      }
      function S(e) {
        return h.Get().GetMarketingMessageByID(e);
      }
      function y() {
        const [e, t] = r.useState(h.Get().GetAllActiveMarketingMessages());
        return (
          (0, r.useEffect)(() => {
            (null != e && 0 != e.length) ||
              h.Get().LoadAllActiveMarketingMessages();
          }, [e]),
          (0, d.hL)(h.Get().GetCallbackForActiveMarketingMessageList(), t),
          e
        );
      }
      function v(e) {
        const [t, a] = (0, r.useState)(() =>
          h.Get().GetMarketingMessageByID(e),
        );
        return (
          (0, r.useEffect)(() => {
            !e || (t && t.gid == e) || h.Get().LoadMarketingMessage(e).then(a);
          }, [e, t]),
          (0, d.hL)(h.Get().GetCallbackForMarketingMessage(e), a),
          t
        );
      }
      function f() {
        return h.Get().Search;
      }
      function b() {
        return { fnCreateMarketingMessage: h.Get().CreateMarketingMessage };
      }
      function w() {
        return { fnUpdateMarketingMessage: h.Get().UpdateMarketingMessage };
      }
      function D() {
        return { fnDeleteMarketingMessage: h.Get().DeleteMarketingMessage };
      }
      function C(e, t, a = 0) {
        const n = (0, g.I)({
          queryKey: ["usePastMarketingMessage", t, a],
          queryFn: async () => {
            let n = i.w.Init(l.tU);
            n.Body().set_start_past_days(a), n.Body().set_upto_past_days(t);
            const r = await l.EO.GetPastMarketingMessages(e, n);
            if (1 !== r.GetEResult())
              throw (
                (console.error(
                  "Received error from GetPastMarketingMessages",
                  r.GetEResult(),
                ),
                new Error(
                  `Error from GetPastMarketingMessages: ${r.GetEResult()}`,
                ))
              );
            return r
              .Body()
              .messages()
              .map((e) => e.toObject());
          },
          enabled: _.iA.is_support,
        });
        return n.isLoading ? null : n.data;
      }
      (0, n.Cg)([p.o], h.prototype, "Search", null),
        (0, n.Cg)([p.o], h.prototype, "CreateMarketingMessage", null),
        (0, n.Cg)([p.o], h.prototype, "UpdateMarketingMessage", null),
        (0, n.Cg)([p.o], h.prototype, "DeleteMarketingMessage", null);
    },
    79905: (e, t, a) => {
      "use strict";
      a.d(t, { C6: () => p, ZM: () => c, lS: () => m, tl: () => u });
      var n = a(90626),
        r = a(20194),
        i = a(56545),
        s = a(5864),
        l = a(44165),
        o = a(68612);
      function c() {
        const e = (0, l.f1)(),
          { data: t, isLoading: a } = (0, r.I)({
            queryKey: ["useMarketingMessageAllStats"],
            queryFn: () =>
              (async function (e) {
                const t = i.w.Init(s.hd);
                t.Body().set_rt_start_time(e - 604800),
                  t.Body().set_rt_end_time(e);
                const a = (0, o.kE)();
                return (
                  await s.EO.GetMarketingMessagesViewerRangeStats(
                    a.GetServiceTransport(),
                    t,
                  )
                )
                  .Body()
                  .stats()
                  .map((e) => e.toObject());
              })(e),
          });
        return a ? null : t;
      }
      function m(e) {
        const { data: t, isLoading: a } = (0, r.I)({
          queryKey: ["useSingleMarketingMessageViewStats", e],
          queryFn: () =>
            (async function (e) {
              const t = i.w.Init(s.ds);
              t.Body().set_gid(e);
              const a = (0, o.kE)();
              return (
                await s.EO.GetMarketingMessageViewerStats(
                  a.GetServiceTransport(),
                  t,
                )
              )
                .Body()
                .stats()
                .map((e) => e.toObject());
            })(e),
          staleTime: 3600,
        });
        return a ? null : t;
      }
      function d(e) {
        const { data: t, isLoading: a } = (0, r.I)({
          queryKey: ["useSingleMarketingMessageClickedStats", e],
          queryFn: () =>
            (async function (e) {
              const t = i.w.Init(s.CS);
              t.Body().set_gid(e);
              const a = (0, o.kE)();
              return (
                await s.EO.GetMarketingMessageClickedStats(
                  a.GetServiceTransport(),
                  t,
                )
              )
                .Body()
                .stats()
                .map((e) => e.toObject());
            })(e),
          staleTime: 3600,
        });
        return a ? null : t;
      }
      function u(e) {
        const t = m(e);
        return (0, n.useMemo)(() => {
          if (!t) return -1;
          let e = 0;
          return t.forEach((t) => (e += t.seen_count)), e;
        }, [t]);
      }
      function p(e) {
        const t = d(e);
        return (0, n.useMemo)(
          () => (t ? t.reduce((e, t) => e + t.clicked_count, 0) : -1),
          [t],
        );
      }
    },
    13810: (e, t, a) => {
      "use strict";
      a.d(t, { i: () => i });
      var n = a(90626);
      class r {
        m_marketingTokens = null;
        m_promiseLoad = null;
        GetMarketingTokens() {
          return this.m_marketingTokens;
        }
        async LoadDictionary() {
          return (
            this.m_promiseLoad ||
              (this.m_promiseLoad = this.InternalLoadDictionary()),
            this.m_promiseLoad
          );
        }
        async InternalLoadDictionary() {
          const [e] = await Promise.all([
            a.e(5231).then(a.t.bind(a, 72022, 19)),
          ]);
          return (this.m_marketingTokens = e), this.m_marketingTokens;
        }
        static s_Singleton;
        static Get() {
          return r.s_Singleton || (r.s_Singleton = new r()), r.s_Singleton;
        }
      }
      function i() {
        const [e, t] = (0, n.useState)(r.Get().GetMarketingTokens());
        return (
          (0, n.useEffect)(() => {
            e ||
              r
                .Get()
                .LoadDictionary()
                .then((e) => t(e));
          }, [e]),
          e
        );
      }
    },
    24071: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => d, k: () => u });
      var n = a(41735),
        r = a.n(n),
        i = a(90626),
        s = a(68797),
        l = a(6144),
        o = a(73745),
        c = a(78327);
      class m {
        m_mapPartnerCommList = new Map();
        m_mapPartnerCallbackList = new Map();
        m_promiseLoadPartnerContacts = new Map();
        GetAllPromotionContacts(e) {
          return this.m_mapPartnerCommList.get(e);
        }
        GetListChangeCallback(e) {
          return (
            this.m_mapPartnerCallbackList.has(e) ||
              this.m_mapPartnerCallbackList.set(e, new l.lu()),
            this.m_mapPartnerCallbackList.get(e)
          );
        }
        BHasPromotionContact(e) {
          return this.m_mapPartnerCommList.has(e);
        }
        async LoadPartnerContactList(e) {
          return (
            0 == e ||
            null == e ||
            null == e ||
            (this.m_promiseLoadPartnerContacts.has(e) ||
              this.m_promiseLoadPartnerContacts.set(
                e,
                this.InternalLoadPartnerContactList(e),
              ),
            this.m_promiseLoadPartnerContacts.get(e))
          );
        }
        async InternalLoadPartnerContactList(e) {
          let t = null;
          try {
            const a = {
                partnerid: e,
                sessionid: c.TS.SESSIONID,
                bIncludeManagePricingRights: !0,
              },
              n =
                c.TS.PARTNER_BASE_URL +
                "promotion/planning/ajaxuserwithreceivecommunications",
              i = await r().get(n, { params: a, withCredentials: !0 });
            if (200 == i?.status && 1 == i?.data?.success) {
              let t = new Map();
              for (const [e, a] of Object.entries(i.data.managepricing))
                t.set(parseInt(e), a);
              return (
                this.m_mapPartnerCommList.set(e, t),
                this.GetListChangeCallback(e).Dispatch(t),
                !0
              );
            }
            t = (0, s.H)(i?.data);
          } catch (e) {
            t = (0, s.H)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.InternalLoadPartnerContactList: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == c.TS.WEB_UNIVERSE &&
                (window.g_PartnerContactStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
        constructor() {}
      }
      function d(e) {
        const [t, a] = (0, i.useState)(m.Get().GetAllPromotionContacts(e));
        return (
          (0, i.useEffect)(() => {
            m.Get().BHasPromotionContact(e)
              ? a(m.Get().GetAllPromotionContacts(e))
              : m.Get().LoadPartnerContactList(e);
          }, [e]),
          (0, o.hL)(m.Get().GetListChangeCallback(e), a),
          t
        );
      }
      function u(e) {
        const [t, a] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e?.length > 0) {
              const t = e
                .filter(Boolean)
                .map((e) => m.Get().LoadPartnerContactList(e));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  if (m.Get().BHasPromotionContact(e)) {
                    const a = m.Get().GetAllPromotionContacts(e);
                    t.set(e, a ? [...a.keys()] : []);
                  }
                }),
                  a(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    64177: (e, t, a) => {
      "use strict";
      a.d(t, { Dn: () => d, Ut: () => m, p0: () => u });
      var n = a(41735),
        r = a.n(n),
        i = a(90626),
        s = a(68797),
        l = a(78327),
        o = a(62792);
      class c {
        m_mapAppIDToPaymentPartners = new Map();
        m_mapAppIDToPromise = new Map();
        m_mapPackageIDToPaymentPartners = new Map();
        m_mapPackageIDToPromise = new Map();
        m_mapBundleIDToPaymentPartners = new Map();
        m_mapBundleIDToPromise = new Map();
        GetInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.get(e);
        }
        BHasInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.has(e);
        }
        GetInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.get(e);
        }
        BHasInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.has(e);
        }
        GetInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.get(e);
        }
        BHasInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.has(e);
        }
        GetInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.GetInfoForApp(e);
            case 1:
              return this.GetInfoForPackage(e);
            case 2:
              return this.GetInfoForBundle(e);
            default:
              return null;
          }
        }
        BHasInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.BHasInfoForApp(e);
            case 1:
              return this.BHasInfoForPackage(e);
            case 2:
              return this.BHasInfoForBundle(e);
            default:
              return !1;
          }
        }
        async LoadAppPartnerInfo(e) {
          return (
            this.m_mapAppIDToPromise.has(e) ||
              this.m_mapAppIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(e, null, null),
              ),
            this.m_mapAppIDToPromise.get(e)
          );
        }
        async LoadPackagePartnerInfo(e) {
          return (
            this.m_mapPackageIDToPromise.has(e) ||
              this.m_mapPackageIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(null, e, null),
              ),
            this.m_mapPackageIDToPromise.get(e)
          );
        }
        async LoadBundlePartnerInfo(e) {
          return (
            this.m_mapBundleIDToPromise.has(e) ||
              this.m_mapBundleIDToPromise.set(
                e,
                this.InternalLoadAppPartnerInfo(null, null, e),
              ),
            this.m_mapBundleIDToPromise.get(e)
          );
        }
        async LoadStoreItemPartnerInfo(e, t) {
          switch (t) {
            case 0:
              return this.LoadAppPartnerInfo(e);
            case 1:
              return this.LoadPackagePartnerInfo(e);
            case 2:
              return this.LoadBundlePartnerInfo(e);
            default:
              return null;
          }
        }
        async InternalLoadAppPartnerInfo(e, t, a) {
          let n = null;
          try {
            const i = { appid: e, packageid: t, bundleid: a },
              o = l.TS.PARTNER_BASE_URL + "promotion/dailydeals/ajaxgetpartner",
              c = await r().get(o, { params: i, withCredentials: !0 });
            if (200 == c?.status && 1 == c.data?.success)
              return e
                ? (this.m_mapAppIDToPaymentPartners.set(e, c.data.partnerinfo),
                  this.m_mapAppIDToPaymentPartners.get(e))
                : t
                  ? (this.m_mapPackageIDToPaymentPartners.set(
                      t,
                      c.data.partnerinfo,
                    ),
                    this.m_mapPackageIDToPaymentPartners.get(t))
                  : (this.m_mapBundleIDToPaymentPartners.set(
                      a,
                      c.data.partnerinfo,
                    ),
                    this.m_mapBundleIDToPaymentPartners.get(a));
            n = (0, s.H)(c);
          } catch (e) {
            n = (0, s.H)(e);
          }
          return (
            console.error(
              "CPartnerPaymentStore.LoadAppPartnerInfo failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            c.s_Singleton ||
              ((c.s_Singleton = new c()),
              "dev" == l.TS.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = c.s_Singleton)),
            c.s_Singleton
          );
        }
        constructor() {}
      }
      function m(e) {
        return d(e.id, (0, o.gy)(e));
      }
      function d(e, t) {
        const [a, n] = i.useState(() => c.Get().GetInfoForStoreItem(e, t));
        return (
          i.useEffect(() => {
            e
              ? c.Get().BHasInfoForStoreItem(e, t) && null != a
                ? c.Get().BHasInfoForStoreItem(e, t) &&
                  a != c.Get().GetInfoForStoreItem(e, t) &&
                  n(c.Get().GetInfoForStoreItem(e, t))
                : c.Get().LoadStoreItemPartnerInfo(e, t).then(n)
              : n(null);
          }, [e, t, a]),
          a
        );
      }
      function u(e) {
        const [t, a] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e?.length > 0) {
              const t = e.map((e) => c.Get().LoadStoreItemPartnerInfo(e, 0));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  c.Get().BHasInfoForApp(e) &&
                    t.set(e, c.Get().GetInfoForApp(e));
                }),
                  a(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    16811: (e, t, a) => {
      "use strict";
      a.d(t, { Y3: () => E, bE: () => S, RX: () => y, NY: () => v });
      var n = a(34629),
        r = a(56545),
        i = a(33543),
        s = a(14947),
        l = a(6144),
        o = a(73745),
        c = a(30470);
      class m {
        m_oInput = null;
        m_originalInput = null;
        m_planID;
        m_bDirty = !1;
        m_callback = new l.lu();
        constructor(e, t) {
          (0, s.Gn)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_planID = e),
            (this.m_originalInput = JSON.parse(JSON.stringify(t))),
            (this.m_oInput = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1);
        }
        SaveSuccessClearDirty() {
          (this.m_originalInput = JSON.parse(JSON.stringify(this.m_oInput))),
            (this.m_bDirty = !1);
        }
        GetInputPipeline() {
          return this.m_oInput;
        }
        GetPromotionName() {
          return this.m_oInput.requested_promotion_name;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsEnabled() {
          return this.m_oInput.enable_input;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oInput;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetArtRequests() {
          return this.m_oInput.art_requests;
        }
        GetDueDate() {
          return this.m_oInput.due_date;
        }
        BHasValveNote() {
          return (
            Boolean(this.m_oInput.valve_note) &&
            this.m_oInput.valve_note.trim().length > 0
          );
        }
        BHasPartnerNote() {
          return (
            Boolean(this.m_oInput.partner_note) &&
            this.m_oInput.partner_note.trim().length > 0
          );
        }
        GetValveNote() {
          return this.m_oInput.valve_note;
        }
        GetPartnerNote() {
          return this.m_oInput.partner_note;
        }
        GetDiscountEventID() {
          return this.m_oInput.asset_request_discount_event_id_clone;
        }
        GetStoreItemType() {
          return this.m_oInput.requested_store_item_type;
        }
        GetStoreItemID() {
          return this.m_oInput.requested_store_item_id;
        }
        GetPreviewArt() {
          return this.m_oInput.preview_art;
        }
        GetPreviewArtOfType(e) {
          return this.m_oInput.preview_art?.find((t) => t.type == e);
        }
        BHasPreviewArtOfType(e) {
          return Boolean(this.GetPreviewArtOfType(e));
        }
        GetArtInputLink() {
          return this.m_oInput.input_artwork_url;
        }
        BHasInputArtworkLink() {
          return (
            Boolean(this.m_oInput.input_artwork_url) &&
            this.m_oInput.input_artwork_url.trim().length > 0
          );
        }
        BRequireUpdateEvent() {
          return (
            this.BIsMarketingMessageEventCapsuleRequest() ||
            this.BIsMarketingMessageEventCapsuleRequest_2()
          );
        }
        GetUpdateEventClanAccountID() {
          return this.m_oInput.update_event_clan_account_id;
        }
        GetUpdateEventGID() {
          return this.m_oInput.update_event_gid;
        }
        BHasAnyArtTypeRequested() {
          return this.m_oInput.art_requests?.length > 0;
        }
        BIsArtTypeRequested(e) {
          return Boolean(this.m_oInput.art_requests?.find((t) => t == e));
        }
        BIsTakeoverArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "takeover_art" == e),
          );
        }
        BIsContentHubTakeoverArtRequest() {
          return this.m_oInput.content_hub_takeover;
        }
        BIsTakeunderArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "takeunder_art" == e),
          );
        }
        BIsSpotlightArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "spotlight_art" == e),
          );
        }
        BIsSalePageArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "sale_header" == e),
          );
        }
        BIsMarketingMessageArtRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art" == e,
            ),
          );
        }
        BIsMarketingMessageArtRequest_2() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art_2" == e,
            ),
          );
        }
        BIsMarketingMessageArtRequestAtIndex(e) {
          return Boolean(
            this.m_oInput.art_requests?.find((t) =>
              0 == e
                ? "marketingmessage_art" == t ||
                  "marketingmessage_art_eventcapsule" == t
                : "marketingmessage_art_2" == t ||
                  "marketingmessage_art_2_eventcapsule" == t,
            ),
          );
        }
        BIsMarketingMessageEventCapsuleRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art_eventcapsule" == e,
            ),
          );
        }
        BIsMarketingMessageEventCapsuleRequest_2() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "marketingmessage_art_2_eventcapsule" == e,
            ),
          );
        }
        BIsMarketingMessageEventCapsuleRequestAtIndex(e) {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (t) =>
                t ==
                (0 == e
                  ? "marketingmessage_art_eventcapsule"
                  : "marketingmessage_art_2_eventcapsule"),
            ),
          );
        }
        BIsEventHeaderImageRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find(
              (e) => "localized_title_image" == e,
            ),
          );
        }
        BIsAppHeaderCapsuleRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "app_header_capsule" == e),
          );
        }
        BIsAppMainCapsuleRequest() {
          return Boolean(
            this.m_oInput.art_requests?.find((e) => "app_main_capsule" == e),
          );
        }
        BHasAnyArtTypeReviewRequested() {
          return this.m_oInput.art_requests?.length > 0;
        }
        BIsArtTypeReviewRequested(e) {
          return Boolean(
            this.m_oInput.art_approvals_request?.find((t) => t == e),
          );
        }
        BRequestEnabled() {
          return this.m_oInput.enable_input;
        }
        GetExistingArtForApprovals() {
          return this.m_oInput.approval_requests;
        }
        GetArtApprovals() {
          return this.m_oInput.approvals_provided;
        }
        BHasAnyArtTypeForApproval() {
          return this.m_oInput.approval_requests?.length > 0;
        }
        BIsArtTypeApproved(e) {
          return Boolean(
            this.m_oInput.approvals_provided?.find((t) => t.type == e),
          );
        }
        BIsTakeoverArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "takeover_art" == e.type,
            ),
          );
        }
        BIsTakeunderArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "takeunder_art" == e.type,
            ),
          );
        }
        BIsSpotlightArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) => "spotlight_art" == e.type,
            ),
          );
        }
        BIsMarketingMessageArtApproved() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) =>
                "marketingmessage_art" == e.type ||
                "marketingmessage_art_eventcapsule" == e.type,
            ),
          );
        }
        BIsMarketingMessageArtApproved_2() {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (e) =>
                "marketingmessage_art_2" == e.type ||
                "marketingmessage_art_2_eventcapsule" == e.type,
            ),
          );
        }
        BIsMarketingMessageArtApprovedAtIndex(e) {
          return Boolean(
            this.m_oInput.approvals_provided?.find(
              (t) =>
                (0 == e && "marketingmessage_art" == t.type) ||
                "marketingmessage_art_eventcapsule" == t.type ||
                (1 == e && "marketingmessage_art_2" == t.type) ||
                "marketingmessage_art_2_eventcapsule" == t.type,
            ),
          );
        }
        GetSubmittingAccount() {
          return this.m_oInput.submitting_accountid;
        }
        GetAssetRequestContactInfo() {
          return this.m_oInput.asset_request_contact_info || "";
        }
        ClearInput() {
          (this.m_oInput.preview_art = []),
            (this.m_oInput.input_artwork_url = void 0),
            (this.m_oInput.partner_note = void 0),
            this.Dispatch();
        }
        SetInputArtworkLink(e) {
          this.m_oInput.input_artwork_url != e &&
            ((this.m_oInput.input_artwork_url = e), this.Dispatch());
        }
        SetAssetRequestContactInfo(e) {
          this.m_oInput.asset_request_contact_info != e &&
            ((this.m_oInput.asset_request_contact_info = e), this.Dispatch());
        }
        ToggleArtRequest(e, t) {
          if (this.BIsArtTypeRequested(e) != t) {
            if (t) this.m_oInput.art_requests.push(e);
            else {
              const t = new Map();
              t.set(
                "marketingmessage_art",
                "marketingmessage_art_eventcapsule",
              ),
                t.set(
                  "marketingmessage_art_2",
                  "marketingmessage_art_2_eventcapsule",
                ),
                t.set(
                  "marketingmessage_art_eventcapsule",
                  "marketingmessage_art",
                ),
                t.set(
                  "marketingmessage_art_2_eventcapsule",
                  "marketingmessage_art_2",
                );
              const a = this.m_oInput.art_requests.findIndex((t) => t === e);
              if (
                (a >= 0 && this.m_oInput.art_requests.splice(a, 1), t.has(e))
              ) {
                const a = t.get(e),
                  n = this.m_oInput.art_requests.findIndex((e) => e === a);
                n >= 0 && this.m_oInput.art_requests.splice(n, 1);
              }
            }
            this.Dispatch();
          }
        }
        ToggleArtReviewRequest(e, t) {
          if (this.BIsArtTypeReviewRequested(e) != t) {
            if (t) this.m_oInput.art_approvals_request.push(e);
            else {
              const t = this.m_oInput.art_approvals_request.findIndex(
                (t) => t === e,
              );
              this.m_oInput.art_approvals_request.splice(t, 1);
            }
            this.Dispatch();
          }
        }
        SetDueDate(e) {
          this.m_oInput.due_date !== e &&
            ((this.m_oInput.due_date = e), this.Dispatch());
        }
        SetRequestEnabled(e) {
          this.m_oInput.enable_input !== e &&
            ((this.m_oInput.enable_input = e), this.Dispatch());
        }
        SetValveNote(e) {
          this.m_oInput.valve_note != e &&
            ((this.m_oInput.valve_note = e), this.Dispatch());
        }
        SetPartnerNote(e) {
          this.m_oInput.partner_note != e &&
            ((this.m_oInput.partner_note = e), this.Dispatch());
        }
        SetRequestedArt(e) {
          (this.m_oInput.art_requests = [...e]), this.Dispatch();
        }
        AddRequestedArt(e) {
          this.m_oInput.art_requests.push(e), this.Dispatch();
        }
        SetPreviewArt(e, t, a) {
          this.m_oInput.preview_art || (this.m_oInput.preview_art = []);
          const n = this.m_oInput.preview_art.findIndex((e) => e.type == t);
          n >= 0
            ? (this.m_oInput.preview_art[n].filename === a &&
                this.m_oInput.preview_art[n].lang === e) ||
              ((this.m_oInput.preview_art[n].filename = a),
              (this.m_oInput.preview_art[n].lang = e),
              this.Dispatch())
            : (this.m_oInput.preview_art.push({
                type: t,
                filename: a,
                lang: e,
              }),
              this.Dispatch());
        }
        SetExistingArtForApprovals(e, t) {
          this.m_oInput.approval_requests ||
            (this.m_oInput.approval_requests = []);
          const a = this.m_oInput.approval_requests.findIndex(
            (t) => t.type == e,
          );
          a >= 0
            ? this.m_oInput.approval_requests[a].filename !== t &&
              ((this.m_oInput.approval_requests[a].filename = t),
              this.Dispatch())
            : (this.m_oInput.approval_requests.push({ type: e, filename: t }),
              this.Dispatch());
        }
        SetArtApprovals(e) {
          this.m_oInput.approvals_provided ||
            (this.m_oInput.approvals_provided = []);
          this.m_oInput.approvals_provided.findIndex((t) => t.type == e) < 0 &&
            (this.m_oInput.approvals_provided.push({
              type: e,
              approval_accountid: c.iA.accountid,
              approval_time: Math.floor(Date.now() / 1e3),
            }),
            this.Dispatch());
        }
        SetContentHubTakeover(e) {
          this.m_oInput.content_hub_takeover != e &&
            ((this.m_oInput.content_hub_takeover = e), this.Dispatch());
        }
        SetUpdateEvent(e, t) {
          (this.m_oInput.update_event_clan_account_id == e &&
            this.m_oInput.update_event_gid == t) ||
            ((this.m_oInput.update_event_clan_account_id = e),
            (this.m_oInput.update_event_gid = t),
            this.Dispatch());
        }
        RevertChanges() {
          (this.m_oInput = JSON.parse(JSON.stringify(this.m_originalInput))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.Cg)([s.sH], m.prototype, "m_bDirty", void 0),
        (0, n.Cg)([o.oI], m.prototype, "ClearInput", null),
        (0, n.Cg)([o.oI], m.prototype, "SetInputArtworkLink", null),
        (0, n.Cg)([o.oI], m.prototype, "SetAssetRequestContactInfo", null),
        (0, n.Cg)([o.oI], m.prototype, "ToggleArtRequest", null),
        (0, n.Cg)([o.oI], m.prototype, "ToggleArtReviewRequest", null),
        (0, n.Cg)([o.oI], m.prototype, "SetDueDate", null),
        (0, n.Cg)([o.oI], m.prototype, "SetRequestEnabled", null),
        (0, n.Cg)([o.oI], m.prototype, "SetValveNote", null),
        (0, n.Cg)([o.oI], m.prototype, "SetPartnerNote", null),
        (0, n.Cg)([o.oI], m.prototype, "SetRequestedArt", null),
        (0, n.Cg)([o.oI], m.prototype, "AddRequestedArt", null),
        (0, n.Cg)([o.oI], m.prototype, "SetPreviewArt", null),
        (0, n.Cg)([o.oI], m.prototype, "SetExistingArtForApprovals", null),
        (0, n.Cg)([o.oI], m.prototype, "SetArtApprovals", null),
        (0, n.Cg)([o.oI], m.prototype, "SetContentHubTakeover", null),
        (0, n.Cg)([o.oI], m.prototype, "SetUpdateEvent", null),
        (0, n.Cg)([o.oI], m.prototype, "RevertChanges", null);
      var d = a(90626),
        u = a(96059),
        p = a(44332),
        _ = a(68797),
        g = a(78327);
      class h {
        m_model = null;
        m_SteamInterface = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == g.TS.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPlanInputPipelineEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, s.HO)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new m(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        async UpdateInputPlanPartnerInfo(e) {
          const t = r.w.Init(i.DY),
            a = this.m_model.GetModel();
          (a.submitting_accountid = g.iA.accountid),
            (a.submitting_rtime = Math.floor(Date.now() / 1e3));
          const n = {
            promotion_id: this.m_model.GetPlanID(),
            input_jsondata: JSON.stringify(a),
            rtime32_start_time: 0,
            rtime32_end_time: 0,
            partner_jsondata: JSON.stringify({}),
            input_access_key: e,
          };
          t.Body().set_plan(i.wn.fromObject(n)),
            t.Body().set_promotion_id(n.promotion_id);
          let s = null;
          try {
            let a = null;
            if (
              ((a = e
                ? await i.WZ.UpdatePlanInputData(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    t,
                  )
                : await i.WZ.UpdatePlanPartnerInfo(
                    this.m_SteamInterface.GetServiceTransport(),
                    t,
                  )),
              1 == a.GetEResult())
            )
              return this.m_model.SaveSuccessClearDirty(), !0;
            s = (0, _.H)(a);
          } catch (e) {
            s = (0, _.H)(e);
          }
          return (
            console.error(
              "CPlanInputPipelineEditStore.UpdateInputPlanPartnerInfo failed: " +
                s?.strErrorMsg +
                " with inputaccess: " +
                Boolean(e),
              s,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            h.s_Singleton ||
              ((h.s_Singleton = new h()),
              h.s_Singleton.Init(),
              "dev" == g.TS.WEB_UNIVERSE &&
                (window.g_PromotionPlanInputPipelineEditStore = h.s_Singleton)),
            h.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, g.Tc)(
            "promotion_operation_token",
            "application_config",
          );
          (0, p.w)(
            e,
            "CPlanInputPipelineEditStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new u.D(g.TS.WEBAPI_BASE_URL, e));
          const t = (0, g.Fd)("promotion_plan_id", "application_config"),
            a = JSON.parse(
              (0, g.Fd)("promotion_plan_input", "application_config"),
            );
          this.ValidateInputDefault(a)
            ? this.InitPromotionPlanToEdit(t, a, !0)
            : a &&
              "dev" == g.TS.WEB_UNIVERSE &&
              console.error("CPlanInputPipelineEditStore: failed to parse ", a);
        }
        ValidateInputDefault(e) {
          const t = e;
          return t && t.enable_input && Array.isArray(t.art_requests);
        }
      }
      function E(e, t, a = !1) {
        return h.Get().InitPromotionPlanToEdit(e, t, a);
      }
      function S() {
        const e = (0, o.CH)(),
          [t, a] = d.useState(h.Get().GetPromotionPlanToEdit());
        return (
          (0, o.hL)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function y() {
        return {
          fnBIsPlanInputPipelineDirty: d.useCallback(
            () =>
              !!h.Get().GetPromotionPlanToEdit() &&
              h.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlanInputPipeline: d.useCallback(() => {
            h.Get().ClearEditModel();
          }, []),
        };
      }
      function v() {
        return {
          fnUpdatePipelineInputAsPartner: h.Get().UpdateInputPlanPartnerInfo,
        };
      }
      (0, n.Cg)([o.oI], h.prototype, "UpdateInputPlanPartnerInfo", null);
    },
    10592: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => n });
      const n = 29;
    },
    90031: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ee: () => I,
        ho: () => f,
        kF: () => y,
        kw: () => w,
        mN: () => T,
        tU: () => B,
        u6: () => b,
        yc: () => D,
        yl: () => C,
      });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(90626),
        l = a(56545),
        o = a(96059),
        c = a(33543),
        m = a(44332),
        d = a(68797),
        u = a(6419),
        p = a(6144),
        _ = a(73745),
        g = a(14771),
        h = a(78327),
        E = a(52625),
        S = a(62792);
      function y(e) {
        const t = Date.now() / 1e3;
        return e.rtaccepttime
          ? E.of.InviteAccepted
          : e.rtexpiretime < t
            ? E.of.InviteExpired
            : e.cancelled
              ? E.of.Cancelled
              : E.of.InviteActive;
      }
      class v {
        m_mapInvites = new Map();
        m_mapInviteCallback = new Map();
        m_mapPromotionPlanIDToInvites = new Map();
        m_mapPromotionPlanIDToInvitesCallback = new Map();
        m_mapPromotionPlanIDToInvitesPromises = new Map();
        m_inviteAddRemoveCallback = new p.lu();
        m_SteamInterface = null;
        GetAllInvites() {
          return Array.from(this.m_mapInvites.values());
        }
        GetInvite(e) {
          return this.m_mapInvites.get(e);
        }
        GetInviteChangeCallback(e) {
          return (
            this.m_mapInviteCallback.has(e) ||
              this.m_mapInviteCallback.set(e, new p.lu()),
            this.m_mapInviteCallback.get(e)
          );
        }
        GetInviteAddRemoveCallback() {
          return this.m_inviteAddRemoveCallback;
        }
        GetPromotionPlanIDCallback(e) {
          return (
            this.m_mapPromotionPlanIDToInvitesCallback.has(e) ||
              this.m_mapPromotionPlanIDToInvitesCallback.set(e, new p.lu()),
            this.m_mapPromotionPlanIDToInvitesCallback.get(e)
          );
        }
        GetPromotionInvitesForStoreItem(e, t) {
          return Array.from(this.m_mapInvites.values()).filter((a) => {
            switch (t) {
              case 0:
                return e == a.appid;
              case 1:
                return e == a.packageid;
              case 2:
                return (e = a.bundleid);
            }
            return !1;
          });
        }
        GetPromotionEventInvitesByPlanID(e) {
          return this.m_mapPromotionPlanIDToInvites.get(e);
        }
        CreateMapByStoreItem() {
          const e = new Map();
          Math.floor(Date.now() / 1e3);
          return (
            this.GetAllInvites().forEach((t) => {
              if (!t.accept_account) {
                let a = null;
                t.appid
                  ? (a = (0, S.FT)(t.appid, 0))
                  : t.bundleid
                    ? (a = (0, S.FT)(t.bundleid, 2))
                    : t.packageid && (a = (0, S.FT)(t.packageid, 1)),
                  a && (e.has(a) ? e.get(a).push(t) : e.set(a, [t]));
              }
            }),
            e
          );
        }
        async CreatePromoInvite(e) {
          const {
            rtExpireTime: t,
            nPartnerID: a,
            oInviteItem: n,
            type: r,
            strPromotionPlanID: s,
            bRequireSalePage: l,
            eRequireSalePageType: o,
            bRequireMarketingBanner: c,
            bRequireSpotlightBanner: m,
          } = e;
          let u = null;
          try {
            const e = new FormData();
            e.append("sessionid", h.TS.SESSIONID),
              n.appid && e.append("nAppID", "" + n.appid),
              n.packageid && e.append("nPackageID", "" + n.packageid),
              n.bundleid && e.append("nBundleID", "" + n.bundleid),
              a && e.append("nPartnerID", "" + a),
              s && e.append("strPromotionPlanID", "" + s),
              l && e.append("bRequireSalePage", "" + l),
              o && e.append("eRequireSalePageType", "" + o),
              m && e.append("bRequireSpotlightBanner", "" + m),
              c && e.append("bRequireMarketingBanner", "" + c),
              e.append("nPromoType", "" + r),
              e.append("rtExpireTime", "" + t);
            const p =
                h.TS.PARTNER_BASE_URL +
                "promotion/invitation/ajaxinviteapptopromo",
              _ = await i().post(p, e, { withCredentials: !0 });
            if (200 == _?.status) {
              if (1 == _.data?.success && _.data.inviteid) {
                let e = g._2();
                const r = {
                  inviteid: _.data.inviteid,
                  invite_account: h.iA.accountid,
                  appid: n.appid,
                  packageid: n.packageid,
                  bundleid: n.bundleid,
                  primary_partnerid: a,
                  rtinvitetime: e,
                  rtexpiretime: t,
                };
                this.m_mapInvites.set(_.data.inviteid, r),
                  this.m_inviteAddRemoveCallback.Dispatch(r);
              }
              return _.data?.success;
            }
            u = (0, d.H)(_);
          } catch (e) {
            u = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.CreatePromoInvite failed: " +
                u?.strErrorMsg,
              u,
            ),
            2
          );
        }
        async CancelInvite(e) {
          if (!this.m_mapInvites.has(e)) return !1;
          const t = l.w.Init(c.DA);
          t.Body().set_inviteid(e);
          if (
            1 ==
            (
              await c.n4.CancelInvite(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              )
            ).GetEResult()
          ) {
            const t = this.m_mapInvites.get(e);
            return (
              this.m_mapInvites.delete(e),
              this.m_inviteAddRemoveCallback.Dispatch(t),
              !0
            );
          }
          return !1;
        }
        async AcceptInvitation(e, t, a, n, r) {
          const i = l.w.Init(c.lO);
          i.Body().set_inviteid(e),
            i.Body().set_rtdatechosen(t),
            r
              ? i.Body().set_skip_discount_event(!0)
              : (i.Body().set_discount_days(a), i.Body().set_discount_info(n));
          const s = await c.n4.AcceptInvite(
            this.m_SteamInterface.GetServiceTransport(),
            i,
          );
          return {
            errorCode: s.GetEResult(),
            strErrorMsg: s.GetErrorMessage(),
            gid: s.Body().gid(),
          };
        }
        async ResendInvitationEmail(e) {
          if (!this.m_mapInvites.has(e)) return !1;
          let t = null;
          try {
            const t = l.w.Init(c.Qb);
            t.Body().set_inviteid(e);
            const a = await c.n4.ResendEmailInvite(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            return a.BSuccess() && 1 == a.GetEResult();
          } catch (e) {
            t = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.ResendInvitationEmail failed: " +
                t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        async LoadInviteByPromotionPlanID(e) {
          return (
            this.m_mapPromotionPlanIDToInvitesPromises.has(e) ||
              this.m_mapPromotionPlanIDToInvitesPromises.set(
                e,
                this.InternalLoadInviteByPromotionPlanID(e),
              ),
            this.m_mapPromotionPlanIDToInvitesPromises.get(e)
          );
        }
        async InternalLoadInviteByPromotionPlanID(e) {
          const t = l.w.Init(c.hG);
          let a = null;
          try {
            t.Body().set_promotion_id(e);
            const n = await c.n4.GetInvite(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = new Array();
              return (
                n
                  .Body()
                  .invites()
                  .forEach((e) => t.push(e.toObject())),
                this.m_mapPromotionPlanIDToInvites.set(e, t),
                this.GetPromotionPlanIDCallback(e).Dispatch(t),
                1
              );
            }
            a = (0, d.H)(n);
          } catch (e) {
            a = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.InternalLoadInviteByPromotionPlanID failed: on item " +
                e +
                " with " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        async FetchPromotionEventInviteEmailTargets(e) {
          const t = l.w.Init(c.si);
          t.Body().set_inviteid(e);
          return (
            await c.n4.GetEmailTargets(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            )
          )
            .Body()
            .toObject();
        }
        static s_Singleton;
        static Get() {
          return (
            v.s_Singleton ||
              ((v.s_Singleton = new v()),
              v.s_Singleton.Init(),
              "dev" == h.TS.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = v.s_Singleton)),
            v.s_Singleton
          );
        }
        Init() {
          let e = (0, h.Tc)("promotioninvites", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => this.m_mapInvites.set(e.inviteid, e));
          const t = (0, h.Tc)(
            "promotion_operation_token",
            "application_config",
          );
          (0, m.w)(Boolean(t), "require promotion_operation_token"),
            "dev" == h.TS.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                t,
              ),
            (this.m_SteamInterface = new o.D(h.TS.WEBAPI_BASE_URL, t));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].inviteid && "number" == typeof t[0].appid &&
            "number" == typeof t[0].rtinvitetime
          );
        }
      }
      function f(e) {
        const [t, a] = (0, s.useState)(() =>
          e
            ? v
                .Get()
                .GetAllInvites()
                .filter((t) => t.type == e)
            : v.Get().GetAllInvites(),
        );
        return (
          (0, _.hL)(v.Get().GetInviteAddRemoveCallback(), () => {
            a(
              e
                ? v
                    .Get()
                    .GetAllInvites()
                    .filter((t) => t.type == e)
                : v.Get().GetAllInvites(),
            );
          }),
          t
        );
      }
      function b(e) {
        const t = (0, _.CH)();
        return (
          (0, _.hL)(v.Get().GetInviteChangeCallback(e), () => t()),
          v.Get().GetInvite(e)
        );
      }
      function w() {
        return { fnCreatePromoInvite: v.Get().CreatePromoInvite };
      }
      function D() {
        return { fnCancelInvite: v.Get().CancelInvite };
      }
      function C() {
        return { fnAcceptInvitation: v.Get().AcceptInvitation };
      }
      function I() {
        return { fnResendInvitationEmail: v.Get().ResendInvitationEmail };
      }
      function B(e) {
        const [t, a] = (0, s.useState)(
          v.Get().GetPromotionEventInvitesByPlanID(e),
        );
        return (
          (0, s.useEffect)(() => {
            (!t || (t.length > 0 && t[0].promotion_id != e)) &&
              v.Get().LoadInviteByPromotionPlanID(e);
          }),
          (0, _.hL)(v.Get().GetPromotionPlanIDCallback(e), a),
          t
        );
      }
      function T() {
        const [e, t] = (0, s.useState)(() => v.Get().CreateMapByStoreItem());
        return (
          (0, _.hL)(v.Get().GetInviteAddRemoveCallback(), () =>
            t(v.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, n.Cg)([u.o], v.prototype, "CreatePromoInvite", null),
        (0, n.Cg)([u.o], v.prototype, "CancelInvite", null),
        (0, n.Cg)([u.o], v.prototype, "AcceptInvitation", null),
        (0, n.Cg)([u.o], v.prototype, "ResendInvitationEmail", null),
        (0, n.Cg)([u.o], v.prototype, "LoadInviteByPromotionPlanID", null);
    },
    93742: (e, t, a) => {
      "use strict";
      a.d(t, { ft: () => E, ll: () => h, ok: () => S, Gr: () => y });
      var n = a(34629),
        r = a(67239),
        i = a(14947),
        s = a(17720),
        l = a(62792),
        o = a(44332),
        c = a(6144),
        m = a(73745),
        d = a(78327),
        u = a(73523);
      class p {
        m_oPromotionPlan = null;
        m_originalPromotionPlan = null;
        m_nPartnerID = null;
        m_nOriginalPartnerID = null;
        m_bDirty = !1;
        m_callback = new c.lu();
        m_storeItemKey = null;
        constructor(e, t) {
          (0, i.Gn)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_originalPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_oPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = t),
            (this.m_nPartnerID = t),
            this.m_oPromotionPlan.store_item_id &&
              (this.m_storeItemKey = (0, l.vo)(
                this.m_oPromotionPlan.store_item_id,
                this.m_oPromotionPlan.store_item_type,
              )),
            (this.m_originalPromotionPlan.contenthub_takeover_ids =
              this.m_originalPromotionPlan.contenthub_takeover_ids ?? []),
            (this.m_originalPromotionPlan.contenthub_takeover_types =
              this.m_originalPromotionPlan.contenthub_takeover_types ?? []),
            (this.m_originalPromotionPlan.contenthub_takeover_reviewed =
              this.m_originalPromotionPlan.contenthub_takeover_reviewed ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_ids =
              this.m_oPromotionPlan.contenthub_takeover_ids ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_types =
              this.m_oPromotionPlan.contenthub_takeover_types ?? []),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed =
              this.m_oPromotionPlan.contenthub_takeover_reviewed ?? []);
        }
        SaveSuccessClearDirty() {
          (this.m_originalPromotionPlan = JSON.parse(
            JSON.stringify(this.m_oPromotionPlan),
          )),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = this.m_nPartnerID);
        }
        GetPlan() {
          return this.m_oPromotionPlan;
        }
        GetPartnerID() {
          return this.m_nPartnerID;
        }
        GetOriginalPartnerID() {
          return this.m_nOriginalPartnerID;
        }
        GetCreatorAccountID() {
          return this.m_oPromotionPlan.creator_account_id;
        }
        GetOwnerAccountID() {
          return (
            this.m_oPromotionPlan.owner_account_id ||
            this.m_oPromotionPlan.creator_account_id
          );
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetID() {
          return this.m_oPromotionPlan.id;
        }
        GetModel() {
          return this.m_oPromotionPlan;
        }
        GetStartDate() {
          return this.m_oPromotionPlan.start_date;
        }
        GetEndDate() {
          return this.m_oPromotionPlan.end_date;
        }
        GetName() {
          return this.m_oPromotionPlan.name;
        }
        GetType() {
          return this.m_oPromotionPlan.type;
        }
        GetFeaturingIntention() {
          return this.m_oPromotionPlan.intention || "none";
        }
        GetAdminNotes() {
          return this.m_oPromotionPlan.admin_notes;
        }
        GetPromotionPlannerNote() {
          return this.m_oPromotionPlan.promotion_planner_notes;
        }
        BOnWatchList(e) {
          return this.m_oPromotionPlan.watch_list?.find((t) => t == e);
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oPromotionPlan.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oPromotionPlan.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oPromotionPlan.store_item_type;
        }
        GetPartnerRequireArtworkReview() {
          return this.m_oPromotionPlan.partner_requires_art_review;
        }
        BRequiresSalePage() {
          return this.m_oPromotionPlan.requires_sale_page;
        }
        GetRequiresSalePageType() {
          return 0;
        }
        BHasPromotionFeaturingForArtRequirement(e, t) {
          switch (e) {
            case "marketingmessage_art":
            case "marketingmessage_art_2":
            case "marketingmessage_art_eventcapsule":
            case "marketingmessage_art_2_eventcapsule":
              return this.BHasMarketingMessages(t);
            case "spotlight_art":
              return this.BHasSpotlightIDs();
            case "takeover_art":
            case "takeover_mobile_art":
            case "takeover_webm_art":
            case "takeover_mp4_art":
            case "takeover_webm_mobile_art":
            case "takeover_mp4_mobile_art":
              return (
                this.BHasTakeoverIDs() ||
                this.BHasContentHubTakeoverIDs() ||
                this.BHasSteamChinaTakeoverID() ||
                this.BHasContentHubTakeoverIDs()
              );
            case "takeunder_art":
            case "takeunder_mobile_art":
              return this.BHasTakeunderIDs();
            case "sale_header":
            case "sale_logo":
            case "capsule":
            case "product_banner":
            case "product_mobile_banner":
            case "localized_title_image":
              return this.BHasAssociatedSaleEvent();
            case "app_header_capsule":
            case "app_main_capsule":
              return this.BHasAdvertisingAppID();
          }
          return (0, o.w)(!1, "Unexpected artwork promo type; " + e), !1;
        }
        BHasSpotlightIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.spotlight_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.spotlight_ids[e])
            : this.m_oPromotionPlan.spotlight_ids?.some(Boolean);
        }
        GetSpotlightIDs(e) {
          return this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[e]
            : null;
        }
        GetSpotlightReviewed(e) {
          return this.m_oPromotionPlan.spotlight_reviewed
            ? this.m_oPromotionPlan.spotlight_reviewed[e]
            : null;
        }
        BHasMarketingMessages(e) {
          return e >= 0
            ? this.m_oPromotionPlan.marketing_message_ids?.length > e &&
                Boolean(this.m_oPromotionPlan.marketing_message_ids[e])
            : this.m_oPromotionPlan.marketing_message_ids?.some(Boolean);
        }
        GetMarketingMessageID(e) {
          return this.m_oPromotionPlan.marketing_message_ids?.length > e
            ? this.m_oPromotionPlan.marketing_message_ids[e]
            : null;
        }
        GetAllMarketingMessageID(e) {
          return this.m_oPromotionPlan.marketing_message_ids?.length > 0
            ? this.m_oPromotionPlan.marketing_message_ids
            : [];
        }
        GetMarketingMessageReviewed(e) {
          return this.m_oPromotionPlan.marketing_message_reviewed?.length > e
            ? this.m_oPromotionPlan.marketing_message_reviewed[e]
            : null;
        }
        GetClusterArray(e) {
          switch (e) {
            case u.ii.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_ids;
            case u.ii.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_ids;
            case u.ii.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_ids;
            default:
              return this.m_oPromotionPlan.contenthub_takeover_ids.filter(
                (t, a) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[a] == e,
              );
          }
        }
        GetClusterReviewedArray(e) {
          switch (e) {
            case u.ii.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_reviewed;
            case u.ii.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_reviewed;
            case u.ii.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_reviewed;
            default:
              return (
                this.m_oPromotionPlan.contenthub_takeover_reviewed || []
              ).filter(
                (t, a) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[a] == e,
              );
          }
        }
        BHasClusterIDs(e, t) {
          const a = this.GetClusterArray(e);
          return t >= 0 && a?.length > t ? Boolean(a[t]) : a?.some(Boolean);
        }
        GetClusterID(e, t) {
          const a = this.GetClusterArray(e);
          return a ? a[t] : null;
        }
        GetClusterReviewed(e, t) {
          const a = this.GetClusterReviewedArray(e);
          return a ? a[t] : null;
        }
        BHasTakeoverIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.takeover_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.takeover_ids[e])
            : this.m_oPromotionPlan.takeover_ids?.some(Boolean);
        }
        GetTakeoverID(e) {
          return this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[e]
            : null;
        }
        GetTakeoverReviewed(e) {
          return this.m_oPromotionPlan.takeover_reviewed
            ? this.m_oPromotionPlan.takeover_reviewed[e]
            : null;
        }
        BHasSteamChinaTakeoverID(e) {
          return e >= 0 &&
            this.m_oPromotionPlan.steamchina_takeover_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_ids[e])
            : this.m_oPromotionPlan.steamchina_takeover_ids?.some(Boolean);
        }
        GetSteamChinaTakeoverID(e) {
          return this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[e]
            : null;
        }
        GetSteamChinaTakeoverReviewed(e) {
          return this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? this.m_oPromotionPlan.steamchina_takeover_reviewed[e]
            : null;
        }
        BHasTakeunderIDs(e) {
          return e >= 0 && this.m_oPromotionPlan.takeunder_ids?.length > e
            ? Boolean(this.m_oPromotionPlan.takeunder_ids[e])
            : this.m_oPromotionPlan.takeunder_ids?.some(Boolean);
        }
        GetTakeunderID(e) {
          return this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[e]
            : null;
        }
        GetTakeunderReviewed(e) {
          return this.m_oPromotionPlan.takeunder_reviewed
            ? this.m_oPromotionPlan.takeunder_reviewed[e]
            : null;
        }
        GetContentHubTakeoverCount() {
          return this.m_oPromotionPlan.contenthub_takeover_ids.length;
        }
        BHasContentHubTakeoverIDs(e) {
          return e >= 0 &&
            this.m_oPromotionPlan.contenthub_takeover_ids.length > e &&
            this.m_oPromotionPlan.contenthub_takeover_types.length > e
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_ids[e])
            : this.m_oPromotionPlan.contenthub_takeover_ids?.some(Boolean);
        }
        GetContentHubTakeoverID(e) {
          return this.m_oPromotionPlan.contenthub_takeover_ids
            ? this.m_oPromotionPlan.contenthub_takeover_ids[e]
            : null;
        }
        GetContentHubTakeoverType(e) {
          return this.m_oPromotionPlan.contenthub_takeover_types
            ? this.m_oPromotionPlan.contenthub_takeover_types[e]
            : null;
        }
        GetContentHubTakeoverReviewed(e) {
          return this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? this.m_oPromotionPlan.contenthub_takeover_reviewed[e]
            : null;
        }
        GetMainCapsuleID() {
          return this.m_oPromotionPlan.main_capsule_id;
        }
        GetMainCapsuleReviewed() {
          return this.m_oPromotionPlan.main_capsule_reviewed;
        }
        BHasDiscountEventID() {
          return Boolean(this.m_oPromotionPlan.discount_event_id);
        }
        GetDiscountEventID() {
          return this.m_oPromotionPlan.discount_event_id;
        }
        GetDiscountEventReviewed() {
          return this.m_oPromotionPlan.discount_event_reviewed;
        }
        GetOptInID() {
          return this.m_oPromotionPlan.opt_in_id;
        }
        GetOptInReviewed() {
          return this.m_oPromotionPlan.opt_in_reviewed;
        }
        GetGiveawayID() {
          return this.m_oPromotionPlan.giveaway_id;
        }
        GetGiveawayReviewed() {
          return this.m_oPromotionPlan.giveaway_reviewed;
        }
        GetAssociatedAssetURL() {
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetAssociatedAssetURLForHTML() {
          if (
            this.m_oPromotionPlan.associated_asset_url?.startsWith(
              "\\fileserver",
            )
          ) {
            const e = `file:///${this.m_oPromotionPlan.associated_asset_url.replace(/\\/g, "/")}`;
            return encodeURI(e);
          }
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetPartnerArtworkSubmissionReviewed() {
          return this.m_oPromotionPlan.partner_artwork_submission_reviewed;
        }
        GetSaleClanEventGID() {
          return this.m_oPromotionPlan.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oPromotionPlan.sale_clan_account;
        }
        GetSalePageReviewed() {
          return this.m_oPromotionPlan.sale_page_reviewed;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oPromotionPlan.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = s.b.InitFromClanID(
              this.m_oPromotionPlan.sale_clan_account,
            );
            return (
              d.TS.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oPromotionPlan.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BHasAdvertisingAppID() {
          return Boolean(this.m_oPromotionPlan.advertising_appid);
        }
        GetAdvertisingAppID() {
          return this.m_oPromotionPlan.advertising_appid;
        }
        GetAdvertisingReviewed() {
          return this.m_oPromotionPlan.advertising_appid_reviewed;
        }
        BHasInternalWikiURL() {
          return Boolean(this.m_oPromotionPlan.internal_wiki_url);
        }
        GetInternalWikiURL() {
          return this.m_oPromotionPlan.internal_wiki_url;
        }
        BHasAssetKitURL() {
          return Boolean(this.m_oPromotionPlan.asset_kit_url);
        }
        GetAssetKitURL() {
          return this.m_oPromotionPlan.asset_kit_url;
        }
        BIsReviewed() {
          return Boolean(this.m_oPromotionPlan.reviewed_by_account);
        }
        GetReviewedAccount() {
          return this.m_oPromotionPlan.reviewed_by_account;
        }
        GetReviewedTime() {
          return this.m_oPromotionPlan.reviewed_by_time;
        }
        BIsMarkedCompleted() {
          return Boolean(this.m_oPromotionPlan.marked_completed_by_account);
        }
        GetMarkedCompletedAccount() {
          return this.m_oPromotionPlan.marked_completed_by_account;
        }
        GetMarkedCompletedTime() {
          return this.m_oPromotionPlan.marked_completed_by_time;
        }
        BIsDeliveryReviewed() {
          return Boolean(this.m_oPromotionPlan.delivery_review_account_id);
        }
        GetDeliveryReviewAccount() {
          return this.m_oPromotionPlan.delivery_review_account_id;
        }
        GetDeliveryReviewTime() {
          return this.m_oPromotionPlan.delivery_review_time;
        }
        GetDeliveryReviewNotes() {
          return this.m_oPromotionPlan.delivery_review_notes || "";
        }
        BHasOperatorOwner() {
          return Boolean(this.m_oPromotionPlan.operator_account_id);
        }
        GetOperatorAccountID() {
          return this.m_oPromotionPlan.operator_account_id;
        }
        BHasArtworkOwner() {
          return Boolean(this.m_oPromotionPlan.artwork_owner_account_id);
        }
        GetArtworkOwner() {
          return this.m_oPromotionPlan.artwork_owner_account_id;
        }
        BIsArtworkCompleted() {
          return Boolean(this.m_oPromotionPlan.artwork_completed_time);
        }
        GetArtworkCompleteTime() {
          return this.m_oPromotionPlan.artwork_completed_time;
        }
        GetArtworkLocalizationDropboxLink() {
          return this.m_oPromotionPlan.artwork_localization_dropbox_link;
        }
        GetArtworkLocalizationRequestTime() {
          return this.m_oPromotionPlan.artwork_localization_request_rtime;
        }
        GetArtworkLocalizationTaskID() {
          return this.m_oPromotionPlan.artwork_localization_task_id;
        }
        BHasArtworkLocalizationSteamChinaOnly() {
          return this.m_oPromotionPlan.artwork_localization_steam_china_only;
        }
        BHasArtworkLocalizationRequest(e) {
          return this.m_oPromotionPlan.artwork_localization_request_items?.includes(
            e,
          );
        }
        GetArtworkLocalizationRequests() {
          return this.m_oPromotionPlan.artwork_localization_request_items || [];
        }
        GetArtworkLocationUploadAssetURL() {
          return `${d.TS.PARTNER_BASE_URL}promotion/assetportal/localization/${this.m_oPromotionPlan.id}`;
        }
        GetNumArtworkLocalizationRequired() {
          return (
            this.m_oPromotionPlan.artwork_localization_request_items?.length ||
            0
          );
        }
        GetNumArtwork() {
          let e = this.m_oPromotionPlan.marketing_message_ids?.length || 0;
          return (
            (e += this.m_oPromotionPlan.spotlight_ids?.length || 0),
            (e += this.m_oPromotionPlan.takeover_ids?.length || 0),
            (e += this.m_oPromotionPlan.takeunder_ids?.length || 0),
            (e += this.m_oPromotionPlan.steamchina_takeover_ids?.length || 0),
            this.m_oPromotionPlan.sale_clan_account && (e += 5),
            e
          );
        }
        GetArtTeamDueDate() {
          return this.m_oPromotionPlan.artwork_production_team_due_date;
        }
        GetArtTeamDueDateWithFallback() {
          return this.m_oPromotionPlan.artwork_production_team_due_date
            ? this.m_oPromotionPlan.artwork_production_team_due_date
            : this.m_oPromotionPlan.start_date - r.n5;
        }
        GetSlackChannel() {
          return this.m_oPromotionPlan.slack_channel;
        }
        GetSlackChannelAsURL() {
          return this.m_oPromotionPlan.slack_channel
            ? "https://valvecorp.slack.com/app_redirect?channel=" +
                this.m_oPromotionPlan.slack_channel?.replace("#", "")
            : null;
        }
        BRequireBroadcastModeration() {
          return this.m_oPromotionPlan.require_broadcast_moderation;
        }
        GetBroadcastModerationNotes() {
          return this.m_oPromotionPlan.broadcast_moderation_notes;
        }
        BIsModerationScheduled() {
          return this.m_oPromotionPlan.moderation_arranged;
        }
        SetPartnerID(e) {
          this.m_nPartnerID != e && ((this.m_nPartnerID = e), this.Dispatch());
        }
        SetPartnerRequireArtworkReview(e) {
          this.m_oPromotionPlan.partner_requires_art_review != e &&
            ((this.m_oPromotionPlan.partner_requires_art_review = e),
            this.Dispatch());
        }
        SetArtworkOwnerAccountID(e) {
          this.m_oPromotionPlan.artwork_owner_account_id != e &&
            ((this.m_oPromotionPlan.artwork_owner_account_id = e),
            this.Dispatch());
        }
        SetArtworkLocalizationDropboxLink(e) {
          this.m_oPromotionPlan.artwork_localization_dropbox_link != e &&
            ((this.m_oPromotionPlan.artwork_localization_dropbox_link = e),
            this.Dispatch());
        }
        SetArtworkLocalizationRequestTime(e, t) {
          (this.m_oPromotionPlan.artwork_localization_request_rtime == e &&
            this.m_oPromotionPlan.artwork_localization_task_id == t) ||
            ((this.m_oPromotionPlan.artwork_localization_request_rtime = e),
            (this.m_oPromotionPlan.artwork_localization_task_id = t),
            this.Dispatch());
        }
        SetOperatorOwnerAccountID(e) {
          this.m_oPromotionPlan.operator_account_id != e &&
            ((this.m_oPromotionPlan.operator_account_id = e), this.Dispatch());
        }
        SetPlanOwnerAccountID(e) {
          this.m_oPromotionPlan.owner_account_id != e &&
            ((this.m_oPromotionPlan.owner_account_id = e), this.Dispatch());
        }
        SetArtworkCompleted(e) {
          this.m_oPromotionPlan.artwork_completed_time != e &&
            ((this.m_oPromotionPlan.artwork_completed_time = e),
            this.Dispatch());
        }
        SetDeliveryReviewedAccountAndTime(e, t, a) {
          (this.m_oPromotionPlan.delivery_review_account_id == e &&
            this.m_oPromotionPlan.delivery_review_time == t &&
            this.m_originalPromotionPlan.delivery_review_notes == a) ||
            ((this.m_oPromotionPlan.delivery_review_account_id = e),
            (this.m_oPromotionPlan.delivery_review_time = t),
            (this.m_oPromotionPlan.delivery_review_notes = a),
            this.Dispatch());
        }
        ClearDeliveryReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.delivery_review_account_id) ||
            Boolean(this.m_oPromotionPlan.delivery_review_time) ||
            Boolean(this.m_oPromotionPlan.delivery_review_notes)) &&
            ((this.m_oPromotionPlan.delivery_review_account_id = void 0),
            (this.m_oPromotionPlan.delivery_review_time = void 0),
            (this.m_oPromotionPlan.delivery_review_notes = void 0),
            this.Dispatch());
        }
        SetReviewedAccountAndTime(e, t) {
          (this.m_oPromotionPlan.reviewed_by_account == e &&
            this.m_oPromotionPlan.reviewed_by_time == t) ||
            ((this.m_oPromotionPlan.reviewed_by_account = e),
            (this.m_oPromotionPlan.reviewed_by_time = t),
            this.Dispatch());
        }
        ClearReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.reviewed_by_account) ||
            Boolean(this.m_oPromotionPlan.reviewed_by_time)) &&
            ((this.m_oPromotionPlan.reviewed_by_account = void 0),
            (this.m_oPromotionPlan.reviewed_by_time = void 0),
            this.Dispatch());
        }
        SetMarkedCompletedAccountAndTime(e, t) {
          (this.m_oPromotionPlan.marked_completed_by_account == e &&
            this.m_oPromotionPlan.marked_completed_by_time == t) ||
            ((this.m_oPromotionPlan.marked_completed_by_account = e),
            (this.m_oPromotionPlan.marked_completed_by_time = t),
            this.Dispatch());
        }
        ClearMarkedCompletedStatus() {
          (Boolean(this.m_oPromotionPlan.marked_completed_by_account) ||
            Boolean(this.m_oPromotionPlan.marked_completed_by_time)) &&
            ((this.m_oPromotionPlan.marked_completed_by_account = void 0),
            (this.m_oPromotionPlan.marked_completed_by_time = void 0),
            this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oPromotionPlan.start_date != e &&
            ((this.m_oPromotionPlan.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oPromotionPlan.end_date != e &&
            ((this.m_oPromotionPlan.end_date = e), this.Dispatch());
        }
        SetAssociatedAssetURL(e) {
          this.m_oPromotionPlan.associated_asset_url != e &&
            ((this.m_oPromotionPlan.associated_asset_url = e), this.Dispatch());
        }
        SetPartnerArtworkSubmissionReviewed(e) {
          Boolean(this.m_oPromotionPlan.partner_artwork_submission_reviewed) !=
            e &&
            ((this.m_oPromotionPlan.partner_artwork_submission_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oPromotionPlan.store_item_id == e &&
            this.m_oPromotionPlan.store_item_type == t) ||
            ((this.m_oPromotionPlan.store_item_id = e),
            (this.m_oPromotionPlan.store_item_type = t),
            (this.m_storeItemKey = (0, l.vo)(
              this.m_oPromotionPlan.store_item_id,
              this.m_oPromotionPlan.store_item_type,
            )),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oPromotionPlan.sale_clan_event_gid === e &&
            this.m_oPromotionPlan.sale_clan_account == t) ||
            ((this.m_oPromotionPlan.sale_clan_event_gid = e),
            (this.m_oPromotionPlan.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oPromotionPlan.sale_clan_event_gid &&
            ((this.m_oPromotionPlan.sale_clan_account = void 0),
            (this.m_oPromotionPlan.sale_clan_event_gid = void 0),
            (this.m_oPromotionPlan.sale_page_reviewed = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oPromotionPlan.requires_sale_page != e &&
            ((this.m_oPromotionPlan.requires_sale_page = e), this.Dispatch());
        }
        SetRequiresSalePageType(e) {}
        SetSaleEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.sale_page_reviewed) != e &&
            ((this.m_oPromotionPlan.sale_page_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetOptInID(e) {
          this.m_oPromotionPlan.opt_in_id !== e &&
            ((this.m_oPromotionPlan.opt_in_id = e), this.Dispatch());
        }
        SetOptInReviewed(e) {
          Boolean(this.m_oPromotionPlan.opt_in_reviewed) !== e &&
            ((this.m_oPromotionPlan.opt_in_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetGiveawayID(e) {
          this.m_oPromotionPlan.giveaway_id !== e &&
            ((this.m_oPromotionPlan.giveaway_id = e), this.Dispatch());
        }
        SetGiveawayReviewed(e) {
          Boolean(this.m_oPromotionPlan.giveaway_reviewed) !== e &&
            ((this.m_oPromotionPlan.giveaway_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetDiscountEventID(e) {
          this.m_oPromotionPlan.discount_event_id !== e &&
            ((this.m_oPromotionPlan.discount_event_id = e), this.Dispatch());
        }
        SetDiscountEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.discount_event_reviewed) !== e &&
            ((this.m_oPromotionPlan.discount_event_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetMainCapsuleID(e) {
          this.m_oPromotionPlan.main_capsule_id !== e &&
            ((this.m_oPromotionPlan.main_capsule_id = e), this.Dispatch());
        }
        SetMainCapsuleReviewed(e) {
          Boolean(this.m_oPromotionPlan.main_capsule_reviewed) !== e &&
            ((this.m_oPromotionPlan.main_capsule_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        AddTakeUnderID(e) {
          this.m_oPromotionPlan.takeunder_ids ||
            ((this.m_oPromotionPlan.takeunder_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeunder_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeunderID(e, t) {
          this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeunder_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_ids = [e]), this.Dispatch());
        }
        SetTakeunderReviewed(e, t) {
          this.m_oPromotionPlan.takeunder_reviewed
            ? Boolean(this.m_oPromotionPlan.takeunder_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeunder_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        AddContentHubTakeoverID(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_ids.push(e),
            this.m_oPromotionPlan.contenthub_takeover_types.push(t),
            this.m_oPromotionPlan.contenthub_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetContentHubTakeoverID(e, t, a) {
          (this.m_oPromotionPlan.contenthub_takeover_ids[a] === e &&
            this.m_oPromotionPlan.contenthub_takeover_types[a] === t) ||
            ((this.m_oPromotionPlan.contenthub_takeover_ids[a] = e),
            (this.m_oPromotionPlan.contenthub_takeover_types[a] = t),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed[a] = null),
            this.Dispatch());
        }
        SetContentHubTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.contenthub_takeover_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.contenthub_takeover_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSteamChinaTakeoverID(e) {
          this.m_oPromotionPlan.steamchina_takeover_ids ||
            ((this.m_oPromotionPlan.steamchina_takeover_ids = []),
            (this.m_oPromotionPlan.steamchina_takeover_reviewed = [])),
            this.m_oPromotionPlan.steamchina_takeover_ids.push(e),
            this.m_oPromotionPlan.steamchina_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetSteamChinaTakeoverID(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.steamchina_takeover_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_ids = [e]),
              this.Dispatch());
        }
        SetSteamChinaTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.steamchina_takeover_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        AddClusterID(e, t) {
          switch (e) {
            case u.ii.k_ConfigPage_Takeover:
              this.AddTakeoverID(t);
              break;
            case u.ii.k_ConfigPage_Takeunder:
              this.AddTakeUnderID(t);
              break;
            case u.ii.k_ConfigPage_TakeoverSteamChina:
              this.AddSteamChinaTakeoverID(t);
          }
        }
        SetClusterID(e, t, a) {
          switch (e) {
            case u.ii.k_ConfigPage_Takeover:
              this.SetTakeoverID(t, a);
              break;
            case u.ii.k_ConfigPage_Takeunder:
              this.SetTakeunderID(t, a);
              break;
            case u.ii.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverID(t, a);
              break;
            default:
              this.SetContentHubTakeoverID(t, e, a);
          }
        }
        SetClusterReviewed(e, t, a) {
          switch (e) {
            case u.ii.k_ConfigPage_Takeover:
              this.SetTakeoverReviewed(t, a);
              break;
            case u.ii.k_ConfigPage_Takeunder:
              this.SetTakeunderReviewed(t, a);
              break;
            case u.ii.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverReviewed(t, a);
              break;
            default:
              this.SetContentHubTakeoverReviewed(t, a);
          }
        }
        AddTakeoverID(e) {
          this.m_oPromotionPlan.takeover_ids ||
            ((this.m_oPromotionPlan.takeover_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeover_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeoverID(e, t) {
          this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeover_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_ids = [e]), this.Dispatch());
        }
        SetTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.takeover_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeover_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        AddMarketingMessageID(e) {
          this.m_oPromotionPlan.marketing_message_ids ||
            ((this.m_oPromotionPlan.marketing_message_ids = []),
            (this.m_oPromotionPlan.marketing_message_reviewed = [])),
            this.m_oPromotionPlan.marketing_message_ids.push(e),
            this.m_oPromotionPlan.marketing_message_reviewed.push(null),
            this.Dispatch();
        }
        SetMarketingMessageID(e, t) {
          this.m_oPromotionPlan.marketing_message_ids
            ? this.m_oPromotionPlan.marketing_message_ids[t] !== e &&
              ((this.m_oPromotionPlan.marketing_message_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_ids = [e]),
              this.Dispatch());
        }
        SetMarketingMessageReviewed(e, t) {
          this.m_oPromotionPlan.marketing_message_reviewed
            ? Boolean(this.m_oPromotionPlan.marketing_message_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.marketing_message_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSpotlightID(e) {
          this.m_oPromotionPlan.spotlight_ids ||
            ((this.m_oPromotionPlan.spotlight_ids = []),
            (this.m_oPromotionPlan.spotlight_reviewed = [])),
            this.m_oPromotionPlan.spotlight_ids.push(e),
            this.m_oPromotionPlan.spotlight_reviewed.push(null);
        }
        SetSpotlightID(e, t) {
          this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[t] !== e &&
              ((this.m_oPromotionPlan.spotlight_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_ids = [e]), this.Dispatch());
        }
        SetSpotlightReviewed(e, t) {
          this.m_oPromotionPlan.spotlight_reviewed
            ? Boolean(this.m_oPromotionPlan.spotlight_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.spotlight_reviewed[t] = e
                ? d.iA.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_reviewed = e
                ? [d.iA.accountid]
                : [null]),
              this.Dispatch());
        }
        SetName(e) {
          this.m_oPromotionPlan.name !== e &&
            ((this.m_oPromotionPlan.name = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oPromotionPlan.type !== e &&
            ((this.m_oPromotionPlan.type = e), this.Dispatch());
        }
        SetFeaturingIntention(e) {
          this.m_oPromotionPlan.intention !== e &&
            ((this.m_oPromotionPlan.intention = e), this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oPromotionPlan.admin_notes !== e &&
            ((this.m_oPromotionPlan.admin_notes = e), this.Dispatch());
        }
        SetPromotionPlannerNote(e) {
          this.m_oPromotionPlan.promotion_planner_notes !== e &&
            ((this.m_oPromotionPlan.promotion_planner_notes = e),
            this.Dispatch());
        }
        SetAdvertisingAppID(e) {
          this.m_oPromotionPlan.advertising_appid !== e &&
            ((this.m_oPromotionPlan.advertising_appid = e), this.Dispatch());
        }
        SetAdvertisingAppIDReviewed(e) {
          Boolean(this.m_oPromotionPlan.advertising_appid_reviewed) !== e &&
            ((this.m_oPromotionPlan.advertising_appid_reviewed = e
              ? d.iA.accountid
              : null),
            this.Dispatch());
        }
        SetAdvertisingAppIDFromString(e) {
          const t = Number.parseInt(e);
          this.m_oPromotionPlan.advertising_appid !== t &&
            ((this.m_oPromotionPlan.advertising_appid = t), this.Dispatch());
        }
        SetInternalWikiURL(e) {
          this.m_oPromotionPlan.internal_wiki_url !== e &&
            ((this.m_oPromotionPlan.internal_wiki_url = e), this.Dispatch());
        }
        SetAssetKitURL(e) {
          this.m_oPromotionPlan.asset_kit_url !== e &&
            ((this.m_oPromotionPlan.asset_kit_url = e), this.Dispatch());
        }
        SetSlackChannel(e) {
          this.m_oPromotionPlan.slack_channel !== e &&
            ((this.m_oPromotionPlan.slack_channel = e), this.Dispatch());
        }
        SetRequireBroadcastModeration(e) {
          this.m_oPromotionPlan.require_broadcast_moderation !== e &&
            ((this.m_oPromotionPlan.require_broadcast_moderation = e),
            this.Dispatch());
        }
        SetBroadcastModerationNotes(e) {
          this.m_oPromotionPlan.broadcast_moderation_notes !== e &&
            ((this.m_oPromotionPlan.broadcast_moderation_notes = e),
            this.Dispatch());
        }
        SetModerationIsScheduled(e) {
          this.m_oPromotionPlan.moderation_arranged !== e &&
            ((this.m_oPromotionPlan.moderation_arranged = e), this.Dispatch());
        }
        AddToWatchList(e) {
          this.BOnWatchList(e) ||
            (this.m_oPromotionPlan.watch_list ||
              (this.m_oPromotionPlan.watch_list = []),
            this.m_oPromotionPlan.watch_list.push(e),
            this.Dispatch());
        }
        RemoveFromWatchList(e) {
          if (this.BOnWatchList(e)) {
            const t = this.m_oPromotionPlan.watch_list.findIndex((t) => t == e);
            this.m_oPromotionPlan.watch_list.splice(t, 1), this.Dispatch();
          }
        }
        SetArtworkLocalizationSteamChinaOnly(e) {
          this.m_oPromotionPlan.artwork_localization_steam_china_only != e &&
            ((this.m_oPromotionPlan.artwork_localization_steam_china_only = e),
            this.Dispatch());
        }
        SetArtworkProductionTeamDueDate(e) {
          this.m_oPromotionPlan.artwork_production_team_due_date != e &&
            ((this.m_oPromotionPlan.artwork_production_team_due_date = e),
            this.Dispatch());
        }
        ToggleArtworkLocalizationRequest(e, t) {
          if (t && !this.BHasArtworkLocalizationRequest(e))
            this.m_oPromotionPlan.artwork_localization_request_items ||
              (this.m_oPromotionPlan.artwork_localization_request_items = []),
              this.m_oPromotionPlan.artwork_localization_request_items.push(e),
              this.Dispatch();
          else if (!t && this.BHasArtworkLocalizationRequest(e)) {
            let t =
              this.m_oPromotionPlan.artwork_localization_request_items.findIndex(
                (t) => t == e,
              );
            this.m_oPromotionPlan.artwork_localization_request_items.splice(
              t,
              1,
            ),
              this.Dispatch();
          }
        }
        RevertChanges() {
          (this.m_oPromotionPlan = JSON.parse(
            JSON.stringify(this.m_originalPromotionPlan),
          )),
            (this.m_nPartnerID = this.m_nOriginalPartnerID),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, n.Cg)([i.sH], p.prototype, "m_nPartnerID", void 0),
        (0, n.Cg)([i.sH], p.prototype, "m_nOriginalPartnerID", void 0),
        (0, n.Cg)([i.sH], p.prototype, "m_bDirty", void 0),
        (0, n.Cg)([m.oI], p.prototype, "GetSpotlightReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetMarketingMessageReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetClusterReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetSteamChinaTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetTakeunderReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetContentHubTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetMainCapsuleReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetDiscountEventReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetOptInReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetGiveawayReviewed", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "GetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "GetSalePageReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetAdvertisingReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "GetSlackChannelAsURL", null),
        (0, n.Cg)([m.oI], p.prototype, "SetPartnerID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetPartnerRequireArtworkReview", null),
        (0, n.Cg)([m.oI], p.prototype, "SetArtworkOwnerAccountID", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetArtworkLocalizationDropboxLink",
          null,
        ),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetArtworkLocalizationRequestTime",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "SetOperatorOwnerAccountID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetPlanOwnerAccountID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetArtworkCompleted", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetDeliveryReviewedAccountAndTime",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "ClearDeliveryReviewedStatus", null),
        (0, n.Cg)([m.oI], p.prototype, "SetReviewedAccountAndTime", null),
        (0, n.Cg)([m.oI], p.prototype, "ClearReviewedStatus", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetMarkedCompletedAccountAndTime",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "ClearMarkedCompletedStatus", null),
        (0, n.Cg)([m.oI], p.prototype, "SetStartDate", null),
        (0, n.Cg)([m.oI], p.prototype, "SetEndDate", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAssociatedAssetURL", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "SetFeaturedStoreItem", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSaleEvent", null),
        (0, n.Cg)([m.oI], p.prototype, "ClearSalePage", null),
        (0, n.Cg)([m.oI], p.prototype, "SetRequiresSalePage", null),
        (0, n.Cg)([m.oI], p.prototype, "SetRequiresSalePageType", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSaleEventReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetOptInID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetOptInReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetGiveawayID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetGiveawayReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetDiscountEventID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetDiscountEventReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetMainCapsuleID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetMainCapsuleReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddTakeUnderID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetTakeunderID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetTakeunderReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddContentHubTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetContentHubTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetContentHubTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddSteamChinaTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSteamChinaTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSteamChinaTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddClusterID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetClusterID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetClusterReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetTakeoverID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetTakeoverReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddMarketingMessageID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetMarketingMessageID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetMarketingMessageReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "AddSpotlightID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSpotlightID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSpotlightReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetName", null),
        (0, n.Cg)([m.oI], p.prototype, "SetType", null),
        (0, n.Cg)([m.oI], p.prototype, "SetFeaturingIntention", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAdminNote", null),
        (0, n.Cg)([m.oI], p.prototype, "SetPromotionPlannerNote", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAdvertisingAppID", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAdvertisingAppIDReviewed", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAdvertisingAppIDFromString", null),
        (0, n.Cg)([m.oI], p.prototype, "SetInternalWikiURL", null),
        (0, n.Cg)([m.oI], p.prototype, "SetAssetKitURL", null),
        (0, n.Cg)([m.oI], p.prototype, "SetSlackChannel", null),
        (0, n.Cg)([m.oI], p.prototype, "SetRequireBroadcastModeration", null),
        (0, n.Cg)([m.oI], p.prototype, "SetBroadcastModerationNotes", null),
        (0, n.Cg)([m.oI], p.prototype, "SetModerationIsScheduled", null),
        (0, n.Cg)([m.oI], p.prototype, "AddToWatchList", null),
        (0, n.Cg)([m.oI], p.prototype, "RemoveFromWatchList", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "SetArtworkLocalizationSteamChinaOnly",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "SetArtworkProductionTeamDueDate", null),
        (0, n.Cg)(
          [m.oI],
          p.prototype,
          "ToggleArtworkLocalizationRequest",
          null,
        ),
        (0, n.Cg)([m.oI], p.prototype, "RevertChanges", null);
      var _ = a(90626);
      class g {
        m_model = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == d.TS.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, i.HO)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(t, e),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new p(t, e)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            g.s_Singleton ||
              ((g.s_Singleton = new g()),
              "dev" == d.TS.WEB_UNIVERSE &&
                (window.g_PromotionPlanEditStore = g.s_Singleton)),
            g.s_Singleton
          );
        }
        constructor() {}
      }
      function h(e, t, a = !1) {
        return g.Get().InitPromotionPlanToEdit(e, t, a);
      }
      function E() {
        return g.Get().GetPromotionPlanToEdit();
      }
      function S() {
        const e = (0, m.CH)(),
          [t, a] = _.useState(g.Get().GetPromotionPlanToEdit());
        return (
          (0, m.hL)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function y() {
        return {
          fnBIsPlanDirty: _.useCallback(
            () =>
              !!g.Get().GetPromotionPlanToEdit() &&
              g.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlan: _.useCallback(() => {
            g.Get().ClearEditModel();
          }, []),
        };
      }
    },
    64399: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ab: () => f,
        HN: () => h,
        Ob: () => I,
        PZ: () => b,
        R5: () => D,
        Sf: () => M,
        VJ: () => C,
        cC: () => T,
        ht: () => B,
        ic: () => w,
        jo: () => S,
        lK: () => y,
        no: () => k,
        ru: () => A,
        vv: () => v,
      });
      var n = a(34629),
        r = a(56545),
        i = a(33543),
        s = a(90626),
        l = a(96059),
        o = a(44165),
        c = a(62792),
        m = a(44332),
        d = a(68797),
        u = a(6144),
        p = a(73745),
        _ = a(14771),
        g = a(78327);
      const h = 6;
      class E {
        m_mapPlans = new Map();
        m_mapPlanByAccessKey = new Map();
        m_rgActivePlanIDs = new Array();
        m_promiseLoadAllActivePlans = null;
        m_promiseMapIndividualLoads = new Map();
        m_promiseMapOldMonthLoadAllActivePlans = new Map();
        m_listChangeCallback = new u.lu();
        m_planChangeCallback = new Map();
        m_planInputPipelineChangeCallback = new Map();
        m_SteamInterface = null;
        GetAllPlans() {
          return Array.from(this.m_mapPlans.values()).map((e) =>
            JSON.parse(e.admin_jsondata),
          );
        }
        GetListChangeCallback() {
          return this.m_listChangeCallback;
        }
        GetPlanByID(e) {
          return this.m_mapPlans.get(e);
        }
        GetPlanAdminByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.admin_jsondata) : null;
        }
        BHasPlanID(e) {
          return this.m_mapPlans.has(e);
        }
        GetPlanChangeCallback(e) {
          return (
            this.m_planChangeCallback.has(e) ||
              this.m_planChangeCallback.set(e, new u.lu()),
            this.m_planChangeCallback.get(e)
          );
        }
        GetPipelineInputChangeCallback(e) {
          return (
            this.m_planInputPipelineChangeCallback.has(e) ||
              this.m_planInputPipelineChangeCallback.set(e, new u.lu()),
            this.m_planInputPipelineChangeCallback.get(e)
          );
        }
        GetPlanPipelineInputByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        GetPartnerRequestPlanByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.partner_jsondata) : null;
        }
        GetPlanPipelineInputByAccessKey(e) {
          const t = this.m_mapPlanByAccessKey.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllPlans().forEach((t) => {
              if (t.store_item_id) {
                const a = (0, c.FT)(t.store_item_id, t.store_item_type);
                e.has(a) ? e.get(a).push(t) : e.set(a, [t]);
              }
            }),
            e
          );
        }
        GetLatestUpdateTime() {
          let e = 0;
          return (
            Array.from(this.m_mapPlans.values()).forEach((t) => {
              t.last_update_time > e && (e = t.last_update_time);
            }),
            e
          );
        }
        async LoadAllActivePlans() {
          return (
            this.m_promiseLoadAllActivePlans ||
              ((this.m_promiseLoadAllActivePlans =
                this.InternalLoadAllActivePlans()),
              this.m_promiseLoadAllActivePlans.then(() => {
                this.m_rgActivePlanIDs.map((e) =>
                  this.m_promiseMapIndividualLoads.set(
                    e,
                    this.m_promiseLoadAllActivePlans,
                  ),
                );
              })),
            this.m_promiseLoadAllActivePlans
          );
        }
        InternalEnsureIDsMatch(e) {
          const t = e.promotion_id(),
            a = e.toObject(),
            n = JSON.parse(a.admin_jsondata);
          return (n.id = t), (a.admin_jsondata = JSON.stringify(n)), a;
        }
        AddPlansIntoMemory(e) {
          const t = this.InternalEnsureIDsMatch(e);
          t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
            t.partner_jsondata || (t.partner_jsondata = JSON.stringify({}));
          const a = t.promotion_id,
            n = t.input_access_key;
          this.m_mapPlans.set(a, t),
            this.m_mapPlanByAccessKey.set(n, t),
            this.m_rgActivePlanIDs.push(a),
            this.GetPlanChangeCallback(a).Dispatch(
              JSON.parse(t.admin_jsondata),
            ),
            this.GetPipelineInputChangeCallback(n).Dispatch(
              JSON.parse(t.input_jsondata),
            );
        }
        async InternalLoadAllActivePlans() {
          const e = r.w.Init(i.vy);
          let t = null;
          try {
            const a = await i.WZ.GetAllActivePlan(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                a.Body().plan().forEach(this.AddPlansIntoMemory),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                !0
              );
            t = (0, d.H)(a);
          } catch (e) {
            t = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.GetAllActivePlans failed: " +
                t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        GetLargestPastMonthLoaded() {
          let e = 6;
          for (const t of this.m_promiseMapOldMonthLoadAllActivePlans.keys())
            (void 0 === e || t > e) && (e = t);
          return e;
        }
        async LoadPastMonthPlans(e) {
          return (
            this.m_promiseMapOldMonthLoadAllActivePlans.has(e) ||
              this.m_promiseMapOldMonthLoadAllActivePlans.set(
                e,
                this.InternalLoadPastMonthPlans(e),
              ),
            this.m_promiseMapOldMonthLoadAllActivePlans.get(e)
          );
        }
        async InternalLoadPastMonthPlans(e) {
          const t = r.w.Init(i.H_),
            a = 2592e3,
            n = (0, o.sB)();
          t.Body().set_newest_rtime(n - e * a),
            t.Body().set_oldest_rtime(n - (e + h) * a);
          let s = null;
          try {
            const e = await i.WZ.GetPlanCompletedInDateRange(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == e.GetEResult())
              return (
                e
                  .Body()
                  .plans()
                  .filter((e) => !this.m_mapPlans.has(e.promotion_id()))
                  .forEach((e) => {
                    const t = this.InternalEnsureIDsMatch(e),
                      a = t.input_access_key;
                    this.m_mapPlans.set(t.promotion_id, t),
                      this.m_mapPlanByAccessKey.set(a, t),
                      t.input_jsondata ||
                        (t.input_jsondata = JSON.stringify({})),
                      t.partner_jsondata ||
                        (t.partner_jsondata = JSON.stringify({})),
                      this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                      this.GetPlanChangeCallback(t.promotion_id).Dispatch(
                        JSON.parse(t.admin_jsondata),
                      ),
                      this.GetPipelineInputChangeCallback(a).Dispatch(
                        JSON.parse(t.input_jsondata),
                      );
                  }),
                !0
              );
            s = (0, d.H)(e);
          } catch (e) {
            s = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.InternalLoadPastMonthPlans failed: " +
                s?.strErrorMsg,
              s,
            ),
            !1
          );
        }
        async LoadPlanByID(e) {
          return (
            this.m_promiseMapIndividualLoads.has(e) ||
              this.m_promiseMapIndividualLoads.set(
                e,
                this.InternalLoadPlanByID(e),
              ),
            this.m_promiseMapIndividualLoads.get(e)
          );
        }
        async InternalLoadPlanByID(e) {
          const t = r.w.Init(i.wH);
          t.Body().set_promotion_id(e);
          let a = null;
          try {
            const n = await i.WZ.GetPlan(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = this.InternalEnsureIDsMatch(n.Body().plan()),
                a = t.input_access_key;
              return (
                this.m_mapPlans.set(t.promotion_id, t),
                this.m_mapPlanByAccessKey.set(a, t),
                t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
                t.partner_jsondata || (t.partner_jsondata = JSON.stringify({})),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                this.GetPlanChangeCallback(e).Dispatch(
                  JSON.parse(t.admin_jsondata),
                ),
                this.GetPipelineInputChangeCallback(a).Dispatch(
                  JSON.parse(t.input_jsondata),
                ),
                !0
              );
            }
            a = (0, d.H)(n);
          } catch (e) {
            a = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.GetPlanByID failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        async ForceReloadPlan(e) {
          return this.InternalLoadPlanByID(e);
        }
        async AddNewAdminPlan(e) {
          const {
              type: t,
              strName: a,
              rtStartDate: n,
              rtEndDate: s,
              strDiscountEventID: l,
              nPartnerID: o,
              storeItemID: c,
              storeItemType: m,
              strSpotlightID: u,
              strMarketingMessageID: p,
              strTakeoverID: _,
              strTakeunderID: h,
              strDailyDealID: E,
              inputPipelineModel: S,
              nAdvertisingAppID: y,
              nSaleClanAccountID: v,
              strSaleClanEventGID: f,
            } = e,
            b = r.w.Init(i.OH),
            w = Math.floor(new Date().getTime() / 1e3),
            D = {
              type: t,
              name: a,
              start_date: n,
              end_date: s,
              store_item_id: c,
              store_item_type: m,
              discount_event_id: l,
              creator_account_id: g.iA.accountid,
              last_modified_account: g.iA.accountid,
              admin_accounts: [g.iA.accountid],
              last_modified_time: w,
              create_time: w,
            };
          u && (D.spotlight_ids = [u]),
            p && (D.marketing_message_ids = [p]),
            _ && (D.takeover_ids = [_]),
            h && (D.takeunder_ids = [h]),
            E && (D.dailydeal_ids = [E]),
            y && (D.advertising_appid = y),
            v && (D.sale_clan_account = v),
            f && (D.sale_clan_event_gid = f);
          const C = {
            admin_jsondata: JSON.stringify(D),
            partner_jsondata: JSON.stringify({}),
            partner_readonly_jsondata: JSON.stringify(A(D)),
            partner_writable_jsondata: JSON.stringify({}),
            input_jsondata: JSON.stringify(S || {}),
            assets_readonly_jsondata: JSON.stringify({}),
            assets_writable_jsondata: JSON.stringify({}),
            rtime32_start_time: n,
            rtime32_end_time: s,
            partner_id: o,
          };
          b.Body().set_plan(i.wn.fromObject(C));
          let I = null;
          try {
            const e = await i.WZ.CreatePlan(
              this.m_SteamInterface.GetServiceTransport(),
              b,
            );
            if (1 == e.GetEResult())
              return (
                (C.promotion_id = e.Body().promotion_id()),
                (C.input_access_key = e.Body().input_access_key()),
                (D.id = e.Body().promotion_id()),
                (C.admin_jsondata = JSON.stringify(D)),
                this.m_mapPlans.set(C.promotion_id, C),
                this.m_mapPlanByAccessKey.set(C.input_access_key, C),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                C.promotion_id
              );
            I = (0, d.H)(e);
          } catch (e) {
            I = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.AddNewAdminPlan failed: " +
                I?.strErrorMsg,
              I,
            ),
            null
          );
        }
        async UpdateAdminPlan(e, t, a, n) {
          const s = r.w.Init(i.DY),
            l = this.m_mapPlans.get(t.id);
          if (!l)
            return (
              console.error(
                "CPromotionPlanningStore.UpdateAdminPlan planID does not exist: " +
                  t.id,
              ),
              !1
            );
          n?.enable_input &&
            ((n.requested_promotion_name = t.name),
            t.store_item_id &&
              ((n.requested_store_item_id = t.store_item_id),
              (n.requested_store_item_type = t.store_item_type)),
            (n.requested_type = t.type)),
            (l.rtime32_start_time = t.start_date),
            (l.rtime32_end_time = t.end_date),
            (t.last_modified_account = g.iA.accountid),
            (t.last_modified_time = Math.floor(new Date().getTime() / 1e3)),
            (t.admin_accounts || []).indexOf(g.iA.accountid) < 0 &&
              (t.admin_accounts
                ? t.admin_accounts.push(g.iA.accountid)
                : (t.admin_accounts = [g.iA.accountid])),
            (l.admin_jsondata = JSON.stringify(t)),
            (l.partner_readonly_jsondata = JSON.stringify(A(t))),
            a && (l.partner_jsondata = JSON.stringify(a)),
            n &&
              (t.discount_event_id != n.asset_request_discount_event_id_clone &&
                (n.asset_request_discount_event_id_clone = t.discount_event_id),
              (l.input_jsondata = JSON.stringify(n))),
            (l.partner_id = e),
            s.Body().set_plan(i.wn.fromObject(l)),
            s.Body().set_promotion_id(t.id);
          let o = null;
          try {
            const e = await i.WZ.UpdatePlan(
              this.m_SteamInterface.GetServiceTransport(),
              s,
            );
            if (1 == e.GetEResult())
              return this.GetPlanChangeCallback(t.id).Dispatch(t), !0;
            o = (0, d.H)(e);
          } catch (e) {
            o = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.UpdateAdminPlan failed: " +
                o?.strErrorMsg,
              o,
            ),
            !1
          );
        }
        async DeletePlan(e) {
          const t = r.w.Init(i.Hd);
          t.Body().set_promotion_id(e);
          let a = null;
          try {
            const n = await i.WZ.DeletePlan(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult())
              return (
                this.DeletePlanFromMemory(e),
                this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                !0
              );
            a = (0, d.H)(n);
          } catch (e) {
            a = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.DeletePlan failed: " + a?.strErrorMsg,
              a,
            ),
            !1
          );
        }
        DeletePlanFromMemory(e) {
          this.m_mapPlans.delete(e),
            this.GetPlanChangeCallback(e).Dispatch(null);
        }
        async RefreshPlans(e, t) {
          const a = r.w.Init(i.SN);
          a.Body().set_rtime(e), t && a.Body().set_upto_rtime(t);
          let n = null;
          try {
            const e = await i.WZ.GetPlansUpdatedSince(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            if (1 == e.GetEResult())
              return (
                (0 == e.Body().plans().length &&
                  0 == e.Body().deleted_plan_ids().length) ||
                  (e.Body().plans().forEach(this.AddPlansIntoMemory),
                  e
                    .Body()
                    .deleted_plan_ids()
                    .forEach(this.DeletePlanFromMemory),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans())),
                !0
              );
            n = (0, d.H)(e);
          } catch (e) {
            n = (0, d.H)(e);
          }
          return (
            console.error(
              "CPromotionPlanningStore.RefreshPlans failed: " + n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            E.s_Singleton ||
              ((E.s_Singleton = new E()),
              E.s_Singleton.Init(),
              "dev" == g.TS.WEB_UNIVERSE &&
                (window.g_PromotionPlanningStore = E.s_Singleton)),
            E.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, g.Tc)(
            "promotion_operation_token",
            "application_config",
          );
          (0, m.w)(
            e,
            "CPromotionPlanningStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new l.D(g.TS.WEBAPI_BASE_URL, e));
          const t = (0, g.Fd)("promotion_plans", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapPlans.set(e.promotion_id, e),
                e.input_access_key &&
                  this.m_mapPlanByAccessKey.set(e.input_access_key, e),
                this.m_rgActivePlanIDs.push(e.promotion_id);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t &&
            Array.isArray(t) &&
            t.length > 0 &&
            Boolean(t[0].admin_jsondata)
          );
        }
        AddPlanIfNeeded(e) {
          this.m_mapPlans.has(e.promotion_id) ||
            (this.m_mapPlans.set(e.promotion_id, e),
            e.input_access_key &&
              this.m_mapPlanByAccessKey.set(e.input_access_key, e),
            this.m_rgActivePlanIDs.push(e.promotion_id));
        }
      }
      function S() {
        const [e, t] = s.useState(E.Get().GetAllPlans());
        return (
          (0, s.useEffect)(() => {
            E.Get().LoadAllActivePlans();
          }, []),
          (0, p.hL)(E.Get().GetListChangeCallback(), t),
          e
        );
      }
      function y() {
        return {
          fnAddNewPlan: E.Get().AddNewAdminPlan,
          fnUpdatePlan: E.Get().UpdateAdminPlan,
          fnDeletePlan: E.Get().DeletePlan,
          fnRefreshPlans: E.Get().RefreshPlans,
          fnForceReloadPlan: E.Get().ForceReloadPlan,
        };
      }
      function v(e, t) {
        const [a, n] = s.useState(E.Get().GetPlanByID(e)),
          [r, i] = s.useState(!1);
        return (
          (0, s.useEffect)(() => {
            (a && !t) ||
              !e ||
              (t ? E.Get().ForceReloadPlan(e) : E.Get().LoadPlanByID(e))
                .then((t) => {
                  t ? n(E.Get().GetPlanByID(e)) : i(!0);
                })
                .catch((e) => {
                  console.error(
                    "usePromotionPlanContainer error: " + (0, d.H)(e),
                  ),
                    i(!0);
                });
          }, [e, a, t]),
          (0, p.hL)(E.Get().GetPlanChangeCallback(e), (e) => {
            n(E.Get().GetPlanByID(e?.id));
          }),
          { bError: r, oPlanContainer: a }
        );
      }
      function f(e) {
        const [t, a] = s.useState(E.Get().GetPlanAdminByID(e));
        return (
          (0, s.useEffect)(() => {
            t || E.Get().LoadPlanByID(e);
          }, [e, t]),
          (0, p.hL)(E.Get().GetPlanChangeCallback(e), a),
          t
        );
      }
      function b(e, t) {
        const a = S(),
          [n, r] = s.useState(null);
        return (
          s.useEffect(() => {
            const n = new Map(),
              i = new Date(),
              s = new Date();
            s.setDate(i.getDate() - i.getDay() + 1);
            const l = (0, _.fK)((0, _.Gd)(s));
            t.forEach((t) => {
              const a = new Array();
              for (let n = 0; n <= e; ++n)
                a.push({
                  type: t,
                  rtWeekStart: l + _.Kp.PerWeek * n,
                  rgPlans: [],
                });
              n.set(t, a);
            }),
              a.forEach((e) => {
                const t = n.get(e.type);
                if (t && e.start_date > l) {
                  const a = Math.floor((e.start_date - l) / _.Kp.PerWeek);
                  a < t.length && t[a].rgPlans.push(e);
                }
              }),
              r(n);
          }, [a, e, t]),
          n
        );
      }
      function w(e) {
        const [t, a] = s.useState(E.Get().GetPlanPipelineInputByID(e));
        return (
          (0, s.useEffect)(() => {}, []),
          (0, p.hL)(E.Get().GetPlanChangeCallback(e), (e) =>
            a(E.Get().GetPlanPipelineInputByID(e?.id)),
          ),
          t
        );
      }
      function D(e) {
        return E.Get().GetPlanPipelineInputByID(e);
      }
      function C(e) {
        return E.Get().GetPlanAdminByID(e);
      }
      function I(e) {
        E.Get().AddPlanIfNeeded(e);
      }
      function B() {
        return E.Get().GetLatestUpdateTime();
      }
      function T(e) {
        return E.Get().LoadPastMonthPlans(e);
      }
      function M() {
        return E.Get().GetLargestPastMonthLoaded();
      }
      function A(e) {
        return {
          id: e.id,
          name: e.name,
          start_date: e.start_date,
          end_date: e.end_date,
          type: e.type,
          store_item_type: e.store_item_type,
          store_item_id: e.store_item_id,
          discount_event_id: e.discount_event_id,
          opt_in_id: e.opt_in_id,
          advertising_appid: e.advertising_appid,
          asset_kit_url: e.asset_kit_url,
          sale_clan_event_gid: e.sale_clan_event_gid,
          sale_clan_account: e.sale_clan_account,
          artwork_completed_time: e.artwork_completed_time,
          artwork_localization_task_id: e.artwork_localization_task_id,
          delivery_review_time: e.delivery_review_time,
          associated_asset_url: e.associated_asset_url,
        };
      }
      function k() {
        const [e, t] = (0, s.useState)(() => E.Get().CreateMapByStoreItem());
        return (
          (0, p.hL)(E.Get().GetListChangeCallback(), () =>
            t(E.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, n.Cg)([p.oI], E.prototype, "LoadAllActivePlans", null),
        (0, n.Cg)([p.oI], E.prototype, "AddPlansIntoMemory", null),
        (0, n.Cg)([p.oI], E.prototype, "LoadPastMonthPlans", null),
        (0, n.Cg)([p.oI], E.prototype, "LoadPlanByID", null),
        (0, n.Cg)([p.oI], E.prototype, "ForceReloadPlan", null),
        (0, n.Cg)([p.oI], E.prototype, "AddNewAdminPlan", null),
        (0, n.Cg)([p.oI], E.prototype, "UpdateAdminPlan", null),
        (0, n.Cg)([p.oI], E.prototype, "DeletePlan", null),
        (0, n.Cg)([p.oI], E.prototype, "DeletePlanFromMemory", null),
        (0, n.Cg)([p.oI], E.prototype, "RefreshPlans", null);
    },
    49188: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => l });
      var n = a(56545),
        r = a(33543),
        i = a(20194),
        s = a(96001);
      function l(e, t) {
        const a = (0, s.a)(),
          l = (0, i.I)({
            queryKey: ["PromoPlanSalesBatch", e, t],
            queryFn: async () => {
              const i = n.w.Init(r.Ar);
              i.Body().set_promotionids(e), i.Body().set_partnerid(t);
              return (await r.WZ.GetPromotionPlanSalesDaily(a, i))
                .Body()
                .toObject();
            },
          });
        return l?.data;
      }
    },
    22385: (e, t, a) => {
      "use strict";
      function n(e, t) {
        return (
          e &&
          (0 == e.GetAppType() || 6 == e.GetAppType() || 4 == e.GetAppType()) &&
          10 != t
        );
      }
      a.d(t, { u: () => n });
    },
    75186: (e, t, a) => {
      "use strict";
      a.d(t, { l: () => d });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(68797),
        l = a(78327),
        o = a(6419),
        c = a(90626);
      class m {
        m_mapAppToRank = new Map();
        bHasLoadedLongTermSalesRankForApp(e) {
          return this.m_mapAppToRank.has(e);
        }
        bHasSomeLongTermSaleRankForApp(e) {
          return void 0 !== this.m_mapAppToRank.get(e);
        }
        GetLongTermSaleRankForApp(e) {
          return this.m_mapAppToRank.get(e);
        }
        async LoadLongTermSalesRank(e) {
          if (
            0 ==
            (e || []).filter((e) => !this.bHasLoadedLongTermSalesRankForApp(e))
              .length
          )
            return !0;
          let t = null;
          try {
            const a = new FormData();
            a.append("rgAppIDs", e.join(",")),
              a.append("sessionid", l.TS.SESSIONID);
            const n = l.TS.PARTNER_BASE_URL + "sales/ajaxgetsalerank",
              r = await i().post(n, a, { withCredentials: !0 });
            if (200 == r?.status && 1 == r.data?.success && r.data.apps)
              return (
                r.data.apps.forEach((e) =>
                  this.m_mapAppToRank.set(
                    e.appid,
                    null == e.long_term_sales_rank ||
                      null == e.long_term_sales_rank
                      ? void 0
                      : e.long_term_sales_rank,
                  ),
                ),
                !0
              );
            t = (0, s.H)(r);
          } catch (e) {
            t = (0, s.H)(e);
          }
          return (
            console.error(
              "CPromotionInviteStore.RemoveInvite failed: " + t?.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == l.TS.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
      }
      function d(e) {
        const [t, a] = (0, c.useState)(!0);
        return (
          (0, c.useEffect)(() => {
            a(!0),
              e &&
                e?.length > 0 &&
                m
                  .Get()
                  .LoadLongTermSalesRank(e)
                  .finally(() => a(!1));
          }, [e]),
          {
            bLoading: t,
            fnbHasSomeLongTermSaleRankForApp:
              m.Get().bHasSomeLongTermSaleRankForApp,
            fnGetLongTermSaleRankForApp: m.Get().GetLongTermSaleRankForApp,
          }
        );
      }
      (0, n.Cg)([o.o], m.prototype, "bHasLoadedLongTermSalesRankForApp", null),
        (0, n.Cg)([o.o], m.prototype, "bHasSomeLongTermSaleRankForApp", null),
        (0, n.Cg)([o.o], m.prototype, "GetLongTermSaleRankForApp", null);
    },
    58097: (e, t, a) => {
      "use strict";
      a.d(t, { JK: () => d, cw: () => m, qX: () => u });
      var n = a(41735),
        r = a.n(n),
        i = a(1814),
        s = a(90626),
        l = a(20194),
        o = a(44165),
        c = a(30470);
      function m() {
        const {
          data: e,
          isLoading: t,
          isError: a,
        } = (0, l.I)({
          queryKey: ["useTopSalesRankGamesData"],
          queryFn: async () => {
            const e = { sessionid: c.TS.SESSIONID },
              t = `${c.TS.PARTNER_BASE_URL}promotion/planning/ajaxgetsalerankdashboard`,
              a = await r().get(t, { params: e });
            return 200 == a.status && a.data?.top_apps?.length > 0
              ? a.data
              : null;
          },
        });
        return t || a ? null : e;
      }
      function d(e, t) {
        const [a, n] = (0, s.useState)(null);
        return (
          (0, s.useEffect)(() => {
            if (e && t?.length > 0) {
              const a = new i.Q(e);
              a.LoadApps(t).then(() => n(a));
            }
          }, [e, t]),
          a
        );
      }
      function u(e, t, a) {
        const [n, r] = (0, s.useState)(null),
          l = (0, o.f1)();
        return (
          (0, s.useEffect)(() => {
            if (e && t)
              if (e < t) {
                if (t < l && a?.length > 0) {
                  const n = new i.Q(e, t);
                  n.LoadApps(a).then(() => r(n));
                }
              } else
                console.error(`useLoadAppRevenueDetailsDateRange ${e} >= ${t}`);
            else
              console.error(
                "useLoadAppRevenueDetailsDateRange start or end missing",
              );
          }, [e, t, a, l]),
          n
        );
      }
    },
    97843: (e, t, a) => {
      "use strict";
      a.d(t, { Ib: () => _, jO: () => p, ku: () => u });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(90626),
        l = a(6144),
        o = a(68797),
        c = a(73745),
        m = a(78327);
      class d {
        m_rgSpotlights = new Array();
        m_mapSpotlights = new Map();
        m_mapSpotlightsCallback = new Map();
        m_SpotlightListCallback = new l.lu();
        m_mapLoadingSpotlights = new Map();
        GetAllSpotlights() {
          return this.m_rgSpotlights;
        }
        GetSpotlightByID(e) {
          return this.m_mapSpotlights.get(e);
        }
        GetCallbackForSpotlightList() {
          return this.m_SpotlightListCallback;
        }
        GetCallbackForSpotlightID(e) {
          return (
            this.m_mapSpotlightsCallback.has(e) ||
              this.m_mapSpotlightsCallback.set(e, new l.lu()),
            this.m_mapSpotlightsCallback.get(e)
          );
        }
        async LoadSpotlight(e) {
          return this.m_mapSpotlights.has(e)
            ? this.m_mapSpotlights.get(e)
            : (this.m_mapLoadingSpotlights.has(e) ||
                this.m_mapLoadingSpotlights.set(
                  e,
                  this.InternalLoadSpotlight(e),
                ),
              this.m_mapLoadingSpotlights.get(e));
        }
        async InternalLoadSpotlight(e) {
          let t = null;
          try {
            const a =
                m.TS.PARTNER_BASE_URL +
                "promotion/spotlights/ajaxloadspotlight",
              n = { spotlightid: e, sessionid: m.TS.SESSIONID },
              r = await i().get(a, { params: n });
            if (200 == r?.status && 1 == r.data?.success && r.data.spotlight)
              return (
                this.InternalAddSpotlight(r.data.spotlight),
                this.GetCallbackForSpotlightList().Dispatch(
                  this.m_rgSpotlights,
                ),
                this.GetCallbackForSpotlightID(e).Dispatch(r.data.spotlight),
                r.data.spotlight
              );
            t = (0, o.H)(r?.data);
          } catch (e) {
            t = (0, o.H)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.InternalLoadSpotlight: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        async AddSpotlight(e) {
          let t = null;
          try {
            const a =
                m.TS.PARTNER_BASE_URL +
                "promotion/spotlights/ajaxcreatenewspotlight",
              n = new FormData();
            n.append("sessionid", m.TS.SESSIONID),
              n.append("spotlight", JSON.stringify(e));
            const r = e.association;
            r?.appid && "application" == e.association_type
              ? n.append("nAppID", "" + r.appid)
              : r?.packageid && "package" == e.association_type
                ? n.append("nPackageID", "" + r.packageid)
                : r?.bundleid &&
                  "bundle" == e.association_type &&
                  n.append("nBundleID", "" + r.bundleid);
            const s = await i().post(a, n, { withCredentials: !0 });
            if (200 == s?.status && 1 == s.data?.success && s.data.spotlight)
              return (
                this.InternalAddSpotlight(e),
                this.GetCallbackForSpotlightList().Dispatch(
                  this.m_rgSpotlights,
                ),
                this.GetCallbackForSpotlightID(e.id).Dispatch(e),
                s.data.spotlight.id
              );
            t = (0, o.H)(s?.data);
          } catch (e) {
            t = (0, o.H)(e);
          }
          return (
            console.error(
              "CPartnerContactStore.AddSpotlight: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        SetSpotlight(e) {
          const t = this.m_rgSpotlights.findIndex((t) => t.id == e.id);
          this.m_mapSpotlights.set(e.id, e),
            t >= 0 &&
              ((this.m_rgSpotlights[t] = e),
              this.GetCallbackForSpotlightList().Dispatch(this.m_rgSpotlights)),
            this.GetCallbackForSpotlightID(e.id).Dispatch(e);
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.TS.WEB_UNIVERSE &&
                (window.g_SpotlightStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
        InternalAddSpotlight(e) {
          this.m_mapSpotlights.set(e.id, e), this.m_rgSpotlights.push(e);
        }
        Init() {
          let e = (0, m.Tc)("spotlightinfo", "application_config");
          this.ValidateStoreDefault(e) && e.forEach(this.InternalAddSpotlight);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name && "object" == typeof t[0].location &&
            "object" == typeof t[0].visibility
          );
        }
      }
      function u() {
        const [e, t] = s.useState(d.Get().GetAllSpotlights());
        return (0, c.hL)(d.Get().GetCallbackForSpotlightList(), t), e;
      }
      function p() {
        return { fnAddNewSpotlight: d.Get().AddSpotlight };
      }
      function _(e) {
        const [t, a] = (0, s.useState)(() => d.Get().GetSpotlightByID(e));
        return (
          (0, s.useEffect)(() => {
            e && e != t?.id && d.Get().LoadSpotlight(e).then(a);
          }, [t, e]),
          (0, c.hL)(d.Get().GetCallbackForSpotlightID(e), a),
          t
        );
      }
      (0, n.Cg)([c.oI], d.prototype, "LoadSpotlight", null),
        (0, n.Cg)([c.oI], d.prototype, "AddSpotlight", null),
        (0, n.Cg)([c.oI], d.prototype, "InternalAddSpotlight", null);
    },
    35700: (e, t, a) => {
      "use strict";
      a.d(t, { O: () => d });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(73523),
        l = a(68797),
        o = a(6419),
        c = a(30470);
      class m {
        async CreateCluster(e, t, a, n, r, o, m) {
          const d = `${c.TS.PARTNER_BASE_URL}cluster/ajaxcreatecluster`,
            u = new FormData();
          u.append("sessionid", c.TS.SESSIONID),
            u.append("pageid", (0, s.gw)(e)),
            u.append("name", t),
            u.append("layout", (0, s.J4)(e)),
            a && u.append("rtStartTime", "" + a),
            n && u.append("rtEndTime", "" + n),
            r && u.append("targetURL", r),
            o &&
              (u.append("storeItemID", "" + o),
              u.append("storeItemType", "" + m));
          let p = null;
          try {
            const e = await i().post(d, u, { withCredentials: !0 });
            if (200 == e?.status && 1 == e.data?.success && e.data.clusterid)
              return e.data.clusterid;
            p = { response: e };
          } catch (e) {
            p = e;
          }
          const _ = (0, l.H)(p);
          return (
            console.error(
              "CTakeOverTakeUnderAdaptationStore.CreateCluster: failed",
              _.strErrorMsg,
              _,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return m.s_Singleton || (m.s_Singleton = new m()), m.s_Singleton;
        }
      }
      function d() {
        return { fnCreateCluster: m.Get().CreateCluster };
      }
      (0, n.Cg)([o.o], m.prototype, "CreateCluster", null);
    },
    54965: (e, t, a) => {
      "use strict";
      a.d(t, { c: () => d });
      var n = a(41735),
        r = a.n(n),
        i = a(90626),
        s = a(54806),
        l = a(78327),
        o = a(58632),
        c = a.n(o);
      function m(e, t) {
        return {
          queryKey: ["useDailyDealReport", e, t],
          queryFn: async () =>
            (function (e) {
              const t = JSON.stringify(e);
              return (
                u.get(t) ||
                  u.set(
                    t,
                    new (c())(
                      async (t) => {
                        const a = `${l.TS.PARTNER_BASE_URL}promotion/dailydeals/ajaxgetdailydealreport/${e.nPartnerID}`,
                          n = new Map();
                        if (!t || 0 == t.length) return [];
                        const i = [...t],
                          s = [];
                        for (; i.length > 0; ) {
                          const t = new FormData(),
                            n = i.splice(0, 20);
                          t.append("sessionid", l.TS.SESSIONID),
                            t.append("strPromotionIDs", n.join(",")),
                            e.nPartnerID &&
                              t.append("publisherid", e.nPartnerID.toString()),
                            s.push(r().post(a, t, { withCredentials: !0 }));
                        }
                        return (
                          (await Promise.all(s)).forEach((e) => {
                            200 == e?.status &&
                            1 == e?.data?.success &&
                            e?.data?.reports
                              ? e.data.reports.forEach((e) => {
                                  n.set(e.promotionid, e);
                                })
                              : console.log(
                                  "Error: Failed loading promotion reports " +
                                    e?.status +
                                    " " +
                                    e?.statusText +
                                    " " +
                                    e?.data?.success,
                                );
                          }),
                          t.map((e) => n.get(e) ?? null)
                        );
                      },
                      {
                        maxBatchSize: 100,
                        batchScheduleFn: (e) => setTimeout(e, 200),
                      },
                    ),
                  ),
                u.get(t)
              );
            })(e).load(t),
          enabled: !!e,
          staleTime: 1 / 0,
        };
      }
      function d(e, t) {
        const a = i.useMemo(() => ({ nPartnerID: e }), [e]),
          n = (0, s.E)({ queries: t.map((e) => m(a, e)) }),
          r = n.some((e) => e.isLoading);
        return i.useMemo(() => {
          let e = new Map();
          return (
            r ||
              n.forEach((t) => {
                t.isSuccess && t.data && e.set(t.data.promotionid, t.data);
              }),
            e
          );
        }, [t, a, r]);
      }
      const u = new Map();
    },
    87529: (e, t, a) => {
      "use strict";
      a.d(t, { d: () => d, z: () => u });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(14947),
        l = a(68797),
        o = a(78327),
        c = a(90626);
      function m(e, t) {
        return `${e}|${t}`;
      }
      class d {
        m_mapPromise = new Map();
        constructor() {
          (0, s.Gn)(this);
        }
        m_mapSaleDetails = new Map();
        static s_globalSingletonStore;
        static Get() {
          return (
            d.s_globalSingletonStore ||
              ((d.s_globalSingletonStore = new d()),
              d.s_globalSingletonStore.Init()),
            d.s_globalSingletonStore
          );
        }
        Init() {}
        BHasSaleDetails(e, t) {
          return this.m_mapSaleDetails.has(m(e, t));
        }
        GetSaleDetails(e, t) {
          const a = m(e, t);
          return (
            this.m_mapSaleDetails.has(a) || this.FetchSalePageDetails(e, t),
            this.m_mapSaleDetails.get(a)
          );
        }
        async FetchSalePageDetails(e, t) {
          const a = m(e, t);
          return (
            this.m_mapPromise.has(a) ||
              this.m_mapPromise.set(a, this.InternalFetchSalePageDetails(e, t)),
            this.m_mapPromise.get(a)
          );
        }
        async InternalFetchSalePageDetails(e, t) {
          const a = m(e, t);
          if (this.m_mapSaleDetails.has(a)) return this.m_mapSaleDetails.get(a);
          this.m_mapSaleDetails.set(a, {});
          const n = { clanid: e, gid: t },
            r =
              o.TS.PARTNER_BASE_URL + "actions/ajaxgetpartnereventssaledetails";
          let s = null;
          try {
            const e = await i().get(r, { params: n, withCredentials: !0 });
            if (1 == e?.data?.success && e.data.details) {
              const t = e.data.details;
              return this.m_mapSaleDetails.set(a, t), t;
            }
            s = (0, l.H)(e?.data);
          } catch (e) {
            s = (0, l.H)(e);
          }
          return (
            console.warn("ajax request for " + a + " failed with error", s),
            null
          );
        }
      }
      function u(e, t) {
        const [a, n] = (0, c.useState)(() =>
          d.Get().BHasSaleDetails(e, t) ? d.Get().GetSaleDetails(e, t) : null,
        );
        return (
          (0, c.useEffect)(() => {
            d.Get().FetchSalePageDetails(e, t).then(n);
          }, [e, t, a]),
          a
        );
      }
      (0, n.Cg)([s.sH.shallow], d.prototype, "m_mapSaleDetails", void 0);
    },
    4130: (e, t, a) => {
      "use strict";
      a.d(t, { c: () => d });
      var n = a(34629),
        r = a(14947),
        i = a(78327),
        s = a(41735),
        l = a.n(s),
        o = a(68797),
        c = a(86921),
        m = a(17720);
      class d {
        constructor() {
          (0, r.Gn)(this);
        }
        static s_SaleEventStore;
        m_rgUpcoming = new Array();
        m_rgDraft = new Array();
        m_rgOldDraft = new Array();
        m_rgArchive = new Array();
        m_rgActive = new Array();
        m_rgSeasonFeatured = new Array();
        m_rgHiddenSeasonFeatured = new Array();
        static Get() {
          return (
            d.s_SaleEventStore ||
              ((d.s_SaleEventStore = new d()), d.s_SaleEventStore.Init()),
            d.s_SaleEventStore
          );
        }
        GetActiveEvents() {
          return this.m_rgActive;
        }
        GetUpcomingEvents() {
          return this.m_rgUpcoming;
        }
        GetArchiveEvents() {
          return this.m_rgArchive;
        }
        GetDraftEvents() {
          return this.m_rgDraft;
        }
        GetOldDraftEvents() {
          return this.m_rgOldDraft;
        }
        GetSeasonFeaturedEvents() {
          return this.m_rgSeasonFeatured;
        }
        GetSeasonFeaturedHiddenEvents() {
          return this.m_rgHiddenSeasonFeatured;
        }
        Init() {
          const e = (0, i.Tc)("saleeventstore", "application_config");
          if (this.ValidateStoreDefault(e)) {
            const t = Math.floor(Date.now() / 1e3),
              a = t - 2592e3;
            e.forEach((e) => {
              e.bVisible && e.rtEndTime && e.rtEndTime < t
                ? this.m_rgArchive.push(e)
                : e.bVisible && e.rtStartTime > t
                  ? this.m_rgUpcoming.push(e)
                  : e.bVisible
                    ? this.m_rgActive.push(e)
                    : e.rtLastModifiedTime > a && e.rtEndTime > t
                      ? this.m_rgDraft.push(e)
                      : this.m_rgOldDraft.push(e),
                e.bFeaturedNextSeasonalSale && this.m_rgSeasonFeatured.push(e);
            }),
              this.m_rgActive.sort((e, t) => e.rtStartTime - t.rtStartTime),
              this.m_rgDraft.sort((e, t) => e.rtStartTime - t.rtStartTime);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clanAccountID &&
            "string" == typeof t[0].clanEventGID
          );
        }
        async CreateSalePartnerEvent(e, t, a, n, r, s) {
          let d = i.TS.PARTNER_BASE_URL + "sales/ajaxcreatesalepartnerevent";
          const u = new FormData();
          u.append("sessionid", i.TS.SESSIONID),
            u.append("clanAccountID", "" + e),
            u.append("eventName", t),
            u.append("vanity", a),
            u.append("rtStartTime", "" + n),
            u.append("rtEndTime", "" + r);
          try {
            let t = await l().post(d, u, { cancelToken: s.token });
            if (
              t &&
              200 == t.status &&
              1 == t.data.success &&
              !s.token.reason
            ) {
              let a = m.b.InitFromClanID(e);
              return await c.O3.LoadHiddenPartnerEvent(a, t.data.eventEventGID);
            }
          } catch (e) {
            let t = (0, o.H)(e);
            console.log("CreateSalePartnerEvent Failed: " + t.strErrorMsg, t);
          }
          return null;
        }
      }
      (0, n.Cg)([r.XI], d.prototype, "Init", null);
    },
    38964: (e, t, a) => {
      "use strict";
      a.d(t, {
        FV: () => f,
        Hg: () => _,
        Pj: () => w,
        Pz: () => g,
        Q1: () => p,
        aV: () => E,
        b1: () => u,
        ek: () => S,
        hq: () => b,
        m2: () => y,
        z9: () => v,
        zS: () => h,
      });
      var n = a(90626),
        r = a(3311),
        i = a(52038),
        s = a(59403),
        l = a(61859),
        o = a(3088),
        c = a(32754),
        m = a(65),
        d = a(26408);
      function u(e) {
        const {
            children: t,
            hasImage: a,
            dimmed: s,
            backgroundImageUrl: l,
            backgroundColor: o,
            buttonPosition: c,
          } = e,
          m = o ? { "--background-color": o } : void 0;
        return n.createElement(
          "div",
          {
            className: (0, i.A)({
              [r.ItemContainer]: !0,
              [r.HasImage]: a,
              [r.ButtonsOnTop]: "top" == c,
              [r.ButtonsOnBottom]: "bottom" == c,
            }),
            style: m,
          },
          l &&
            n.createElement("img", {
              className: (0, i.A)(r.BackgroundImage, s && r.Dimmed),
              src: l,
            }),
          o &&
            n.createElement("div", {
              className: (0, i.A)(r.BackgroundColor, s && r.Dimmed),
              style: m,
            }),
          t,
        );
      }
      function p(e) {
        const { children: t, hasImage: a } = e;
        return n.createElement(
          "div",
          { className: (0, i.A)(r.ItemNameInfoContainer, a && r.HasImage) },
          t,
        );
      }
      function _(e) {
        const { children: t, inlineDate: a } = e;
        return n.createElement(
          "div",
          { className: (0, i.A)(r.ItemInfoHeader, a && r.InlineDate) },
          t,
        );
      }
      function g(e) {
        const { text: t, url: a, light: l, large: o } = e;
        return n.createElement(
          "span",
          { className: (0, i.A)(r.ItemName, l && r.Light, o && r.Large) },
          n.createElement(s.iN, { href: a, target: "_blank" }, t),
        );
      }
      function h(e) {
        const { imageUrl: t, url: a, tooltip: i } = e;
        return (
          t &&
          n.createElement(
            c.he,
            { className: r.ItemImage, toolTipContent: i },
            n.createElement(
              s.iN,
              { href: a, target: "_blank" },
              n.createElement("img", { src: t }),
            ),
          )
        );
      }
      function E(e) {
        const { linkUrl: t, title: a, eventType: l } = e,
          c = "imageUrl" in e ? [e.imageUrl] : e.imageUrls;
        if (!c?.length) return;
        let m;
        switch (l) {
          case "deadline":
            m = r.Deadline;
            break;
          case "deadline-urgent":
            m = r.Urgent;
            break;
          case "release-game":
            m = r.ReleaseGame;
            break;
          case "release-dlc":
            m = r.ReleaseDLC;
        }
        return n.createElement(
          "div",
          { className: r.CapsuleImage },
          n.createElement(
            s.iN,
            { href: t, target: "_blank" },
            n.createElement(o.c, { rgSources: c }),
          ),
          !!a &&
            n.createElement(
              "div",
              { className: (0, i.A)(r.CapsuleTitle, m) },
              a,
            ),
        );
      }
      function S(e) {
        const {
            startTimestamp: t,
            endTimestamp: a,
            largeDate: s,
            showTime: o,
          } = e,
          c = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
            hour: o ? "numeric" : void 0,
            minute: o ? "numeric" : void 0,
          }),
          d = new Intl.DateTimeFormat(navigator.language, {
            hour: "numeric",
            minute: "numeric",
          }),
          u = c.format(new Date(1e3 * t));
        let p = u;
        if (t !== a) {
          const e = c.format(new Date(1e3 * a)),
            n = d.format(new Date(1e3 * a));
          p =
            o &&
            (0, m.xi)(new Date(1e3 * t)).getTime() ===
              (0, m.xi)(new Date(1e3 * a)).getTime()
              ? (0, l.we)("#Dashboard_UpcomingEvents_Events_TimeRange", u, n)
              : (0, l.we)("#Dashboard_UpcomingEvents_Events_TimeRange", u, e);
        }
        return n.createElement(
          "span",
          { className: (0, i.A)(r.DateText, s && r.Large) },
          p,
        );
      }
      function y(e) {
        const { children: t } = e;
        return n.createElement("div", { className: r.LinkButtonContainer }, t);
      }
      function v(e) {
        const { url: t, children: a } = e;
        return (
          t?.length > 0 &&
          n.createElement(
            "button",
            {
              className: (0, i.A)(r.LinkButton),
              onClick: () => window.open(t, "_blank"),
            },
            a,
          )
        );
      }
      function f(e) {
        const { children: t } = e;
        return n.createElement(
          "div",
          { className: (0, i.A)(r.StatusItemRow) },
          t,
        );
      }
      function b(e) {
        const { complete: t, urgent: a, overrideLabel: s, overrideText: o } = e;
        let c = o;
        return (
          !o && t
            ? (c = (0, l.we)("#Dashboard_UpcomingEvents_Status_Complete"))
            : o ||
              t ||
              (c = (0, l.we)("#Dashboard_UpcomingEvents_Status_Incomplete")),
          n.createElement(
            "div",
            { className: r.StatusContainer },
            !s && (0, l.we)("#Dashboard_UpcomingEvents_Status_Text"),
            !!s && s,
            t && n.createElement("span", { className: r.StatusText }, c),
            !t &&
              n.createElement(
                "span",
                {
                  className: (0, i.A)(
                    r.StatusText,
                    a && r.IncompleteUrgent,
                    !a && r.Incomplete,
                  ),
                },
                c,
              ),
          )
        );
      }
      function w(e) {
        const {
          complete: t,
          urgent: a,
          label: s,
          status: o,
          tooltip: c,
          actionStatus: m,
          actionUrl: u,
        } = e;
        return n.createElement(
          "div",
          { className: r.StatusTodoContainer },
          n.createElement(
            "div",
            { className: r.StatusTodoColumn },
            n.createElement(
              "div",
              { className: r.StatusTodoLabelRow },
              t &&
                n.createElement(
                  "span",
                  { className: r.StatusTodoLabelCheck },
                  (0, l.we)("#Dashboard_UpcomingEvents_Checked"),
                ),
              !t &&
                n.createElement(
                  "span",
                  {
                    className: (0, i.A)(
                      r.StatusTodoLabelCheck,
                      a && r.IncompleteUrgent,
                      !a && r.Incomplete,
                    ),
                  },
                  (0, l.we)("#Dashboard_UpcomingEvents_Unchecked"),
                ),
              n.createElement("span", { className: r.StatusTodoLabel }, s),
            ),
            n.createElement(
              "div",
              { className: r.StatusTodoText },
              o,
              c && n.createElement(d.o, { tooltip: c }),
            ),
          ),
          m && u && n.createElement(v, { url: u }, m),
        );
      }
    },
    59403: (e, t, a) => {
      "use strict";
      a.d(t, {
        Gx: () => l,
        _w: () => d,
        ap: () => i,
        cG: () => m,
        iN: () => o,
        pc: () => c,
        sq: () => s,
      });
      var n = a(90626),
        r = a(61859);
      function i(e) {
        if (!e || 0 == e.trim().length) return null;
        try {
          return JSON.parse(e);
        } catch {
          return null;
        }
      }
      function s(e, t) {
        const a = new Set();
        return e.filter((e) => {
          const n = t(e);
          return !a.has(n) && (a.add(n), !0);
        });
      }
      function l(...e) {
        return [...new Set(e.flat())];
      }
      function o(e) {
        const { href: t, children: a } = e;
        return t
          ? n.createElement("a", { ...e }, a)
          : n.createElement(n.Fragment, null, a);
      }
      function c(e, t) {
        const a = {
            sText: (0, r.we)(
              "#Dashboard_UpcomingEvents_AppReleaseState_unavailable",
            ),
            sTooltip: (0, r.we)(
              "#Dashboard_UpcomingEvents_AppReleaseState_unavailable_Description",
            ),
            bPrereleaseOrReleased: !1,
          },
          n = {
            sText: (0, r.we)(
              "#Dashboard_UpcomingEvents_AppReleaseState_storepagenotlive",
            ),
            sTooltip: void 0,
            bPrereleaseOrReleased: !1,
          },
          i = {
            released: {
              sText: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_released",
              ),
              sTooltip: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_released_Description",
              ),
              bPrereleaseOrReleased: !0,
            },
            prerelease: {
              sText: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_prerelease",
              ),
              sTooltip: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_prerelease_Description",
              ),
              bPrereleaseOrReleased: !0,
            },
            ownersonly: {
              sText: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly",
              ),
              sTooltip: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_ownersonly_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
            preloadonly: {
              sText: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly",
              ),
              sTooltip: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_preloadonly_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
            disabled: {
              sText: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_disabled",
              ),
              sTooltip: (0, r.we)(
                "#Dashboard_UpcomingEvents_AppReleaseState_disabled_Description",
              ),
              bPrereleaseOrReleased: !1,
            },
          };
        let s = a;
        return e in i ? (s = i[e]) : t || (s = n), s;
      }
      function m(e) {
        if ("seasonalsale" == e.type) {
          const t = e.name.toLowerCase();
          if (t.includes("spring")) return "#dd71d4";
          if (t.includes("summer")) return "#29c6ec";
          if (t.includes("autumn")) return "#ac240c";
          if (t.includes("winter")) return "#01704f";
        }
      }
      function d(e) {
        let t = 0;
        for (let a = 0; a < e.length; a++) t = e.charCodeAt(a) + ((t << 5) - t);
        return `hsl(${t % 360}, ${50 + (t % 50)}%, ${40 + (t % 30)}%, 0.25)`;
      }
    },
    68225: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => wt, o: () => bt });
      var n = a(43527),
        r = a(97058),
        i = a(90626),
        s = a(17083),
        l = a(92757),
        o = a(14932),
        c = a(33428),
        m = a(6319),
        d = a(48996),
        u = a(96745),
        p = a(87924),
        _ = a(43552),
        g = a(87641),
        h = a(7247),
        E = a(82097),
        S = a(16676),
        y = a(95034),
        v = a(738),
        f = a(22797),
        b = a(51272),
        w = a(4434),
        D = a(56011),
        C = a(61859),
        I = a(78327),
        B = a(70986),
        T = a(55263),
        M = a(99637),
        A = a(76684),
        k = a(9154),
        R = a(12155),
        P = a(52038),
        N = a(41338),
        G = a(14771),
        O = a(30446),
        F = a.n(O);
      const L = "packageid";
      function U(e) {
        const { nInitialPackageID: t, closeModal: a } = e,
          [n, r] = i.useState(null),
          [s, l] = i.useState(""),
          [o, c] = i.useState(7),
          [m, u] = (0, y.QD)(L, 0),
          [g, h] = i.useState(t || m),
          { deepestDiscount: E } = (0, d.hC)(g),
          { mostRecentDiscount: f } = (0, d.XA)(i.useMemo(() => [g], [g])),
          b = (0, d.$p)(g),
          [w, D] = i.useState(0),
          I = (0, p.Gq)(g),
          [T, R] = i.useState(null),
          [N, O] = i.useState(null),
          U = (0, _.Ad)(N),
          z = !!T,
          x = !U,
          H = () => {
            u(null), a();
          },
          V = (e, t) => {
            const a = Math.max(e, t.rtStartDate);
            r(a);
            const n = Math.floor((t.rtEndDate - a) / G.Kp.PerDay);
            o > n && c(n);
          },
          Y = (e, t) => {
            if ((R(e), O(t), t)) {
              const a = (0, _.Z6)(t);
              l(a.name),
                c(Math.floor((a.end_date - a.start_date) / G.Kp.PerDay)),
                V(a.start_date, e);
            } else e && (l(""), c(7), V((0, B.M)(e.rtStartDate), e));
          },
          $ = s.trim().length && g > 0 && w >= d.sZ && w <= d.qT,
          J = n + o * G.Kp.PerDay,
          X = Math.floor(Date.now() / 1e3),
          Q = (0, B.M)(X),
          Z = (0, _.zL)(g);
        return i.createElement(
          k.eV,
          { bAllowFullSize: !1, onCancel: H, closeModal: H },
          i.createElement(
            S.Y9,
            null,
            (0, C.we)("#DiscountDashboard_Create_Title"),
          ),
          i.createElement(
            S.nB,
            null,
            i.createElement(
              "div",
              { className: F().CreateCustomDiscountCtn },
              i.createElement(
                "div",
                null,
                (0, C.we)("#DiscountDashboard_Create_Instructions"),
              ),
              i.createElement(
                "div",
                { className: F().Section },
                !g && i.createElement(W, null),
                i.createElement(j, {
                  selectedPackageID: g,
                  onSelect: (e) => {
                    h(e), Y(null, null);
                  },
                }),
              ),
              Boolean(Z + p.nu > X) &&
                i.createElement(
                  "div",
                  { className: F().CooldownWarning },
                  (0, C.we)(
                    "#DiscountDashboard_Create_PriceIncreaseCooldown",
                    (0, C.TW)(Z, !0, !1),
                  ),
                ),
              i.createElement(q, {
                packageID: g,
                rgScheduleRanges: I,
                selectedRange: T,
                selectedDiscountEventID: N,
                fnSelectRangeAndEvent: Y,
              }),
              z &&
                i.createElement(
                  i.Fragment,
                  null,
                  x &&
                    i.createElement(
                      i.Fragment,
                      null,
                      i.createElement(
                        "div",
                        { className: F().CustomInstructionsCtn },
                        (0, C.we)(
                          "#DiscountDashboard_Create_Instructions_CustomEvent",
                        ),
                        i.createElement("br", null),
                        (0, C.we)("#DiscountDashboard_Create_CustomEventNotes"),
                      ),
                      i.createElement(
                        "div",
                        { className: F().Section },
                        !s.trim().length && i.createElement(W, null),
                        i.createElement(S.pd, {
                          type: "text",
                          label: (0, C.we)(
                            "#DiscountDashboard_Create_DiscountNameInternal",
                          ),
                          placeholder: (0, C.we)(
                            "#DiscountDashboard_Create_PlaceholderName",
                          ),
                          value: s,
                          onChange: (e) => l(e.target.value),
                        }),
                      ),
                    ),
                  i.createElement(
                    "div",
                    { className: (0, P.A)(F().Section, F().DateCtn) },
                    i.createElement(M.K, {
                      strDescription: (0, C.we)(
                        "#DiscountDashboard_Create_DiscountStartDate",
                      ),
                      disabled: !x,
                      nEarliestTime: Math.max(T.rtStartDate, Q),
                      nLatestTime: T.rtEndDate - G.Kp.PerDay,
                      fnGetTimeToUpdate: () => n,
                      fnSetTimeToUpdate: (e) => V(e, T),
                      className: F().DatePicker,
                      bShowTimeZone: !0,
                      strAlsoShowTimeZone: B.o,
                    }),
                    i.createElement(
                      "div",
                      { className: F().DiscountLengthCtn },
                      i.createElement(S.pd, {
                        type: "number",
                        label: (0, C.we)(
                          "#DiscountDashboard_Create_DiscountLength",
                        ),
                        value: o,
                        onChange: (e) => {
                          const t = e.target.value,
                            a = Number(t || 0),
                            r = Math.floor((T?.rtEndDate - n) / G.Kp.PerDay),
                            i = Math.min(Math.min(14, r), Math.max(1, a));
                          c(i);
                        },
                        disabled: !x,
                        min: 1,
                        max: 14,
                      }),
                      Boolean(J) &&
                        i.createElement(
                          "div",
                          null,
                          (0, C.we)(
                            "#DiscountDashboard_Create_EndDate",
                            (0, C.TW)(J),
                            (0, A.pg)(J),
                          ),
                        ),
                    ),
                  ),
                  i.createElement(
                    "div",
                    { className: F().DiscountCtn },
                    i.createElement(
                      "div",
                      {
                        className: (0, P.A)(
                          F().Section,
                          F().DiscountPercentCtn,
                        ),
                      },
                      (w < d.sZ || w > d.qT) && i.createElement(W, null),
                      i.createElement(S.pd, {
                        type: "number",
                        label: (0, C.we)(
                          "#DiscountDashboard_Create_DiscountPct",
                        ),
                        value: w,
                        onChange: (e) => {
                          const t = e.target.value,
                            a = Number(t || 0);
                          0 <= a && a <= d.qT && D(a);
                        },
                        min: 10,
                        step: 5,
                        max: b,
                      }),
                    ),
                    i.createElement(
                      "div",
                      { className: F().DiscountHelperCtn },
                      i.createElement(
                        "div",
                        { className: F().HistoryLine },
                        (0, C.we)(
                          "#DiscountDashboard_Create_Instructions_DiscountPercentage",
                          b,
                        ),
                      ),
                      E &&
                        i.createElement(
                          "div",
                          { className: F().HistoryLine },
                          (0, C.we)(
                            "#DiscountDashboard_Create_DeepestPastDiscount",
                            E.nDiscountPct,
                          ),
                        ),
                      f &&
                        i.createElement(
                          "div",
                          { className: F().HistoryLine },
                          (0, C.we)(
                            "#DiscountDashboard_Create_MostRecentDiscount",
                            f.nDiscountPct,
                          ),
                        ),
                    ),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    { className: F().Instructions },
                    (0, C.we)("#DiscountDashboard_Create_TimingWarning"),
                  ),
                ),
            ),
          ),
          i.createElement(
            S.wi,
            null,
            i.createElement(S.CB, {
              onCancel: H,
              bOKDisabled: !$,
              onOK: () => {
                const e = {
                  packageID: g,
                  nDiscountPct: w,
                  strDiscountName: s,
                  strDiscountDescription: "#discount_desc_preset_special",
                  rtStartDate: n,
                  rtEndDate: J,
                  discountEventID: N,
                };
                (0, v.pg)(
                  i.createElement(K, { discount: e, fnOnSuccess: H }),
                  window,
                );
              },
              strOKText: (0, C.we)("#DiscountDashboard_Create_BtnCreate"),
              strCancelText: (0, C.we)("#DiscountDashboard_Create_BtnCancel"),
            }),
          ),
        );
      }
      function z(e) {
        const { range: t, fnSelectRangeAndEvent: a } = e;
        if (!t.bIsAvailable)
          return i.createElement(
            "div",
            { className: F().DiscountedRange },
            i.createElement(A.X0, {
              className: F().Dates,
              rtStartDate: t.rtStartDate,
              rtEndDate: t.rtEndDate,
            }),
            i.createElement(
              "div",
              { className: F().DiscountName },
              t.discount?.strDiscountName,
            ),
            i.createElement(
              "div",
              { className: F().DiscountPercentage },
              (0, C.we)(
                "#DiscountDashboard_Create_DiscountedPercentage",
                t.discount?.nDiscountPct,
              ),
            ),
          );
        const n = "new-custom-event",
          r = [];
        t.bMajorSaleOnly ||
          r.push({
            label: (0, C.we)("#DiscountDashboard_Create_CustomDiscount"),
            data: n,
          });
        for (const e of t.rgDiscountEventIDs) {
          const t = (0, _.Z6)(e);
          t.id.startsWith("weeklongdeal_") ||
            r.push({ label: t.name, data: t.id });
        }
        const s = (0, B.M)(Math.floor(Date.now() / 1e3));
        return i.createElement(
          "div",
          { className: F().AvailableRange },
          i.createElement(
            "div",
            { className: F().AvailableText },
            (0, C.we)("#DiscountDashboard_Create_AvailableTimeRange"),
            "  (",
            i.createElement(A.X0, {
              className: F().Dates,
              rtStartDate: Math.max(s, t.rtStartDate),
              rtEndDate: t.rtEndDate,
            }),
            " )",
          ),
          i.createElement(
            "div",
            { className: F().DiscountEventSelectDropDown },
            i.createElement(S.m, {
              strDropDownClassName: F().DropDownScroll,
              strDefaultLabel: (0, C.we)(
                "#DiscountDashboard_Create_SelectDiscountEventLabel",
              ),
              rgOptions: r,
              onChange: (e) => {
                a(t, e.data == n ? null : e.data);
              },
            }),
          ),
        );
      }
      function x(e) {
        const { range: t, strDiscountEventID: a, fnClearEvent: n } = e,
          r = (0, _.Ad)(a);
        return i.createElement(
          "div",
          { className: (0, P.A)(F().SelectedEvent, "landingTable") },
          i.createElement(
            "div",
            { className: "tr" },
            i.createElement(
              "div",
              { className: "th" },
              (0, C.we)("#DiscountDashboard_Create_SelectedDiscountEventLabel"),
            ),
            i.createElement(
              "div",
              { className: "th" },
              (0, C.we)("#DiscountDashboard_Create_AvailableRange"),
            ),
            i.createElement("div", { className: "th" }),
          ),
          i.createElement(
            "div",
            { className: "tr" },
            i.createElement(
              "div",
              { className: (0, P.A)(F().DiscountName, "td") },
              r
                ? r.name
                : (0, C.we)("#DiscountDashboard_Create_CustomDiscount"),
            ),
            i.createElement(A.X0, {
              className: (0, P.A)("td", F().Dates),
              rtStartDate: t.rtStartDate,
              rtEndDate: t.rtEndDate,
            }),
            i.createElement(
              "div",
              {
                className: (0, P.A)("td", F().ClearSelectedPackage),
                onClick: n,
              },
              i.createElement(R.X, null),
            ),
          ),
        );
      }
      function q(e) {
        const {
            packageID: t,
            rgScheduleRanges: a,
            selectedRange: n,
            selectedDiscountEventID: r,
            fnSelectRangeAndEvent: s,
          } = e,
          l = !t,
          o = !l && !!n,
          c = !l && !o && !a?.length,
          m = !l && !o && !c,
          d = m && !a?.some((e) => e.bIsAvailable);
        return i.createElement(
          "div",
          { className: F().Section },
          !n &&
            i.createElement(
              "div",
              { className: "DialogLabel" },
              (0, C.we)("#DiscountDashboard_Create_ScheduleSectionLabel"),
            ),
          l &&
            i.createElement(
              "div",
              { className: F().InstructionsCtn },
              (0, C.we)("#DiscountDashboard_Create_Instructions_ChoosePackage"),
            ),
          o &&
            i.createElement(x, {
              range: n,
              strDiscountEventID: r,
              fnClearEvent: () => s(null, null),
            }),
          c && i.createElement(f.t, { position: "center" }),
          m &&
            a.map((e, t) =>
              i.createElement(z, {
                key: t + e.rtStartDate,
                range: e,
                fnSelectRangeAndEvent: s,
              }),
            ),
          d &&
            i.createElement(
              "div",
              { className: F().Warning },
              (0, C.we)("#DiscountDashboard_Create_NoAvailabilityWarning"),
            ),
        );
      }
      function W(e) {
        return i.createElement(
          "div",
          { className: F().RequiredFieldWarning },
          (0, C.we)("#DiscountDashboard_Create_RequiredFieldWarning"),
        );
      }
      function j(e) {
        const { selectedPackageID: t, onSelect: a } = e,
          [n, r] = i.useState(""),
          [s, l] = i.useState(),
          o = (function () {
            const e = (0, u.zt)(),
              t = (0, T.gF)(e, {});
            return i.useMemo(() => {
              const a = new Map();
              if (1 == t) return a;
              const n = (e, t) => {
                const n = e?.toLocaleLowerCase().trim();
                n && (a.has(n) || a.set(n, []), a.get(n).push(t));
              };
              for (const t of e) {
                const e = E.A.Get().GetPackage(t);
                e &&
                  e.BIsVisible() &&
                  (n(e.GetName(), e),
                  n(e.GetID().toString(), e),
                  e.GetIncludedAppIDs()?.forEach((t) => {
                    const a = E.A.Get().GetApp(t);
                    n(a?.GetName(), e), n(t.toString(), e);
                  }));
              }
              return a;
            }, [e, t]);
          })();
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            { className: "DialogLabel" },
            (0, C.we)("#DiscountDashboard_Create_PackageSearchLabel"),
          ),
          t
            ? i.createElement(
                "div",
                { className: F().SelectedPackage },
                i.createElement(V, { packageID: t }),
                i.createElement(
                  "div",
                  {
                    className: F().ClearSelectedPackage,
                    onClick: () => a(null),
                  },
                  i.createElement(R.X, null),
                ),
              )
            : i.createElement(
                "div",
                { className: F().PackageSelector },
                i.createElement(S.pd, {
                  type: "text",
                  placeholder: (0, C.we)(
                    "#DiscountDashboard_Create_PackageSearchPlaceholder",
                  ),
                  value: n,
                  onChange: (e) => {
                    r(e.target.value);
                    const t = e.target.value.toLocaleLowerCase().trim();
                    if (!t) return void l(null);
                    const a = new Set();
                    o.forEach((e, n) => {
                      n.indexOf(t) >= 0 && e.forEach((e) => a.add(e));
                    });
                    const n = Array.from(a).sort((e, t) =>
                      (0, N.lY)(e.GetName(), t.GetName()),
                    );
                    l(n);
                  },
                  bShowClearAction: !0,
                }),
                i.createElement(H, {
                  strSearchKey: n,
                  rgSearchResults: s,
                  onSelect: (e) => {
                    r(""), l(null), a(e);
                  },
                }),
              ),
        );
      }
      function H(e) {
        const { strSearchKey: t, rgSearchResults: a, onSelect: n } = e;
        if (!t) return null;
        const r = a?.length ?? 0;
        let s;
        return (
          (s =
            0 == r
              ? (0, C.we)("#DiscountDashboard_Create_SearchResultsEmpty")
              : 1 == r
                ? (0, C.we)("#DiscountDashboard_Create_SearchResultsOne")
                : r <= 20
                  ? (0, C.we)("#DiscountDashboard_Create_SearchResultCount", r)
                  : (0, C.we)(
                      "#DiscountDashboard_Create_SearchResultCountWithLimit",
                      r,
                      20,
                    )),
          i.createElement(
            "div",
            { className: F().SearchResults },
            i.createElement("div", { className: F().SummaryLine }, s),
            i.createElement(
              "div",
              { className: F().PackageList },
              a
                ?.slice(0, 20)
                .map((e) =>
                  i.createElement(V, {
                    key: e.GetID(),
                    packageID: e.GetID(),
                    onSelect: n,
                  }),
                ),
            ),
          )
        );
      }
      function V(e) {
        const { packageID: t, onSelect: a } = e,
          [n, r] = (0, T.Gg)(t, {});
        return i.createElement(
          "div",
          { className: F().OnePackageResult, onClick: () => a?.(n?.GetID()) },
          i.createElement(
            "div",
            { className: F().PackageName },
            " ",
            n?.GetName(),
            " ",
          ),
        );
      }
      function K(e) {
        const { closeModal: t, discount: a, fnOnSuccess: n } = e,
          { fnSaveDiscount: r } = (0, d.gr)(),
          [s, l] = i.useState(null),
          o = (0, w.m)("SaveProgressDialog");
        return (
          i.useEffect(() => {
            (async () => {
              const e = await r(a);
              o.token.reason ||
                (1 == e.success
                  ? (n(), t())
                  : l(
                      e.msg ??
                        (0, C.we)("#DiscountDashboard_SaveDiscountsError"),
                    ));
            })();
          }, []),
          i.createElement(
            k.o0,
            {
              strTitle: (0, C.we)("#DiscountDashboard_Create_SaveDialogTitle"),
              bAlertDialog: !!s,
              bOKDisabled: !s,
              strOKButtonText: s
                ? (0, C.we)("#Button_Close")
                : (0, C.we)("#Button_OK"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            s ?? i.createElement(f.t, { position: "center" }),
          )
        );
      }
      var Y = a(42691),
        $ = a.n(Y),
        J = a(33299),
        X = a(84811),
        Q = a(95695),
        Z = a.n(Q),
        ee = a(20969),
        te = a.n(ee),
        ae = a(69423),
        ne = a(75233),
        re = a(44165),
        ie = a(32754),
        se = a(9554),
        le = a(81418),
        oe = a(41735),
        ce = a.n(oe),
        me = a(68797);
      class de {
        m_mapOptInDefs = new Map();
        m_mapInflightRequests = new Map();
        GetOptInPublicDefinition(e) {
          return this.m_mapOptInDefs.get(e);
        }
        async LoadOptInPublicDefinition(e) {
          return (
            this.m_mapInflightRequests.has(e) ||
              this.m_mapInflightRequests.set(
                e,
                this.InternalLoadOptInPublicDefinition(e),
              ),
            this.m_mapInflightRequests.get(e)
          );
        }
        async InternalLoadOptInPublicDefinition(e) {
          let t;
          try {
            const t =
                I.TS.PARTNER_BASE_URL + "optin/ajaxgetoptinpublicdefinition",
              a = { opt_in_name: e },
              n = await ce().get(t, { params: a });
            if (200 == n?.status && 1 == n?.data?.success && n?.data?.data) {
              const t = n.data.data;
              return (
                (0, le.Xd)(t),
                e.startsWith("sale_")
                  ? (this.m_mapOptInDefs.set(e, t),
                    this.m_mapOptInDefs.set(e.replace("sale_", ""), t))
                  : (this.m_mapOptInDefs.set(e, t),
                    this.m_mapOptInDefs.set("sale_" + e, t)),
                n.data.data
              );
            }
          } catch (e) {
            t = (0, me.H)(e);
          }
          return (
            console.error(
              "COptInAdmin::LoadOptInPublicDefinition Error loading: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            de.s_Singleton ||
              ((de.s_Singleton = new de()),
              ("dev" != I.TS.WEB_UNIVERSE && "beta" != I.TS.WEB_UNIVERSE) ||
                (window.g_OptInDefinitionStore = de.s_Singleton)),
            de.s_Singleton
          );
        }
        constructor() {}
      }
      function ue(e) {
        const [t, a] = (0, i.useState)(de.Get().GetOptInPublicDefinition(e));
        return (
          (0, i.useEffect)(() => {
            let n = ce().CancelToken.source();
            return (
              (t && t.pageid.replace("sale_", "") == e.replace("sale_", "")) ||
                de
                  .Get()
                  .LoadOptInPublicDefinition(e)
                  .then((e) => {
                    e && !n.token.reason && a(e);
                  }),
              () => n.cancel("useActiveOptInDefinition unmouted")
            );
          }, [t, e]),
          t
        );
      }
      var pe = a(56330),
        _e = a(85254),
        ge = a.n(_e),
        he = a(16856),
        Ee = a(75493);
      function Se(e) {
        const t = (0, p.WV)(),
          a = t?.length ?? 0,
          n = a > 0;
        return i.createElement(
          "div",
          { className: (0, P.A)(ge().ToolbarInfo, n && ge().Visible) },
          i.createElement(
            "div",
            { className: ge().ChangeCount },
            (0, C.Yp)("#PackageGrid_PendingChangeCount", a),
          ),
          i.createElement(
            "div",
            { className: ge().Buttons },
            i.createElement(
              S.$n,
              {
                onClick: (e) =>
                  (0, v.pg)(i.createElement(ve, null), (0, D.uX)(e)),
                disabled: 0 == a,
                className: (0, P.A)(ge().Button, ge().SaveButton),
              },
              (0, C.we)("#PackageGrid_SaveChangesDialogButton"),
            ),
            i.createElement(
              S.$n,
              {
                className: ge().Button,
                onClick: (e) =>
                  (0, v.pg)(i.createElement(Ce, null), (0, D.uX)(e)),
              },
              (0, C.we)("#PackageGrid_DiscardChangesDialogButton"),
            ),
          ),
        );
      }
      function ye() {
        return i.useCallback(
          (e, t) =>
            (0, v.pg)(i.createElement(ve, { strContinueUrl: t }), (0, D.uX)(e)),
          [],
        );
      }
      function ve(e) {
        const { closeModal: t, strContinueUrl: a } = e,
          n = (0, p.WV)(),
          r = (0, p.l4)(),
          s = !!a,
          l = (0, C.we)(
            s
              ? "#PackageGrid_NavigationWarning_Title"
              : "#DiscountDashboard_SaveDiscountsTitle",
          ),
          o = n.filter((e) => !!e.nDiscountID).length,
          c = n.filter((e) => !e.nDiscountID).length,
          m =
            c > 0 && o > 0
              ? (0, C.we)("#DiscountDashboard_SaveDiscountsExplanation", o, c)
              : o > 0
                ? (0, C.Yp)(
                    "#DiscountDashboard_SaveDiscountsExplanation_UpdateOnly",
                    o,
                  )
                : (0, C.Yp)(
                    "#DiscountDashboard_SaveDiscountsExplanation_CreateOnly",
                    c,
                  ),
          u = n.some((e) => e.nDiscountPct > 0 && e.nDiscountPct < 10),
          _ = (0, d.XL)(n),
          g = Math.floor(Date.now() / 1e3),
          h = n.some((e) => e.rtStartDate < g),
          E = () => {
            a && (window.location.href = a);
          },
          y = () => {
            e.closeModal(),
              (0, v.pg)(
                i.createElement(be, {
                  rgLocalPackageDiscountOverrides: n,
                  fnOnSuccess: E,
                }),
                window,
              );
          };
        return i.createElement(
          k.eV,
          {
            onOK: y,
            onCancel: e.closeModal,
            bDestructiveWarning: s,
            closeModal: t,
          },
          i.createElement(S.Y9, null, " ", l, " "),
          i.createElement(
            S.nB,
            null,
            i.createElement(
              S.a3,
              null,
              s &&
                i.createElement(
                  "div",
                  { className: ge().NavigationWarning },
                  (0, C.we)("#PackageGrid_NavigationWarning"),
                ),
              m,
              u &&
                i.createElement(
                  "div",
                  { className: ge().DiscountTooLowWarning },
                  (0, C.we)(
                    "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                  ),
                ),
              _ &&
                i.createElement(
                  "div",
                  { className: ge().DiscountTooHighWarning },
                  (0, C.we)(
                    "#DiscountDashboard_SaveDiscountsWarning_SomeDiscountTooHigh",
                  ),
                ),
              i.createElement(we, {
                rgLocalPackageDiscountOverrides: n,
                bMarkupStartTimeBeforeNow: !0,
              }),
              h &&
                i.createElement(
                  "div",
                  { className: ge().DiscountStartImmediately },
                  i.createElement(
                    "div",
                    { className: ge().ProgressIcon },
                    i.createElement(R.FEq, null),
                  ),
                  i.createElement(
                    "p",
                    null,
                    (0, C.we)(
                      "#DiscountDashboard_SaveDiscountsWarning_ImmediateStartingDiscount",
                    ),
                  ),
                ),
            ),
            i.createElement(
              S.wi,
              null,
              s
                ? i.createElement(S.VQ, {
                    strOKText: (0, C.we)("#Button_Save"),
                    onOK: y,
                    bOKDisabled: u || _,
                    strUpdateText: (0, C.we)(
                      "#PackageGrid_NavigateWithoutSavingButton",
                    ),
                    onUpdate: () => {
                      r([]), e.closeModal(), E();
                    },
                    onCancel: e.closeModal,
                  })
                : i.createElement(S.CB, {
                    strOKText: (0, C.we)("#Button_Save"),
                    onOK: y,
                    bOKDisabled: u || _,
                    onCancel: e.closeModal,
                  }),
            ),
          ),
        );
      }
      function fe(e) {
        const t = e.map((e) => e.nDiscountID).filter((e) => !!e),
          a = (0, d.a8)(t);
        return i.useMemo(() => {
          const t = new Map();
          for (const n of e)
            if (n.nDiscountID) {
              const e = a.get(n.nDiscountID)?.nDiscountPct ?? 0;
              t.set(n.nDiscountID, e);
            }
          return t;
        }, [e]);
      }
      function be(e) {
        const {
            closeModal: t,
            rgLocalPackageDiscountOverrides: a,
            fnOnSuccess: n,
          } = e,
          r = (0, p.ew)(),
          { fnSaveDiscount: s, fnDeleteDiscount: l } = (0, d.gr)(),
          [o, c] = i.useState(0),
          [m, u] = i.useState(null),
          g = (0, w.m)("SaveProgressDialog"),
          h = fe(a),
          E = i.useRef(new Map()),
          { bEditingDailyDealDiscount: S } = (0, _.u7)();
        i.useEffect(() => {
          (async () => {
            for (let e = 0; e < a.length; e++) {
              c(e);
              const t = a[e],
                n = await (t.nDiscountPct > 0
                  ? s(t)
                  : l(t.nDiscountID, t.packageID, t.discountEventID));
              if (
                (1 == n.success && r(t.packageID, t.discountEventID),
                g.token.reason)
              )
                return;
              if (1 != n.success)
                return void u(
                  n.msg ?? (0, C.we)("#DiscountDashboard_SaveDiscountsError"),
                );
              n.msg && E.current.set(e, n.msg);
            }
            c(a.length);
          })();
        }, []);
        const y = (e) =>
            e != o || m
              ? e == o
                ? i.createElement(
                    "div",
                    { className: ge().ProgressIconError },
                    i.createElement(R.X, null),
                  )
                : e < o && E.current.has(e)
                  ? i.createElement(
                      ie.he,
                      {
                        toolTipContent: E.current.get(e),
                        direction: "overlay",
                        className: ge().ProgressIconWarning,
                        strTooltipClassname: ge().HoverToolTip,
                      },
                      i.createElement(R.eTF, { color: "#e5af37" }),
                    )
                  : e < o
                    ? i.createElement(
                        "div",
                        { className: ge().ProgressIconCheck },
                        i.createElement(R.Jlk, null),
                      )
                    : i.createElement("div", {
                        className: ge().ProgressIconBlank,
                      })
              : i.createElement(f.t, { className: ge().ProgressIconThrobber }),
          v = !m && o < a.length,
          b = (0, Ee.V)(),
          D = i.useCallback(() => {
            window.location.assign(
              `${I.TS.PARTNER_BASE_URL}promotion${he.PromotionRoutes.DailyDealPartnerDashboard("" + b)}`,
            );
          }, [b]);
        let B, T, M;
        return (
          S
            ? ((B = D),
              (T = (0, C.we)("#PackageGrid_ReturnToDailyDealDashboard")),
              (M = v
                ? (0, C.we)("#Button_Cancel")
                : (0, C.we)("#Button_Close")))
            : ((B = m ? t : n),
              (T = m ? (0, C.we)("#Button_Close") : (0, C.we)("#Button_OK")),
              (M = (0, C.we)("#Button_Cancel"))),
          i.createElement(
            k.o0,
            {
              strTitle: v
                ? (0, C.we)("#PackageGrid_SaveInProgress")
                : (0, C.we)("#PackageGrid_SaveComplete"),
              bAlertDialog: !!m || (!v && !S),
              bOKDisabled: v,
              strOKButtonText: T,
              onOK: B,
              strCancelButtonText: M,
              onCancel: () => g.cancel("cancelled by user"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            m,
            i.createElement(
              "div",
              { className: ge().SeeDetailsSection },
              i.createElement(
                "div",
                { className: ge().DiscountSummaryList },
                a.map((e, t) =>
                  i.createElement(
                    "div",
                    {
                      className: ge().ProgressRow,
                      key: e.packageID + "-" + e.discountEventID,
                    },
                    i.createElement(De, {
                      icon: y(t),
                      discount: e,
                      nPreviousDiscountPct: h.get(e.nDiscountID) ?? 0,
                    }),
                  ),
                ),
              ),
            ),
          )
        );
      }
      function we(e) {
        const {
            rgLocalPackageDiscountOverrides: t,
            bMarkupStartTimeBeforeNow: a,
          } = e,
          [n, r] = i.useState(t.length < 9),
          s = fe(t),
          l = Math.floor(Date.now() / 1e3);
        return i.createElement(
          "div",
          { className: ge().SeeDetailsSection },
          n
            ? i.createElement(
                "div",
                { className: ge().DiscountSummaryList },
                t.map((e) =>
                  i.createElement(De, {
                    discount: e,
                    key: e.packageID + "-" + e.discountEventID,
                    icon:
                      a && e.rtStartDate < l
                        ? i.createElement(R.FEq, null)
                        : void 0,
                    nPreviousDiscountPct: s.get(e.nDiscountID) ?? 0,
                  }),
                ),
              )
            : i.createElement(
                S.$n,
                { onClick: () => r(!0), className: ge().SeeDetailsButton },
                (0, C.we)("#PackageGrid_SeePendingChanges"),
              ),
        );
      }
      function De(e) {
        const { discount: t, nPreviousDiscountPct: a, icon: n } = e,
          r = (0, c.vV)(t.discountEventID),
          s = (0, d.$p)(t.packageID),
          l = E.A.Get().GetPackage(t.packageID)?.GetName() ?? t.packageID,
          o = r?.name ?? t.strDiscountName,
          m = (0, A.l1)(t.rtStartDate, t.rtEndDate),
          u = t.nDiscountPct > 0 && t.nDiscountPct < 10,
          p = t.nDiscountPct > s,
          _ =
            (u &&
              (0, C.we)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
              )) ||
            (p &&
              (0, C.we)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                s,
              ));
        return i.createElement(
          "div",
          {
            className: (0, P.A)(
              ge().DiscountSummary,
              u && ge().DiscountTooLow,
              p && ge().DiscountTooHigh,
            ),
          },
          i.createElement("div", { className: ge().ProgressIcon }, n),
          i.createElement(
            ie.he,
            {
              toolTipContent: `${t.packageID}: ${l}`,
              direction: "overlay",
              className: ge().PackageName,
              strTooltipClassname: ge().HoverToolTip,
            },
            l,
          ),
          i.createElement(
            ie.he,
            {
              bDisabled: !_,
              toolTipContent: _,
              direction: "left",
              className: ge().DiscountDelta,
              strTooltipClassname: ge().HoverToolTip,
            },
            i.createElement(
              "span",
              { className: ge().PreviousDiscount },
              a + "%",
            ),
            i.createElement(
              "span",
              { className: ge().DiscountArrow },
              i.createElement(R.i3G, { angle: 90 }),
            ),
            i.createElement(
              "span",
              { className: ge().NewDiscount },
              t.nDiscountPct + "%",
            ),
            p &&
              i.createElement(
                "span",
                { className: ge().MaxDiscount },
                "(" + s + "%)",
              ),
          ),
          i.createElement(
            ie.he,
            {
              toolTipContent: `${o}: ${m}`,
              direction: "left",
              className: ge().DiscountEventName,
              strTooltipClassname: ge().HoverToolTip,
            },
            o,
          ),
        );
      }
      function Ce(e) {
        const { closeModal: t } = e,
          a = (0, p.WV)(),
          n = (0, p.l4)(),
          r = (0, C.Yp)(
            "#DiscountDashboard_DiscardChangesExplanation",
            a.length,
          );
        return i.createElement(
          k.o0,
          {
            strTitle: (0, C.we)("#PackageGrid_DiscardChangesTitle"),
            strOKButtonText: (0, C.we)("#PackageGrid_DiscardChangesButton"),
            onOK: () => {
              const e = new Set(a.map((e) => e.packageID));
              n(Array.from(e));
            },
            bDestructiveWarning: !0,
            closeModal: t,
          },
          r,
          i.createElement(we, { rgLocalPackageDiscountOverrides: a }),
        );
      }
      function Ie(e) {
        const { packageState: t, strMessage: a } = e,
          n = (0, p.ZM)(),
          r = ye(),
          s = t.optInReg.opt_in_name.replace("sale_", ""),
          l = I.TS.PARTNER_BASE_URL + "optin/sale/" + s + "/" + t.nBaseAppID;
        return i.createElement(
          J.Xr,
          {
            href: l,
            strClassName: te().RegistrationLink,
            fnBLocalChangesExist: n,
            fnWarnUser: r,
          },
          a,
        );
      }
      function Be(e) {
        const { packageState: t, strMessage: a } = e,
          n = t.optInReg.opt_in_name.replace("sale_", ""),
          r = ue(n),
          s = (0, m.O4)(n, t.nBaseAppID);
        return !r || (0, le.sp)(r, s)
          ? i.createElement(Ie, { ...e })
          : i.createElement(
              "div",
              {
                className: (0, P.A)(te().RegistrationLink, te().TheLinkItself),
                onClick: (e) =>
                  (0, v.pg)(
                    i.createElement(Te, { packageState: t, strOptInName: n }),
                    (0, D.uX)(e),
                  ),
              },
              a,
            );
      }
      function Te(e) {
        const { strOptInName: t, closeModal: a, packageState: n } = e,
          r = ue(t),
          s = (0, p.QD)(),
          [l, o] = (0, i.useState)(null),
          [c, d] = (0, i.useState)(!1);
        return i.createElement(
          k.o0,
          {
            strTitle: (0, C.we)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            strOKButtonText: (0, C.we)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            onOK: () => {
              d(!0),
                m.uL
                  .Get()
                  .RegisterAppForOptIn(n.nBaseAppID, t)
                  .then((e) => {
                    e
                      ? o(e)
                      : (s(n.nBaseAppID, n.discountEventID),
                        (0, v.pg)(
                          i.createElement(k.o0, {
                            strTitle: (0, C.we)("#Button_Done"),
                            strDescription: (0, C.we)(
                              "#EventDisplay_Share_Success",
                            ),
                            closeModal: a,
                            bAlertDialog: !0,
                          }),
                          window,
                        ));
                  });
            },
            onCancel: a,
            bOKDisabled: Boolean(l),
          },
          i.createElement(
            "div",
            { className: te().EventTitle },
            r.event_title[I.TS.LANGUAGE] || r.event_title.english,
          ),
          i.createElement(
            "div",
            { className: te().EventDates },
            (0, C.TW)(r.event_start_date),
            " - ",
            (0, C.TW)(r.event_end_date),
          ),
          i.createElement("br", null),
          i.createElement(
            "div",
            { className: te().RegistrationDesc },
            (0, C.we)("#DiscountDashboard_OptIn_QuickRegistration_Desc"),
          ),
          Boolean(l) &&
            i.createElement(
              "div",
              { className: pe.ErrorStylesWithIcon },
              l,
              " ",
            ),
          Boolean(c && !l) &&
            i.createElement(f.t, {
              string: (0, C.we)("#Saving"),
              position: "center",
              size: "small",
            }),
        );
      }
      function Me(e) {
        const { cell: t, column: a } = e,
          n = t.getValue(),
          { packageState: r, fnSetDiscountPct: s } = (0, p.zP)(
            n?.packageID,
            n?.discountEventID,
          ),
          l = a.columnDef.meta.arbitraryData,
          o = (0, re.f1)(),
          c = (0, d.$p)(n?.packageID),
          m = l?.start_date < o;
        if (!r) return null;
        const u = [te().DataCell];
        r.bChangedLocally && u.push(te().ChangedLocally);
        let _ = null,
          g = r.bChangedLocally;
        switch (r.eState) {
          case 0:
            u.push(te().DataLoading), (_ = null);
            break;
          case 1:
            u.push(te().NoConflict);
            let e = null,
              t = r.discount?.nDiscountPct || 0;
            t > 0
              ? (u.push(te().HasDiscount),
                t < 10
                  ? (u.push(te().DiscountTooLow),
                    (e = (0, C.we)(
                      "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                    )))
                  : t > c &&
                    (u.push(te().DiscountTooHigh),
                    (e = g
                      ? 0 == c
                        ? (0, C.we)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh_MaxZero",
                            c,
                          )
                        : (0, C.we)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                            c,
                          )
                      : 0 == c
                        ? (0, C.we)(
                            "#DiscountDashboard_ExistingDiscountTooHigh_MaxZero",
                            c,
                          )
                        : (0, C.we)(
                            "#DiscountDashboard_ExistingDiscountTooHigh",
                            c,
                          ))))
              : u.push(te().NoDiscount),
              m && t > 0 && !g
                ? (u.push(te().LiveEvent),
                  (_ = i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(Re, { packageState: r }),
                    !!r.optInReg &&
                      r.nBaseAppID &&
                      i.createElement(Ie, {
                        packageState: r,
                        strMessage: (0, C.we)(
                          "#DiscountDashboard_OptIn_Grid_ViewOptInLink",
                        ),
                      }),
                  )))
                : (_ = i.createElement(
                    i.Fragment,
                    null,
                    !!e && i.createElement(Ae, { strToolTip: e }),
                    i.createElement(ke, {
                      packageState: r,
                      fnSetDiscountPct: s,
                    }),
                    !!r.optInReg &&
                      r.nBaseAppID &&
                      i.createElement(Ie, {
                        packageState: r,
                        strMessage: (0, C.we)(
                          "#DiscountDashboard_OptIn_Grid_OptInLink",
                        ),
                      }),
                  ));
            break;
          case 2:
            u.push(te().NeedsOptIn),
              (_ = i.createElement(Be, {
                packageState: r,
                strMessage: (0, C.we)(
                  "#DiscountDashboard_OptIn_Grid_OptInRequired",
                ),
              }));
            break;
          case 3:
            u.push(te().OptInOptedOut),
              (_ = i.createElement(Ie, {
                packageState: r,
                strMessage: (0, C.we)("#DiscountDashboard_OptIn_Grid_OptedOut"),
              }));
            break;
          case 4:
          case 10:
            u.push(te().OptInRestricted),
              (_ = i.createElement(
                ie.he,
                {
                  className: te().TextCell,
                  toolTipContent: (0, C.we)(
                    "#DiscountDashboard_OptIn_Grid_Ineligible_NA_tooltip",
                  ),
                },
                (0, C.we)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
              ));
            break;
          case 5:
            u.push(te().OptInNoBaseAppToRegister),
              (_ = i.createElement(
                "div",
                { className: te().TextCell },
                (0, C.we)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_NoBaseGame",
                ),
              ));
            break;
          case 11:
            u.push(te().OptInNoBaseAppToRegister),
              (_ = i.createElement(
                "div",
                { className: te().TextCell },
                (0, C.we)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_RegisterBaseGame",
                ),
              ));
            break;
          case 6:
            u.push(te().JustReleased),
              (_ = i.createElement(Pe, { packageState: r }));
            break;
          case 7:
            u.push(te().PriceIncreased),
              (_ = i.createElement(Pe, { packageState: r }));
            break;
          case 8:
          case 9:
            u.push(te().CooldownWindow),
              (_ = i.createElement(Pe, { packageState: r }));
        }
        return i.createElement(
          "div",
          { className: (0, P.A)(...u), onKeyDown: se.nm },
          _,
        );
      }
      function Ae(e) {
        const { strToolTip: t } = e;
        return i.createElement(
          ie.he,
          {
            className: te().DiscountRangeWarning,
            toolTipContent: t,
            direction: "left",
          },
          i.createElement(R.eTF, { color: "#ff5b29" }),
        );
      }
      function ke(e) {
        const { packageState: t, fnSetDiscountPct: a } = e,
          n = (0, p.ew)(),
          r = t?.discount?.nDiscountPct?.toString() ?? "0";
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(S.pd, {
            value: r,
            className: te().DiscountInput,
            onChange: (e) => {
              const n = e.target.value,
                r = Number(n || 0);
              if (0 <= r && r <= d.qT) {
                r != (t.discount?.nDiscountPct ?? 0) && a(r);
              }
            },
            onFocus: (e) => {
              e.target.select();
            },
          }),
          i.createElement("div", { className: te().CellPct }, "%"),
          t.bChangedLocally &&
            i.createElement(
              ie.he,
              {
                className: te().ResetButtonCtn,
                toolTipContent: (0, C.we)("#PackageGrid_ResetButton_Tooltip"),
              },
              i.createElement(
                "div",
                {
                  className: te().ResetButton,
                  onClick: () => {
                    n(t.packageID, t.discountEventID);
                  },
                },
                i.createElement(R.VnB, null),
              ),
            ),
        );
      }
      function Re(e) {
        const { packageState: t } = e,
          a = t?.discount?.nDiscountPct?.toString() ?? "0";
        return i.createElement(
          "div",
          { className: te().DiscountValueCtn },
          i.createElement("div", { className: te().DiscountInput }, a),
          i.createElement("div", { className: te().CellPct }, "%"),
        );
      }
      function Pe(e) {
        const { packageState: t } = e;
        return i.createElement(
          ie.m9,
          {
            className: te().ConflictWarning,
            toolTipContent: i.createElement(Ne, { packageState: t }),
          },
          i.createElement(
            "div",
            null,
            (0, C.we)("#DiscountDashboard_ConflictWarning"),
          ),
          i.createElement(R._VW, null),
        );
      }
      function Ne(e) {
        const { packageState: t } = e;
        (0, _.Ad)(t.discountEventID);
        let a = null;
        switch (t.eState) {
          case 6:
            a = (0, C.we)("#DiscountDashboard_Conflict_JustReleased", p.T1);
            break;
          case 7:
            a = (0, C.we)("#DiscountDashboard_Conflict_PriceIncreased", p.T1);
            break;
          case 8:
            a = (0, C.we)("#DiscountDashboard_Conflict_PreviousDiscount", p.T1);
            break;
          case 9:
            a = (0, C.we)("#DiscountDashboard_Conflict_OverlappingDiscount");
        }
        return i.createElement(
          "div",
          { className: te().ConflictToolTip },
          i.createElement(R.zD7, null),
          i.createElement(
            "div",
            { className: te().ConflictText },
            i.createElement(
              "div",
              { className: te().ConflictExplanationText },
              a,
            ),
            t.rgConflictDetails?.map((e, t) =>
              i.createElement(
                "div",
                { key: t, className: te().ConflictDetailText },
                e,
              ),
            ),
          ),
        );
      }
      var Ge = a(40441),
        Oe = a.n(Ge);
      function Fe(e) {
        const { row: t } = e,
          a = t.original.packageID,
          [n, r] = (0, _.Fs)();
        switch (n) {
          case "most-recent":
            return i.createElement(ze, { packageID: a });
          case "next-available":
            return i.createElement(xe, { packageID: a });
          default:
            return i.createElement(Ue, { packageID: a });
        }
      }
      function Le(e) {
        const { row: t } = e,
          a = t.original.packageID;
        return i.createElement(
          "div",
          { className: te().ButtonCell },
          i.createElement(
            S.$n,
            {
              onClick: (e) =>
                (0, v.pg)(
                  i.createElement(U, { nInitialPackageID: a }),
                  (0, D.uX)(e),
                ),
            },
            (0, C.we)("#DiscountDashboard_CreateDiscountButton_Row"),
          ),
        );
      }
      function Ue(e) {
        const { packageID: t } = e,
          { deepestDiscount: a, bLoading: n } = (0, d.hC)(t);
        if (n)
          return i.createElement(f.t, {
            className: Oe().GridRowLoadingThrobber,
          });
        const r = a?.nDiscountPct ?? 0,
          s = a
            ? (0, C.we)(
                "#DiscountDashboard_DeepestPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.$z)(a.rtStartDate),
              )
            : (0, C.we)("#DiscountDashboard_NeverDiscounted");
        return i.createElement(ie.he, { toolTipContent: s }, r + "%");
      }
      function ze(e) {
        const { packageID: t } = e,
          { mostRecentDiscount: a, bLoading: n } = (0, d.XA)([t]);
        if (n)
          return i.createElement(f.t, {
            className: Oe().GridRowLoadingThrobber,
          });
        const r = a?.nDiscountPct ?? 0,
          s = a
            ? (0, C.we)(
                "#DiscountDashboard_LastPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.$z)(a.rtStartDate),
              )
            : (0, C.we)("#DiscountDashboard_NeverDiscounted");
        return i.createElement(ie.he, { toolTipContent: s }, r + "%");
      }
      function xe(e) {
        const { packageID: t } = e,
          a = (0, p.Gq)(t),
          n = (0, re.f1)();
        let r = (0, C.we)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never",
          ),
          s = (0, C.we)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never_ttip",
          );
        for (const e of a)
          if (e.bIsAvailable) {
            e.rtStartDate <= n
              ? ((r = (0, C.we)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now",
                )),
                (s = (0, C.we)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now_ttip",
                )))
              : ((r = (0, C._l)(e.rtStartDate)),
                (s = (0, C.we)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_ttip",
                )));
            break;
          }
        return i.createElement(ie.he, { toolTipContent: s }, r);
      }
      function qe() {
        const [e, t] = (0, _.Fs)(),
          a = [
            {
              label: (0, C.we)(
                "#DiscountDashboard_GridColumn_DeepestPastDiscount",
              ),
              data: "deepest-past",
            },
            {
              label: (0, C.we)(
                "#DiscountDashboard_GridColumn_MostRecentDiscount",
              ),
              data: "most-recent",
            },
            {
              label: (0, C.we)(
                "#DiscountDashboard_GridColumn_NextAvailableDiscount",
              ),
              data: "next-available",
            },
          ];
        return i.createElement(
          ie.he,
          {
            toolTipContent: (0, C.we)(
              "#DiscountDashboard_GridColumn_RelatedDiscount_ttip",
            ),
            className: Oe().RelatedInfoPickerCtn,
          },
          i.createElement(
            "div",
            { className: Oe().RelatedInfoPicker },
            i.createElement(S.m, {
              strDropDownClassName: Oe().RelatedInfoDropDown,
              strDropDownItemClassName: Oe().RelatedInfoDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: a,
              selectedOption: e,
              onChange: (e) => t(e.data),
            }),
          ),
        );
      }
      function We() {
        return i.createElement(
          "div",
          { className: Oe().EventDetails },
          i.createElement(
            "div",
            { className: Oe().EventName },
            (0, C.we)("#DiscountDashboard_GridColumn_NewDiscount_title"),
          ),
          i.createElement(
            "div",
            { className: Oe().EventDates },
            (0, C.we)("#DiscountDashboard_GridColumn_NewDiscount_desc"),
          ),
        );
      }
      function je() {
        const {
            strPriceKey: e,
            rgSupportedPriceKeys: t,
            fnSetPriceKey: a,
          } = (0, ae.T7)(),
          n = t.map((e) => ({ label: e, data: e }));
        return i.createElement(
          ie.he,
          {
            toolTipContent: (0, C.we)(
              "#DiscountDashboard_GridColumn_BasePrice_ttip",
            ),
          },
          i.createElement(
            "div",
            { className: Oe().BasePriceTitle },
            (0, C.we)("#DiscountDashboard_GridColumn_BasePrice"),
          ),
          i.createElement(
            "div",
            { className: Oe().CurrencyPicker },
            i.createElement(S.m, {
              strDropDownClassName: Oe().CurrencyDropDown,
              strDropDownItemClassName: Oe().CurrencyDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: n,
              selectedOption: e,
              onChange: (e) => a(e.data),
            }),
          ),
        );
      }
      function He(e) {
        const { row: t } = e,
          a = t.original.packageID,
          n = (0, ae.fZ)(a);
        return i.createElement(
          "div",
          { className: Oe().BasePriceDisplay },
          n ?? "--",
        );
      }
      function Ve(e) {
        return e + "-event-column";
      }
      const Ke = "createnew";
      function Ye(e) {
        const { column: t } = e,
          { fnBLocalChangesExist: a, fnWarnUser: n, client: r } = (0, J.HA)(),
          s = (0, re.f1)(),
          { strSelectedEvent: l, fnSelectEvent: o } = (0, _.u7)(),
          c = t.columnDef.meta.arbitraryData,
          m = c.start_date <= s && s <= c.end_date,
          d = l == c?.id,
          u = Math.ceil(
            (c.end_date - 1.5 * G.Kp.PerHour - c.start_date) / G.Kp.PerDay,
          ),
          p =
            I.iA.is_support && !isNaN(Number(c.id))
              ? `${I.TS.PARTNER_BASE_URL}admin/editdiscountevent/${c.id}`
              : null;
        return i.createElement(
          ne.Ht,
          { client: r },
          i.createElement(
            ie.he,
            {
              className: (0, P.A)(
                Oe().EventDetails,
                m && Oe().Active,
                d && Oe().Selected,
                !!p && Oe().RestrictedEligibility,
              ),
              onClick: () => o(d ? null : c.id),
              toolTipContent: (0, C.we)("#DiscountDashboard_ColumnHeader_ttip"),
            },
            i.createElement(
              "div",
              { className: Oe().EventName },
              c.name,
              !!p &&
                i.createElement(
                  J.Xr,
                  {
                    fnBLocalChangesExist: a,
                    fnWarnUser: n,
                    href: p,
                    strClassName: Oe().EditEventLink,
                    strToolTip: (0, C.we)(
                      "#DiscountDashboard_LinkToEditEventPage_ttip",
                    ),
                  },
                  (0, C.we)("#DiscountDashboard_LinkToEditEventPage"),
                ),
            ),
            i.createElement(
              "div",
              { className: Oe().EventDates },
              i.createElement(A.X0, {
                className: Oe().EventDateRange,
                strMonthFormat: "short",
                rtStartDate: c.start_date,
                rtEndDate: c.end_date,
              }),
              i.createElement(
                "div",
                { className: Oe().EventNumDays },
                (0, C.Yp)("#DiscountDashboard_NumberOfDays", u),
              ),
            ),
            i.createElement(
              "div",
              { className: Oe().EventParticipationCtn },
              i.createElement(Xe, { discountEvent: c }),
              i.createElement($e, { discountEvent: c }),
            ),
          ),
        );
      }
      function $e(e) {
        const t = (0, p.gr)(e.discountEvent.id),
          a = t.nAlreadySet + t.nAvailable + t.nConflicts + t.nNeedRegistration;
        return i.createElement(
          ie.m9,
          {
            className: Oe().ParticipationDetails,
            toolTipContent: i.createElement(Je, { counts: t }),
          },
          i.createElement(
            "div",
            { className: Oe().Title },
            (0, C.we)("#DiscountDashboard_PackagesDiscounted"),
          ),
          i.createElement(
            "div",
            { className: Oe().Count },
            t.nAlreadySet + " / " + a,
          ),
        );
      }
      function Je(e) {
        const { counts: t } = e;
        return i.createElement(
          "div",
          { className: Oe().ParticipationToolTip },
          i.createElement(
            "div",
            null,
            (0, C.we)("#DiscountDashboard_SetDiscountsCount", t.nAlreadySet),
          ),
          t.nAvailable > 0 &&
            i.createElement(
              "div",
              null,
              (0, C.we)(
                "#DiscountDashboard_AvailableDiscountsCount",
                t.nAvailable,
              ),
            ),
          t.nConflicts > 0 &&
            i.createElement(
              "div",
              null,
              (0, C.we)(
                "#DiscountDashboard_CooldownConflictsCount",
                t.nConflicts,
              ),
            ),
          t.nNeedRegistration > 0 &&
            i.createElement(
              "div",
              null,
              (0, C.we)(
                "#DiscountDashboard_BlockedDiscountsCount",
                t.nNeedRegistration,
              ),
            ),
          t.nIneligibile > 0 &&
            i.createElement(
              "div",
              null,
              (0, C.we)(
                "#DiscountDashboard_IneligibleDiscountsCount",
                t.nIneligibile,
              ),
            ),
        );
      }
      function Xe(e) {
        const { discountEvent: t } = e,
          a = (0, m.k)(t.opt_in_name),
          n = (0, m.D6)(t.opt_in_name);
        return 0 == a.length
          ? null
          : i.createElement(
              ie.m9,
              {
                className: Oe().ParticipationDetails,
                toolTipContent: i.createElement(Qe, { ...n }),
              },
              i.createElement(
                "div",
                { className: Oe().Title },
                (0, C.we)("#DiscountDashboard_AppRegistered"),
              ),
              i.createElement(
                "div",
                { className: Oe().Count },
                n.nAppOptedIn,
                " / ",
                n.nAppEligible,
              ),
            );
      }
      function Qe(e) {
        return i.createElement(
          "div",
          { className: Oe().ParticipationToolTip },
          i.createElement(
            "div",
            null,
            (0, C.we)("#DiscountDashboard_AppOptIn", e.nAppOptedIn),
          ),
          e.nAppOptedOut > 0 &&
            i.createElement(
              "div",
              null,
              (0, C.we)("#DiscountDashboard_AppOptedOut", e.nAppOptedOut),
            ),
          i.createElement(
            "div",
            null,
            (0, C.we)("#DiscountDashboard_AppEligible", e.nAppEligible),
          ),
        );
      }
      var Ze = a(73745),
        et = a(29524),
        tt = a.n(et);
      function at(e) {
        const t = "America/Los_Angeles",
          a = {
            weekday: "short",
            month: "short",
            day: "numeric",
            hour: "numeric",
            timeZoneName: "short",
            timeZone: t,
          },
          n = { hour: "numeric", timeZoneName: "short" },
          r = t != Intl.DateTimeFormat().resolvedOptions().timeZone,
          i = new Date(1e3 * e),
          s = i.getMinutes();
        s <= 10
          ? i.setMinutes(0)
          : s >= 50
            ? i.setMinutes(60)
            : ((a.minute = "2-digit"), (n.minute = "2-digit"));
        const l = (e, t) => {
            if (!e.includes("时") && !e.includes("時")) return e;
            const a = new Intl.DateTimeFormat(C.pf.GetPreferredLocales(), {
              timeZoneName: "short",
              timeZone: t,
            })
              .formatToParts(i)
              .find((e) => "timeZoneName" === e.type).value;
            return new RegExp(`${a}\\d`, "u").test(e)
              ? e.replace(a, a + " ")
              : e;
          },
          o = l(i.toLocaleString(C.pf.GetPreferredLocales(), a), a.timeZone);
        if (!r) return o;
        return `${o} (${l(i.toLocaleString(C.pf.GetPreferredLocales(), n), n.timeZone)})`;
      }
      function nt(e) {
        const [t, a] = i.useState(0),
          {
            bSingleDiscountEventView: n,
            strSelectedEvent: r,
            fnSelectEvent: s,
            bIncludeConflictsInSingleEventView: l,
            fnSetIncludeConflictsInSingleEventView: o,
          } = (0, _.u7)(),
          c = (0, p.ve)(),
          m = (0, _.Ad)(r),
          g = (0, p.wF)(r),
          h =
            g.alreadySet.size +
            g.available.size +
            g.needRegistration.size +
            g.conflicts.size,
          E = g.conflicts.size,
          y = (0, u.Yr)(),
          v = y.length,
          f = y?.filter((e) => g.alreadySet.has(e) || g.available.has(e)),
          b = f.length,
          w = e.refTable.current?.getTableElement(),
          D = w?.getBoundingClientRect().width ?? 740,
          B = (0, Ze.CH)(),
          T = i.useRef(new ResizeObserver(B));
        i.useEffect(() => {
          if (!w) return;
          const e = T.current;
          return e.observe(w), () => e.unobserve(w);
        }, [w]);
        const M = I.TS.PARTNER_BASE_URL + "doc/marketing/discounts#limits",
          A = (0, d.zy)(f);
        return i.createElement(
          "div",
          {
            style: { left: D + "px" },
            className: (0, P.A)(tt().SingleEventDetailsCtn, n && tt().Visible),
          },
          i.createElement(
            "div",
            { className: tt().Section },
            i.createElement(
              "div",
              { className: tt().SectionDate },
              (0, C.we)(
                "#DiscountDashboard_DetailView_StartTimeLabel",
                at(m?.start_date),
              ),
            ),
            i.createElement(
              "div",
              { className: tt().SectionDate },
              (0, C.we)(
                "#DiscountDashboard_DetailView_EndTimeLabel",
                at(m?.end_date),
              ),
            ),
            i.createElement(
              "div",
              { className: tt().SectionLabel },
              (0, C.we)("#DiscountDashboard_DetailView_YourViewTitle"),
            ),
            i.createElement(
              "div",
              { className: tt().ViewSummary },
              (0, C.we)(
                "#DiscountDashboard_DetailView_ViewSectionWithCount",
                v,
                h,
              ),
            ),
            i.createElement(
              "div",
              { className: tt().SectionText },
              (0, C.we)(
                "#DiscountDashboard_DetailView_ViewSectionInstructions",
              ),
            ),
            E > 0 &&
              i.createElement(S.Yh, {
                className: tt().HideConflicts,
                label: (0, C.we)("#DiscountDashboard_DetailView_HideConflicts"),
                checked: !l,
                disabled: 0 == E,
                onChange: (e) => o(!e),
              }),
          ),
          i.createElement(
            "div",
            { className: tt().Section },
            i.createElement(
              "div",
              { className: tt().SectionLabel },
              (0, C.we)(
                "#DiscountDashboard_DetailView_DiscountAllVisibleTitle",
              ),
              i.createElement(
                ie.he,
                {
                  toolTipContent: (0, C.we)(
                    "#DiscountDashboard_DetailView_BatchDiscountInstructions_ttip",
                  ),
                  className: tt().helpCtn,
                },
                i.createElement(R._VW, null),
              ),
            ),
            i.createElement(
              "div",
              { className: tt().SectionText },
              (0, C.we)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions",
              ),
            ),
            i.createElement(
              "div",
              { className: tt().SectionText },
              (0, C.we)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions_ProTip",
              ),
            ),
            i.createElement(
              "div",
              {
                className: (0, P.A)(
                  tt().BatchDiscountLine,
                  0 == b && tt().Disabled,
                ),
              },
              i.createElement(S.pd, {
                value: t,
                className: tt().BatchDiscountInput,
                onChange: (e) => {
                  const t = e.target.value,
                    n = Number(t || 0);
                  0 <= n && n <= 90 && a(n);
                },
                onFocus: (e) => e.target.select(),
              }),
              i.createElement("div", { className: tt().CellPct }, "%"),
              i.createElement(
                S.$n,
                {
                  className: tt().BatchDiscountButton,
                  onClick: () => c(t, r, f),
                  disabled: 0 == b,
                },
                (0, C.Yp)(
                  "#DiscountDashboard_DetailView_BatchDiscountButton",
                  b,
                ),
              ),
            ),
            t > A &&
              i.createElement(
                "div",
                { className: tt().WarningText },
                i.createElement(
                  "span",
                  { className: tt().SectionText },
                  (0, C.we)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountWarning",
                    A,
                  ),
                ),
                i.createElement(
                  "a",
                  { href: M, target: "_blank", className: tt().SectionText },
                  (0, C.we)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountDocumentationLink",
                  ),
                ),
              ),
          ),
          i.createElement(
            "div",
            { className: tt().Section },
            i.createElement(
              S.$n,
              { onClick: (e) => s(null) },
              (0, C.we)("#DiscountDashboard_DetailView_ShowAllEvents"),
            ),
          ),
        );
      }
      var rt = a(66051),
        it = a(64238),
        st = a.n(it);
      const lt = "all-events";
      function ot(e, t) {
        return e.size == t.size && Array.from(e).every((e) => t.has(e));
      }
      function ct(e) {
        const { rgDiscountEvents: t, refTable: a } = e,
          {
            bSingleDiscountEventView: n,
            strSelectedEvent: r,
            fnSelectEvent: s,
            bIncludeWeeklongEvents: l,
            fnSetIncludeWeeklongEvents: o,
            bIncludeCustomEvents: c,
            fnSetIncludeCustomEvents: m,
          } = (0, _.u7)(),
          u = (function (e) {
            return i.useMemo(() => {
              const t = [
                {
                  label: (0, C.we)("#DiscountDashboard_DiscountFilterAll"),
                  data: lt,
                },
              ];
              for (const a of e)
                (0, p.wk)(a.id, !1) && t.push({ label: a.name, data: a.id });
              return t;
            }, [e]);
          })(t),
          g = (function (e) {
            const {
                bSingleDiscountEventView: t,
                strSelectedEvent: a,
                bIncludeConflictsInSingleEventView: n,
              } = (0, _.u7)(),
              r = (0, _.dp)(),
              s = (0, p.wF)(a),
              l = i.useRef(s),
              o = i.useRef(n),
              [c, m] = i.useState(!1);
            return (
              i.useEffect(() => m(!0), [a, n, r, s]),
              i.useEffect(() => {
                if (!c) return;
                const a = [],
                  i = e.current?.getState();
                if (
                  (e.current?.getColumns()?.forEach((e) => {
                    const n = e.columnDef;
                    if (!("accessorKey" in n)) return;
                    if (i?.columnPinning.left?.includes(n.accessorKey)) return;
                    let s = !1;
                    if (n.accessorKey == Ke) s = !t;
                    else if (n.meta?.arbitraryData) {
                      const e = n.meta.arbitraryData;
                      s = r.has(e.id);
                    }
                    let l = !0;
                    i?.columnVisibility &&
                      n.accessorKey in i.columnVisibility &&
                      (l = i.columnVisibility[n.accessorKey]),
                      l != s ? e.toggleVisibility() : l && s && a.push(e);
                  }),
                  t ||
                    1 != a.length ||
                    requestAnimationFrame(() => {
                      e.current?.scrollToColumn(a[0], { align: "center" });
                    }),
                  t)
                ) {
                  const { ineligibile: t, conflicts: a } = s,
                    r = l.current;
                  (e.current?.getColumnFilterFnOverride().packageID &&
                    ot(t, r.ineligibile) &&
                    ot(a, r.conflicts) &&
                    n == o.current) ||
                    (e.current?.setColumnFilterFnOverride({
                      packageID: (e) =>
                        !t.has(e.original.packageID) &&
                        (n || !a.has(e.original.packageID)),
                    }),
                    e.current
                      .getColumns()
                      .find((e) => "packageID" === e.id)
                      .setFilterValue(!0));
                } else
                  e.current?.setColumnFilterFnOverride({}),
                    e.current
                      .getColumns()
                      .find((e) => "packageID" === e.id)
                      .setFilterValue(void 0);
                (l.current = s), (o.current = n), m(!1);
              }, [c]),
              c
            );
          })(a),
          h = t.some((e) => (0, d.Ko)(e.id));
        return i.createElement(
          "div",
          { className: te().DiscountsFilterBar },
          i.createElement(
            "div",
            { className: te().DiscountSelectDropDown },
            i.createElement(S.m, {
              strDropDownClassName: Z().DropDownScroll,
              rgOptions: u,
              selectedOption: r ?? lt,
              label: (0, C.we)(
                "#DiscountDashboard_DiscountFilterByEventButton",
              ),
              onChange: (e) => s(e.data == lt ? null : e.data),
            }),
          ),
          !n &&
            i.createElement(S.Yh, {
              className: te().DiscountFilterCheckbox,
              label: (0, C.we)(
                "#DiscountDashboard_ShowCustomDiscountsCheckBoxLabel",
              ),
              checked: c,
              disabled: n || !h,
              onChange: m,
            }),
          !n &&
            i.createElement(S.Yh, {
              className: te().DiscountFilterCheckbox,
              label: (0, C.we)(
                "#DiscountDashboard_ShowWeeklongDiscountsCheckBoxLabel",
              ),
              checked: l,
              disabled: n,
              onChange: o,
            }),
          g &&
            i.createElement(
              "div",
              { className: te().UpdatingMessage },
              (0, C.we)("#DiscountDashboard_UpdatingStatusMessage"),
            ),
          i.createElement(nt, { refTable: a }),
        );
      }
      function mt(e) {
        const t = (0, p.WV)(),
          a = t?.length ?? 0;
        return i.createElement(
          "div",
          {
            className: (0, P.A)(
              te().DiscountGridCtn,
              a > 0 && "PendingVisible",
            ),
          },
          i.createElement(dt, { ...e }),
        );
      }
      const dt = i.memo(function (e) {
        const t = i.useRef(null);
        "dev" == I.TS.WEB_UNIVERSE && (window.g_DiscountGridTableRef = t);
        const a = (0, _.Ix)(),
          n = (function (e) {
            const t = (0, J.uv)(),
              a = (0, J.ZN)(),
              n = (0, J.mE)(!0);
            return i.useMemo(() => {
              const r = {
                  accessorKey: "basePrice",
                  enableSorting: !1,
                  header: je,
                  cell: He,
                  meta: { cellClassname: Oe().BasePrice },
                  size: 120,
                },
                i = {
                  accessorKey: "relatedDiscount",
                  enableSorting: !1,
                  header: qe,
                  cell: Fe,
                  size: 120,
                  meta: { cellClassname: Oe().RelatedDiscount },
                },
                s = [t, a, n, r, i];
              for (const t of e) {
                const e = "unique" == t.collision_type;
                s.push({
                  accessorKey: Ve(t.id),
                  size: 200,
                  enableSorting: !1,
                  meta: {
                    headerClassname: (0, P.A)(
                      Oe().DiscountGridDataColumn,
                      e && Oe().CollisionFreeDiscountEvent,
                    ),
                    arbitraryData: t,
                  },
                  header: Ye,
                  cell: Me,
                });
              }
              return (
                s.push({
                  accessorKey: Ke,
                  header: We,
                  enableSorting: !1,
                  cell: Le,
                  meta: { headerClassname: Oe().DiscountGridDataColumn },
                  size: 120,
                }),
                s
              );
            }, [e, t, a, n]);
          })(a),
          r = (function (e) {
            const t = (0, u.zt)();
            return i.useMemo(() => {
              const a = [];
              for (const n of t) {
                const t = E.A.Get().GetPackage(n);
                if (!t || !t.BIsVisible()) continue;
                const r = (0, h.i$)(t),
                  i = {
                    appids: t?.GetIncludedAppIDs()?.sort() ?? [],
                    appName: r.baseAppName,
                    packageID: n,
                    packageName: t?.GetName(),
                    packageType: r.contents,
                    basePrice: null,
                    relatedDiscount: null,
                  };
                for (const t of e)
                  i[Ve(t.id)] = { packageID: n, discountEventID: t.id };
                a.push(i);
              }
              return a;
            }, [t, e]);
          })(a),
          s = (0, u.pV)(),
          l = () => s(t.current),
          o = new URLSearchParams(window.location.search),
          c = o.has(u.xi) ? decodeURIComponent(o.get(u.xi)) : "",
          m = (0, p.ZM)(),
          d = ye();
        ("dev" != I.TS.WEB_UNIVERSE && "beta" != I.TS.WEB_UNIVERSE) ||
          console.log("Rendering grid", n);
        const g = {};
        o.has("de") && (g[Ke] = !1);
        const S = (0, _.dp)();
        for (const e of a) S.has(e.id) || (g[Ve(e.id)] = !1);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(ct, { rgDiscountEvents: a, refTable: t }),
          i.createElement(
            "div",
            { className: te().DiscountGridWrapper },
            i.createElement(
              "div",
              { className: st()(te().DiscountGrid, "noGlobalButtonStyle") },
              i.createElement(
                X.tH,
                null,
                i.createElement(
                  J.rK,
                  { fnBLocalChangesExist: m, fnWarnUser: d },
                  i.createElement(rt.k, {
                    ref: t,
                    columns: n,
                    data: r,
                    nItemHeight: 40,
                    nHeaderHeight: 122,
                    stickyHeader: !0,
                    initialSorting: [{ id: "appName", desc: !1 }],
                    initialColumnFilters: [{ id: "packageName", value: c }],
                    initialGrouping: ["appName"],
                    initialExpanded: !0,
                    initialColumnPinning: {
                      left: [
                        "packageID",
                        "appName",
                        "packageName",
                        "basePrice",
                        "relatedDiscount",
                      ],
                    },
                    initialColumnVisibility: g,
                    onGroupingChange: l,
                    onVisibleRowsChange: l,
                    renderGroup: J.IR,
                  }),
                ),
                i.createElement("br", null),
              ),
            ),
          ),
        );
      });
      var ut = a(19367),
        pt = a.n(ut),
        _t = a(9161),
        gt = a(67302),
        ht = a.n(gt);
      function Et(e) {
        const { closeModal: t } = e,
          a = (0, u.vs)(),
          n = pt()().format("YYYY-MM-DDTHH-mm-ss"),
          r = (0, u.zt)(),
          s = (0, u.Yr)(),
          l = (0, _.Ix)(),
          o = (0, _.dp)(),
          c = l.filter((e) => o.has(e.id)),
          m = `discounts_all_${a}_${n}.csv`,
          d = `discounts_${a}_${n}.csv`,
          p = 0 == s.length || 0 == c.length;
        return i.createElement(
          k.o0,
          {
            bAllowFullSize: !1,
            closeModal: t,
            bAlertDialog: !0,
            strTitle: (0, C.we)("#DiscountDashboard_ImportExportHeader"),
          },
          (0, C.we)("#DiscountDashboard_ImportExport_GeneralInstructions"),
          i.createElement("br", null),
          i.createElement(
            "a",
            {
              href: I.TS.PARTNER_BASE_URL + "doc/store/discounting/csv",
              target: "_blank",
            },
            (0, C.we)("#PricingDashboard_ImportExport_DocLink"),
          ),
          i.createElement("br", null),
          i.createElement("br", null),
          i.createElement(
            "h3",
            null,
            (0, C.we)("#PricingDashboard_SubtitleExport"),
          ),
          i.createElement(
            "div",
            { className: ht().Instructions },
            (0, C.we)("#DiscountDashboard_ImportExport_DownloadInstructions"),
          ),
          i.createElement(
            "div",
            { className: ht().ButtonRows },
            s.length != r.length &&
              i.createElement(
                "div",
                { className: ht().OptionCtn },
                i.createElement(
                  "span",
                  { className: ht().OptionDesc },
                  (0, C.we)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Desc",
                  ),
                ),
                i.createElement(
                  S.$n,
                  {
                    className: ht().Button,
                    disabled: p,
                    onClick: () => yt(s, c, d),
                  },
                  (0, C.we)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Button",
                  ),
                  i.createElement(
                    "span",
                    null,
                    (0, C.we)("#PricingDashboard_PackageCount", s.length),
                  ),
                ),
              ),
            i.createElement(
              "div",
              { className: ht().OptionCtn },
              i.createElement(
                "span",
                { className: ht().OptionDesc },
                (0, C.we)("#DiscountDashboard_ImportExport_DownloadAll_Desc"),
              ),
              i.createElement(
                S.$n,
                {
                  className: ht().Button,
                  disabled: p,
                  onClick: () => yt(r, l, m),
                },
                (0, C.we)("#DiscountDashboard_ImportExport_DownloadAll_Button"),
                i.createElement(
                  "span",
                  null,
                  (0, C.we)("#PricingDashboard_PackageCount", r.length),
                ),
              ),
            ),
          ),
          i.createElement("br", null),
          i.createElement("br", null),
          i.createElement(
            "h3",
            null,
            (0, C.we)("#PricingDashboard_SubtitleImport"),
          ),
          i.createElement(
            "div",
            { className: ht().Instructions },
            (0, C.we)("#DiscountDashboard_ImportExport_UploadInstructions"),
          ),
          i.createElement(
            "div",
            { className: ht().ButtonRows },
            i.createElement(
              "div",
              { className: ht().OptionCtn },
              i.createElement(
                "span",
                { className: ht().OptionDesc },
                (0, C.we)("#DiscountDashboard_ImportExport_Upload_Desc"),
              ),
              i.createElement(
                S.$n,
                { className: ht().Button, disabled: p },
                i.createElement(
                  "label",
                  {
                    className: ht().ImportButtonLabel,
                    htmlFor: "import-discount-input",
                  },
                  (0, C.we)("#DiscountDashboard_ImportExport_Upload_Button"),
                  i.createElement("input", {
                    id: "import-discount-input",
                    type: "file",
                    style: { display: "none" },
                    onChange: (e) =>
                      (async function (e, t) {
                        if (e.target.files.length >= 1) {
                          const a = (0, D.uX)(e),
                            n = e.target.files[0],
                            r = await _t.g.ParseCSVFile(n);
                          (0, v.mK)(
                            i.createElement(vt, {
                              strFilename: n.name,
                              parseResult: r,
                            }),
                            a,
                          ),
                            t();
                        }
                      })(e, t),
                  }),
                ),
              ),
            ),
          ),
        );
      }
      function St(e) {
        return e.header?.trim()?.length > 0
          ? e.header.trim()
          : e.name?.trim()?.length > 0
            ? e.name.trim()
            : e.id;
      }
      function yt(e, t, a) {
        const n = [],
          r = [
            (0, C.we)("#PackageGrid_Column_PackageName"),
            "ID",
            (0, C.we)("#DiscountDashboard_GridColumn_BasePrice"),
          ],
          i = new Set();
        for (const e of t) {
          let t = St(e);
          i.has(t) && (t = t + "/" + e.id), i.add(t), r.push(t);
        }
        n.push(r);
        for (const a of e) {
          const e = E.A.Get().GetPackage(a);
          if (!e || !e.BIsVisible()) continue;
          const r = (0, ae.oj)(a),
            i = [e.GetName(), a.toString(), r ?? "--"];
          for (const e of t) {
            const t = (0, p.i3)(a, e.id);
            i.push(
              t?.toString() ??
                (0, C.we)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
            );
          }
          n.push(i);
        }
        _t.g.WriteCSVToFile(n, a);
      }
      function vt(e) {
        const { closeModal: t, strFilename: a, parseResult: n } = e,
          r = (0, re.f1)(),
          s = (0, u.zt)(),
          l = (0, _.Ix)(),
          o = (0, p.ve)(),
          [c, m] = i.useState(null),
          [d, g] = i.useState(),
          [h, E] = i.useState();
        if (
          (i.useEffect(() => {
            const {
              rgDiscountOverrides: e,
              nPackagesImported: t,
              nDiscountEventsImported: a,
            } = (function (e, t, a, n, r) {
              const i = new Map(),
                s = new Set(e.meta?.fields ?? []);
              for (const e of n) {
                if (t > e.start_date) continue;
                const a = St(e),
                  n = a + "/" + e.id;
                s.has(n) ? i.set(n, e.id) : s.has(a) && i.set(a, e.id);
              }
              const l = Array.from(i.keys()),
                o = [],
                c = new Set(a),
                m = [];
              for (const t of e.data ?? []) {
                const e = Number(t.ID);
                if (c.has(e)) {
                  o.push(e);
                  for (const a of l) {
                    const n = i.get(a),
                      s = t[a],
                      l = !!s?.length && parseInt(s);
                    if (!s?.length || Number.isNaN(l)) continue;
                    const o = r(l, n, [e]);
                    1 == o?.length && m.push(o[0]);
                  }
                }
              }
              return {
                rgDiscountOverrides: m,
                nPackagesImported: o.length,
                nDiscountEventsImported: l.length,
              };
            })(n, r, s, l, o);
            m(e), g(t), E(a);
          }, [n, r, s, l, o]),
          null === c)
        )
          return i.createElement(f.t, { position: "center" });
        const S = c.length > 0,
          y = S
            ? (0, C.we)("#PackageGrid_SaveChangesDialogButton")
            : (0, C.we)("#Button_Close");
        return i.createElement(
          k.o0,
          {
            strTitle: (0, C.we)(
              "#DiscountDashboard_ImportExport_UploadProgressTitle",
            ),
            strDescription: (0, C.we)(
              "#DiscountDashboard_ImportExport_UploadProgressDetails",
              d,
              h,
            ),
            bAlertDialog: !S,
            strOKButtonText: y,
            onOK: () => {
              S && (0, v.pg)(i.createElement(ve, null), window);
            },
            strCancelButtonText: (0, C.we)("#Button_OK"),
            closeModal: t,
          },
          i.createElement(
            "div",
            { className: ht().ParseResultCount },
            (0, C.Yp)(
              "#DiscountDashboard_ImportExport_UploadResults",
              c.length,
            ),
          ),
          S &&
            (0, C.we)(
              "#DiscountDashboard_ImportExport_UploadNextStepInstructions",
            ),
          !!n.errors?.length &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                { className: ht().ErrorHeader },
                (0, C.we)(
                  "#DiscountDashboard_ImportExport_UploadErrorsHeader",
                  n.errors?.length,
                ),
              ),
              i.createElement(
                "div",
                { className: ht().ParseErrors },
                n.errors.map((e, t) =>
                  i.createElement(
                    "div",
                    { key: `${e.message}-${t}`, className: ht().Error },
                    `${e.row ?? "-"} ${e.message}`,
                  ),
                ),
              ),
            ),
        );
      }
      function ft(e) {
        (0, g.h)((0, p.ZM)());
        const { rgDiscountEvents: t, eResult: a } = (0, c.sU)(),
          n = (0, u.zt)(),
          r = (0, w.m)("DiscountDashboard"),
          s = (0, d.zq)(),
          { fnLoadMultiOptInRegistration: l } = (0, m.EF)(),
          o = (0, _.Jn)(),
          B = (0, p.bA)(),
          [T, M] = (0, y.QD)(L, null);
        i.useEffect(() => {
          T && (0, v.pg)(i.createElement(U, null), window);
        }, [T]);
        const [A, k] = i.useState(),
          [R, P] = i.useState(),
          [N, G] = i.useState(),
          [O, F] = i.useState(!1),
          [z, x] = i.useState(!1),
          [q, W] = i.useState(!1),
          [j, H] = i.useState(!1);
        i.useEffect(() => {
          k((0, C.we)("#DiscountDashboard_LoadingPackagesWithCount", n.length)),
            (0, h.Hf)(n, r).then((e) => {
              e?.length > 0
                ? G(e)
                : P((0, C.we)("#DiscountDashboard_Error_CouldNotLoadPackages"));
            });
        }, [n, r]),
          i.useEffect(() => {
            s(n, r).then((e) => {
              1 == e
                ? x(!0)
                : P(
                    (0, C.we)(
                      "#DiscountDashboard_Error_CouldNotLoadPackageDiscounts",
                    ),
                  );
            });
          }, [n, r, s]),
          i.useEffect(() => {
            if (N)
              if (null === a)
                k((0, C.we)("#DiscountDashboard_LoadingDiscountEvents"));
              else if (1 != a)
                P(
                  (0, C.we)(
                    "#DiscountDashboard_Error_CouldNotLoadDiscountEvents",
                  ),
                );
              else {
                const e = N.filter((e) =>
                    h.qP.has(E.A.Get().GetApp(e)?.GetAppType()),
                  ),
                  a = t.map((e) => e.opt_in_name).filter(Boolean);
                a.length > 0 ? l(a, e, r).then(() => F(!0)) : F(!0);
              }
          }, [N, t, a, l, r]),
          i.useEffect(() => {
            N &&
              1 == a &&
              (O
                ? z
                  ? (k(
                      (0, C.we)(
                        "#DiscountDashboard_ComputingGridStateWithCounts",
                        n.length,
                        t.length,
                      ),
                    ),
                    W(!0))
                  : k(
                      (0, C.we)(
                        "#DiscountDashboard_LoadingPackageDiscounts",
                        n.length,
                      ),
                    )
                : k(
                    (0, C.we)(
                      "#DiscountDashboard_LoadingRegistrationData",
                      N.length,
                    ),
                  ));
          }, [N, a, n, t, O, z]),
          i.useEffect(() => {
            q &&
              window.setTimeout(() => {
                o(), B(), k(null), H(!0);
              }, 0);
          }, [q, o, B]);
        const V = I.TS.PARTNER_BASE_URL + "doc/marketing/discounts",
          K = I.TS.HELP_BASE_URL + "wizard/HelpWithPublishing?issueid=919",
          Y = !!N;
        return i.createElement(
          "div",
          { className: $().DashboardPage },
          i.createElement(
            "div",
            { className: $().DashTitleBar },
            i.createElement(
              "div",
              { className: $().DashTitle },
              (0, C.we)("#DiscountDashboard_Title"),
            ),
            i.createElement(
              "div",
              { className: $().ButtonGroup },
              i.createElement(
                S.$n,
                {
                  onClick: (e) =>
                    (0, v.pg)(i.createElement(U, null), (0, D.uX)(e)),
                  disabled: !Y,
                },
                (0, C.we)("#DiscountDashboard_CreateDiscountButton"),
              ),
              i.createElement(
                S.$n,
                {
                  onClick: (e) =>
                    (0, v.pg)(i.createElement(Et, null), (0, D.uX)(e)),
                },
                (0, C.we)("#DiscountDashboard_ImportExportButton"),
              ),
              i.createElement(
                S.$n,
                { onClick: (e) => (0, b.EP)(e, V) },
                (0, C.we)("#DiscountDashboard_DocumentationButton"),
              ),
              i.createElement(
                S.$n,
                { onClick: (e) => (0, b.EP)(e, K) },
                (0, C.we)("#DiscountDashboard_ContactUsButton"),
              ),
            ),
          ),
          i.createElement(
            "div",
            { className: $().ConfidentialBanner },
            (0, C.we)("#DiscountDashboard_ConfidentialityBanner"),
          ),
          R && i.createElement("div", { className: $().ErrorMessage }, R),
          !R &&
            A &&
            i.createElement(f.t, {
              position: "center",
              string: A,
              className: $().Throbber,
            }),
          j &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(mt, null),
              i.createElement(Se, null),
            ),
        );
      }
      const bt = { DiscountDashboard: (e) => `/dashboard/${e}` },
        wt = (e) =>
          i.createElement(
            s.Kd,
            { basename: (0, n.C)() + "promotion/discounts/" },
            i.createElement(
              l.dO,
              null,
              i.createElement(l.qh, {
                exact: !0,
                path: n.B.DiagData(),
                render: (e) =>
                  i.createElement(o.z, {
                    ...e,
                    strConfigID: "application_config",
                  }),
              }),
              i.createElement(l.qh, {
                path: bt.DiscountDashboard(":publisherid(\\d+)"),
                render: (e) => i.createElement(ft, null),
              }),
              i.createElement(l.qh, { component: r.a }),
            ),
          );
    },
    51134: (e, t, a) => {
      "use strict";
      a.d(t, { FY: () => B, ft: () => b, xE: () => I });
      var n = a(29385),
        r = a(58097),
        i = a(90626),
        s = a(44165),
        l = a(55263),
        o = a(45737),
        c = a.n(o),
        m = a(16676),
        d = a(84811),
        u = a(76684),
        p = a(22797),
        _ = a(60202),
        g = a.n(_),
        h = a(36185),
        E = a(17083),
        S = a(63554),
        y = a(38135),
        v = a(95695),
        f = a.n(v);
      function b(e) {
        const { bShowOnlySummary: t } = e,
          a = n.Mt.Get(),
          r = (0, n.$I)(),
          l = (0, s.f1)(),
          o = (0, i.useMemo)(() => {
            const { jsonOptedIn: e, jsonInvited: t } = r;
            return [...e.map((e) => e.appid), ...t.map((e) => e.appid)];
          }, [r]),
          u = a.GetEventStartTime(),
          _ = a.GetEventEndTime(),
          g = _ - u,
          y = u - g,
          v = _ + g;
        return i.createElement(
          d.tH,
          null,
          i.createElement(
            "div",
            { className: t ? "" : c().AdminPageCtn },
            !t &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "div",
                  { className: c().PageTitle },
                  "OptIn Admin Analysis: ",
                  a.GetName(),
                ),
                i.createElement(
                  "div",
                  { className: c().PageSubTitle },
                  "Sales stats will only work on opt-in that were setup as invite only as we build the stats for opted in and invted apps",
                ),
                i.createElement(
                  "div",
                  null,
                  i.createElement(h.F, { ctnOverride: " " }),
                  i.createElement(
                    m.$n,
                    null,
                    i.createElement(
                      E.N_,
                      { to: S.OptInRoutes.OptinAdminDashboard() },
                      "Dashboard",
                    ),
                  ),
                ),
                i.createElement("br", null),
                i.createElement("hr", null),
              ),
            i.createElement(
              "div",
              null,
              Boolean(0 == o.length)
                ? i.createElement(p.t, {
                    string: "Loading App Opt In / Invites",
                    size: "medium",
                    position: "center",
                  })
                : i.createElement(
                    "div",
                    null,
                    i.createElement(M, {
                      rtBaselineStart: y,
                      rtBaselineEnd: u,
                      rtCompareStart: u,
                      rtCompareEnd: _,
                      rgAppIDs: o,
                      strComparisonName: a.GetName(),
                    }),
                    !t &&
                      i.createElement(A, {
                        rtBaselineStart: y,
                        rtBaselineEnd: u,
                        rtCompareStart: u,
                        rtCompareEnd: _,
                        rtPostlineStart: v < l ? _ : void 0,
                        rtPostlineEnd: v < l ? v : void 0,
                        rgAppIDs: o,
                        strComparisonName: a.GetName(),
                      }),
                  ),
            ),
          ),
        );
      }
      const w = { minimumFractionDigits: 0, maximumFractionDigits: 0 },
        D = { minimumFractionDigits: 2, maximumFractionDigits: 2 },
        C = { minimumFractionDigits: 1, maximumFractionDigits: 1 };
      function I(e) {
        return `$${e.toLocaleString(void 0, w)}`;
      }
      function B(e) {
        return `$${e.toLocaleString(void 0, D)}`;
      }
      function T(e) {
        return `${(100 * e).toLocaleString(void 0, C)} %`;
      }
      function M(e) {
        const {
            rtBaselineStart: t,
            rtBaselineEnd: a,
            rtCompareStart: n,
            rtCompareEnd: s,
            rgAppIDs: l,
            strComparisonName: o,
          } = e,
          m = (0, r.qX)(t, a, l),
          d = (0, r.qX)(n, s, l);
        if (!m || !d)
          return i.createElement(p.t, {
            string: `Loading Packages Stats for ${l.length} apps`,
            size: "medium",
            position: "center",
          });
        const u = d.GetTotalSummary().gross_sales_usd / 100,
          _ = Math.max(1, Math.ceil((a - t) / 86400)),
          g = m.GetTotalSummary().gross_sales_usd / _ / 100,
          h = Math.max(1, Math.ceil((s - n) / 86400)),
          E = d.GetTotalSummary().gross_sales_usd / h / 100,
          S = g > 0 ? E / g : 0;
        return i.createElement(
          "div",
          { className: c().StatReportCtn },
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement(
              "div",
              { className: c().BigStat },
              l.length.toLocaleString(),
            ),
            i.createElement(
              "span",
              { className: c().SmallText },
              "Included Apps",
            ),
          ),
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement("div", { className: c().BigStat }, I(u)),
            i.createElement(
              "span",
              { className: c().SmallText },
              "Total Revenue",
            ),
          ),
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement("div", { className: c().BigStat }, T(S)),
            i.createElement(
              "span",
              { className: c().SmallText },
              "Change in daily avg.",
            ),
          ),
        );
      }
      function A(e) {
        const {
            rtBaselineStart: t,
            rtBaselineEnd: a,
            rtCompareStart: n,
            rtCompareEnd: s,
            rgAppIDs: l,
            strComparisonName: o,
            rtPostlineStart: c,
            rtPostlineEnd: _,
          } = e,
          h = (0, r.qX)(t, a, l),
          E = (0, r.qX)(n, s, l),
          S = (0, r.qX)(c, _, l),
          [v, b] = (0, i.useState)(50);
        if (!h || !E || (!S && _))
          return i.createElement(p.t, {
            string: `Loading Packages Stats for ${l.length} apps`,
            size: "medium",
            position: "center",
          });
        const w = Math.max(1, Math.ceil((a - t) / 86400)),
          D = h.GetTotalSummary().gross_sales_usd / w / 100,
          C = h.GetTotalSummary().gross_sales_usd / 100,
          B = Math.max(1, Math.ceil((s - n) / 86400)),
          M = E.GetTotalSummary().gross_sales_usd / B / 100,
          A = E.GetTotalSummary().gross_sales_usd / 100,
          R = D > 0 ? M / D : 0;
        let P, N, G, O;
        S &&
          ((P = Math.max(1, Math.ceil((_ - c) / 86400))),
          (N = S.GetTotalSummary().gross_sales_usd / B / 100),
          (G = S.GetTotalSummary().gross_sales_usd / 100),
          (O = D > 0 ? N / D : 0));
        const F =
            h.GetTotalSummary().gross_sales_usd +
            E.GetTotalSummary().gross_sales_usd +
            (S?.GetTotalSummary()?.gross_sales_usd || 0),
          L = h.GetTotalSummary().gross_sales_usd / F,
          U = E.GetTotalSummary().gross_sales_usd / F;
        let z;
        S && (z = S.GetTotalSummary().gross_sales_usd / F);
        const x = (e) =>
            window.sessionStorage.setItem("optInStatsResults", `?tab=${e.key}`),
          q = [
            {
              name: "Event Results",
              key: "compare",
              contents: i.createElement(
                d.tH,
                null,
                i.createElement(k, {
                  oAppSummary: E,
                  nTopAppCount: v,
                  nDays: B,
                  strToken: o || "Comparison",
                  oPriorSummary: h,
                  nPriorDays: w,
                  oPostSummary: S,
                  nPostDays: P,
                  nTotalSaleUSD: A,
                }),
              ),
              onClick: x,
            },
            {
              name: "Baseline",
              key: "baseline",
              contents: i.createElement(
                d.tH,
                null,
                i.createElement(k, {
                  oAppSummary: h,
                  nTopAppCount: v,
                  nDays: B,
                  strToken: "Prior to Event",
                  nTotalSaleUSD: C,
                }),
              ),
              onClick: x,
            },
          ];
        return (
          S &&
            q.push({
              name: "Postline",
              key: "postline",
              contents: i.createElement(
                d.tH,
                null,
                i.createElement(k, {
                  oAppSummary: S,
                  nTopAppCount: v,
                  nDays: B,
                  strToken: "Post Event",
                  nTotalSaleUSD: G,
                }),
              ),
              onClick: x,
            }),
          i.createElement(
            "div",
            null,
            i.createElement("br", null),
            i.createElement(
              "div",
              { className: g().ComparisonRichTable },
              i.createElement(
                "table",
                null,
                i.createElement(
                  "tr",
                  null,
                  i.createElement("th", null, "Period"),
                  i.createElement("th", null, "Length"),
                  i.createElement("th", null, "Dates"),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total $",
                  ),
                  i.createElement("th", null, "Visual"),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Daily Avg. $",
                  ),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Revenue change vs. base",
                  ),
                ),
                i.createElement(
                  "tr",
                  null,
                  i.createElement("td", null, "Baseline"),
                  i.createElement("td", null, w, " days"),
                  i.createElement(
                    "td",
                    null,
                    i.createElement(u.X0, { rtStartDate: t, rtEndDate: a }),
                  ),
                  i.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    I(C),
                  ),
                  i.createElement(
                    "td",
                    null,
                    i.createElement("div", {
                      style: { width: 300 * L + "px" },
                      className: g().VisualBar,
                    }),
                  ),
                  i.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    I(D),
                  ),
                  i.createElement("td", { style: { textAlign: "right" } }),
                ),
                i.createElement(
                  "tr",
                  null,
                  i.createElement("td", null, o || "Comparison"),
                  i.createElement("td", null, B, " days"),
                  i.createElement(
                    "td",
                    null,
                    i.createElement(u.X0, { rtStartDate: n, rtEndDate: s }),
                  ),
                  i.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    I(A),
                  ),
                  i.createElement(
                    "td",
                    null,
                    i.createElement("div", {
                      style: { width: 300 * U + "px" },
                      className: g().VisualBar,
                    }),
                  ),
                  i.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    I(M),
                  ),
                  i.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    T(R),
                  ),
                ),
                Boolean(S) &&
                  i.createElement(
                    "tr",
                    null,
                    i.createElement("td", null, "Following"),
                    i.createElement("td", null, P, " days"),
                    i.createElement(
                      "td",
                      null,
                      i.createElement(u.X0, { rtStartDate: c, rtEndDate: _ }),
                    ),
                    i.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      I(G),
                    ),
                    i.createElement(
                      "td",
                      null,
                      i.createElement("div", {
                        style: { width: 300 * z + "px" },
                        className: g().VisualBar,
                      }),
                    ),
                    i.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      I(N),
                    ),
                    i.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      T(O),
                    ),
                  ),
              ),
            ),
            i.createElement("br", null),
            i.createElement("br", null),
            i.createElement(y.V, { tabs: q }),
            i.createElement("div", { className: f().ClearThings }),
            i.createElement("br", null),
            i.createElement(
              m.$n,
              { onClick: () => b(v + 50) },
              "Show 50 More Top Apps",
            ),
          )
        );
      }
      function k(e) {
        const {
            oAppSummary: t,
            nTopAppCount: a,
            strToken: n,
            oPriorSummary: r,
            nDays: s,
            nPriorDays: l,
            oPostSummary: o,
            nPostDays: c,
            nTotalSaleUSD: m,
          } = e,
          d = (0, i.useMemo)(() => t?.GetTopNApps(a) || [], [a, t]);
        let u = 0;
        return i.createElement(
          "div",
          { className: g().ComparisonRichTable },
          i.createElement("h3", null, "Top ", d.length, " ", n, " Apps:"),
          i.createElement(
            "table",
            null,
            i.createElement(
              "thead",
              null,
              i.createElement(
                "tr",
                null,
                i.createElement("th", null, "#"),
                i.createElement("th", null, "AppID"),
                i.createElement("th", null, "Name"),
                i.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Revenue",
                ),
                i.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Daily Avg",
                ),
                Boolean(r) &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Prior Daily Avg",
                    ),
                    i.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Lift",
                    ),
                  ),
                Boolean(o) &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement("th", null, "Post Daily Avg"),
                    i.createElement("th", null, "Post Revenue Change vs Base"),
                  ),
                i.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Units",
                ),
                i.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  'Revenue %"',
                ),
                i.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Cumulative Revenue %",
                ),
              ),
            ),
            d.map(
              (e, t) => (
                (u += e.gross_sales_usd),
                i.createElement(P, {
                  key: n + e.appid,
                  index: t,
                  summary: e,
                  nDays: s,
                  priorSummary: r?.GetAppSaleSummary(e.appid),
                  nPriorDays: l,
                  postSummary: o?.GetAppSaleSummary(e.appid),
                  nPostDays: c,
                  nTotalSaleUSD: m,
                  nCumulativeSalesUSDCents: u,
                })
              ),
            ),
          ),
        );
      }
      const R = {};
      function P(e) {
        const {
            summary: t,
            nDays: a,
            index: n,
            priorSummary: r,
            nPriorDays: s,
            postSummary: o,
            nPostDays: c,
            nTotalSaleUSD: m,
            nCumulativeSalesUSDCents: d,
          } = e,
          [u] = (0, l.t7)(t.appid, R),
          p = t.gross_sales_usd / a / 100;
        let _, g, h, E;
        return (
          r && ((_ = r.gross_sales_usd / s / 100), (g = _ > 0 ? p / _ : 0)),
          o && ((h = o.gross_sales_usd / c / 100), (E = _ > 0 ? h / _ : 0)),
          i.createElement(
            "tr",
            null,
            i.createElement("td", null, n + 1),
            i.createElement("td", null, t.appid),
            i.createElement(
              "td",
              null,
              i.createElement(
                "a",
                { href: u?.GetStorePageURL() },
                u?.GetName() || "loading",
              ),
            ),
            i.createElement(
              "td",
              { style: { textAlign: "right" } },
              I(t.gross_sales_usd / 100),
            ),
            i.createElement("td", { style: { textAlign: "right" } }, I(p)),
            Boolean(r) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement("td", { style: { textAlign: "right" } }, I(_)),
                i.createElement("td", { style: { textAlign: "right" } }, T(g)),
              ),
            Boolean(o) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement("td", { style: { textAlign: "right" } }, I(h)),
                i.createElement("td", { style: { textAlign: "right" } }, T(E)),
              ),
            i.createElement(
              "td",
              { style: { textAlign: "right" } },
              t.gross_units_sold.toLocaleString(),
            ),
            i.createElement(
              "td",
              { style: { textAlign: "right" } },
              (t.gross_sales_usd / m).toLocaleString(),
              " %",
            ),
            i.createElement(
              "td",
              { style: { textAlign: "right" } },
              (d / m).toLocaleString(),
              " %",
            ),
          )
        );
      }
    },
    4943: (e, t, a) => {
      "use strict";
      a.d(t, { VE: () => x, Fg: () => q, OF: () => z });
      var n = a(38149),
        r = a(29385),
        i = a(90626),
        s = a(17083),
        l = a(55263),
        o = a(45737),
        c = a.n(o),
        m = a(16676),
        d = a(84811),
        u = a(29863),
        p = a(95695),
        _ = a.n(p),
        g = a(76684),
        h = a(22797),
        E = a(52038),
        S = a(61859),
        y = a(27429),
        v = a(69235),
        f = a(56555),
        b = a(49953),
        w = a(55241),
        D = a(85010),
        C = a(62059),
        I = a(36058),
        B = a(32754),
        T = a(81132),
        M = a.n(T);
      const A = i.memo((e) => {
        const { data: t, appid: a } = e,
          n = (0, i.useCallback)(
            (e, a) =>
              t[a]
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "numeric",
                    day: "numeric",
                  }).format(new Date(1e3 * t[a].rt_end_time))
                : "",
            [t],
          ),
          r = (0, i.useMemo)(() => {
            const e = t.filter((e) => e.appid == a);
            return e.map((t, a) => {
              const n = {
                ...t,
                adjusted_demo_player_count: t.demo_player_count,
              };
              return (
                a > 0 &&
                  (n.adjusted_demo_player_count -= e[a - 1].demo_player_count),
                n
              );
            });
          }, [a, t]);
        return i.createElement(
          "div",
          { className: M().ChartContainer },
          i.createElement(
            "div",
            { className: M().Chart },
            i.createElement(
              d.tH,
              null,
              i.createElement(
                v.u,
                { width: "100%", height: "100%" },
                i.createElement(
                  f.X,
                  {
                    data: r,
                    layout: "horizontal",
                    margin: { top: 25, left: 0, right: 0, bottom: 0 },
                    barGap: 30,
                  },
                  i.createElement(
                    "defs",
                    null,
                    i.createElement(
                      "linearGradient",
                      { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                      i.createElement("stop", { stopColor: "#1A9FFF" }),
                      i.createElement("stop", {
                        offset: "1",
                        stopColor: "#1A9FFF",
                        stopOpacity: "1",
                      }),
                    ),
                  ),
                  i.createElement(b.d, { vertical: !1, stroke: "#a0aab6" }),
                  i.createElement(w.h, {
                    tickFormatter: y.ct,
                    tick: { fill: "white" },
                    axisLine: !0,
                  }),
                  i.createElement(D.m, {
                    wrapperStyle: { outline: "none" },
                    allowEscapeViewBox: { x: !1, y: !0 },
                    isAnimationActive: !1,
                    offset: 0,
                    content: i.createElement(k, null),
                  }),
                  i.createElement(C.y, {
                    dataKey: "adjusted_demo_player_count",
                    barSize: 60,
                    fill: "url( #bar_linear )",
                  }),
                  i.createElement(I.W, {
                    interval: 0,
                    tick: i.createElement(R, null),
                    tickFormatter: n,
                  }),
                ),
              ),
            ),
          ),
        );
      });
      function k({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return i.createElement(
            B.t1,
            null,
            (0, S.we)(
              "#Recap_NextFest_Graph_tooltip",
              (0, y.ct)(e.adjusted_demo_player_count),
              (0, S.TW)(e.rt_end_time),
            ),
          );
        }
        return null;
      }
      function R(e) {
        const { x: t, y: a, payload: n } = e,
          r = e.tickFormatter(n.value, n.index);
        return i.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          i.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            r,
          ),
        );
      }
      var P,
        N = a(60202),
        G = a.n(N),
        O = a(15480),
        F = a.n(O),
        L = a(63554),
        U = a(30470);
      function z(e) {
        const { bShowOnlySummary: t } = e,
          a = r.Mt.Get(),
          l = (0, n.p)(a.GetOptInPageID()),
          o = (0, i.useMemo)(() => {
            let e = 0;
            return (
              l.data?.stats &&
                l.data.stats.forEach((t) => {
                  t.rt_end_time > e && (e = t.rt_end_time);
                }),
              e
            );
          }, [l.data]),
          [u] = (0, i.useMemo)(
            () => [
              l.data?.stats.reduce(
                (e, t) =>
                  t.rt_last_update_time > e ? t.rt_last_update_time : e,
                0,
              ),
            ],
            [l.data?.stats],
          );
        return l.isLoading
          ? i.createElement(h.t, null)
          : l.data?.stats?.length
            ? i.createElement(
                d.tH,
                null,
                i.createElement(
                  "div",
                  {
                    className: (0, E.A)(
                      t ? "" : c().AdminPageCtn,
                      c().WidePageCtn,
                    ),
                  },
                  !t &&
                    i.createElement(
                      i.Fragment,
                      null,
                      i.createElement(
                        "div",
                        { className: c().PageTitle },
                        "OptIn Admin Demo Stats Analysis: ",
                        a.GetName(),
                      ),
                      i.createElement(
                        "div",
                        { className: c().PageSubTitle },
                        "These are stats focussed on demos plays and wishlists that occurred during the fest, calculated after each days completion. The data is computed once per day of the fest, after the day is completed; in other words, the first report available will be 1 day after the starts of the event. This is on the promotion server task 'SteamFestDemoPlayerRollup'.",
                      ),
                      i.createElement(
                        "div",
                        null,
                        i.createElement(
                          m.$n,
                          null,
                          i.createElement(
                            s.N_,
                            { to: L.OptInRoutes.OptinAdminDashboard() },
                            "Dashboard",
                          ),
                        ),
                      ),
                      i.createElement("br", null),
                      i.createElement("hr", null),
                      i.createElement(
                        "div",
                        null,
                        "Stats Last Collected: ",
                        (0, S.TW)(u),
                        " @ ",
                        (0, g.pg)(u),
                      ),
                    ),
                  i.createElement(
                    "div",
                    null,
                    i.createElement(x, {
                      rgDemo: l.data.stats,
                      rtLatestEndDate: o,
                      bShowOnlySummary: t,
                    }),
                    !t &&
                      i.createElement(q, {
                        rgDemo: l.data.stats,
                        rtLatestEndDate: o,
                      }),
                  ),
                ),
              )
            : i.createElement("div", null, "No data to show");
      }
      function x(e) {
        const {
            rgDemo: t,
            rtLatestEndDate: a,
            bShowOnlySummary: n,
            className: r,
            rgAppSansPermissions: s,
          } = e,
          [l, o, m, d] = (0, i.useMemo)(() => {
            let e = 0,
              n = 0,
              r = 0,
              i = 0;
            return (
              t.forEach((t) => {
                t.rt_end_time == a &&
                  ((e += 1),
                  (n += t.demo_player_count),
                  (r += t.wishlist_count),
                  (i += t.player_wishlist_count));
              }),
              (e += s?.length || 0),
              [e, n, r, i]
            );
          }, [t, a, s]);
        return i.createElement(
          "div",
          { className: (0, E.A)(c().StatReportCtn, r) },
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement(
              "div",
              { className: c().BigStat },
              l.toLocaleString(),
            ),
            i.createElement(
              "span",
              { className: c().SmallText },
              (0, S.we)("#Recap_NextFest_Headline_Apps"),
            ),
          ),
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement(
              "div",
              { className: c().BigStat },
              o.toLocaleString(),
            ),
            i.createElement(
              "span",
              { className: c().SmallText },
              (0, S.we)("#Recap_NextFest_Headline_Plays"),
            ),
          ),
          i.createElement(
            "div",
            { className: c().Stat },
            i.createElement(
              "div",
              { className: c().BigStat },
              m.toLocaleString(),
            ),
            i.createElement(
              "span",
              { className: c().SmallText },
              (0, S.we)("#Recap_NextFest_Headline_Wishlist"),
            ),
          ),
          Boolean(!n) &&
            i.createElement(
              "div",
              { className: c().Stat },
              i.createElement(
                "div",
                { className: c().BigStat },
                d.toLocaleString(),
              ),
              i.createElement(
                "span",
                { className: c().SmallText },
                (0, S.we)("#Recap_NextFest_Headline_PlaysAndWish"),
              ),
            ),
        );
      }
      function q(e) {
        const {
            rgDemo: t,
            rtLatestEndDate: a,
            nUniqueApps: n,
            className: r,
            bShowDiscoveryGraph: s,
            rgAppSansPermissions: l,
          } = e,
          [o, c] = (0, i.useState)(P.by_player),
          [d, u] = (0, i.useState)(!1),
          p = (0, i.useMemo)(() => {
            const e = new Array();
            return (
              e.push({ label: "Sort By Players", data: P.by_player }),
              e.push({ label: "Sort By Wishlists", data: P.by_wishlist }),
              e.push({
                label: "Sort By Players who Wishlisted",
                data: P.by_play_wish,
              }),
              e
            );
          }, []),
          g = (0, i.useMemo)(
            () =>
              t
                .filter((e) => e.rt_end_time == a)
                .sort((e, t) =>
                  o == P.by_player
                    ? t.demo_player_count - e.demo_player_count
                    : o == P.by_wishlist
                      ? t.wishlist_count - e.wishlist_count
                      : t.player_wishlist_count - e.player_wishlist_count,
                ),
            [t, a, o],
          );
        return i.createElement(
          "div",
          { className: r },
          i.createElement("br", null),
          Boolean(n > 1) &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(m.m, {
                label: "Sort Order:",
                strDropDownClassName: _().DropDownScroll,
                rgOptions: p,
                selectedOption: o,
                onChange: (e) => c(e.data),
              }),
              i.createElement(m.Yh, {
                label: "Compact Display",
                checked: d,
                onChange: u,
              }),
            ),
          i.createElement(
            "div",
            { className: G().ComparisonRichTable },
            i.createElement(
              "table",
              null,
              i.createElement(
                "thead",
                null,
                i.createElement(
                  "tr",
                  null,
                  i.createElement("th", null, "#"),
                  !d && i.createElement("th", null),
                  i.createElement(
                    "th",
                    null,
                    (0, S.we)("#Recap_NextFest_AppID"),
                  ),
                  i.createElement(
                    "th",
                    null,
                    (0, S.we)("#Recap_NextFest_DemoAppID"),
                  ),
                  i.createElement(
                    "th",
                    null,
                    (0, S.we)("#Recap_NextFest_GameName"),
                  ),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.we)("#Recap_NextFest_TotalPlayers"),
                  ),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.we)("#Recap_NextFest_TotalWishlist"),
                  ),
                  i.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    (0, S.we)("#Recap_NextFest_PlayerWishlist"),
                  ),
                  !d &&
                    s &&
                    i.createElement(
                      "th",
                      null,
                      (0, S.we)("#Recap_NextFest_Graph"),
                    ),
                ),
              ),
              i.createElement(
                "tbody",
                null,
                g.map((e, a) =>
                  i.createElement(H, {
                    key: e.appid,
                    demo: e,
                    rgAllDemos: t,
                    index: a,
                    bCompact: d,
                    bShowDiscoveryGraph: !d && s,
                  }),
                ),
                l?.map((e, t) =>
                  i.createElement(W, {
                    appid: e,
                    bCompact: d,
                    key: "hidden" + e,
                    index: g.length + t,
                  }),
                ),
              ),
            ),
          ),
          Boolean(l?.length > 0) &&
            i.createElement(
              "a",
              {
                href: `${U.TS.PARTNER_BASE_URL}doc/gettingstarted/managing_users`,
                target: "_blank",
              },
              (0, S.we)("#Recap_NextFest_ManagingUserLinks"),
            ),
        );
      }
      function W(e) {
        const { appid: t, bCompact: a, index: n } = e,
          [r] = (0, l.t7)(t, j),
          s = (0, i.useMemo)(() => ({ id: t, type: "game" }), [t]),
          o = r?.GetName() || (0, S.we)("#Recap_NextFest_LoadingApp", t);
        return i.createElement(
          "tr",
          null,
          i.createElement("td", null, (n + 1).toLocaleString()),
          !a &&
            i.createElement(
              "td",
              null,
              i.createElement(
                u.Qf,
                {
                  item: s,
                  hoverProps: {
                    direction: "overlay",
                    style: { minWidth: "320px" },
                  },
                },
                i.createElement("img", {
                  className: F().AppImgCtn,
                  src: r?.GetAssets().GetSmallCapsuleURL(),
                  loading: "lazy",
                  alt: o,
                }),
              ),
            ),
          i.createElement("td", null, t),
          i.createElement("td", null),
          i.createElement(
            "td",
            null,
            i.createElement("a", { href: r?.GetStorePageURL() }, o),
          ),
          i.createElement(
            "td",
            { colSpan: 4, style: { textAlign: "right" } },
            (0, S.we)("#Recap_NextFest_NoAccess"),
          ),
        );
      }
      !(function (e) {
        (e[(e.by_player = 1)] = "by_player"),
          (e[(e.by_wishlist = 2)] = "by_wishlist"),
          (e[(e.by_play_wish = 3)] = "by_play_wish");
      })(P || (P = {}));
      const j = { include_assets: !0 };
      function H(e) {
        const {
            demo: t,
            index: a,
            bCompact: n,
            bShowDiscoveryGraph: r,
            rgAllDemos: s,
          } = e,
          [o] = (0, l.t7)(t.appid, j),
          c = o?.GetName() || (0, S.we)("#Recap_NextFest_LoadingApp", t.appid),
          m = (0, i.useMemo)(() => ({ id: t.appid, type: "game" }), [t]);
        return i.createElement(
          "tr",
          null,
          i.createElement("td", null, (a + 1).toLocaleString()),
          !n &&
            i.createElement(
              "td",
              null,
              i.createElement(
                u.Qf,
                {
                  item: m,
                  hoverProps: {
                    direction: "overlay",
                    style: { minWidth: "320px" },
                  },
                },
                i.createElement("img", {
                  className: F().AppImgCtn,
                  src: o?.GetAssets().GetSmallCapsuleURL(),
                  loading: "lazy",
                  alt: c,
                }),
              ),
            ),
          i.createElement("td", null, t.appid),
          i.createElement("td", null, t.demo_appid),
          i.createElement(
            "td",
            null,
            i.createElement("a", { href: o?.GetStorePageURL() }, c),
          ),
          i.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.demo_player_count.toLocaleString(),
          ),
          i.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.wishlist_count.toLocaleString(),
          ),
          i.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.player_wishlist_count.toLocaleString(),
          ),
          Boolean(r) &&
            i.createElement(
              "td",
              null,
              i.createElement(A, { data: s, appid: t.appid }),
            ),
        );
      }
    },
    91787: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ci: () => m,
        Dq: () => l,
        FW: () => u,
        Lv: () => E,
        PY: () => o,
        Xg: () => _,
        dA: () => g,
        dG: () => d,
        ve: () => p,
        yb: () => c,
      });
      var n = a(78327),
        r = a(90626);
      let i, s;
      function l(e) {
        i || (i = new Intl.NumberFormat("en-US"));
        const t = e.cell.getValue();
        if (!t || Number.isNaN(t)) return null;
        return i.format(Number(t));
      }
      function o(e) {
        return (
          (t = e.getValue()),
          s ||
            (s = new Intl.NumberFormat("en-US", {
              style: "currency",
              currency: "USD",
            })),
          s.format(Number(t)).slice(0, -3)
        );
        var t;
      }
      function c(e) {
        const t = n.TS.PARTNER_BASE_URL + "apps/landing/" + e.getValue();
        return r.createElement(
          "a",
          { style: { fontWeight: "bold" }, target: "_blank", href: t },
          e.getValue(),
        );
      }
      function m(e) {
        const t = n.TS.STORE_BASE_URL + "app/" + e.row.original.appid;
        return r.createElement(
          "a",
          { style: { fontWeight: "bold" }, target: "_blank", href: t },
          e.getValue(),
        );
      }
      function d(e) {
        if (0 == e.getValue()) return "";
        let t = n.TS.PARTNER_BASE_URL + "pub/publisher/" + e.getValue();
        return r.createElement(
          "a",
          { style: { fontWeight: "bold" }, target: "_blank", href: t },
          e.getValue(),
        );
      }
      function u(e) {
        return e.getValue()
          ? r.createElement("span", { style: { color: "green" } }, "Released")
          : r.createElement(
              "span",
              { style: { color: "red" } },
              "Not Released",
            );
      }
      function p(e) {
        const t = e.getValue();
        return "Released" == t
          ? r.createElement("span", { style: { color: "green" } }, t)
          : "Approved" == t
            ? r.createElement("span", { style: { color: "orange" } }, t)
            : "No Demo" == t
              ? r.createElement("span", { style: { color: "red" } }, t)
              : r.createElement(
                  "span",
                  { style: { color: "fuchsia" } },
                  "Not Opted In",
                );
      }
      function _(e) {
        return Boolean(e.getValue())
          ? r.createElement("span", { style: { color: "green" } }, "Yes")
          : null;
      }
      function g(e) {
        if (Boolean(e.getValue())) {
          const t = e.strURLToOptIn + e.row.original.appid;
          return r.createElement(
            "a",
            {
              style: { color: "green", fontWeight: "bold" },
              target: "_blank",
              href: t,
            },
            "Yes",
          );
        }
        return null;
      }
      const h = new RegExp("\\(package id:(\\d+)\\)");
      function E(e) {
        const t = e.getValue();
        if (t) {
          if (t.indexOf("(package id:") > 0) {
            const e = t.split("\n");
            return e.map((t, a) => {
              const i = h.exec(t);
              if (2 == i?.length) {
                const s = n.TS.PARTNER_BASE_URL + "packages/discounts/" + i[1],
                  l = t;
                return r.createElement(
                  r.Fragment,
                  { key: a },
                  r.createElement(
                    "a",
                    {
                      style: { fontWeight: "bold" },
                      target: "_blank",
                      href: s,
                    },
                    l,
                  ),
                  a < e.length - 1 && r.createElement("br", null),
                );
              }
              return null;
            });
          }
          return t;
        }
        return null;
      }
    },
    36185: (e, t, a) => {
      "use strict";
      a.d(t, { F: () => o });
      var n = a(29385),
        r = a(90626),
        i = a(16676),
        s = a(76684),
        l = a(39128);
      function o(e) {
        const t = n.Mt.Get(),
          a = (0, n.G4)(),
          [o, c] = (0, r.useState)(!1);
        return r.createElement(
          "div",
          { style: { width: "100%" } },
          r.createElement(
            "span",
            { className: e.ctnOverride || l.StatsCtn },
            "Refreshed:",
            Boolean(a && a.time_updated) &&
              r.createElement(s.K4, {
                dateAndTime: a.time_updated,
                bSingleLine: !0,
              }),
            r.createElement("br", null),
            r.createElement(
              "span",
              { className: l.Warning },
              "Sales numbers are for Valve Admins only",
            ),
            r.createElement("br", null),
            r.createElement(
              i.$n,
              {
                id: "statsRefreshButton",
                onClick: async () => {
                  c(!0), await t.RefreshActiveStats(), c(!1);
                },
                style: { marginTop: "10px", float: "right", width: "120px" },
                disabled: o,
              },
              o ? "Refreshing..." : "Refresh Stats",
            ),
            r.createElement("br", null),
            r.createElement("br", null),
          ),
        );
      }
    },
    5026: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => o, S: () => l });
      var n = a(29385),
        r = a(76685),
        i = a(90626),
        s = a(22797);
      function l(e) {
        const { pageid: t } = e,
          [a, l] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            const e = r.v.Get().GetDefinition(t);
            if (e) {
              let a = r.v.Get().GetOptInStats()[t];
              n.Mt.Get().Reset(e, a), l(n.Mt.Get());
            } else
              r.v
                .Get()
                .LoadOptInAdminDef(t)
                .then((e) => {
                  if (e) {
                    const e = r.v.Get().GetDefinition(t);
                    let a = r.v.Get().GetOptInStats()[t];
                    n.Mt.Get().Reset(e, a), l(n.Mt.Get());
                  }
                });
          }, [t]),
          a && a.BInitialized()
            ? i.createElement(i.Fragment, null, e.children)
            : i.createElement(s.t, { string: "Loading optin info: " + t })
        );
      }
      function o(e) {
        const { pageid: t } = e,
          [a, l] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            const e = r.v.Get().GetDefinition(t);
            e
              ? (n.Mt.Get().Reset(e, null), l(n.Mt.Get()))
              : r.v
                  .Get()
                  .LoadOptInAdminDef(t)
                  .then((e) => {
                    if (e) {
                      const e = r.v.Get().GetDefinition(t);
                      n.Mt.Get().Reset(e, null), l(n.Mt.Get());
                    }
                  });
          }, [t]),
          a && a.BInitialized()
            ? i.createElement(i.Fragment, null, e.children)
            : i.createElement(s.t, { string: "Loading optin info: " + t })
        );
      }
    },
    32011: (e, t, a) => {
      "use strict";
      a.d(t, { Rl: () => s, Yi: () => i, qF: () => l });
      var n = a(22837),
        r = a(30470);
      function i(e, t, a) {
        return `${r.TS.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${a}`;
      }
      function s(e) {
        const t = r.TS.LANGUAGE;
        return e.localized_optin_banner?.[t]
          ? i(e.pageid, (0, n.sf)(t), e.localized_optin_banner[t])
          : e.localized_optin_banner?.english
            ? i(e.pageid, 0, e.localized_optin_banner.english)
            : null;
      }
      function l(e, t, a) {
        return `${r.TS.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${a}`;
      }
    },
    63554: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { OptInRoutes: () => bo, default: () => Co });
      var n = a(90626),
        r = a(43527),
        i = a(97058),
        s = a(29385),
        l = a(76685),
        o = a(17083),
        c = a(44165),
        m = a(16676),
        d = a(84811),
        u = a(95034),
        p = a(95695),
        _ = a.n(p),
        g = a(76684),
        h = a(738),
        E = a(38135),
        S = a(51272),
        y = a(52038),
        v = a(56011),
        f = a(78327),
        b = a(60202),
        w = a.n(b),
        D = a(41735),
        C = a.n(D),
        I = a(56330),
        B = a.n(I),
        T = a(9154),
        M = a(22797),
        A = a(68797);
      function k(e) {
        const { def: t, closeModal: a, stats: r } = e,
          [i, s] = (0, n.useState)(""),
          [l, o] = (0, n.useState)(!1),
          [c, d] = (0, n.useState)(!1),
          [u, p] = (0, n.useState)(!1),
          [_, h] = (0, n.useState)(null);
        return n.createElement(
          T.o0,
          {
            strTitle: "Clone OptIn Definitions",
            onOK: () => {
              d(!0),
                (async function (e, t, a) {
                  const n =
                    f.TS.PARTNER_BASE_URL +
                    (a
                      ? "optin/ajaxadmincloneinvites"
                      : "optin/ajaxadmincloneoptinpage");
                  let r = null;
                  try {
                    const i = new FormData();
                    i.append("sessionid", f.TS.SESSIONID),
                      i.append(
                        a ? "strSourceOptInName" : "strOldOptInName",
                        e.pageid,
                      ),
                      i.append(a ? "strTargetOptInName" : "strNewOptInName", t);
                    const s = await C().post(n, i, { withCredentials: !0 });
                    if (1 == s?.data?.success) return !0;
                    r = (0, A.H)(s);
                  } catch (e) {
                    r = (0, A.H)(e);
                  }
                  return (
                    console.log(
                      "CloneOptInDefinition: Failed with ",
                      r.strErrorMsg,
                      r,
                    ),
                    !1
                  );
                })(t, "sale_" + i, l)
                  .then((e) => {
                    p(e), e || h("Failed to Clone: " + t.pageid);
                  })
                  .catch(() =>
                    h("Failed to Clone, exception caught, " + t.pageid),
                  );
            },
            onCancel: a,
            bOKDisabled: c || 0 == i.trim().length,
          },
          n.createElement(
            "p",
            null,
            "Cloning the OptIn Definition will create a copy of ",
            t.pageid,
            " with the new name you have specified. The OptIn definition will be saved as a draft and return to a more initial state. Please review text and dates to ensure they aren't out of date.  Also make sure the stats are refresh before you clone as those are used. Cloning will also do the following:",
          ),
          n.createElement(
            "p",
            null,
            "We depends on the latest stats to clone invites/prunes. Stats were last refreshed at:",
            r?.time_updated
              ? n.createElement(g.K4, {
                  dateAndTime: r.time_updated,
                  bSingleLine: !0,
                })
              : "",
          ),
          n.createElement(
            "ol",
            null,
            n.createElement(
              "li",
              null,
              "Only keep the English text. We expect there to be dates embed and it will require new localization",
            ),
            n.createElement(
              "li",
              null,
              "Will keep the full localization for the dynamic sections (questions asked to optin participants)",
            ),
            n.createElement(
              "li",
              null,
              "Will NOT copy over the email settings",
            ),
            n.createElement("li", null, "Will copy the prune app list"),
            n.createElement(
              "li",
              null,
              "Will convert Opted In, Opted Out and Invited to: Open Invite Status",
            ),
            n.createElement("li", null, "Will NOT copy over the featured apps"),
          ),
          n.createElement(m.pd, {
            type: "string",
            label:
              (l ? "Choose Existing page id" : "Choose New page id") +
              ', exclude "sale_"',
            tooltip:
              'Page always start with "sale_" so exclude that in your input. It will be appended before we call the server for the clone operation.',
            value: i,
            onChange: (e) => s(e?.currentTarget?.value || ""),
            placeholder: "for example: builders_2023",
            disabled: c,
          }),
          n.createElement(m.Yh, {
            checked: l,
            onChange: o,
            label: "Only Run Invitation/Pruning Cloning",
            tooltip:
              "If enabled then make sure the name entered abve is an existing opt-in which we want to copy the pruning and invitation data over to",
            disabled: c,
          }),
          Boolean(c && !u && !_) &&
            n.createElement(M.t, {
              string: "Cloning",
              position: "center",
              size: "medium",
            }),
          Boolean(_) &&
            n.createElement("div", { className: I.ErrorStylesBackground }, _),
          Boolean(u) &&
            n.createElement("div", null, "Success! You can close this Dialog."),
        );
      }
      var R = a(61859);
      function P(e) {
        const t = l.v.Get(),
          a = (0, n.useRef)(null),
          r = C().CancelToken.source(),
          [i, s] = (0, n.useState)(""),
          o = () => {
            a.current && a.current("new create requested."),
              e.closeModal && e.closeModal();
          };
        return n.createElement(
          T.eV,
          { onCancel: o },
          n.createElement(m.Y9, null, "Create a new Opt In Page"),
          n.createElement(
            m.nB,
            null,
            n.createElement(
              "span",
              null,
              "Please provide a unique ID for the page. Do not start with the 'sale_' prefix, this will automatically be added for you.",
            ),
            n.createElement("br", null),
            n.createElement(
              "div",
              null,
              n.createElement(
                "span",
                { style: { width: "100px", display: "inline-block" } },
                "Sale ID",
              ),
              n.createElement("input", {
                type: "text",
                onChange: function (e) {
                  s(e.target.value);
                },
              }),
              n.createElement("br", null),
              n.createElement("p", null),
              n.createElement(
                "span",
                { style: { fontStyle: "italic" } },
                "The Sale ID is used in the URL for the page. Only letters, numbers, and underscores are allowed.",
              ),
              n.createElement("p", null),
              n.createElement("span", {
                id: "resultmsg",
                style: { color: "red" },
              }),
            ),
          ),
          n.createElement(
            m.wi,
            null,
            n.createElement(m.CB, {
              onCancel: o,
              onOK: async function () {
                let e;
                if (
                  (a.current && a.current("new create requested."),
                  await (e = t.CreatePage(i, r.token)),
                  t.GetCreatedPageId())
                )
                  window.location.href =
                    f.TS.PARTNER_BASE_URL +
                    "optin/admin/edit/" +
                    t.GetCreatedPageId();
                else {
                  let e = document.getElementById("resultmsg");
                  t.GetCreatePageErrMsg()
                    ? (e.innerText = t.GetCreatePageErrMsg())
                    : (e.innerText =
                        "Error occured when attempting to create page.  Please try again.");
                }
              },
              strOKText: (0, R.we)("#Button_Continue"),
            }),
          ),
        );
      }
      var N,
        G,
        O = a(18573),
        F = a.n(O),
        L = a(34629),
        U = a(77515),
        z = a(14947),
        x = a(20194),
        q = a(56545),
        W = a(96059),
        j = a(80613),
        H = a.n(j),
        V = a(89068);
      class K extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            K.prototype.packageids || V.Sg(K.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            K.sm_m ||
              (K.sm_m = {
                proto: K,
                fields: {
                  packageids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: V.qM.readUint32,
                    pbr: V.qM.readPackedUint32,
                    bw: V.gp.writeRepeatedUint32,
                  },
                },
              }),
            K.sm_m
          );
        }
        static MBF() {
          return K.sm_mbf || (K.sm_mbf = V.w0(K.M())), K.sm_mbf;
        }
        toObject(e = !1) {
          return K.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(K.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(K.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new K();
          return K.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(K.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(K.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerPaidGivenPackageList_Request";
        }
      }
      class Y extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Y.prototype.paid || V.Sg(Y.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Y.sm_m ||
              (Y.sm_m = {
                proto: Y,
                fields: { paid: { n: 1, c: $, r: !0, q: !0 } },
              }),
            Y.sm_m
          );
        }
        static MBF() {
          return Y.sm_mbf || (Y.sm_mbf = V.w0(Y.M())), Y.sm_mbf;
        }
        toObject(e = !1) {
          return Y.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(Y.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(Y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Y();
          return Y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(Y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(Y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerPaidGivenPackageList_Response";
        }
      }
      class $ extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $.prototype.partnerid || V.Sg($.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $.sm_m ||
              ($.sm_m = {
                proto: $,
                fields: {
                  partnerid: {
                    n: 1,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  packageid: {
                    n: 2,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            $.sm_m
          );
        }
        static MBF() {
          return $.sm_mbf || ($.sm_mbf = V.w0($.M())), $.sm_mbf;
        }
        toObject(e = !1) {
          return $.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT($.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq($.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new $();
          return $.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj($.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0($.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerPaidGivenPackageList_Response_CPackageAndPartnerPair";
        }
      }
      class J extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            J.prototype.opt_in_name || V.Sg(J.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            J.sm_m ||
              (J.sm_m = {
                proto: J,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  targeting_flag: {
                    n: 2,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  settings_flag: {
                    n: 3,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  email_templates: {
                    n: 4,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  start_rtime: {
                    n: 5,
                    d: 0,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  end_rtime: {
                    n: 6,
                    d: 0,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            J.sm_m
          );
        }
        static MBF() {
          return J.sm_mbf || (J.sm_mbf = V.w0(J.M())), J.sm_mbf;
        }
        toObject(e = !1) {
          return J.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(J.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(J.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new J();
          return J.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(J.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(J.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_CreatePartnerAppOptInEmail_Request";
        }
      }
      class X extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            X.prototype.email_def_id || V.Sg(X.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            X.sm_m ||
              (X.sm_m = {
                proto: X,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                },
              }),
            X.sm_m
          );
        }
        static MBF() {
          return X.sm_mbf || (X.sm_mbf = V.w0(X.M())), X.sm_mbf;
        }
        toObject(e = !1) {
          return X.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(X.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(X.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new X();
          return X.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(X.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(X.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_CreatePartnerAppOptInEmail_Response";
        }
      }
      class Q extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Q.prototype.email_def_id || V.Sg(Q.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Q.sm_m ||
              (Q.sm_m = {
                proto: Q,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  targeting_flag: {
                    n: 2,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  settings_flag: {
                    n: 3,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  email_templates: {
                    n: 4,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  start_rtime: {
                    n: 5,
                    d: 0,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  end_rtime: {
                    n: 6,
                    d: 0,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  reviewed: {
                    n: 7,
                    d: !1,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                },
              }),
            Q.sm_m
          );
        }
        static MBF() {
          return Q.sm_mbf || (Q.sm_mbf = V.w0(Q.M())), Q.sm_mbf;
        }
        toObject(e = !1) {
          return Q.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(Q.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(Q.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Q();
          return Q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(Q.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(Q.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_UpdatePartnerAppOptInEmail_Request";
        }
      }
      class Z extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return Z.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new Z();
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Z();
          return Z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_UpdatePartnerAppOptInEmail_Response";
        }
      }
      class ee extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ee.prototype.accounts_examined || V.Sg(ee.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ee.sm_m ||
              (ee.sm_m = {
                proto: ee,
                fields: {
                  accounts_examined: {
                    n: 1,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accounts_emailed: {
                    n: 2,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accounts_not_emailed_opted_out: {
                    n: 3,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accounts_email_failed: {
                    n: 4,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  completed: { n: 5, br: V.qM.readBool, bw: V.gp.writeBool },
                  rt_last_updated: {
                    n: 6,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            ee.sm_m
          );
        }
        static MBF() {
          return ee.sm_mbf || (ee.sm_mbf = V.w0(ee.M())), ee.sm_mbf;
        }
        toObject(e = !1) {
          return ee.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ee.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ee();
          return ee.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInEmailStats";
        }
      }
      class te extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            te.prototype.email_def_id || V.Sg(te.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            te.sm_m ||
              (te.sm_m = {
                proto: te,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  force_resend: { n: 2, br: V.qM.readBool, bw: V.gp.writeBool },
                },
              }),
            te.sm_m
          );
        }
        static MBF() {
          return te.sm_mbf || (te.sm_mbf = V.w0(te.M())), te.sm_mbf;
        }
        toObject(e = !1) {
          return te.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(te.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(te.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new te();
          return te.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(te.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(te.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_SendPartnerAppOptInEmailAndWait_Request";
        }
      }
      class ae extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ae.prototype.results || V.Sg(ae.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ae.sm_m ||
              (ae.sm_m = { proto: ae, fields: { results: { n: 1, c: ee } } }),
            ae.sm_m
          );
        }
        static MBF() {
          return ae.sm_mbf || (ae.sm_mbf = V.w0(ae.M())), ae.sm_mbf;
        }
        toObject(e = !1) {
          return ae.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ae.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ae.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ae();
          return ae.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ae.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ae.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_SendPartnerAppOptInEmailAndWait_Response";
        }
      }
      class ne extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ne.prototype.opt_in_name || V.Sg(ne.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ne.sm_m ||
              (ne.sm_m = {
                proto: ne,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  targeting_flag: {
                    n: 2,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  settings_flag: {
                    n: 3,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  email_templates: {
                    n: 4,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  start_rtime: {
                    n: 5,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  end_rtime: {
                    n: 6,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  stats: { n: 7, c: ee },
                  creator_accountid: {
                    n: 8,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  create_time: {
                    n: 9,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  last_update_time: {
                    n: 10,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  email_def_id: {
                    n: 11,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  completed: { n: 12, br: V.qM.readBool, bw: V.gp.writeBool },
                  aborted: { n: 13, br: V.qM.readBool, bw: V.gp.writeBool },
                  deleted: { n: 14, br: V.qM.readBool, bw: V.gp.writeBool },
                  reviewed: { n: 15, br: V.qM.readBool, bw: V.gp.writeBool },
                },
              }),
            ne.sm_m
          );
        }
        static MBF() {
          return ne.sm_mbf || (ne.sm_mbf = V.w0(ne.M())), ne.sm_mbf;
        }
        toObject(e = !1) {
          return ne.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ne.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ne.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ne();
          return ne.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ne.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ne.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInEmailDef";
        }
      }
      class re extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            re.prototype.opt_in_name || V.Sg(re.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            re.sm_m ||
              (re.sm_m = {
                proto: re,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                },
              }),
            re.sm_m
          );
        }
        static MBF() {
          return re.sm_mbf || (re.sm_mbf = V.w0(re.M())), re.sm_mbf;
        }
        toObject(e = !1) {
          return re.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(re.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(re.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new re();
          return re.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(re.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(re.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerAppOptInEmailDefAndStats_Request";
        }
      }
      class ie extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ie.prototype.defs || V.Sg(ie.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ie.sm_m ||
              (ie.sm_m = {
                proto: ie,
                fields: { defs: { n: 1, c: ne, r: !0, q: !0 } },
              }),
            ie.sm_m
          );
        }
        static MBF() {
          return ie.sm_mbf || (ie.sm_mbf = V.w0(ie.M())), ie.sm_mbf;
        }
        toObject(e = !1) {
          return ie.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ie.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ie.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ie();
          return ie.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ie.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ie.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerAppOptInEmailDefAndStats_Response";
        }
      }
      class se extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            se.prototype.email_def_id || V.Sg(se.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            se.sm_m ||
              (se.sm_m = {
                proto: se,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                },
              }),
            se.sm_m
          );
        }
        static MBF() {
          return se.sm_mbf || (se.sm_mbf = V.w0(se.M())), se.sm_mbf;
        }
        toObject(e = !1) {
          return se.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(se.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(se.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new se();
          return se.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(se.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(se.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetEstimatePartnerAppOptInEmail_Request";
        }
      }
      class le extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            le.prototype.stats || V.Sg(le.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            le.sm_m ||
              (le.sm_m = { proto: le, fields: { stats: { n: 1, c: ee } } }),
            le.sm_m
          );
        }
        static MBF() {
          return le.sm_mbf || (le.sm_mbf = V.w0(le.M())), le.sm_mbf;
        }
        toObject(e = !1) {
          return le.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(le.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(le.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new le();
          return le.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(le.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return le.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(le.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return le.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetEstimatePartnerAppOptInEmail_Response";
        }
      }
      class oe extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            oe.prototype.email_def_id || V.Sg(oe.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            oe.sm_m ||
              (oe.sm_m = {
                proto: oe,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  appid: { n: 2, br: V.qM.readUint32, bw: V.gp.writeUint32 },
                  partnerid: {
                    n: 3,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            oe.sm_m
          );
        }
        static MBF() {
          return oe.sm_mbf || (oe.sm_mbf = V.w0(oe.M())), oe.sm_mbf;
        }
        toObject(e = !1) {
          return oe.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(oe.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(oe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new oe();
          return oe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(oe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return oe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(oe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return oe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_TestFirePartnerAppOptInEmail_Request";
        }
      }
      class ce extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return ce.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new ce();
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ce();
          return ce.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ce.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ce.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_TestFirePartnerAppOptInEmail_Response";
        }
      }
      class me extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            me.prototype.accountid || V.Sg(me.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            me.sm_m ||
              (me.sm_m = {
                proto: me,
                fields: {
                  accountid: {
                    n: 1,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  appid: { n: 2, br: V.qM.readUint32, bw: V.gp.writeUint32 },
                  partnerid: {
                    n: 3,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  rtime_notified: {
                    n: 4,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  ignored_unverified_email: {
                    n: 5,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                  ignored_email_optout: {
                    n: 6,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                  status: { n: 7, br: V.qM.readUint32, bw: V.gp.writeUint32 },
                  send_rtime: {
                    n: 8,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            me.sm_m
          );
        }
        static MBF() {
          return me.sm_mbf || (me.sm_mbf = V.w0(me.M())), me.sm_mbf;
        }
        toObject(e = !1) {
          return me.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(me.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(me.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new me();
          return me.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(me.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return me.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(me.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return me.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerOptInEmailTracking";
        }
      }
      class de extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            de.prototype.email_def_id || V.Sg(de.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            de.sm_m ||
              (de.sm_m = {
                proto: de,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                },
              }),
            de.sm_m
          );
        }
        static MBF() {
          return de.sm_mbf || (de.sm_mbf = V.w0(de.M())), de.sm_mbf;
        }
        toObject(e = !1) {
          return de.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(de.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(de.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new de();
          return de.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(de.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return de.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(de.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return de.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetOptInEmailTracking_Request";
        }
      }
      class ue extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ue.prototype.email_def_id || V.Sg(ue.M()),
            j.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ue.sm_m ||
              (ue.sm_m = {
                proto: ue,
                fields: {
                  email_def_id: {
                    n: 1,
                    br: V.qM.readFixed64String,
                    bw: V.gp.writeFixed64String,
                  },
                  results: { n: 2, c: me, r: !0, q: !0 },
                },
              }),
            ue.sm_m
          );
        }
        static MBF() {
          return ue.sm_mbf || (ue.sm_mbf = V.w0(ue.M())), ue.sm_mbf;
        }
        toObject(e = !1) {
          return ue.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ue.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ue.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ue();
          return ue.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ue.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ue.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ue.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ue.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetOptInEmailTracking_Response";
        }
      }
      class pe extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            pe.prototype.appid || V.Sg(pe.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            pe.sm_m ||
              (pe.sm_m = {
                proto: pe,
                fields: {
                  appid: { n: 1, br: V.qM.readUint32, bw: V.gp.writeUint32 },
                  opt_in: { n: 2, br: V.qM.readBool, bw: V.gp.writeBool },
                  opt_in_name: {
                    n: 3,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  jsondata: { n: 4, br: V.qM.readString, bw: V.gp.writeString },
                  type: { n: 5, br: V.qM.readEnum, bw: V.gp.writeEnum },
                  accountid_add: {
                    n: 6,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_opted_in: {
                    n: 7,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_updated: {
                    n: 8,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accountid_lastmod: {
                    n: 9,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  invited: { n: 10, br: V.qM.readBool, bw: V.gp.writeBool },
                  accountid_remove: {
                    n: 11,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_opted_out: {
                    n: 12,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  pruned: { n: 13, br: V.qM.readBool, bw: V.gp.writeBool },
                  accountid_prune: {
                    n: 14,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_pruned: {
                    n: 15,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  additional_featuring: {
                    n: 16,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                  feature_day: {
                    n: 17,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accountid_invited: {
                    n: 18,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  no_planned_discount: {
                    n: 19,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                  pending_review: {
                    n: 20,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  appeal_state: {
                    n: 21,
                    br: V.qM.readEnum,
                    bw: V.gp.writeEnum,
                  },
                  accountid_appeal: {
                    n: 22,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_appeal_decision: {
                    n: 23,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            pe.sm_m
          );
        }
        static MBF() {
          return pe.sm_mbf || (pe.sm_mbf = V.w0(pe.M())), pe.sm_mbf;
        }
        toObject(e = !1) {
          return pe.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(pe.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(pe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new pe();
          return pe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(pe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return pe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(pe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return pe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerAppOptInData";
        }
      }
      class _e extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _e.prototype.appid || V.Sg(_e.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _e.sm_m ||
              (_e.sm_m = {
                proto: _e,
                fields: {
                  appid: { n: 1, br: V.qM.readUint32, bw: V.gp.writeUint32 },
                  opt_in_name: {
                    n: 2,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                },
              }),
            _e.sm_m
          );
        }
        static MBF() {
          return _e.sm_mbf || (_e.sm_mbf = V.w0(_e.M())), _e.sm_mbf;
        }
        toObject(e = !1) {
          return _e.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(_e.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(_e.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new _e();
          return _e.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(_e.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return _e.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(_e.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return _e.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetSinglePartnerAppOptIns_Request";
        }
      }
      class ge extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ge.prototype.data || V.Sg(ge.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ge.sm_m ||
              (ge.sm_m = {
                proto: ge,
                fields: { data: { n: 1, c: pe, r: !0, q: !0 } },
              }),
            ge.sm_m
          );
        }
        static MBF() {
          return ge.sm_mbf || (ge.sm_mbf = V.w0(ge.M())), ge.sm_mbf;
        }
        toObject(e = !1) {
          return ge.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ge.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ge.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ge();
          return ge.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ge.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ge.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ge.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ge.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetSinglePartnerAppOptIns_Response";
        }
      }
      class he extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            he.prototype.appids || V.Sg(he.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            he.sm_m ||
              (he.sm_m = {
                proto: he,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: V.qM.readUint32,
                    pbr: V.qM.readPackedUint32,
                    bw: V.gp.writeRepeatedUint32,
                  },
                  additional_featuring: {
                    n: 2,
                    d: !0,
                    br: V.qM.readBool,
                    bw: V.gp.writeBool,
                  },
                  opt_in_name: {
                    n: 3,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                },
              }),
            he.sm_m
          );
        }
        static MBF() {
          return he.sm_mbf || (he.sm_mbf = V.w0(he.M())), he.sm_mbf;
        }
        toObject(e = !1) {
          return he.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(he.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(he.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new he();
          return he.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(he.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return he.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(he.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return he.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_SetFeaturingOnPartnerAppOptIn_Request";
        }
      }
      class Ee extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ee.prototype.appids || V.Sg(Ee.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ee.sm_m ||
              (Ee.sm_m = {
                proto: Ee,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: V.qM.readUint32,
                    pbr: V.qM.readPackedUint32,
                    bw: V.gp.writeRepeatedUint32,
                  },
                },
              }),
            Ee.sm_m
          );
        }
        static MBF() {
          return Ee.sm_mbf || (Ee.sm_mbf = V.w0(Ee.M())), Ee.sm_mbf;
        }
        toObject(e = !1) {
          return Ee.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(Ee.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(Ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Ee();
          return Ee.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(Ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(Ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_SetFeaturingOnPartnerAppOptIn_Response";
        }
      }
      class Se extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Se.prototype.opt_in_name || V.Sg(Se.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Se.sm_m ||
              (Se.sm_m = {
                proto: Se,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                },
              }),
            Se.sm_m
          );
        }
        static MBF() {
          return Se.sm_mbf || (Se.sm_mbf = V.w0(Se.M())), Se.sm_mbf;
        }
        toObject(e = !1) {
          return Se.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(Se.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(Se.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Se();
          return Se.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(Se.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Se.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(Se.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Se.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerAppOptInsIDs_Request";
        }
      }
      class ye extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ye.prototype.opted_in_appids || V.Sg(ye.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ye.sm_m ||
              (ye.sm_m = {
                proto: ye,
                fields: {
                  opted_in_appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: V.qM.readUint32,
                    pbr: V.qM.readPackedUint32,
                    bw: V.gp.writeRepeatedUint32,
                  },
                },
              }),
            ye.sm_m
          );
        }
        static MBF() {
          return ye.sm_mbf || (ye.sm_mbf = V.w0(ye.M())), ye.sm_mbf;
        }
        toObject(e = !1) {
          return ye.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ye.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ye.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ye();
          return ye.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ye.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ye.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ye.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ye.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetPartnerAppOptInsIDs_Response";
        }
      }
      class ve extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ve.prototype.opt_in_names || V.Sg(ve.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ve.sm_m ||
              (ve.sm_m = {
                proto: ve,
                fields: {
                  opt_in_names: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: V.qM.readString,
                    bw: V.gp.writeRepeatedString,
                  },
                },
              }),
            ve.sm_m
          );
        }
        static MBF() {
          return ve.sm_mbf || (ve.sm_mbf = V.w0(ve.M())), ve.sm_mbf;
        }
        toObject(e = !1) {
          return ve.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(ve.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(ve.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new ve();
          return ve.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(ve.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return ve.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(ve.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return ve.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetOptInAppealsSummaryStats_Request";
        }
      }
      class fe extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            fe.prototype.summary || V.Sg(fe.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            fe.sm_m ||
              (fe.sm_m = {
                proto: fe,
                fields: { summary: { n: 1, c: be, r: !0, q: !0 } },
              }),
            fe.sm_m
          );
        }
        static MBF() {
          return fe.sm_mbf || (fe.sm_mbf = V.w0(fe.M())), fe.sm_mbf;
        }
        toObject(e = !1) {
          return fe.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(fe.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(fe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new fe();
          return fe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(fe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return fe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(fe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return fe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetOptInAppealsSummaryStats_Response";
        }
      }
      class be extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            be.prototype.opt_in_name || V.Sg(be.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            be.sm_m ||
              (be.sm_m = {
                proto: be,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  open_appeals: {
                    n: 2,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  reject_appeals: {
                    n: 3,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accepted_appeals: {
                    n: 4,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  appeal_account_id: {
                    n: 5,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                },
              }),
            be.sm_m
          );
        }
        static MBF() {
          return be.sm_mbf || (be.sm_mbf = V.w0(be.M())), be.sm_mbf;
        }
        toObject(e = !1) {
          return be.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(be.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(be.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new be();
          return be.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(be.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return be.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(be.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return be.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPublishing_GetOptInAppealsSummaryStats_Response_CSummary";
        }
      }
      class we extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            we.prototype.inviteid || V.Sg(we.M()),
            j.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            we.sm_m ||
              (we.sm_m = {
                proto: we,
                fields: {
                  inviteid: {
                    n: 1,
                    br: V.qM.readUint64String,
                    bw: V.gp.writeUint64String,
                  },
                  accountid_sender: {
                    n: 2,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  email: { n: 3, br: V.qM.readString, bw: V.gp.writeString },
                  real_name: {
                    n: 4,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                  note: { n: 5, br: V.qM.readString, bw: V.gp.writeString },
                  time_sent: {
                    n: 6,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  current_state: {
                    n: 7,
                    br: V.qM.readEnum,
                    bw: V.gp.writeEnum,
                  },
                  pub_rights: {
                    n: 8,
                    br: V.qM.readUint64String,
                    bw: V.gp.writeUint64String,
                  },
                  app_rights: {
                    n: 9,
                    br: V.qM.readUint64String,
                    bw: V.gp.writeUint64String,
                  },
                  time_receiver_responded: {
                    n: 10,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accountid: {
                    n: 11,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_partner_responded: {
                    n: 12,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  accountid_partner: {
                    n: 13,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  partnerid: {
                    n: 14,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  time_last_updated: {
                    n: 15,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  sender_ip: {
                    n: 16,
                    br: V.qM.readString,
                    bw: V.gp.writeString,
                  },
                },
              }),
            we.sm_m
          );
        }
        static MBF() {
          return we.sm_mbf || (we.sm_mbf = V.w0(we.M())), we.sm_mbf;
        }
        toObject(e = !1) {
          return we.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(we.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(we.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new we();
          return we.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(we.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return we.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(we.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return we.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "MembershipInvite";
        }
      }
      class De extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            De.prototype.partnerid || V.Sg(De.M()),
            j.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            De.sm_m ||
              (De.sm_m = {
                proto: De,
                fields: {
                  partnerid: {
                    n: 1,
                    br: V.qM.readUint32,
                    bw: V.gp.writeUint32,
                  },
                  filter_states: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: V.qM.readEnum,
                    pbr: V.qM.readPackedEnum,
                    bw: V.gp.writeRepeatedEnum,
                  },
                },
              }),
            De.sm_m
          );
        }
        static MBF() {
          return De.sm_mbf || (De.sm_mbf = V.w0(De.M())), De.sm_mbf;
        }
        toObject(e = !1) {
          return De.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(De.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(De.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new De();
          return De.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(De.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return De.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(De.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return De.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMembershipInvite_GetInvites_Request";
        }
      }
      class Ce extends j.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ce.prototype.invites || V.Sg(Ce.M()),
            j.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ce.sm_m ||
              (Ce.sm_m = {
                proto: Ce,
                fields: { invites: { n: 1, c: we, r: !0, q: !0 } },
              }),
            Ce.sm_m
          );
        }
        static MBF() {
          return Ce.sm_mbf || (Ce.sm_mbf = V.w0(Ce.M())), Ce.sm_mbf;
        }
        toObject(e = !1) {
          return Ce.toObject(e, this);
        }
        static toObject(e, t) {
          return V.BT(Ce.M(), e, t);
        }
        static fromObject(e) {
          return V.Uq(Ce.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (H().BinaryReader)(e),
            a = new Ce();
          return Ce.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return V.zj(Ce.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (H().BinaryWriter)();
          return Ce.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          V.i0(Ce.M(), e, t);
        }
        serializeBase64String() {
          var e = new (H().BinaryWriter)();
          return Ce.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMembershipInvite_GetInvites_Response";
        }
      }
      !(function (e) {
        (e.GetSinglePartnerAppOptIn = function (e, t) {
          return e.SendMsg(
            "Publishing.GetSinglePartnerAppOptIn#1",
            (0, q.I8)(_e, t),
            ge,
            { bConstMethod: !0, ePrivilege: 1 },
          );
        }),
          (e.SetFeaturingOnPartnerAppOptIn = function (e, t) {
            return e.SendMsg(
              "Publishing.SetFeaturingOnPartnerAppOptIn#1",
              (0, q.I8)(he, t),
              Ee,
              { ePrivilege: 1 },
            );
          }),
          (e.GetPartnerAppOptInsIDs = function (e, t) {
            return e.SendMsg(
              "Publishing.GetPartnerAppOptInsIDs#1",
              (0, q.I8)(Se, t),
              ye,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetOptInAppealsSummaryStats = function (e, t) {
            return e.SendMsg(
              "Publishing.GetOptInAppealsSummaryStats#1",
              (0, q.I8)(ve, t),
              fe,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.CreatePartnerAppOptInEmails = function (e, t) {
            return e.SendMsg(
              "Publishing.CreatePartnerAppOptInEmails#1",
              (0, q.I8)(J, t),
              X,
              { ePrivilege: 1 },
            );
          }),
          (e.UpdatePartnerAppOptInEmails = function (e, t) {
            return e.SendMsg(
              "Publishing.UpdatePartnerAppOptInEmails#1",
              (0, q.I8)(Q, t),
              Z,
              { ePrivilege: 1 },
            );
          }),
          (e.SendPartnerOptInEmailAndWait = function (e, t) {
            return e.SendMsg(
              "Publishing.SendPartnerOptInEmailAndWait#1",
              (0, q.I8)(te, t),
              ae,
              { ePrivilege: 1 },
            );
          }),
          (e.GetPartnerAppOptInEmailDefAndStats = function (e, t) {
            return e.SendMsg(
              "Publishing.GetPartnerAppOptInEmailDefAndStats#1",
              (0, q.I8)(re, t),
              ie,
              { ePrivilege: 1 },
            );
          }),
          (e.GetEstimatePartnerAppOptInEmail = function (e, t) {
            return e.SendMsg(
              "Publishing.GetEstimatePartnerAppOptInEmail#1",
              (0, q.I8)(se, t),
              le,
              { ePrivilege: 1 },
            );
          }),
          (e.TestFirePartnerAppOptInEmail = function (e, t) {
            return e.SendMsg(
              "Publishing.TestFirePartnerAppOptInEmail#1",
              (0, q.I8)(oe, t),
              ce,
              { ePrivilege: 1 },
            );
          }),
          (e.GetOptInEmailTracking = function (e, t) {
            return e.SendMsg(
              "Publishing.GetOptInEmailTracking#1",
              (0, q.I8)(de, t),
              ue,
              { ePrivilege: 1 },
            );
          }),
          (e.GetPartnerPaidGivenPackageList = function (e, t) {
            return e.SendMsg(
              "Publishing.GetPartnerPaidGivenPackageList#1",
              (0, q.I8)(K, t),
              Y,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          });
      })(N || (N = {})),
        (function (e) {
          e.GetInvites = function (e, t) {
            return e.SendMsg(
              "PartnerMembershipInvite.GetInvites#1",
              (0, q.I8)(De, t),
              Ce,
              { bConstMethod: !0, ePrivilege: 11 },
            );
          };
        })(G || (G = {}));
      var Ie = a(2879);
      class Be {
        m_steamInterface = null;
        m_mapOptInToEmailDef = new Map();
        m_mapEmailToReach = new Map();
        m_mapOptInToEmailDefLoadFailure = new Map();
        BHasReachEstimateLoaded(e) {
          return this.m_mapEmailToReach.has(e);
        }
        GetReachEstimate(e) {
          return this.m_mapEmailToReach.get(e);
        }
        BHasEmailDefLoadFailure(e) {
          return this.m_mapOptInToEmailDefLoadFailure.get(e);
        }
        async FetchPartnerOptInEmailDetails(e) {
          const t = q.w.Init(de);
          t.Body().set_email_def_id(e);
          const a = await N.GetOptInEmailTracking(
            this.m_steamInterface.GetServiceTransport(),
            t,
          );
          return a
            .Body()
            ?.results()
            ?.map((e) => e.toObject());
        }
        async FetchOptInEmailDefAndStats(e) {
          const t = q.w.Init(re);
          t.Body().set_opt_in_name(e);
          return (
            await N.GetPartnerAppOptInEmailDefAndStats(
              this.m_steamInterface.GetServiceTransport(),
              t,
            )
          )
            .Body()
            .defs()
            .map((e) => e.toObject());
        }
        async LoadEstimateEmailReach(e) {
          const t = q.w.Init(se);
          t.Body().set_email_def_id(e);
          let a = 2;
          try {
            const n = await N.GetEstimatePartnerAppOptInEmail(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            (a = n.GetEResult()),
              1 == a
                ? this.m_mapEmailToReach.set(
                    e,
                    n.Body().stats()?.toObject() || {},
                  )
                : console.error(
                    "COptInEmailAdmin.EstimateEmailReach: Create request failed:",
                    a,
                    n,
                    t,
                  );
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptInEmailAdmin.EstimateEmailReach: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return a;
        }
        ComputeSettingFlags(e) {
          let t = 0;
          return (
            e.BHasSectionType(U.Dj.k_AssetKit) && (t |= 1),
            e.BHasSectionType(U.Dj.k_DemoPressPreview) && (t |= 2),
            e.BHasSectionType(U.Dj.k_ScheduleLiveStream) && (t |= 4),
            e.BHasSectionType(U.Dj.k_CancelSection) && (t |= 8),
            e.BHasSectionType(U.Dj.k_DemoNotReady) && (t |= 16),
            e.BHasSectionType(U.Dj.k_ReviewCategorization) && (t |= 128),
            e.BHasSectionType(U.Dj.k_DemoReview) && (t |= 256),
            e.BHasSectionType(U.Dj.k_PressPreviewDetails) && (t |= 512),
            e.BHasSectionType(U.Dj.k_StatsSummary) && (t |= 1024),
            e.BHasSectionType(U.Dj.k_SurveyButton) && (t |= 2048),
            e.BHasSectionType(U.Dj.k_DemoLaunch) && (t |= 4096),
            e.BHasSectionType(U.Dj.k_CallForRegistration) && (t |= 8192),
            e.BHasSectionType(U.Dj.k_SteamAwardsCategories) && (t |= 16384),
            e.BHasSectionType(U.Dj.k_SeasonalFeatureRequest) && (t |= 32768),
            t
          );
        }
        async CreateOptInEmail(e) {
          const t = q.w.Init(J);
          t.Body().set_opt_in_name(s.Mt.Get().GetFullName()),
            t.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
            t.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
            t.Body().set_email_templates(e.GetUniqueID()),
            t.Body().set_start_rtime(0),
            t.Body().set_end_rtime(0);
          let a = 2;
          try {
            const n = await N.CreatePartnerAppOptInEmails(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            if (((a = n.GetEResult()), 1 == a)) {
              const t = n.Body().email_def_id();
              e.SetServerEmailDefID(t);
            } else
              console.error(
                "COptInEmailAdmin.CreateOptInEmail: Create request failed:",
                a,
                n,
                t,
              );
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptInEmailAdmin.CreateOptInEmail: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return Me(e.GetOwningOptInName()), a;
        }
        async UpdateOptInEmailMetaData(e, t) {
          const a = q.w.Init(Q);
          a.Body().set_email_def_id(e.GetServerEmailDefID()),
            a.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
            a.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
            a.Body().set_email_templates(e.GetUniqueID()),
            a.Body().set_start_rtime(t?.rtStartAutomaticEmailType || 0),
            a.Body().set_end_rtime(t?.rtEndAutomaticEmail || 0),
            a.Body().set_reviewed(t?.bReviewed || !1);
          let n = 2;
          try {
            const e = await N.UpdatePartnerAppOptInEmails(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            (n = e.GetEResult()),
              1 != n &&
                console.error(
                  "COptInEmailAdmin.UpdateOptInEmailMetaData: Update request failed:",
                  n,
                  e,
                  a,
                );
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptInEmailAdmin.UpdateOptInEmailMetaData: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return Me(e.GetOwningOptInName()), n;
        }
        async SendManualEmail(e) {
          const t = q.w.Init(te);
          t.Body().set_email_def_id(e.GetServerEmailDefID());
          let a = 2,
            n = null;
          try {
            const e = await N.SendPartnerOptInEmailAndWait(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            (a = e.GetEResult()),
              1 == a
                ? (n = e.Body().results().toObject())
                : console.error(
                    "COptInEmailAdmin.SendManualEmail: Create request failed:",
                    a,
                    e,
                    t,
                  );
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptInEmailAdmin.SendManualEmail: caught error " + t.strErrorMsg,
              t,
            );
          }
          return Me(e.GetOwningOptInName()), { eResult: a, stats: n };
        }
        async TestFireEmailToSelf(e, t = 220) {
          const a = q.w.Init(oe);
          a.Body().set_email_def_id(e.GetServerEmailDefID()),
            a.Body().set_appid(t);
          let n = 2;
          try {
            const e = await N.TestFirePartnerAppOptInEmail(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            (n = e.GetEResult()),
              1 !== n &&
                console.error(
                  "COptInEmailAdmin.TestFireEmailToSelf: Create request failed:",
                  n,
                  e,
                  a,
                );
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptInEmailAdmin.TestFireEmailToSelf: caught error " +
                t.strErrorMsg,
              t,
            );
          }
          return n;
        }
        static s_Singleton;
        static Get() {
          return (
            Be.s_Singleton ||
              ((Be.s_Singleton = new Be()),
              ("dev" != f.TS.WEB_UNIVERSE && "beta" != f.TS.WEB_UNIVERSE) ||
                (window.g_OptInEmailAdminStore = Be.s_Singleton),
              Be.s_Singleton.Init()),
            Be.s_Singleton
          );
        }
        constructor() {
          (0, z.Gn)(this);
        }
        Init() {
          const e = (0, f.Tc)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new W.D(f.TS.WEBAPI_BASE_URL, e))
            : console.error("COptInEmailAdmin missing API token");
        }
      }
      function Te(e) {
        const t = (0, x.I)({
          queryKey: ["OptInEamilDefAndStats", e],
          queryFn: () => Be.Get().FetchOptInEmailDefAndStats(e),
          staleTime: 3e5,
        });
        return { bLoading: t.isLoading, rgEmailDefAndStats: t.data };
      }
      function Me(e) {
        Ie.L.invalidateQueries({ queryKey: ["OptInEamilDefAndStats", e] });
      }
      function Ae(e) {
        const { list: t, bActiveOptIn: a } = e,
          r = (0, n.useMemo)(() => t.map((e) => e.pageid), [t]),
          i = (function (e) {
            const t = e.map((e) => Te(e));
            if (t.some((e) => e.bLoading)) return null;
            const a = new Map();
            return e.forEach((e, n) => a.set(e, t[n].rgEmailDefAndStats)), a;
          })(r);
        return i
          ? n.createElement(ke, {
              rgStrOptInName: r,
              mapOptInToDefs: i,
              bActiveOptIn: a,
            })
          : n.createElement(M.t, {
              size: "medium",
              string: (0, R.we)("#Loading"),
              position: "center",
            });
      }
      function ke(e) {
        const { rgStrOptInName: t, mapOptInToDefs: a, bActiveOptIn: r } = e,
          i = (0, n.useMemo)(() => {
            const e = new Map();
            return (
              t.forEach((t) => {
                a.get(t).forEach((a) => e.set(a.email_def_id, t));
              }),
              e
            );
          }, [a, t]),
          [s, l, o] = (0, n.useMemo)(() => {
            const e = [],
              n = [],
              r = [];
            return (
              t.forEach((t) => {
                a.get(t).forEach((t) => {
                  t.reviewed
                    ? e.push(t)
                    : t.completed || t.aborted || t.deleted
                      ? n.push(t)
                      : r.push(t);
                });
              }),
              e.sort((e, t) => e.start_rtime - t.start_rtime),
              n.sort((e, t) => e.start_rtime - t.start_rtime),
              r.sort((e, t) => e.start_rtime - t.start_rtime),
              [e, n, r]
            );
          }, [a, t]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            null,
            "There are ",
            Array.from(i.keys()).length,
            " ",
            r ? "active " : "archived ",
            "Partner OptIns with ",
            s.length + o.length + l.length,
            " emails past the draft stage",
          ),
          n.createElement("h3", null, "Staged Emails"),
          Boolean(o.length > 0)
            ? o.map((e) =>
                n.createElement(Re, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : n.createElement("span", null, "No Emails Pending Review"),
          n.createElement("h3", null, "Pending Review Emails"),
          Boolean(l.length > 0)
            ? l.map((e) =>
                n.createElement(Re, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : n.createElement("span", null, "No Emails Pending Review"),
          n.createElement("h3", null, "Completed"),
          s.length,
        );
      }
      function Re(e) {
        const { serverDef: t, mapEmailDefIDToStrOptInName: a } = e;
        return n.createElement("div", null, t.email_def_id);
      }
      (0, L.Cg)([z.sH], Be.prototype, "m_mapOptInToEmailDef", void 0),
        (0, L.Cg)([z.XI], Be.prototype, "LoadEstimateEmailReach", null),
        (0, L.Cg)([z.XI], Be.prototype, "CreateOptInEmail", null),
        (0, L.Cg)([z.XI], Be.prototype, "UpdateOptInEmailMetaData", null),
        (0, L.Cg)([z.XI], Be.prototype, "SendManualEmail", null),
        (0, L.Cg)([z.XI], Be.prototype, "TestFireEmailToSelf", null),
        (0, L.Cg)([z.XI], Be.prototype, "Init", null);
      var Pe = a(26408),
        Ne = a(65946);
      const Ge = (e) => {
        (0, n.useEffect)(() => {
          l.v.Get(), s.Mt.Get().Reset(null, null);
        }, []);
        const [t, a] = (0, u.QD)("tab", "active"),
          r = (e) => a(e.key),
          i = [
            {
              name: `Active Opt-In Events (${l.v.Get().GetActiveOptIn()?.length || 0})`,
              key: "active",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Oe, {
                  list: l.v.Get().GetActiveOptIn(),
                  stats: l.v.Get().GetOptInStats(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: r,
            },
            {
              name: `Archived Opt-In Events (${l.v.Get().GetArchivedOptIn()?.length || 0})`,
              key: "archive",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Oe, {
                  list: l.v.Get().GetArchivedOptIn(),
                  stats: null,
                  bReverseOrder: !0,
                }),
              ),
              onClick: r,
            },
            {
              name: "Active Opt-In Email",
              key: "activeemail",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(
                  "div",
                  null,
                  "TODO: In development mode; not ready for prime time.",
                ),
                n.createElement(Ae, {
                  list: l.v.Get().GetActiveOptIn(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: r,
            },
          ];
        return n.createElement(
          d.tH,
          null,
          n.createElement(
            "div",
            { className: F().DashboardCtn },
            n.createElement(
              "h1",
              null,
              "Opt-In Admin Dashboard",
              n.createElement(
                "button",
                {
                  className: (0, y.A)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) =>
                    (0, S.EP)(
                      e,
                      "https://confluence.valve.org/display/STEAM/Setting+up+an+opt-in+event",
                    ),
                },
                "Help",
              ),
              n.createElement(
                "button",
                {
                  className: (0, y.A)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) =>
                    (window.location.href =
                      f.TS.PARTNER_BASE_URL + "optin/admin/preprune"),
                },
                "Pre-prune tool",
              ),
              n.createElement(
                "button",
                {
                  className: (0, y.A)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) => {
                    (0, h.pg)(n.createElement(P, null), (0, v.uX)(e));
                  },
                },
                "Create Opt-In Page",
              ),
            ),
            n.createElement("hr", null),
            n.createElement(
              "p",
              null,
              "This shows all of the active and past opt-in definitions we have setup. Definition drives both the eligibility of the app that are included and also describe the content we show partners on their specific opt-in page.",
            ),
            n.createElement(E.V, { tabs: i, startingTab: t }),
          ),
        );
      };
      function Oe(e) {
        const { bActiveOptIn: t, stats: a, list: r, bReverseOrder: i } = e,
          [s, l] = (0, u.QD)("query", ""),
          o = (0, n.useMemo)(() => {
            const e = s.trim();
            return r
              .sort((e, t) =>
                i
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter(
                (t) =>
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  t.opt_in_registration_title?.english
                    ?.toLocaleLowerCase()
                    .includes(e) ||
                  t.event_title?.english?.toLocaleLowerCase().includes(e),
              );
          }, [i, r, s]);
        return n.createElement(
          "div",
          null,
          n.createElement(m.pd, {
            type: "string",
            value: s,
            onChange: (e) => l(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          o.map((e) =>
            n.createElement(Fe, {
              key: e.pageid,
              def: e,
              stats: a,
              bActiveOptIn: t,
            }),
          ),
        );
      }
      function Fe(e) {
        const { def: t, stats: a, bActiveOptIn: r } = e,
          [i, s, l, d, u] = (0, Ne.q3)(() => [
            a?.[t.pageid]?.time_updated || 0,
            t.event_end_date,
            t.event_start_date,
            t.event_title?.english || "No Name Assigned",
            t.sale_optin_enabled,
          ]),
          p = (0, c.f1)(),
          E = s < p,
          S = p > l && !E,
          b = u && !E;
        return n.createElement(
          "div",
          {
            key: t.pageid,
            className: (0, y.A)(
              F().OptInAdminRow,
              w().TileContainer,
              Boolean(b) ? F().OptinEnabled : "",
            ),
          },
          n.createElement(
            "div",
            { className: w().EventNameCtn },
            n.createElement(
              "div",
              { className: w().EventName },
              Boolean(d) && d,
              " ",
              n.createElement("span", null, "(", t.pageid, ")"),
            ),
            n.createElement(
              "div",
              { className: w().DatesCtn },
              n.createElement(
                "span",
                { className: w().DateAndTime },
                n.createElement(g.K4, {
                  dateAndTime: t.event_start_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
              " ",
              n.createElement(
                "span",
                { className: w().DateAndTime },
                "To ",
                n.createElement(g.K4, {
                  dateAndTime: t.event_end_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: w().EventDetailsCtn },
            n.createElement(
              "div",
              { className: F().StatsCtn },
              n.createElement(
                "div",
                { className: w().TopStatsCtn },
                Boolean(a?.[t.pageid]?.count_eligible) &&
                  n.createElement(
                    "div",
                    { className: w().FeaturedApps },
                    n.createElement(
                      "div",
                      { className: w().BigNumber },
                      a[t.pageid].count_eligible.toLocaleString(),
                    ),
                    n.createElement(
                      "span",
                      { className: _().HelperTooltip },
                      "Eligible",
                      n.createElement(Pe.o, {
                        tooltip:
                          "Number of apps eligible based on the criteria set",
                      }),
                    ),
                  ),
                Boolean(a?.[t.pageid]?.count_invited) &&
                  n.createElement(
                    "div",
                    { className: w().FeaturedApps },
                    n.createElement(
                      "div",
                      { className: w().BigNumber },
                      a[t.pageid].count_invited.toLocaleString(),
                    ),
                    n.createElement(
                      "span",
                      { className: _().HelperTooltip },
                      "Open Invitation",
                      n.createElement(Pe.o, {
                        tooltip:
                          "Number of apps that have an open invitation and have not yet acted on it.",
                      }),
                    ),
                  ),
                Boolean(a?.[t.pageid]) &&
                  n.createElement(
                    "div",
                    { className: w().FeaturedApps },
                    n.createElement(
                      "div",
                      { className: (0, y.A)(w().BigNumber, w().Highlight) },
                      a[t.pageid].count_opted_in.toLocaleString(),
                    ),
                    n.createElement(
                      "span",
                      { className: _().HelperTooltip },
                      "Opted In (",
                      n.createElement(
                        "a",
                        {
                          href:
                            f.TS.PARTNER_BASE_URL +
                            "optin/admin/edit/" +
                            t.pageid +
                            "?tab=manage",
                          className: (0, y.A)(w().BrowseLink),
                        },
                        "Browse",
                      ),
                      ")",
                      n.createElement(Pe.o, {
                        tooltip:
                          "Number of apps that have selected to opt in for this event",
                      }),
                    ),
                  ),
                Boolean(a?.[t.pageid]) &&
                  n.createElement(
                    "div",
                    { className: w().FeaturedApps },
                    n.createElement(
                      "div",
                      { className: w().BigNumber },
                      a[t.pageid].count_opted_out.toLocaleString(),
                    ),
                    n.createElement(
                      "div",
                      { className: F().StatRow },
                      "Opted Out",
                    ),
                  ),
                Boolean(a?.[t.pageid]?.count_featured) &&
                  n.createElement(
                    "div",
                    { className: w().FeaturedApps },
                    n.createElement(
                      "div",
                      { className: w().BigNumber },
                      a[t.pageid].count_featured.toLocaleString(),
                    ),
                    n.createElement(
                      "span",
                      { className: _().HelperTooltip },
                      "Featured",
                      n.createElement(Pe.o, {
                        tooltip: "Apps marked with additional featuring.",
                      }),
                    ),
                  ),
              ),
              n.createElement(
                "div",
                { className: w().StatusCtn },
                Boolean(a?.[t.pageid]) &&
                  n.createElement(
                    "div",
                    { className: F().StatRefresh },
                    "Stats refreshed:",
                    n.createElement(g.K4, { dateAndTime: i, bSingleLine: !0 }),
                  ),
              ),
            ),
            n.createElement(
              "div",
              { className: (0, y.A)(F().Button, F().ButtonCtn) },
              n.createElement(
                o.N_,
                {
                  to: bo.OptinAdminEdit(t.pageid),
                  className: (0, y.A)(_().Button, _().Primary),
                },
                "Edit Opt-In Definition",
              ),
              Boolean(r) &&
                n.createElement(
                  "a",
                  {
                    href:
                      f.TS.PARTNER_BASE_URL +
                      "optin" +
                      bo.OptInAppReview(t.pageid),
                    className: (0, y.A)(_().Button),
                    target: "_blank",
                  },
                  "Open Opt-In Pruning Page",
                ),
              Boolean(!r) &&
                n.createElement(
                  o.N_,
                  {
                    to: bo.OptinAdminAnalysis(t.pageid),
                    className: (0, y.A)(_().Button, _().Primary),
                  },
                  "Post OptIn Stats",
                ),
              Boolean(S || !r) &&
                n.createElement(
                  o.N_,
                  {
                    to: bo.OptinAdminDemoAnalysis(t.pageid),
                    className: (0, y.A)(_().Button, _().Primary),
                  },
                  "Demo Playtime OptIn Stats",
                ),
              n.createElement(
                m.$n,
                {
                  className: F().CloneButton,
                  onClick: (e) =>
                    (0, h.pg)(
                      n.createElement(k, { def: t, stats: a?.[t.pageid] }),
                      (0, v.uX)(e),
                    ),
                },
                "Clone",
              ),
            ),
          ),
        );
      }
      var Le = a(75844),
        Ue = a(1909),
        ze = a(81418),
        xe = a(22837),
        qe = a(63556),
        We = a(68033),
        je = a(6205),
        He = a(56654),
        Ve = a(12155),
        Ke = a(32754),
        Ye = a(62490),
        $e = a(60169),
        Je = a(73086),
        Xe = a.n(Je),
        Qe = a(48479);
      const Ze = (0, Le.PA)((e) => {
          const t = s.Mt.Get(),
            a = t
              .GetEditableDynamicSections()
              .map((e, t) =>
                n.createElement(et, {
                  key: e.GetUniqueID(),
                  section: e,
                  dynamicSectionIndex: t,
                }),
              );
          return n.createElement(
            Qe.qx,
            { title: "Optional Dynamic Sections", bStartMinimized: !1 },
            n.createElement("hr", null),
            n.createElement(
              "p",
              null,
              "Optional Section that can be used to collect additional data from users for their app prior to opting in. This data can be later used to help organize the content on the sales and will surface in the sale page editors.",
            ),
            a,
            n.createElement(
              "div",
              { className: $e.AddSectionCtn },
              n.createElement(
                m.jn,
                { onClick: t.AddDynamicSection },
                "Add New Dynamic Section",
              ),
            ),
          );
        }),
        et = (0, Le.PA)((e) => {
          const { section: t, dynamicSectionIndex: a } = e,
            r = qe.O.Get().GetCurEditLanguage(),
            i = n.createRef(),
            s = t
              .GetLists()
              .map((e, a) =>
                n.createElement(at, {
                  key: t.GetUniqueID() + e.unique_id,
                  section: t,
                  listIndex: a,
                }),
              );
          return n.createElement(
            d.tH,
            null,
            n.createElement(
              "div",
              {
                className: (0, y.A)({
                  [Xe().Section]: !0,
                  [_().ValveOnlyBackground]: t.BIsValveOnlySection(),
                }),
              },
              n.createElement(tt, { section: t, dynamicSectionIndex: a }),
              n.createElement("div", null, "Section ID: ", t.GetUniqueID()),
              n.createElement(m.pd, {
                type: "text",
                label: "Section Name",
                value: t.GetName(),
                onChange: (e) => t.SetName(e.target.value, r),
              }),
              n.createElement("div", null, "Section Description: (optional)"),
              n.createElement(je.I, {
                fnGetCurText: t.GetDescription,
                fnOnTextChange: (e) =>
                  t.SetDescription(e.currentTarget.value, r),
                fnSetText: t.SetDescriptionWithCurLang,
                strPlaceholder: "Enter Description Here",
                emoticonStore: We.A,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Xe().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              n.createElement(m.Yh, {
                className: _().ValveOnlyBackground,
                label: "Valve Admin and Support Team Only",
                tooltip:
                  "Only showns to and changeable by Valve Admin and Support. Useful to markup and store a setting on the opt-in registration directly.",
                onChange: t.SetValveOnly,
                checked: t.BIsValveOnlySection(),
              }),
              n.createElement(m.m, {
                rgOptions: [
                  { label: "Radio Buttons (single selection)", data: "radio" },
                  {
                    label: "Checkboxes (none or multi-selection)",
                    data: "checkbox",
                  },
                  {
                    label: "Dropdown (lots of options, allows type searching)",
                    data: "single_select",
                  },
                  {
                    label:
                      "Multi-Select Dropdown (lots of options, allows type searching)",
                    data: "multi_select",
                  },
                  { label: "Text (open ended answers)", data: "text_input" },
                ],
                selectedOption: t.GetInputStyle(),
                onChange: (e) => {
                  "text_input" === e.data &&
                  "text_input" !== t.GetInputStyle() &&
                  t.GetListCount() > 1
                    ? (0, h.pg)(
                        n.createElement(T.o0, {
                          strTitle: "Change to Text Input",
                          bDestructiveWarning: !0,
                          strDescription:
                            "Changing to text input is destructive, and will eliminate any previous values you have created for the lists. Are you sure?",
                          onOK: () => t.SetInputStyle(e.data),
                          onCancel: () =>
                            i?.current?.SetSelectedOption(t.GetInputStyle()),
                        }),
                        window,
                      )
                    : t.SetInputStyle(e.data);
                },
                label: "Input Style",
                dropDownControlRef: i,
              }),
              Boolean(
                "radio" == t.GetInputStyle() || "checkbox" == t.GetInputStyle(),
              ) &&
                n.createElement(m.Kc, {
                  label: "Display as # of Column(s)",
                  showValue: !0,
                  min: 1,
                  max: 3,
                  value: t.GetColumnCount(),
                  onChange: (e) => t.SetColumnCount(e),
                  tooltip:
                    "The options to select will be displayed in this many columns to the users",
                }),
              s,
              Boolean("text_input" != t.GetInputStyle()) &&
                n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    m.$n,
                    {
                      disabled: t.GetListCount() < 2,
                      onClick: (e) => lt(e, t.GetModel()),
                    },
                    "Re-Order lists within this Section",
                  ),
                  n.createElement(
                    m.jn,
                    { onClick: t.AddOptionList },
                    "Add Another Option List within this Dynamic Section",
                  ),
                ),
            ),
          );
        }),
        tt = (0, Le.PA)((e) => {
          const t = s.Mt.Get(),
            { section: a, dynamicSectionIndex: r } = e;
          return n.createElement(
            "div",
            {
              className: (0, y.A)({
                [$e.Header]: !0,
                [_().ValveOnlyBackground]: a.BIsValveOnlySection(),
              }),
            },
            n.createElement(
              "span",
              null,
              a.BIsValveOnlySection() && "(VO) ",
              a.GetNameWithFallback(`Dynamic Section ${r}`),
            ),
            n.createElement(
              "div",
              null,
              n.createElement(
                m.$n,
                {
                  onClick: (e) => {
                    (0, h.pg)(
                      n.createElement(T.o0, {
                        onOK: () => {
                          t.DeleteDynamicSection(a.GetUniqueID());
                        },
                        strTitle: "Delete Dynamic Section?",
                        strDescription:
                          "Delete this section? This cannot be undone and any data will be lost.",
                        bDestructiveWarning: !0,
                      }),
                      (0, v.uX)(e),
                    );
                  },
                },
                n.createElement(Ve.sED, null),
              ),
            ),
          );
        }),
        at = (0, Le.PA)((e) => {
          const { section: t, listIndex: a } = e;
          return "text_input" === t.GetInputStyle()
            ? n.createElement(
                "div",
                null,
                "Textarea will appear here for the users input.",
              )
            : n.createElement(nt, { section: t, listIndex: a });
        }),
        nt = (0, Le.PA)((e) => {
          const { section: t, listIndex: a } = e,
            r = t.GetListByIndex(a),
            i = qe.O.Get().GetCurEditLanguage();
          return n.createElement(
            "div",
            { id: t.GetUniqueID() + r.unique_id, className: $e.optionList },
            n.createElement(m.pd, {
              type: "text",
              label: "Name for this group of options",
              value: t.GetListTitle(a),
              onChange: (e) =>
                t.SetListTitleByListIndex(a, e.currentTarget.value, i),
            }),
            Boolean(0 == r.options.length)
              ? n.createElement("div", null, "No Options Added")
              : n.createElement(He.A, {
                  items: r.options.map((e, t) => ({
                    itemIndex: t,
                    listitem: e,
                  })),
                  onDelete: (e, r) => {
                    (0, h.pg)(
                      n.createElement(T.o0, {
                        bDestructiveWarning: !0,
                        strTitle: "Delete selected option",
                        strDescription:
                          "Are you sure you want to delete the following item?: " +
                          (0, ze.Ym)(t.GetItemAtListAndIndex(a, e).text, i),
                        onOK: () => t.RemoveListItem(a, e),
                      }),
                      (0, v.uX)(r),
                    );
                  },
                  onEdit: (r, i) => {
                    (0, h.pg)(
                      n.createElement(rt, {
                        ...e,
                        itemIndex: r,
                        item: t.GetItemAtListAndIndex(a, r),
                      }),
                      (0, v.uX)(i),
                    );
                  },
                  onMove: (e, t) => {
                    (0, Ye.yY)(r.options, e, t), s.Mt.Get().SetDirty(!0);
                  },
                  render: (e) => {
                    let t =
                      e.listitem.tooltip &&
                      (0, ze.Ym)(e.listitem.tooltip, i, void 0);
                    return n.createElement(
                      Ke.he,
                      { toolTipContent: t },
                      (0, ze.Ym)(e.listitem.text, i),
                      " ",
                      Boolean(t) && "(?)",
                    );
                  },
                }),
            n.createElement(
              m.$n,
              {
                onClick: (t) =>
                  (0, h.pg)(n.createElement(it, { ...e }), (0, v.uX)(t)),
              },
              "Add Option Item",
            ),
          );
        }),
        rt = (e) => {
          const [t, a] = (0, n.useState)(e.item.text),
            [r, i] = (0, n.useState)(e.item.tooltip),
            [s, l] = (0, n.useState)(qe.O.Get().GetCurEditLanguage());
          return n.createElement(
            T.o0,
            {
              strTitle: "Edit Item",
              strDescription: "Update the value and confirm to apply changes.",
              onOK: () => {
                e.section.UpdateListItemTextByKV(
                  e.listIndex,
                  e.itemIndex,
                  t,
                  r,
                ),
                  e.closeModal && e.closeModal();
              },
              onCancel: e.closeModal,
            },
            n.createElement(
              "div",
              null,
              n.createElement(Ue.Ng, {
                selectedLang: s,
                fnLangHasData: (e) => {
                  let a = (0, xe.Lg)(e);
                  return (
                    (t[a] && t[a].trim().length > 0) ||
                    (r && r[a] && r[a].trim().length > 0)
                  );
                },
                fnOnLanguageChanged: l,
              }),
              n.createElement(m.pd, {
                type: "text",
                placeholder: "Enter Text",
                label: "Item Name",
                value: (0, ze.mA)(t, s, ""),
                onChange: (e) => {
                  let n = JSON.parse(JSON.stringify(t));
                  (n[(0, xe.Lg)(s)] = e.target.value), a(n);
                },
              }),
              n.createElement(m.pd, {
                type: "text",
                placeholder: "Enter Tooltip",
                label: "Tooltip (optional)",
                value: (0, ze.mA)(r, s, ""),
                onChange: (e) => {
                  let t = r ? JSON.parse(JSON.stringify(r)) : {};
                  (t[(0, xe.Lg)(s)] = e.target.value), i(t);
                },
              }),
            ),
          );
        },
        it = (e) => {
          const [t, a] = (0, n.useState)(""),
            [r, i] = (0, n.useState)(""),
            s = qe.O.Get().GetCurEditLanguage();
          return n.createElement(
            T.o0,
            {
              strTitle: "Add Option Item",
              strDescription: `Add items for the user to select from. Adding for the language: ${(0, xe.Lg)(s)}`,
              onOK: () => {
                e.section.AddItemToListByIndex(e.listIndex, t, s, r),
                  e.closeModal && e.closeModal();
              },
              bOKDisabled: 0 == t.trim().length,
              onCancel: e.closeModal,
            },
            n.createElement(
              "div",
              null,
              n.createElement(m.pd, {
                type: "text",
                value: t,
                onChange: (e) => a(e.currentTarget.value),
                placeholder: "Enter name (requred)",
                label: "Item Name",
                focusOnMount: !0,
              }),
              n.createElement(m.pd, {
                type: "text",
                value: r,
                onChange: (e) => i(e.currentTarget.value),
                placeholder: "Enter Tooltip (optional)",
                label: "Tooltip",
              }),
            ),
          );
        },
        st = (e) => {
          const t = s.Mt.Get(),
            a = qe.O.Get().GetCurEditLanguage();
          (0, h.pg)(
            n.createElement(
              T.o0,
              {
                strTitle: "Re-Order Dynamic Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the dynamic section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              n.createElement(
                "div",
                null,
                Boolean(
                  t.GetModel().dynamic_sections &&
                    t.GetModel().dynamic_sections.length > 0,
                )
                  ? n.createElement(He.A, {
                      items: t.GetModel().dynamic_sections,
                      render: (e) => (0, ze.Ym)(e.name, a, "Unnamed Section"),
                      onReorder: () => t.SetDirty(!0),
                    })
                  : n.createElement(
                      "p",
                      null,
                      "No dynamic sections to re-order",
                    ),
              ),
            ),
            (0, v.uX)(e),
          );
        },
        lt = (e, t) => {
          const a = s.Mt.Get(),
            r = qe.O.Get().GetCurEditLanguage();
          (0, h.pg)(
            n.createElement(
              T.o0,
              {
                strTitle: "Re-Order Lists within a Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the list within a section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              n.createElement(
                "div",
                null,
                Boolean(t.lists && t.lists.length > 0)
                  ? n.createElement(He.A, {
                      items: t.lists,
                      render: (e) =>
                        (0, ze.Ym)(e.option_title, r, "Untitled List"),
                      onReorder: () => a.SetDirty(!0),
                    })
                  : n.createElement("p", null, "No list to re-order"),
              ),
            ),
            (0, v.uX)(e),
          );
        };
      var ot = a(14932);
      const ct = (e) => {
        const t = s.Mt.Get(),
          a = JSON.parse(JSON.stringify(t.GetModel() || [])),
          r = JSON.parse(JSON.stringify(a.emails || []));
        a.emails = [];
        const i = [
          {
            name: "OptIn Event Body Raw",
            key: "eventbody",
            contents: n.createElement(
              d.tH,
              null,
              n.createElement(ot.G, { data: a }),
            ),
          },
        ];
        return (
          r.forEach((e, t) => {
            i.push({
              name: e.internal_name,
              key: "" + (e.email_def_id || t),
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(ot.G, { data: e }),
              ),
            });
          }),
          console.log(r),
          n.createElement(
            "div",
            null,
            n.createElement("h1", null, "Data:"),
            n.createElement("div", null, "PageID: ", t.GetName()),
            n.createElement(
              "div",
              null,
              "Event Start Time: ",
              t.GetEventStartTime(),
              " -",
              Boolean(0 != t.GetEventStartTime()) &&
                n.createElement(g.K4, {
                  dateAndTime: t.GetEventStartTime(),
                  bSingleLine: !0,
                }),
            ),
            n.createElement(
              "div",
              null,
              "Event End Time: ",
              t.GetEventEndTime(),
              " -",
              Boolean(0 != t.GetEventEndTime()) &&
                n.createElement(g.K4, {
                  dateAndTime: t.GetEventEndTime(),
                  bSingleLine: !0,
                }),
            ),
            n.createElement(
              "div",
              null,
              "Trailer Drop Date: ",
              t.GetEventTrailerDropDate(),
              " -",
              Boolean(0 != t.GetEventTrailerDropDate()) &&
                n.createElement(g.K4, {
                  dateAndTime: t.GetEventTrailerDropDate(),
                  bSingleLine: !0,
                }),
            ),
            n.createElement(E.V, { tabs: i, bDisableRouting: !0 }),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
            n.createElement("br", null),
          )
        );
      };
      var mt = a(82359),
        dt = a(45737),
        ut = a.n(dt),
        pt = a(99637),
        _t = a(2160),
        gt = a(56004),
        ht = a(32625),
        Et = a(44332),
        St = a(30470),
        yt = a(42508),
        vt = a(32011);
      function ft(e) {
        const t = s.Mt.Get(),
          a = (0, n.useMemo)(() => ["localized_optin_banner"], []),
          r = (0, n.useMemo)(
            () => [_t.TU.k_ESteamRealmGlobal, _t.TU.k_ESteamRealmChina],
            [],
          ),
          i = (0, n.useCallback)(
            (e, a, n, r, i) => {
              (0, Et.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              ),
                t.SetLocalizedOptInBanner(n, e + (0, gt.qR)(r));
            },
            [t],
          );
        return n.createElement(
          "div",
          { className: Xe().Section },
          n.createElement(
            "h3",
            null,
            "Localized Branding Artwork: ",
            n.createElement("span", null, "(1000 x 150)"),
          ),
          n.createElement(
            "p",
            null,
            "Branding artwork we will show to partners on any optin page",
          ),
          n.createElement(ht.U, {
            rgSupportArtwork: a,
            rgRealmList: r,
            strUploadAjaxURL: `${St.TS.PARTNER_BASE_URL}optin/ajaxuploadasset/${t.GetOptInPageID()}`,
            fnOnUploadSuccess: i,
          }),
          n.createElement(d.tH, null, n.createElement(bt, null)),
        );
      }
      function bt(e) {
        const t = s.Mt.Get(),
          [a] = (0, Ne.q3)(() => [
            Object.keys(t.GetAllLocalizedOptInBanner())
              .sort()
              .map((e) => (0, xe.sf)(e)),
          ]),
          r = (0, n.useCallback)(
            (e) => {
              const a = t.GetLocalizedOptInBanner(e);
              return a ? (0, vt.Yi)(t.GetOptInPageID(), e, a) : null;
            },
            [t],
          );
        return n.createElement(yt.z, {
          rgAssetLangs: a,
          fnGetAssetUrl: r,
          fnDeletAssetLang: t.DeleteLocalizedOptInBanner,
          imageClassname: ut().BannerPreview,
        });
      }
      var wt = a(6419);
      class Dt {
        m_steamInterface = null;
        async ChangeAppsAdditionalFeaturingState(e, t, a) {
          const n = q.w.Init(he),
            r = new Set(t.filter(Boolean) || []);
          if (0 == r.size || !e) return 8;
          n.Body().set_appids(Array.from(r)),
            n.Body().set_opt_in_name(e),
            n.Body().set_additional_featuring(a);
          return (
            await N.SetFeaturingOnPartnerAppOptIn(
              this.m_steamInterface.GetServiceTransport(),
              n,
            )
          ).GetEResult();
        }
        static s_Singleton;
        static Get() {
          return (
            Dt.s_Singleton ||
              ((Dt.s_Singleton = new Dt()),
              ("dev" != f.TS.WEB_UNIVERSE && "beta" != f.TS.WEB_UNIVERSE) ||
                (window.g_OptInAdminAdditionalFeaturingStore = Dt.s_Singleton),
              Dt.s_Singleton.Init()),
            Dt.s_Singleton
          );
        }
        constructor() {
          (0, z.Gn)(this);
        }
        Init() {
          const e = (0, f.Tc)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new W.D(f.TS.WEBAPI_BASE_URL, e))
            : console.error(
                "COptInAdminAdditionalFeaturingStore missing API token",
              );
        }
      }
      (0, L.Cg)(
        [wt.o],
        Dt.prototype,
        "ChangeAppsAdditionalFeaturingState",
        null,
      ),
        (0, L.Cg)([z.XI], Dt.prototype, "Init", null);
      var Ct = a(71298);
      function It(e) {
        const {
            strTitle: t,
            strDescription: a,
            closeModal: r,
            fnGenericAddAction: i,
          } = e,
          [l, o] = n.useState(""),
          c = (0, Ct.vs)(),
          m = s.Mt.Get(),
          d = (0, n.useCallback)(() => {
            c.fnSetLoading(!0);
            const e = l.replace(/\n/g, "|").split("|"),
              t = new Array();
            e.forEach((e) => {
              const a = Number.parseInt(e);
              a > 0 && t.push(a);
            }),
              t.length > 0
                ? i(t).then((e) => {
                    1 == e
                      ? (c.fnSetSuccess(!0),
                        c.fnSetStrSuccess(
                          `Successfully updated ${t.length} apps`,
                        ))
                      : (c.fnSetError(!0),
                        c.fnSetStrError(
                          `Failed to update ${t.length} apps error: ${e} `,
                        ));
                  })
                : (c.fnSetSuccess(!0),
                  c.fnSetStrSuccess("No new appids to invite"));
          }, [c, i, l]);
        if (c.bLoading)
          return n.createElement(Ct.Hh, {
            state: c,
            strDialogTitle: t,
            closeModal: r,
          });
        const u = m?.GetEventEndTime() < Math.floor(Date.now() / 1e3);
        return n.createElement(
          T.o0,
          {
            strTitle: t,
            strDescription: a,
            onOK: d,
            bOKDisabled: 0 == l.trim().length || c.bLoading || u,
            onCancel: r,
          },
          n.createElement("br", null),
          n.createElement("br", null),
          n.createElement(
            "div",
            null,
            "Note: Remember after add all of the apps, go to 'Manage' Tab and 'Refresh Stats' to update our list",
          ),
          n.createElement("br", null),
          Boolean(u) &&
            n.createElement(
              "div",
              { className: B().WarningStylesWithIcon },
              "Opt-In is already ended on date ",
              (0, R.TW)(m?.GetEventEndTime()),
              ". We cannot change invite/prune list.",
            ),
          n.createElement("div", null, "Enter App IDs seperated by new lines:"),
          n.createElement("textarea", {
            cols: 120,
            rows: 10,
            onChange: (e) => o(e.currentTarget.value),
            value: l,
            autoFocus: !0,
            disabled: c.bLoading,
          }),
        );
      }
      function Bt(e) {
        const t = s.Mt.Get(),
          [a, r, i, l] = (0, Ne.q3)(() => [
            t.BIsAdditionalFeaturingSectionEnabled(),
            t.BIsCollectTrailerPermissions(),
            t.BIsCollectDemoPermissions(),
            t.BIsCollectGameProfileIntent(),
          ]),
          [o, c] = (0, n.useState)(t.BHasCollectDemoDeadlineDate()),
          [d] = (0, Ne.q3)(() => [t.GetEventStartTime()]);
        return n.createElement(
          Qe.qx,
          { title: "Additional Featuring Section", bStartMinimized: !1 },
          n.createElement("hr", null),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "For Apps Marked As Featured"),
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "If eneabled, this allows us to collect additional information and permissions from apps who have additional featuring enabled on them. Additional featuring is done during the App Review (pruning) process prior to sending invitation. It can be added at anytime:",
            ),
            n.createElement("br", null),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(Tt, { strOptInName: t.GetOptInPageID() }),
                    (0, v.uX)(e),
                  ),
              },
              "Add Games to Featuring...",
            ),
            n.createElement(m.Yh, {
              label: "Enable the Additional Featuring Section.",
              onChange: t.SetAdditionalFeaturingSectionEnabled,
              checked: a,
            }),
            n.createElement("hr", null),
            n.createElement(
              "div",
              {
                className: (0, y.A)(
                  Xe().IndentedSubSection,
                  a ? "" : Xe().Disabled,
                ),
              },
              n.createElement(m.Yh, {
                label: "Collect Trailer Permissions",
                tooltip:
                  "This request from them the use of their trailer in our events marketing material. Permitting us to edit the trailer for the purpose",
                onChange: t.SetCollectTrailerPermissions,
                checked: r,
              }),
              n.createElement(m.Yh, {
                label: "Collect Demo Permissions",
                tooltip:
                  "This is useful for events like Next Fest. Requesting permission for us to optional feature by playing their demo during our event stream.",
                onChange: t.SetCollectDemoPermissions,
                checked: i,
              }),
              n.createElement(m.Yh, {
                label: "Collect Game Profile Intent",
                tooltip:
                  "This lets the partner know that we are promoting game profile and are inviting them to submit one for the event. Note: Operational step, make sure to add game profile creation on the partner account",
                onChange: t.SetCollectGameProfileIntent,
                checked: l,
              }),
              o
                ? n.createElement(pt.K, {
                    strDescription:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    nLatestTime: d,
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: t.GetCollectDemoDeadlineDate,
                    fnSetTimeToUpdate: t.SetCollectDemoDeadlineDate,
                  })
                : n.createElement(m.Yh, {
                    label: "Show a specific due date",
                    tooltip:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    onChange: c,
                    checked: o,
                  }),
            ),
          ),
        );
      }
      function Tt(e) {
        const { strOptInName: t } = e,
          { fnChangeAppAdditionalFeaturingState: a } = {
            fnChangeAppAdditionalFeaturingState:
              Dt.Get().ChangeAppsAdditionalFeaturingState,
          },
          r = (0, n.useCallback)(async (e) => a(t, e, !0), [a, t]);
        return n.createElement(It, {
          strTitle: "Additional App Featuring",
          strDescription:
            "Feature apps to that have already been invited or opted into the event, so that they may signed up for further featuring.",
          fnGenericAddAction: r,
          closeModal: e.closeModal,
        });
      }
      class Mt {
        async UpdateAppInvitation(e, t, a, n, r, i) {
          let s = 1;
          try {
            const l = new FormData();
            if (a && (r || n))
              return (
                console.error(
                  "COptinAdminInvitationStore::UpdateAppInvitation Unexpected parameters",
                ),
                8
              );
            l.append("sessionid", f.TS.SESSIONID),
              l.append("opt_in_name", e),
              t && l.append("appids", JSON.stringify(t)),
              l.append("add", a ? "1" : "0"),
              l.append("pending_review", r ? "1" : "0"),
              l.append("prune", n ? "1" : "0");
            const o = await C().post(
              f.TS.PARTNER_BASE_URL + "optin/ajaxinviteapps",
              l,
              { withCredentials: !0, cancelToken: i?.token },
            );
            (200 == o?.status && 1 == o.data?.success) ||
              (console.log(
                `COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed with status ${o?.status} eresult ${o?.data?.success} and msg ${o?.data?.msg}`,
              ),
              (s = o?.data?.success || 2));
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed add: " +
                t.strErrorMsg,
              t,
            ),
              (s = 2);
          }
          return s;
        }
        static s_Singleton;
        static Get() {
          return (
            Mt.s_Singleton ||
              ((Mt.s_Singleton = new Mt()),
              ("dev" != f.TS.WEB_UNIVERSE && "beta" != f.TS.WEB_UNIVERSE) ||
                (window.g_OptInAdminInvitationStore = Mt.s_Singleton)),
            Mt.s_Singleton
          );
        }
        constructor() {}
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].opt_in_name &&
              Array.isArray(t[0].partner_ids) &&
            "number" == typeof t[0].partner_ids[0]
          );
        }
      }
      function At() {
        return { fnUpdateAppToInvitation: Mt.Get().UpdateAppInvitation };
      }
      (0, L.Cg)([wt.o], Mt.prototype, "UpdateAppInvitation", null);
      var kt = a(6319),
        Rt = a(17720),
        Pt = a(82097),
        Nt = a(55263),
        Gt = a(73745),
        Ot = a(91640),
        Ft = a.n(Ot),
        Lt = a(41103),
        Ut = a(45699);
      class zt extends n.Component {
        state = {
          invite_token: "",
          input_search: "",
          friend_code_copied: !1,
          invite_copied: !1,
        };
        async componentDidMount() {
          const e = await C().get(
            f.TS.COMMUNITY_BASE_URL + "invites/ajaxgetall",
            { params: { sessionid: f.TS.SESSIONID } },
          );
          if (e && e.data && e.data.tokens) {
            const t = e.data.tokens.filter((e) => e.valid);
            t.length
              ? this.setState({ invite_token: t[0].invite_token })
              : this.OnCreateInviteLink();
          } else this.OnCreateInviteLink();
        }
        async OnCreateInviteLink() {
          const e = new FormData();
          e.append("sessionid", f.TS.SESSIONID),
            e.append("steamid_user", f.iA.steamid),
            e.append("duration", (2592e3).toString());
          const t = await C().post(
            f.TS.COMMUNITY_BASE_URL + "invites/ajaxcreate",
            e,
          );
          t &&
            t.data &&
            t.data.invite &&
            this.setState({ invite_token: t.data.invite.invite_token });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, v.OG)(t);
        }
        async OnAddFriend(e) {
          const t = new FormData();
          t.append("sessionID", f.TS.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0");
          try {
            const e = await C().post(
              f.TS.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
              t,
            );
            return e && e.data && 1 == e.data.success;
          } catch {
            return !1;
          }
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            f.TS.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = f.iA.short_url + "/" + this.state.invite_token;
          return n.createElement(
            "div",
            null,
            n.createElement(
              "div",
              { className: Ft().HeaderBlock },
              (0, R.we)("#ManageFriends_AddAFriend"),
            ),
            n.createElement(
              "div",
              { className: Ft().Background },
              n.createElement(
                "h1",
                { className: Ft().Heading },
                (0, R.we)("#ManageFriends_YourFriendCode"),
              ),
              n.createElement(
                "div",
                { className: Ft().CopyContainer },
                n.createElement("h1", { className: Ft().Text }, f.iA.accountid),
                n.createElement(
                  m.jn,
                  {
                    autoFocus: !0,
                    className: Ft().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(f.iA.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, R.we)("#ManageFriends_Copied")
                    : (0, R.we)("#ManageFriends_Copy"),
                ),
              ),
              n.createElement(
                "p",
                { className: Ft().Body },
                (0, R.we)("#ManageFriends_EnterFriendCode"),
              ),
              n.createElement(xt, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, R.we)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            n.createElement(
              "div",
              { className: Ft().DimBackground },
              n.createElement(
                "h1",
                { className: Ft().Heading },
                (0, R.we)("#ManageFriends_OrSendQuickInvite"),
              ),
              n.createElement(
                "p",
                { className: Ft().Body },
                (0, R.we)("#ManageFriends_QuickInviteDescription"),
              ),
              n.createElement(
                "p",
                { className: Ft().Body },
                (0, R.we)("#ManageFriends_QuickInviteNote"),
              ),
              n.createElement(
                "div",
                { className: Ft().CopyContainer },
                Boolean(this.state.invite_token) &&
                  n.createElement("div", { className: Ft().Link }, e),
                n.createElement(
                  m.jn,
                  {
                    className: Ft().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, R.we)("#ManageFriends_Copied")
                    : (0, R.we)("#ManageFriends_Copy"),
                ),
              ),
              n.createElement(
                m.$n,
                {
                  className: Ft().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, R.we)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            n.createElement(
              "div",
              { className: Ft().Background },
              n.createElement(
                "h1",
                { className: Ft().Heading },
                (0, R.we)("#ManageFriends_OrSearch"),
              ),
              n.createElement("br", null),
              n.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                n.createElement(
                  "div",
                  { style: { width: "100%" } },
                  n.createElement(m.pd, {
                    className: Ft().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, R.we)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                n.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  n.createElement(Ve.eSy, null),
                ),
              ),
            ),
          );
        }
      }
      (0, L.Cg)([Gt.oI], zt.prototype, "OnCreateInviteLink", null),
        (0, L.Cg)([Gt.oI], zt.prototype, "OnCopy", null),
        (0, L.Cg)([Gt.oI], zt.prototype, "OnAddFriend", null),
        (0, L.Cg)([Gt.oI], zt.prototype, "OnSearchChange", null),
        (0, L.Cg)([Gt.oI], zt.prototype, "OnSearchKeyDown", null),
        (0, L.Cg)([Gt.oI], zt.prototype, "OnSearchSubmit", null);
      class xt extends n.Component {
        state = {
          input_friend_code: "",
          disable_send_invite: !1,
          searchResult: null,
          invite_status: "pending",
        };
        m_currentRequest = 0;
        async OnFriendCodeChange(e) {
          const t = e.target.value.split(",")[0];
          this.setState({ input_friend_code: t, invite_status: "pending" }),
            window.clearTimeout(this.m_currentRequest),
            (this.m_currentRequest = window.setTimeout(
              () => this.LoadProfile(t),
              500,
            ));
        }
        async LoadProfile(e) {
          if (e) {
            const t = Rt.b.InitFromAccountID(Number(e));
            await Lt.dQ.LoadProfiles([t.ConvertTo64BitString()]);
            const a = Lt.dQ.GetProfile(t.ConvertTo64BitString());
            a
              ? this.setState({
                  searchResult: a,
                  disable_send_invite:
                    f.iA.is_limited ||
                    (this.props.bDisableForFriends && a.is_friend) ||
                    (this.props.bDisableForSelf && a.steamid === f.iA.steamid),
                })
              : this.setState({ searchResult: null });
          } else this.setState({ searchResult: null });
        }
        async OnActionClick(e) {
          const t = new FormData();
          t.append("sessionID", f.TS.SESSIONID),
            t.append("steamid", e),
            t.append("accept_invite", "0"),
            this.setState({ disable_send_invite: !0 });
          (await this.props.onButtonClick(e))
            ? (this.setState({
                input_friend_code: "",
                invite_status: "success",
              }),
              setTimeout(() => this.setState({ searchResult: null }), 3e3))
            : this.setState({
                invite_status: "failure",
                disable_send_invite: !1,
              });
        }
        render() {
          return n.createElement(
            "div",
            { className: Ft().FriendCodeSelector },
            n.createElement(m.pd, {
              className: Ft().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, R.we)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            n.createElement(
              qt,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              n.createElement(
                m.jn,
                {
                  className: Ft().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, L.Cg)([Gt.oI], xt.prototype, "OnFriendCodeChange", null),
        (0, L.Cg)([Gt.oI], xt.prototype, "LoadProfile", null),
        (0, L.Cg)([Gt.oI], xt.prototype, "OnActionClick", null);
      const qt = (e) => {
        const {
            searchResult: t,
            invite_status: a,
            bShowStatus: r,
            children: i,
          } = e,
          s = (0, f.Qn)();
        return Boolean(t)
          ? n.createElement(
              "div",
              { className: Ft().ProfileCard },
              n.createElement(
                "div",
                { className: Ft().UserContainer },
                n.createElement(
                  "div",
                  { className: Ft().Image },
                  n.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                n.createElement(
                  "div",
                  { className: Ft().ProfileContent },
                  n.createElement(
                    "h1",
                    { className: Ft().Heading },
                    t.persona_name,
                  ),
                  n.createElement(
                    "div",
                    { className: Ft().ProfileLink },
                    n.createElement(
                      Ut.Ii,
                      {
                        target: s ? void 0 : "_blank",
                        href: f.TS.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, R.we)("#ManageFriends_ProfileLink"),
                    ),
                    n.createElement("br", null),
                    n.createElement(
                      "span",
                      { className: Ft().Body },
                      t.real_name,
                      n.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${t.state ? "," : ""} ${t.country}`,
                    ),
                  ),
                ),
                i,
              ),
              n.createElement(
                "div",
                { className: Ft().ProfileLink },
                t.is_friend &&
                  n.createElement(
                    "div",
                    null,
                    (0, R.we)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  n.createElement(
                    "div",
                    null,
                    n.createElement(
                      Ut.Ii,
                      {
                        target: s ? void 0 : "_blank",
                        href:
                          f.TS.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, R.we)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, R.we)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                r &&
                  "failure" === a &&
                  n.createElement(
                    "div",
                    { className: Ft().Failure },
                    (0, R.we)("#ManageFriends_InviteFailure"),
                  ),
                r &&
                  "success" === a &&
                  n.createElement(
                    "div",
                    { className: Ft().Success },
                    (0, R.we)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
      var Wt = a(8905);
      function jt(e) {
        const t = s.Mt.Get(),
          a = (0, Ne.q3)(() => s.Mt.Get().GetExternalAppReviewers());
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("h3", null, "App Invites"),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "Tool that lets you explicitly invite specific apps to participate. This can be done before or after the OptIn is published/live for partners. App Invites will bypass ",
              n.createElement("b", null, "ALL"),
              " eligibility constraints or restrictions (ie, missing a tag and/or pass the end date for the registrations). This is independant of invitation only and can be used in conjunction of invitation only.",
            ),
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "Inviting apps will NOT trigger any automatic notification. However, the email tab can be used to send an email to all invited apps.",
            ),
            n.createElement("h4", null, "Eligibilty Criteria Internal"),
            n.createElement(
              "p",
              null,
              "Shown on the pruning UI to our team and external pruning contractors",
            ),
            n.createElement(je.I, {
              fnGetCurText: t.GetCurPruningCriteriaText,
              fnOnTextChange: (e) =>
                t.SetCurPruningCriteriaText(e.currentTarget.value),
              fnSetText: t.SetCurPruningCriteriaText,
              strPlaceholder: "Enter Pruning Criteria Text",
              emoticonStore: We.A,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: Xe().EventBBCodeEditor,
              limitBBCode: void 0,
              nOverridesRows: 10,
            }),
            n.createElement(
              "div",
              { className: Xe().InviteButtonRow },
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "For adding games to the pruning process; app isn't able to optin while in this state. Only games we haven't already acted upon can move to pending review.",
                },
                n.createElement(
                  m.jn,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Vt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  'Add to "Pending Review"...',
                ),
              ),
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "Invite an app allows it to immediately optin to the event and will see they are permitted to participate",
                },
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Ht, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Invite Apps...",
                ),
              ),
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "Directly marks an app as pruned. It won't surface on the sale pages or content hub override page. Will apply even if app as opted in",
                },
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Kt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Prune Apps...",
                ),
              ),
            ),
            n.createElement(
              "div",
              { className: Xe().ShowAllInvitedRow },
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "This list will include all invited app, even if they are no longer invited because we pruned them or the partner took action - opted in/out.",
                },
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement($t, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Show All Apps that were once Invited...",
                ),
              ),
            ),
            n.createElement("br", null),
            n.createElement("h3", null, "Manage App Pruning"),
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "For an event like a tag sale, that depends on publisher and users tagging, we may need to review invited games to ensure they match the intent of the tag sale. ",
              n.createElement(
                "a",
                {
                  href:
                    f.TS.PARTNER_BASE_URL +
                    "optin/appreview/" +
                    t.GetOptInPageID(),
                },
                "Go to Opt-In Pruning Page",
              ),
            ),
            n.createElement(
              "div",
              null,
              "To find and add a users external reviewer list please see this ",
              n.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/pages/viewpage.action?pageId=320176134",
                  target: "_blank",
                },
                "document page",
              ),
              ".",
            ),
            Boolean(a?.length > 0) &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement("br", null),
                n.createElement("h3", null, "External Reviewers"),
                n.createElement(He.A, {
                  bDisabled: !0,
                  items: a,
                  onDelete: (e) => t.RemoveExternalAppReviewAt(e),
                  render: (e) => {
                    const t = Rt.b.InitFromAccountID(e);
                    return n.createElement(
                      "a",
                      {
                        href: `${f.TS.COMMUNITY_BASE_URL}profiles/${t.ConvertTo64BitString()}`,
                      },
                      n.createElement(Wt.p, { accountID: e }),
                    );
                  },
                }),
                n.createElement(
                  "p",
                  null,
                  "Note: Make sure to publish changes to the external review list. They can only access published opt-in definitions.",
                ),
              ),
            n.createElement(
              "p",
              { className: Xe().SectionDesc },
              n.createElement(
                "b",
                null,
                "Add External App Reviewer via Friend Code / Account ID",
              ),
            ),
            n.createElement(xt, {
              buttonText: "Add to Reviewer List",
              onButtonClick: async (e) => {
                const a = new Rt.b(e);
                return t.BAddExternalAppReviewAt(a.GetAccountID());
              },
              bDisableForSelf: !0,
              bShowStatus: !0,
            }),
          ),
        );
      }
      function Ht(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = At(),
          r = (0, n.useCallback)((e) => a(t, e, !0), [t, a]);
        return n.createElement(It, {
          strTitle: "Invite Apps",
          strDescription:
            "Invite apps to participate in the OptIn, which will disregard any opt-in restriction. This will not notify the partners for the apps. This will re-invite apps which previously opted out.",
          fnGenericAddAction: r,
          closeModal: e.closeModal,
        });
      }
      function Vt(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = At(),
          r = (0, n.useCallback)((e) => a(t, e, !1, !1, !0), [t, a]);
        return n.createElement(It, {
          strTitle: "Add Apps to Pending Review",
          strDescription:
            "For apps not already invited/opted in/out or pruned, this will set the apps to an initial pending review state. This allow us to have a clear list of app awaiting pruning. In this state, the game cannot join the opt-in until they either invited.",
          fnGenericAddAction: r,
          closeModal: e.closeModal,
        });
      }
      function Kt(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: a } = At(),
          r = (0, n.useCallback)((e) => a(t, e, !1, !0), [t, a]);
        return n.createElement(It, {
          strTitle: "Prune App",
          strDescription:
            "This will immediately mark the app as pruned. This will override their opt-in or opt-out status and move the app to the prune list.",
          fnGenericAddAction: r,
          closeModal: e.closeModal,
        });
      }
      const Yt = { include_release: !0 };
      function $t(e) {
        const { closeModal: t, strOptInName: a } = e,
          r = (0, kt.kJ)(a, !1),
          [i, s] = n.useState(!1);
        return (
          n.useEffect(() => {
            if (r?.length > 0) {
              const e = r.map((e) => e.appid);
              Pt.A.Get()
                .QueueMultipleAppRequests(e, Yt)
                .then(() => s(!0));
            } else s(!0);
          }, [r]),
          n.createElement(
            T.o0,
            {
              strTitle: "All Invited Apps",
              strDescription:
                "This is the list of all apps that were ever invited. The invite status will change when the partner takes action such as opt-in or opt-out. We use the invite account setting to figure out if an invite actually happened",
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              closeModal: t,
              className: Xe().InvitedAppHistoryDialog,
            },
            Boolean(!r || !i) &&
              n.createElement(M.t, { size: "medium", position: "center" }),
            n.createElement(
              "table",
              { className: Xe().InvitedAppHistoryTable },
              n.createElement(
                "thead",
                null,
                n.createElement(
                  "tr",
                  null,
                  n.createElement("th", null, "Invited By"),
                  n.createElement("th", null, "Game"),
                  n.createElement("th", null, "Status"),
                ),
              ),
              n.createElement(
                "tbody",
                null,
                r
                  ?.filter((e) => e.accountid_invited)
                  .map((e) =>
                    n.createElement(Jt, { registration: e, key: e.appid }),
                  ),
              ),
            ),
          )
        );
      }
      function Jt(e) {
        const { registration: t } = e,
          [a] = (0, Nt.t7)(t.appid, Yt);
        let r = "invited";
        return (
          t.pruned
            ? (r = "pruned")
            : t.opt_in
              ? (r = "opted in")
              : t.time_opted_out && (r = "opted out"),
          n.createElement(
            "tr",
            { className: Xe().InvitedAppRow },
            n.createElement(
              "td",
              null,
              Boolean(t.accountid_invited) &&
                n.createElement(Wt.p, { accountID: t.accountid_invited }),
            ),
            n.createElement(
              "td",
              null,
              a?.GetName() || "unknown",
              " (",
              t.appid,
              ") ",
            ),
            n.createElement("td", null, r),
          )
        );
      }
      const Xt = (0, Le.PA)((e) => {
        const t = s.Mt.Get(),
          a = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible();
        return n.createElement(
          Qe.qx,
          { title: "Registration Requirements", bStartMinimized: !1 },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Registration Deadline"),
            n.createElement(pt.K, {
              strDescription: void 0,
              nEarliestTime: 0,
              fnGetTimeToUpdate: () => t.GetOptInDeadlineTime(),
              fnSetTimeToUpdate: t.SetOptInDeadlineTime,
              fnIsValidDateTime: () => !0,
              bShowTimeZone: !0,
            }),
          ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Visibility"),
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "By default, optins are visible to partners if it's enabled. If set to be visible only to invited partners, the partner must also own the app to see the optin.",
            ),
            n.createElement(m.RF, {
              onChange: (e) =>
                t.SetVisibility(
                  e
                    ? ze.CN.k_EOptInVisibility_InviteOnly
                    : ze.CN.k_EOptInVisibility_Public,
                ),
              label: "Visible only to invited partners",
              checked: t.EVisibility() == ze.CN.k_EOptInVisibility_InviteOnly,
            }),
          ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "ELIGIBILITY SETTING"),
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              "Enable this to limit participation to only invitied games or partners.",
              n.createElement("br", null),
              "Disable to use criteria to determine participation eligibility.",
            ),
            n.createElement(m.RF, {
              onChange: (e) => {
                t.SetInvititationOnly(e);
              },
              label: "Make participation invite-only",
              checked: t.BIsInvitationOnly(),
            }),
            !!t.BIsInvitationOnly() &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: Xe().Section },
                  n.createElement(jt, null),
                ),
              ),
            !t.BIsInvitationOnly() &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: Xe().Section },
                  n.createElement("h3", null, "ELIGIBILITY CRITERIA SETTINGS"),
                  n.createElement(
                    "div",
                    { className: Xe().IndentedSubSection },
                    n.createElement(
                      "div",
                      { className: Xe().SectionDesc },
                      "Use the settings below to define one or more criteria that determines which games can participate.",
                      n.createElement("br", null),
                      n.createElement("br", null),
                    ),
                    n.createElement("h3", null, "LIMIT BY RELEASE DATE"),
                    n.createElement(
                      "div",
                      { className: Xe().Section },
                      !Boolean(a) &&
                        n.createElement(
                          "div",
                          { className: B().WarningStylesWithIcon },
                          "Required Setting for OptIn",
                        ),
                      n.createElement(m.Yh, {
                        label: "Released games are eligible",
                        checked: t.BIsReleaseGamesEligible(),
                        onChange: t.SetReleaseGameEligible,
                      }),
                      n.createElement(m.Yh, {
                        label: "Unreleased games are eligible",
                        checked: t.BIsUnreleaseGamesEligible(),
                        onChange: t.SetUnreleaseGameEligible,
                      }),
                      Boolean(t.BIsUnreleaseGamesEligible()) &&
                        n.createElement(
                          n.Fragment,
                          null,
                          n.createElement(pt.K, {
                            strDescription: "Must release AFTER",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseAfterDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseAfterDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                          n.createElement(pt.K, {
                            strDescription: "Must release BEFORE",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseBeforeDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseBeforeDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                        ),
                    ),
                    n.createElement("h3", null, "LIMIT BY COOLDOWN GROUP"),
                    n.createElement(
                      "div",
                      { className: Xe().Section },
                      n.createElement(m.Yh, {
                        label:
                          "Games are ineligible to optin to this event if already opted in to an event of the same type",
                        checked: t.GetCooldownRequired(),
                        onChange: t.SetCooldownRequired,
                      }),
                      n.createElement(
                        "div",
                        { className: Xe().InviteButtonRow },
                        n.createElement(m.m, {
                          label: "Cooldown Group",
                          rgOptions: t.GetCooldownGroupOptions(),
                          selectedOption: t.GetCooldownGroupType(),
                          onChange: (e) => t.SetCooldownGroupType(e.data),
                          contextMenuPositionOptions: {
                            bDisableMouseOverlay: !0,
                          },
                        }),
                        n.createElement(
                          "div",
                          { className: Xe().NarrowInputField },
                          n.createElement(m.pd, {
                            label: "Cooldown Window (in number of days)",
                            type: "number",
                            value: t.GetCooldownDays(),
                            maxLength: 4,
                            onChange: (e) =>
                              t.SetCooldownDays(parseInt(e.target.value)),
                          }),
                        ),
                      ),
                    ),
                    n.createElement("h3", null, "LIMIT BY TAG"),
                    n.createElement(
                      "div",
                      { className: Xe().SectionDesc },
                      "Games must have one of these tags to participate",
                    ),
                    n.createElement(
                      "div",
                      { className: Xe().Section },
                      n.createElement(mt.Ay, {
                        isSearchable: !0,
                        isMulti: !0,
                        onChange: t.OnChangeRequiredTags,
                        value: t.GetRequiredTags(),
                        options: t.GetGameTagOptions(),
                      }),
                      n.createElement("br", null),
                      n.createElement("br", null),
                      n.createElement(
                        "div",
                        { className: Xe().NarrowInputField },
                        n.createElement(m.pd, {
                          type: "number",
                          min: "1",
                          max: "40",
                          label:
                            "Max Rank for the Apps Weighted Official Tag to Include",
                          tooltip:
                            "When comparing against the app list of official weighted tags; this is the largest rank to include. Default is 20 if not specified on the server.  Make sure 1) set field, 2) save opt in, 3) publish opt in, 4) refresh stats 5) ??? 6) Profit",
                          value: t.GetAppOfficialWeightedTagRankToInclude(),
                          onChange: (e) => {
                            const a =
                              Number.parseInt(e.currentTarget.value) || 20;
                            t.SetAppOfficialWeightedTagRankToInclude(a);
                          },
                        }),
                      ),
                    ),
                    n.createElement("h3", null, "LIMIT BY APP FEATURES"),
                    n.createElement(
                      "div",
                      { className: Xe().SectionDesc },
                      "Games must have one of these features to participate",
                    ),
                    n.createElement(
                      "div",
                      { className: Xe().Section },
                      n.createElement(m.Yh, {
                        label: "Remote Play Together",
                        checked: t.BRequiresRemotePlayTogether(),
                        onChange: t.SetRequiresRemotePlayTogether,
                      }),
                      n.createElement(m.Yh, {
                        label: "VR",
                        checked: t.BRequiresVR(),
                        onChange: t.SetRequiresVR,
                      }),
                    ),
                  ),
                ),
              ),
          ),
        );
      });
      var Qt = a(27543);
      function Zt(e) {
        return e ? { label: (0, Qt.rG)(e), value: "" + e } : null;
      }
      const ea = (0, Le.PA)((e) => {
        const t = s.Mt.Get(),
          [a, r] = n.useState(t.BHasSpecialEventType()),
          [i, l] = n.useState(Zt(t.GetSpecialEventType())),
          o = new Array();
        xe.Zi.forEach((e) => o.push(Zt(e)));
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "h3",
            null,
            "Include Special Event Category for OptIn",
          ),
          n.createElement(
            "p",
            null,
            "If enabled, registered games have the ability to create events of the specified typed marked up using tags with this opt-in names. This allows sales page to automatically load those events in a carousel or a schedule widget.",
            n.createElement(
              "span",
              null,
              Boolean(a) &&
                n.createElement(
                  "span",
                  null,
                  " The following tag will be set on the associated events: ",
                  n.createElement("b", null, t.GetFullName()),
                ),
            ),
          ),
          a
            ? n.createElement(
                "div",
                { className: Xe().IndentedSubSection },
                n.createElement(
                  "p",
                  null,
                  "This special event type will appear at the top of the category chooser for registered games. Please configure the name and info so partners know what this event is for.",
                ),
                n.createElement(
                  "p",
                  null,
                  n.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Opt-In+Tech+Custom+Event+type",
                      target: "_blank",
                    },
                    "Learn more about this feature here.",
                  ),
                ),
                n.createElement(mt.Ay, {
                  styles: { option: (e) => ({ ...e, color: "#444444" }) },
                  isSearchable: !0,
                  isMulti: !1,
                  placeholder: "Choose Event type",
                  onChange: (e) => {
                    l(e),
                      e?.value &&
                        t.SetSpecialEventType(Number.parseInt(e.value));
                  },
                  value: i,
                  options: o,
                  defaultMenuIsOpen: !1,
                }),
                n.createElement("br", null),
                n.createElement(m.pd, {
                  type: "text",
                  label: "Optional: Special Event Title:",
                  onChange: (e) => t.SetCurSpecialEventName(e.target.value),
                  value: t.GetCurSpecialEventName(),
                  tooltip:
                    "This appears on the partner events editor to describe the special event category. Assign if the opt-in name is not helpful when creating the event. Don't include the event type, it will be appended at the end, ie, News or Live Stream.",
                  placeholder: "Optional: Special Event Title Here",
                }),
                n.createElement("br", null),
                n.createElement(
                  "div",
                  null,
                  "Optional: Special Event Description:",
                ),
                n.createElement(je.I, {
                  fnGetCurText: t.GetCurSpecialEventDescription,
                  fnOnTextChange: (e) =>
                    t.SetCurSpecialEventDescription(e.currentTarget.value),
                  fnSetText: t.SetCurSpecialEventDescription,
                  strPlaceholder:
                    "Optional: Enter Special Event Description Here",
                  emoticonStore: We.A,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: Xe().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                n.createElement("br", null),
                n.createElement(m.pd, {
                  type: "text",
                  label: "Optional: Documentation Link:",
                  onChange: (e) => t.SetSpecialEventDocLink(e.target.value),
                  value: t.GetSpecialEventDocLink(),
                  tooltip:
                    "Ideally links directly to the part of the OptIn documentation that talks about the purpose of this event. Use an anchor to do this.",
                  placeholder: "Optional: Documentation Link Here",
                }),
                n.createElement(
                  "div",
                  { className: Xe().NarrowInputField },
                  n.createElement(m.pd, {
                    type: "number",
                    min: "0",
                    max: "40",
                    label: "Optional: Maximum amount of events per game",
                    onChange: (e) =>
                      t.SetSpecialEventTypeMax(Number.parseInt(e.target.value)),
                    value: t.GetSpecialEventTypeMax(),
                    tooltip:
                      "How many of these event type can a single game created? If set to zero, it means unlimited.",
                  }),
                ),
                n.createElement(aa, null),
                n.createElement("br", null),
                n.createElement("br", null),
                n.createElement("div", null, "Disable This Section:"),
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(ta, { fnSetEnabled: r }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Disable And Clear Settings",
                ),
              )
            : n.createElement(m.Yh, {
                label: "Enable Feature",
                checked: a,
                onChange: r,
              }),
        );
      });
      function ta(e) {
        const { fnSetEnabled: t, closeModal: a } = e,
          r = s.Mt.Get();
        return n.createElement(T.o0, {
          strTitle: "Remove Special Event",
          strDescription:
            "This will clear and unset all of the fields related to the special event and category. Are you sure?",
          closeModal: a,
          bAlertDialog: !0,
          onOK: () => {
            r.ClearSpecialEventCategory(), t(!1);
          },
        });
      }
      function aa(e) {
        const t = s.Mt.Get(),
          [a, r] = n.useState(
            t.BHasSpecialEventTimeSet() || t.NCountSpecialEventBlocks() > 0,
          ),
          [i, l, o, c, d] = (0, Ne.q3)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetSpecialEventStartTime(),
            t.GetSpecialEventEndTime(),
            t.GetAllSpecialEventBlocks(),
          ]);
        return a
          ? n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "p",
                null,
                "Optional: Further restrict the event scheduling between these following two times. By restricting the schedule\tit allows the event organizer to run official streams that will take priority and letting partners avoid scheduling their events at those time.",
              ),
              n.createElement(pt.K, {
                strDescription: "Special Event Scheduling Start Date and Time",
                nEarliestTime: i,
                nLatestTime: l,
                fnGetTimeToUpdate: () => o,
                fnSetTimeToUpdate: t.SetSpecialEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              n.createElement(pt.K, {
                strDescription: "Special Event Scheduling End Date and Time",
                nEarliestTime: i,
                nLatestTime: l,
                fnGetTimeToUpdate: () => c,
                fnSetTimeToUpdate: t.SetSpecialEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement(
                "p",
                null,
                "Optional: Add one ore more additional event scheduling restrictions. For instance, we plan to have official replace or broadcasts are different points of the events that are not strictly at the start or end of the event. Alternatively, we want to prevents partners from scheduling their live streams during the common hours related to Steam prop and suffer from their stream interruptions.",
              ),
              n.createElement(He.A, {
                items: d,
                onDelete: (e) => t.RemoveSpecialEventBlock(e),
                onMove: (e, a) => t.MoveSpecialEventblock(e, a),
                render: (e) => {
                  const t = e,
                    a = d.findIndex((e) => e == t);
                  return n.createElement(na, {
                    key: "rtime" + a + "_" + t?.block_rt_start,
                    block: t,
                  });
                },
                onEdit: (e, t) =>
                  (0, h.pg)(
                    n.createElement(ra, { blockIndex: e }),
                    (0, v.uX)(t),
                  ),
              }),
              n.createElement(
                m.$n,
                { onClick: () => t.AddSpecialEventBlock() },
                "Add a Special Event Blocked from Scheduling Time Range",
              ),
              n.createElement("br", null),
              n.createElement("br", null),
            )
          : n.createElement(m.Yh, {
              label: "Optional: Limit Event Schedule Time",
              checked: a,
              onChange: r,
            });
      }
      function na(e) {
        const { block: t } = e,
          [a, r, i, s] = (0, Ne.q3)(() => [
            t.block_rt_start,
            t.block_rt_end,
            t.block_reason,
            t.internal_reason,
          ]);
        return t && t.block_rt_start && t.block_rt_end
          ? n.createElement(
              "div",
              null,
              n.createElement("span", null, "Blocked time: "),
              n.createElement(g.v9, { startDateAndTime: a, endDateAndTime: r }),
              Boolean(s) && n.createElement("div", null, "Interal Reason: ", s),
              Boolean(i) &&
                n.createElement(
                  "div",
                  null,
                  "Has Localizable User Facing Reason",
                ),
            )
          : n.createElement(
              "div",
              null,
              "Error: Block Time not setup. Please edit",
            );
      }
      function ra(e) {
        const { blockIndex: t, closeModal: a } = e,
          r = s.Mt.Get(),
          [i, l] = (0, n.useState)(r.GetAllSpecialEventBlocks()[t]),
          [o, c, d] = (0, Ne.q3)(() => [
            r.GetEventStartTime(),
            r.GetEventEndTime(),
            qe.O.Get().GetCurEditLanguage(),
          ]),
          u = (0, xe.Lg)(d),
          p = (e) => (i.block_reason[u] = e);
        return n.createElement(
          T.o0,
          {
            strTitle: "Edit Special Event Schedule Block Range",
            strDescription:
              "Additional times when a partner cannot schedule their special event because we have blocked it out",
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              r.SetSpecialEventBlock(t, i) ||
                console.log(
                  "Failed to save special event block, requiring debugging, ",
                  t,
                );
            },
            closeModal: a,
          },
          n.createElement(pt.K, {
            strDescription: "Blocked Out Scheduling Start Date and Time",
            nEarliestTime: o,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_start,
            fnSetTimeToUpdate: (e) => l({ ...i, block_rt_start: e }),
            fnIsValidDateTime: () =>
              (i.block_rt_start && !i.block_rt_end) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          n.createElement(pt.K, {
            strDescription: "Blocked Out Scheduling End Date and Time",
            nEarliestTime: o,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_end,
            fnSetTimeToUpdate: (e) => l({ ...i, block_rt_end: e }),
            fnIsValidDateTime: () =>
              (i.block_rt_end && !i.block_rt_start) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          n.createElement(m.pd, {
            type: "text",
            label: "Internal Reason",
            value: i.internal_reason || "",
            onChange: (e) =>
              l({ ...i, internal_reason: e.currentTarget.value }),
            placeholder: "Optional: Reason visible only to us",
          }),
          n.createElement(
            "div",
            null,
            "Optional: Blocking Schedule Localized Reason visible to Partner Event Editors:",
          ),
          n.createElement(je.I, {
            fnGetCurText: () => (0, ze.mA)(i.block_reason, d, ""),
            fnOnTextChange: (e) => p(e.currentTarget.value),
            fnSetText: p,
            strPlaceholder:
              "Optional: Enter Schedule block description here; shorter concise reason preferred.",
            emoticonStore: We.A,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            classNameForTextArea: Xe().EventBBCodeEditor,
            limitBBCode: void 0,
            nOverridesRows: 10,
          }),
          n.createElement("br", null),
        );
      }
      function ia(e) {
        const t = s.Mt.Get(),
          [a, r] = (0, n.useState)(
            () =>
              t.GetQandA1EventStartTime() > 0 ||
              t.GetQandA2EventStartTime() > 0,
          ),
          [i, l, o, c, d, u] = (0, Ne.q3)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetQandA1EventStartTime(),
            t.GetQandA2EventStartTime(),
            t.GetQandA1URL(),
            t.GetQandA2URL(),
          ]);
        return n.createElement(
          Qe.qx,
          { title: "Event Deadlines and Reminders", bStartMinimized: !1 },
          n.createElement(
            "p",
            null,
            "Items here will surface directly on the generated documentation and surfaces on participating partners dashboards as informational",
          ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Next Fest Additional Times"),
            n.createElement(
              "p",
              null,
              "Next Fest has two Question and Answer sessions. The first one is registration focussed and second is more general",
            ),
            Boolean(!a)
              ? n.createElement(m.Yh, {
                  label: "Enable Question and Answer Section?",
                  checked: a,
                  onChange: () => r(!0),
                })
              : n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(pt.K, {
                    strDescription: (0, R.we)(
                      "#OptIn_NextFest_QAndA_Registration",
                    ),
                    nEarliestTime: i,
                    nLatestTime: l,
                    fnGetTimeToUpdate: () => o,
                    fnSetTimeToUpdate: t.SetQandA1EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  n.createElement(m.pd, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA1URL(e.target.value),
                    value: d,
                    mustBeURL: !0,
                  }),
                  n.createElement(pt.K, {
                    strDescription: (0, R.we)("#OptIn_NextFest_QAndA"),
                    nEarliestTime: i,
                    nLatestTime: l,
                    fnGetTimeToUpdate: () => c,
                    fnSetTimeToUpdate: t.SetQandA2EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  n.createElement(m.pd, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA2URL(e.target.value),
                    value: u,
                    mustBeURL: !0,
                  }),
                ),
          ),
        );
      }
      function sa(e) {
        const t = s.Mt.Get();
        return n.createElement(
          "div",
          { className: Xe().Section },
          n.createElement("h3", null, "Free-to-Keep DLC Item Drops"),
          n.createElement(
            "p",
            null,
            "Allow the developer to setup an DLC that can be used for an item drop using free-to-keep tech",
          ),
          n.createElement(
            "a",
            {
              href: "https://confluence.valve.org/display/SteamBiz/Free+to+Keep%3A+Drops",
              target: "_blank",
            },
            "Internal Documentation",
          ),
          n.createElement(m.Yh, {
            label: "Free-to-keep Item Drops via DLC",
            checked: t.BIsFreeToKeepItemDropEnabled(),
            onChange: t.SetFreeToKeepItemDropEnabled,
          }),
          n.createElement(m.m, {
            label: "Optional/Suggested/Required",
            rgOptions: t.GetRequiredOptions(),
            selectedOption: t.GetFreeToKeepItemDropRequired(),
            onChange: (e) => t.SetFreeToKeepItemDropRequired(e.data),
            contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
          }),
        );
      }
      function la(e) {
        const t = s.Mt.Get(),
          [a, r, i] = (0, Ne.q3)(() => [
            t.GetName(),
            t.GetFullName(),
            t.BIsOptInEnabled(),
          ]);
        return n.createElement(
          "div",
          { className: ut().AdminPageCtn },
          n.createElement(
            "div",
            { className: ut().PageTitle },
            "OptIn Admin Editing: ",
            a,
          ),
          n.createElement("hr", null),
          n.createElement(
            "div",
            { className: ut().ColumnCtn },
            n.createElement(
              "div",
              { className: ut().LeftCol },
              n.createElement(oa, null),
              n.createElement(Xt, null),
              n.createElement(ga, null),
              n.createElement(ca, null),
              n.createElement(ia, null),
              n.createElement(ma, null),
              n.createElement(Ze, null),
              n.createElement(da, null),
              n.createElement(ua, null),
              n.createElement(pa, null),
              n.createElement(Bt, null),
              n.createElement(_a, null),
            ),
            n.createElement(
              "div",
              { className: ut().RightCol },
              n.createElement(
                "div",
                { className: ut().SectionCtn },
                n.createElement(
                  "div",
                  { className: Xe().SectionDesc },
                  "When you are ready to start accepting opt-ins from eligible games that meet the criteria you've defined, check the box below and save the OptIn.",
                ),
                n.createElement("br", null),
                n.createElement(m.Yh, {
                  label: "Enable Partners to opt-in",
                  checked: i,
                  onChange: t.SetOptInEnabled,
                }),
                n.createElement(
                  "a",
                  {
                    href: `${f.TS.PARTNER_BASE_URL}doc/marketing/upcoming_events/themed_sales`,
                    target: "_blank",
                  },
                  "Steam Works Doc Page",
                ),
              ),
            ),
          ),
        );
      }
      const oa = (0, Le.PA)((e) => {
          const t = s.Mt.Get(),
            a = [
              {
                label: "Event Registration",
                data: ze.YI.k_EOptInType_EventRegistration,
              },
              {
                label: "Recommended Actions",
                data: ze.YI.k_EOptInType_RecommendedAction,
              },
            ];
          return n.createElement(
            Qe.qx,
            { title: "Basic Event Info", bStartMinimized: !1 },
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Event Title:"),
              n.createElement(m.pd, {
                type: "text",
                onChange: (e) => t.SetCurEventTitle(e.target.value),
                value: t.GetCurEventTitle(),
                placeholder: "Enter Title Here",
                className: _().LargeInput,
              }),
              n.createElement("br", null),
              n.createElement("h3", null, "Event Description:"),
              n.createElement(
                "p",
                null,
                "This section appears at the top of the opt-in page and is used for telling potential participants what the event is all about. This is also considered the overview which appears in the automatically generated docs",
              ),
              n.createElement(je.I, {
                fnGetCurText: t.GetCurDescription,
                fnOnTextChange: (e) =>
                  t.SetCurDescription(e.currentTarget.value),
                fnSetText: t.SetCurDescription,
                strPlaceholder: "Enter Description Here",
                emoticonStore: We.A,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Xe().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              n.createElement("h3", null, "Event Eligibility:"),
              n.createElement(
                "p",
                null,
                "This section should contain only the eligibility requirements for participating in the event",
              ),
              n.createElement(je.I, {
                fnGetCurText: t.GetCurEligibilityText,
                fnOnTextChange: (e) =>
                  t.SetCurEligibilityText(e.currentTarget.value),
                fnSetText: t.SetCurEligibilityText,
                strPlaceholder: "Enter Eligibility Here",
                emoticonStore: We.A,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Xe().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              n.createElement("h3", null, "OptIn Type"),
              n.createElement(m.m, {
                strDropDownClassName: _().DropDownScroll,
                rgOptions: a,
                selectedOption: t.GetOptInType(),
                onChange: (e) => t.SetOptInType(e.data),
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                tooltip:
                  "Allows us to re-use OptIn tech for non-event registration purposes.",
              }),
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Event Dates:"),
              n.createElement(
                "p",
                null,
                "Specify the dates of the actual event",
              ),
              n.createElement(pt.K, {
                strDescription: "Event Start Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventStartTime(),
                fnSetTimeToUpdate: t.SetEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              n.createElement(pt.K, {
                strDescription: "Event End Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventEndTime(),
                fnSetTimeToUpdate: t.SetEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              n.createElement("h3", null, "Trailer Live Date:"),
              n.createElement(
                "p",
                null,
                "Specify when the trailer will be available. If missing, we won't show in the documentation",
              ),
              n.createElement(pt.K, {
                strDescription: "Trailer Live Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventTrailerDropDate(),
                fnSetTimeToUpdate: t.SetEventTrailerDropDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Steamworks Documentation URL:"),
              n.createElement(
                "p",
                null,
                "Where in the Steamworks Documentation can partners learn about this festival and eligiblity criteria",
              ),
              n.createElement(m.pd, {
                type: "text",
                onChange: (e) =>
                  t.SetPublicDocumentationWikiURL(e.target.value),
                value: t.GetPublicDocumentationWikiURL(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales/<EVENT NAME>",
              }),
              n.createElement("h3", null, "Partner and Press Asset Kit:"),
              n.createElement(
                "p",
                null,
                "When supplied this will be the URL for the partner and press to download from the documentation page",
              ),
              n.createElement(m.pd, {
                type: "text",
                onChange: (e) => t.SetAssetSetDocFile(e.target.value),
                value: t.GetAssetSetDocFile(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://www.dropbox.com/scl/fo/hv57yc7yda6i21k47fi2v/h?rlkey=w7gbb0mjuy4imutpi2651lbl8&dl=0",
              }),
              n.createElement("h3", null, "Help Text:"),
              n.createElement(
                "p",
                null,
                "This section appears near the bottom of the opt-in page and is used for describing where participants can find more information.",
              ),
              n.createElement(je.I, {
                fnGetCurText: t.GetCurHelpText,
                fnOnTextChange: (e) => t.SetCurHelpText(e.currentTarget.value),
                fnSetText: t.SetCurHelpText,
                strPlaceholder: "Enter Help Text",
                emoticonStore: We.A,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: Xe().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
            ),
            n.createElement(ft, null),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Categorization & Stat Reporting:"),
              n.createElement(
                "p",
                null,
                "Allows the developer to view how their game is being categorized within the sale page. The event hosting the sale page must be publicly visible.",
              ),
              n.createElement(
                "ul",
                null,
                n.createElement(
                  "li",
                  null,
                  "Before the event start, this would be the developer preview sale pages. ",
                ),
                n.createElement(
                  "li",
                  null,
                  "Once the evnet is live, we should update this value to the actual sale page's clan event GID.",
                ),
              ),
              n.createElement(
                "p",
                null,
                "Our event stats will also be based on the apps included in this sale page.",
              ),
              n.createElement(m.pd, {
                type: "text",
                onChange: (e) => t.SetPublicEventID(e.target.value),
                value: t.GetPublicEventID(),
                placeholder: "5196643638649256091",
              }),
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement(ea, null),
            ),
          );
        }),
        ca = (0, Le.PA)((e) => {
          const t = s.Mt.Get();
          return n.createElement(
            Qe.qx,
            { title: "Registration Options", bStartMinimized: !1 },
            n.createElement(
              "span",
              null,
              "Select the settings that should appear as part of the registration process",
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Categories"),
              n.createElement(
                "p",
                null,
                "Ask developers to choose one or more categories that apply to their game. Most often used with Next Fest to put games in the right sections and tabs.",
              ),
              n.createElement(m.Yh, {
                label: "Show Categories",
                checked: t.BIsCategoriesEnabled(),
                onChange: t.SetCategoriesEnabled,
              }),
              n.createElement("hr", null),
              n.createElement(
                "div",
                {
                  className: (0, y.A)(
                    Xe().IndentedSubSection,
                    t.BIsCategoriesEnabled() ? "" : Xe().Disabled,
                  ),
                },
                n.createElement(m.m, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetCategoriesRequired(),
                  onChange: (e) => t.SetCategoriesRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                n.createElement("span", null, "Visible Categories"),
                n.createElement(mt.Ay, {
                  isSearchable: !0,
                  isMulti: !0,
                  onChange: t.OnChangeCategoryTags,
                  value: t.GetCategoryTags(),
                  options: t.GetGameTagOptions(),
                }),
              ),
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Press Contact Info"),
              n.createElement(
                "p",
                null,
                "When enablesd, it will allow the partner to enter a primary contact name and email address for this game. It will inform them that we plan to use this information when contacting the press about the event with participating games. You can export the opt-in press contact in manage tab.",
              ),
              n.createElement(m.Yh, {
                label: "Collect Press Contact Info",
                checked: t.BIsPressContactEnabled(),
                onChange: t.SetPressContactEnabled,
              }),
              n.createElement("hr", null),
              n.createElement(
                "div",
                {
                  className: (0, y.A)(
                    Xe().IndentedSubSection,
                    t.BIsPressContactEnabled() ? "" : Xe().Disabled,
                  ),
                },
                n.createElement(m.m, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetPressContactRequired(),
                  onChange: (e) => t.SetPressContactRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
              ),
            ),
          );
        }),
        ma = (0, Le.PA)((e) => {
          const t = s.Mt.Get();
          return n.createElement(
            Qe.qx,
            { title: "Uncommon Registration Options", bStartMinimized: !0 },
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Artist Statement"),
              n.createElement(
                "p",
                null,
                "Ask developers to provide an artist statement. This is presented as the following",
              ),
              n.createElement(
                "p",
                null,
                n.createElement(
                  "i",
                  null,
                  '"Please also tell us a bit about yourself (or your team) and your game. Anything you think we should know that won\'t be obvious from your Steam appID such as awards your game has won or shows it has been included in? Unique story of your team or the project? Let us know here! Note: Your text here is for internal use at Valve only and will not be shown publicly."',
                ),
              ),
              n.createElement(m.Yh, {
                label: "Artist Statement",
                checked: t.BIsArtistStatementEnabled(),
                onChange: t.SetArtistStatementEnabled,
              }),
              n.createElement(m.m, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetArtistStatementRequired(),
                onChange: (e) => t.SetArtistStatementRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Primary Country"),
              n.createElement(
                "p",
                null,
                "Ask developers to tell us what country they are primarily from. We haven't used this in a long time.",
              ),
              n.createElement(m.Yh, {
                label: "Ask developers to enter their Primary Country",
                checked: t.BIsPrimaryCountryEnabled(),
                onChange: t.SetPrimaryCountryEnabled,
              }),
              n.createElement(m.m, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetPrimaryCountryRequired(),
                onChange: (e) => t.SetPrimaryCountryRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
            n.createElement(sa, null),
          );
        }),
        da = (0, Le.PA)((e) => {
          const t = s.Mt.Get();
          return n.createElement(
            Qe.qx,
            {
              title: "Tasks Required Prior To Registration",
              bStartMinimized: !1,
            },
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement(m.Yh, {
                label: "Show this section to developers",
                checked: t.BIsBeforeYouOptInEnabled(),
                onChange: t.SetBeforeYouOptInEnabled,
              }),
              n.createElement("hr", null),
              n.createElement(
                "div",
                {
                  className: (0, y.A)(
                    Xe().IndentedSubSection,
                    t.BIsBeforeYouOptInEnabled() ? "" : Xe().Disabled,
                  ),
                },
                n.createElement("h3", null, "Build Your Store Page"),
                n.createElement(m.Yh, {
                  label: "Remind devs to build their store page",
                  checked: t.BIsBuildYourStorePageEnabled(),
                  onChange: t.SetBuildYourStorePageEnabled,
                }),
                n.createElement(m.m, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetBuildYourStorePageRequired(),
                  onChange: (e) => t.SetBuildYourStorePageRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                n.createElement(je.I, {
                  fnGetCurText: t.GetStorePageText,
                  fnOnTextChange: (e) =>
                    t.SetStorePageText(e.currentTarget.value),
                  fnSetText: t.SetStorePageText,
                  strPlaceholder:
                    "Describe any required guidelines for the store page such as screenshots, trailer, etc.",
                  emoticonStore: We.A,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: Xe().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                n.createElement("h3", null, "Tagging Wizard"),
                n.createElement(m.Yh, {
                  label: "Remind developers to use The Tagging Wizard",
                  checked: t.BIsTaggingWizardEnabled(),
                  onChange: t.SetTaggingWizardEnabled,
                }),
              ),
            ),
          );
        });
      function ua(e) {
        const t = s.Mt.Get(),
          [a, r, i, l] = (0, Ne.q3)(() => [
            t.BIsLaunchYourDemoEnabled(),
            t.GetRequiredOptions(),
            t.GetLaunchYourDemoRequired(),
            t.GetLaunchYourDemoDueDate(),
          ]);
        return n.createElement(
          Qe.qx,
          { title: "Tasks required to start", bStartMinimized: !1 },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "p",
              null,
              "These are sections that describe activities that developers need to do in order to be live within the festival.",
            ),
            n.createElement(m.Yh, {
              label: "Show 'Launch your demo' section",
              checked: a,
              onChange: t.SetLaunchYourDemoEnabled,
            }),
            n.createElement("hr", null),
            n.createElement(
              "div",
              {
                className: (0, y.A)(
                  Xe().IndentedSubSection,
                  a ? "" : Xe().Disabled,
                ),
              },
              n.createElement(m.m, {
                label: "Optional/Suggested/Required",
                rgOptions: r,
                selectedOption: i,
                onChange: (e) => t.SetLaunchYourDemoRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
              n.createElement(pt.K, {
                strDescription: "Due Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => l,
                fnSetTimeToUpdate: t.SetLaunchYourDemoDueDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
          ),
        );
      }
      function pa(e) {
        const t = s.Mt.Get(),
          [a, r, i, l, o, c] = (0, Ne.q3)(() => [
            t.BIsDoAnytimeEnabled(),
            t.BIsLivestreamEnabled(),
            t.BIsChatSessionEnabled(),
            t.BIsAnytimeTaggingWizardEnabled(),
            t.BIsEnterDiscountsEnabled(),
            t.GetDiscountEventID(),
          ]);
        return n.createElement(
          Qe.qx,
          { title: "Tasks that can be done any time", bStartMinimized: !1 },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "p",
              null,
              "Show activities such as livestreaming, chat sessions, tagging wizard, and discounting that developers can do at any time to get more out of their participation in this event.",
            ),
            n.createElement(m.Yh, {
              label: "Show This Section to Developers",
              checked: a,
              onChange: t.SetDoAnytimeEnabled,
            }),
            n.createElement("hr", null),
            n.createElement(
              "div",
              {
                className: (0, y.A)(
                  Xe().IndentedSubSection,
                  Boolean(a) ? "" : Xe().Disabled,
                ),
              },
              n.createElement(
                "h3",
                null,
                "This Event Will Feature Livestreams",
              ),
              n.createElement(m.Yh, {
                label: "Developers can create livestream sessions",
                checked: r,
                onChange: t.SetLivestreamEnabled,
              }),
              n.createElement(
                "span",
                null,
                "Developers may schedule a 'livestream' type event during this sale and their stream will be prioritized in the broadcast player on the event landing page during their scheduled time.",
              ),
              n.createElement("br", null),
              n.createElement("h3", null, "This Event Will Feature Dev Chats"),
              n.createElement(m.Yh, {
                label: "Developers can create chat session",
                checked: i,
                onChange: t.SetChatSessionEnabled,
              }),
              n.createElement(
                "span",
                null,
                "Developers may schedule a 'live chat' type event during this sale and their event will appear in the schedule on the event landing page.",
              ),
              n.createElement("br", null),
              n.createElement("h3", null, "Reminder to Update Store Tags"),
              n.createElement(m.Yh, {
                label: "Remind developers to use the tagging wizard",
                checked: l,
                onChange: t.SetAnytimeTaggingWizardEnabled,
              }),
              n.createElement(
                "span",
                null,
                "Developers should make use of the tagging wizard to make sure players can find their game.",
              ),
              n.createElement("br", null),
              n.createElement("h3", null, "This Event features discounts"),
              n.createElement(m.Yh, {
                label: "Remind developers to enter discounts",
                checked: o,
                onChange: t.SetEnterDiscountsEnabled,
              }),
              n.createElement(
                "span",
                null,
                "Developers are reminded to enter discounts for their game.",
              ),
              n.createElement("br", null),
              Boolean(o) &&
                n.createElement(m.pd, {
                  type: "text",
                  label: "Enter Discount Event ID",
                  placeholder:
                    "For example: 7113, in the case of partner.steamgames.com/admin/editdiscountevent/7113",
                  tooltip: "Only requires the ID found at the end of the URL",
                  value: c,
                  onChange: (e) =>
                    t.SetDiscountEventID(e?.currentTarget?.value || ""),
                }),
            ),
          ),
        );
      }
      function _a(e) {
        const t = s.Mt.Get(),
          [a] = (0, Ne.q3)(() => [t.BOptInRegistationOnlyShowSaveButton()]),
          [r, i] = (0, n.useState)(
            t.BHasOptInRegistrationTitleOrCheckbox() || a,
          ),
          [l, o] = (0, Ne.q3)(() => [
            t.GetCurOptInRegistrationTitle(),
            t.GetCurOptInRegistrationCheckbox(),
          ]);
        return n.createElement(
          Qe.qx,
          { title: "Override Final Particiption Text", bStartMinimized: !1 },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "p",
              null,
              "The final part of the registration for the opt-in will have the following:",
            ),
            n.createElement(
              "p",
              null,
              n.createElement("b", null, "Default Title:"),
              " ",
              (0, R.we)("#OptIn_OptinOptionTitle"),
            ),
            n.createElement(
              "p",
              null,
              n.createElement("b", null, "Radio 1:"),
              " ",
              (0, R.we)(
                "#OptIn_Participate",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            n.createElement(
              "p",
              null,
              n.createElement("b", null, "Radio 2:"),
              " ",
              (0, R.we)(
                "#OptIn_Participate_No",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            n.createElement("br", null),
            r
              ? n.createElement(
                  "div",
                  null,
                  n.createElement(m.pd, {
                    type: "text",
                    label: "OptIn Registration Title",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationTitle(e.target.value),
                    value: l,
                    disabled: a,
                    placeholder: "Enter OptIn Registration Title Here",
                  }),
                  n.createElement(m.pd, {
                    type: "text",
                    label: "OptIn Registration Checkbox",
                    tooltip:
                      "This version cannot dynamically insert the game name or the event name, it is just a localized string",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationCheckbox(e.target.value),
                    value: o,
                    disabled: a,
                    placeholder: "Enter OptIn Registration Checkbox Here",
                  }),
                  n.createElement(m.Yh, {
                    label: "Use the Save button as 'Opted In'",
                    tooltip:
                      "This hides the title and checkbox and only shows the save. When the save is pressed it is treated as opted in. Useful for when we are asking for permissions and not actualy looking for opt-in into a festival. Hitting means they are done.",
                    onChange: t.SetOptInRegistationOnlyShowSaveButton,
                    checked: a,
                  }),
                )
              : n.createElement(m.Yh, {
                  label: "Override this final text?",
                  checked: r,
                  onChange: i,
                }),
          ),
        );
      }
      function ga(e) {
        const t = s.Mt.Get(),
          [a, r] = (0, n.useState)(t.GetCurAppealsText()?.length > 0);
        return n.createElement(
          Qe.qx,
          { title: "Appeals Process", bStartMinimized: !1 },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "p",
              null,
              "To avoid tickets, we want to provide games that have been pruned out or not considered information about how we reviewed games for inclusion in the sale. This let them review our guidelines and then submit an appeal for us to review for their include.  Not all opt-in's need an appeal process.",
            ),
            Boolean(a)
              ? n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "p",
                    null,
                    "Describe the eligibility criteria here for partners to see. They will see this when their game is not eligible and they can then consider whether they wish to start an appeal.",
                  ),
                  n.createElement(je.I, {
                    fnGetCurText: t.GetCurAppealsText,
                    fnOnTextChange: (e) =>
                      t.SetCurAppealsText(e.currentTarget.value),
                    fnSetText: t.SetCurAppealsText,
                    strPlaceholder: "Enter Appeals Text",
                    emoticonStore: We.A,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: Xe().EventBBCodeEditor,
                    limitBBCode: void 0,
                    nOverridesRows: 10,
                  }),
                )
              : n.createElement(
                  m.$n,
                  { onClick: () => r(!0) },
                  "Add Appeals Support",
                ),
          ),
        );
      }
      var ha = a(93095),
        Ea = a(75186);
      function Sa(e) {
        const { tableRef: t } = e,
          a = (0, n.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              a = document.getElementById("filter-type"),
              n = document.getElementById("filter-value");
            (e.value = ""),
              (a.value = ""),
              (n.value = ""),
              t.current.resetColumnFilters(),
              t.current.setColumnFilterFnOverride({});
          }, [t]),
          r = (0, n.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              a = document.getElementById("filter-type"),
              n = document.getElementById("filter-value"),
              r = e.options[e.selectedIndex].value,
              i =
                -1 != a.selectedIndex
                  ? a.options[a.selectedIndex].value
                  : void 0;
            r &&
              i &&
              (t.current.setColumnFilters([{ id: r, value: n.value }]),
              t.current.setColumnFilterFnOverride({ [r]: i }));
          }, [t]);
        return n.createElement(
          "div",
          null,
          "Field: ",
          n.createElement(
            "select",
            { id: "filter-field", onChange: r },
            n.createElement("option", null),
            n.createElement("option", { value: "app_name" }, "App Name"),
            n.createElement("option", { value: "tags" }, "Tags"),
          ),
          n.createElement("span", { style: { paddingLeft: "20px" } }, "Type:"),
          n.createElement(
            "select",
            { id: "filter-type", onChange: r },
            n.createElement("option", { value: "equalsString" }, "="),
            n.createElement("option", { value: "includesString" }, "like"),
          ),
          n.createElement("span", { style: { paddingLeft: "20px" } }, "Value:"),
          n.createElement("input", {
            id: "filter-value",
            type: "text",
            placeholder: "value to filter",
            onKeyUp: r,
          }),
          n.createElement("span", { style: { paddingLeft: "20px" } }),
          n.createElement(
            "button",
            { id: "download-csv", onClick: a },
            "Clear",
          ),
        );
      }
      var ya = a(36185),
        va = a(91787),
        fa = a(16666);
      const ba = (0, fa.FB)();
      function wa() {
        const e = s.Mt.Get(),
          t = [
            ba.accessor("appid", { header: "App ID", cell: va.yb, size: 80 }),
            ba.accessor("app_name", {
              header: "App Name",
              cell: va.Ci,
              size: 250,
            }),
            ba.accessor("released", {
              header: "Is Released",
              cell: va.FW,
              size: 120,
            }),
          ];
        return (
          e.BIsEnterDiscountsEnabled() &&
            t.push(
              ba.accessor("long_term_sales_rank", {
                header: "Long Term Sales Rank",
                cell: va.Dq,
                size: 80,
              }),
              ba.accessor("discount_info", {
                header: "Discounts",
                cell: va.Lv,
                size: 450,
              }),
            ),
          t.push(
            ba.accessor("wishlists", {
              header: "Wishlists",
              cell: va.Dq,
              size: 140,
            }),
            ba.accessor("sales", { header: "Sales", cell: va.PY, size: 150 }),
            ba.accessor("sales_dlc", {
              header: "DLC Sales",
              cell: va.PY,
              size: 150,
            }),
            ba.accessor("sales_in_game", {
              header: "In Game Sales",
              cell: va.PY,
              size: 150,
            }),
            ba.accessor("tags", { header: "Tags", size: 250 }),
            ba.accessor("publisherid", {
              header: "Publisher ID",
              cell: va.dG,
              size: 250,
            }),
          ),
          t
        );
      }
      var Da = a(71683),
        Ca = a.n(Da);
      function Ia(e, t) {
        return Number.parseInt(t.sales) - Number.parseInt(e.sales);
      }
      function Ba(e, t) {
        const {
            oAllStats: a,
            mapAppToDiscountInfo: n,
            strDiscountEventID: r,
            rtEventStart: i,
            rtEventEnd: s,
          } = t,
          l = {
            nTotal: e.length || 0,
            nTopOptedIn: 0,
            nTopOptedOut: 0,
            nTopInvited: 0,
            nTopWithOverlappingDiscount: 0,
            nTopWithOfficialDiscount: 0,
            nTopFree: 0,
            nTopComingSoon: 0,
          };
        return (
          e.forEach((e) => {
            a.setOptedIn.has(e.appid) && (l.nTopOptedIn += 1),
              a.setOptedOut.has(e.appid) && (l.nTopOptedOut += 1),
              a.setInvited.has(e.appid) && (l.nTopInvited += 1);
            const t = n?.get(e.appid);
            t &&
              (t.is_free && (l.nTopFree += 1),
              t.is_coming_soon && (l.nTopComingSoon += 1),
              r &&
                t.discounts?.find((e) => e.discountEventID == r) &&
                (l.nTopWithOfficialDiscount += 1),
              t.discounts?.some((e) => e.rtStartDate < s && e.rtEndDate > i) &&
                (l.nTopWithOverlappingDiscount += 1));
          }),
          l
        );
      }
      function Ta(e) {
        const { rgOverviewList: t } = e,
          [a, r] = (0, n.useMemo)(
            () => [Ba(t.sort(Ia).slice(0, 100), e), Ba(t, e)],
            [e, t],
          );
        return e.mapAppToDiscountInfo
          ? n.createElement(
              Qe.qx,
              {
                title: "OptIn Participation Stats",
                tooltip:
                  "Shows the stats for the top 100 and all games invited/optin/opted out for a themed sale. Ignores the eligible games",
                bStartMinimized: !1,
              },
              n.createElement(
                "table",
                { className: Xe().StatsCtn },
                n.createElement(
                  "tr",
                  null,
                  n.createElement("th", null),
                  n.createElement("th", { colSpan: 4 }, "Action Taken:"),
                  n.createElement("th", { colSpan: 3 }, "Discounts:"),
                ),
                n.createElement(
                  "tr",
                  null,
                  n.createElement("th", null),
                  n.createElement("th", null, "Total"),
                  n.createElement("th", null, "Opt In"),
                  n.createElement("th", null, "Opt Out"),
                  n.createElement("th", null, "Invited"),
                  n.createElement("th", null, "All"),
                  n.createElement("th", null, "Official Discount Event"),
                  n.createElement("th", null, "Any overlapping Discount"),
                ),
                n.createElement(
                  "tr",
                  null,
                  n.createElement("td", null, "Top Hundred:"),
                  n.createElement(Ma, { oCalc: a }),
                ),
                n.createElement(
                  "tr",
                  null,
                  n.createElement("td", null, "All Games:"),
                  n.createElement(Ma, { oCalc: r }),
                ),
              ),
            )
          : n.createElement(M.t, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function Ma(e) {
        const { oCalc: t } = e;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "td",
            null,
            t.nTopOptedIn + t.nTopOptedOut + t.nTopInvited,
          ),
          n.createElement("td", null, t.nTopOptedIn),
          n.createElement("td", null, t.nTopOptedOut),
          n.createElement("td", null, t.nTopInvited),
          n.createElement(
            "td",
            null,
            t.nTopWithOverlappingDiscount + t.nTopWithOfficialDiscount,
          ),
          n.createElement("td", null, t.nTopWithOfficialDiscount),
          n.createElement("td", null, t.nTopWithOverlappingDiscount),
        );
      }
      var Aa = a(6144);
      class ka {
        m_mapAppToDemoAppID = new Map();
        m_mapPromises = new Map();
        m_mapLoadCallback = new Map();
        GetOptInDemoApps(e, t) {
          return this.m_mapAppToDemoAppID.get(this.ConvertToKey(e, t));
        }
        BHasLoaded(e, t) {
          return this.m_mapAppToDemoAppID.has(this.ConvertToKey(e, t));
        }
        GetLoadCallback(e, t) {
          const a = this.ConvertToKey(e, t);
          return (
            this.m_mapLoadCallback.has(a) ||
              this.m_mapLoadCallback.set(a, new Aa.lu()),
            this.m_mapLoadCallback.get(a)
          );
        }
        ConvertToKey(e, t) {
          return e + t?.section_id + t?.list_id + t?.option_id;
        }
        async LoadAppWithDemoAppIDs(e, t) {
          const a = this.ConvertToKey(e, t);
          return (
            this.m_mapPromises.has(a) ||
              this.m_mapPromises.set(
                a,
                this.InternalLoadAppWithDemoAppIDs(e, t),
              ),
            this.m_mapPromises.get(a)
          );
        }
        async InternalLoadAppWithDemoAppIDs(e, t) {
          const a = new Map(),
            n = this.ConvertToKey(e, t);
          if (this.m_mapAppToDemoAppID.has(n))
            return this.m_mapAppToDemoAppID.get(n);
          try {
            const r = { sessionid: f.TS.SESSIONID, optInName: e },
              i = f.TS.PARTNER_BASE_URL + "optin/ajaxgetoptinappwithdemoid",
              s = await C().get(i, { params: r, withCredentials: !0 });
            if (200 == s?.status && 1 == s?.data?.success)
              s.data.app_with_demos?.forEach((e) => {
                a.set(e.appid, e);
              }),
                this.m_mapAppToDemoAppID.set(n, a),
                this.GetLoadCallback(e, t).Dispatch(a);
            else {
              const e = (0, A.H)(s);
              console.error(
                "function GetAppWithDemoAppIDs: error message received with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, A.H)(e);
            console.error(
              "function GetAppWithDemoAppIDs: failed with " + t.strErrorMsg,
              t,
            );
          }
          return a;
        }
        static s_Singleton;
        static Get() {
          return (
            ka.s_Singleton ||
              ((ka.s_Singleton = new ka()),
              ("dev" != f.TS.WEB_UNIVERSE && "beta" != f.TS.WEB_UNIVERSE) ||
                (window.g_OptInDemoAppStores = ka.s_Singleton)),
            ka.s_Singleton
          );
        }
        constructor() {
          (0, z.Gn)(this);
        }
      }
      (0, L.Cg)([z.sH], ka.prototype, "m_mapAppToDemoAppID", void 0);
      var Ra = a(66051),
        Pa = a(70452),
        Na = a.n(Pa);
      function Ga(e) {
        const { tableRef: t, mapAppToDiscountInfo: a, oAllStats: r } = e,
          i = s.Mt.Get(),
          { jsonFeatured: l } = r,
          [o, c, u] = (0, Ne.q3)(() => [
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectTrailerPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectDemoPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectGameProfileIntent(),
          ]),
          [p, _] = (0, n.useState)(!1),
          [g, h] = (0, n.useState)(!1),
          [E, S] = (0, n.useState)(!1),
          y = (function (e, t) {
            const [a, r] = (0, n.useState)(ka.Get().GetOptInDemoApps(e));
            return (
              (0, n.useEffect)(() => {
                t &&
                  !ka.Get().BHasLoaded(e) &&
                  ka.Get().LoadAppWithDemoAppIDs(e);
              }, [e, t]),
              (0, Gt.hL)(ka.Get().GetLoadCallback(e), r),
              a
            );
          })(
            (0, Ne.q3)(() => i.GetOptInPageID()),
            c,
          ),
          v = (0, n.useMemo)(() => l.map((e) => e.appid), [l]),
          b = (0, kt.Iy)(i.GetOptInPageID(), v),
          w = (0, n.useMemo)(
            () =>
              l && b
                ? l
                    .filter(
                      (e) =>
                        (!p || e.trailers_opt_in) &&
                        (!g || e.opt_in) &&
                        (!g || e.discount_info),
                    )
                    .map((e) => {
                      if (b) {
                        const t = b.get(e.appid);
                        t &&
                          ((e.opt_in = t.opt_in),
                          (e.trailers_opt_in = Boolean(
                            t.jsondata?.trailer_permission &&
                              t.jsondata?.rtime_granting_trailer,
                          )),
                          (e.demo_opt_in = Boolean(
                            t.jsondata?.demo_permission &&
                              t.jsondata?.rtime_granting_demo,
                          )),
                          (e.game_profile_intent = Boolean(
                            t.jsondata?.game_profile_intent &&
                              t.jsondata?.rtime_granting_profile,
                          )),
                          (e.store_url = `${f.TS.STORE_BASE_URL}app/${e.appid}`));
                      }
                      if (y) {
                        const t = y.get(e.appid);
                        t &&
                          (t.is_demo_released
                            ? (e.demo_state = "Released")
                            : t.is_build_reviewed
                              ? (e.demo_state = "Approved")
                              : (e.demo_state = "No Demo"));
                      }
                      return e;
                    })
                : null,
            [l, b, p, g, y],
          );
        if (!b || !w || (c && !y))
          return n.createElement(M.t, {
            string: (0, R.we)("#Loading"),
            position: "center",
            size: "medium",
          });
        const D =
            f.TS.PARTNER_BASE_URL + "optin/sale/" + i.GetOptInPageID() + "/",
          C = {
            header: "Opted In",
            accessorKey: "opt_in",
            cell: (e) => n.createElement(va.dA, { ...e, strURLToOptIn: D }),
            size: 50,
          },
          I = [C, ...wa()];
        return (
          o &&
            I.push({
              header: "Trailer OptIn",
              accessorKey: "trailers_opt_in",
              cell: va.Xg,
              size: 50,
            }),
          c &&
            I.push(
              {
                header: "Demo OptIn",
                accessorKey: "demo_opt_in",
                cell: va.Xg,
                size: 50,
              },
              {
                header: "Demo State",
                accessorKey: "demo_state",
                cell: va.ve,
                size: 100,
              },
            ),
          u &&
            I.push({
              header: "Game Profile OptIn",
              accessorKey: "game_profile_intent",
              cell: va.Xg,
              size: 50,
            }),
          I.push({ header: "Store URL", accessorKey: "store_url", size: 350 }),
          n.createElement(
            d.tH,
            null,
            n.createElement(
              "div",
              { className: Ca().ManageCallout },
              "To enable additional options unlocked during registration, switch over to the 'editor' tab and scroll to the very bottom. Games can be added to the featured list from the bottom of the 'editor' tab, or from the pruning process.",
            ),
            n.createElement(Ra.k, {
              ref: t,
              className: Na().DefaultFancyTable,
              stickyHeader: !0,
              columns: I,
              data: w,
              nItemHeight: 32,
              height: 500,
              initialSorting: [{ id: "sales", desc: !0 }],
            }),
            n.createElement("br", null),
            n.createElement(
              "div",
              null,
              n.createElement(m.Yh, {
                checked: E,
                onChange: S,
                label: "Filter To OptIn",
              }),
              n.createElement(m.Yh, {
                checked: p,
                onChange: _,
                label: "Filter To Trailer OptIn",
              }),
              n.createElement(m.Yh, {
                checked: g,
                onChange: h,
                label: "Filter To Discount Entered",
              }),
            ),
          )
        );
      }
      var Oa = a(39020);
      const Fa = 10;
      function La(e) {
        const { tableRef: t, mapAppToDiscountInfo: a, oAllStats: r } = e,
          [i, s] = (0, n.useState)(!1),
          [l, o] = (0, n.useState)(!1),
          { data: c } = (0, Oa.Fv)(St.TS.LANGUAGE),
          u = (0, n.useMemo)(() => {
            if (l && i && c) {
              const e = r.jsonOptedIn.map((e) => {
                const t = Pt.A.Get().GetApp(e.appid);
                return (
                  t &&
                    ((e.tags = t
                      .GetTagIDs()
                      .map((e) => `${c[e]} (${e})`)
                      .join(",")),
                    t.HasDemoStandaloneStorePage() &&
                      (e.standalone_store_page_appid =
                        t.GetDemoStandaloneStorePageAppIDs()[0])),
                  e
                );
              });
              return o(!1), e;
            }
            return r.jsonOptedIn;
          }, [i, c, l, r.jsonOptedIn]);
        if (l || (i && !c))
          return n.createElement(M.t, {
            string: (0, R.we)("#Loading"),
            position: "center",
            size: "medium",
          });
        const p = wa();
        return (
          i &&
            !l &&
            p.push({
              header: "Demo Store Page",
              accessorKey: "standalone_store_page_appid",
              cell: va.yb,
              size: 80,
            }),
          n.createElement(
            d.tH,
            null,
            n.createElement(Ra.k, {
              ref: t,
              className: Na().DefaultFancyTable,
              stickyHeader: !0,
              columns: p,
              data: u,
              nItemHeight: 32,
              height: 500,
              initialSorting: [{ id: "sales", desc: !0 }],
            }),
            n.createElement("br", null),
            !i &&
              n.createElement(
                "div",
                null,
                n.createElement(
                  m.$n,
                  {
                    onClick: async () => {
                      o(!0);
                      const e = r.jsonOptedIn.map((e) => e.appid),
                        t = { include_tag_count: Fa };
                      await Pt.A.Get().HintLoadStoreApps(e, t), s(!0);
                    },
                  },
                  "Expand Tags to ",
                  Fa,
                  " and load demo info",
                ),
              ),
          )
        );
      }
      function Ua(e) {
        const {
            tableRef: t,
            bSomeEmailSent: a,
            mapAppToDiscountInfo: r,
            oAllStats: i,
          } = e,
          l = s.Mt.Get(),
          o = (0, s.G4)(),
          [c, m, u, p] = (0, Ne.q3)(() => [
            l.GetEventStartTime(),
            l.GetEventEndTime(),
            l.BIsInvitationOnly(),
            l.GetDiscountEventID(),
          ]),
          {
            jsonEligible: _,
            jsonOptedIn: g,
            jsonOptedOut: h,
            jsonInvited: S,
            jsonPruned: y,
            jsonPendingReview: v,
          } = i,
          f = wa(),
          b = [
            ba.accessor("appid", { header: "App ID", cell: va.yb, size: 80 }),
            ba.accessor("app_name", {
              header: "App Name",
              cell: va.Ci,
              size: 250,
            }),
            ba.accessor("released", {
              header: "Is Released",
              cell: va.FW,
              size: 120,
            }),
            ba.accessor("wishlists", {
              header: "Wishlists",
              cell: va.Dq,
              size: 140,
            }),
            ba.accessor("sales", { header: "Sales", cell: va.PY, size: 150 }),
            ba.accessor("sales_dlc", {
              header: "DLC Sales",
              cell: va.PY,
              size: 150,
            }),
            ba.accessor("sales_in_game", {
              header: "In Game Sales",
              cell: va.PY,
              size: 150,
            }),
            ba.accessor("tags", { header: "Tags", size: 250 }),
            ba.accessor("publishers", { header: "Publisher IDs", size: 250 }),
          ],
          w = [];
        if (a && u) {
          if (a) {
            const a = o
                ? o.count_opted_in + o.count_opted_out + o.count_invited
                : 0,
              s = [...f];
            s.unshift({
              header: "State",
              accessorFn: (t) => {
                const { oAllStats: a } = e;
                return a.jsonOptedOut.some((e) => e.appid === t.appid)
                  ? "Opted Out"
                  : a.jsonOptedIn.some((e) => e.appid === t.appid)
                    ? "Opted In"
                    : "Invited";
              },
              size: 120,
            });
            const l = [...g, ...h, ...S];
            w.push({
              name: o ? `Overview (${a})` : "Overview",
              key: "overview",
              tooltip:
                "Shows a single table with all of the opted in, opted out and invited apps",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Ta, {
                  rgOverviewList: l,
                  oAllStats: i,
                  mapAppToDiscountInfo: r,
                  strDiscountEventID: p,
                  rtEventStart: c,
                  rtEventEnd: m,
                }),
                n.createElement(za, {
                  ref: t,
                  columns: s,
                  data: l,
                  nItemHeight: 32,
                }),
                n.createElement("br", null),
              ),
            });
          }
        } else
          w.push({
            name: o
              ? "Eligible via OptIn Def (" + o.count_eligible + ")"
              : "Eligible via OptIn Def",
            key: "eligible",
            tooltip:
              "Automatically hides when invitation only mode and we have already sent some email.",
            contents: n.createElement(
              d.tH,
              null,
              n.createElement(
                "div",
                { className: Ca().ManageCallout },
                "Eligible information is based on the published page",
              ),
              n.createElement(za, {
                ref: t,
                columns: b,
                data: _,
                nItemHeight: 32,
              }),
              n.createElement("br", null),
            ),
          });
        const D = a ? "Invited Apps" : "Pending Invite";
        return (
          w.push(
            {
              name: o ? "Opted In (" + o.count_opted_in + ")" : "Opted In",
              key: "manage&section=optedin",
              contents: n.createElement(La, { ...e }),
            },
            {
              name: o ? "Opted Out (" + o.count_opted_out + ")" : "Opted Out",
              key: "manage&section=optedout",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(za, {
                  ref: t,
                  columns: f,
                  data: h,
                  nItemHeight: 32,
                }),
                n.createElement("br", null),
              ),
            },
            {
              name: o ? D + " (" + o.count_invited + ")" : D,
              key: "manage&section=invited",
              tooltip:
                "This only includes invited apps that haven't sinced opted out or opted in.",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(za, {
                  ref: t,
                  columns: f,
                  data: S,
                  nItemHeight: 32,
                }),
                n.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Pending Review Apps (" + o.count_pending_review + ")"
                : "Pending Review Apps",
              key: "manage&section=pending_review",
              tooltip:
                "IApps that are candidates of the App review process. They can be invited or pruned out.",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(za, {
                  ref: t,
                  columns: f,
                  data: v,
                  nItemHeight: 32,
                }),
                n.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Pruned Out Apps (" + o.count_pruned + ")"
                : "Pruned Apps",
              key: "manage&section=pruned",
              tooltip:
                "Invited apps which we reviewed and then pruned from the list as they don't closely match the events theme.",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(za, {
                  ref: t,
                  columns: f,
                  data: y,
                  nItemHeight: 32,
                }),
                n.createElement("br", null),
              ),
            },
            {
              name: o
                ? "Featured Apps (" + o.count_featured + ")"
                : "Featured Apps",
              key: "manage&section=featured",
              contents: n.createElement(Ga, { ...e }),
            },
          ),
          n.createElement(E.V, { tabs: w, bDisableRouting: !0 })
        );
      }
      const za = n.forwardRef((e, t) =>
        n.createElement(
          "div",
          { className: Na().DefaultFancyTable },
          n.createElement(Ra.k, {
            ref: t,
            initialSorting: [{ id: "sales", desc: !0 }],
            height: 500,
            stickyHeader: !0,
            ...e,
          }),
        ),
      );
      var xa = a(14771);
      class qa {
        async FetchAllEligibleOptInApps(e) {
          const t = f.TS.PARTNER_BASE_URL + "optin/ajaxgetalleligibleoptinapps",
            a = { sessionid: f.TS.SESSIONID, opt_in_name: e },
            n = await C().get(t, { params: a, withCredentials: !0 });
          return n?.data?.data;
        }
        static s_Singleton;
        static Get() {
          return qa.s_Singleton || (qa.s_Singleton = new qa()), qa.s_Singleton;
        }
        constructor() {}
      }
      function Wa(e) {
        const t = (0, x.I)({
            queryKey: ["useAllEligibleOptInApps", e],
            queryFn: async () =>
              e ? await qa.Get().FetchAllEligibleOptInApps(e) : null,
            staleTime: 60 * xa.Kp.PerMinute * 1e3,
          }),
          a = (0, n.useMemo)(
            () =>
              t.isLoading || null == t.data
                ? null
                : {
                    eligible_appids: new Set(t.data?.eligible_appids || []),
                    opted_in_appids: new Set(t.data?.opted_in_appids || []),
                    opted_out_appids: new Set(t.data?.opted_out_appids || []),
                    invited_appids: new Set(t.data?.invited_appids || []),
                    pruned_appids: new Set(t.data?.pruned_appids || []),
                    featured_appids: new Set(t.data?.featured_appids || []),
                  },
            [t.data, t.isLoading],
          );
        return t.isLoading || !a ? null : a;
      }
      var ja = a(91675);
      const Ha = (e) => {
        const t = s.Mt.Get(),
          a = (0, n.useRef)(null),
          [r, i] = n.useState("Demo Package " + t.GetFullName()),
          [l, o] = n.useState(void 0),
          [c, d] = n.useState(void 0),
          [u, p] = n.useState(void 0),
          [_, g] = n.useState(void 0);
        n.useEffect(
          () => () =>
            a.current &&
            a.current("DialogChoosePackageNameAndDynamicSetting: unmounting"),
          [],
        );
        return _
          ? n.createElement(T.o0, {
              strTitle: "Create Demo Package",
              strDescription:
                "Package succesfully created and opt-in definition updated.",
              onOK: e.closeModal && e.closeModal,
              onCancel: e.closeModal && e.closeModal,
              bAlertDialog: !0,
            })
          : n.createElement(
              T.o0,
              {
                strTitle: "Create Demo Package",
                strDescription:
                  "Choose a package name. We will create a package with release override for 'Featured' Apps who have approved or released demos and that have opted in for us to be able use their demos.",
                onOK: async () => {
                  d(!0);
                  const e = C().CancelToken.source();
                  a.current = e.cancel;
                  try {
                    const a = new FormData();
                    a.append("sessionid", f.TS.SESSIONID),
                      a.append("optInName", t.GetFullName()),
                      a.append("packageName", r);
                    const n =
                        f.TS.PARTNER_BASE_URL + "optin/ajaxcreatedemopackage",
                      i = await C().post(n, a, {
                        withCredentials: !0,
                        cancelToken: e.token,
                      });
                    if (
                      200 == i?.status &&
                      1 == i.data?.success &&
                      i.data.packageid >= 0 &&
                      !e.token.reason
                    ) {
                      t.AddDemoPackage({
                        packageid: i.data.packageid,
                        rtimecreated: Math.floor(Date.now() / 1e3),
                      });
                      const a = await t.Save(e.token);
                      Boolean(a) && !e.token.reason ? o(a) : g(!0);
                    } else
                      e.token.reason ||
                        o(
                          "Create Package Failed: " +
                            i?.status +
                            " " +
                            i?.statusText,
                        );
                  } catch (t) {
                    const a = (0, A.H)(t),
                      n =
                        "DialogChoosePackageNameAndDynamicSetting error: " +
                        a.strErrorMsg;
                    console.error(n, a), e.token.reason || o(n);
                  } finally {
                    e.token.reason || d(!1);
                  }
                },
                bOKDisabled: 0 == r.trim().length || void 0 !== c,
                onCancel: e.closeModal,
              },
              n.createElement("br", null),
              n.createElement(m.pd, {
                type: "text",
                label: "Package Name",
                tooltip:
                  "Public name of the package; please give a thoughtful and easy to search name",
                value: r,
                onChange: (e) => i(e.currentTarget.value),
              }),
              Boolean(c) &&
                n.createElement(M.t, {
                  string: u
                    ? "Package Created, Saving Model"
                    : "Creating Package in Progress",
                  size: "medium",
                  position: "center",
                }),
              Boolean(l) &&
                n.createElement(
                  "div",
                  { className: I.ErrorStylesBackground },
                  l,
                ),
            );
      };
      function Va(e, t) {
        const a = s.Mt.Get(),
          n = new Array();
        return (
          a.GetDynamicSections().forEach((a) => {
            (e && !e.includes(a.input_style)) ||
              a.lists.forEach((e) => {
                t
                  ? n.push({
                      value: a.unique_id + "|" + e.unique_id,
                      label: e.option_title
                        ? e.option_title.english
                        : a.name.english,
                    })
                  : e.options.forEach((t) => {
                      n.push({
                        value:
                          a.unique_id + "|" + e.unique_id + "|" + t.unique_id,
                        label: t.text.english,
                      });
                    });
              });
          }),
          n
        );
      }
      const Ka = (e) => {
          const t = Va(e.rgInputType);
          return n.createElement(
            n.Fragment,
            null,
            Boolean(e.label) && n.createElement("div", null, e.label),
            n.createElement(mt.Ay, {
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              isSearchable: !0,
              isMulti: !1,
              placeholder: "Choose One",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: t,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        Ya = (e) => {
          const t = Va(e.rgInputType, e.bForDataExport);
          return n.createElement(
            n.Fragment,
            null,
            Boolean(e.label) && n.createElement("div", null, e.label),
            n.createElement(mt.Ay, {
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              isSearchable: !0,
              isMulti: !0,
              placeholder: "Choose One or More",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: t,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        $a = (0, Le.PA)((e) => {
          const { editModel: t } = e;
          return t.GetDemoPackages()?.length > 0
            ? n.createElement(
                "div",
                null,
                n.createElement("h3", null, "Packages Created by OptIn"),
                t
                  .GetDemoPackages()
                  .map((e) =>
                    n.createElement(Ja, {
                      key: "pack" + e.packageid,
                      demoPackageInfo: e,
                      editModel: t,
                    }),
                  ),
              )
            : null;
        }),
        Ja = (0, Le.PA)((e) => {
          const { demoPackageInfo: t, editModel: a } = e,
            [r, i] = (0, Nt.Gg)(t.packageid, { include_basic_info: !0 });
          return a.BInitialized() && null != t.packageid
            ? r && 1 != i
              ? n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "div",
                    null,
                    n.createElement(
                      "a",
                      {
                        href:
                          f.TS.PARTNER_BASE_URL +
                          "store/packagelanding/" +
                          t.packageid,
                        target: "_blank",
                      },
                      r.GetName(),
                      " - package id: ",
                      t.packageid,
                    ),
                  ),
                  n.createElement(
                    "div",
                    null,
                    "Matches Option: ",
                    a.GetOptionNameByID(t.selection),
                  ),
                  n.createElement(
                    "div",
                    null,
                    "Created Time: ",
                    (0, R.$z)(t.rtimecreated),
                    " - ",
                    (0, ja.KC)(t.rtimecreated, { bForce24HourClock: !1 }),
                  ),
                )
              : 1 == i
                ? n.createElement(M.t, {
                    string: "Loading Package " + t.packageid,
                    size: "small",
                    position: "center",
                  })
                : n.createElement(
                    "div",
                    { className: I.ErrorStylesBackground },
                    "Failed to load package: ",
                    t.packageid,
                  )
            : n.createElement(M.t, null);
        });
      function Xa(e) {
        const t = e.split("|");
        return { section_id: t[0], list_id: t[1], option_id: t[2] };
      }
      var Qa = a(9161);
      class Za {
        constructor() {
          (0, z.Gn)(this);
        }
        nLoadedOptIn = 0;
        Increment() {
          this.nLoadedOptIn += 1;
        }
      }
      function en(e, t, a) {
        const r = (0, n.useMemo)(
            () => t.filter((e) => e && e.appid).map((e) => e.appid),
            [t],
          ),
          i = (0, kt.Iy)(e, r, a);
        return Boolean(i);
      }
      function tn(e) {
        const t = s.Mt.Get(),
          [a, r] = n.useState(null),
          [i, l] = n.useState(new Array()),
          [o, c] = n.useState(!1),
          [d, u] = n.useState(!1),
          [p, _] = n.useState(!0),
          [g, E] = n.useState(!1);
        return n.createElement(
          T.o0,
          {
            strTitle: "Export Press Opt-In CSV",
            onCancel: e.closeModal,
            onOK: () => {
              e.closeModal && e.closeModal();
              let t = a ? Xa(a.value) : null,
                r = i?.length > 0 ? i.map((e) => Xa(e.value)) : null;
              (0, h.pg)(
                n.createElement(an, {
                  strOptInName: e.strOptInName,
                  optInStats: e.optInStats,
                  filter: t,
                  rgAdditionalData: r,
                  bExportArtistStatement: o,
                  bFilterToDemoExist: d,
                  bIncludePerssContact: p,
                  bIncludeCategories: g,
                }),
                window,
              );
            },
            strDescription:
              "Choose an optional filter which will limit which partners to export. Choose optionally additional data to export that the partners would have entered",
          },
          n.createElement(Ka, {
            selected: a,
            fnChoiceMade: r,
            rgInputType: ["checkbox"],
            label: "Choose Filter:",
          }),
          n.createElement(Ya, {
            selected: i,
            fnChoiceMade: l,
            bForDataExport: !0,
            label: "Additional Data to Export:",
          }),
          t.BIsArtistStatementEnabled() &&
            n.createElement(m.Yh, {
              label: "Export Artist Statement",
              checked: o,
              onChange: c,
            }),
          t.BIsArtistStatementEnabled() &&
            n.createElement(m.Yh, {
              label: "Export Press Contact Info",
              checked: p,
              onChange: _,
            }),
          t.BIsLaunchYourDemoEnabled() &&
            n.createElement(m.Yh, {
              label: "Filter to games with Demo Apps Created",
              tooltip:
                "Just requires the partner to have created the demo appid. This will include live demos and demo still being builte",
              checked: d,
              onChange: u,
            }),
          t.BIsCategoriesEnabled() &&
            n.createElement(m.Yh, {
              label: "Add the categories selection",
              tooltip:
                "Partners can choose up to two categories, include them in the output.",
              checked: g,
              onChange: E,
            }),
        );
      }
      function an(e) {
        const {
            rgAdditionalData: t,
            filter: a,
            bIncludePerssContact: r,
            bIncludeCategories: i,
            bExportArtistStatement: o,
          } = e,
          c = () => e.closeModal && e.closeModal(),
          { optInStats: u, strOptInName: p, bFilterToDemoExist: _ } = e,
          g = u.length,
          [h, E] = (0, n.useState)(!1),
          [S] = (0, n.useState)(() => new Za()),
          y = en(p, u, S),
          v = (0, n.useRef)(null),
          b = t?.length > 0,
          w = (0, n.useMemo)(() => {
            const e = new Array();
            return (
              b &&
                t.forEach((t) => {
                  e.push(s.Mt.Get().GetDynamicSectionByID(t.section_id));
                }),
              e
            );
          }, [b, t]);
        return (
          (0, n.useEffect)(() => {
            if (u && y) {
              (async () => {
                const e = C().CancelToken.source();
                v.current = e.cancel;
                let n = null;
                _ && (n = await ka.Get().LoadAppWithDemoAppIDs(p, a));
                const c = new Array();
                u
                  .filter((e) =>
                    kt.uL.Get().BHasOptionOnRegistration(e.appid, p, a),
                  )
                  .filter((e) =>
                    Boolean(null == n || n.get(e.appid)?.demo_appid),
                  )
                  .forEach((e) => {
                    const a = kt.uL.Get().GetRegistration(e.appid, p),
                      n = {
                        game_name: e.app_name || "undefined",
                        store_page: f.TS.STORE_BASE_URL + "app/" + e.appid,
                        tags: e.tags || "",
                      };
                    if (
                      (r &&
                        ((n.press_contact_name =
                          a?.jsondata?.press_contact_name || ""),
                        (n.press_contact_email =
                          a?.jsondata?.press_contact_email || "")),
                      o &&
                        (n.artist_statement =
                          a?.jsondata?.artist_statement || ""),
                      i && a?.jsondata?.category_tags)
                    ) {
                      let e = 0;
                      const t = l.v.Get().GetGameTags();
                      console.log(a.jsondata.category_tags);
                      for (const r in a.jsondata.category_tags) {
                        const a = t.filter((e) => e.value == r);
                        n["category_choice_" + ++e] =
                          a?.length > 0 ? a[0].label : r;
                      }
                      for (; e < 2; ) n["category_choice_" + ++e] = "";
                    }
                    b &&
                      t.forEach((e, t) => {
                        const r = w[t],
                          i = r.GetListByID(e.list_id),
                          l = i.option_title
                            ? i.option_title.english
                            : r.GetName(),
                          o = (0, kt.G7)(a, e);
                        if ("text_input" == r.GetInputStyle())
                          n[l] = o?.length > 0 ? o[0] : "";
                        else {
                          let t = "";
                          o?.forEach((a) => {
                            const n = s.Mt.Get().GetDynamicOptionByID({
                              ...e,
                              option_id: a,
                            });
                            t.length > 0 && (t += "|"), (t += n.text.english);
                          }),
                            (n[l] = t);
                        }
                      }),
                      c.push(n);
                  }),
                  Qa.g.WriteCSVToFile(c, "press_game_list.csv"),
                  E(!0);
              })();
            }
            return () =>
              v.current && v.current("OptInStatsPressCSV: unmounting");
          }, [u, p, _, y, a, r, o, i, t, b, w]),
          n.createElement(
            d.tH,
            null,
            n.createElement(
              T.x_,
              { onEscKeypress: c },
              n.createElement(
                m.UC,
                null,
                n.createElement(m.Y9, null, "Export Press Opt-In CSV"),
                n.createElement(
                  m.nB,
                  null,
                  n.createElement(
                    m.a3,
                    null,
                    n.createElement(
                      "div",
                      null,
                      "Extracting the list of opt-in games and producing a CSV. This requires reading in each opt-in record by partners to extract their 'Press Contact Info' if available which takes a while. Please wait while we pull that information",
                    ),
                    n.createElement("br", null),
                    h
                      ? n.createElement(
                          "div",
                          null,
                          "Completed processing, needed to load ",
                          S.nLoadedOptIn,
                          " Apps out of a total ",
                          u.length,
                          ". You can close this dialog.",
                        )
                      : n.createElement(nn, { tracker: S, nTotalOptIn: g }),
                  ),
                ),
                n.createElement(
                  m.wi,
                  null,
                  n.createElement(m.CB, {
                    onCancel: c,
                    bOKDisabled: !h,
                    strOKText: "Done",
                    onOK: c,
                  }),
                ),
              ),
            ),
          )
        );
      }
      (0, L.Cg)([z.sH], Za.prototype, "nLoadedOptIn", void 0);
      const nn = (0, Le.PA)((e) => {
        const { tracker: t, nTotalOptIn: a } = e,
          r = (0, kt.ms)();
        return n.createElement(M.t, {
          string: `Progressing ${r ? t.nLoadedOptIn : 0} / ${a}`,
          size: "medium",
          position: "center",
        });
      });
      function rn(e) {
        const {
            closeModal: t,
            eligigleOptInStats: a,
            strOptInName: r,
            bPendingReviewInstead: i,
          } = e,
          s = (0, n.useMemo)(() => {
            const e = new Set(a.map((e) => e.appid));
            return Array.from(e);
          }, [a]),
          l = (0, Nt.zX)(s, { include_release: !0 }),
          [o, c] = (0, n.useState)(!0),
          [d, u] = (0, n.useState)(!1),
          [p, _] = (0, n.useState)(1e3),
          [g, h, E, S, y] = (0, n.useMemo)(
            () => [
              a.length,
              a.filter((e) => e.released).length,
              a.filter((e) => {
                if (!e.released) return !1;
                return (
                  Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_dlc.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_in_game.replace(/[^0-9.-]+/g, "")) >
                  p
                );
              }).length,
              a.filter((e) => !e.released).length,
              a.filter((e) => {
                if (!e.released && 1 != l) {
                  const t = Pt.A.Get().GetApp(e.appid);
                  return Boolean(t?.BIsComingSoon());
                }
                return !1;
              }).length,
            ],
            [a, p, l],
          ),
          [v, f] = (0, n.useState)(void 0),
          [b, w] = (0, n.useState)(void 0),
          [D, C] = (0, n.useState)(void 0),
          { fnUpdateAppToInvitation: B } = At(),
          A = (0, n.useCallback)(async () => {
            w(!0);
            const e = Array.from(
              new Set(
                a
                  .filter((e) => {
                    if (e.released) {
                      if (d) {
                        return (
                          Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                            Number.parseInt(
                              e.sales_dlc.replace(/[^0-9.-]+/g, ""),
                            ) +
                            Number.parseInt(
                              e.sales_in_game.replace(/[^0-9.-]+/g, ""),
                            ) >
                          p
                        );
                      }
                      return !0;
                    }
                    if (o) {
                      const t = Pt.A.Get().GetApp(e.appid);
                      return Boolean(t?.BIsComingSoon());
                    }
                    return !0;
                  })
                  .map((e) => e.appid),
              ),
            );
            let t = 1;
            for (; e.length > 0; ) {
              const a = e.splice(0, 100);
              if (((t = await B(r, a, !i, !1, i)), 1 != t)) break;
            }
            1 != t &&
              f("Hit error on invite batch, check networks/console: " + t),
              C(!0);
          }, [d, i, o, a, B, p, r]);
        return n.createElement(
          T.o0,
          {
            strTitle: `Move Eligible Apps To '${i ? "Pending Review" : "Invited"}'`,
            strDescription: `Move eligible apps into the '${i ? "Pending Review" : "Invited"}' state as computed by the latest refresh stats to the ${i ? "app requiring review. This lets us prune the app to be precisely matching our festival purpose." : "invited app list. This lets them participate immediately when festival is open."}`,
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: b || 1 == l,
            onOK: A,
            strOKButtonText: `Mark Apps as '${i ? "Pending Review" : "Invited"}'`,
          },
          Boolean(!b) &&
            n.createElement(
              n.Fragment,
              null,
              Boolean(1 == l) &&
                n.createElement(M.t, {
                  size: "small",
                  string: "Loading App Details",
                }),
              n.createElement(
                "div",
                null,
                n.createElement("div", null, "Total Eligible Apps: ", g),
                n.createElement("div", null, "** Total Released Apps: ", h),
                d &&
                  n.createElement(
                    "div",
                    null,
                    "** Total Released Apps with min revenue: ",
                    E,
                  ),
                n.createElement("div", null, "** Total Unreleased Apps: ", S),
                n.createElement(
                  "div",
                  null,
                  "** Total Unreleased Apps with Coming Soon Pages: ",
                  y,
                ),
              ),
              d
                ? n.createElement(m.pd, {
                    type: "number",
                    label: `Minimum lifetime revenue for released app to be included in the '${i ? "Pending Review" : "Invite"}'`,
                    min: "0",
                    max: "100000000",
                    value: p,
                    tooltip:
                      "This looks at the combination of lifetime package sales, dlc sales and in-game sales",
                    onChange: (e) => {
                      const t = Number.parseInt(e.currentTarget.value) || 0;
                      _(t);
                    },
                  })
                : n.createElement(m.Yh, {
                    label: "Filter released apps by min lifetime revenue?",
                    checked: d,
                    onChange: u,
                  }),
              n.createElement(m.Yh, {
                label: "Unreleased App Require a Coming Soon Page",
                checked: o,
                onChange: c,
              }),
            ),
          Boolean(b && !D) &&
            n.createElement(M.t, {
              string: (0, R.we)("#Saving"),
              size: "medium",
            }),
          Boolean(v) &&
            n.createElement("div", { className: I.ErrorStylesBackground }, v),
          Boolean(D && !v) &&
            n.createElement(
              "div",
              null,
              "Moving ",
              i ? "Pending Review" : "Invited",
              " to now completed, you can close the dialog",
            ),
        );
      }
      var sn,
        ln = a(4434);
      async function on(e, t, a, n, r) {
        try {
          const r = await fetch(t);
          console.log("fetched: ", r);
          const i = await r.blob(),
            s = window.URL.createObjectURL(i),
            l = document.createElement("a");
          (l.style.display = "none"),
            (l.href = s),
            (l.download = a),
            document.body.appendChild(l),
            l.click(),
            window.URL.revokeObjectURL(s),
            n(e + 1),
            console.log("Downloaded " + e + ":" + a + " size: " + i.size);
        } catch (e) {
          const t = (0, A.H)(e);
          console.log("Download error" + e.strErrorMsg),
            r("Download failed " + t.strErrorMsg);
        }
      }
      function cn(e) {
        const { closeModal: t, optInStats: a } = e,
          r = s.Mt.Get(),
          i = r.GetOptInPageID(),
          l = (0, ln.m)("OptinAdminManageDownloadTrailers"),
          [o, c] = (0, n.useState)(1),
          [d, u] = n.useState(null),
          [p, _] = (0, n.useState)(null),
          [g, h] = (0, n.useState)(!1),
          [E, S] = (0, n.useState)(!0),
          [y, v] = (0, n.useState)(new Za()),
          b = en(r.GetOptInPageID(), a, y),
          w = (function (e) {
            const [t, a] = (0, n.useState)(!0);
            return (
              (0, n.useEffect)(() => {
                const t = C().CancelToken.source(),
                  n = e.map((e) => e.appid);
                return (
                  Pt.A.Get()
                    .QueueMultipleAppRequests(n, {
                      include_trailers: !0,
                      include_screenshots: !0,
                      include_assets: !0,
                    })
                    .then(() => {
                      t.token.reason || a(!1);
                    }),
                  () => t.cancel("useLoadedStoreItemTrailers: unmounting")
                );
              }, [e]),
              t
            );
          })(a),
          [D, B] = n.useState(void 0),
          [A, k] = n.useState(void 0),
          [R, P] = (0, n.useState)(0),
          [N, G] = (0, n.useState)(sn.k_EDownloadTrailer),
          [O, F] = (0, n.useState)([]);
        return (
          (0, n.useEffect)(() => {
            if (!w && (b || !E)) {
              const e = a.map((e) => e.appid),
                t = d ? Xa(d.value) : null,
                n = e
                  .filter(
                    (e) =>
                      N != sn.k_EDownloadTrailer ||
                      Pt.A.Get().GetApp(e)?.BHasHighlightTrailers(),
                  )
                  .filter(
                    (e) => !E || kt.uL.Get().BHasOptionOnRegistration(e, i, t),
                  )
                  .filter((e) => !g || kt.uL.Get().BHasOptInTrailer(e, i))
                  .filter((e) => !p || p.has(e));
              F(n);
            }
          }, [w, b, a, d, i, p, N, E, g]),
          n.createElement(
            T.o0,
            {
              strTitle:
                "Download Game Capsules or Trailers for " + r.GetFullName(),
              strDescription:
                "Downloads all of the highest quality MP4 or PNG/JPG file for the 'first' trailers or game capsule that appears on the store page. One per opted in game. This has since been modified to support screenshots and any capsule format.",
              onOK: async () => {
                k(!0),
                  await (async function (e, t, a, n, r, i) {
                    console.log(
                      "Download Assets " +
                        t +
                        " with available assets: " +
                        e?.length,
                    );
                    for (let s = 0; s < Math.min(t, e?.length || 0); ++s) {
                      if (i?.token?.reason)
                        return void console.log(
                          "cancelled download: " + i.token.reason,
                        );
                      const t = e[s],
                        l = Pt.A.Get().GetApp(t);
                      let o, c;
                      if (a == sn.k_EDownloadTrailer) {
                        const e = l
                          .GetAllTrailers()
                          .GetHighlightTrailers()[0]
                          .GetTrailerMax()
                          .strMP4URL.replace("http://", "https://");
                        (c = `${f.TS.PARTNER_BASE_URL}gfxproxy/trailergfx?appid=${t}&itype=apps`),
                          (o =
                            l.GetName().replace(/[^\w\s!?]/g, "") +
                            "_" +
                            t +
                            ".mp4"),
                          console.log("fetching indirectly ", e, c),
                          await on(s, c, o, n, r);
                      } else if (
                        a == sn.k_EDownloadAllAgeSafeScreenshots ||
                        a == sn.k_EDownloadScreenshots
                      ) {
                        const e =
                          a == sn.k_EDownloadAllAgeSafeScreenshots
                            ? l.GetOnlyAllAgesSafeScreenshots()
                            : l.GetBothAllAgesSafeAndMatureScreenshots();
                        for (let a = 0; a < e.length; ++a) {
                          const i = e[a].split("/").pop().split("?")[0];
                          (o =
                            l.GetName().replace(/[^\w\s!?]/g, "") +
                            "_" +
                            t +
                            "_" +
                            i),
                            (c = `${f.TS.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${i}`),
                            await on(s, c, o, n, r);
                        }
                      } else {
                        let e = l.GetAssets().GetHeaderURL(),
                          i = "Header";
                        switch (a) {
                          default:
                          case sn.k_EDownloadHeader:
                            break;
                          case sn.k_EDownloadSmallCapsule:
                            (e = l.GetAssets().GetSmallCapsuleURL()),
                              (i = "SmallCapsule");
                            break;
                          case sn.k_EDownloadMainCapsule:
                            (e = l.GetAssets().GetMainCapsuleURL()),
                              (i = "MainCapsule");
                            break;
                          case sn.k_EDownloadVerticalCapsule:
                            (e = l.GetAssets().GetHeroCapsuleURL()),
                              (i = "VerticalCapsule");
                            break;
                          case sn.k_EDownloadPageBackground:
                            (e = l.GetAssets().GetRawPageBackgroundURL()),
                              (i = "PageBackground");
                        }
                        (o =
                          l.GetName().replace(/[^\w\s!?]/g, "") +
                          "_" +
                          t +
                          "_" +
                          i),
                          console.log("fetching indirectly ", e),
                          await on(s, e, o, n, r);
                      }
                      console.log(`Finished processing appid ${l.GetName()}`);
                    }
                  })(O, o, N, P, B, l);
              },
              bOKDisabled: w || !b || A || 0 == o,
              bAllowFullSize: !0,
              onCancel: () => {
                l.cancel("cancel"), t && t();
              },
              closeModal: () => l.cancel("cloased"),
              bDisableBackgroundDismiss: !0,
            },
            w || !b
              ? n.createElement(M.t, {
                  string: `Loading ${a.length} OptIn Registration and Games Details`,
                  position: "center",
                  size: "medium",
                })
              : n.createElement(
                  n.Fragment,
                  null,
                  !A &&
                    n.createElement(
                      "div",
                      null,
                      O.length,
                      " of apps with items available to download.",
                      n.createElement(mn, { type: N, setType: G }),
                      n.createElement(m.Yh, {
                        checked: E,
                        onChange: S,
                        label: "Require OptIn",
                      }),
                      n.createElement(m.Yh, {
                        checked: g,
                        onChange: h,
                        label: "Require Trailer Featuring Opt-in Permissions",
                      }),
                      n.createElement(Ka, {
                        selected: d,
                        fnChoiceMade: u,
                        rgInputType: ["checkbox"],
                        label: "Choose Filter:",
                      }),
                      n.createElement(m.pd, {
                        type: "number",
                        label: "How many Apps to download from?",
                        min: "1",
                        max: O?.length || 1,
                        value: o,
                        onChange: (e) =>
                          c(Number.parseInt(e.currentTarget.value) || 1),
                      }),
                      n.createElement(dn, { fnSetAppIDListList: _ }),
                    ),
                ),
            Boolean(A) &&
              n.createElement(
                n.Fragment,
                null,
                Boolean(R < o)
                  ? n.createElement(M.t, {
                      string: `Downloading ${R} out of ${o}`,
                      size: "medium",
                      position: "center",
                    })
                  : n.createElement(
                      "span",
                      null,
                      "Done: Downloaded ",
                      `${R} out of ${o}`,
                    ),
              ),
            Boolean(D) &&
              n.createElement("div", { className: I.ErrorStylesBackground }, D),
          )
        );
      }
      function mn(e) {
        const { type: t, setType: a } = e,
          r = (0, n.useMemo)(
            () => [
              { label: "First Store Trailer", data: sn.k_EDownloadTrailer },
              {
                label: "Header Image (460x215 px)",
                data: sn.k_EDownloadHeader,
              },
              {
                label: "Small Capsule (231x87 px)",
                data: sn.k_EDownloadSmallCapsule,
              },
              {
                label: "Main Capsule (616x353 px)",
                data: sn.k_EDownloadMainCapsule,
              },
              {
                label: "Virtual Capsule (374x448 px)",
                data: sn.k_EDownloadVerticalCapsule,
              },
              {
                label: "Background (1438x810 px)",
                data: sn.k_EDownloadPageBackground,
              },
              {
                label: "All Age Safe Only Screenshots",
                data: sn.k_EDownloadAllAgeSafeScreenshots,
              },
              { label: "All Screenshots", data: sn.k_EDownloadScreenshots },
            ],
            [],
          );
        return n.createElement(m.m, {
          label: "Choose Download Type",
          rgOptions: r,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function dn(e) {
        const { fnSetAppIDListList: t } = e,
          [a, r] = n.useState(""),
          [i, s] = n.useState(!1);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            null,
            "Optionally provide an explicit lists of appids seperately by new lines. Will only download the trailers for these appids as long as they are opted in and have a trailer.",
          ),
          i
            ? n.createElement(
                n.Fragment,
                null,
                n.createElement("div", null, "Enter App IDs:"),
                n.createElement("textarea", {
                  cols: 120,
                  rows: 10,
                  onChange: (e) => r(e.currentTarget.value),
                  value: a,
                  autoFocus: !0,
                }),
                n.createElement(
                  m.$n,
                  {
                    onClick: () => {
                      const e = a.replace(/\n/g, "|").split("|"),
                        n = new Set();
                      e.forEach((e) => {
                        const t = Number.parseInt(e);
                        t > 0 && n.add(t);
                      }),
                        n.size > 0 && t(n);
                    },
                  },
                  "AppID List Complete. Apply Filter",
                ),
              )
            : n.createElement(
                m.$n,
                { onClick: () => s(!0) },
                "Add AppID Filter List",
              ),
        );
      }
      function un(e) {
        const { tableRef: t, eligibleStats: a } = e,
          r = s.Mt.Get(),
          i = (0, Ne.q3)(() => r.GetFullName()),
          [l] = (0, Ne.q3)(() => [
            r.BIsAdditionalFeaturingSectionEnabled() &&
              r.BIsCollectDemoPermissions(),
          ]);
        return n.createElement(
          "div",
          { className: Ca().DownloadRow },
          n.createElement(
            m.$n,
            {
              id: "download-csv",
              onClick: () => {
                const e = t.current.getData(),
                  a = t.current.getColumnDefs(),
                  n = [],
                  r = [];
                for (const e of a)
                  ("accessorKey" in e || "accessorFn" in e) && r.push(e.header);
                n.push(r);
                for (const t of e) {
                  const e = [];
                  a.forEach((a, n) => {
                    let r;
                    if ("accessorKey" in a) r = t[a.accessorKey].toString();
                    else {
                      if (!("accessorFn" in a)) return;
                      r = a.accessorFn(t, n).toString();
                    }
                    e.push(r);
                  }),
                    n.push(e);
                }
                Qa.g.WriteCSVToFile(n, "data.csv");
              },
            },
            "Download CSV",
          ),
          n.createElement(
            m.$n,
            {
              id: "download-perss_csv",
              onClick: function (e) {
                (0, h.pg)(
                  n.createElement(tn, {
                    strOptInName: i,
                    optInStats: t.current.getData(),
                  }),
                  (0, v.uX)(e),
                );
              },
            },
            n.createElement(
              Ke.he,
              {
                toolTipContent:
                  "Generates a CSV of only opt-ed in games intended to be shared with the press",
              },
              "Download Press CSV",
            ),
          ),
          Boolean(l) &&
            n.createElement(
              m.$n,
              {
                id: "create_package",
                onClick: () => {
                  (0, h.pg)(n.createElement(Ha, null), window);
                },
              },
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "Create a package for the demos that have opted-in to the event and allowed us to use their demo. The package is create with release override.",
                },
                "Create Demo Package",
              ),
            ),
          n.createElement(
            m.$n,
            {
              id: "download_trailer",
              onClick: (e) =>
                (0, h.pg)(
                  n.createElement(cn, { optInStats: t.current.getData() }),
                  (0, v.uX)(e),
                ),
            },
            n.createElement(
              Ke.he,
              {
                toolTipContent:
                  "Download trailers or Game Capsules for opted-in games from this event.",
              },
              "Download Trailers or Capsules",
            ),
          ),
          n.createElement(
            m.$n,
            {
              id: "find_app",
              onClick: (e) =>
                (0, h.pg)(
                  n.createElement(pn, { strOptInName: r.GetOptInPageID() }),
                  (0, v.uX)(e),
                ),
            },
            n.createElement(
              Ke.he,
              {
                toolTipContent:
                  "Recommend we refresh stats before this call. This will search for the appids in the various buckets (optin, opted out etc...)",
              },
              "🔍 Find App...",
            ),
          ),
          Boolean(a?.length > 0) &&
            n.createElement(
              m.$n,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(rn, {
                      strOptInName: i,
                      eligigleOptInStats: a,
                      bPendingReviewInstead: !0,
                    }),
                    (0, v.uX)(e),
                  ),
              },
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass move apps into the pending_review state which allows us to do pruning before they are invited to participate.",
                },
                "Eligible → Pending Review...",
              ),
            ),
          Boolean(a?.length > 0) &&
            n.createElement(
              m.$n,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(rn, {
                      strOptInName: i,
                      eligigleOptInStats: a,
                      bPendingReviewInstead: !1,
                    }),
                    (0, v.uX)(e),
                  ),
              },
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass invite eligible apps meeting a coming soon or release with min earn critria.",
                },
                "Eligible → Invited...",
              ),
            ),
        );
      }
      function pn(e) {
        const { closeModal: t, strOptInName: a } = e,
          [r, i] = (0, n.useState)(""),
          s = Wa(a),
          l = (0, n.useMemo)(
            () =>
              r
                .split(" ")
                .map((e) => Number.parseInt(e))
                .filter(Boolean),
            [r],
          );
        return n.createElement(
          T.o0,
          {
            strTitle: "Find App In OptIn",
            strDescription:
              "Goes across entire opt-in data pulled from refresh stats to surface what cateogry the appid(s) are in.",
            closeModal: t,
            bDisableBackgroundDismiss: !0,
          },
          n.createElement(m.pd, {
            type: "text",
            label: "Space separated list of appids to be searched",
            onChange: (e) => i(e.currentTarget.value),
            value: r,
          }),
          n.createElement("h2", null, "Apps:"),
          Boolean(s)
            ? n.createElement(
                "div",
                null,
                "This only print TRUE if it finds the app in the specific list. This doesn't know if the app is eligible or not based on the rules of the optin.",
              )
            : n.createElement(M.t, {
                position: "center",
                string: "loading",
                size: "medium",
              }),
          l?.map((e) => {
            const t = s?.eligible_appids.has(e),
              a = s?.opted_in_appids.has(e),
              r = s?.opted_out_appids.has(e),
              i = s?.invited_appids.has(e),
              l = s?.pruned_appids.has(e),
              o = s?.featured_appids.has(e);
            return n.createElement(
              n.Fragment,
              null,
              n.createElement("div", null, "Appid: ", e),
              n.createElement(
                "div",
                null,
                "In Eligible List?: ",
                t ? "TRUE" : "",
              ),
              n.createElement(
                "div",
                null,
                "In Opted In List?: ",
                a ? "TRUE" : "",
              ),
              n.createElement(
                "div",
                null,
                "In Opted Out List?: ",
                r ? "TRUE" : "",
              ),
              n.createElement(
                "div",
                null,
                "In Invited List?: ",
                i ? "TRUE" : "",
              ),
              n.createElement(
                "div",
                null,
                "In Pruned List?: ",
                l ? "TRUE" : "",
              ),
              n.createElement(
                "div",
                null,
                "in Featured? List: ",
                o ? "TRUE" : "",
              ),
              n.createElement("br", null),
            );
          }),
        );
      }
      function _n(e) {
        const t = s.Mt.Get(),
          a = (0, s.G4)(),
          r = (0, Ne.q3)(() => t.GetFullName()),
          { rgEmailDefAndStats: i } = Te(r),
          l = !(
            a &&
            (a.json_invited ||
              a.json_eligible ||
              a.json_opted_in ||
              a.json_featured ||
              a.json_opted_out) &&
            i
          ),
          o = i?.some((e) => e.completed);
        return n.createElement(
          "div",
          null,
          n.createElement("h2", null, r),
          n.createElement("hr", null),
          n.createElement(
            "div",
            { className: (0, y.A)(Xe().Section, Xe().ManageTable) },
            n.createElement(
              "div",
              { className: Xe().SectionDesc },
              n.createElement(ya.F, null),
              "How to opt in a specific game. Use this link and swap out the 220 at the end with the correct appID  ",
              n.createElement("br", null),
              n.createElement(
                "a",
                {
                  href:
                    f.TS.PARTNER_BASE_URL +
                    "optin/sale/" +
                    t.GetName() +
                    "/220",
                },
                f.TS.PARTNER_BASE_URL,
                "optin/sale/",
                t.GetName(),
                "/220",
              ),
              n.createElement("br", null),
              n.createElement("br", null),
              Boolean(l)
                ? n.createElement(M.t, {
                    size: "medium",
                    string: "Loading Stats/No Stats to show",
                    position: "center",
                  })
                : n.createElement(gn, { bSomeEmailSent: o }),
            ),
          ),
        );
      }
      function gn(e) {
        const t = s.Mt.Get(),
          { bSomeEmailSent: a } = e,
          r = (0, s.$I)(),
          { jsonEligible: i } = r,
          l = (0, Ne.q3)(() => t.BIsEnterDiscountsEnabled()),
          o = n.useRef(null);
        return n.createElement(
          n.Fragment,
          null,
          Boolean(l)
            ? n.createElement(En, {
                tableRef: o,
                bSomeEmailSent: a,
                oAllStats: r,
              })
            : n.createElement(Ua, {
                tableRef: o,
                bSomeEmailSent: a,
                oAllStats: r,
              }),
          n.createElement(Sa, { tableRef: o }),
          n.createElement("br", null),
          n.createElement(un, { tableRef: o, eligibleStats: i }),
        );
      }
      function hn(e, t, a, n, r, i) {
        return t && a && e
          ? (e.forEach((e) => {
              a.fnbHasSomeLongTermSaleRankForApp(e.appid)
                ? (e.long_term_sales_rank = a.fnGetLongTermSaleRankForApp(
                    e.appid,
                  ))
                : (e.long_term_sales_rank = 1e6),
                (e.discount_info = (0, ha.gt)(e.appid, t, r, i, n));
            }),
            e)
          : e;
      }
      function En(e) {
        const { tableRef: t, bSomeEmailSent: a, oAllStats: r } = e,
          i = s.Mt.Get(),
          [l, o] = (0, Ne.q3)(() => [i.GetFullName(), i.GetDiscountEventID()]),
          {
            jsonOptedIn: c,
            jsonInvited: m,
            jsonFeatured: d,
            jsonOptedOut: u,
          } = r,
          p = (0, n.useMemo)(() => {
            const e = c?.map((e) => e.appid) || [],
              t = m?.map((e) => e.appid) || [],
              a = d?.map((e) => e.appid) || [],
              n = u?.map((e) => e.appid) || [],
              r = new Set([...e, ...t, ...a, ...n]);
            return Array.from(r).sort();
          }, [c, m, d, u]),
          _ = (0, Ea.l)(p),
          g = (0, ha.F_)(p),
          h = (0, n.useMemo)(() => {
            const e = i.GetDiscountEventID(),
              t = i.GetEventStartTime(),
              a = i.GetEventEndTime();
            return {
              ...r,
              jsonOptedIn: hn(r.jsonOptedIn, g, _, e, t, a),
              jsonInvited: hn(r.jsonInvited, g, _, e, t, a),
              jsonFeatured: hn(r.jsonFeatured, g, _, e, t, a),
              jsonOptedOut: hn(r.jsonOptedOut, g, _, e, t, a),
            };
          }, [i, _, g, r]);
        return _ && g
          ? n.createElement(Ua, {
              tableRef: t,
              bSomeEmailSent: a,
              mapAppToDiscountInfo: g,
              oAllStats: h,
            })
          : n.createElement(M.t, {
              string: "Loading",
              size: "medium",
              position: "center",
            });
      }
      function Sn(e) {
        switch (e) {
          case 1:
            return "User who Registered the App for this Opt-In";
          case 32:
            return "Eligible Games that are not already opted in/out";
          case 16:
            return "Apps who were explicitly Invited, that have not already opted in/out";
          case 64:
            return "All 'Featured' apps";
          case 128:
            return "All 'Featured' apps not opted out without a featured date.";
          case 256:
            return "'Featured' apps who have not been emailed about featuring before";
          case 512:
            return "Custom App List";
        }
        return "Unknown target: " + e;
      }
      !(function (e) {
        (e[(e.k_EDownoadInvalid = 0)] = "k_EDownoadInvalid"),
          (e[(e.k_EDownloadTrailer = 1)] = "k_EDownloadTrailer"),
          (e[(e.k_EDownloadHeader = 2)] = "k_EDownloadHeader"),
          (e[(e.k_EDownloadSmallCapsule = 3)] = "k_EDownloadSmallCapsule"),
          (e[(e.k_EDownloadMainCapsule = 4)] = "k_EDownloadMainCapsule"),
          (e[(e.k_EDownloadVerticalCapsule = 5)] =
            "k_EDownloadVerticalCapsule"),
          (e[(e.k_EDownloadPageBackground = 6)] = "k_EDownloadPageBackground"),
          (e[(e.k_EDownloadAllAgeSafeScreenshots = 7)] =
            "k_EDownloadAllAgeSafeScreenshots"),
          (e[(e.k_EDownloadScreenshots = 8)] = "k_EDownloadScreenshots");
      })(sn || (sn = {}));
      const yn = "edit_email";
      class vn {
        constructor() {
          (0, z.Gn)(this);
        }
        m_curSelection = void 0;
        SetSelectionFromQueryParams(e) {
          const t = (0, u.f3)(e, yn);
          t?.trim().length > 0 &&
            s.Mt.Get()
              .GetEmailDefinitions()
              .forEach((e) => {
                e.GetUniqueID() === t &&
                  this.m_curSelection !== e &&
                  (this.m_curSelection = e);
              });
        }
        BHasSelection() {
          return Boolean(this.m_curSelection);
        }
        GetSelection() {
          return this.m_curSelection;
        }
        SetSelection(e, t, a) {
          e != this.m_curSelection &&
            ((this.m_curSelection = e),
            e && t && t?.stats?.completed && e.SetReadOnly(!0),
            (0, u.Bm)(a, yn, e?.GetUniqueID()));
        }
        static s_Singleton;
        static Get() {
          return vn.s_Singleton || (vn.s_Singleton = new vn()), vn.s_Singleton;
        }
      }
      function fn(e) {
        const { serverDef: t, emailEditModel: a } = e,
          [r] = (0, Ne.q3)(() => [t.reviewed || !1]);
        return r
          ? n.createElement("span", null, "Email Resutls: Reviewed")
          : n.createElement(
              m.$n,
              {
                className: Xe().BasicButtonSize,
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(bn, { emailEditModel: a, serverDef: t }),
                    (0, v.uX)(e),
                  ),
              },
              "Mark as Reviewed",
            );
      }
      function bn(e) {
        const { serverDef: t, emailEditModel: a, closeModal: r } = e,
          [i, s] = (0, n.useState)(!1),
          [l, o] = (0, n.useState)(!1),
          [c, m] = (0, n.useState)(null);
        return n.createElement(
          T.o0,
          {
            strTitle: "Email Reviewe",
            strDescription: "Dialog to mark the email as reviewed.",
            onCancel: r,
            onOK: () => {
              s(!0),
                Be.Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: t?.start_rtime || 0,
                    rtEndAutomaticEmail: t?.end_rtime || 0,
                    bReviewed: !0,
                  })
                  .then((e) => {
                    1 != e &&
                      m(
                        'Failed to mark the email Reviewed. "p"lease try again later.',
                      );
                  })
                  .catch(() =>
                    m(
                      'Failed to mark the email Reviewed. "p"lease try again later.',
                    ),
                  )
                  .finally(() => o(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          n.createElement(
            "div",
            null,
            "Purpose: Please review the stats for the email that has been sent. Verify that there are not an unexpectedly larger number of failed email or unreachable partner. We want to avoid issues where emails failed due to some server failure and our partners are not notified about these time sensitive requests.",
          ),
          Boolean(i && !l) &&
            n.createElement(M.t, {
              size: "medium",
              position: "center",
              string: (0, R.we)("#Saving"),
            }),
          Boolean(l && c) && n.createElement("div", null, "Error: ", c),
          Boolean(l && !c) &&
            n.createElement("div", null, "Review Status Save Successful."),
        );
      }
      function wn(e) {
        const { serverDef: t, emailEditModel: a } = e,
          [r] = (0, Ne.q3)(() => [t.start_rtime]);
        return t.aborted || t.completed || t.deleted || t.reviewed
          ? null
          : n.createElement(
              n.Fragment,
              null,
              n.createElement(
                m.$n,
                {
                  className: Xe().BasicButtonSize,
                  onClick: (e) =>
                    (0, h.pg)(
                      n.createElement(Dn, { emailEditModel: a, serverDef: t }),
                      (0, v.uX)(e),
                    ),
                },
                Boolean(r) ? "Update Email Scheduled Times" : "Schedule Email",
              ),
              Boolean(r) &&
                n.createElement(
                  m.$n,
                  {
                    className: Xe().BasicButtonSize,
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Cn, {
                          emailEditModel: a,
                          serverDef: t,
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Unset Email Schedule",
                ),
            );
      }
      function Dn(e) {
        const { serverDef: t, emailEditModel: a, closeModal: r } = e,
          i = s.Mt.Get(),
          l = t.start_rtime || i.GetEventStartTime(),
          o = t.end_rtime || i.GetEventEndTime(),
          [m, d] = (0, n.useState)(l),
          [u, p] = (0, n.useState)(o),
          [_, g] = (0, n.useState)(!1),
          [h, E] = (0, n.useState)(!1),
          [S, y] = (0, n.useState)(null),
          v = c.HD.GetTimeNowWithOverride();
        return n.createElement(
          T.o0,
          {
            strTitle: "Setup OptIn Email Schedule",
            strDescription:
              "The email can be setup to start firing upto the end of the underlying Partner OptIn event.  The end-time is a safe guard to prevent firing emals beyond this time incase email servers are slow.",
            onCancel: r,
            bDisableBackgroundDismiss: !1,
            strCancelButtonText: h ? "Close" : void 0,
            onOK: () => {
              g(!0),
                Be.Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: m,
                    rtEndAutomaticEmail: u,
                  })
                  .then((e) => {
                    1 != e &&
                      y("Failed to Save setting, please try again later");
                  })
                  .catch(() =>
                    y("Failed to Save setting, please try again later"),
                  )
                  .finally(() => E(!0));
            },
            bOKDisabled: _ || (l == m && u == o),
          },
          Boolean(_ && !h) &&
            n.createElement(M.t, {
              size: "medium",
              position: "center",
              string: (0, R.we)("#Saving"),
            }),
          Boolean(h && S) && n.createElement("div", null, "Error: ", S),
          Boolean(h && !S) && n.createElement("div", null, "Save Successful."),
          !Boolean(_) &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement("br", null),
              n.createElement(pt.K, {
                strDescription: "Email Start Sending Time",
                nEarliestTime: v,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => m,
                fnSetTimeToUpdate: d,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              n.createElement(pt.K, {
                strDescription: "Email Stop at Time",
                nEarliestTime: v,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => u,
                fnSetTimeToUpdate: p,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement("br", null),
            ),
        );
      }
      function Cn(e) {
        const { serverDef: t, emailEditModel: a, closeModal: r } = e,
          [i, s] = (0, n.useState)(!1),
          [l, o] = (0, n.useState)(!1),
          [c, m] = (0, n.useState)(null);
        return n.createElement(
          T.o0,
          {
            strTitle: "Clear Email Schedule?",
            strDescription:
              "Removinmg the scheduling for firing this email? If you confirm, this will be manual mode only.",
            onCancel: r,
            onOK: () => {
              s(!0),
                Be.Get()
                  .UpdateOptInEmailMetaData(a, {
                    rtStartAutomaticEmailType: 0,
                    rtEndAutomaticEmail: 0,
                  })
                  .then((e) => {
                    1 != e &&
                      m("Failed to Reset Scheduling, please try again later");
                  })
                  .catch(() =>
                    m("Failed to Save setting, please try again later"),
                  )
                  .finally(() => o(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: l ? "Close" : void 0,
          },
          Boolean(i && !l) &&
            n.createElement(M.t, {
              size: "medium",
              position: "center",
              string: (0, R.we)("#Saving"),
            }),
          Boolean(l && c) && n.createElement("div", null, "Error: ", c),
          Boolean(l && !c) && n.createElement("div", null, "Save Successful."),
        );
      }
      (0, L.Cg)([z.sH], vn.prototype, "m_curSelection", void 0);
      var In = a(92757),
        Bn = a(36148),
        Tn = a(32179);
      const Mn =
        a.p +
        "images/applications/appmgmt/Logo_Steamworks.png?v=valveisgoodatcaching";
      var An = a(83271),
        kn = a.n(An),
        Rn = a(35458);
      const Pn = (0, Le.PA)((e) => {
          const {
            section: t,
            sectionIndex: a,
            emailDef: r,
            storeItem: i,
            fnOnRemoveSection: s,
          } = e;
          let l = null;
          if (t.GetType() === U.Dj.k_Custom)
            l = n.createElement(Nn, { section: t, emailDef: r });
          else
            l = n.createElement(Fn, { section: t, emailDef: r, storeItem: i });
          return n.createElement(
            "div",
            null,
            !r.BIsReadOnly() &&
              n.createElement(
                "div",
                { className: kn().ChangeBtnCtn },
                n.createElement(
                  m.$n,
                  {
                    className: Xe().BasicButtonSize,
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(On, {
                          emailDef: r,
                          sectionIndex: a,
                          storeItem: i,
                          fnOnRemoveSection: s,
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Change Section Type",
                ),
              ),
            l,
          );
        }),
        Nn = (0, Le.PA)((e) => {
          const { section: t } = e,
            a = qe.O.Get().GetCurEditLanguage();
          return n.createElement(
            "div",
            { className: kn().SectionCtn },
            n.createElement(
              "div",
              { className: kn().SectionEntryTitle },
              "Title:",
            ),
            n.createElement("input", {
              type: "text",
              value: t.GetTitle(a),
              placeholder: "(required) Enter Title",
              onChange: (e) => t.SetTitle(e.currentTarget.value, a),
              maxLength: 240,
            }),
            n.createElement(
              "div",
              { className: kn().SectionEntryTitle },
              "Description:",
            ),
            n.createElement("textarea", {
              value: t.GetDescription(a),
              onChange: (e) => t.SetDescription(e.currentTarget.value, a),
              placeholder: "(required) Description / Body Text",
              rows: 4,
            }),
          );
        }),
        Gn = (e) => {
          const {
              curValue: t,
              fnOnChange: a,
              emailDef: r,
              sectionIndex: i,
            } = e,
            s = U.m
              .filter(
                (e) =>
                  e == U.Dj.k_Custom ||
                  !r.GetSections().some((t, a) => a != i && t.GetType() == e),
              )
              .map((e) => ({ label: (0, U.Rv)(e), data: e }));
          return n.createElement(m.m, {
            label: "Email Section Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: s,
            selectedOption: t,
            onChange: (e) => a(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        On = (e) => {
          const {
              closeModal: t,
              sectionIndex: a,
              emailDef: r,
              storeItem: i,
              fnOnRemoveSection: s,
            } = e,
            l = "number" != typeof a,
            o = l ? U.Dj.k_Custom : r.GetSection(a).GetType(),
            c = o == U.Dj.k_Custom,
            [d, u] = n.useState(o);
          return n.createElement(
            T.eV,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            n.createElement(
              m.Y9,
              null,
              l ? "Add New Email Section" : "Change Section Type",
            ),
            n.createElement(
              m.nB,
              null,
              n.createElement(
                "div",
                null,
                n.createElement(
                  "p",
                  null,
                  "An email can have any number of custom sections. Other section types can only appear once on the email. Sections are pruned from the drop down if they already are using else where in the email body.",
                ),
              ),
              c &&
                n.createElement(
                  "div",
                  null,
                  "Warning: changing from a custom to another type of section will loose any previous custom text.",
                ),
              n.createElement(Gn, {
                emailDef: r,
                sectionIndex: a,
                curValue: d,
                fnOnChange: u,
              }),
              Boolean(s) &&
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(T.o0, {
                          strTitle: "Are you sure?",
                          strDescription: "This is not reversible",
                          onOK: () => {
                            s(), t();
                          },
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Remove This Section?",
                ),
              n.createElement(
                "div",
                { className: Rn.Preview },
                n.createElement("h2", null, "Section Preview"),
                n.createElement(Fn, {
                  emailDef: r,
                  section: new U.cg({ type: d, unique_id: "dummy" }),
                  storeItem: i,
                }),
              ),
            ),
            n.createElement(
              m.wi,
              null,
              n.createElement(m.CB, {
                onCancel: t,
                onOK: () => {
                  if (l) {
                    r.AddSection(d);
                    const e = document.getElementById("end_of_email_sections");
                    e && e.scrollIntoView();
                  } else r.GetSection(a).SetType(d);
                  t();
                },
              }),
            ),
          );
        },
        Fn = (0, Le.PA)((e) => {
          const { emailDef: t, section: a, storeItem: r } = e;
          let i = "",
            l = n.createElement("div", null);
          const o = (0, qe.E)();
          if (a.GetType() == U.Dj.k_Custom) return null;
          const c =
              f.TS.PARTNER_BASE_URL +
              "optin/sale/" +
              s.Mt.Get().GetName() +
              "/" +
              r.GetAppID(),
            m =
              f.TS.PARTNER_BASE_URL +
              "optin/survey/" +
              s.Mt.Get().GetName() +
              "/" +
              r.GetAppID(),
            d = c + "?focusmedia=1",
            u = f.TS.PARTNER_BASE_URL + "optin/sale/" + s.Mt.Get().GetName(),
            p = f.TS.PARTNER_BASE_URL + "taxonomy/tagwizard/" + r.GetAppID(),
            _ =
              (f.TS.PARTNER_BASE_URL,
              r.GetAppID(),
              f.TS.PARTNER_BASE_URL + "apps/demo/" + r.GetAppID()),
            g =
              f.TS.COMMUNITY_BASE_URL +
              "ogg/" +
              r.GetAppID() +
              "/partnerevents/create/",
            h = s.Mt.Get().GetOptInDeadlineTime(),
            E = s.Mt.Get().GetCurEventTitle(),
            S = s.Mt.Get().GetEventStartTime();
          switch (a.GetType()) {
            case U.Dj.k_AssetKit:
              (i = (0, R.we)("#OptIn_EmailSection_Asset_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.PP)(
                    "#OptIn_EmailSection_Asset_Body",
                    n.createElement(
                      "a",
                      { href: t.GetAssetKitURL() || "" },
                      (0, R.we)("#OptIn_EmailSection_Asset_Token"),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_DemoPressPreview:
              (i = (0, R.we)("#OptIn_EmailSection_Press_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_Press_Body",
                      n.createElement(
                        "a",
                        { href: c },
                        (0, R.we)("#OptIn_EmailSection_Press_Token"),
                      ),
                      (0, R.TW)(t.GetDemoPressPreviewDate() || 0),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_ScheduleLiveStream:
              (i = (0, R.we)("#OptIn_EmailSection_schedlive_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.PP)(
                    "#OptIn_EmailSection_schedlive_Body",
                    t.GetScheduleMaxItems().toLocaleString(),
                    E,
                    n.createElement(
                      "a",
                      { href: t.GetSalePreviewPage() || "" },
                      (0, R.we)("#OptIn_EmailSection_schedlive_Token"),
                    ),
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.PP)(
                    "#OptIn_EmailSection_schedlive_Link",
                    n.createElement(
                      "a",
                      { href: g, target: "_blank" },
                      (0, R.we)("#OptIn_EmailSection_schedlive_Link_Token"),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_CancelSection:
              (i = (0, R.we)("#OptIn_EmailSection_cancel_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_EmailSection_cancel_Body",
                    E,
                    (0, R.TW)(t.GetCancelDate() || 0) +
                      " @ " +
                      (0, ja.KC)(t.GetCancelDate() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                ));
              break;
            case U.Dj.k_DemoNotReady:
              (i = (0, R.we)("#OptIn_EmailSection_notreadydemo_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_EmailSection_notreadydemo_Body",
                    (0, R.TW)(t.GetCancelDate() || 0),
                    (0, R.lQ)(t.GetNextEditionDate() || 0),
                  ),
                ));
              break;
            case U.Dj.k_ReviewCategorization:
              (i = (0, R.we)("#OptIn_EmailSection_reviewcategories_Title")),
                (l = n.createElement(
                  "div",
                  { className: kn().SectionBody },
                  (0, R.PP)(
                    "#OptIn_EmailSection_reviewcategories_Desc",
                    n.createElement(
                      "a",
                      { href: t.GetSalePreviewPage() || "" },
                      (0, R.we)(
                        "#OptIn_EmailSection_reviewcategories_DescLinkText",
                      ),
                    ),
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.we)("#OptIn_EmailSection_reviewcategories_Desc1"),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.PP)(
                    "#OptIn_EmailSection_reviewcategories_Desc2",
                    n.createElement(
                      "a",
                      { href: c + "#GameListing" },
                      (0, R.we)(
                        "#OptIn_EmailSection_reviewcategories_Desc2LinkText",
                      ),
                    ),
                  ),
                  n.createElement(
                    "ul",
                    null,
                    n.createElement(
                      "li",
                      null,
                      (0, R.PP)(
                        "#OptIn_EmailSection_reviewcategories_Li_2",
                        n.createElement(
                          "a",
                          { href: p },
                          (0, R.we)("#OptIn_EmailSection_TagWizard_Token"),
                        ),
                      ),
                    ),
                    n.createElement(
                      "li",
                      null,
                      (0, R.we)("#OptIn_EmailSection_reviewcategories_Li_3"),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_DemoReview:
              (i = (0, R.we)("#OptIn_EmailSection_DemoReview_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.PP)(
                    "#OptIn_EmailSection_DemoReview_Body",
                    n.createElement(
                      "a",
                      { href: _ },
                      (0, R.we)("#OptIn_EmailSection_DemoReview_Token"),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_PressPreviewDetails:
              (i = (0, R.we)("#OptIn_EmailSection_PressPreviewDetails_Title")),
                (l = n.createElement(
                  "div",
                  { className: kn().SectionBody },
                  (0, R.PP)(
                    "#OptIn_EmailSection_PressPreviewDetails_Body",
                    (0, R.TW)(t.GetPreviewDate() || 0),
                  ),
                  n.createElement(
                    "ul",
                    null,
                    n.createElement(
                      "li",
                      null,
                      (0, R.PP)(
                        "#OptIn_EmailSection_PressPreviewDetails_Bullet_1",
                        n.createElement(
                          "a",
                          { target: "_blank", href: c || "" },
                          (0, R.we)(
                            "#OptIn_EmailSection_PressPreviewDetails_Bullet_1_Link",
                          ),
                        ),
                      ),
                    ),
                    n.createElement(
                      "li",
                      null,
                      (0, R.PP)(
                        "#OptIn_EmailSection_PressPreviewDetails_Bullet_2",
                        (0, R.TW)(t.GetPreviewDate() || 0),
                      ),
                    ),
                    n.createElement(
                      "li",
                      null,
                      (0, R.PP)(
                        "#OptIn_EmailSection_PressPreviewDetails_Bullet_3",
                        n.createElement(
                          "a",
                          { target: "_blank", href: t.GetWikiDocURL() || "" },
                          (0, R.we)(
                            "#OptIn_EmailSection_PressPreviewDetails_EventDoc",
                          ),
                        ),
                      ),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_MediaUsePermission:
              (i = (0, R.we)("#OptIn_EmailSection_MediaPermission_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.we)("#OptIn_EmailSection_MediaPermission_Body_1"),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.we)("#OptIn_EmailSection_MediaPermission_Body_2"),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.PP)(
                    "#OptIn_EmailSection_MediaPermission_Body_3",
                    (0, R.TW)(t.GetPermissionDate() || 0),
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  n.createElement(
                    "a",
                    { href: c },
                    (0, R.PP)(
                      "#Steamworks_partner_optin_MediaPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case U.Dj.k_TrailerOrDemoPermissions:
              (i = (0, R.we)(
                "#OptIn_EmailSection_TrailerDemoPermission_title",
              )),
                (l = n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc1",
                    E,
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.we)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc2",
                    E,
                  ),
                  " ",
                  (0, R.PP)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc3",
                    n.createElement(
                      "b",
                      null,
                      (0, R.TW)(t.GetPressPreviewVisibleDate() || 0),
                    ),
                  ),
                  " ",
                  (0, R.PP)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc4",
                    n.createElement("b", null, (0, R.TW)(S || 0)),
                    E,
                  ),
                  " ",
                  (0, R.we)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc5",
                    E,
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.PP)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc6",
                    n.createElement(
                      "b",
                      null,
                      (0, R.TW)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  " ",
                  (0, R.PP)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc7",
                    n.createElement(
                      "b",
                      null,
                      (0, R.TW)(t.GetPermissionDate() || 0),
                    ),
                    E,
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  (0, R.PP)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc8",
                    n.createElement(
                      "b",
                      null,
                      (0, R.TW)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  n.createElement("br", null),
                  n.createElement("br", null),
                  n.createElement(
                    "a",
                    { href: d },
                    (0, R.PP)(
                      "#OptIn_EmailSection_TrailerDemoPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case U.Dj.k_StatsSummary:
              (i = (0, R.we)("#OptIn_EmailSection_StatsSummary_Title")),
                (l = n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    (0, R.PP)(
                      "#OptIn_EmailSection_StatsSummary_Body",
                      s.Mt.Get().GetCurEventTitle(),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    n.createElement(
                      "div",
                      { className: kn().StatNumber },
                      n.createElement("span", null, "00,000"),
                      " new demo players",
                    ),
                    "Your game's demo was played by 00,000 new players during Steam Next Fest. Click ",
                    n.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of downloads for your demo.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    n.createElement(
                      "div",
                      { className: kn().StatNumber },
                      n.createElement("span", null, "00,000"),
                      " wishlists",
                    ),
                    "Your game was added to the wishlist of 00,000 new players during Steam Next Fest! Click ",
                    n.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of wishlist activity on your game.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    n.createElement(
                      "div",
                      { className: kn().StatNumber },
                      n.createElement("span", null, "00,000"),
                      " broadcast views",
                    ),
                    "We found 8 broadcast sessions for your game during Steam Next Fest, totalling views by 00,000 unique users. Broadcast stats are collected under each Steam account that did the broadcasting, so for now details can only be seen by the owner of the account that did the broadcasting.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    n.createElement(
                      "div",
                      { className: kn().StatNumber },
                      n.createElement("span", null, "00,000"),
                      " store page views",
                    ),
                    "This many unique players visited your store page from the landing page of Steam Next Fest.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().StatCtn },
                    n.createElement(
                      "div",
                      { className: kn().StatNumber },
                      n.createElement("span", null, "00,000"),
                      " game impressions",
                    ),
                    "Your game capsule appeared on screen to this many unique players in Steam Next Fest.",
                  ),
                ));
              break;
            case U.Dj.k_SurveyButton:
              (i = "We'd like your feedback!"),
                (l = n.createElement(
                  "div",
                  null,
                  "If you have a few minutes, please take this (very) short survey so that we may understand how the event went for you and how we can improve in the future.",
                  n.createElement(
                    "a",
                    { href: m, className: kn().BigButton },
                    n.createElement("span", null, "Take Event Survey"),
                  ),
                ));
              break;
            case U.Dj.k_MeasureResults:
              (i = "MEASURING YOUR RESULTS"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Sales",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "For games that are released and playable, you can find a report of your game's sales here: https://partner.steampowered.com/app/details/",
                    r.GetAppID(),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Wishlists",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    r.GetAppID(),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Demo activations",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    r.GetAppID(),
                  ),
                ));
              break;
            case U.Dj.k_MeasureResultsNextFest:
              (i = "MEASURING YOUR RESULTS"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You can find a recap of your demo activity and wishlist additions here: https://partner.steamgames.com/recap/nextfest/&st;feb_2025<",
                  ),
                ));
              break;
            case U.Dj.k_MeasureResultsFree:
              (i = "MEASURING YOUR RESULTS"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Wishlists",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    r.GetAppID(),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Demo activations",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    r.GetAppID(),
                  ),
                ));
              break;
            case U.Dj.k_DemoLaunch:
              (i = (0, R.we)("#OptIn_EmailSection_DemoRelease_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_DemoRelease_Body",
                      n.createElement(
                        "a",
                        { href: _ },
                        (0, R.we)("#OptIn_EmailSection_DemoRelease_Token"),
                      ),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "We recommend keeping your demo active for at least a week or two after Next Fest ends to make sure that players have time to try out all the great demos they discover during the fest.",
                  ),
                ));
              break;
            case U.Dj.k_EnterDiscount:
              (i = "DISCOUNT"),
                (l = n.createElement(
                  "div",
                  null,
                  "If you’d like to offer a discount on your title throughout the ",
                  s.Mt.Get().GetCurEventTitle(),
                  " event, you'll need to enter your discounts before the event begins on ",
                  n.createElement(
                    "span",
                    null,
                    " " +
                      (0, R.TW)(s.Mt.Get().GetEventStartTime() || 0) +
                      " @ " +
                      (0, ja.KC)(s.Mt.Get().GetEventStartTime() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                  ". Visit your ",
                  n.createElement(
                    "a",
                    {
                      href:
                        f.TS.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    n.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                  n.createElement("br", null),
                  n.createElement("br", null),
                  "Remember, all discounts are subject to the same cooldown between discounts, with the only exceptions being for major Steam seasonal sales. For more details on the discounting, please see the ",
                  n.createElement(
                    "a",
                    { href: f.TS.PARTNER_BASE_URL + "doc/marketing/discounts" },
                    n.createElement("span", null, "Discounting documentation"),
                  ),
                  ". If you wish, you may delete conflicting custom discounts you had planned. It's up to you to choose which discount events you participate in.",
                ));
              break;
            case U.Dj.k_EnterDiscountReminder:
              (i = "DISCOUNT"),
                (l = n.createElement(
                  "div",
                  null,
                  "If you’d like to offer a discount on your title throughout the event, it’s not too late to do so. Enter your ",
                  s.Mt.Get().GetCurEventTitle(),
                  " discounts before the event begins on ",
                  (0, R.TW)(s.Mt.Get().GetEventStartTime() || 0) +
                    " @ " +
                    (0, ja.KC)(s.Mt.Get().GetEventStartTime() || 0, {
                      bForce24HourClock: !1,
                    }),
                  ". Visit your ",
                  n.createElement(
                    "a",
                    {
                      href:
                        f.TS.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    n.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                ));
              break;
            case U.Dj.k_LearnMore:
              (i = "Learn more"),
                (l = n.createElement(
                  "div",
                  null,
                  "Visit our ",
                  n.createElement(
                    "a",
                    { href: t.GetWikiDocURL() || "#" },
                    s.Mt.Get().GetCurEventTitle(),
                    " documentation",
                  ),
                  " for more information. Should you have any remaining questions, please reach out via ",
                  n.createElement(
                    "a",
                    {
                      href:
                        f.TS.HELP_BASE_URL +
                        "en/wizard/HelpWithPublishing?issueid=933",
                    },
                    "Steam Support",
                  ),
                  ".",
                ));
              break;
            case U.Dj.k_CallForRegistration:
              (i = (0, R.we)("#OptIn_EmailSection_Register_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_Register_Body_1",
                      (0, R.TW)(h || 0),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_Register_Body_2",
                      n.createElement("a", { href: u }, u),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_NextFestReturns:
              (i = (0, R.we)(
                "#OptIn_EmailSection_NextFest_Returns_Title",
                (0, R.TW)(s.Mt.Get().GetEventStartTime() || 0),
              )),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)("#OptIn_EmailSection_NextFest_Returns_Body"),
                  ),
                ));
              break;
            case U.Dj.k_NextFestQASession:
              (i = (0, R.we)("#OptIn_EmailSection_NextFest_QASession_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_NextFest_QASession_Body",
                      n.createElement(
                        "span",
                        null,
                        " " +
                          (0, R.TW)(t.GetQASessionDate() || 0) +
                          " @ " +
                          (0, ja.KC)(t.GetQASessionDate() || 0, {
                            bForce24HourClock: !1,
                          }),
                      ),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_NextFest_QASession_LinkText",
                      n.createElement(
                        "a",
                        { href: t.GetQASessionLink() || "", target: "_blank" },
                        t.GetQASessionLink(),
                      ),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_NextFestWhatNext:
              (i = (0, R.we)("#OptIn_EmailSection_NextFest_WhatNext_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)(
                      "#OptIn_EmailSection_NextFest_WhatNext_Body",
                      (0, R.TW)(s.Mt.Get().GetEventStartTime() || 0),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_NextFestTips:
              (i = (0, R.we)("#OptIn_EmailSection_NextFest_Tips_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_NextFest_Tips_Body",
                      n.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/marketing/upcoming_events/nextfest/tips",
                          target: "_blank",
                        },
                        (0, R.PP)("#OptIn_EmailSection_NextFest_Tips_Insert1"),
                      ),
                      n.createElement(
                        "a",
                        {
                          href: t.GetRecordedQASessionLink() || "",
                          target: "_blank",
                        },
                        (0, R.PP)("#OptIn_EmailSection_NextFest_Tips_Insert2"),
                      ),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_NextFestStartsNow:
              (i = (0, R.we)("#OptIn_EmailSection_NextFest_StartsNow_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)("#OptIn_EmailSection_NextFest_StartsNow_Body"),
                  ),
                ));
              break;
            case U.Dj.k_NextFestThankYou:
              (i = (0, R.we)("#OptIn_EmailSection_NextFest_ThankYou_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)("#OptIn_EmailSection_NextFest_ThankYou_Body"),
                  ),
                ));
              break;
            case U.Dj.k_MediaPermissionReminder:
              (i = (0, R.we)(
                "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Title",
              )),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Body",
                    ),
                    n.createElement("br", null),
                    n.createElement("br", null),
                    t.GetDemoTrailerRegLink() || "",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    (0, R.we)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Title",
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body",
                      (0, R.TW)(t.GetTrailerDemoDeadlineDate() || 0),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body2",
                    ),
                  ),
                ));
              break;
            case U.Dj.k_NextFestMediaUsageIntended:
              (i = "OFFICIAL TRAILER AND/OR LIVESTREAM"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "We intend to include your game in the official event trailer and/or in the official livestream. Please let us know ASAP if your plans have changed!",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "The main event trailer will be available on the ",
                    n.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, R.TW)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "The official livestream will broadcast ",
                    (0, R.TW)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    n.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    n.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    n.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    n.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Event participation is required for featuring",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Need to opt out or cancel? Please do so ASAP!",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer inclusion, please ",
                    n.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    n.createElement(
                      "a",
                      { href: c, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You must opt out by ",
                    (0, R.TW)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case U.Dj.k_NextFestMediaUsageIntendedTrailer:
              (i = "WE NEED TO KNOW IF YOU ARE STILL IN"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Your game is on our shortlist for the official event trailer, so we need to know ASAP If your plans have changed and you won't be able to participate.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "The main event trailer will be available on the ",
                    n.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, R.TW)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Event participation is required for featuring",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Need to opt out or cancel? Please do so ASAP!",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer inclusion, please ",
                    n.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    n.createElement(
                      "a",
                      { href: c, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You must opt out by ",
                    (0, R.TW)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case U.Dj.k_NextFestMediaUsageIntendedLivestream:
              (i = "WE NEED TO KNOW IF YOU ARE STILL IN"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Your game is on our shortlist for the official livestream, so we need to know ASAP If your plans have changed and you won't be able to participate.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "The official livestream will broadcast ",
                    (0, R.TW)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    n.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    n.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    n.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    n.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Event participation is required for featuring",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Need to opt out or cancel? Please do so ASAP!",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please ",
                    n.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    " immediately and return to ",
                    n.createElement(
                      "a",
                      { href: c, target: "_blank" },
                      "your game's registration page",
                    ),
                    " to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "You must opt out by ",
                    (0, R.TW)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case U.Dj.k_NextFestTopGameWrapUp:
              (i = "YOUR DEMO WAS ONE OF THE MOST PLAYED!"),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Congratulations! As one of the most popular demos in this edition of Next Fest, your game will highlighted as part of a wrap-up announcement and landing page.",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    "Please leave your demo up!",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Later today we will publish the list of most-played demos of Steam Next Fest. Since that could lead to another round of extra attention from players, we wanted to give you a heads up and suggest that you keep your demo live for an additional week or two. (Plus, we know that players can't get through all the great demos they discover during Next Fest, so keeping your demo up for a couple weeks is generally a good idea.)",
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    "Thanks for participating in Next Fest, and congrats on having one of the most-played demos of the week!",
                  ),
                ));
              break;
            case U.Dj.k_SaleThankYou:
              (i = (0, R.we)("#OptIn_EmailSection_ThankYou_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.we)("#OptIn_EmailSection_ThankYou_Body"),
                  ),
                ));
              break;
            case U.Dj.k_GenericActionLink:
              (i = null),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    t.GetGenericActionLink() &&
                      n.createElement(
                        "a",
                        {
                          href:
                            t
                              .GetGenericActionLink()
                              .replace("%s", r.GetAppID().toString()) || "",
                          target: "_blank",
                        },
                        t
                          .GetGenericActionLink()
                          .replace("%s", r.GetAppID().toString()) || "",
                      ),
                  ),
                ));
              break;
            case U.Dj.k_GenericActionButton:
              (i = null),
                (l = n.createElement(
                  "div",
                  null,
                  t.GetGenericActionButtonLink() &&
                    t.GetGenericActionButtonText(0) &&
                    n.createElement(
                      "a",
                      {
                        href:
                          t
                            .GetGenericActionButtonLink()
                            .replace("%s", r.GetAppID().toString()) || "",
                        className: kn().BigButton,
                      },
                      n.createElement(
                        "span",
                        null,
                        t.GetGenericActionButtonText(o),
                      ),
                    ),
                ));
              break;
            case U.Dj.k_SeasonalFeatureRequest:
              (i = (0, R.we)("#OptIn_EmailSection_SeasonalFeaturing_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_SeasonalFeaturing_Body_1",
                      (0, R.TW)(h || 0),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)("#OptIn_EmailSection_SeasonalFeaturing_Body_2"),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionTitle },
                    (0, R.PP)(
                      "#OptIn_EmailSection_SeasonalFeaturing_Title_2",
                      (0, R.TW)(h || 0),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_SeasonalFeaturing_Body_3",
                      (0, R.TW)(h || 0),
                    ),
                  ),
                  n.createElement(
                    "div",
                    null,
                    n.createElement(
                      "a",
                      { href: u, className: kn().BigButton },
                      n.createElement(
                        "span",
                        null,
                        (0, R.PP)("#OptIn_EmailSection_Default_Register"),
                      ),
                    ),
                  ),
                ));
              break;
            case U.Dj.k_SeasonalFeatureDiscount:
              (i = (0, R.we)("#OptIn_EmailSection_SeasonalDiscounting_Title")),
                (l = n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)("#OptIn_EmailSection_SeasonalDiscounting_Body_1"),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)(
                      "#OptIn_EmailSection_SeasonalDiscounting_Body_2",
                      n.createElement(
                        "a",
                        {
                          href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=927",
                        },
                        (0, R.PP)(
                          "#OptIn_EmailSection_SeasonalDiscounting_Body_2_Link",
                        ),
                      ),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: kn().SectionBody },
                    (0, R.PP)("#OptIn_EmailSection_SeasonalDiscounting_Body_3"),
                  ),
                ));
              break;
            case U.Dj.k_SteamAwardsCategories:
              (i = (0, R.we)(
                "#OptIn_EmailSection_SteamAwardsCategories_Title",
              )),
                (l = n.createElement(Un, { emailDef: t }));
              break;
            case U.Dj.k_ImageBoxSection:
              (i = void 0), (l = n.createElement(Ln, { emailDef: t }));
              break;
            default:
              (i = "Unknown"),
                (l = n.createElement(
                  "div",
                  null,
                  "Unknown type ",
                  a.GetType(),
                  " @ ",
                  (0, U.Rv)(a.GetType()),
                  " ",
                ));
          }
          return n.createElement(
            "div",
            { className: kn().SectionCtn },
            n.createElement("div", { className: kn().SectionTitle }, i),
            l,
          );
        });
      function Ln(e) {
        const { emailDef: t } = e,
          a = (0, qe.E)(),
          [r, i] = (0, Ne.q3)(() => [
            t.GetOwningOptInName(),
            t.GetEmailImage(a),
          ]);
        return n.createElement(
          "div",
          { className: kn().SectionBody },
          n.createElement("img", { src: (0, vt.qF)(r, a, i) }),
        );
      }
      function Un(e) {
        const { emailDef: t } = e,
          a = br(t);
        return n.createElement(
          "div",
          { className: kn().SectionBody },
          n.createElement(
            "div",
            null,
            (0, R.we)("#OptIn_EmailSection_SteamAwardsCategories_Body"),
          ),
          n.createElement(
            "div",
            null,
            n.createElement(
              "ul",
              null,
              Boolean(a?.length > 0)
                ? n.createElement(
                    n.Fragment,
                    null,
                    a.map((e) => n.createElement("li", { key: e }, e)),
                  )
                : n.createElement(
                    "li",
                    null,
                    n.createElement(M.t, { size: "small" }),
                  ),
            ),
          ),
        );
      }
      var zn = a(85254),
        xn = a.n(zn);
      function qn(e) {
        const { appid: t, closeModal: a } = e,
          r = (0, Bn.Jo)(t);
        return (
          console.log(t, r),
          n.createElement(
            T.o0,
            {
              bAlertDialog: !0,
              strTitle: "Steam Award Definitions",
              closeModal: a,
            },
            r.isLoading
              ? n.createElement(M.t, { size: "medium", position: "center" })
              : n.createElement(
                  "div",
                  null,
                  n.createElement("h3", null, "Awards: "),
                  r.data.votes.map((e) =>
                    n.createElement(
                      "div",
                      { key: e.internal_name },
                      e.localization.title,
                    ),
                  ),
                  Boolean(r.data.votes.every((e) => e.app_discounts.length > 0))
                    ? n.createElement(
                        "div",
                        { className: I.InfoStylesWithIcon },
                        "Nominees Ready",
                      )
                    : n.createElement(
                        "div",
                        { className: (0, y.A)(I.WarningStylesWithIcon) },
                        "No nominee's present",
                      ),
                ),
          )
        );
      }
      var Wn = a(81393);
      function jn(e) {
        const { emailDef: t } = e,
          a = (0, Ne.q3)(() => [t?.GetEmailImageCount()]);
        return n.createElement(
          "div",
          { className: kn().MetaDataRow },
          n.createElement(
            "div",
            { className: kn().MetaDataRowTitle },
            "Image Upload (610x348):",
          ),
          n.createElement(
            m.$n,
            {
              onClick: (e) =>
                (0, h.pg)(n.createElement(Hn, { emailDef: t }), (0, v.uX)(e)),
            },
            "Upload Images ",
            n.createElement("span", null, "(", a, ")"),
          ),
        );
      }
      function Hn(e) {
        const { emailDef: t, closeModal: a } = e,
          r = (0, n.useMemo)(() => ["localized_email_image"], []),
          i = (0, n.useMemo)(() => [_t.TU.k_ESteamRealmGlobal], []),
          [s, l] = (0, n.useState)(() => t.GetAllEmailImages()),
          o = (0, Ne.q3)(() => t.GetOwningOptInName());
        return n.createElement(
          T.o0,
          {
            strTitle: "Upload Email Image",
            closeModal: a,
            bDisableBackgroundDismiss: !0,
            bAllowFullSize: !0,
            onOK: () => t.SetAllEmailImages(s),
          },
          n.createElement("p", null, "610px x 348px"),
          n.createElement(ht.U, {
            rgSupportArtwork: r,
            rgRealmList: i,
            strUploadAjaxURL: `${St.TS.PARTNER_BASE_URL}optin/ajaxuploadasset/${o}`,
            fnOnUploadSuccess: (e, t, a, n, r) => {
              (0, Wn.w)(
                "localized_email_image" == r,
                "unexpected artwork type",
              ),
                l((t) => {
                  const r = { ...t };
                  return (r[(0, xe.Lg)(a)] = e + (0, gt.qR)(n)), r;
                });
            },
          }),
          n.createElement(
            d.tH,
            null,
            n.createElement(Vn, { rgImages: s, pageid: o, fnSetImages: l }),
          ),
        );
      }
      function Vn(e) {
        const { rgImages: t, pageid: a, fnSetImages: r } = e,
          [i] = (0, Ne.q3)(() => [
            Object.keys(t)
              .sort()
              .map((e) => (0, xe.sf)(e)),
          ]),
          s = (0, n.useCallback)(
            (e) => {
              const n = (0, xe.Lg)(e),
                r = t[n];
              return r ? (0, vt.qF)(a, e, r) : null;
            },
            [a, t],
          );
        return n.createElement(yt.z, {
          rgAssetLangs: i,
          fnGetAssetUrl: s,
          fnDeletAssetLang: (e) => {
            const a = (0, xe.Lg)(e),
              n = { ...t };
            n?.[a] && (delete n[a], r(n));
          },
        });
      }
      const Kn = (e) => {
          const { emailDef: t, storeItem: a, partnerInfo: r } = e;
          switch (t.GetType()) {
            case U.YG.k_Invite:
            case U.YG.k_InviteReminder:
              return n.createElement(
                n.Fragment,
                null,
                n.createElement("a", { href: r.partner_url }, r.name),
                " is invited to participate in an upcoming Steam event!",
              );
            case U.YG.k_RegistrationConfirmation:
              return n.createElement(
                n.Fragment,
                null,
                "You've successfully registered ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " for an upcoming Steam Event!",
              );
            case U.YG.k_Update:
              return n.createElement(
                n.Fragment,
                null,
                "We have a few things to share that might be helpful for ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " in an upcoming Steam Event!",
              );
            case U.YG.k_Reminder:
              return n.createElement(
                n.Fragment,
                null,
                "This event is coming up quickly, so we wanted to check that ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " is all set to participate.",
              );
            case U.YG.k_Starting:
              return n.createElement(
                n.Fragment,
                null,
                "This event starts soon! Here are a few final notes to prepare ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                ".",
              );
            case U.YG.k_Followup:
              return n.createElement(
                n.Fragment,
                null,
                "We are pleased to have had ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " participate in a recent event!",
              );
            case U.YG.k_PermissionRequest:
              return n.createElement(
                n.Fragment,
                null,
                n.createElement("a", { href: r.partner_url }, r.name),
                " is in consideration to be included in official event marketing!",
              );
            case U.YG.k_MediaUsageNotification:
              return n.createElement(
                n.Fragment,
                null,
                "Please let us know ASAP if ",
                n.createElement("a", { href: r.partner_url }, r.name),
                " will no longer be part of the event.",
              );
            case U.YG.k_GeneralCommunication:
              return n.createElement(
                n.Fragment,
                null,
                "Regarding your game ",
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " on Steam:",
              );
            case U.YG.k_SteamAwardFinalists:
              return n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "a",
                  { href: a.GetStorePageURL() },
                  a.GetName(),
                ),
                " is a finalist for the Steam Awards!",
              );
            default:
              return n.createElement(
                "div",
                null,
                "unknown type: ",
                t.GetType(),
              );
          }
        },
        Yn = (0, Le.PA)((e) => {
          const { emailDef: t, appid: a } = e,
            [r] = (0, Nt.t7)(a, { include_basic_info: !0 }),
            [i] = (0, Tn.UA)((0, Tn.MY)()),
            [l, o] = (0, n.useState)(() => Boolean(t.GetSubject(0)));
          if (!r || !i)
            return n.createElement(M.t, {
              string: (0, R.we)("#Loading"),
              size: "medium",
              position: "center",
            });
          const c = s.Mt.Get(),
            d = qe.O.Get().GetCurEditLanguage(),
            u = t
              .GetSections()
              .map((e, a) =>
                n.createElement(Pn, {
                  key: "section" + t.GetUniqueID() + "_" + e.GetUniqueID(),
                  emailDef: t,
                  section: e,
                  sectionIndex: a,
                  storeItem: r,
                  fnOnRemoveSection: () => t.RemoveSectionByIndex(a),
                }),
              );
          return n.createElement(
            "div",
            { className: kn().EmailEditorContent },
            n.createElement(Ue.yk, { fnLangHasData: t.BHasLanguageData }),
            t.BIsReadOnly() && n.createElement("h2", null, "Read Only"),
            n.createElement("h1", null, "Showing Email: ", t.GetInternalName()),
            n.createElement(
              "div",
              { className: kn().Columns },
              n.createElement(
                "div",
                { className: kn().LeftCol },
                Boolean(l)
                  ? n.createElement(
                      "div",
                      {
                        className: (0, y.A)(
                          kn().RightAlign,
                          kn().EmailSubjectCtn,
                        ),
                      },
                      n.createElement(
                        "div",
                        { className: kn().EmailCustomSubject },
                        n.createElement(m.JU, null, "Email Subject:"),
                        n.createElement("input", {
                          type: "text",
                          disabled: t.BIsReadOnly(),
                          value: t.GetSubject(d),
                          onChange: (e) =>
                            t.SetSubject(e.currentTarget.value, d),
                        }),
                      ),
                      n.createElement(
                        m.$n,
                        {
                          onClick: () => {
                            o(!1), t.ClearSubjectText();
                          },
                        },
                        "Switch to Preset Subject",
                      ),
                    )
                  : n.createElement(Jn, { emailDef: t, fnSetUseCustom: o }),
                n.createElement(
                  "div",
                  {
                    className: (0, y.A)(
                      kn().EmailTemplate,
                      kn().DevEmailTemplate,
                    ),
                  },
                  n.createElement(
                    "div",
                    {
                      className: (0, y.A)(
                        kn().CenterAlign,
                        kn().DevEmail_TopHeader,
                      ),
                    },
                    n.createElement(
                      "a",
                      { href: f.TS.PARTNER_BASE_URL },
                      n.createElement("img", {
                        src: Mn,
                        className: kn().DevEmail_TopLogo,
                      }),
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: (0, y.A)(kn().DevEmail_Content) },
                    n.createElement(
                      "div",
                      { className: kn().DevEmail_Headline1 },
                      (function (e) {
                        switch (e.GetType()) {
                          case U.YG.k_Invite:
                            return "YOU'RE INVITED!";
                          case U.YG.k_InviteReminder:
                            return "LAST CHANCE TO REGISTER";
                          case U.YG.k_RegistrationConfirmation:
                            return "YOU'RE IN!";
                          case U.YG.k_Update:
                            return "EVENT UPDATE";
                          case U.YG.k_Reminder:
                            return "REMINDER!";
                          case U.YG.k_Starting:
                            return "GET READY!";
                          case U.YG.k_Followup:
                            return "THANKS FOR JOINING US!";
                          case U.YG.k_PermissionRequest:
                            return "WE'D LIKE YOUR PERMISSION";
                          case U.YG.k_MediaUsageNotification:
                            return "YOUR GAME IS ON THE SHORT LIST FOR FEATURING";
                          case U.YG.k_GeneralCommunication:
                          case U.YG.k_SteamAwardFinalists:
                            return null;
                          default:
                            return "unknown type: " + e.GetType();
                        }
                      })(t),
                    ),
                    n.createElement(
                      "div",
                      { className: kn().DevEmail_Headline2 },
                      n.createElement(Kn, {
                        emailDef: t,
                        storeItem: r,
                        partnerInfo: i,
                      }),
                    ),
                    t.GetType() != U.YG.k_GeneralCommunication &&
                      n.createElement(
                        "div",
                        { className: kn().EventCtn },
                        n.createElement(
                          "div",
                          { className: kn().EventTitle },
                          c.GetCurEventTitle(),
                        ),
                        Boolean(t.GetType() != U.YG.k_PermissionRequest) &&
                          n.createElement(
                            "div",
                            { className: kn().EventDates },
                            (0, R.TW)(c.GetEventStartTime()),
                            " - ",
                            (0, R.TW)(c.GetEventEndTime()),
                          ),
                      ),
                    n.createElement(
                      "div",
                      { className: kn().DevEmail_Subject },
                      (0, U.Xo)(t.GetType()),
                    ),
                  ),
                  u,
                  n.createElement("hr", { id: "end_of_email_sections" }),
                  n.createElement(
                    "div",
                    { className: (0, y.A)(kn().DevEmail_Content) },
                    Boolean(
                      t.GetType() != U.YG.k_Invite &&
                        t.GetType() != U.YG.k_Followup &&
                        t.GetType() != U.YG.k_PermissionRequest &&
                        t.GetType() != U.YG.k_GeneralCommunication &&
                        t.GetType() != U.YG.k_SteamAwardFinalists,
                    ) &&
                      n.createElement(
                        "div",
                        { className: kn().DevEmail_Subject },
                        "To review the participation checklist, make adjustments to your registration, or cancel entirely, you can visit the  ",
                        n.createElement(
                          "a",
                          {
                            href:
                              f.TS.PARTNER_BASE_URL +
                              "optin/" +
                              c.GetModel().pageid +
                              "/sale/" +
                              a,
                          },
                          "registration page for ",
                          r.GetName(),
                        ),
                        ".",
                        n.createElement("br", null),
                        n.createElement("br", null),
                      ),
                    n.createElement(
                      "div",
                      null,
                      n.createElement("b", null, "Have Questions?"),
                      n.createElement("br", null),
                      n.createElement("a", { href: "#" }, "Contact us"),
                      " and we'll get right back to you.",
                    ),
                    n.createElement("img", {
                      src:
                        f.TS.STORE_CDN_URL +
                        "public/cdn/email/general/logo_med.png",
                      className: kn().DevEmail_SignOff_Img,
                    }),
                    n.createElement(
                      "div",
                      { className: kn().DevEmail_Signoff },
                      n.createElement("div", null, "Sincerely,"),
                      n.createElement("div", null, "The Steam Business Team"),
                    ),
                  ),
                ),
                n.createElement(
                  "div",
                  { className: (0, y.A)(kn().DevEmail_Footer_Ctn) },
                  Boolean(
                    t.GetType() != U.YG.k_Invite &&
                      t.GetType() != U.YG.k_GeneralCommunication &&
                      t.GetType() != U.YG.k_SteamAwardFinalists,
                  ) &&
                    n.createElement(
                      "span",
                      { className: kn().DevEmail_Footer_Reason },
                      "You are receiving this email because you registered ",
                      r.GetName(),
                      " for the ",
                      c.GetName(),
                      " event on Steamworks.",
                    ),
                  n.createElement(
                    "div",
                    { className: kn().DevEmail_Footer_SubSection },
                    n.createElement("img", {
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=",
                      width: 103,
                      height: 43,
                    }),
                    n.createElement(
                      "div",
                      null,
                      n.createElement(
                        "div",
                        { className: kn().DevEmail_Footer_Bold },
                        n.createElement(
                          "strong",
                          null,
                          "© Valve Corporation",
                          n.createElement("br", null),
                          "PO Box 1688 Bellevue, WA 98009",
                        ),
                      ),
                      n.createElement(
                        "div",
                        { className: kn().DevEmail_Footer_Regular },
                        "All rights reserved. All trademarks are property of their respective owners in the US and other countries.",
                      ),
                      n.createElement(
                        "div",
                        null,
                        n.createElement(
                          "a",
                          {
                            className: _().FlexRowContainer,
                            href:
                              (f.TS.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: f.TS.IN_CLIENT ? void 0 : "_blank",
                          },
                          n.createElement("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                            width: 33,
                            height: 28,
                          }),
                          n.createElement(
                            "div",
                            { className: kn().DevEmail_Follow },
                            "Follow us on Twitter",
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
              n.createElement(
                "div",
                { className: kn().RightCol },
                n.createElement(
                  "div",
                  { className: kn().Sticky },
                  n.createElement(er, { emailDef: t }),
                  n.createElement(Xn, { emailDef: t }),
                  n.createElement(tr, { emailDef: t }),
                  n.createElement(Qn, { emailDef: t }),
                  !t.BIsReadOnly() &&
                    n.createElement(
                      "div",
                      { className: kn().AddSectionCtn },
                      n.createElement(
                        m.jn,
                        {
                          className: Xe().BasicButtonSize,
                          disabled: t.BIsReadOnly(),
                          onClick: (e) =>
                            (0, h.pg)(
                              n.createElement(On, {
                                emailDef: t,
                                storeItem: r,
                              }),
                              (0, v.uX)(e),
                            ),
                        },
                        "Add an Email Section",
                      ),
                    ),
                ),
              ),
            ),
          );
        }),
        $n = [
          "#OptIn_EmailSubject_YourInvited",
          "#OptIn_EmailSubject_YourRegistered",
          "#OptIn_EmailSubject_StartsNextWeek",
          "#OptIn_EmailSubject_NF_SpecialRequest",
          "#OptIn_EmailSubject_NF_Preview",
          "#OptIn_EmailSubject_NF_Preview_Short",
          "#OptIn_EmailSubject_NF_MarketingRequest",
          "#OptIn_EmailSubject_NF_Featuring",
          "#OptIn_EmailSubject_NF_Assets",
          "#OptIn_EmailSubject_NF_StartsToday",
          "#OptIn_EmailSubject_NF_TopPlayed",
          "#OptIn_EmailSubject_NF_Thanks",
        ];
      function Jn(e) {
        const { emailDef: t, fnSetUseCustom: a } = e,
          r = s.Mt.Get(),
          i = (0, qe.E)(),
          [l, o] = (0, Ne.q3)(() => [t.GetSubjectToken(), r.GetEventTitle(i)]),
          c = (0, n.useMemo)(
            () => $n.map((e) => ({ label: (0, R.we)(e, o), data: e })),
            [o],
          );
        return n.createElement(
          "div",
          { className: kn().SubjectPickerRow },
          n.createElement(m.m, {
            label: "Preset Email Subject Line",
            tooltip: "These are already localized subject line tokens",
            rgOptions: c,
            selectedOption: l,
            onChange: (e) => t.SetSubjectToken(e.data),
          }),
          n.createElement(
            m.$n,
            {
              onClick: () => {
                t.SetSubjectToken(void 0), a(!0);
              },
            },
            "Switch To Custom Subject",
          ),
        );
      }
      function Xn(e) {
        const { emailDef: t } = e,
          a = s.Mt.Get(),
          [r, i, l] = (0, Ne.q3)(() => [
            t.GetEmailTargeting(),
            a.GetDiscountEventID(),
            a.GetLaunchYourDemoRequired(),
          ]),
          o = (0, s.G4)();
        return o
          ? 32 == r && 0 == o.count_eligible
            ? n.createElement(
                "div",
                { className: (0, y.A)(I.WarningStylesWithIcon) },
                "Wrong Targeting: No 'eligible' apps in optin; likely want invited targeting",
              )
            : 16 == r && 0 == o.count_invited
              ? n.createElement(
                  "div",
                  { className: (0, y.A)(I.WarningStylesWithIcon) },
                  "Wrong Targeting: No apps marked 'invited' to optin",
                )
              : (64 != r && 128 != r && 256 != r) || 0 != o.count_featured
                ? 4 != r || i
                  ? 2 != r || l
                    ? null
                    : n.createElement(
                        "div",
                        { className: (0, y.A)(I.WarningStylesWithIcon) },
                        "Wrong Targeting: No launch demo date specified.",
                      )
                  : n.createElement(
                      "div",
                      { className: (0, y.A)(I.WarningStylesWithIcon) },
                      "Wrong Targeting: Missing discount event in the OptIn Def",
                    )
                : n.createElement(
                    "div",
                    { className: (0, y.A)(I.WarningStylesWithIcon) },
                    "Wrong Targeting: No apps marked 'featured' to optin",
                  )
          : null;
      }
      const Qn = (0, Le.PA)((e) => {
        const { emailDef: t } = e,
          a = Zn(t),
          r = (0, qe.E)();
        return 0 == Object.values(a).length
          ? null
          : n.createElement(
              "div",
              { className: kn().MetaDataCtn },
              t.BIsReadOnly() && n.createElement("h2", null, "Read Only"),
              n.createElement(
                "div",
                { className: kn().ConfTitle },
                "Email Configuration",
              ),
              n.createElement(
                "p",
                null,
                "The following metadata is required to render correctly",
              ),
              a.bNeedAssetKit &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Asset Kit URL:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetAssetKitURL() || "",
                    placeholder: "https://<url to asset kit>",
                    onChange: (e) => t.SetAssetKitURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedDemoPressPreviewDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Press Preview Demo is Ready Date?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetDemoPressPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetDemoPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedMaxItems &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Max Events Permitted on Schedule",
                  ),
                  n.createElement("input", {
                    type: "number",
                    min: "1",
                    disabled: t.BIsReadOnly(),
                    onChange: (e) =>
                      t.SetScheduleMaxItems(
                        Number.parseInt(e.currentTarget.value),
                      ),
                    value: t.GetScheduleMaxItems() || 2,
                    className: kn().MaxEventCount,
                  }),
                ),
              a.bNeedSalePreview &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Sale Event Preview Page (Dev Preview):",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSalePreviewPage() || "",
                    placeholder: "https://<url to public store sale page>",
                    onChange: (e) => t.SetSalePreviewURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedNextEditionDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Festival Next Edition Date for Opt-in?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetNextEditionDate() || 0,
                    fnSetTimeToUpdate: t.SetNextEditionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedQASessionDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Q&A Session Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetQASessionDate() || 0,
                    fnSetTimeToUpdate: t.SetQASessionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedTrailerDemoDeadlineDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription:
                      "Deadline for Demo Approved And Permission Granted",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetTrailerDemoDeadlineDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerDemoDeadlineDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedQASessionLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Q&A Session URL:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetQASessionLink() || "",
                    placeholder: "https://<url to zoom>",
                    onChange: (e) => t.SetQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedDemoTrailerRegLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Permission Registration URL:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetDemoTrailerRegLink() || "",
                    placeholder: "typically same full url as base event",
                    onChange: (e) =>
                      t.SetDemoTrailerRegLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedRecordedQASessionLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Recorded Q&A YouTube URL:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetRecordedQASessionLink() || "",
                    placeholder: "https://<url to YouTube>",
                    onChange: (e) =>
                      t.SetRecordedQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedCancelDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Cancel Date / Opt-Out Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetCancelDate() || 0,
                    fnSetTimeToUpdate: t.SetCancelDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedTrailerLaunchDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Official Trailer Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetTrailerLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedLivestreamLaunchDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Official Livestream Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetLivestreamLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetLivestreamLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPreviewDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Press Preview Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPermissionDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription: "Permission Deadline Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPermissionDate() || 0,
                    fnSetTimeToUpdate: t.SetPermissionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedPressPreviewVisibleDate &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(pt.K, {
                    strDescription:
                      "Press Preview will be Visible to Press/Customer on/or around date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetPressPreviewVisibleDate() || 0,
                    fnSetTimeToUpdate: t.SetPressPreviewVisibleDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              a.bNeedWikiDocumentation &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Event Wiki documentation:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetWikiDocURL() || "",
                    placeholder:
                      "https://<url to steamworks event wiki documentation>",
                    onChange: (e) => t.SetWikiDocURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedSurveyLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Event Survey link:",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSurveyLinkURL() || "",
                    placeholder: "https://<url online survey>",
                    onChange: (e) => t.SetSurveyLinkURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedGenericActionLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Action URL:",
                  ),
                  n.createElement(
                    "p",
                    null,
                    "Insert a %s into your URL anywhere you wish to replace with appID",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetGenericActionLink() || "",
                    placeholder: "https://...",
                    onChange: (e) =>
                      t.SetGenericActionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedGenericActionButtonLink &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Action Button URL:",
                  ),
                  n.createElement(
                    "p",
                    null,
                    "Insert a %s into your URL anywhere you wish to replace with appID",
                  ),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetGenericActionButtonLink() || "",
                    placeholder: "https://...",
                    onChange: (e) =>
                      t.SetGenericActionButtonLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              a.bNeedGenericActionButtonText &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Action Button Text:",
                  ),
                  n.createElement("p", null, "Text to appear on this button"),
                  n.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetGenericActionButtonText(r) || "",
                    placeholder: "Register Now!",
                    onChange: (e) =>
                      t.SetGenericActionButtonText(e.currentTarget.value, r),
                    maxLength: 240,
                  }),
                ),
              a.bNeedSteamAwardsAdvertisingApp &&
                n.createElement(
                  "div",
                  { className: kn().MetaDataRow },
                  n.createElement(
                    "div",
                    { className: kn().MetaDataRowTitle },
                    "Steam Awards Advertising Appid:",
                  ),
                  n.createElement(
                    "p",
                    null,
                    "The nomination and winners for a specific year's steam awards are tied to a hardcoded appid. Please this appid and we can verify we have the correct year",
                  ),
                  n.createElement("input", {
                    type: "number",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSteamAwardsAdApp() || 0,
                    onChange: (e) =>
                      t.SetSteamAwardsAdvertisingApp(
                        Number.parseInt(e.currentTarget.value),
                      ),
                  }),
                  n.createElement(
                    m.$n,
                    {
                      onClick: (e) =>
                        (0, h.pg)(
                          n.createElement(qn, {
                            appid: t.GetSteamAwardsAdApp(),
                          }),
                          (0, v.uX)(e),
                        ),
                    },
                    "Verify Steam Award AppID",
                  ),
                ),
              a.bNeedImageUploaded && n.createElement(jn, { emailDef: t }),
            );
      });
      function Zn(e) {
        const t = {};
        return (
          (e.GetSections() || []).forEach((e) => {
            switch (e.GetType()) {
              case U.Dj.k_AssetKit:
                t.bNeedAssetKit = !0;
                break;
              case U.Dj.k_DemoPressPreview:
                t.bNeedDemoPressPreviewDate = !0;
                break;
              case U.Dj.k_ScheduleLiveStream:
                (t.bNeedMaxItems = !0), (t.bNeedSalePreview = !0);
                break;
              case U.Dj.k_CancelSection:
                t.bNeedCancelDate = !0;
                break;
              case U.Dj.k_DemoNotReady:
                (t.bNeedCancelDate = !0), (t.bNeedNextEditionDate = !0);
                break;
              case U.Dj.k_ReviewCategorization:
                t.bNeedSalePreview = !0;
                break;
              case U.Dj.k_PressPreviewDetails:
                (t.bNeedPreviewDate = !0), (t.bNeedWikiDocumentation = !0);
                break;
              case U.Dj.k_SurveyButton:
              case U.Dj.k_CallForRegistration:
                break;
              case U.Dj.k_LearnMore:
                t.bNeedWikiDocumentation = !0;
                break;
              case U.Dj.k_MediaUsePermission:
                t.bNeedPermissionDate = !0;
                break;
              case U.Dj.k_TrailerOrDemoPermissions:
                (t.bNeedPermissionDate = !0),
                  (t.bNeedPressPreviewVisibleDate = !0);
                break;
              case U.Dj.k_NextFestQASession:
                (t.bNeedQASessionDate = !0), (t.bNeedQASessionLink = !0);
                break;
              case U.Dj.k_NextFestTips:
                t.bNeedRecordedQASessionLink = !0;
                break;
              case U.Dj.k_MediaPermissionReminder:
                (t.bNeedDemoTrailerRegLink = !0),
                  (t.bNeedTrailerDemoDeadlineDate = !0);
                break;
              case U.Dj.k_NextFestMediaUsageIntended:
                (t.bNeedTrailerLaunchDate = !0),
                  (t.bNeedLivestreamLaunchDate = !0),
                  (t.bNeedCancelDate = !0),
                  (t.bNeedWikiDocumentation = !0);
                break;
              case U.Dj.k_NextFestMediaUsageIntendedTrailer:
                (t.bNeedTrailerLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case U.Dj.k_NextFestMediaUsageIntendedLivestream:
                (t.bNeedLivestreamLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case U.Dj.k_NextFestTopGameWrapUp:
                break;
              case U.Dj.k_GenericActionLink:
                t.bNeedGenericActionLink = !0;
                break;
              case U.Dj.k_GenericActionButton:
                (t.bNeedGenericActionButtonLink = !0),
                  (t.bNeedGenericActionButtonText = !0);
                break;
              case U.Dj.k_SteamAwardsCategories:
                t.bNeedSteamAwardsAdvertisingApp = !0;
                break;
              case U.Dj.k_SeasonalFeatureRequest:
              case U.Dj.k_SeasonalFeatureDiscount:
                break;
              case U.Dj.k_ImageBoxSection:
                t.bNeedImageUploaded = !0;
            }
          }),
          t
        );
      }
      const er = (e) => {
        const { emailDef: t } = e,
          a = t.BIsReadOnly(),
          r = n.createRef(),
          i = [
            { label: Sn(1), data: 1 },
            { label: Sn(32), data: 32 },
            { label: Sn(16), data: 16 },
            { label: Sn(64), data: 64 },
            { label: Sn(128), data: 128 },
            { label: Sn(256), data: 256 },
            { label: Sn(512), data: 512 },
          ];
        return n.createElement(
          "div",
          null,
          t.BIsReadOnly() && n.createElement("h2", null, "Read Only"),
          n.createElement(
            "div",
            { className: kn().ConfTitle },
            "Email Targetting",
          ),
          n.createElement(
            "div",
            null,
            n.createElement(
              "p",
              null,
              "This defines both which opt-in games and who from the opt-in game teams are eligible to receive this email. We will fire an email per game that qualifies which may mean some users may receive more than one email, as they did the opt-in registration for more than one game",
            ),
            n.createElement(
              "p",
              null,
              "For emails like invitations, we target users with PublishApp permission AND Receive Steamworks Communication. Once an app is registered, we target the person who did the registering.",
            ),
          ),
          n.createElement(m.m, {
            label: "Who should receive this email?",
            dropDownControlRef: r,
            disabled: a,
            strDropDownClassName: _().DropDownScroll,
            rgOptions: i,
            selectedOption: t.GetEmailTargeting(),
            onChange: (e) => {
              Boolean(t.GetServerEmailDefID())
                ? (0, h.pg)(
                    n.createElement(T.o0, {
                      strTitle: "Update Targeting",
                      strDescription:
                        "Since this email is already staged. Updating the email targeting requires changing the email configuration. The target setting will be applied immediately. Proceed with the update?",
                      onOK: () => {
                        (0, z.h5)(() => {
                          t.SetEmailTargeting(e.data),
                            Be.Get().UpdateOptInEmailMetaData(t);
                        });
                      },
                      onCancel: () => {
                        r?.current?.SetSelectedOption(t.GetEmailTargeting());
                      },
                    }),
                    window,
                  )
                : t.SetEmailTargeting(e.data);
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
        );
      };
      function tr(e) {
        const { emailDef: t } = e,
          [a, r] = (0, Ne.q3)(() => [
            512 == t.GetEmailTargeting(),
            t.GetCustomAppTargetList()?.length || 0,
          ]);
        return a
          ? n.createElement(
              "div",
              { className: kn().MetaDataCtn },
              t.BIsReadOnly() && n.createElement("h2", null, "Read Only"),
              n.createElement(
                "div",
                { className: kn().ConfTitle },
                "Custom App Target List",
              ),
              n.createElement("div", null, "Apps List Size: ", r),
              n.createElement(
                m.$n,
                {
                  onClick: (e) => {
                    (0, h.pg)(
                      n.createElement(ar, { emailDef: t }),
                      (0, v.uX)(e),
                    );
                  },
                },
                "Manage Custom App List",
              ),
              n.createElement(
                m.$n,
                {
                  onClick: (e) =>
                    (0, h.pg)(
                      n.createElement(T.o0, {
                        strTitle: (0, R.we)("#Dialog_AreYouSure"),
                        onOK: () => {
                          t.ClearAllAppInCustomList();
                        },
                      }),
                      (0, v.uX)(e),
                    ),
                },
                "Clear Custom App List",
              ),
            )
          : null;
      }
      function ar(e) {
        const { emailDef: t, closeModal: a } = e,
          [r, i] = n.useState(""),
          [s, l] = n.useState(""),
          [o] = (0, Ne.q3)(() => [t.GetCustomAppTargetList()]);
        return n.createElement(
          T.o0,
          {
            strTitle: "Custom App Email Target List Manager",
            bDisableBackgroundDismiss: !0,
            onCancel: a,
            bAllowFullSize: !0,
            onOK: () => {
              r.replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const a = Number.parseInt(e);
                  a > 0 && t.AddAppToCustomList(a);
                });
              s
                .replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const a = Number.parseInt(e);
                  a > 0 && t.RemoveAppToCustomList(a);
                }),
                a();
            },
          },
          n.createElement(
            "div",
            null,
            "ADDING: Enter App IDs seperated by new lines:",
          ),
          n.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => i(e.currentTarget.value),
            value: r,
            autoFocus: !0,
          }),
          n.createElement(
            "div",
            null,
            "REMOVE: Enter App IDs seperated by new lines:",
          ),
          n.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => l(e.currentTarget.value),
            value: s,
            autoFocus: !0,
          }),
          n.createElement(
            "p",
            null,
            "After hitting ok, remember to save the optin.",
          ),
          n.createElement(
            Qe.qx,
            { title: `App List: ${o.length} Apps`, bStartMinimized: !0 },
            n.createElement(
              n.Fragment,
              null,
              o.map((e) =>
                n.createElement(nr, {
                  key: `app_${e}`,
                  appid: e,
                  fnRemoveApp: () => t.RemoveAppToCustomList(e),
                }),
              ),
            ),
          ),
        );
      }
      function nr(e) {
        const { appid: t, fnRemoveApp: a } = e,
          r = "string" == typeof t ? Number.parseInt(t) : t,
          [i] = (0, Nt.t7)(r, {});
        return n.createElement(
          "div",
          { className: kn().appItem },
          Boolean(i)
            ? n.createElement("div", null, i.GetName(), " (", t, ")")
            : n.createElement("div", null, "Store Item Not Loading Appid: ", t),
          n.createElement(
            Ke.he,
            {
              className: xn().ProgressIconError,
              onClick: a,
              toolTipContent: "Remove App From List",
            },
            n.createElement(Ve.X, null),
          ),
        );
      }
      const rr = (e) => {
        const { closeModal: t, emailDef: a } = e,
          r = (0, Ct.vs)(),
          i = (0, n.useCallback)(() => {
            r.fnSetLoading(!0),
              Be.Get()
                .CreateOptInEmail(a)
                .then((e) => {
                  if (1 != e)
                    r.fnSetError(!0),
                      r.fnSetStrError(
                        "Error: Failed to create the email on the steam server: Eresult: " +
                          e,
                      );
                  else {
                    const e = C().CancelToken.source();
                    s.Mt.Get()
                      .Save(e.token)
                      .then((e) => {
                        e
                          ? (r.fnSetError(!0),
                            r.fnSetStrError(
                              "NOTE: Email was created on the Server; saving the opt-in metadata failed. Please save again immediately or we will require to manually update the email_def_id. \n" +
                                e,
                            ))
                          : (Me(s.Mt.Get().GetFullName()),
                            r.fnSetSuccess(!0),
                            r.fnSetStrSuccess(
                              "Create Email and Opt-In Save Complete. You can close this dialog",
                            ));
                      })
                      .catch((e) => {
                        r.fnSetError(!0),
                          r.fnSetStrError(
                            "NOTE: The email failed to be created on beta\n",
                          );
                      });
                  }
                });
          }, [r, a]);
        return r.bLoading
          ? n.createElement(Ct.Hh, {
              state: r,
              strDialogTitle: "Create Email On Steam Server",
              closeModal: t,
            })
          : n.createElement(
              T.o0,
              {
                bAllowFullSize: !0,
                onCancel: t,
                strTitle: "Create Email On Steam Server",
                onOK: i,
              },
              n.createElement(
                "div",
                null,
                "Creating the email registers it with the Steam server which is then able to fire the email.",
              ),
            );
      };
      var ir = a(18202);
      function sr(e) {
        const t = s.Mt.Get(),
          [a, r] = (0, n.useState)(!1);
        t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? n.createElement(
              n.Fragment,
              null,
              Boolean(a) && n.createElement(M.t, null),
              n.createElement(
                m.$n,
                {
                  disabled: a,
                  onClick: (e) => {
                    r(!0);
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Invite,
                          internal_name: "Registration Invitation email",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_YourInvited",
                          targeting: 32,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_NextFestReturns),
                        t.AddSection(U.Dj.k_CallForRegistration),
                        t.AddSection(U.Dj.k_NextFestQASession),
                        t.AddSection(U.Dj.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_RegistrationConfirmation,
                          internal_name: "You're Registered!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_YourRegistered",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_NextFestWhatNext),
                        t.AddSection(U.Dj.k_NextFestTips),
                        t.AddSection(U.Dj.k_NextFestQASession),
                        t.AddSection(U.Dj.k_LearnMore),
                        t.AddSection(U.Dj.k_DemoNotReady);
                    }
                    {
                      const e = {
                        unique_id: Cr(),
                        type: U.YG.k_PermissionRequest,
                        internal_name: "Trailer Permissions Request",
                        sections: [],
                        subject_token: "#OptIn_EmailSubject_NF_SpecialRequest",
                        targeting: 64,
                      };
                      s.Mt.Get()
                        .AddEmailDraft(e)
                        .AddSection(U.Dj.k_MediaUsePermission);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Update,
                          internal_name: "Dev Preview",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Preview",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_ReviewCategorization),
                        t.AddSection(U.Dj.k_PressPreviewDetails),
                        t.AddSection(U.Dj.k_NextFestTips),
                        t.AddSection(U.Dj.k_NextFestQASession),
                        t.AddSection(U.Dj.k_DemoNotReady);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_PermissionRequest,
                          internal_name: "Media Permissions Reminder",
                          sections: [],
                          subject_token:
                            "#OptIn_EmailSubject_NF_MarketingRequest",
                          targeting: 64,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_MediaPermissionReminder),
                        t.AddSection(U.Dj.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Update,
                          internal_name: "Heads-up to featured apps - Trailer",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Featuring",
                          targeting: 512,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_NextFestMediaUsageIntendedTrailer),
                        t.AddSection(U.Dj.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Reminder,
                          internal_name: "Press Preview Reminder",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Assets",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_PressPreviewDetails),
                        t.AddSection(U.Dj.k_DemoReview),
                        t.AddSection(U.Dj.k_DemoLaunch),
                        t.AddSection(U.Dj.k_ReviewCategorization),
                        t.AddSection(U.Dj.k_NextFestQASession),
                        t.AddSection(U.Dj.k_NextFestTips),
                        t.AddSection(U.Dj.k_AssetKit),
                        t.AddSection(U.Dj.k_CancelSection);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Starting,
                          internal_name: "Going Live Now!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_StartsToday",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_NextFestStartsNow),
                        t.AddSection(U.Dj.k_DemoLaunch),
                        t.AddSection(U.Dj.k_CancelSection);
                    }
                    {
                      const e = {
                        unique_id: Cr(),
                        type: U.YG.k_GeneralCommunication,
                        internal_name: "Next Fest Top Games Wrapup",
                        sections: [],
                        subject_token: "#OptIn_EmailSubject_NF_TopPlayed",
                        targeting: 512,
                      };
                      s.Mt.Get()
                        .AddEmailDraft(e)
                        .AddSection(U.Dj.k_NextFestTopGameWrapUp);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Followup,
                          internal_name: "Thanks for a great Steam Next Fest!",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_NF_Thanks",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_NextFestThankYou),
                        t.AddSection(U.Dj.k_SurveyButton),
                        t.AddSection(U.Dj.k_MeasureResultsNextFest);
                    }
                    r(!1);
                  },
                },
                "Next Fest: Create Templated Emails ",
                n.createElement(
                  Ke.he,
                  {
                    toolTipContent:
                      "For next fest, this will automatically create all of the email templates required for operating the festival",
                  },
                  " (?) ",
                ),
              ),
            )
          : null;
      }
      const lr = (e) => {
        const { closeModal: t, emailDef: a } = e,
          [r, i] = n.useState(void 0),
          l = (0, Ct.vs)();
        return l.bLoading
          ? n.createElement(Ct.Hh, {
              state: l,
              strDialogTitle: "Send Manual OptIn Email",
              closeModal: t,
            })
          : n.createElement(
              T.o0,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Send Manual OptIn Email Now?",
                strOKButtonText: "Send Now",
                onOK: () => {
                  l.fnSetLoading(!0),
                    Be.Get()
                      .SendManualEmail(a)
                      .then((e) => {
                        1 != e.eResult
                          ? (l.fnSetError(!0),
                            l.fnSetStrError(
                              "Send Error: Failed to send the email from the Steam server: Eresult: " +
                                e.eResult,
                            ))
                          : (Me(s.Mt.Get().GetFullName()),
                            l.fnSetSuccess(!0),
                            l.fnSetElSuccess(
                              n.createElement(or, { doneStats: e.stats || {} }),
                            ));
                      });
                },
              },
              n.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually fire the email to the recipients. Once you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function or(e) {
        const { doneStats: t } = e;
        return n.createElement(
          "div",
          null,
          n.createElement("br", null),
          "Send Completed. You can close this dialog",
          n.createElement("br", null),
          n.createElement("br", null),
          n.createElement(
            "div",
            null,
            "Accounts Examined: ",
            t?.accounts_examined || 0,
          ),
          n.createElement(
            "div",
            null,
            "Emails Sent: ",
            t?.accounts_emailed || 0,
          ),
          n.createElement(
            "div",
            null,
            "Why is email sent higher than account examined?  Some users may be associated with more than one app and will receive more than one email",
          ),
          n.createElement(
            "div",
            null,
            "Emails Skipped (user opted out): ",
            t?.accounts_not_emailed_opted_out || 0,
          ),
          n.createElement(
            "div",
            null,
            "Emails Failed to Send: ",
            t?.accounts_email_failed || 0,
          ),
        );
      }
      var cr = a(24071),
        mr = a(64177);
      function dr(e) {
        const { emailEditModel: t, serverDef: a } = e,
          r = a.opt_in_name,
          { rgEmailSentList: i, oEmailSummary: s } = (function (e) {
            const t = (0, x.I)({
                queryKey: ["COptInEmailAdmin", "GetEmailDetails", e],
                queryFn: () => Be.Get().FetchPartnerOptInEmailDetails(e),
              }),
              a = (0, n.useMemo)(() => {
                const e = new Set(),
                  a = new Set(),
                  n = new Set(),
                  r = new Set();
                t?.data?.forEach((t) => {
                  e.add(t.appid),
                    1 == t.status && a.add(t.appid),
                    t.partnerid &&
                      (n.add(t.partnerid), 1 == t.status && r.add(t.partnerid));
                });
                const i = Array.from(e).filter((e) => !a.has(e)),
                  s = Array.from(n).filter((e) => !r.has(e));
                return {
                  unique_appid_count: e.size,
                  appid_emailed: a.size,
                  rg_appid_not_emailed: i,
                  unique_partner_count: n.size,
                  partner_eailed: r.size,
                  rg_partner_not_emailed: s,
                };
              }, [t]);
            return { rgEmailSentList: t.data, oEmailSummary: a };
          })(t.GetServerEmailDefID()),
          [l, o] = (0, n.useState)(!1),
          c = Wa(r),
          [d, u] = (0, n.useState)(!1);
        (0, n.useEffect)(() => {
          if (i && !l && c) {
            const e = new Set(i?.map((e) => e.appid).filter(Boolean));
            c.invited_appids?.forEach((t) => e.add(t));
            const t = Array.from(e);
            Pt.A.Get()
              .QueueMultipleAppRequests(t, { include_release: !0 })
              .then(() => o(!0));
          }
        }, [i, l, c]);
        const [p, g, h, E, S, y, v, f] = (0, n.useMemo)(() => {
          let e = 0,
            t = 0,
            a = 0,
            n = 0,
            r = 0,
            s = 0,
            l = 0;
          const o = new Set();
          if (c) {
            const m = new Set(i?.map((e) => e.appid).filter(Boolean));
            m.forEach((i) => {
              let o = !1;
              c.eligible_appids.has(i) && ((e += 1), (o = !0)),
                c.opted_in_appids.has(i) && ((t += 1), (o = !0)),
                c.opted_out_appids.has(i) && ((a += 1), (o = !0)),
                c.invited_appids.has(i) && ((n += 1), (o = !0)),
                c.pruned_appids.has(i) && ((r += 1), (o = !0)),
                c.featured_appids.has(i) && ((s += 1), (o = !0)),
                o || (l += 1);
            }),
              c.invited_appids.forEach((e) => {
                e && !m.has(e) && o.add(e);
              });
          }
          return [e, t, a, n, r, s, l, o];
        }, [i, c]);
        if (!i || !l || !c) {
          let e = (0, R.we)("#Loading");
          return (
            i
              ? l
                ? c || (e = "Loading App OptIn Breakdown")
                : (e = "Loading App Details")
              : (e = "Loading Raw Email Stats"),
            n.createElement(M.t, {
              position: "center",
              size: "medium",
              string: e,
            })
          );
        }
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total Appid:",
            n.createElement("span", null, s.unique_appid_count),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Appid Emailed:",
            n.createElement("span", null, s.appid_emailed),
          ),
          n.createElement(
            Ke.he,
            {
              toolTipContent:
                "Attempted to email these apps however all users opted out of receiving communication.",
            },
            n.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Appid not Emails (?):",
              n.createElement("span", null, s.rg_appid_not_emailed.length),
            ),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total PartnerID:",
            n.createElement("span", null, s.unique_partner_count),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "PartnerID Emailed:",
            n.createElement("span", null, s.partner_eailed),
          ),
          n.createElement(
            Ke.he,
            {
              toolTipContent:
                "Attempted to email these Partenr however all users opted out of receiving communication.",
            },
            n.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "PartnerID not Emails:",
              s.rg_partner_not_emailed.length,
            ),
          ),
          n.createElement("br", null),
          n.createElement(
            "div",
            null,
            "Emailed Apps based on Latest Refresh Stats",
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Eligible Apps:",
            n.createElement("span", null, p),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted In App:",
            n.createElement("span", null, g),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted Out App:",
            n.createElement("span", null, h),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Invited App:",
            n.createElement("span", null, E),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Pruned App:",
            n.createElement("span", null, S),
          ),
          n.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Featured App:",
            n.createElement("span", null, y),
          ),
          n.createElement(
            Ke.he,
            {
              toolTipContent:
                "These apps need investigation as they were emailed but are not in any known set of apps associated with the events. See the csv for list.",
            },
            n.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Not In Any Above List (?):",
              n.createElement("span", null, v),
            ),
          ),
          n.createElement(
            Ke.he,
            {
              toolTipContent:
                "We did not email these invited apps. Either they were invited after the email OR we couldn't find a user to email",
            },
            n.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Invited App Not Emailed (?):",
              n.createElement("span", null, f.size),
            ),
          ),
          Boolean(f.size) &&
            n.createElement(
              n.Fragment,
              null,
              Boolean(d)
                ? n.createElement(ur, {
                    strOptInName: r,
                    setInvitedAppMissingEmail: f,
                    serverDef: a,
                  })
                : n.createElement(m.Yh, {
                    label: "Expand Invited Users Missing Emails",
                    checked: d,
                    onChange: u,
                  }),
            ),
          n.createElement("br", null),
          n.createElement(
            m.jn,
            {
              onClick: () =>
                (function (e, t, a) {
                  const n = e.map((e) => {
                      const a = Pt.A.Get().GetApp(e.appid);
                      let n;
                      switch (e.status) {
                        case 0:
                          n = "uninitialized";
                          break;
                        case 1:
                          n = "success";
                          break;
                        case 2:
                          n = "generic failed";
                          break;
                        default:
                          n = "error code: " + e.status;
                      }
                      return {
                        accountid: e.accountid,
                        appid: e.appid,
                        appName: a?.GetName() || "unknown",
                        bReleased: a?.BIsReleased() || !1,
                        releaseDate: a?.BIsReleased()
                          ? (0, R.TW)(a.GetReleaseDateRTime())
                          : "",
                        timeNotified:
                          (0, R.TW)(e.rtime_notified) +
                          " " +
                          (0, ja.KC)(e.rtime_notified, {
                            bForce24HourClock: !1,
                          }),
                        status: n,
                        sentTime:
                          (0, R.TW)(e.rtime_notified) +
                          " " +
                          (0, ja.KC)(e.send_rtime, { bForce24HourClock: !1 }),
                        bSkipEmailingSinceEmailUnverified:
                          e.ignored_unverified_email,
                        bSkipEmailingAccountOptedOut: e.ignored_email_optout,
                        bEligible: t.eligible_appids.has(e.appid),
                        bOptedIn: t.opted_in_appids.has(e.appid),
                        bOptedOut: t.opted_out_appids.has(e.appid),
                        bInvited: t.invited_appids.has(e.appid),
                        bPruned: t.pruned_appids.has(e.appid),
                        bFeatured: t.featured_appids.has(e.appid),
                        bNotInAnyList: !(
                          t.eligible_appids.has(e.appid) ||
                          t.opted_in_appids.has(e.appid) ||
                          t.opted_out_appids.has(e.appid) ||
                          t.invited_appids.has(e.appid) ||
                          t.pruned_appids.has(e.appid) ||
                          t.featured_appids.has(e.appid)
                        ),
                      };
                    }),
                    r = new Set(e.map((e) => e.appid).filter(Boolean));
                  let i = t.invited_appids;
                  512 == a.GetEmailTargeting() &&
                    (i = new Set(a.GetCustomAppTargetList()));
                  i?.forEach((e) => {
                    if (e && !r.has(e)) {
                      const a = Pt.A.Get().GetApp(e);
                      n.push({
                        appid: e,
                        appName: a?.GetName() || "unknown",
                        bReleased: a?.BIsReleased() || !1,
                        releaseDate: a?.BIsReleased()
                          ? (0, R.TW)(a.GetReleaseDateRTime())
                          : "",
                        status: "Not Emailed",
                        bEligible: t.eligible_appids.has(e),
                        bOptedIn: t.opted_in_appids.has(e),
                        bOptedOut: t.opted_out_appids.has(e),
                        bInvited: t.invited_appids.has(e),
                        bPruned: t.pruned_appids.has(e),
                        bFeatured: t.featured_appids.has(e),
                        bNotInAnyList: !1,
                      });
                    }
                  }),
                    Qa.g.WriteCSVToFile(n, "email_result_list.csv");
                })(i, c, t),
            },
            "Download CSV",
          ),
        );
      }
      function ur(e) {
        const {
            setInvitedAppMissingEmail: t,
            strOptInName: a,
            serverDef: r,
          } = e,
          {
            rgAppInvitedAfterEmail: i,
            rgAppWithoutPromotionContact: s,
            rgAppUnknownReasons: l,
            strReason: o,
          } = (function (e, t, a) {
            const r = (0, n.useMemo)(() => Array.from(t || []), [t]),
              i = (0, kt.Iy)(e, r),
              s = (0, mr.p0)(r),
              l = (0, n.useMemo)(
                () =>
                  Array.from(s?.values() || [])
                    .filter((e) => e?.length > 0)
                    .map((e) => e[0].partner_id),
                [s],
              ),
              o = (0, cr.k)(l),
              c = (0, n.useMemo)(
                () =>
                  s && o
                    ? r.filter((e) => {
                        const t = s.get(e);
                        if (t?.length > 0) {
                          const e = o.get(t[0].partner_id);
                          if (e?.length > 0 && Boolean(e[0])) return !1;
                        }
                        return !0;
                      })
                    : null,
                [s, o, r],
              ),
              m = (0, n.useMemo)(
                () => r.filter((e) => i?.get(e)?.time_updated > a),
                [i, r, a],
              ),
              d = (0, n.useMemo)(
                () =>
                  m && c
                    ? r.filter(
                        (e) =>
                          -1 == m.findIndex((t) => e == t) &&
                          -1 == c.findIndex((t) => e == t),
                      )
                    : null,
                [r, m, c],
              );
            let u = null;
            return (
              (s && o && c && i && m && d) ||
                (u = s
                  ? o
                    ? c
                      ? i
                        ? m
                          ? d
                            ? (0, R.we)("#Loading")
                            : "Computing Unexplained Apps"
                          : "Computing App Registrations"
                        : "Fetching Opt In Registrations per App"
                      : "computing games without comm"
                    : "Loading Contact info for Partners"
                  : "Loading Partner Info For Apps"),
              {
                rgAppInvitedAfterEmail: m,
                rgAppWithoutPromotionContact: c,
                rgAppUnknownReasons: d,
                strReason: u,
              }
            );
          })(a, t, r.last_update_time);
        return o
          ? n.createElement(M.t, {
              size: "small",
              string: o,
              position: "center",
            })
          : n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Apps Added After Email Sent:",
                n.createElement("span", null, i.length),
              ),
              n.createElement(
                Ke.he,
                {
                  toolTipContent:
                    "We can only send emails to users who either took an optin action or is a memmber of the partner which permits emails. These app has neither.",
                },
                n.createElement(
                  "div",
                  { className: _().FlexRowWrapSpaceBetweenContainer },
                  "** Apps without comm users (?):",
                  n.createElement("span", null, s.length),
                ),
              ),
              n.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Unknown Reason:",
                n.createElement("span", null, l.length),
              ),
            );
      }
      const pr = (e) => {
        const { closeModal: t, emailDef: a } = e,
          r = (0, Ct.vs)();
        return r.bLoading
          ? n.createElement(Ct.Hh, {
              state: r,
              strDialogTitle: "Test Fire",
              closeModal: t,
            })
          : n.createElement(
              T.o0,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Test Email Fire to yourself?",
                strOKButtonText: "Test Email Now",
                onOK: () => {
                  r.fnSetLoading(!0);
                  let e = 220;
                  if (a.BHasSteamAwardsAdApp() && a.GetCustomAppTargetList()) {
                    const t = a.GetCustomAppTargetList();
                    e = t[Math.floor(Math.random() * t.length)];
                  }
                  Be.Get()
                    .TestFireEmailToSelf(a, e)
                    .then((e) => {
                      1 != e
                        ? (r.fnSetError(!0),
                          r.fnSetStrError(
                            "Send Error: Failed to test the email from the Steam server: Eresult: " +
                              e,
                          ))
                        : (r.fnSetSuccess(!0),
                          r.fnSetStrSuccess(
                            "Test Email Completed. Check your inbox. You can close this dialog",
                          ));
                    });
                },
              },
              n.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually test fire this to myself, as verification of the final emails look and feel and content.\tOnce you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function _r(e) {
        const t = s.Mt.Get(),
          [a, r] = (0, n.useState)(!1);
        t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? null
          : n.createElement(
              n.Fragment,
              null,
              Boolean(a) && n.createElement(M.t, null),
              n.createElement(
                m.$n,
                {
                  disabled: a,
                  onClick: (e) => {
                    r(!0);
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Invite,
                          internal_name: "Initial Registration Invite",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_YourInvited",
                          targeting: 32,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_Custom),
                        t.AddSection(U.Dj.k_CallForRegistration),
                        t.AddSection(U.Dj.k_EnterDiscount),
                        t.AddSection(U.Dj.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_PermissionRequest,
                          internal_name:
                            "Secondary marketing materials request",
                          sections: [],
                          subject_token:
                            "#OptIn_EmailSubject_NF_SpecialRequest",
                          targeting: 512,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_MediaUsePermission),
                        t.AddSection(U.Dj.k_EnterDiscountReminder),
                        t.AddSection(U.Dj.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Cr(),
                          type: U.YG.k_Reminder,
                          internal_name: "Reminder Email",
                          sections: [],
                          subject_token: "#OptIn_EmailSubject_StartsNextWeek",
                          targeting: 1,
                        },
                        t = s.Mt.Get().AddEmailDraft(e);
                      t.AddSection(U.Dj.k_AssetKit),
                        t.AddSection(U.Dj.k_EnterDiscountReminder),
                        t.AddSection(U.Dj.k_LearnMore),
                        t.AddSection(U.Dj.k_CancelSection);
                    }
                    r(!1);
                  },
                },
                "Theme Sales: Create Templated Emails ",
                n.createElement(
                  Ke.he,
                  { toolTipContent: "Emails for regular theme sales" },
                  " (?) ",
                ),
              ),
            );
      }
      const gr = (0, In.y)(
          (0, Le.PA)((e) => {
            const t = s.Mt.Get(),
              a = t.GetFullName(),
              { bLoading: r, rgEmailDefAndStats: i } = Te(a);
            (0, n.useEffect)(
              () => (
                vn.Get().SetSelectionFromQueryParams(e.history),
                () => vn.Get().SetSelection(void 0, void 0, e.history)
              ),
              [a, e.history],
            );
            const [l] = (0, Ne.q3)(() => [t.GetEventTitle(0)]),
              o = new Map();
            let c = null;
            if (r)
              return n.createElement(M.t, {
                size: "medium",
                position: "center",
                string: (0, R.we)("#Loading"),
              });
            i
              ? i.forEach((e) => o.set(e.email_def_id, e))
              : (c = t.BIsOptInEnabled()
                  ? n.createElement(
                      "div",
                      { className: I.WarningStylesWithIcon },
                      "Warning: We failed to load Email Definitions and Stats from the server. This means we cannot determine which emalis have already been sent and thus we cannot fire an email in this state. However emails can be created, edited and localized.",
                    )
                  : n.createElement(
                      "div",
                      { className: I.WarningStylesWithIcon },
                      "Opt-in isn't enabled. You can create, edit and localized emalis. You canont stage or send emails on an inactive opt-in.",
                    ));
            const d = new Array(),
              u = new Array(),
              p = new Array();
            let _ = null;
            return (
              (t.GetEmailDefinitions() || []).forEach((t) => {
                const a = t === vn.Get().GetSelection();
                if (t.BIsDraftEmail())
                  p.push(
                    n.createElement(
                      Dr,
                      {
                        key: "draft" + t.GetUniqueID(),
                        emailEditModel: t,
                        bSelected: a,
                        history: e.history,
                      },
                      n.createElement(Sr, { emailEditModel: t }),
                    ),
                  );
                else {
                  const r = t.GetServerEmailDefID(),
                    i = o.get(r);
                  i
                    ? i.stats && i.stats.completed
                      ? d.push(
                          n.createElement(
                            Dr,
                            {
                              key: "sent" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: a,
                              serverDef: i,
                              history: e.history,
                            },
                            n.createElement(yr, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                      : u.push(
                          n.createElement(
                            Dr,
                            {
                              key: "staged" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: a,
                              serverDef: i,
                              history: e.history,
                            },
                            n.createElement(vr, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                    : (_ || console.log(o), (_ = t));
                }
              }),
              _
                ? n.createElement(
                    "div",
                    null,
                    "Error: Server has a different mapping for stage/sent email: ",
                    _.GetServerEmailDefID(),
                    " - ",
                    _.GetUniqueID(),
                    " - ",
                    typeof _.GetServerEmailDefID(),
                    ". Reach out to steam-events to investigate",
                  )
                : n.createElement(
                    "div",
                    { className: ir.EmailAdmin },
                    c,
                    n.createElement("h1", null, "Email Dashboard"),
                    n.createElement(
                      "div",
                      null,
                      "This tool lets you create, send or schedule to send one or more emails to users who have opted-in to this specific event. This is useful for setting up reminders to take action or links to help them fully participate in an event.",
                    ),
                    Boolean(!l || 0 == l.length) &&
                      n.createElement(
                        "div",
                        { className: I.WarningStylesWithIcon },
                        "Warning: Event Title is missing. Email cannot be previewed or fired without an event title defined in the editor.",
                      ),
                    d.length > 0 &&
                      n.createElement(
                        "div",
                        null,
                        n.createElement(
                          "h2",
                          null,
                          "Sent Emails (",
                          d.length,
                          ")",
                        ),
                        n.createElement(
                          "div",
                          { className: ir.EmailsCtn },
                          n.createElement(
                            "table",
                            null,
                            n.createElement(
                              "thead",
                              null,
                              n.createElement(
                                "tr",
                                null,
                                n.createElement("th", null, "Name"),
                                n.createElement("th", null, "Type"),
                                n.createElement(
                                  "th",
                                  null,
                                  n.createElement(
                                    Ke.he,
                                    {
                                      toolTipContent:
                                        "This is the number of unique accounts encountered; this can be less than email to send/sent as an account registering multiple opt-ins, will get separate emails for each app opted in.",
                                    },
                                    "Accounts",
                                    n.createElement("br", null),
                                    "Examined (?):",
                                  ),
                                ),
                                n.createElement(
                                  "th",
                                  null,
                                  n.createElement(
                                    Ke.he,
                                    {
                                      toolTipContent:
                                        "Email sent can be higher than account examined if a user registered more than one app",
                                    },
                                    "Accounts",
                                    n.createElement("br", null),
                                    "Emailed (?):",
                                  ),
                                ),
                                n.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  n.createElement("br", null),
                                  "opted out:",
                                ),
                                n.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  n.createElement("br", null),
                                  "Failed:",
                                ),
                                n.createElement("th", null, "Clone"),
                                n.createElement("th", null, "Preview"),
                                n.createElement("th", null, "Results"),
                                n.createElement("th", null, "Details"),
                              ),
                            ),
                            n.createElement(
                              "tbody",
                              null,
                              d.length > 0
                                ? d
                                : n.createElement(
                                    "span",
                                    null,
                                    "No sent email",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    u.length > 0 &&
                      n.createElement(
                        "div",
                        null,
                        n.createElement(
                          "h2",
                          null,
                          "Staged/Scheduled Emails (",
                          u.length,
                          ")",
                        ),
                        n.createElement(
                          "div",
                          { className: ir.EmailsCtn },
                          n.createElement(
                            "table",
                            null,
                            n.createElement(
                              "thead",
                              null,
                              n.createElement(
                                "tr",
                                null,
                                n.createElement("th", null, "Name"),
                                n.createElement("th", null, "Type"),
                                n.createElement("th", null, "Type"),
                                n.createElement(
                                  "th",
                                  null,
                                  "Estimated To Mail",
                                ),
                                n.createElement(
                                  "th",
                                  null,
                                  "Estimated To Skip",
                                ),
                                n.createElement("th", null, "Send"),
                                n.createElement("th", null, "Schedule"),
                                n.createElement("th", null, "Test"),
                                n.createElement("th", null, "Preview"),
                                n.createElement("th", null, "Clone"),
                              ),
                            ),
                            n.createElement(
                              "tbody",
                              null,
                              u.length > 0
                                ? u
                                : n.createElement(
                                    "span",
                                    null,
                                    "No staged Emails",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    n.createElement(
                      "div",
                      { className: ir.EmailTypesCtn },
                      n.createElement(
                        "h2",
                        null,
                        "Draft Emails (",
                        p.length,
                        ")",
                      ),
                      n.createElement(
                        "div",
                        { className: ir.EmailsCtn },
                        n.createElement(
                          "table",
                          null,
                          n.createElement(
                            "thead",
                            null,
                            n.createElement(
                              "tr",
                              null,
                              n.createElement("th", null, "Name"),
                              n.createElement("th", null, "Type"),
                              n.createElement("th", null, "Sections"),
                              n.createElement("th", null, "Targeting"),
                              n.createElement("th", null, "Stage"),
                            ),
                          ),
                          n.createElement(
                            "tbody",
                            null,
                            Boolean(p.length > 0)
                              ? p
                              : n.createElement("div", null, "No Drafts"),
                          ),
                        ),
                      ),
                      n.createElement(
                        "div",
                        { className: ir.CreationRow },
                        n.createElement(
                          m.$n,
                          {
                            className: Xe().BasicButtonSize,
                            onClick: (t) =>
                              (0, h.pg)(
                                n.createElement(hr, { history: e.history }),
                                (0, v.uX)(t),
                              ),
                          },
                          "Create New Email Draft",
                        ),
                        n.createElement(sr, null),
                        n.createElement(_r, null),
                      ),
                    ),
                    n.createElement("hr", null),
                    Boolean(vn.Get().BHasSelection())
                      ? n.createElement(Yn, {
                          emailDef: vn.Get().GetSelection(),
                          appid: 220,
                        })
                      : n.createElement(
                          "div",
                          null,
                          "No email selected for edit/viewing. Create or select an existing email",
                        ),
                  )
            );
          }),
        ),
        hr = (e) => {
          const { closeModal: t } = e,
            [a, r] = n.useState(""),
            [i, l] = n.useState(U.YG.k_RegistrationConfirmation),
            o = (0, n.useCallback)(() => {
              const n = {
                  unique_id: Cr(),
                  type: i,
                  internal_name: a,
                  sections: [],
                },
                r = s.Mt.Get().AddEmailDraft(n);
              vn.Get().SetSelection(r, void 0, e.history), t();
            }, [t, i, a, e.history]);
          return n.createElement(
            T.eV,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            n.createElement(m.Y9, null, "Create New Email Draft"),
            n.createElement(
              m.nB,
              null,
              n.createElement(
                "div",
                null,
                "Enter an internal name for the email. This is only for us to see and differentiate emails.",
              ),
              n.createElement("input", {
                type: "text",
                value: a,
                placeholder: "Enter Internal Name",
                onFocus: (e) => e.target.select(),
                onChange: (e) => r(e.currentTarget.value),
                maxLength: 240,
              }),
              n.createElement(Er, { curValue: i, fnOnChange: l }),
            ),
            n.createElement(
              m.wi,
              null,
              n.createElement(m.CB, {
                bOKDisabled: 0 == a.trim().length,
                onCancel: t,
                onOK: o,
              }),
            ),
          );
        },
        Er = (e) => {
          const { curValue: t, fnOnChange: a } = e,
            r = U.Zg.map((e) => ({ label: (0, U.AE)(e), data: e }));
          return n.createElement(m.m, {
            label: "Email Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: r,
            selectedOption: t,
            onChange: (e) => a(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        Sr = (e) => {
          const { emailEditModel: t } = e,
            a = s.Mt.Get(),
            r = (0, qe.E)();
          return n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "td",
              { className: ir.EmailTitle },
              t.GetSubject(r) || t.GetInternalName(),
            ),
            n.createElement("td", null, (0, U.AE)(t.GetType())),
            n.createElement("td", null, t.GetNumberSections().toLocaleString()),
            n.createElement(
              "td",
              { className: ir.EmailStatusTodo },
              Sn(t.GetEmailTargeting()),
            ),
            n.createElement(
              "td",
              null,
              n.createElement(
                m.$n,
                {
                  className: Xe().BasicButtonSize,
                  disabled: Be.Get().BHasEmailDefLoadFailure(a.GetFullName()),
                  onClick: (e) =>
                    (0, h.pg)(
                      n.createElement(rr, { emailDef: t }),
                      (0, v.uX)(e),
                    ),
                },
                "Stage Email For Sending",
              ),
            ),
          );
        },
        yr = (e) => {
          const { emailEditModel: t, serverDef: a } = e,
            r = (0, qe.E)(),
            [i, s] = (0, n.useState)(!1);
          return (
            (0, n.useEffect)(() => {
              t.SetReadOnly(!0);
            }, [t]),
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "td",
                { className: ir.EmailTitle },
                t.GetSubject(r) || t.GetInternalName(),
              ),
              n.createElement(
                "td",
                { className: ir.EmailType },
                (0, U.AE)(t.GetType()),
              ),
              n.createElement(
                "td",
                null,
                n.createElement("span", null, a?.stats?.accounts_examined || 0),
              ),
              n.createElement(
                "td",
                null,
                n.createElement("span", null, a?.stats?.accounts_emailed || 0),
              ),
              n.createElement(
                "td",
                null,
                n.createElement(
                  "span",
                  null,
                  a?.stats?.accounts_not_emailed_opted_out || 0,
                ),
              ),
              n.createElement(
                "td",
                null,
                n.createElement(
                  "span",
                  null,
                  a?.stats?.accounts_email_failed || 0,
                ),
              ),
              n.createElement(
                "td",
                null,
                n.createElement(
                  m.$n,
                  {
                    className: (0, y.A)(Xe().BasicButtonSize, ir.CloneBtn),
                    onClick: () => Ir(t),
                  },
                  "Clone",
                ),
              ),
              n.createElement(
                "td",
                { className: ir.NoWrap },
                n.createElement(wr, { emailEditModel: t }),
              ),
              n.createElement(
                "td",
                { className: ir.NoWrap },
                n.createElement(fn, { serverDef: a, emailEditModel: t }),
              ),
              n.createElement(
                "td",
                null,
                i
                  ? n.createElement(dr, { emailEditModel: t, serverDef: a })
                  : n.createElement(m.Yh, {
                      label: "Show Details",
                      checked: i,
                      onChange: s,
                    }),
              ),
            )
          );
        };
      function vr(e) {
        const { emailEditModel: t, serverDef: a } = e,
          r = (0, qe.E)(),
          [i, s] = (function (e) {
            const [t, a] = n.useState(!Be.Get().BHasReachEstimateLoaded(e));
            return (
              (0, n.useEffect)(() => {
                Be.Get().BHasReachEstimateLoaded(e)
                  ? a(!1)
                  : Be.Get()
                      .LoadEstimateEmailReach(e)
                      .finally(() => a(!1));
              }, [e]),
              [t, Be.Get().GetReachEstimate(e)]
            );
          })(a.email_def_id);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "td",
            { className: ir.EmailTitle },
            t.GetSubject(r) || t.GetInternalName(),
          ),
          n.createElement(
            "td",
            { className: ir.EmailType },
            "Type: ",
            (0, U.AE)(t.GetType()),
          ),
          n.createElement(
            "td",
            null,
            Boolean(a.start_rtime)
              ? n.createElement(
                  "span",
                  null,
                  "Scheduled:",
                  (0, R.TW)(a.start_rtime),
                  n.createElement("span", null, " - "),
                  (0, ja.KC)(a.start_rtime, { bForce24HourClock: !1 }),
                )
              : "Manual Email",
          ),
          n.createElement(
            "td",
            null,
            i
              ? n.createElement(M.t, {
                  size: "small",
                  string: (0, R.we)("#Loading"),
                })
              : n.createElement(
                  "span",
                  null,
                  s ? s.accounts_emailed : "error loading estimate",
                ),
          ),
          n.createElement(
            "td",
            null,
            i
              ? n.createElement(M.t, {
                  size: "small",
                  string: (0, R.we)("#Loading"),
                })
              : n.createElement(
                  "span",
                  null,
                  s
                    ? s.accounts_not_emailed_opted_out
                    : "error loading estimate",
                ),
          ),
          n.createElement(
            "td",
            { className: ir.NoWrap },
            n.createElement(
              m.$n,
              {
                className: Xe().BasicButtonSize,
                onClick: (e) =>
                  (0, h.pg)(n.createElement(lr, { emailDef: t }), (0, v.uX)(e)),
              },
              "Send ACTUAL Email Now",
            ),
          ),
          n.createElement(
            "td",
            { className: ir.NoWrap },
            n.createElement(wn, { emailEditModel: t, serverDef: a }),
          ),
          n.createElement(fr, { emailEditModel: t }),
        );
      }
      function fr(e) {
        const { emailEditModel: t } = e;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "td",
            { className: ir.NoWrap },
            n.createElement(
              m.$n,
              {
                className: Xe().BasicButtonSize,
                onClick: (e) =>
                  (0, h.pg)(n.createElement(pr, { emailDef: t }), (0, v.uX)(e)),
              },
              "Test Email fired To Myself",
            ),
          ),
          n.createElement(
            "td",
            { className: ir.NoWrap },
            n.createElement(wr, { emailEditModel: t }),
          ),
          n.createElement(
            "td",
            { className: ir.NoWrap },
            n.createElement(
              m.$n,
              { className: Xe().BasicButtonSize, onClick: () => Ir(t) },
              "Clone",
            ),
          ),
        );
      }
      function br(e) {
        const t = (0, Bn.Jo)(e.GetSteamAwardsAdApp());
        if (e.BHasSteamAwardsAdApp()) {
          if (t.isLoading) return;
          return (0, Ye.rj)(t.data.votes, 2).map((e) => e.localization.title);
        }
        return null;
      }
      function wr(e) {
        const { emailEditModel: t } = e,
          a = br(t);
        let r = f.TS.STORE_BASE_URL + "email/PartnerAppOptIn/?";
        return (
          t.GetType() == U.YG.k_Invite
            ? (r += "partner_name=Valve%20Games&")
            : (r += "appid=220&"),
          (r += "optouttoken=aa&settingflag=0"),
          (r += "&optinname=" + s.Mt.Get().GetFullName()),
          (r += "&emailtemplateid=" + t.GetUniqueID()),
          (r += "&force_text_view=0"),
          a?.length > 0 &&
            (r += "&steamawardcategories=" + encodeURIComponent(a.join(","))),
          n.createElement(
            Ke.he,
            {
              toolTipContent:
                "You can update the URL using ?l=<language> to test the variousl localization",
            },
            Boolean(void 0 === a)
              ? n.createElement(M.t, {
                  size: "small",
                  string: "Loading Steam Award Categories",
                })
              : n.createElement(
                  m.$n,
                  {
                    className: Xe().BasicButtonSize,
                    onClick: (e) => (0, S.Id)(e, r),
                  },
                  "Web Preview",
                ),
          )
        );
      }
      const Dr = (0, Le.PA)((e) => {
        const { emailEditModel: t, bSelected: a, serverDef: r } = e;
        return n.createElement(
          "tr",
          {
            onClick: () => vn.Get().SetSelection(t, r, e.history),
            className: (0, y.A)({ [ir.TileContainer]: !0, [ir.Selected]: a }),
          },
          e.children,
        );
      });
      function Cr() {
        const e = s.Mt.Get();
        let t = Math.floor(1 + 1e5 * Math.random());
        for (; e.GetEmailDefinitionByID(U.dv + t); )
          t = Math.floor(1 + 1e5 * Math.random());
        return U.dv + t;
      }
      function Ir(e) {
        const t = {
          ...e.GetModel(),
          unique_id: Cr(),
          email_def_id: void 0,
          internal_name: "Clone Of: " + e.GetInternalName(),
          sections: e.GetSections().map((e) => ({ ...e.GetModel() })),
        };
        s.Mt.Get().AddEmailDraft(t);
      }
      var Br = a(25228),
        Tr = a(87669);
      function Mr(e) {
        return n.createElement(
          "div",
          {
            className: _().EditPreviewButton,
            onClick: (e) => {
              (0, h.pg)(n.createElement(Ar, null), (0, v.uX)(e));
            },
          },
          "Export Localization",
        );
      }
      function Ar(e) {
        const { closeModal: t } = e,
          a = s.Mt.Get().GetModel(),
          [r, i] = n.useState(!0),
          [l, o] = n.useState(new Array());
        return n.createElement(
          T.o0,
          {
            strTitle: "Export Localizations",
            bAlertDialog: !0,
            onCancel: t,
            closeModal: t,
          },
          n.createElement(
            m.a3,
            null,
            n.createElement(
              "p",
              null,
              "Choose sections of the opt-in to export for localization",
            ),
            n.createElement(m.Yh, {
              label: "Export Event Body",
              onChange: i,
              checked: r,
            }),
            Boolean(a.emails?.length > 0) &&
              n.createElement(
                "div",
                null,
                n.createElement("p", null, "Choose from the emails to export:"),
                a.emails.map((e) =>
                  n.createElement(m.Yh, {
                    label: e.internal_name + " (" + e.unique_id + ")",
                    key: "ckhbox" + e.unique_id,
                    onChange: (t) => {
                      const a = JSON.parse(JSON.stringify(l));
                      t
                        ? a.push(e.unique_id)
                        : a.splice(a.indexOf(e.unique_id), 1),
                        o(a);
                    },
                    checked: l.indexOf(e.unique_id) >= 0,
                  }),
                ),
              ),
          ),
          n.createElement(
            m.wi,
            null,
            n.createElement(Br.Yg, {
              fnGetLocData: () =>
                (function (e, t, a) {
                  let n = new Tr.G();
                  for (let r = 0; r < 31; ++r)
                    t && ai(e, n, r),
                      e.emails
                        ?.filter((e) => a.indexOf(e.unique_id) >= 0)
                        .forEach((e) => ti(e, n, r));
                  return n;
                })(a, r, l),
              bShowXML: !0,
              bShowCSV: !0,
              strFileNamePrefix: "optin",
              lang: qe.O.Get().GetCurEditLanguage(),
            }),
          ),
        );
      }
      function kr(e) {
        const t = s.Mt.Get();
        return n.createElement(Br.t3, {
          fnOnImportLocData: (e, a) => {
            const n = (function (e, t, a) {
              let n = new Array();
              const r = t.GetSortedTokenList(),
                i = !0;
              return (
                (0, z.h5)(() => {
                  a.forEach((a) => {
                    let l = !1,
                      o = (0, xe.Lg)(a);
                    r.forEach((r) => {
                      const c = t.GetLocalization(r, a) || "";
                      if (
                        (r === Rr &&
                          (c ||
                            (e.event_title[o] &&
                              e.event_title[o].length > 0)) &&
                          (e.event_title || (e.event_title = {}),
                          e.event_title[o] != c &&
                            ((e.event_title[o] = c), (l = !0))),
                        r === Pr &&
                          (c ||
                            (e.eligibility_text[o] &&
                              e.eligibility_text[o].length > 0)) &&
                          (e.eligibility_text || (e.eligibility_text = {}),
                          e.eligibility_text[o] != c &&
                            ((e.eligibility_text[o] = c), (l = !0))),
                        r === Nr &&
                          (c ||
                            (e.description[o] &&
                              e.description[o].length > 0)) &&
                          (e.description || (e.description = {}),
                          e.description[o] != c &&
                            ((e.description[o] = c), (l = !0))),
                        r === qr &&
                          (c || e.opt_in_registration_title?.[o]?.length > 0) &&
                          (e.opt_in_registration_title ||
                            (e.opt_in_registration_title = {}),
                          e.opt_in_registration_title[o] != c &&
                            ((e.opt_in_registration_title[o] = c), (l = !0))),
                        r === Wr &&
                          (c ||
                            e.opt_in_registration_checkbox?.[o]?.length > 0) &&
                          (e.opt_in_registration_checkbox ||
                            (e.opt_in_registration_checkbox = {}),
                          e.opt_in_registration_checkbox[o] != c &&
                            ((e.opt_in_registration_checkbox[o] = c),
                            (l = !0))),
                        r === Gr &&
                          (c ||
                            (e.help_text[o] && e.help_text[o].length > 0)) &&
                          (e.help_text || (e.help_text = {}),
                          e.help_text[o] != c &&
                            ((e.help_text[o] = c), (l = !0))),
                        r === Or &&
                          (c ||
                            (e.appeals_text[o] &&
                              e.appeals_text[o].length > 0)) &&
                          (e.appeals_text || (e.appeals_text = {}),
                          e.appeals_text[o] != c &&
                            ((e.appeals_text[o] = c), (l = !0))),
                        r === Ur &&
                          (c ||
                            (e.special_event_name[o] &&
                              e.special_event_name[o].length > 0)) &&
                          (e.special_event_name || (e.special_event_name = {}),
                          e.special_event_name[o] != c &&
                            ((e.special_event_name[o] = c), (l = !0))),
                        r === zr &&
                          (c ||
                            (e.special_event_description[o] &&
                              e.special_event_description[o].length > 0)) &&
                          (e.special_event_description ||
                            (e.special_event_description = {}),
                          e.special_event_description[o] != c &&
                            ((e.special_event_description[o] = c), (l = !0))),
                        e.special_event_time_blocks?.forEach((e, t) => {
                          r == xr + t &&
                            (c || e.block_reason?.[o]?.length > 0) &&
                            (e.block_reason || (e.block_reason = {}),
                            e.block_reason[o] != c &&
                              ((e.block_reason[o] = c), (l = !0)));
                        }),
                        r === Fr &&
                          (c ||
                            (e.artist_statement &&
                              e.artist_statement.description &&
                              e.artist_statement.description[o] &&
                              e.artist_statement.description[o].length > 0)) &&
                          (e.artist_statement
                            ? e.artist_statement.description ||
                              (e.artist_statement.description = {})
                            : (e.artist_statement = { description: {} }),
                          e.artist_statement.description[o] != c &&
                            ((e.artist_statement.description[o] = c),
                            (l = !0))),
                        r === Lr &&
                          (c ||
                            (e.build_store_page &&
                              e.build_store_page.description &&
                              e.build_store_page.description[o] &&
                              e.build_store_page.description[o].length > 0)) &&
                          (e.build_store_page
                            ? e.build_store_page.description ||
                              (e.build_store_page.description = {})
                            : (e.build_store_page = { description: {} }),
                          e.build_store_page.description[o] != c &&
                            ((e.build_store_page.description[o] = c),
                            (l = !0))),
                        r.startsWith(jr))
                      ) {
                        let t = !1;
                        if (
                          (e.dynamic_sections || (e.dynamic_sections = []),
                          e.dynamic_sections.forEach((e) => {
                            r === Hr + e.unique_id &&
                              ((c ||
                                (e.name &&
                                  e.name[o] &&
                                  e.name[o].length > 0)) &&
                                (e.name || (e.name = {}),
                                e.name[o] != c && ((e.name[o] = c), (l = !0))),
                              (t = !0)),
                              r === Vr + e.unique_id &&
                                ((c ||
                                  (e.description &&
                                    e.description[o] &&
                                    e.description[o].length > 0)) &&
                                  (e.description || (e.description = {}),
                                  e.description[o] != c &&
                                    ((e.description[o] = c), (l = !0))),
                                (t = !0)),
                              e.lists
                                ? e.lists.forEach((a) => {
                                    r == Kr + e.unique_id + a.unique_id &&
                                      ((c ||
                                        (a.option_title &&
                                          a.option_title[o] &&
                                          a.option_title[o].length > 0)) &&
                                        (a.option_title ||
                                          (a.option_title = {}),
                                        a.option_title[o] != c &&
                                          ((a.option_title[o] = c), (l = !0))),
                                      (t = !0)),
                                      a.options
                                        ? a.options.forEach((n) => {
                                            r ==
                                              Yr +
                                                e.unique_id +
                                                a.unique_id +
                                                n.unique_id &&
                                              ((c ||
                                                (n.text &&
                                                  n.text[o] &&
                                                  n.text[o].length > 0)) &&
                                                (n.text || (n.text = {}),
                                                n.text[o] != c &&
                                                  ((n.text[o] = c), (l = !0))),
                                              (t = !0)),
                                              r ==
                                                $r +
                                                  e.unique_id +
                                                  a.unique_id +
                                                  n.unique_id &&
                                                ((c ||
                                                  (n.tooltip &&
                                                    n.tooltip[o] &&
                                                    n.tooltip[o].length > 0)) &&
                                                  (n.tooltip ||
                                                    (n.tooltip = {}),
                                                  n.tooltip[o] != c &&
                                                    ((n.tooltip[o] = c),
                                                    (l = !0))),
                                                (t = !0));
                                          })
                                        : (a.options = []);
                                  })
                                : (e.lists = []);
                          }),
                          !t && i)
                        ) {
                          const a = r.startsWith(Hr),
                            n = r.startsWith(Vr),
                            i = r.startsWith(Yr),
                            l = r.startsWith($r);
                          if (a || n) {
                            let n = a
                                ? r.substr(Hr.length)
                                : r.substr(Vr.length),
                              i = s.Mt.CreateDefaultDynamicSection();
                            (i.lists = []),
                              (i.unique_id = n),
                              a
                                ? ((i.name = {}), (i.name[o] = c))
                                : ((i.description = {}),
                                  (i.description[o] = c)),
                              (t = !0),
                              e.dynamic_sections.push(i);
                          } else if (r.startsWith(Kr)) {
                            let a = r.substr(Kr.length),
                              n = a.indexOf(s.io),
                              i = a.substr(0, n),
                              l = a.substr(n),
                              m = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == i,
                              );
                            if (-1 != m) {
                              let a = {
                                unique_id: l,
                                options: [],
                                option_title: {},
                              };
                              (a.option_title[o] = c),
                                e.dynamic_sections[m].lists.push(a),
                                (t = !0);
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  i,
                              );
                          } else if (i || l) {
                            let a = i
                                ? r.substr(Yr.length)
                                : r.substr($r.length),
                              n = a.indexOf(s.io),
                              l = a.substr(0, n),
                              m = a.substr(n),
                              d = m.indexOf(s.It),
                              u = m.substr(0, d),
                              p = m.substr(d),
                              _ = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == l,
                              );
                            if (-1 != _) {
                              let a = e.dynamic_sections[_].lists.findIndex(
                                (e) => e.unique_id == u,
                              );
                              if (-1 != a) {
                                let n = { unique_id: p, text: {} };
                                i
                                  ? (n.text[o] = c)
                                  : ((n.tooltip = {}), (n.tooltip[o] = c)),
                                  e.dynamic_sections[_].lists[a].options.push(
                                    n,
                                  ),
                                  (t = !0);
                              } else
                                console.log(
                                  "Localization: Add missing: Could not find list under section " +
                                    l +
                                    ":" +
                                    u,
                                  p,
                                );
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  l,
                                u,
                                p,
                              );
                          }
                        }
                      }
                      r.startsWith(Jr) &&
                        (e.emails || (e.emails = []),
                        e.emails.forEach((e) => {
                          r === Xr + e.unique_id &&
                            (c ||
                              (e.subject &&
                                e.subject[o] &&
                                e.subject[o].length > 0)) &&
                            (e.subject || (e.subject = {}),
                            e.subject[o] != c &&
                              ((e.subject[o] = c), (l = !0))),
                            r === ei + e.unique_id &&
                              (c ||
                                (e.localized_generic_button_text &&
                                  e.localized_generic_button_text[o] &&
                                  e.localized_generic_button_text[o].length >
                                    0)) &&
                              (e.localized_generic_button_text ||
                                (e.localized_generic_button_text = {}),
                              e.localized_generic_button_text[o] != c &&
                                ((e.localized_generic_button_text[o] = c),
                                (l = !0))),
                            (r.startsWith(Qr + e.unique_id) ||
                              r.startsWith(Zr + e.unique_id)) &&
                              e.sections.forEach((t) => {
                                t.type == U.Dj.k_Custom &&
                                  (r === Qr + e.unique_id + t.unique_id &&
                                    (c ||
                                      (t.title &&
                                        t.title[o] &&
                                        t.title[o].length > 0)) &&
                                    (t.title || (t.title = {}),
                                    t.title[o] != c &&
                                      ((t.title[o] = c), (l = !0))),
                                  r === Zr + e.unique_id + t.unique_id &&
                                    (c ||
                                      (t.description &&
                                        t.description[o] &&
                                        t.description[o].length > 0)) &&
                                    (t.description || (t.description = {}),
                                    t.description[o] != c &&
                                      ((t.description[o] = c), (l = !0))));
                              });
                        })),
                        l && -1 == n.findIndex((e) => e == a) && n.push(a);
                    });
                  });
                }),
                n
              );
            })(t.GetModel(), e, a);
            return n && t.SetDirty(!0), n;
          },
        });
      }
      const Rr = "event_title",
        Pr = "eligibility_text",
        Nr = "event_description",
        Gr = "help_text",
        Or = "appeals_text",
        Fr = "artist_statement_desc",
        Lr = "store_page_desc",
        Ur = "special_event_name",
        zr = "special_event_desc",
        xr = "special_event_block_",
        qr = "optin_reg_title",
        Wr = "optin_reg_checkbox",
        jr = "dynamic_section_",
        Hr = jr + "name_",
        Vr = jr + "desc_",
        Kr = jr + "list_name_",
        Yr = jr + "option_",
        $r = jr + "tooltip_",
        Jr = "email_",
        Xr = Jr + "subject_",
        Qr = Jr + "title_",
        Zr = Jr + "desc_",
        ei = Jr + "button_text_";
      function ti(e, t, a) {
        let n = (0, xe.Lg)(a);
        const r = e.subject && e.subject[n] && e.subject[n].length > 0;
        (r || 0 == a) &&
          t.SetLocalization(Xr + e.unique_id, a, r ? e.subject[n] : "");
        const i =
          e.localized_generic_button_text &&
          e.localized_generic_button_text[n] &&
          e.localized_generic_button_text[n].length > 0;
        (i || 0 == a) &&
          t.SetLocalization(
            ei + e.unique_id,
            a,
            i ? e.localized_generic_button_text[n] : "",
          ),
          e.sections?.forEach((r) => {
            if (r.type == U.Dj.k_Custom) {
              const i = r.title && r.title[n] && r.title[n].length > 0;
              (i || 0 == a) &&
                t.SetLocalization(
                  Qr + e.unique_id + r.unique_id,
                  a,
                  i ? r.title[n] : "",
                );
              const s =
                r.description &&
                r.description[n] &&
                r.description[n].length > 0;
              (s || 0 == a) &&
                t.SetLocalization(
                  Zr + e.unique_id + r.unique_id,
                  a,
                  s ? r.description[n] : "",
                );
            }
          });
      }
      function ai(e, t, a) {
        let n = (0, xe.Lg)(a);
        const r =
          e.event_title && e.event_title[n] && e.event_title[n].length > 0;
        (r || 0 == a) && t.SetLocalization(Rr, a, r ? e.event_title[n] : "");
        const i =
          e.eligibility_text &&
          e.eligibility_text[n] &&
          e.eligibility_text[n].length > 0;
        (i || 0 == a) &&
          t.SetLocalization(Pr, a, i ? e.eligibility_text[n] : "");
        const s =
          e.description && e.description[n] && e.description[n].length > 0;
        (s || 0 == a) && t.SetLocalization(Nr, a, s ? e.description[n] : "");
        const l = e.opt_in_registration_title?.[n]?.length > 0;
        (l || 0 == a) &&
          t.SetLocalization(qr, a, l ? e.opt_in_registration_title[n] : "");
        const o = e.opt_in_registration_checkbox?.[n]?.length > 0;
        (o || 0 == a) &&
          t.SetLocalization(Wr, a, o ? e.opt_in_registration_checkbox[n] : "");
        const c = e.help_text && e.help_text[n] && e.help_text[n].length > 0;
        (c || 0 == a) && t.SetLocalization(Gr, a, c ? e.help_text[n] : "");
        ((e.appeals_text &&
          e.appeals_text[n] &&
          e.appeals_text[n].length > 0) ||
          0 == a) &&
          t.SetLocalization(Or, a, c ? e.appeals_text[n] : "");
        const m =
          e.special_event_name &&
          e.special_event_name[n] &&
          e.special_event_name[n].length > 0;
        (m || 0 == a) &&
          t.SetLocalization(Ur, a, m ? e.special_event_name[n] : "");
        const d =
          e.special_event_description &&
          e.special_event_description[n] &&
          e.special_event_description[n].length > 0;
        (d || 0 == a) &&
          t.SetLocalization(zr, a, d ? e.special_event_description[n] : ""),
          e.special_event_time_blocks?.forEach((e, r) => {
            const i = e.block_reason?.[n]?.length > 0;
            (i || 0 == a) &&
              t.SetLocalization(xr + r, a, i ? e.block_reason[n] : "");
          });
        const u =
          e.artist_statement &&
          e.artist_statement.description &&
          e.artist_statement.description[n] &&
          e.artist_statement.description[n].length > 0;
        (u || 0 == a) &&
          t.SetLocalization(Fr, a, u ? e.artist_statement.description[n] : "");
        const p =
          e.build_store_page &&
          e.build_store_page.description &&
          e.build_store_page.description[n] &&
          e.build_store_page.description[n].length > 0;
        (p || 0 == a) &&
          t.SetLocalization(Lr, a, p ? e.build_store_page.description[n] : ""),
          e.dynamic_sections &&
            e.dynamic_sections.forEach((e) => {
              const r = e.name && e.name[n] && e.name[n].length > 0;
              (r || 0 == a) &&
                t.SetLocalization(Hr + e.unique_id, a, r ? e.name[n] : "");
              const i =
                e.description &&
                e.description[n] &&
                e.description[n].length > 0;
              (i || 0 == a) &&
                t.SetLocalization(
                  Vr + e.unique_id,
                  a,
                  i ? e.description[n] : "",
                ),
                e.lists &&
                  e.lists.forEach((r) => {
                    const i =
                      r.option_title &&
                      r.option_title[n] &&
                      r.option_title[n].length > 0;
                    (i || 0 == a) &&
                      t.SetLocalization(
                        Kr + e.unique_id + r.unique_id,
                        a,
                        i ? r.option_title[n] : "",
                      ),
                      r.options &&
                        r.options.forEach((i) => {
                          const s = i.text && i.text[n] && i.text[n].length > 0;
                          s &&
                            t.SetLocalization(
                              Yr + e.unique_id + r.unique_id + i.unique_id,
                              a,
                              s ? i.text[n] : "",
                            );
                          const l =
                            i.tooltip &&
                            i.tooltip[n] &&
                            i.tooltip[n].length > 0;
                          s &&
                            t.SetLocalization(
                              $r + e.unique_id + r.unique_id + i.unique_id,
                              a,
                              l ? i.tooltip[n] : "",
                            );
                        });
                  });
            });
      }
      function ni(e) {
        const t = (function (e) {
          const t = (0, x.I)({
            queryKey: ["getspecialeventinfo", e],
            queryFn: async () =>
              await (async function (e) {
                const t =
                    f.TS.PARTNER_BASE_URL + "optin/ajaxgetspecialeventinfo",
                  a = { sessionid: f.TS.SESSIONID, opt_in_name: e },
                  n = await C().get(t, { params: a, withCredentials: !0 });
                if (
                  200 == n?.status &&
                  1 == n?.data?.success &&
                  n?.data?.results
                )
                  return n.data.results;
                return (
                  console.error(
                    "Failed to fetch FetchSpecialEventInfo: ",
                    (0, A.H)(n),
                  ),
                  null
                );
              })(e),
            staleTime: 60 * xa.Kp.PerMinute * 1e3,
          });
          return t.isLoading ? null : t.data;
        })(s.Mt.Get().GetOptInPageID());
        return t
          ? n.createElement(ri, { rgEventInfo: t })
          : n.createElement(M.t, { string: (0, R.we)("#Loading") });
      }
      function ri(e) {
        const { rgEventInfo: t } = e,
          a = s.Mt.Get(),
          r = Math.floor(Date.now() / 1e3),
          [i, l, o, c, m, d] = (0, n.useMemo)(() => {
            const e = new Map();
            t.forEach((t) => {
              t.appid &&
                (e.has(t.appid)
                  ? e.set(t.appid, e.get(t.appid) + 1)
                  : e.set(t.appid, 1));
            });
            const n = new Map();
            return (
              Array.from(e.keys()).forEach((t) => {
                e.has(t) && e.get(t) > 2 && n.set(t, e.get(t));
              }),
              [
                t.length,
                t.filter((e) => e.published).length,
                t.filter((e) => e.hidden && !e.published).length,
                t.filter((e) => !Boolean(e.appid)),
                t.filter(
                  (e) =>
                    e.start_time > r &&
                    (e.start_time < a.GetSpecialEventStartTime() ||
                      a.BIsInSpecialEventBlockedTime(e.start_time)),
                ),
                n,
              ]
            );
          }, [a, t, r]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "p",
            null,
            "A special event has been defined for this optin.  All events of this type include the opt-in page name (",
            a.GetOptInPageID(),
            ") as a annoucement tags with the event.",
            Boolean(a.GetPublicEventID())
              ? n.createElement(
                  "span",
                  null,
                  " To see all of the published and visible events you can visit the associated",
                  n.createElement(
                    "a",
                    {
                      href:
                        f.TS.STORE_BASE_URL +
                        "news/sale/" +
                        a.GetPublicEventID(),
                    },
                    "sale pages new hub",
                  ),
                  ".",
                )
              : n.createElement(
                  "span",
                  null,
                  "Public Event hasn't been configured. We cannot see published events in the news until that is completed",
                ),
          ),
          n.createElement("div", null, "Total Events with Tags: ", i),
          n.createElement("div", null, "Published Events: ", l),
          n.createElement("div", null, "Draft Events: ", o),
          n.createElement("hr", null),
          n.createElement("br", null),
          n.createElement("br", null),
          n.createElement("div", null, "Valve Events: ", c.length),
          c.map((e) => n.createElement(si, { info: e, key: e.clan_event_gid })),
          n.createElement("hr", null),
          n.createElement("br", null),
          n.createElement("br", null),
          n.createElement(
            "div",
            null,
            "Events In Blocked Out Time (needs to be moved): ",
            c.length,
          ),
          m.map((e) => n.createElement(si, { info: e, key: e.clan_event_gid })),
          n.createElement("hr", null),
          n.createElement("div", null, "Apps with more than two events "),
          Array.from(d.keys()).map((e) =>
            n.createElement(ii, { appid: e, count: d.get(e), key: e }),
          ),
        );
      }
      function ii(e) {
        const { appid: t, count: a } = e,
          [r] = (0, Nt.t7)(t, { include_assets: !0 });
        return r
          ? n.createElement(
              "div",
              null,
              n.createElement(
                "a",
                {
                  href: `${f.TS.COMMUNITY_BASE_URL}/ogg/${r.GetAppID()}/partnerevents`,
                },
                n.createElement("img", {
                  src: r.GetAssets().GetSmallCapsuleURL(),
                }),
              ),
              n.createElement("div", null, r.GetName(), " (", t, ")"),
              n.createElement("div", null, "Count: ", a),
              n.createElement("hr", null),
            )
          : n.createElement(
              "a",
              { href: `${f.TS.COMMUNITY_BASE_URL}/ogg/${t}/partnerevents` },
              n.createElement("div", null, t, " = ", a),
            );
      }
      function si(e) {
        const { info: t } = e;
        return t.appid
          ? n.createElement(li, { info: t })
          : n.createElement(oi, { info: t });
      }
      function li(e) {
        const { info: t } = e,
          [a] = (0, Nt.t7)(t.appid, {}),
          r = t.appid;
        return n.createElement(
          "div",
          null,
          "Game: ",
          a?.GetName() || "",
          " (",
          r,
          "), event state time - ",
          n.createElement(g.u1, { startDateAndTime: t.start_time }),
          n.createElement(
            "a",
            {
              href:
                f.TS.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
          t.hidden ? " draft mode" : "",
        );
      }
      function oi(e) {
        const { info: t } = e;
        return n.createElement(
          "div",
          null,
          "ClanID: ",
          t.clan_accountid,
          " / ",
          t.clan_event_gid,
          n.createElement(
            "a",
            {
              href:
                f.TS.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
        );
      }
      var ci = a(83935);
      class mi {
        m_mapPointShopDefs = new Map();
        m_mapCommunityItemDefs = new Map();
        m_mapPointShopDefsChange = new Map();
        m_mapPointShopDefToCommunityDef = new Map();
        m_mapLoadPromises = new Map();
        GetPointShopDefs(e) {
          return this.m_mapPointShopDefs.get(e);
        }
        GetCommunityItemResponseDef(e) {
          return this.m_mapCommunityItemDefs.get(e);
        }
        GetCommunityItemKV(e) {
          return this.m_mapPointShopDefToCommunityDef.get(e);
        }
        GetDefChangeList(e) {
          return (
            this.m_mapPointShopDefsChange.has(e) ||
              this.m_mapPointShopDefsChange.set(e, new Aa.lu()),
            this.m_mapPointShopDefsChange.get(e)
          );
        }
        async LoadDefForOptIn(e) {
          return this.m_mapPointShopDefs.has(e)
            ? this.m_mapPointShopDefs.get(e)
            : (this.m_mapLoadPromises.has(e) ||
                this.m_mapLoadPromises.set(e, this.InternalLoadDefForOptIn(e)),
              this.m_mapLoadPromises.get(e));
        }
        async InternalLoadDefForOptIn(e) {
          const t = St.TS.PARTNER_BASE_URL + "optin/ajaxgetpointshopiteminfo",
            a = { sessionid: St.TS.SESSIONID, opt_in_name: e };
          let n = null;
          try {
            const r = await C().get(t, { params: a, withCredentials: !0 });
            if (
              200 == r?.status &&
              1 == r?.data?.success &&
              r.data.point_shop_advertising_appid
            ) {
              const t = this.UpdateInternalModel(e, r);
              return this.GetDefChangeList(e).Dispatch(t), t;
            }
            n = (0, A.H)(r);
          } catch (e) {
            n = (0, A.H)(e);
          }
          return (
            console.error(
              "COptInLoyaltyPointShopStore.LoadDefForApp failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        async FixPointShopItemForOptIn(e) {
          const t =
              St.TS.PARTNER_BASE_URL + "optin/ajaxupdatepointshopiteminfo",
            a = { sessionid: St.TS.SESSIONID, opt_in_name: e };
          let n = null;
          try {
            const r = await C().get(t, { params: a, withCredentials: !0 });
            if (200 == r?.status && 1 == r?.data?.success)
              return await this.InternalLoadDefForOptIn(e), !0;
            n = (0, A.H)(r);
          } catch (e) {
            n = (0, A.H)(e);
          }
          return (
            console.error(
              "COptInLoyaltyPointShopStore.FixPointShopItemForOptIn failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        UpdateInternalModel(e, t) {
          const a = t.data.community_items_def;
          return (
            this.m_mapCommunityItemDefs.set(
              e,
              [...t.data.community_items_def] || [],
            ),
            t.data.defs?.forEach((e) => {
              const t = a?.findIndex(
                (t) =>
                  t.appid == e.appid && t.item_type == e.community_item_type,
              );
              -1 != t
                ? this.m_mapPointShopDefToCommunityDef.set(
                    e.defid,
                    JSON.parse(a[t].item_key_values),
                  )
                : console.log(
                    "COptInLoyaltyPointShopStore.LoadDefForApp failed to find community_item_type " +
                      e.community_item_type +
                      " on app " +
                      e.appid,
                  );
            }),
            this.m_mapPointShopDefs.set(e, [...t.data.defs] || []),
            t.data.defs || []
          );
        }
        static s_Singleton;
        static Get() {
          return mi.s_Singleton || (mi.s_Singleton = new mi()), mi.s_Singleton;
        }
        constructor() {}
      }
      (0, L.Cg)([Gt.oI], mi.prototype, "InternalLoadDefForOptIn", null),
        (0, L.Cg)([Gt.oI], mi.prototype, "FixPointShopItemForOptIn", null),
        (0, L.Cg)([Gt.oI], mi.prototype, "UpdateInternalModel", null);
      var di = a(23809),
        ui = a(88997),
        pi = a(64046),
        _i = a(31715),
        gi = a(64035),
        hi = a.n(gi);
      function Ei(e) {
        const { editModel: t } = e,
          [a, r, i] = (0, Ne.q3)(() => [
            t.GetPointShopPriorityApps(),
            t.GetPointShopIncludedApps(),
            t.GetPublicEventURL(),
          ]);
        return n.createElement(
          "div",
          { className: ut().AdminPageCtn },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement(
              "p",
              null,
              "Every opt-in Event will have its own point shops landing page by default. Its artwork can be customized in the cluster (see the publish path) and the items that are featured for registered games can be modified here.",
            ),
            n.createElement(
              "a",
              {
                href: `${St.TS.STORE_BASE_URL}points/shop/event/${t.GetOptInPageID()}`,
              },
              "Point Shop Landing Page",
            ),
            n.createElement(
              "p",
              null,
              "The art assets for the point shop background are part of the cluster page's artwork.",
              n.createElement(
                "a",
                {
                  href: `${St.TS.PARTNER_BASE_URL}admin/store/page/${t.GetFullName()}`,
                },
                "Cluster Editor",
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Public Content Hub / Sale URL:"),
            n.createElement(
              "p",
              null,
              "Relative URL (text after store.steampowered.com/) used by the point shop to link to the store event. This is used by the point shop event specific page to point back to the sale page.",
            ),
            n.createElement(m.pd, {
              type: "text",
              onChange: (e) => t.SetPublicEventURL(e.target.value),
              value: i,
              placeholder: "For Example: category/scream",
            }),
            Boolean(i) &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement("br", null),
                n.createElement(
                  "a",
                  { href: `${St.TS.STORE_BASE_URL}${i}`, target: "_blank" },
                  "Open Store Landing Page",
                ),
              ),
            n.createElement("h3", null, "Sale Page Link"),
            n.createElement(
              "p",
              null,
              "We need specific Sale Page linked so that we can automatically pull the background and logo. This can always be overriden by the cluster artwork that is uploaded",
            ),
            n.createElement(_i.eq, { oEditablePlan: t }),
          ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Priority Apps"),
            n.createElement(
              "div",
              null,
              "These apps will have their items which are ALSO marked individually with the OptIn ID appear expliclty at the top of the landing page. This ensures our curated or personally created items get top billing.",
            ),
            n.createElement("br", null),
            n.createElement(Di, { editModel: t }),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(Bi, {
                      rgAppIDs: a,
                      fnSetAppIDs: t.SetPointShopPriorityApps,
                    }),
                    (0, v.uX)(e),
                  ),
              },
              "Set Priority Apps",
            ),
          ),
          n.createElement(Si, { editModel: t }),
          n.createElement(yi, { editModel: t }),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Included Apps"),
            n.createElement(
              "div",
              null,
              "These are selected list of top or important apps whose animated assets we want to appear in the both the explicit item type lists and the list of apps carousels.",
            ),
            n.createElement("br", null),
            n.createElement(Ci, { editModel: t }),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(Mi, { editModel: t }),
                    (0, v.uX)(e),
                  ),
              },
              "Automatically Build App List",
            ),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(Bi, {
                      rgAppIDs: r,
                      fnSetAppIDs: t.SetPointShopIncludedApps,
                    }),
                    (0, v.uX)(e),
                  ),
              },
              "Set Included Apps",
            ),
          ),
        );
      }
      function Si(e) {
        const { editModel: t } = e,
          [a] = (0, Ne.q3)(() => [t.GetPointShopAdvertisingAppID()]);
        return n.createElement(
          "div",
          { className: Xe().Section },
          n.createElement("h3", null, "Point Shop Advertising App"),
          n.createElement(
            "p",
            null,
            "This is the advertising app which will hold the point shop items we want customers to get via claims or direct adds from the shop directly.",
          ),
          n.createElement(m.pd, {
            type: "number",
            onChange: (e) =>
              t.SetPointShopAdvertisingAppID(Number.parseInt(e.target.value)),
            value: a,
            placeholder: "Advertising App ID",
          }),
          Boolean(a) &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement("br", null),
              n.createElement(
                "a",
                {
                  href: `${St.TS.PARTNER_BASE_URL}apps/communityitems/${a}`,
                  target: "_blank",
                },
                "Open the Community and Point Shop Editor",
              ),
              n.createElement(vi, { editModel: t }),
            ),
        );
      }
      function yi(e) {
        const { editModel: t } = e,
          [a, r] = (0, Ne.q3)(() => [
            t.GetPointShopRadialColorOverride(),
            t.GetPointShopRadialEdgeColorOverride(),
          ]);
        return n.createElement(
          "div",
          { className: (0, y.A)(Xe().Section) },
          n.createElement("h3", null, "Point Shop Background Color"),
          n.createElement(
            "p",
            null,
            "Easiest way to determine if the color needs to be altered is viewing the point after the background and logo has already been uploaded to the linked sale page. Then using the inspector to test the color to then enter it here.",
          ),
          n.createElement(m.JU, null, "Radial Center Color"),
          n.createElement(
            m.$n,
            {
              className: hi().BackgroundColorBtn,
              onClick: (e) => {
                (0, ui.lX)(
                  n.createElement(pi.s, {
                    color: a,
                    onChange: (e) => t.SetPointShopRadialColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: a },
            },
            "Update Radial Center Color",
          ),
          n.createElement(m.JU, null, "Radial Edge Color"),
          n.createElement(
            m.$n,
            {
              className: hi().BackgroundColorBtn,
              onClick: (e) => {
                (0, ui.lX)(
                  n.createElement(pi.s, {
                    color: r,
                    onChange: (e) => t.SetPointShopRadialEdgeColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: r },
            },
            "Update Radial Center Color",
          ),
        );
      }
      function vi(e) {
        const { editModel: t } = e,
          a = (function (e) {
            const [t, a] = (0, n.useState)(() => mi.Get().GetPointShopDefs(e));
            return (
              (0, n.useEffect)(() => {
                mi.Get().LoadDefForOptIn(e).then(a);
              }, [e]),
              (0, Gt.hL)(mi.Get().GetDefChangeList(e), a),
              t
            );
          })(t.GetOptInPageID()),
          r = (function (e) {
            const [t, a] = (0, n.useState)(() =>
              mi.Get().GetCommunityItemResponseDef(e),
            );
            return (
              (0, n.useEffect)(() => {
                mi.Get()
                  .LoadDefForOptIn(e)
                  .then(() => a(mi.Get().GetCommunityItemResponseDef(e)));
              }, [e]),
              (0, Gt.hL)(mi.Get().GetDefChangeList(e), () =>
                a(mi.Get().GetCommunityItemResponseDef(e)),
              ),
              t
            );
          })(t.GetOptInPageID()),
          [i] = (0, Ne.q3)(() => [t.GetPointShopAdvertisingAppID()]),
          { fnFixPointShopItemForOptIn: s } = {
            fnFixPointShopItemForOptIn: mi.Get().FixPointShopItemForOptIn,
          };
        if (!a || 0 == a.length)
          return n.createElement(
            "div",
            null,
            "No Point Shop Defintions in Advertising App ",
            i,
          );
        const l = a.filter((e) => 6 != e.type);
        return n.createElement(
          "div",
          null,
          n.createElement("div", null, "Loyalty Point Shop Items:"),
          Boolean(l.length > 0)
            ? n.createElement(
                "ol",
                null,
                l.map((e) =>
                  n.createElement(
                    "li",
                    { key: e.defid },
                    n.createElement(wi, { def: e, editModel: t }),
                  ),
                ),
              )
            : n.createElement(
                "ol",
                null,
                n.createElement("ul", null, "Point Shop Items not published"),
              ),
          n.createElement(
            "div",
            null,
            "Community Item Defs (can be visible before point shop items above)",
          ),
          n.createElement(
            "ol",
            null,
            r.map((e) =>
              n.createElement(bi, {
                key: "comm" + e.item_type,
                editModel: t,
                def: e,
              }),
            ),
          ),
          n.createElement(
            m.$n,
            { onClick: () => s(t.GetOptInPageID()) },
            "Fix Associations",
          ),
        );
      }
      function fi(e, t) {
        let a = "";
        return (
          e?.associated_optin_event != t.GetOptInPageID() &&
            (a += "Not associated with optin,"),
          e?.time_available_start != t.GetEventStartTime() &&
            (a += "Item start time not matching optin,"),
          e?.time_free_end != t.GetEventEndTime() &&
            (a += "Free until not matching optin end time"),
          a
        );
      }
      function bi(e) {
        const { def: t, editModel: a } = e,
          r = fi(JSON.parse(t.item_key_values), a);
        return n.createElement(
          "div",
          null,
          Boolean(0 == r.length) ? "✓ " : "✗ " + r,
          t.item_internal_name || t.item_name,
          " - ",
          t.item_description,
        );
      }
      function wi(e) {
        const { def: t, editModel: a } = e,
          r = ((i = t.defid), mi.Get().GetCommunityItemKV(i) || {});
        var i;
        const s = fi(r, a);
        return n.createElement(
          "div",
          null,
          Boolean(0 == s.length) ? "✓ " : "✗ " + s,
          t.internal_description,
          " - ",
          r?.associated_optin_event,
        );
      }
      function Di(e) {
        const { editModel: t } = e,
          a = (0, Ne.q3)(() => t.GetPointShopPriorityApps());
        return a
          ? n.createElement(
              "div",
              null,
              a.map((e) => n.createElement(Ii, { key: e, appid: e })),
            )
          : n.createElement("div", null, "No Priority Apps");
      }
      function Ci(e) {
        const { editModel: t } = e,
          a = (0, Ne.q3)(() => t.GetPointShopIncludedApps());
        return a
          ? n.createElement(
              "div",
              null,
              a.map((e) => n.createElement(Ii, { key: e, appid: e })),
            )
          : n.createElement("div", null, "No Included Apps");
      }
      function Ii(e) {
        const { appid: t } = e,
          [a, r] = (0, Nt.t7)(t, {});
        return 2 == r
          ? n.createElement("div", null, "Appid ", t, " Not Found")
          : 1 == r
            ? n.createElement("div", null, "Appid ", t, " Loading")
            : n.createElement(
                "div",
                null,
                a.GetName(),
                " ( ",
                t,
                " )",
                n.createElement(
                  "a",
                  {
                    href: `${St.TS.STORE_BASE_URL}points/shop/app/${a.GetAppID()}`,
                    target: "_blank",
                  },
                  "Point Shop",
                ),
              );
      }
      function Bi(e) {
        const { closeModal: t, rgAppIDs: a, fnSetAppIDs: r } = e,
          [i, s] = n.useState(a?.join("\n") || "");
        return n.createElement(
          T.o0,
          {
            strTitle: "Set App List",
            strDescription: "Provide the complete list of apps, one per line.",
            closeModal: t,
            onOK: () => {
              const e = i
                .replace(/\n/g, "|")
                .split("|")
                .filter(Boolean)
                .map((e) => Number.parseInt(e.trim()))
                .filter((e) => !isNaN(e));
              r(Array.from(new Set(e)));
            },
          },
          n.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => s(e.currentTarget.value),
            value: i,
            autoFocus: !0,
          }),
        );
      }
      async function Ti(e, t) {
        let a = null;
        try {
          const n = q.w.Init(ci.GB);
          e.forEach((e) => n.Body().add_appids(e)),
            n.Body().set_language("english"),
            n.Body().set_count(1e3),
            n.Body().add_filters(1);
          const r = await ci.a9.QueryRewardItems(t, n);
          if (r.BSuccess() && 1 == r.GetEResult()) {
            const t = r
                .Body()
                .definitions()
                .map((e) => e.appid()),
              a = new Set(t);
            return e.filter((e) => a.has(e));
          }
          a = (0, A.H)(r);
        } catch (e) {
          a = (0, A.H)(e);
        }
        return (
          console.warn(
            "BYldFilterAppIDsWithAnimatedPointShopItems service request failed with error",
            a,
            e,
          ),
          null
        );
      }
      function Mi(e) {
        const { closeModal: t, editModel: a } = e,
          [r, i] = (0, n.useState)(50),
          [l, o] = (0, n.useState)(!1),
          [c, d] = (0, n.useState)(!1),
          u = (0, Ne.q3)(() => a.GetPointShopIncludedApps()),
          p = (0, s.G4)(),
          _ = (0, di.KV)(),
          g = (0, n.useMemo)(() => {
            if (p) {
              if (p.json_featured && c)
                return JSON.parse(p.json_featured).map((e) => e.appid);
              if (p.json_opted_in && !c)
                return JSON.parse(p.json_opted_in).map((e) => e.appid);
            }
            return [];
          }, [p, c]),
          {
            bLoading: h,
            fnGetLongTermSaleRankForApp: E,
            fnbHasSomeLongTermSaleRankForApp: S,
          } = (0, Ea.l)(g),
          y = (0, n.useMemo)(() => {
            if (!h && g?.length > 0) {
              return g
                .filter(S)
                .map((e) => ({ appid: e, nRank: E(e) }))
                .sort((e, t) => e.nRank - t.nRank)
                .map((e) => e.appid);
            }
            return [];
          }, [h, E, S, g]),
          v = (0, Ct.vs)();
        if (v.bLoading)
          return n.createElement(Ct.Hh, {
            state: v,
            strDialogTitle: "Build App List",
            closeModal: t,
          });
        const f = !p || !p.json_opted_in || !p.json_featured;
        return n.createElement(
          T.o0,
          {
            strTitle: "Build App List",
            strDescription: `Will scan the opted in apps to find the top ${r} apps by long term sales rank with some animated point shop asset. This depends on the stats dashboard via 'manage', so should be run after a refresh completes.`,
            onCancel: t,
            onOK: async () => {
              v.fnSetLoading(!0);
              let e = 0;
              let t = new Array();
              const n = new Set(u),
                i = l ? y : y.filter((e) => !n.has(e));
              do {
                v.fnSetThrobber(
                  `Processing Apps from ${e + 1} to ${e + 25} looking for ${r - t.length} more...`,
                );
                const a = i.slice(e, e + 25),
                  n = await Ti(a, _);
                if (null == n)
                  return (
                    v.fnSetStrError(
                      "Fail processing the appids, check console",
                    ),
                    void v.fnSetError(!0)
                  );
                for (; t.length < r && n.length > 0; ) {
                  const e = n.shift();
                  t.push(e);
                }
                e += 25;
              } while (t.length < r && e < i.length);
              const s = t.length,
                o = l ? new Array() : Array.from(n);
              for (; t.length > 0; ) o.push(t.shift());
              a.SetPointShopIncludedApps(o),
                v.fnSetSuccess(!0),
                v.fnSetStrSuccess("Completing processing, added " + s);
            },
            bOKDisabled: f || 0 == p?.count_opted_in,
          },
          n.createElement(m.pd, {
            type: "number",
            value: r,
            onChange: (e) => i(Number.parseInt(e.currentTarget.value)),
            label: "Top Apps with Animated Assets to find",
            tooltip: "We will scan opted in apps to find these top apps",
          }),
          n.createElement(m.Yh, {
            checked: l,
            onChange: o,
            label: `Overwrite existing list of ${u?.length || 0} Apps?`,
          }),
          n.createElement(m.Yh, {
            checked: c,
            onChange: d,
            label: "Use Featured Apps instead of opted in Apps?",
          }),
          Boolean(0 == p?.count_opted_in) &&
            n.createElement("div", null, "Nothing to do, no apps opted in"),
          Boolean(f || h) &&
            n.createElement(M.t, {
              string: "Loading",
              size: "medium",
              position: "center",
            }),
        );
      }
      const Ai = ["satisfied", "neutral", "unsatisfied"],
        ki = ["0", "1", "2-10", "11+"];
      var Ri = a(24484),
        Pi = a(21745),
        Ni = a.n(Pi);
      function Gi(e) {
        const { pageid: t } = e,
          a = (function () {
            const [e] = (0, n.useState)(() =>
                (0, Ri.Tc)("optin_title", "application_config"),
              ),
              [t] = (0, n.useState)(() =>
                (0, Ri.Tc)("optin_appid", "application_config"),
              ),
              [a] = (0, n.useState)(() =>
                (0, Ri.Tc)("optin_survey_type", "application_config"),
              ),
              [r] = (0, n.useState)(() =>
                (0, Ri.Tc)("optin_banner_url", "application_config"),
              );
            return {
              strOptInName: e,
              appid: t,
              strSurveyType: a,
              strOptInBannerURL: r,
            };
          })(),
          [r, i] = (0, n.useState)(() => ({
            appid: a.appid,
            accountid: St.iA.accountid,
            survey_type: a.strSurveyType,
          })),
          [s, l] = (0, n.useState)(!1),
          [o, c] = (0, n.useState)(!1);
        return s
          ? n.createElement(
              "div",
              null,
              (0, R.we)(
                o ? "#OptIn_SurveySubmitted_error" : "#OptIn_SurveySubmitted",
              ),
            )
          : n.createElement(Oi, {
              strOptInName: a.strOptInName,
              strSurveyType: a.strSurveyType,
              appid: a.appid,
              oSurveyData: r,
              strLocalizedOptInBanner: a.strOptInBannerURL,
              fnSaveSurveyResults: async (e) => {
                const n = `${St.TS.PARTNER_BASE_URL}optin/ajaxsubmitsurvey/${t}/${a.appid}`,
                  r = new FormData();
                r.append("sessionid", St.TS.SESSIONID),
                  r.append("surveyjson", JSON.stringify(e));
                const i = await C().post(n, r, { withCredentials: !0 });
                l(!0), c(!(200 == i?.status));
              },
              fnSetSurveyData: i,
            });
      }
      function Oi(e) {
        const {
            strSurveyType: t,
            strOptInName: a,
            appid: r,
            oSurveyData: i,
            fnSetSurveyData: s,
            fnSaveSurveyResults: l,
            strLocalizedOptInBanner: o,
          } = e,
          [c] = (0, Nt.t7)(r, { include_assets: !0 });
        let d = null;
        if ("survey_nextfest" === t)
          d = n.createElement(zi, { fnUpdateLocalSurvey: s, oSurveyData: i });
        return d
          ? n.createElement(
              "div",
              { className: ut().AdminPageCtn },
              n.createElement(
                "div",
                { className: Ni().SurveyCtn },
                n.createElement(
                  "div",
                  { className: ut().PageTitle },
                  (0, R.we)("#OptIn_SurveyTitle", a),
                ),
                n.createElement("hr", null),
                n.createElement(
                  "div",
                  { className: ut().ColumnCtn },
                  n.createElement(
                    "div",
                    { className: ut().LeftCol },
                    Boolean(o) &&
                      n.createElement(
                        "div",
                        { className: ut().ColHeader },
                        n.createElement("div", {
                          className: ut().ColHeaderImg,
                          style: { backgroundImage: `url( '${o}' )` },
                        }),
                      ),
                    n.createElement(
                      "div",
                      { className: (0, y.A)(ut().SectionCtn, ut().Bright) },
                      n.createElement(
                        "h2",
                        null,
                        (0, R.we)("#OptIn_SurveyIntroTitle", a),
                      ),
                      (0, R.we)("#OptIn_SurveyIntro"),
                    ),
                    d,
                  ),
                  n.createElement(
                    "div",
                    { className: ut().RightCol },
                    n.createElement(
                      "div",
                      { className: ut().SectionCtn },
                      n.createElement(
                        "h3",
                        null,
                        (0, R.we)(
                          "#OptIn_SurveySubTitle",
                          c?.GetName() || "" + r,
                        ),
                      ),
                      n.createElement("img", {
                        src: c?.GetAssets().GetSmallCapsuleURL(),
                      }),
                    ),
                  ),
                ),
                n.createElement(
                  "div",
                  { className: Ni().SubmitSurveyCtn },
                  n.createElement(
                    m.jn,
                    {
                      onClick: (e) =>
                        (0, h.pg)(
                          n.createElement(Fi, {
                            oSurveyData: i,
                            fnSaveSurveyResults: l,
                          }),
                          (0, v.uX)(e),
                        ),
                    },
                    (0, R.we)("#Button_Submit"),
                  ),
                ),
              ),
            )
          : n.createElement("div", null, (0, R.we)("#OptIn_SurveyNoType"));
      }
      function Fi(e) {
        const { oSurveyData: t, fnSaveSurveyResults: a, closeModal: r } = e;
        return n.createElement(T.o0, {
          strTitle: (0, R.we)("#OptIn_SubmitSurvey"),
          strDescription: (0, R.we)("#OptIn_SubmitSurvey_desc"),
          onOK: async () => {
            await a(t), r();
          },
          onCancel: r,
        });
      }
      const Li = "Affirmative",
        Ui = "Negative";
      function zi(e) {
        const { oSurveyData: t, fnUpdateLocalSurvey: a } = e,
          [r, i, s, l, o, c, m, d] = (0, Ne.q3)(() => [
            t.satisfaction,
            t.satisfiction_description,
            t.team_size,
            void 0 === t.meet_expectations
              ? void 0
              : t.meet_expectations
                ? Li
                : Ui,
            t.expectation_explanation,
            void 0 === t.change_release_plans
              ? void 0
              : t.change_release_plans
                ? Li
                : Ui,
            t.change_release_description,
            t.suggestions,
          ]);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(xi, {
            strQuestionToken: "#OptIn_NextFest_Q1",
            rgOptions: Ai,
            selected: r,
            fnSetSelected: (e) => a({ ...t, satisfaction: e }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q1_Notes",
            strAdditionalData: i,
            fnSetAdditionalData: (e) =>
              a({ ...t, satisfiction_description: e }),
          }),
          n.createElement(xi, {
            strQuestionToken: "#OptIn_NextFest_Q2",
            rgOptions: ki,
            selected: s,
            fnSetSelected: (e) => a({ ...t, team_size: e }),
          }),
          n.createElement(xi, {
            strQuestionToken: "#OptIn_NextFest_Q3",
            rgOptions: [Li, Ui],
            selected: l,
            fnSetSelected: (e) => a({ ...t, meet_expectations: e === Li }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q3_Notes",
            strAdditionalData: o,
            fnSetAdditionalData: (e) => a({ ...t, expectation_explanation: e }),
          }),
          n.createElement(xi, {
            strQuestionToken: "#OptIn_NextFest_Q4",
            rgOptions: [Ui, Li],
            selected: c,
            fnSetSelected: (e) => a({ ...t, change_release_plans: e === Li }),
            strAdditionalFeedbackToken: "#OptIn_NextFest_Q4_Notes",
            strAdditionalData: m,
            fnSetAdditionalData: (e) =>
              a({ ...t, change_release_description: e }),
          }),
          n.createElement(qi, {
            strQuestionToken: "#OptIn_NextFest_Q5",
            strAnswerString: d,
            strNotesToken: "#OptIn_NextFest_Q5_Notes",
            fnAnswerString: (e) => a({ ...t, suggestions: e }),
          }),
        );
      }
      function xi(e) {
        const {
          strQuestionToken: t,
          rgOptions: a,
          selected: r,
          fnSetSelected: i,
          strAdditionalFeedbackToken: s,
          strAdditionalData: l,
          fnSetAdditionalData: o,
        } = e;
        return n.createElement(
          "div",
          { className: (0, y.A)(ut().SectionCtn, Ni().SurveyQuestionCtn) },
          n.createElement("h2", null, (0, R.we)(t)),
          n.createElement(
            "div",
            { className: "DialogInputLabelGroup" },
            a.map((e, a) =>
              n.createElement(
                "div",
                { key: e, className: Ni().ResponseRow },
                n.createElement("input", {
                  type: "radio",
                  name: t,
                  id: t + "_A" + (a + 1),
                  value: e,
                  checked: r === e,
                  onChange: (e) => i(e.currentTarget.value),
                }),
                n.createElement(
                  "label",
                  { htmlFor: t + "_A" + (a + 1) },
                  n.createElement(
                    "span",
                    { className: Ni().ResponseText },
                    (0, R.oW)(
                      t + "_A" + (a + 1),
                      n.createElement("span", null),
                    ),
                  ),
                ),
              ),
            ),
          ),
          Boolean(s && r === a[a.length - 1]) &&
            n.createElement(
              "div",
              { className: Ni().FollowUpText },
              n.createElement(m.JU, null, (0, R.we)(s)),
              n.createElement("textarea", {
                className: (0, y.A)(
                  "DialogTextInputBase",
                  Ni().FollowUpTextInput,
                ),
                value: l,
                onChange: (e) => o(e.currentTarget.value),
              }),
            ),
        );
      }
      function qi(e) {
        const {
          strQuestionToken: t,
          strAnswerString: a,
          fnAnswerString: r,
          strNotesToken: i,
        } = e;
        return n.createElement(
          "div",
          { className: (0, y.A)(ut().SectionCtn, Ni().SurveyQuestionCtn) },
          n.createElement("h2", null, (0, R.we)(t)),
          n.createElement(
            "div",
            { className: Ni().FollowUpText },
            n.createElement(m.JU, null, (0, R.we)(i)),
            n.createElement("textarea", {
              cols: 100,
              rows: 5,
              className: (0, y.A)(
                "DialogTextInputBase",
                Ni().FollowUpTextInput,
              ),
              onChange: (e) => r(e.currentTarget.value),
              value: a,
              autoFocus: !0,
            }),
          ),
        );
      }
      function Wi(e) {
        const { editModel: t } = e,
          a = (0, qe.E)(),
          [r, i, s, l, o] = (0, Ne.q3)(() => [
            t.GetCurEventTitle(),
            t.BHasSurveyEnabled(),
            t.GetSurveyType(),
            t.GetOptInPageID(),
            t.GetLocalizedOptInBanner(a),
          ]),
          [c, d] = (0, n.useState)(i),
          [u, p] = (0, n.useState)(() => ({
            appid: 220,
            accountid: St.iA.accountid,
            survey_type: void 0,
          })),
          _ = (0, n.useMemo)(
            () => ["survey_nextfest"].map((e) => ({ label: e, data: e })),
            [],
          ),
          g = o && (0, vt.Yi)(l, a, o);
        return n.createElement(
          "div",
          { className: ut().AdminPageCtn },
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Survey Controls"),
            n.createElement("hr", null),
            c
              ? n.createElement(m.m, {
                  label: "Choose Survey Type",
                  tooltip:
                    "Chosen survey will be presented to participating partners after event completes for a short duration",
                  rgOptions: _,
                  selectedOption: s,
                  onChange: (e) => {
                    t.SetSurveyType(e.data), p({ ...u, survey_type: e.data });
                  },
                })
              : n.createElement(m.Yh, {
                  checked: !1,
                  label: "Enable Survey in OptIn?",
                  onChange: (e) => {
                    d(!0);
                  },
                }),
          ),
          Boolean(s) &&
            n.createElement(
              "div",
              { className: Xe().Section },
              n.createElement("h3", null, "Preview Version: "),
              n.createElement("hr", null),
              n.createElement(
                "a",
                {
                  href: `${St.TS.PARTNER_BASE_URL}optin/survey/${l}/220`,
                  target: "_blank",
                },
                "Preview Landing Page",
              ),
              n.createElement("br", null),
              n.createElement("br", null),
              n.createElement(Oi, {
                strOptInName: r,
                strSurveyType: s,
                appid: 220,
                strLocalizedOptInBanner: g,
                fnSaveSurveyResults: p,
                oSurveyData: u,
                fnSetSurveyData: p,
              }),
            ),
          n.createElement(
            "div",
            { className: Xe().Section },
            n.createElement("h3", null, "Survey Results"),
            n.createElement("hr", null),
            n.createElement(
              "a",
              { href: `${St.TS.PARTNER_BASE_URL}optin/surveyresults/${l}` },
              "View Results Page",
            ),
          ),
        );
      }
      const ji = (0, Le.PA)((e) => {
          const t = s.Mt.Get(),
            a = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`,
              ),
            r =
              f.TS.PARTNER_BASE_URL +
              "optin/salepreview/" +
              t.GetName() +
              "/20",
            i = (t.GetEmailDefinitions() || [])
              .filter((e) => e.BIsDraftEmail())
              .filter((e) => {
                const t = (function (e) {
                  const t = Zn(e),
                    a = Object.values(t).length,
                    n = [];
                  let r = 0;
                  return (
                    t.bNeedDemoTrailerRegLink &&
                      (e.GetDemoTrailerRegLink()
                        ? (r += 1)
                        : n.push("Missing Demo Trailer Reg Link")),
                    t.bNeedAssetKit &&
                      (e.GetAssetKitURL()
                        ? (r += 1)
                        : n.push("Missing Asset Kit")),
                    t.bNeedDemoPressPreviewDate &&
                      (e.GetDemoPressPreviewDate()
                        ? (r += 1)
                        : n.push("Missing Demo Preview Date")),
                    t.bNeedMaxItems &&
                      (e.GetScheduleMaxItems()
                        ? (r += 1)
                        : n.push("Missing Max Scheduled Events")),
                    t.bNeedSalePreview &&
                      (e.GetSalePreviewPage()
                        ? (r += 1)
                        : n.push("Missing Sale Preview Page")),
                    t.bNeedNextEditionDate &&
                      (e.GetNextEditionDate()
                        ? (r += 1)
                        : n.push("Missing Next Edition Date")),
                    t.bNeedQASessionDate &&
                      (e.GetQASessionDate()
                        ? (r += 1)
                        : n.push("Missing QA Session Date")),
                    t.bNeedQASessionLink &&
                      (e.GetQASessionLink()
                        ? (r += 1)
                        : n.push("Missing QA Session Link")),
                    t.bNeedRecordedQASessionLink &&
                      (e.GetRecordedQASessionLink()
                        ? (r += 1)
                        : n.push("Missing QA Recorded Session Link")),
                    t.bNeedCancelDate &&
                      (e.GetCancelDate()
                        ? (r += 1)
                        : n.push("Missing Cancel Date")),
                    t.bNeedPreviewDate &&
                      (e.GetPreviewDate()
                        ? (r += 1)
                        : n.push("Missing Preview Date")),
                    t.bNeedPermissionDate &&
                      (e.GetPermissionDate()
                        ? (r += 1)
                        : n.push("Missing Permissions Date")),
                    t.bNeedTrailerLaunchDate &&
                      (e.GetTrailerLaunchDate()
                        ? (r += 1)
                        : n.push("Missing Trailer Launch Date")),
                    t.bNeedLivestreamLaunchDate &&
                      (e.GetLivestreamLaunchDate()
                        ? (r += 1)
                        : n.push("Missing Livestream Launch Date")),
                    t.bNeedWikiDocumentation &&
                      (e.GetWikiDocURL()
                        ? (r += 1)
                        : n.push("Missing Wiki Doc Link")),
                    t.bNeedSurveyLink &&
                      (e.GetSurveyLinkURL()
                        ? (r += 1)
                        : n.push("Missing Survey Link")),
                    t.bNeedPressPreviewVisibleDate &&
                      (e.GetPressPreviewVisibleDate()
                        ? (r += 1)
                        : n.push("Missing Press Preview Visible Date")),
                    t.bNeedTrailerDemoDeadlineDate &&
                      (e.GetTrailerDemoDeadlineDate()
                        ? (r += 1)
                        : n.push("Missing Trailer Demo Deadline Date")),
                    t.bNeedGenericActionLink &&
                      (e.GetGenericActionLink()
                        ? (r += 1)
                        : n.push("Missing Generic Action Link")),
                    t.bNeedGenericActionButtonLink &&
                      (e.GetGenericActionButtonLink()
                        ? (r += 1)
                        : n.push("Missing Generic Action Button Link")),
                    t.bNeedGenericActionButtonText &&
                      (e.GetGenericActionButtonText(0)
                        ? (r += 1)
                        : n.push("Missing Generic Action Button Text")),
                    t.bNeedImageUploaded &&
                      (e.BHasImageUploaded()
                        ? (r += 1)
                        : n.push("Missing Image Upload")),
                    { cNeeded: a, cCompleted: r, vecMissing: n }
                  );
                })(e);
                return t.cNeeded != t.cCompleted;
              }),
            l = [
              {
                name: "Editor",
                key: "editor",
                status:
                  t.BIsReleaseGamesEligible() ||
                  t.BIsUnreleaseGamesEligible() ||
                  t.BIsInvitationOnly()
                    ? null
                    : n.createElement(
                        Ke.he,
                        {
                          toolTipContent:
                            "Must choose release or unrelease games in the requirement section",
                        },
                        n.createElement(
                          E.a,
                          { statusType: "danger" },
                          "Incomplete (0/1)",
                        ),
                      ),
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement(Ue.yk, { fnLangHasData: t.BHasLanguageData }),
                  n.createElement(la, null),
                ),
                onClick: a,
              },
              {
                name: "Preview",
                key: "preview",
                contents: n.createElement("iframe", {
                  width: "100%",
                  height: "1200px",
                  style: { border: "none", paddingBottom: "20px" },
                  src: r,
                }),
                onClick: a,
              },
              {
                name: "Email",
                key: "email",
                status: i.length
                  ? n.createElement(
                      E.a,
                      { statusType: "danger" },
                      "Draft Incomplete",
                    )
                  : null,
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement(gr, null),
                ),
                onClick: a,
              },
              {
                name: "Manage",
                key: "manage",
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement($a, { editModel: t }),
                  n.createElement(_n, null),
                ),
                onClick: a,
              },
              {
                name: "Point Shop",
                key: "pointshop",
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement(Ei, { editModel: t }),
                ),
                onClick: a,
              },
              {
                name: "Survey",
                key: "survey",
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement(Wi, { editModel: t }),
                ),
                onClick: a,
              },
            ];
          return (
            t.BHasSpecialEventType() &&
              l.push({
                name: "Special Events",
                key: "events",
                contents: n.createElement(
                  d.tH,
                  null,
                  n.createElement(ni, null),
                ),
                onClick: a,
              }),
            l.push({
              name: "Debug",
              key: "debug",
              contents: n.createElement(d.tH, null, n.createElement(ct, null)),
              onClick: a,
            }),
            n.createElement(
              d.tH,
              null,
              n.createElement(
                "div",
                null,
                n.createElement(Hi, null),
                n.createElement(
                  "div",
                  { className: Xe().EditorInputPaneContents },
                  n.createElement(E.V, { tabs: l }),
                  n.createElement("div", { className: _().ClearThings }),
                ),
                n.createElement(Vi, null),
              ),
            )
          );
        }),
        Hi = (0, Le.PA)((e) =>
          n.createElement(
            "div",
            { className: (0, y.A)(Xe().TopBarContainer) },
            n.createElement(
              m.$n,
              { className: Xe().BasicButtonSize },
              n.createElement(
                o.N_,
                { to: bo.OptinAdminDashboard() },
                "Dashboard",
              ),
            ),
            n.createElement(Mr, null),
            n.createElement(kr, null),
            n.createElement(Ue.iN, null),
          ),
        ),
        Vi = (0, Le.PA)((e) => {
          const t = s.Mt.Get();
          return n.createElement(
            "div",
            {
              className: (0, y.A)(
                Xe().FlexRowWrapFlexStartContainer,
                Xe().BottomBar,
              ),
            },
            n.createElement(
              m.jn,
              {
                className: Xe().BasicButtonSize,
                onClick: (e) =>
                  (0, h.pg)(n.createElement(Ki, null), (0, v.uX)(e)),
              },
              t.BIsDirty() ? "Save" : "Saved",
            ),
            n.createElement(
              m.$n,
              { className: Xe().BasicButtonSize, onClick: st },
              "Re-order Dynamic Sections",
            ),
          );
        }),
        Ki = (e) => {
          const { closeModal: t } = e,
            [a, r] = n.useState(!0),
            [i, l] = n.useState(new Array());
          return (
            (0, n.useEffect)(() => {
              const e = s.Mt.Get(),
                t = C().CancelToken.source();
              return (
                e
                  .Save(t.token)
                  .then((e) => {
                    if (e) {
                      const t = new Array();
                      t.push(e), l(t);
                    }
                  })
                  .finally(() => {
                    e.RefreshActiveStats(), r(!1);
                  }),
                () => t.cancel("OptInEditorSaveDialog unmounting")
              );
            }, []),
            n.createElement(
              T.eV,
              { bAllowFullSize: !0, onCancel: t, closeModal: t },
              n.createElement(m.Y9, null, "Saving Opt-In Data"),
              n.createElement(
                m.nB,
                null,
                Boolean(a && 0 == i.length) &&
                  n.createElement(
                    "div",
                    null,
                    "We are saving the Opt-In Data, please be patient.\t",
                  ),
                Boolean(i.length > 0) &&
                  n.createElement(
                    "div",
                    { className: I.ErrorStylesBackground },
                    i.map((e) =>
                      n.createElement("span", { key: "" + e.length }, e),
                    ),
                  ),
                a &&
                  n.createElement(M.t, {
                    size: "medium",
                    position: "center",
                    string: (0, R.we)("#Saving"),
                  }),
                Boolean(!a && 0 == i.length) &&
                  n.createElement("div", null, "Save Successful."),
              ),
              n.createElement(
                m.wi,
                null,
                n.createElement(
                  m.jn,
                  { onClick: t, disabled: a },
                  (0, R.we)("#Button_Close"),
                ),
              ),
            )
          );
        };
      function Yi(e) {
        const { appid: t } = e,
          [a, r] = n.useState(!0);
        n.useEffect(() => {
          const e = l.v
            .Get()
            .GetActiveOptIn()
            .map((e) => kt.uL.Get().LoadOptInRegistration(e.pageid, t));
          Promise.all(e).finally(() => r(!1));
        }, [t]);
        const [i] = (0, Nt.t7)(t, {
          include_assets: !0,
          include_basic_info: !0,
        });
        return n.createElement(
          d.tH,
          null,
          n.createElement(
            "div",
            { className: ut().AdminPageCtn },
            n.createElement(
              "div",
              { className: ut().PageTitle },
              "Opt-In Game Support Page: ",
              i ? i.GetName() : "Unknown",
              " (",
              t,
              ") ",
              n.createElement(
                "span",
                { className: ut().ValveOnlyTitle },
                "Valve Only Page",
              ),
            ),
            n.createElement("hr", null),
            n.createElement(
              "p",
              null,
              "Valve-only - go to the event registration page for this game within any upcoming or active events.",
            ),
            n.createElement(
              "p",
              null,
              "Allows you to invite the game even if otherwise not eligible.",
            ),
            n.createElement(
              "div",
              null,
              n.createElement(
                "ol",
                null,
                l.v
                  .Get()
                  .GetActiveOptIn()
                  .map((e) => {
                    if (!e.sale_optin_enabled) return null;
                    const a = kt.uL.Get().GetRegistration(t, e.pageid);
                    return n.createElement(
                      "li",
                      { key: e.pageid },
                      n.createElement(
                        "a",
                        {
                          href:
                            f.TS.PARTNER_BASE_URL +
                            "optin/sale/" +
                            e.pageid +
                            "/" +
                            t,
                        },
                        e.event_title.english,
                        " ",
                        a?.opt_in ? " - OptIn" : "",
                      ),
                    );
                  }),
              ),
            ),
            a &&
              n.createElement(M.t, {
                size: "medium",
                position: "center",
                string: (0, R.we)("#Loading"),
              }),
          ),
        );
      }
      class $i {
        static s_OptInRegs;
        m_registration = void 0;
        m_bDirty = !1;
        static Get() {
          return (
            $i.s_OptInRegs ||
              (($i.s_OptInRegs = new $i()),
              (window.COptInRegstationEditStore = $i.s_OptInRegs)),
            $i.s_OptInRegs
          );
        }
        constructor() {
          (0, z.Gn)(this);
        }
        BHasAdditionalFeaturing() {
          return this.m_registration.additional_featuring;
        }
        BHasCheckedTrailerUsage() {
          return this.m_registration.jsondata.trailer_permission;
        }
        SetCheckedTrailerUsage(e) {
          (this.m_registration.jsondata.trailer_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_trailer =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  f.iA.accountid))
              : ((this.m_registration.jsondata.rtime_granting_trailer = void 0),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedDemoUsage() {
          return this.m_registration.jsondata.demo_permission;
        }
        SetCheckedDemorUsage(e) {
          (this.m_registration.jsondata.demo_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_demo = Math.floor(
                  new Date().getTime() / 1e3,
                )),
                (this.m_registration.jsondata.accountid_granting_demo =
                  f.iA.accountid))
              : ((this.m_registration.jsondata.rtime_granting_demo = void 0),
                (this.m_registration.jsondata.accountid_granting_demo =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedNoPlannedDiscounts() {
          return this.m_registration.no_planned_discount;
        }
        SetCheckedNoPlannedDiscounts(e) {
          this.m_registration.no_planned_discount != e &&
            ((this.m_registration.no_planned_discount = e), this.SetDirty(!0));
        }
        BHasGameProfileIntent() {
          return this.m_registration.jsondata.game_profile_intent;
        }
        SetGameProfileIntent(e) {
          (this.m_registration.jsondata.game_profile_intent = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_profile =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_profile =
                  f.iA.accountid))
              : ((this.m_registration.jsondata.rtime_granting_profile = void 0),
                (this.m_registration.jsondata.accountid_granting_profile =
                  void 0)),
            this.SetDirty(!0);
        }
        GetModel() {
          return this.m_registration;
        }
        GetFirstSelectedItem(e, t) {
          let a = this.GetSelectedItems(e, t);
          return a && a.length > 0 && null != a[0] ? a[0] : null;
        }
        GetSelectedItems(e, t) {
          if (
            this.m_registration &&
            this.m_registration.jsondata &&
            this.m_registration.jsondata.dynamic_selection
          ) {
            let a = this.m_registration.jsondata.dynamic_selection.findIndex(
              (t) => t.section_id == e,
            );
            if (
              -1 !== a &&
              this.m_registration.jsondata.dynamic_selection[a]
                .list_selection &&
              this.m_registration.jsondata.dynamic_selection[a].list_selection
                .findIndex
            ) {
              let e = this.m_registration.jsondata.dynamic_selection[
                a
              ].list_selection.findIndex((e) => e.list_id == t);
              if (-1 !== e) {
                let t =
                  this.m_registration.jsondata.dynamic_selection[a]
                    .list_selection[e].selected_item_id;
                if (t && t.length > 0 && null != t[0]) return t;
              }
            }
          } else
            console.log(
              "COptInRegstationEditStore: failed to find selected values for:",
              e,
              t,
            );
          return [];
        }
        Reset(e) {
          (this.m_registration = JSON.parse(JSON.stringify(e))),
            (this.m_registration.jsondata &&
              "" !== this.m_registration.jsondata) ||
              (this.m_registration.jsondata = {}),
            "string" == typeof this.m_registration.jsondata &&
              (this.m_registration.jsondata = JSON.parse(
                this.m_registration.jsondata,
              )),
            (this.m_bDirty = !1);
        }
        SetDirty(e) {
          this.m_bDirty != e && (this.m_bDirty = e);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
      }
      (0, L.Cg)([z.sH], $i.prototype, "m_registration", void 0),
        (0, L.Cg)([z.sH], $i.prototype, "m_bDirty", void 0),
        (0, L.Cg)([z.XI.bound], $i.prototype, "SetCheckedTrailerUsage", null),
        (0, L.Cg)([z.XI.bound], $i.prototype, "SetCheckedDemorUsage", null),
        (0, L.Cg)(
          [z.XI.bound],
          $i.prototype,
          "SetCheckedNoPlannedDiscounts",
          null,
        ),
        (0, L.Cg)([z.XI.bound], $i.prototype, "SetGameProfileIntent", null);
      var Ji = a(72811),
        Xi = a(61732),
        Qi = a(19514);
      const Zi = (0, Le.PA)((e) =>
          e.sections && 0 != e.sections.length
            ? n.createElement(
                "div",
                null,
                n.createElement(
                  d.tH,
                  null,
                  e.sections.map((e, t) =>
                    !e.valve_only || f.iA.is_support
                      ? n.createElement(es, {
                          key: e.unique_id,
                          section: e,
                          sectionIndex: t,
                        })
                      : null,
                  ),
                ),
              )
            : null,
        ),
        es = (0, Le.PA)((e) => {
          const { section: t, sectionIndex: a } = e,
            r = (0, xe.sf)(f.TS.LANGUAGE),
            i = (0, ze.Ym)(
              t.name,
              r,
              (0, R.we)("#OptIn_Registration_Title", a),
            ),
            s = (0, ze.Ym)(t.description, r, ""),
            l = t.valve_only;
          return n.createElement(
            "div",
            {
              id: e.section.unique_id,
              className: (0, y.A)({
                [Qi.DynamicSection]: !0,
                [_().ValveOnlyBackground]: l,
              }),
            },
            n.createElement("h3", null, l && "(VO) ", i),
            n.createElement(
              "div",
              null,
              n.createElement(Ji.f, { text: s, event: null }),
            ),
            n.createElement(ts, { section: t, sectionIndex: a }),
          );
        }),
        ts = (0, Le.PA)((e) => {
          const { section: t, sectionIndex: a } = e;
          if ("text_input" === t.input_style)
            return n.createElement(as, {
              ...e,
              list: t.lists[0],
              listIndex: 0,
            });
          {
            const a = Boolean(
              "radio" == t.input_style || "checkbox" == t.input_style,
            );
            return n.createElement(
              "div",
              { className: a ? Qi.ListContainer : void 0 },
              t.lists.map((t, r) =>
                a
                  ? n.createElement(ns, {
                      key: t.unique_id,
                      ...e,
                      list: t,
                      listIndex: r,
                    })
                  : n.createElement(rs, {
                      key: t.unique_id,
                      ...e,
                      list: t,
                      listIndex: r,
                    }),
              ),
            );
          }
        }),
        as = (0, Le.PA)((e) => {
          const { section: t, list: a, listIndex: r } = e,
            i = $i.Get().GetSelectedItems(t.unique_id, a.unique_id),
            [s, l] = (0, n.useState)(i?.length > 0 ? i[0] : "");
          return (
            (0, Et.w)(0 == r, "expected list index to be zero"),
            n.createElement(
              "div",
              null,
              n.createElement("textarea", {
                className: Qi.TextArea,
                value: s,
                onChange: (e) => l(e.currentTarget.value || ""),
              }),
              n.createElement(is, {
                ...e,
                list: a,
                listIndex: r,
                item_unique_ids: [s],
              }),
            )
          );
        }),
        ns = (0, Le.PA)((e) => {
          const { section: t, list: a } = e,
            [r, i] = (0, n.useState)(
              $i.Get().GetSelectedItems(t.unique_id, a.unique_id),
            ),
            s = (0, xe.sf)(f.TS.LANGUAGE),
            l = (0, ze.Ym)(a.option_title, s),
            o = new Array(),
            c = Xi.OQ(t.columns, 1, 3);
          for (let e = 0; e < c; ++e)
            o.push(
              n.createElement(
                "div",
                { key: "column" + e, className: Qi.Column },
                a.options
                  .filter((t, a) => a % c == e)
                  .map((e) => {
                    const a = (0, ze.Ym)(e.text, s),
                      l = (0, ze.Ym)(e.tooltip, s, void 0);
                    return "radio" == t.input_style
                      ? n.createElement(
                          m.a,
                          { key: e.unique_id, value: e.unique_id },
                          n.createElement(
                            Ke.he,
                            { toolTipContent: l, bDisabled: !l },
                            a,
                            " ",
                            Boolean(l) && "(?)",
                          ),
                        )
                      : n.createElement(m.Yh, {
                          key: e.unique_id,
                          label: a,
                          tooltip: l,
                          checked: -1 !== r.findIndex((t) => t == e.unique_id),
                          onChange: (t) => {
                            let a = r.findIndex((t) => t == e.unique_id);
                            if (t && -1 == a) {
                              let t = JSON.parse(JSON.stringify(r));
                              t.push(e.unique_id), i(t);
                            } else if (!t && -1 != a) {
                              let e = JSON.parse(JSON.stringify(r));
                              e.splice(a, 1), i(e);
                            }
                          },
                        });
                  }),
              ),
            );
          return n.createElement(
            "div",
            null,
            Boolean(l) &&
              n.createElement("div", { className: Qi.ListTitle }, l),
            n.createElement(
              m.zW,
              { value: r.length > 0 ? r[0] : null, onChange: (e) => i([e]) },
              o,
            ),
            n.createElement(is, { ...e, item_unique_ids: r }),
          );
        }),
        rs = (0, Le.PA)((e) => {
          const { section: t, list: a } = e,
            [r, i] = (0, n.useState)(
              $i.Get().GetSelectedItems(t.unique_id, a.unique_id),
            ),
            s = (0, xe.sf)(f.TS.LANGUAGE),
            l = (0, ze.Ym)(a.option_title, s),
            o = [],
            c = a.options.map((e) => {
              const t = (0, ze.Ym)(e.text, s);
              let a = { value: e.unique_id, label: t };
              return -1 != r.findIndex((t) => t == e.unique_id) && o.push(a), a;
            });
          return n.createElement(
            "div",
            { className: Qi.SelectContianer },
            Boolean(l) &&
              n.createElement("div", { className: Qi.ListTitle }, l),
            n.createElement(mt.Ay, {
              name: "searchField",
              backspaceRemovesValue: !0,
              isSearchable: !0,
              isMulti: Boolean("multi_select" == t.input_style),
              defaultMenuIsOpen: !1,
              isClearable: !0,
              placeholder: Boolean("multi_select" == t.input_style)
                ? (0, R.we)("#OptIn_Registration_Select_Placeholder_Plural")
                : (0, R.we)("#OptIn_Registration_Select_Placeholder"),
              value: o,
              options: c,
              getOptionLabel: (e) => e.label,
              getOptionValue: (e) => e.value,
              onChange: (e, { action: t }) => {
                i(e ? e.map((e) => e.value) : []);
              },
            }),
            n.createElement(is, { ...e, item_unique_ids: r }),
          );
        }),
        is = (0, Le.PA)((e) => {
          const {
            section: t,
            list: a,
            sectionIndex: r,
            listIndex: i,
            item_unique_ids: s,
          } = e;
          return !s || 0 == s.length || (1 == s.length && null == s[0])
            ? n.createElement(
                n.Fragment,
                null,
                n.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${r}][section_id]`,
                  value: t.unique_id,
                }),
                n.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${r}][list_selection][${i}][list_id]`,
                  value: a.unique_id,
                }),
              )
            : n.createElement(
                n.Fragment,
                null,
                n.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${r}][section_id]`,
                  value: t.unique_id,
                }),
                n.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${r}][list_selection][${i}][list_id]`,
                  value: a.unique_id,
                }),
                Boolean(s) &&
                  s.map((e, t) =>
                    n.createElement("input", {
                      key: "selected_" + e,
                      type: "hidden",
                      name: `dynamic_selection[${r}][list_selection][${i}][selected_item_id][${t}]`,
                      value: e,
                    }),
                  ),
              );
        });
      var ss = a(77516),
        ls = a(3919),
        os = a(30294),
        cs = a(82807);
      const ms = (0, Le.PA)((e) => {
        if (!e.eventdata) return null;
        const { appid: t, eventdata: a } = e,
          r = (0, R.we)("#OptIn_GameListing_Title");
        let i = (function (e, t) {
          const a = t.jsondata,
            r = Number.parseInt(e),
            i = (0, xe.sf)(f.TS.LANGUAGE),
            s = [];
          let l = null,
            o = [];
          for (const e of a.sale_sections)
            if ("tabs" === e.section_type && e.tabs?.length) {
              l = [];
              for (const t of e.tabs)
                l.push({ id: t.unique_id, label: (0, os.ue)(t, i) }),
                  (t.capsules?.length && !t.capsules.some((e) => e.id === r)) ||
                    o.push(t.unique_id);
            }
          let c = !1;
          for (const e of a.sale_sections)
            if ("tabs" === e.section_type && e.tabs) c = !0;
            else if ((0, ss.ye)(e.section_type) && e.capsules) {
              let a = e.capsules.some((e) => e.id === r);
              if (
                (e.smart_section && e.enable_faceted_browsing && (a = !0), !a)
              )
                continue;
              const m = (0, cs.yO)(e, t, i, 0, 0, !0);
              if (null === l)
                s.push(n.createElement(ds, { key: m, section: m, tab: "" }));
              else {
                let t = e.show_on_tabs?.length
                  ? e.show_on_tabs
                  : l.map((e) => e.id);
                c &&
                  !e.diable_tab_id_filtering &&
                  (t = t.filter((e) => o.includes(e)));
                for (const e of t) {
                  const t = l.find((t) => t.id === e);
                  t &&
                    s.push(
                      n.createElement(ds, {
                        key: m + e,
                        section: m,
                        tab: t.label,
                      }),
                    );
                }
              }
            }
          return s;
        })(t, a);
        return i.length > 0
          ? n.createElement(
              d.tH,
              null,
              n.createElement(
                "div",
                { className: "survey_section" },
                n.createElement(
                  "h1",
                  null,
                  (0, R.we)("#OptIn_OptInOut_CategorizationTitle"),
                ),
                (0, R.we)("#OptIn_OptInOut_CategorizationDesc"),
                n.createElement(
                  "div",
                  { className: "indent_section" },
                  n.createElement(
                    "div",
                    {
                      className: (0, y.A)(Qi.DynamicSection, Qi.Categorization),
                    },
                    n.createElement("h3", null, r),
                    (0, R.we)("#OptIn_GameListing_Detail_noTab"),
                    n.createElement(
                      "div",
                      {
                        className: (0, y.A)(
                          Qi.DynamicSection,
                          Qi.VisibilityTable,
                        ),
                      },
                      n.createElement(
                        "div",
                        { className: "landingTable blueish" },
                        n.createElement(
                          "div",
                          { className: "tr heading" },
                          n.createElement("div", { className: "th" }, "Tab"),
                          n.createElement(
                            "div",
                            { className: "th" },
                            "Section",
                          ),
                        ),
                        i,
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: Qi.DynamicSection },
                      n.createElement(
                        ls.tj,
                        {
                          eventModel: e.eventdata,
                          route: ls.PH.k_eStoreSalePage,
                          className: (0, y.A)(p.Button, p.Primary),
                        },
                        (0, R.we)("#Sale_Link_PreviewEvent"),
                      ),
                    ),
                  ),
                ),
              ),
            )
          : n.createElement(
              d.tH,
              null,
              n.createElement(
                "div",
                { className: Qi.DynamicSection },
                n.createElement("h3", null, r),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_GameListing_Detail_Empty"),
                ),
              ),
            );
      });
      const ds = (e) =>
        n.createElement(
          d.tH,
          null,
          n.createElement(
            "div",
            { className: (0, y.A)("tr", "highlightHover") },
            n.createElement("a", { className: "td" }, e.tab),
            n.createElement("a", { className: "td" }, e.section),
          ),
        );
      function us(e) {
        const { optInDefinition: t, appid: a } = e,
          r = (0, f.Fd)("optin_preview_mode", "application_config") || !1;
        return ($i.Get().BHasAdditionalFeaturing() || r) &&
          t.additional_featuring_section_enabled &&
          (t.collect_trailer_permissions ||
            t.collect_demo_permissions ||
            t.collect_game_profile_intent)
          ? n.createElement(
              "div",
              null,
              Boolean(r) &&
                n.createElement(
                  "div",
                  { className: I.WarningStylesBackground },
                  "NOTE: Visibility, Demo, and Trailer use permissions sections below will only appear publicly for apps marked with featuring.",
                ),
              n.createElement(ps, { optInDefinition: t, appid: a }),
            )
          : null;
      }
      function ps(e) {
        const { optInDefinition: t, appid: a } = e,
          [r] = (0, u.QD)("focusmedia", !1);
        return (
          (0, n.useEffect)(() => {
            r &&
              (0, h.pg)(
                n.createElement(_s, { optInDefinition: t, appid: a }),
                window,
              );
          }, [r, t, a]),
          n.createElement(gs, { ...e, bShowVisibilityDetails: !0 })
        );
      }
      function _s(e) {
        const { optInDefinition: t, appid: a, closeModal: r } = e,
          i = (0, Ct.vs)();
        return i.bLoading
          ? n.createElement(Ct.Hh, {
              state: i,
              strDialogTitle: (0, R.we)("#OptIn_Collect_Dialog_Title"),
              strThrobber: (0, R.we)("#Saving"),
              closeModal: r,
            })
          : n.createElement(
              T.o0,
              {
                strTitle: (0, R.we)("#OptIn_Collect_Dialog_Title"),
                strDescription: (0, R.we)("#OptIn_Collect_Dialog_Desc"),
                onOK: () => {
                  i.fnSetLoading(!0),
                    kt.uL
                      .Get()
                      .UpdateOptInRegistrationJson(
                        a,
                        $i.Get().GetModel().jsondata,
                      )
                      .then((e) => {
                        e
                          ? (i.fnSetError(!0), i.fnSetStrError(e))
                          : i.fnSetSuccess(!0);
                      })
                      .catch((e) => i.fnSetError(!0));
                },
                onCancel: r,
              },
              n.createElement(gs, {
                optInDefinition: t,
                appid: a,
                bShowVisibilityDetails: !1,
              }),
            );
      }
      function gs(e) {
        const { optInDefinition: t, appid: a, bShowVisibilityDetails: r } = e;
        return n.createElement(
          n.Fragment,
          null,
          Boolean(r) &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: "sub_category" },
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_Collect_Dialog_Title"),
                ),
              ),
              n.createElement(
                "p",
                null,
                (0, R.we)("#OptIn_Collect_Dialog_Desc"),
              ),
            ),
          Boolean(t.collect_trailer_permissions) &&
            n.createElement(hs, { optInDefinition: t }),
          Boolean(t.collect_demo_permissions) &&
            n.createElement(Es, { optInDefinition: t }),
          Boolean(t.collect_game_profile_intent) &&
            n.createElement(Ss, { optInDefinition: t, appid: a }),
        );
      }
      function hs(e) {
        const { optInDefinition: t } = e,
          a = t.event_title[f.TS.LANGUAGE] || t.event_title.english,
          r = t.do_anytime.enter_discounts,
          i = t.launch_demo?.enabled,
          [s, l, o] = (0, Ne.q3)(() => [
            $i.Get().GetModel().jsondata.trailer_permission,
            $i.Get().GetModel().jsondata.rtime_granting_trailer,
            $i.Get().GetModel().jsondata.accountid_granting_trailer,
          ]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            { className: "sub_category" },
            n.createElement(
              "h3",
              null,
              (0, R.we)("#OptIn_Collect_Trailer"),
              " ",
              n.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? n.createElement(
                      n.Fragment,
                      null,
                      "(",
                      (0, R.we)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, R.$z)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : n.createElement(
                      n.Fragment,
                      null,
                      "(",
                      (0, R.we)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Trailer_check", a),
          ),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Permission_DocReminder"),
          ),
          n.createElement(
            "div",
            { className: "eligibility" },
            n.createElement(
              "h5",
              null,
              (0, R.we)("#OptIn_Collect_Trailer_eligibility"),
            ),
            Boolean(r && t.collect_demo_deadline) &&
              n.createElement(
                "p",
                null,
                (0, R.we)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, R.$z)(t.collect_demo_deadline),
                ),
              ),
            Boolean(i && t.collect_demo_deadline) &&
              n.createElement(
                "p",
                null,
                (0, R.we)(
                  "#OptIn_Collect_Trailer_deadline_1",
                  (0, R.$z)(t.collect_demo_deadline),
                ),
              ),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(_().FlexRowContainer, _().RadioOption) },
            n.createElement("input", {
              type: "radio",
              id: "GatherTrailerPermission",
              onChange: () => $i.Get().SetCheckedTrailerUsage(!0),
              checked: Boolean(s && l),
              value: "1",
              name: "trailer_permission",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherTrailerPermission" },
              (0, R.we)("#OptIn_Collect_Trailer_check_label"),
            ),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(_().FlexRowContainer, _().RadioOption) },
            n.createElement("input", {
              type: "radio",
              id: "GatherTrailerNoPermission",
              onChange: () => $i.Get().SetCheckedTrailerUsage(!1),
              checked: Boolean(!s && !l),
              value: "0",
              name: "trailer_permission",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherTrailerNoPermission" },
              (0, R.we)("#OptIn_Collect_Trailer_nocheck_label"),
            ),
          ),
          Boolean(l) &&
            n.createElement("input", {
              type: "hidden",
              value: l,
              name: "rtime_granting_trailer",
            }),
          Boolean(o) &&
            n.createElement("input", {
              type: "hidden",
              value: o,
              name: "accountid_granting_trailer",
            }),
          n.createElement("br", null),
          n.createElement("br", null),
        );
      }
      function Es(e) {
        const { optInDefinition: t } = e,
          a = t.event_title[f.TS.LANGUAGE] || t.event_title.english,
          r = t.do_anytime.enter_discounts,
          [i, s, l] = (0, Ne.q3)(() => [
            $i.Get().GetModel().jsondata.demo_permission,
            $i.Get().GetModel().jsondata.rtime_granting_demo,
            $i.Get().GetModel().jsondata.accountid_granting_demo,
          ]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            { className: "sub_category" },
            n.createElement(
              "h3",
              null,
              (0, R.we)("#OptIn_Collect_Demo"),
              " ",
              n.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? n.createElement(
                      n.Fragment,
                      null,
                      "(",
                      (0, R.we)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, R.$z)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : n.createElement(
                      n.Fragment,
                      null,
                      "(",
                      (0, R.we)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          n.createElement("p", null, (0, R.we)("#OptIn_Collect_Demo_check", a)),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Permission_DocReminder"),
          ),
          n.createElement(
            "div",
            { className: "eligibility" },
            n.createElement(
              "h5",
              null,
              (0, R.we)("#OptIn_Collect_Trailer_eligibility"),
            ),
            Boolean(r && t.collect_demo_deadline) &&
              n.createElement(
                "p",
                null,
                (0, R.we)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, R.$z)(t.collect_demo_deadline),
                ),
              ),
            Boolean(t.collect_demo_deadline) &&
              n.createElement(
                "p",
                null,
                (0, R.we)(
                  "#OptIn_Collect_Demo_deadline_1",
                  (0, R.$z)(t.collect_demo_deadline),
                ),
              ),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(_().FlexRowContainer, _().RadioOption) },
            n.createElement("input", {
              type: "radio",
              id: "GatherDemoPermission",
              onChange: () => $i.Get().SetCheckedDemorUsage(!0),
              checked: Boolean(i && s),
              value: "1",
              name: "demo_permission",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherDemoPermission" },
              (0, R.we)("#OptIn_Collect_Demo_check_label"),
            ),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(_().FlexRowContainer, _().RadioOption) },
            n.createElement("input", {
              type: "radio",
              id: "GatherNoDemoPermission",
              onChange: () => $i.Get().SetCheckedDemorUsage(!1),
              checked: Boolean(!i && !s),
              value: "0",
              name: "demo_permission",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherNoDemoPermission" },
              (0, R.we)("#OptIn_Collect_Demo_nocheck_label"),
            ),
          ),
          Boolean(s) &&
            n.createElement("input", {
              type: "hidden",
              value: s,
              name: "rtime_granting_demo",
            }),
          Boolean(l) &&
            n.createElement("input", {
              type: "hidden",
              value: l,
              name: "accountid_granting_demo",
            }),
          n.createElement("br", null),
          n.createElement("br", null),
        );
      }
      function Ss(e) {
        const { optInDefinition: t, appid: a } = e,
          r = t.event_title[f.TS.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          s = t.pageid,
          [l, o, c] = (0, Ne.q3)(() => [
            $i.Get().BHasGameProfileIntent(),
            $i.Get().GetModel().jsondata.accountid_granting_profile,
            $i.Get().GetModel().jsondata.rtime_granting_profile,
          ]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            { className: "sub_category" },
            n.createElement(
              "h3",
              null,
              (0, R.we)("#OptIn_Collect_Game_Profile_Intent"),
              " ",
              n.createElement(
                "span",
                { className: "required_optional1" },
                "(",
                (0, R.we)("#OptIn_Collect_Optional"),
                ")",
              ),
            ),
          ),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Game_Profile_Intent_main", r),
            "  ",
            Boolean(i) &&
              n.createElement(
                "span",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_requirediscount"),
              ),
          ),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Game_Profile_Intent_detail_1", r),
          ),
          n.createElement(
            "p",
            null,
            (0, R.we)("#OptIn_Collect_Game_Profile_Intent_detail_2", r),
          ),
          n.createElement(
            "ul",
            null,
            n.createElement(
              "li",
              null,
              (0, R.we)("#OptIn_Collect_Game_Profile_Intent_requirement"),
            ),
            n.createElement(
              "ul",
              null,
              n.createElement(
                "li",
                null,
                (0, R.we)(
                  "#OptIn_Collect_Game_Profile_Intent_requirement_1",
                  r,
                ),
              ),
              Boolean(i) &&
                n.createElement(
                  "li",
                  null,
                  (0, R.we)("#OptIn_Collect_Game_Profile_Intent_requirement_2"),
                ),
            ),
          ),
          n.createElement(
            "ul",
            null,
            n.createElement(
              "li",
              null,
              (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset"),
            ),
            n.createElement(
              "ul",
              null,
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_1"),
              ),
              n.createElement(
                "ul",
                null,
                n.createElement(
                  "li",
                  null,
                  (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_1b", s),
                ),
              ),
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_2"),
              ),
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_3"),
              ),
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_4"),
              ),
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_Collect_Game_Profile_Intent_asset_5"),
              ),
            ),
          ),
          n.createElement(
            "p",
            null,
            (0, R.oW)(
              "#OptIn_Collect_Game_Profile_Intent_learnmore",
              n.createElement("a", {
                href: "https://partner.steamgames.com/doc/marketing/pointsshopitems#gameprofile",
                target: "_blank",
              }),
            ),
            n.createElement(
              "span",
              null,
              (0, R.oW)(
                "#OptIn_Collect_Game_Profile_Intent_goto",
                n.createElement("a", {
                  href: `${f.TS.PARTNER_BASE_URL}apps/communityitems/${a}`,
                  target: "_blank",
                }),
              ),
            ),
          ),
          n.createElement(
            "div",
            null,
            n.createElement("input", {
              type: "radio",
              id: "GatherGameProfileIntent",
              onChange: () => $i.Get().SetGameProfileIntent(!0),
              checked: Boolean(l && o),
              value: "1",
              name: "game_profile_intent",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherGameProfileIntent" },
              (0, R.we)("#OptIn_Collect_Game_Profile_Intent_label"),
            ),
          ),
          n.createElement(
            "div",
            null,
            n.createElement("input", {
              type: "radio",
              id: "GatherGameProfileNoIntent",
              onChange: () => $i.Get().SetGameProfileIntent(!1),
              checked: Boolean(!l && !o),
              value: "0",
              name: "game_profile_intent",
            }),
            n.createElement(
              "label",
              { htmlFor: "GatherGameProfileNoIntent" },
              (0, R.we)("#OptIn_Collect_Game_Profile_NoIntent_label"),
            ),
          ),
          Boolean(o) &&
            n.createElement("input", {
              type: "hidden",
              value: o,
              name: "accountid_granting_profile",
            }),
          Boolean(c) &&
            n.createElement("input", {
              type: "hidden",
              value: c,
              name: "rtime_granting_profile",
            }),
          n.createElement("br", null),
          n.createElement("br", null),
        );
      }
      function ys(e) {
        const { optInDefinition: t } = e,
          a = $i.Get(),
          r = t.event_title[f.TS.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          [s, l] = (0, Ne.q3)(() => [
            a.BHasCheckedNoPlannedDiscounts(),
            a.GetModel().appid,
          ]),
          [o] = (0, Nt.t7)(l, { include_release: !0 });
        return !i || o?.BIsComingSoon() || o?.BIsFree()
          ? null
          : o
            ? n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: "sub_category" },
                  n.createElement(
                    "h3",
                    null,
                    (0, R.we)("#OptIn_Discount_Intent"),
                  ),
                ),
                n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "div",
                    null,
                    (0, R.we)("#OptIn_Discount_Intent_Desc"),
                  ),
                ),
                n.createElement(
                  "div",
                  {
                    className: (0, y.A)(_().FlexRowContainer, _().RadioOption),
                  },
                  n.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_Yes",
                    value: "0",
                    checked: !s,
                    onChange: () => a.SetCheckedNoPlannedDiscounts(!1),
                  }),
                  n.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_Yes" },
                    n.createElement(
                      "span",
                      null,
                      (0, R.we)(
                        "#OptIn_Discount_Intent_Desc_radio_yes",
                        o.GetName(),
                        r,
                      ),
                    ),
                  ),
                ),
                n.createElement(
                  "div",
                  {
                    className: (0, y.A)(_().FlexRowContainer, _().RadioOption),
                  },
                  n.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_No",
                    value: "1",
                    checked: s,
                    onChange: () => a.SetCheckedNoPlannedDiscounts(!0),
                  }),
                  n.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_No" },
                    n.createElement(
                      "span",
                      null,
                      (0, R.we)(
                        "#OptIn_Discount_Intent_Desc_radio_no",
                        o.GetName(),
                        r,
                      ),
                    ),
                  ),
                ),
              )
            : n.createElement(M.t, { size: "small", position: "center" });
      }
      var vs = a(69290),
        fs = a.n(vs),
        bs = a(75233),
        ws = a(51614);
      var Ds = a(64753),
        Cs = a(13549);
      function Is(e) {
        const { optInDefinition: t } = e,
          a = $i.Get().GetModel(),
          r = (0, Ne.q3)(
            () => a.jsondata.free_to_keep_item_drop?.dlc_appid || null,
          );
        return t.free_to_keep_item_drop?.enabled
          ? n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: "sub_category" },
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_FreeToKeep_Title"),
                ),
              ),
              n.createElement(
                "div",
                { className: fs().TitleAndDoc },
                n.createElement(
                  "div",
                  null,
                  (0, R.we)("#OptIn_FreeToKeep_Desc"),
                ),
                n.createElement(
                  "a",
                  {
                    href: `${f.TS.PARTNER_BASE_URL}doc/store/promo/itemdrops`,
                    target: "_blank",
                  },
                  (0, R.we)("#AssetRequest_General_SeeDocs"),
                ),
              ),
              n.createElement(Bs, null),
              Boolean(r) &&
                n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(Ts, null),
                  n.createElement(As, null),
                  n.createElement(Ms, null),
                ),
              n.createElement("br", null),
            )
          : null;
      }
      function Bs(e) {
        const t = $i.Get().GetModel(),
          a = (function (e) {
            const t = (0, x.I)({
              queryKey: ["useFreeToKeepDLCInfoForApp", e],
              queryFn: async () => {
                const t = { appid: e, sessionid: St.TS.SESSIONID },
                  a = `${St.TS.PARTNER_BASE_URL}freetokeep/ajaxgetdlcforapp/`,
                  n = await C().get(a, { params: t, withCredentials: !0 });
                return 200 == n?.status && 1 == n.data.success && n.data.data
                  ? n.data.data
                  : null;
              },
              enabled: Boolean(e),
            });
            return t.isLoading ? null : t.data;
          })(t.appid),
          r = (0, Ne.q3)(
            () => t.jsondata.free_to_keep_item_drop?.dlc_appid || null,
          ),
          i = (0, n.useMemo)(() => {
            const e = new Array();
            return (
              a?.length > 0 &&
                a.forEach((t) => {
                  e.push({
                    data: t.dlc_appid,
                    label: `${t.name} (${t.dlc_appid})`,
                  });
                }),
              e.push({
                label: (0, R.we)(
                  "#SteamLearn_SnapshotFilter_AccountIDFilter_None",
                ),
                data: null,
              }),
              e
            );
          }, [a]);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(m.m, {
            label: (0, R.we)("#OptIn_FreeToKeep_DLC"),
            strDropDownClassName: _().DropDownScroll,
            rgOptions: i,
            selectedOption: r,
            onChange: (e) => {
              t.jsondata.free_to_keep_item_drop ||
                (t.jsondata.free_to_keep_item_drop = {}),
                (t.jsondata.free_to_keep_item_drop.dlc_appid = e.data);
            },
          }),
        );
      }
      function Ts(e) {
        const t = $i.Get().GetModel(),
          a = (0, Ne.q3)(
            () => t.jsondata.free_to_keep_item_drop?.dlc_appid || null,
          ),
          r = (function (e) {
            const t = (0, x.I)({
              queryKey: ["useFreeToKeepDLCReadiness", e],
              queryFn: async () => {
                const t = { appid: e, sessionid: St.TS.SESSIONID },
                  a = `${St.TS.PARTNER_BASE_URL}freetokeep/ajaxgetdlcfreetokeepreadiness/`,
                  n = await C().get(a, { params: t, withCredentials: !0 });
                return 200 == n?.status && 1 == n.data.success && n.data
                  ? {
                      bIsReleased: n.data.is_released,
                      bIsStoreCheclistComplete:
                        n.data.is_store_checklist_complete,
                    }
                  : null;
              },
              enabled: Boolean(e),
            });
            return t.isLoading ? null : t.data;
          })(a);
        return r
          ? r.bIsReleased
            ? n.createElement(
                "div",
                null,
                (0, R.we)("#OptIn_FreeToKeep_DLC_released"),
              )
            : r.bIsStoreCheclistComplete
              ? n.createElement(
                  "div",
                  null,
                  (0, R.we)("$OptIn_FreeToKeep_DLC_checklist_done"),
                )
              : n.createElement(
                  "a",
                  {
                    href: `${f.TS.PARTNER_BASE_URL}apps/landing/${a}`,
                    target: "_blank",
                  },
                  (0, R.we)("#OptIn_FreeToKeep_DLC_checklist_notready"),
                )
          : n.createElement(M.t, {
              string: (0, R.we)("#Loading"),
              size: "small",
              position: "center",
            });
      }
      function Ms(e) {
        const t = $i.Get().GetModel(),
          a = (0, Ne.q3)(
            () => t.jsondata.free_to_keep_item_drop?.dlc_appid || null,
          ),
          r = (function (e) {
            const t = (0, x.I)({
              queryKey: ["useDLCRequireBaseGameOwnership", e],
              queryFn: async () => {
                const t = { appid: e, sessionid: St.TS.SESSIONID },
                  a = `${St.TS.PARTNER_BASE_URL}freetokeep/ajaxgetdlcrequirebaseapp/`,
                  n = await C().get(a, { params: t, withCredentials: !0 });
                return 200 == n?.status &&
                  1 == n.data.success &&
                  n.data.parent_appid
                  ? {
                      unParentAppID: n.data.parent_appid,
                      bMustOwnAppToPurchase: n.data.must_own_to_purchase,
                      bSteamworkHasUnpublishedChanges:
                        n.data.steamworks_has_unpublished_changes,
                    }
                  : null;
              },
              enabled: Boolean(e),
            });
            return t.isLoading ? null : t.data;
          })(a),
          i = (function (e) {
            const t = (0, bs.jE)();
            return (0, ws.n)({
              mutationFn: async (a) => {
                const n = new FormData();
                n.append("sessionid", St.TS.SESSIONID),
                  n.append("appid", "" + e),
                  n.append("require", a ? "1" : "0");
                const r = `${St.TS.PARTNER_BASE_URL}freetokeep/ajaxupdatedlcrequirebaseapp`;
                try {
                  const a = await C().post(r, n);
                  if (200 == a?.status && 1 == a.data?.success)
                    return (
                      t.invalidateQueries({
                        queryKey: ["useDLCRequireBaseGameOwnership", e],
                      }),
                      !0
                    );
                } catch (e) {
                  console.error(
                    "UpdateDLC Base Game Requirement",
                    e,
                    (0, A.H)(e),
                  );
                }
                return !1;
              },
            });
          })(a),
          [s, l, o] = (0, Ds.uD)(),
          c = (0, n.useRef)(void 0);
        return r
          ? n.createElement(
              n.Fragment,
              null,
              n.createElement(m.Yh, {
                ref: c,
                label: (0, R.we)("#OptIn_FreeToKeep_RequireBase"),
                checked: r.bMustOwnAppToPurchase,
                onChange: (e) => {
                  c.current.SetChecked(r.bMustOwnAppToPurchase, !1), l();
                },
              }),
              n.createElement(
                T.EN,
                { active: s },
                n.createElement(T.o0, {
                  strTitle: (0, R.we)("#Dialog_AreYouSure"),
                  strDescription: (0, R.we)(
                    "#OptIn_FreeToKeep_RequireBase_change",
                  ),
                  onOK: () => i.mutate(!r.bMustOwnAppToPurchase),
                  closeModal: o,
                }),
              ),
              r.bSteamworkHasUnpublishedChanges &&
                n.createElement(
                  "a",
                  {
                    href: `${f.TS.PARTNER_BASE_URL}apps/publishing/${a}`,
                    target: "_blank",
                  },
                  (0, R.we)("#OptIn_FreeToKeep_Unpub_Steamworks"),
                ),
            )
          : n.createElement(M.t, {
              string: (0, R.we)("#Loading"),
              size: "small",
              position: "center",
            });
      }
      function As(e) {
        const t = $i.Get().GetModel(),
          [a, r] = (0, Ne.q3)(() => [
            t.jsondata.free_to_keep_item_drop?.dlc_appid || null,
            t.jsondata.free_to_keep_item_drop?.clan_event_gid || null,
          ]);
        return n.createElement(Cs.q, {
          label: (0, R.we)("#OptIn_FreeToKeep_Event"),
          tooltip: (0, R.we)("#OptIn_FreeToKeep_Event_Desc"),
          strUrlLearnMore: `${f.TS.PARTNER_BASE_URL}doc/store/promo/itemdrops#event`,
          appid: t.appid,
          selectedEventGID: r,
          bFilterOutDrafts: !1,
          fnSetUpdateEvent: (e, a) => {
            t.jsondata.free_to_keep_item_drop ||
              (t.jsondata.free_to_keep_item_drop = {}),
              (t.jsondata.free_to_keep_item_drop.clan_event_gid = a);
          },
        });
      }
      var ks = a(38390);
      const Rs = (e) => {
          let { pageid: t, appid: a } = e;
          t.startsWith("sale_sale_") && (t = t.substring(5));
          const r = l.v.Get().GetDefinition(t),
            [i, s] = (0, n.useState)(!1),
            o = (0, ks.RR)(r.public_event_id);
          if (
            ((0, n.useEffect)(() => {
              const e = kt.uL
                .Get()
                .CreateOrGetRegistration(Number.parseInt(a), t);
              $i.Get().Reset(e), s(!0);
            }, [t, a]),
            !r)
          )
            return (
              console.error("Definition is missing: " + a + " - " + t, r), null
            );
          if (!i)
            return n.createElement(M.t, {
              size: "medium",
              string: (0, R.we)("#Loading"),
            });
          return n.createElement(
            n.Fragment,
            null,
            n.createElement("a", { id: "GameListing" }),
            n.createElement(ms, { appid: a, eventdata: o }),
            n.createElement(
              "div",
              { className: "survey_section compact" },
              n.createElement("h1", null, (0, R.we)("#OptIn_OptInOut_Title")),
              (0, R.we)("#OptIn_OptInOut_Desc"),
              n.createElement(
                "div",
                { className: "indent_section" },
                n.createElement(Is, { optInDefinition: r }),
                n.createElement(Zi, { sections: r.dynamic_sections }),
                n.createElement(us, {
                  optInDefinition: r,
                  appid: Number.parseInt(a),
                }),
                n.createElement(ys, { optInDefinition: r }),
                Boolean(f.iA.is_support) &&
                  n.createElement(
                    "div",
                    { className: _().ValveOnlyBackground },
                    n.createElement(
                      m.$n,
                      {
                        onClick: () => {
                          const e = $i.Get().GetModel();
                          (0, h.pg)(
                            n.createElement(
                              T.o0,
                              {
                                strTitle: (0, R.we)("#OptIn_Debug"),
                                bAlertDialog: !0,
                              },
                              n.createElement(ot.G, { data: e }),
                            ),
                            window,
                          );
                        },
                      },
                      "(VO) " + (0, R.we)("#OptIn_Debug"),
                    ),
                  ),
              ),
            ),
          );
        },
        Ps = (e) =>
          n.createElement(In.XG, {
            message: (e) =>
              !s.Mt.Get().BIsDirty() ||
              e.pathname != bo.OptinAdminDashboard() ||
              (0, R.we)("#Generel_Discard_Warning"),
          });
      class Ns {
        m_nInvitedAppIDs = [];
        m_nPrunedAppIDs = [];
        m_nAdditionalFeaturedppIDs = [];
        m_nPendingReviewAppIDs = [];
        m_listCallback = new Aa.lu();
        m_mapReviewCallback = new Map();
        GetAsConsolidatedList() {
          return {
            invited_appids: this.m_nInvitedAppIDs,
            pruned_appids: this.m_nPrunedAppIDs,
            pending_review_appids: this.m_nPendingReviewAppIDs,
            additionally_featured_appids: this.m_nAdditionalFeaturedppIDs,
          };
        }
        GetConsolidatedListCallback() {
          return this.m_listCallback;
        }
        GetStateForAppCallback(e) {
          return (
            this.m_mapReviewCallback.has(e) ||
              this.m_mapReviewCallback.set(e, new Aa.lu()),
            this.m_mapReviewCallback.get(e)
          );
        }
        GetStateForApp(e) {
          return {
            invited: this.m_nInvitedAppIDs.includes(e),
            pruned: this.m_nPrunedAppIDs.includes(e),
            additionally_featured: this.m_nAdditionalFeaturedppIDs.includes(e),
            pending_review: this.m_nPendingReviewAppIDs.includes(e),
          };
        }
        async ChangeAppPruneState(e, t, a) {
          let n = null;
          try {
            const r = new FormData();
            r.append("sessionid", f.TS.SESSIONID),
              r.append("appids", JSON.stringify(t)),
              r.append("opt_in_name", e),
              r.append("prune", a ? "0" : "1");
            const i = f.TS.PARTNER_BASE_URL + "optin/ajaxpruneapp",
              s = await C().post(i, r, { withCredentials: !0 });
            if (200 == s?.status && 1 == s.data?.success)
              return (
                t.forEach((e) => {
                  if (this.m_nPendingReviewAppIDs.includes(e)) {
                    const t = this.m_nPendingReviewAppIDs.findIndex(
                      (t) => t == e,
                    );
                    this.m_nPendingReviewAppIDs.splice(t, 1),
                      (this.m_nPendingReviewAppIDs = [
                        ...this.m_nPendingReviewAppIDs,
                      ]);
                  }
                  if (a) {
                    if (this.m_nInvitedAppIDs.includes(e)) {
                      const t = this.m_nInvitedAppIDs.findIndex((t) => t == e);
                      this.m_nInvitedAppIDs.splice(t, 1),
                        (this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs]);
                    }
                    if (
                      ((this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs, e]),
                      this.m_nAdditionalFeaturedppIDs.includes(e))
                    ) {
                      const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                        (this.m_nAdditionalFeaturedppIDs = [
                          ...this.m_nAdditionalFeaturedppIDs,
                        ]);
                    }
                  } else {
                    if (this.m_nPrunedAppIDs.includes(e)) {
                      const t = this.m_nPrunedAppIDs.findIndex((t) => t == e);
                      this.m_nPrunedAppIDs.splice(t, 1),
                        (this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs]);
                    }
                    this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs, e];
                  }
                  this.GetStateForAppCallback(e).Dispatch(
                    this.GetStateForApp(e),
                  );
                }),
                this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                !0
              );
            n = (0, A.H)(s);
          } catch (e) {
            n = (0, A.H)(e);
          }
          return (
            console.error(
              "COptInAppReviewStore.ChangeAppPruneState failed: " +
                n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
        async ChangeAppAdditionalFeaturingState(e, t, a, n) {
          let r = null;
          if (!n) {
            const e = t.filter((e) => this.m_nInvitedAppIDs.includes(e));
            if (e.length != t.length)
              return (
                console.error(
                  "ChangeAppAdditionalFeaturingState: Not all app are already invited. Cannot change to featuring.",
                  t,
                  e,
                  this.m_nInvitedAppIDs,
                ),
                11
              );
          }
          try {
            const n = new FormData();
            n.append("sessionid", f.TS.SESSIONID),
              n.append("appids", JSON.stringify(t)),
              n.append("opt_in_name", e),
              n.append("feature", a ? "1" : "0");
            const i =
                f.TS.PARTNER_BASE_URL +
                "optin/ajaxupdateadditionalfeaturingapps",
              s = await C().post(i, n, { withCredentials: !0 });
            if (200 == s?.status && 1 == s.data?.success)
              return (
                t.forEach((e) => {
                  if (a)
                    this.m_nAdditionalFeaturedppIDs.includes(e) ||
                      (this.m_nAdditionalFeaturedppIDs.push(e),
                      this.GetStateForAppCallback(e).Dispatch(
                        this.GetStateForApp(e),
                      ));
                  else {
                    const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                      (t) => t == e,
                    );
                    this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                      this.GetStateForAppCallback(e).Dispatch(
                        this.GetStateForApp(e),
                      );
                  }
                }),
                this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                1
              );
            r = (0, A.H)(s);
          } catch (e) {
            r = (0, A.H)(e);
          }
          return (
            console.error(
              "COptInAppReviewStore.ChangeAppAdditionalFeaturingState failed: " +
                r?.strErrorMsg,
              r,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Ns.s_Singleton ||
              ((Ns.s_Singleton = new Ns()),
              ("dev" != f.TS.WEB_UNIVERSE && "beta" != f.TS.WEB_UNIVERSE) ||
                (window.g_OptInAppReviewStores = Ns.s_Singleton)),
            Ns.s_Singleton
          );
        }
        constructor() {
          let e = JSON.parse(
            JSON.stringify(
              (0, f.Tc)("optin_invite_prune_list", "application_config"),
            ),
          );
          this.ValidateStoreDefault(e) &&
            ((this.m_nInvitedAppIDs =
              e.invited_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nPrunedAppIDs =
              e.pruned_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nAdditionalFeaturedppIDs =
              e.additionally_featured_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []),
            (this.m_nPendingReviewAppIDs =
              e.pending_review_appids?.map((e) =>
                "string" == typeof e ? Number.parseInt(e) : e,
              ) || []));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            t &&
            "object" == typeof t &&
            (Array.isArray(t.invited_appids) || Array.isArray(t.pruned_appids))
          );
        }
      }
      function Gs() {
        return { fnChangeAppPruneState: Ns.Get().ChangeAppPruneState };
      }
      (0, L.Cg)([wt.o], Ns.prototype, "ChangeAppPruneState", null),
        (0, L.Cg)(
          [wt.o],
          Ns.prototype,
          "ChangeAppAdditionalFeaturingState",
          null,
        );
      var Os = a(29863),
        Fs = a(96236),
        Ls = a(74303);
      const Us = {
        include_basic_info: !0,
        include_assets: !0,
        include_tag_count: 10,
        include_release: !0,
      };
      function zs(e) {
        const {
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: a,
            rgNotToPruneList: r,
            pageid: i,
          } = e,
          [s, l] = n.useState(!0),
          o = (0, ln.m)("OptInAppReviewFilter");
        n.useEffect(() => {
          Pt.A.Get()
            .QueueMultipleAppRequests(t?.slice(0, 100) || [], Us)
            .then(() => {
              Pt.A.Get()
                .QueueMultipleAppRequests(t?.slice(100) || [], Us)
                .then(() => {
                  l(!1);
                });
            });
        }, [o.token.reason, i, t]);
        const [c, d] = n.useState(new Set()),
          [u, p] = n.useState(""),
          [_, g] = n.useState(0),
          [h, E] = n.useState(!1),
          [S, y] = n.useState(0);
        return (
          n.useEffect(() => {
            const e = u?.trim().length > 2,
              n = u?.toLocaleLowerCase(),
              i = Array.from(c),
              s = new Set(r || []);
            if (t.length > 0 && (c.size > 0 || e || _ || S)) {
              const r = t
                .filter((t) => {
                  if (e) {
                    const e = Pt.A.Get().GetApp(t);
                    return (
                      e?.GetName()?.toLocaleLowerCase().indexOf(n) >= 0 ||
                      e
                        ?.GetDeveloperNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(n) >= 0) ||
                      e
                        ?.GetPublisherNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(n) >= 0) ||
                      e
                        ?.GetFranchiseNames()
                        ?.some((e) => e.toLocaleLowerCase().indexOf(n) >= 0) ||
                      e
                        ?.GetShortDescription()
                        ?.toLocaleLowerCase()
                        .indexOf(n) >= 0
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (i.length > 0) {
                    const t = Pt.A.Get().GetApp(e);
                    return i.every((e) => t?.GetTagIDs().includes(e));
                  }
                  return !0;
                })
                .filter((e) => {
                  if (_ > 0) {
                    const t = Pt.A.Get().GetApp(e);
                    return (
                      t &&
                      (t?.BIsComingSoon() ||
                        t?.GetOriginalReleaseDateRTime() > _)
                    );
                  }
                  return !0;
                })
                .filter((e) => !(h && s.size > 0) || !s.has(e));
              o.token.reason || a(r);
            }
          }, [h, o.token.reason, a, S, _, r, t, c, u]),
          n.createElement(
            Qe.qx,
            { title: "Filter Options", bStartMinimized: !0 },
            Boolean(s)
              ? n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    m.JU,
                    null,
                    (0, R.we)("#EventCalendar_UniversalSearch"),
                  ),
                  n.createElement(M.t, {
                    size: "small",
                    string: `Loading ${t?.length || 0} Apps`,
                  }),
                )
              : n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(m.pd, {
                    type: "text",
                    label: (0, R.we)("#EventCalendar_UniversalSearch"),
                    placeholder: "search by app name, description",
                    value: u,
                    onChange: (e) => {
                      p(e.target.value), y(1);
                    },
                  }),
                  n.createElement(xs, {
                    setFilterTagIDs: c,
                    fnUpdateSetFilterTagIDs: (e) => {
                      d(e), y(1);
                    },
                    rgAppIDs: t,
                    bLoading: s,
                  }),
                  n.createElement(pt.K, {
                    strDescription: "Filter to games Released After:",
                    strDescToolTip:
                      "Allow us to review upcoming games and games that have released (or released into Early Access) after a point. This is useful when re-running a previously pruned event in a new year.",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => _,
                    fnSetTimeToUpdate: (e) => {
                      g(e), y(1);
                    },
                  }),
                  Boolean(r?.length > 0) &&
                    n.createElement(m.Yh, {
                      checked: h,
                      onChange: (e) => {
                        E(e), y(1);
                      },
                      tooltip:
                        "This is a filter we only want to use in pruning that is done after we have notified partners about their inclusion. So if we communicated with a partner about the event, we don't want to be able to filter them out during a second round of pruning",
                      label: "Filter out previously emailed apps from pruning",
                    }),
                ),
          )
        );
      }
      function xs(e) {
        const {
            setFilterTagIDs: t,
            fnUpdateSetFilterTagIDs: a,
            rgAppIDs: r,
            bLoading: i,
          } = e,
          s = n.useMemo(
            () =>
              i
                ? []
                : (function (e) {
                    const t = new Map();
                    return (
                      e.forEach((e) => {
                        const a = Pt.A.Get().GetApp(e);
                        a?.GetTagIDs().forEach((e) => {
                          t.has(e)
                            ? (t.get(e).count += 1)
                            : t.set(e, { tagid: e, count: 1 });
                        });
                      }),
                      Array.from(t.values())
                    );
                  })(r).sort((e, t) => (e.count < t.count ? 1 : -1)),
            [r, i],
          ),
          { data: l } = (0, Oa.Fv)(St.TS.LANGUAGE),
          o = n.useMemo(
            () => s.map((e) => ({ label: l && l[e.tagid], value: e })),
            [l, s],
          );
        return n.createElement(
          "div",
          { className: Ls.TagFilterBar },
          n.createElement(m.JU, null, "Filter by Tag:"),
          n.createElement(mt.Ay, {
            isSearchable: !0,
            isLoading: i,
            isMulti: !0,
            isClearable: !0,
            value: o.filter((e) => t.has(e.value.tagid)),
            options: o,
            styles: { option: (e) => ({ ...e, color: "#444444" }) },
            formatOptionLabel: (e) =>
              n.createElement(qs, { tagCount: e.value }),
            onChange: (e) => {
              a(new Set(e?.map((e) => e.value.tagid)));
            },
          }),
        );
      }
      function qs(e) {
        const { tagCount: t } = e;
        return (
          ((0, Oa.MB)(t.tagid, St.TS.LANGUAGE) || "tagid: " + t.tagid) +
          " (count: " +
          t.count +
          ")"
        );
      }
      var Ws = a(79359),
        js = a(81943);
      function Hs(e) {
        const { rgAppealReviewReg: t, pageid: a } = e,
          r = n.useMemo(
            () =>
              t.sort(
                (e, t) =>
                  e.jsondata.rtime_appeal_created -
                  t.jsondata.rtime_appeal_created,
              ),
            [t],
          );
        return n.createElement(
          "div",
          null,
          n.createElement(Ks, { bShowPruningCriteria: !0 }),
          Boolean(r.length > 0)
            ? n.createElement(
                n.Fragment,
                null,
                r.map((e, t) =>
                  n.createElement(Ys, {
                    key: "appeal" + e.appid,
                    pageid: a,
                    registration: e,
                    index: t,
                  }),
                ),
              )
            : n.createElement(
                "span",
                null,
                (0, R.we)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      const Vs = "app_review_elig_crit";
      function Ks(e) {
        const { bShowPruningCriteria: t } = e,
          a = (0, Ri.Tc)("optin_eligibility_criteria", "application_config"),
          [r, i] = (0, Ws.M)(Vs, !1);
        return t && a?.length > 1
          ? n.createElement(
              Qe.AQ,
              {
                title: "Pruning Eligibility Criteria",
                getMinimized: () => r,
                toggleMinimized: () => i(!r),
                className: js.CollapseableTitle,
              },
              n.createElement(Ji.f, { text: a, event: null }),
            )
          : null;
      }
      function Ys(e) {
        return n.createElement(
          Fs.K,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          n.createElement($s, { ...e, appid: e.registration.appid }),
        );
      }
      function $s(e) {
        const { appid: t, pageid: a, index: r } = e,
          i = (0, kt._q)(t, a),
          [s, l] = (0, Nt.t7)(t, Us),
          o = n.useMemo(() => ({ type: "game", id: t }), [t]);
        if (!i)
          return n.createElement("div", null, "Error: Missing registration");
        switch (l) {
          case 1:
            return n.createElement(
              "div",
              null,
              n.createElement(M.t, {
                position: "center",
                size: "small",
                string: (0, R.we)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return n.createElement(
              "div",
              null,
              (0, R.we)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return n.createElement(
          "div",
          { className: (0, y.A)(Ls.Row) },
          n.createElement(
            Os.Qf,
            { item: o },
            n.createElement("img", {
              className: Ls.CapsuleImg,
              src: s.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(Ls.Column) },
            n.createElement(
              "div",
              { className: Ls.TopSection },
              n.createElement(
                "div",
                { className: Ls.GameInfo },
                n.createElement(
                  "a",
                  { href: s.GetStorePageURL() },
                  n.createElement("div", { className: Ls.Title }, s.GetName()),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_AppReview_Developers",
                    s.GetDeveloperNames().join(","),
                  ),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_AppReview_Publishers",
                    s.GetPublisherNames().join(","),
                  ),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    s.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    s.GetFormattedSteamReleaseDate(),
                  ),
                ),
                n.createElement(
                  "div",
                  { className: Ls.Desc },
                  s.GetShortDescription(),
                ),
              ),
              n.createElement(
                "div",
                { className: Ls.ActionsCtn },
                Boolean(1 == i.appeal_state)
                  ? n.createElement("div", null, "Marked Approved")
                  : n.createElement(
                      m.$n,
                      {
                        onClick: (e) =>
                          (0, h.pg)(
                            n.createElement(Js, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !0,
                            }),
                            (0, v.uX)(e),
                          ),
                      },
                      (0, R.we)("#OptIn_AppReview_Appeal_Accept"),
                    ),
                Boolean(2 == i.appeal_state)
                  ? n.createElement("div", null, "Marked Denied")
                  : n.createElement(
                      m.$n,
                      {
                        onClick: (e) =>
                          (0, h.pg)(
                            n.createElement(Js, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !1,
                            }),
                            (0, v.uX)(e),
                          ),
                      },
                      (0, R.we)("#OptIn_AppReview_Appeal_Deny"),
                    ),
                Boolean(St.iA.is_support) &&
                  n.createElement(
                    m.$n,
                    {
                      onClick: (e) =>
                        (0, h.pg)(
                          n.createElement(
                            T.o0,
                            {
                              strTitle: (0, R.we)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            n.createElement(ot.G, { data: i }),
                          ),
                          (0, v.uX)(e),
                        ),
                    },
                    "(VO) " + (0, R.we)("#OptIn_Debug"),
                  ),
              ),
            ),
            n.createElement(
              "div",
              { className: Ls.GameInfo },
              n.createElement(il, { storeItem: s }),
              n.createElement(
                "div",
                { className: Ls.AppealWordsCtn },
                n.createElement(
                  "div",
                  null,
                  (0, R.we)("#OptIn_AppReview_Appeal_text"),
                ),
                n.createElement("p", null, i.jsondata.appeal_message),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)("#OptIn_AppReview_Appeal_createtime"),
                  " ",
                  (0, R.TW)(i.jsondata.rtime_appeal_created),
                ),
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: Ls.RowNumber },
            (r + 1).toLocaleString(),
          ),
        );
      }
      function Js(e) {
        const {
            appid: t,
            registration: a,
            bAcceptAppeal: r,
            closeModal: i,
          } = e,
          [s] = (0, Nt.t7)(t, Us),
          { fnUpdateAppealState: l } = (0, kt.fw)(),
          o = (0, Ct.vs)();
        return o.bLoading
          ? n.createElement(Ct.Hh, {
              state: o,
              strDialogTitle: (0, R.we)("#SalePage_Quiz_SubmitResponse"),
              closeModal: i,
            })
          : n.createElement(T.o0, {
              strTitle: r
                ? (0, R.we)("#OptIn_AppReview_Appeal_Accept")
                : (0, R.we)("#OptIn_AppReview_Appeal_Deny"),
              strDescription: (0, R.we)(
                "#OptIn_AppReview_Appeal_DialogVerify",
                s?.GetName() || "" + t,
              ),
              onCancel: i,
              onOK: async () => {
                o.fnSetLoading(!0);
                (await l(t, a, r))
                  ? o.fnSetSuccess(!0)
                  : (o.fnSetError(!0),
                    o.fnSetStrError(
                      "Check console or network tab for details.",
                    ));
              },
            });
      }
      function Xs(e) {
        return n.createElement(
          "div",
          null,
          n.createElement(
            m.$n,
            {
              onClick: (t) =>
                (0, h.pg)(
                  n.createElement(Qs, { ...e, bInvite: !0 }),
                  (0, v.uX)(t),
                ),
            },
            (0, R.we)("#OptIn_AppReview_InviteAll"),
          ),
          n.createElement(
            m.$n,
            {
              onClick: (t) =>
                (0, h.pg)(
                  n.createElement(Qs, { ...e, bInvite: !1 }),
                  (0, v.uX)(t),
                ),
            },
            (0, R.we)("#OptIn_AppReview_PruneAll"),
          ),
        );
      }
      function Qs(e) {
        const { closeModal: t, rgAppIDs: a, strOptInName: r, bInvite: i } = e,
          { fnChangeAppPruneState: s } = Gs(),
          [l, o] = (0, n.useState)(void 0),
          [c, m] = (0, n.useState)(void 0),
          [d, u] = (0, n.useState)(void 0),
          p = (0, n.useCallback)(async () => {
            m(!0),
              s(r, a, !i)
                .then((e) => {
                  e || o((0, R.we)("#OptIn_AppReview_ErrorBatch"));
                })
                .finally(() => u(!0));
          }, [i, s, a, r]);
        return n.createElement(
          T.o0,
          {
            strTitle: (0, R.we)(
              i
                ? "#OptIn_AppReview_BatchInvite_Title"
                : "$OptIn_AppReview_BatchPrune_Title",
            ),
            strDescription: (0, R.we)("#OptIn_AppReview_Batch_Description"),
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: c,
            onOK: p,
            strOKButtonText: (0, R.we)("#Update"),
          },
          Boolean(c && !d) &&
            n.createElement(M.t, {
              string: (0, R.we)("#Saving"),
              size: "medium",
            }),
          Boolean(l) &&
            n.createElement("div", { className: I.ErrorStylesBackground }, l),
          Boolean(d && !l) &&
            n.createElement(
              "div",
              null,
              (0, R.we)("#OptIn_AppReview_Batch_Success"),
            ),
        );
      }
      function Zs(e) {
        const { tagid: t, language: a = St.TS.LANGUAGE } = e;
        return (0, Oa.MB)(t, a) || String(t);
      }
      function el(e) {
        const { pageid: t } = e,
          a = (0, f.Tc)("optin_title", "application_config"),
          {
            rgInvitedAppIDs: r,
            rgPrunedAppIDs: i,
            rgPendingReviewAppIDs: s,
          } = (function () {
            const [e, t] = n.useState(Ns.Get().GetAsConsolidatedList());
            return (
              (0, Gt.hL)(Ns.Get().GetConsolidatedListCallback(), t),
              {
                rgInvitedAppIDs: e.invited_appids,
                rgPrunedAppIDs: e.pruned_appids,
                rgPendingReviewAppIDs: e.pending_review_appids,
              }
            );
          })(),
          { rgPendingReviewRegistrations: l, bIsInError: o } = (0, kt.dN)(t),
          { rgAppToNotPrune: c, bIsLoadError: m } = (function (e) {
            const t = (0, x.I)({
              queryKey: ["usePartnerOptInEmailedApps", e],
              queryFn: () =>
                (async function (e) {
                  const t = { sessionid: f.TS.SESSIONID, opt_in_name: e },
                    a =
                      f.TS.PARTNER_BASE_URL + "optin/ajaxgetapplisttonotprune",
                    n = await C().get(a, { params: t, withCredentials: !0 });
                  return n?.data?.appids || [];
                })(e),
              retry: !1,
            });
            return {
              rgAppToNotPrune: t.isLoading ? null : t.data,
              bIsLoadError: t.isError,
            };
          })(t),
          u = n.useMemo(() => {
            if (l) {
              const e = new Map();
              return l.forEach((t) => e.set(t.appid, t)), e;
            }
            return null;
          }, [l]),
          p = n.useMemo(
            () =>
              u
                ? s.filter((e) => {
                    if (!u.has(e)) return !0;
                    const t = u.get(e);
                    return Boolean(
                      !t.jsondata || !t.jsondata.accountid_appealing,
                    );
                  })
                : null,
            [u, s],
          ),
          _ = n.useMemo(
            () => l?.filter((e) => e.jsondata?.accountid_appealing),
            [l],
          );
        if (o || m)
          return (
            console.log(`OptInAppReviewLanding Review: ${o} NotPrune: ${m}`),
            n.createElement(
              "div",
              null,
              "Failed to loading pending review data.  User likely does not have sufficient permissions.",
            )
          );
        if (!(c && (s || r || i) && l && p))
          return n.createElement(M.t, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const g = (e) =>
            window.sessionStorage.setItem("appreviewtab", `?tab=${e.key}`),
          h = [
            {
              name: (0, R.we)(
                "#OptIn_AppReview_PendingReviewApps",
                p?.length || 0,
              ),
              key: "review",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(tl, {
                  key: "reviewapp",
                  rgOrderedAppIDs: p,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !0,
                  bShowPruningCriteria: !0,
                }),
              ),
              onClick: g,
            },
            {
              name: (0, R.we)(
                "#OptIn_AppReview_PendingAppealReview",
                _?.length || 0,
              ),
              key: "appeal",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Hs, {
                  key: "appealmap",
                  rgAppealReviewReg: _,
                  pageid: t,
                }),
              ),
              onClick: g,
            },
            {
              name: (0, R.we)("#OptIn_AppReview_InvitedApps", r?.length || 0),
              key: "invited",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(tl, {
                  key: "invitedapps",
                  rgOrderedAppIDs: r,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !1,
                  rgNotToPruneList: c,
                }),
              ),
              onClick: g,
            },
            {
              name: (0, R.we)("#OptIn_AppReview_PrunedApps", i?.length || 0),
              key: "pruned",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(tl, {
                  key: "prunedapps",
                  rgOrderedAppIDs: i,
                  pageid: t,
                  bPruned: !0,
                  bPendingReview: !1,
                }),
              ),
              onClick: g,
            },
          ];
        return n.createElement(
          "div",
          { className: ut().AdminPageCtn },
          n.createElement(
            "div",
            { className: ut().PageTitle },
            (0, R.we)("#OptIn_AppReview", a),
          ),
          n.createElement(
            "div",
            { className: ut().PageSubTitle },
            "Use the 'Prune' option to remove eligibility for that game. Pruned titles will not be eligible, invited, or receive any communication about this event.",
          ),
          n.createElement(E.V, { tabs: h }),
        );
      }
      function tl(e) {
        const {
            rgOrderedAppIDs: t,
            pageid: a,
            bPruned: r,
            rgNotToPruneList: i,
            bPendingReview: s,
            bShowPruningCriteria: l,
          } = e,
          [o, c] = n.useState(null),
          m = o ?? t;
        return n.createElement(
          "div",
          null,
          Boolean(s) && n.createElement(Xs, { strOptInName: a, rgAppIDs: m }),
          n.createElement(Ks, { bShowPruningCriteria: l }),
          n.createElement(zs, {
            pageid: a,
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: c,
            rgNotToPruneList: i,
          }),
          m?.length > 0
            ? n.createElement(
                n.Fragment,
                null,
                m.map((e, t) =>
                  n.createElement(al, {
                    key: (r ? "prune" : "invited") + e,
                    pageid: a,
                    appid: e,
                    bInvited: !r && !s,
                    bPendingReview: s,
                    index: t,
                  }),
                ),
              )
            : n.createElement(
                "span",
                null,
                (0, R.we)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      function al(e) {
        return n.createElement(
          Fs.K,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          n.createElement(nl, { ...e }),
        );
      }
      function nl(e) {
        const {
            appid: t,
            bInvited: a,
            pageid: r,
            index: i,
            bPendingReview: s,
          } = e,
          [l, o] = (0, Nt.t7)(t, Us),
          { fnChangeAppPruneState: c } = Gs(),
          d = n.useMemo(() => ({ type: "game", id: t }), [t]);
        switch (o) {
          case 1:
            return n.createElement(
              "div",
              null,
              n.createElement(M.t, {
                position: "center",
                size: "small",
                string: (0, R.we)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return n.createElement(
              "div",
              null,
              (0, R.we)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return n.createElement(
          "div",
          { className: (0, y.A)(Ls.Row, a ? Ls.Invited : Ls.Pruned) },
          n.createElement(
            Os.Qf,
            { item: d },
            n.createElement("img", {
              className: Ls.CapsuleImg,
              src: l.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          n.createElement(
            "div",
            { className: (0, y.A)(Ls.Column) },
            n.createElement(
              "div",
              { className: Ls.TopSection },
              n.createElement(
                "div",
                { className: Ls.GameInfo },
                n.createElement(
                  "a",
                  { href: l.GetStorePageURL() },
                  n.createElement("div", { className: Ls.Title }, l.GetName()),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_AppReview_Developers",
                    l.GetDeveloperNames().join(","),
                  ),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    "#OptIn_AppReview_Publishers",
                    l.GetPublisherNames().join(","),
                  ),
                ),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)(
                    l.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    l.GetFormattedSteamReleaseDate(),
                  ),
                ),
              ),
              n.createElement(
                "div",
                { className: Ls.ActionsCtn },
                n.createElement(
                  m.$n,
                  { onClick: () => c(r, [t], a || s) },
                  (0, R.we)(
                    a || s
                      ? "#OptIn_AppReview_Prune"
                      : "#OptIn_AppReview_Unprune",
                  ),
                ),
                Boolean(s) &&
                  n.createElement(
                    m.$n,
                    { onClick: () => c(r, [t], !1) },
                    (0, R.we)("#OptIn_AppReview_Invite"),
                  ),
                Boolean(f.iA.is_support && a) &&
                  n.createElement(rl, { appid: t, pageid: r }),
              ),
            ),
            n.createElement(
              "div",
              { className: Ls.GameInfo },
              n.createElement(
                "div",
                { className: Ls.Desc },
                l.GetShortDescription(),
              ),
              n.createElement(il, { storeItem: l }),
            ),
          ),
          n.createElement(
            "div",
            { className: Ls.RowNumber },
            (i + 1).toLocaleString(),
          ),
        );
      }
      function rl(e) {
        const { appid: t, pageid: a } = e,
          r = (function (e) {
            const [t, a] = (0, n.useState)(Ns.Get().GetStateForApp(e));
            return (0, Gt.hL)(Ns.Get().GetStateForAppCallback(e), a), t;
          })(t),
          { fnChangeAppAdditionalFeaturingState: i } = {
            fnChangeAppAdditionalFeaturingState:
              Ns.Get().ChangeAppAdditionalFeaturingState,
          };
        return n.createElement(
          "div",
          { className: ut().ValveOnlyBackground },
          n.createElement(
            m.$n,
            {
              onClick: () => {
                i(a, [t], !r.additionally_featured)
                  .then((e) => {
                    1 != e &&
                      (0, h.pg)(
                        n.createElement(T.KG, {
                          strDescription:
                            "Check the console for error messages",
                        }),
                        window,
                      );
                  })
                  .catch(() =>
                    (0, h.pg)(
                      n.createElement(T.KG, {
                        strDescription: "Check the console for error messages",
                      }),
                      window,
                    ),
                  );
              },
            },
            (0, R.we)(
              r.additionally_featured
                ? "❌ Remove App Featuring"
                : "➕ Add App Featuring",
            ),
          ),
        );
      }
      function il(e) {
        const { storeItem: t } = e,
          a = n.useMemo(() => t?.GetTags().map((e) => e.tagid), [t]);
        return n.createElement(
          "div",
          { className: Ls.StoreTags },
          (0, R.PP)(
            "#OptIn_AppReview_Tags",
            n.createElement(
              n.Fragment,
              null,
              a.map((e) =>
                n.createElement(
                  "span",
                  { key: e },
                  n.createElement(Zs, { tagid: e }),
                ),
              ),
            ),
          ),
        );
      }
      var sl = a(11577),
        ll = a(62007),
        ol = a.n(ll),
        cl = a(82348),
        ml = a.n(cl);
      function dl(e) {
        const {
            storeItem: t,
            closeModal: a,
            optInDef: r,
            optInRegistration: i,
          } = e,
          [s, l] = (0, n.useState)(""),
          { fnUpdateOptInRegistrationJson: o } = (0, kt.es)(),
          c = (0, ze.Ym)(r.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          m = (0, Ct.vs)();
        return m.bLoading
          ? n.createElement(Ct.Hh, {
              state: m,
              strDialogTitle: (0, R.we)(
                "#OptIn_Appeals_Control_Title",
                t.GetName(),
              ),
              closeModal: a,
            })
          : n.createElement(
              T.o0,
              {
                strTitle: (0, R.we)(
                  "#OptIn_Appeals_Control_Title",
                  t.GetName(),
                ),
                strOKButtonText: (0, R.we)("#OptIn_Appeals_Dialog_Submit"),
                bDisableBackgroundDismiss: !0,
                onCancel: a,
                onOK: async () => {
                  m.fnSetLoading(!0);
                  try {
                    const e = JSON.parse(
                      JSON.stringify(
                        "" !== i.jsondata && i.jsondata ? i.jsondata : {},
                      ),
                    );
                    (e.accountid_appealing = St.iA.accountid),
                      (e.rtime_appeal_created = Math.floor(Date.now() / 1e3)),
                      (e.appeal_message = s),
                      (e.opt_in_name = r.pageid);
                    const a = await o(t.GetAppID(), e, !0);
                    null == a
                      ? (m.fnSetSuccess(!0),
                        m.fnSetStrSuccess(
                          (0, R.we)("#OptIn_Appeals_Control_Submitted"),
                        ))
                      : (m.fnSetError(!0),
                        m.fnSetElError(
                          n.createElement(
                            "div",
                            null,
                            n.createElement(
                              "div",
                              null,
                              (0, R.we)("#OptIn_Appeals_Dialog_Failed"),
                            ),
                            n.createElement("div", null, a),
                          ),
                        ));
                  } catch (e) {
                    const t = (0, A.H)(e);
                    console.error(
                      "OptInAppealsCreateDialog error " + t.strErrorMsg,
                      t,
                      e,
                    ),
                      m.fnSetError(!0),
                      m.fnSetStrError(
                        (0, R.we)("#OptIn_Appeals_Dialog_Failed"),
                      );
                  }
                },
              },
              n.createElement(
                "div",
                { className: ml().AppealsEntryForm },
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Dialog_Desc"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.oW)(
                    "#OptIn_Appeals_Dialog_Desc2",
                    n.createElement("a", { href: t.GetStorePageURL() }),
                    n.createElement("a", {
                      href: `${St.TS.PARTNER_BASE_URL}taxonomy/tagwizard/${t.GetAppID()}`,
                    }),
                  ),
                ),
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_Appeals_Dialog_InputTitle"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Dialog_InputDesc"),
                ),
                n.createElement("textarea", {
                  value: s,
                  className: ml().AppealTextInput,
                  onChange: (e) => {
                    l(e.currentTarget.value);
                  },
                  ref: (e) => {
                    e && e.focus();
                  },
                }),
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_ReviewProcessTitle"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_Submitted_Desc", c),
                ),
              ),
            );
      }
      function ul(e) {
        const {
            optInDef: t,
            optInRegistration: a,
            storeItem: r,
            closeModal: i,
            bReject: s,
          } = e,
          { fnUpdateOptInRegistrationJson: l } = (0, kt.es)(),
          o = (0, Ct.vs)();
        return o.bLoading
          ? n.createElement(Ct.Hh, {
              state: o,
              strDialogTitle: (0, R.we)(
                s ? "Rejecting Appeal Data" : "Clearing Appeal Data",
                r.GetName(),
              ),
              closeModal: i,
            })
          : n.createElement(T.o0, {
              strTitle: s ? "Reject Appeal" : "Clear Appeal data?",
              strDescription: "Are you sure?",
              bDisableBackgroundDismiss: !0,
              onCancel: i,
              onOK: async () => {
                o.fnSetLoading(!0);
                try {
                  const e = JSON.parse(
                    JSON.stringify(
                      "" !== a.jsondata && a.jsondata ? a.jsondata : {},
                    ),
                  );
                  (e.accountid_appealing = void 0),
                    (e.rtime_appeal_created = void 0),
                    (e.appeal_message = void 0),
                    (e.opt_in_name = t.pageid),
                    (e.appeal_rejected = void 0),
                    (e.reject_accountid = void 0);
                  null == (await l(r.GetAppID(), e, !1))
                    ? (o.fnSetSuccess(!0),
                      o.fnSetStrSuccess(
                        (0, R.we)("#OptIn_Appeals_Control_Submitted"),
                      ))
                    : (o.fnSetError(!0),
                      o.fnSetStrError(
                        (0, R.we)("#OptIn_Appeals_Dialog_Failed"),
                      ));
                } catch (e) {
                  const t = (0, A.H)(e);
                  console.error(
                    "ClearAppealDialog error " + t.strErrorMsg,
                    t,
                    e,
                  ),
                    o.fnSetError(!0),
                    o.fnSetStrError((0, R.we)("#OptIn_Appeals_Dialog_Failed"));
                }
              },
            });
      }
      function pl(e) {
        const { optInDef: t } = e,
          a = (0, vt.Rl)(t);
        return n.createElement(
          "div",
          { className: ut().RightCol },
          n.createElement(
            "div",
            { className: ut().ColHeader },
            Boolean(a) &&
              n.createElement("div", {
                className: ut().ColHeaderImg,
                style: { backgroundImage: `url( '${a}' )` },
              }),
          ),
          n.createElement(
            "div",
            { className: ut().SectionCtn },
            n.createElement(_l, { ...e }),
            Boolean(St.iA.is_support) && n.createElement(gl, { ...e }),
          ),
        );
      }
      function _l(e) {
        const { optInDef: t } = e;
        return n.createElement(bl, { optInDef: t });
      }
      function gl(e) {
        const { optInDef: t, optInRegistration: a } = e,
          { fnUpdateAppToInvitation: r } = At();
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("br", null),
          n.createElement("br", null),
          n.createElement(
            "div",
            { className: _().ValveOnlyBackground },
            n.createElement(
              "ul",
              null,
              n.createElement(
                "li",
                null,
                n.createElement(
                  "a",
                  {
                    href: `${St.TS.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                  },
                  "Edit OptIn Definition",
                ),
              ),
              n.createElement(
                "li",
                null,
                n.createElement(
                  "a",
                  {
                    href: `${St.TS.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=appeal`,
                  },
                  "Go to Appeals Review Page",
                ),
              ),
            ),
            n.createElement("br", null),
            n.createElement(
              m.$n,
              {
                onClick: (t) =>
                  (0, h.pg)(n.createElement(hl, { ...e }), (0, v.uX)(t)),
              },
              "(VO) Invite App to Participate",
            ),
            n.createElement("br", null),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(
                      T.o0,
                      { strTitle: (0, R.we)("#OptIn_Debug"), bAlertDialog: !0 },
                      n.createElement(ot.G, { data: a }),
                    ),
                    (0, v.uX)(e),
                  ),
              },
              "(VO) " + (0, R.we)("#OptIn_Debug"),
            ),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(
                      T.o0,
                      {
                        strTitle: (0, R.we)("#OptIn_Def_Debug"),
                        bAlertDialog: !0,
                      },
                      n.createElement(ot.G, { data: t }),
                    ),
                    (0, v.uX)(e),
                  ),
              },
              "(VO) " + (0, R.we)("#OptIn_Def_Debug"),
            ),
            Boolean(a.jsondata.accountid_appealing) &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  m.$n,
                  {
                    onClick: (t) =>
                      (0, h.pg)(
                        n.createElement(ul, { bReject: !1, ...e }),
                        (0, v.uX)(t),
                      ),
                  },
                  "Clear Appeal Data",
                ),
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Js, {
                          appid: a.appid,
                          registration: a,
                          bAcceptAppeal: !0,
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "Accept Appeal and Email Requested",
                ),
                n.createElement(
                  m.$n,
                  {
                    onClick: (e) =>
                      (0, h.pg)(
                        n.createElement(Js, {
                          appid: a.appid,
                          registration: a,
                          bAcceptAppeal: !1,
                        }),
                        (0, v.uX)(e),
                      ),
                  },
                  "REJECT Appeal and Email Requested",
                ),
              ),
          ),
        );
      }
      function hl(e) {
        const { optInDef: t, optInRegistration: a, closeModal: r } = e,
          { fnUpdateAppToInvitation: i } = At(),
          s = (0, Ct.vs)();
        return s.bLoading
          ? n.createElement(Ct.Hh, {
              state: s,
              strDialogTitle: "Inviting App to Participate",
              closeModal: r,
            })
          : n.createElement(
              T.o0,
              {
                strTitle: "Invite App to Participate",
                onCancel: r,
                onOK: () => {
                  s.fnSetLoading(!0),
                    i(t.pageid, [a.appid], !0, !1, !1)
                      .then((e) => {
                        1 == e
                          ? s.fnSetElSuccess(
                              n.createElement(
                                "div",
                                null,
                                n.createElement(
                                  "span",
                                  null,
                                  "Success. Please reload the page to verify.",
                                ),
                                n.createElement("br", null),
                                n.createElement(
                                  "a",
                                  {
                                    href: `${St.TS.PARTNER_BASE_URL}optin/sale/${t.pageid}/${a.appid}`,
                                  },
                                  "Or go to registration Page.",
                                ),
                              ),
                            )
                          : s.fnSetStrError("Failed with error code: " + e);
                      })
                      .catch(() =>
                        s.fnSetStrError(
                          "failed with exception, check console ouput.",
                        ),
                      );
                },
              },
              n.createElement(
                "div",
                null,
                "Confirm we want to invite this appear to register for ",
                t.event_title?.english,
                "? They will need to perform the registration after you invite completes",
              ),
            );
      }
      function El(e) {
        const { appid: t, pageid: a } = e,
          [r] = (0, Nt.t7)(t, { include_release: !0, include_assets: !0 }),
          i = (0, f.Tc)("eligible_due_optin_def", "application_config"),
          s = (0, l.u)(a),
          o = (0, kt.DC)(t, a);
        if (!s)
          return n.createElement(
            "div",
            null,
            (0, R.we)("#OptIn_Appeals_DoesNotExist", a),
          );
        const c = (0, ze.Ym)(s.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          m = Math.floor(Date.now() / 1e3);
        return s.event_end_date < m
          ? n.createElement("div", null, (0, R.we)("#OptIn_Appeals_IsOver"))
          : r
            ? o.invited || o.opt_in || o.time_opted_out || i
              ? n.createElement(
                  "div",
                  null,
                  n.createElement(
                    "div",
                    null,
                    (0, R.we)(
                      "#OptIn_Appeals_AlreadyPartOfEvent",
                      r.GetName(),
                      c,
                    ),
                  ),
                  n.createElement(
                    "a",
                    { href: `${St.TS.PARTNER_BASE_URL}optin/sale/${a}/${t}` },
                    (0, R.we)("#OptIn_Appeals_RegistrationPage"),
                  ),
                )
              : n.createElement(
                  "div",
                  { className: ut().AdminPageCtn },
                  n.createElement(
                    "div",
                    { className: ut().PageTitle },
                    r.GetName(),
                    " (",
                    t,
                    ")",
                    n.createElement(
                      "span",
                      null,
                      (0, R.we)("#OptIn_Appeals_Title", c),
                    ),
                  ),
                  n.createElement("hr", null),
                  n.createElement(Sl, {
                    optInDef: s,
                    optInRegistration: o,
                    storeItem: r,
                  }),
                )
            : n.createElement(M.t, {
                position: "center",
                string: (0, R.we)("#Loading"),
              });
      }
      function Sl(e) {
        const { optInDef: t, optInRegistration: a, storeItem: r } = e,
          i = (0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          s = (0, vt.Rl)(t),
          l = Boolean(a.jsondata?.rtime_appeal_created),
          o = Boolean(2 === a.appeal_state);
        let c = "#OptIn_Appeals_Title_Pruned";
        return (
          (a.accountid_appeal && 1 != a.appeal_state && 2 != a.appeal_state) ||
          (l && !o)
            ? (c = "#OptIn_Appeals_Title_AppealProcess")
            : (!a.pending_review && a.pruned) ||
              (c = "#OptIn_Appeals_Title_NotReviewed"),
          n.createElement(
            "div",
            { className: ut().ColumnCtn },
            n.createElement(
              "div",
              { className: ut().LeftCol },
              n.createElement(
                "div",
                { className: ut().ColHeader },
                Boolean(s)
                  ? n.createElement("div", {
                      className: ut().ColHeaderImg,
                      style: { backgroundImage: `url( '${s}' )` },
                    })
                  : Boolean(i) && n.createElement("div", null, i),
              ),
              n.createElement(
                "div",
                { className: (0, y.A)(ut().SectionCtn, ol().AppealSummaryCtn) },
                n.createElement("img", {
                  className: ol().CapsuleImg,
                  src: r?.GetAssets().GetHeaderURL(),
                }),
                n.createElement(
                  "div",
                  { className: ol().AppealTitle },
                  (0, R.we)(c),
                ),
              ),
              !l && n.createElement(yl, { ...e }),
              n.createElement(vl, { ...e }),
            ),
            n.createElement(pl, { ...e }),
          )
        );
      }
      function yl(e) {
        const { optInDef: t, storeItem: a, optInRegistration: r } = e;
        Boolean(r.jsondata?.rtime_appeal_created);
        let i = "#OptIn_Appeals_ReviewLine";
        (!r.pending_review && r.pruned) ||
          (i = "#OptIn_Appeals_NotReviewed_ReviewLine");
        const s = (0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          l = (0, ze.Ym)(t.appeals_text, (0, xe.sf)(St.TS.LANGUAGE), null);
        return n.createElement(
          "div",
          { className: ut().SectionCtn },
          n.createElement("h1", null, (0, R.we)(i, a.GetName())),
          n.createElement("p", null, (0, R.we)("#OptIn_Appeals_ReviewLine_1")),
          n.createElement("p", null, (0, R.we)("#OptIn_Appeals_ReviewLine_1a")),
          n.createElement(
            "ul",
            { className: "bullets" },
            n.createElement(
              "li",
              null,
              (0, R.oW)(
                "#OptIn_Appeals_ReviewLine_2",
                n.createElement("a", {
                  href: `${St.TS.PARTNER_BASE_URL}taxonomy/tagwizard/${a.GetAppID()}`,
                }),
                n.createElement("b", null),
              ),
            ),
            n.createElement(
              "li",
              null,
              (0, R.oW)(
                "#OptIn_Appeals_ReviewLine_3",
                n.createElement("b", null),
              ),
            ),
          ),
          n.createElement("br", null),
          Boolean(l) &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "h1",
                null,
                (0, R.we)("#OptIn_Appeals_EligibilityTitle", s),
              ),
              n.createElement(Ji.f, { text: l, event: null }),
            ),
        );
      }
      function vl(e) {
        const { optInDef: t, optInRegistration: a, storeItem: r } = e;
        let i = !1;
        if (
          t.release_date_eligibility?.include_unreleased_games &&
          t.release_date_eligibility.release_after_date
        ) {
          if (r.BIsComingSoon()) {
            const e = (0, f.Tc)("rt_steam_release_date", "application_config");
            if (e < t.release_date_eligibility.release_after_date) {
              if (e > Math.floor(Date.now() / 1e3))
                return n.createElement(
                  "div",
                  { className: ut().SectionCtn },
                  n.createElement(
                    "h1",
                    null,
                    (0, R.we)("#OptIn_Appeals_NotPossible_Title"),
                  ),
                  n.createElement(
                    "div",
                    { className: ut().warning },
                    n.createElement(
                      "p",
                      null,
                      (0, R.we)(
                        "#OptIn_Appeals_NotPossible_Desc1",
                        (0, R.TW)(
                          t.release_date_eligibility.release_after_date,
                        ),
                      ),
                      " ",
                      (0, R.we)("#OptIn_Appeals_NotPossible_Desc2"),
                    ),
                    n.createElement(
                      "p",
                      null,
                      (0, R.oW)(
                        "#OptIn_Appeals_NotPossible_Desc3",
                        n.createElement("a", {
                          href:
                            St.TS.PARTNER_BASE_URL + "doc/store/release_dates",
                        }),
                      ),
                    ),
                  ),
                );
              i = !0;
            }
          } else if (
            !t.release_date_eligibility.include_released_games &&
            r.BIsReleased()
          )
            return n.createElement(
              "div",
              { className: ut().SectionCtn },
              n.createElement(
                "h1",
                null,
                (0, R.we)("#OptIn_Appeals_NotPossible_Title"),
              ),
              n.createElement(
                "div",
                { className: ut().warning },
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_NotPossible_Desc4"),
                ),
              ),
            );
        } else if (
          t.event_start_date < Math.floor(Date.now() / 1e3) &&
          !a.jsondata?.rtime_appeal_created
        )
          return n.createElement(
            "div",
            { className: ut().SectionCtn },
            n.createElement(
              "h1",
              null,
              (0, R.we)("#OptIn_Appeals_NotPossible_Title"),
            ),
            n.createElement(
              "div",
              { className: ut().warning },
              n.createElement(
                "p",
                null,
                (0, R.we)("#OptIn_Appeals_NotPossible_Desc5"),
              ),
            ),
          );
        return n.createElement(fl, { ...e, bShowReleaseDatePassed: i });
      }
      function fl(e) {
        const {
            optInDef: t,
            optInRegistration: a,
            storeItem: r,
            bShowReleaseDatePassed: i,
          } = e,
          s = Boolean(a.jsondata?.rtime_appeal_created),
          l = Boolean(2 === a.appeal_state),
          o = (0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE));
        let c = "#OptIn_Appeals_Control_Title",
          d = "#OptIn_Appeals_Control_Desc";
        return (
          2 == a.appeal_state
            ? ((c = "#OptIn_Appeals_Control_Rejected_Title"),
              (d = "#OptIn_Appeals_Control_Rejected_Desc"))
            : (!a.pending_review && a.pruned) ||
              (c = "#OptIn_Appeals_Control_NotReviewed_Title"),
          n.createElement(
            "div",
            { className: ut().SectionCtn },
            !s &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement("h1", null, (0, R.we)(c, r.GetName())),
                n.createElement("p", null, (0, R.we)(d, r.GetName())),
              ),
            Boolean(i) &&
              n.createElement(
                "div",
                { className: ut().warning },
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_Appeals_Possible_WarningTitle"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Possible_warning"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.oW)(
                    "#OptIn_Appeals_NotPossible_Desc3",
                    n.createElement("a", {
                      href: St.TS.PARTNER_BASE_URL + "doc/store/release_dates",
                    }),
                  ),
                ),
              ),
            Boolean(!s) &&
              n.createElement(
                "div",
                { className: ol().ButtonCtn },
                n.createElement(
                  m.jn,
                  {
                    onClick: (t) =>
                      (0, h.pg)(n.createElement(dl, { ...e }), (0, v.uX)(t)),
                  },
                  (0, R.we)("#OptIn_Appeals_Control_Button"),
                ),
              ),
            Boolean(s && !l) &&
              n.createElement(
                "div",
                { className: (0, y.A)(ol().AppealResults, ol().Submitted) },
                n.createElement(
                  "h2",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_Submitted_Title"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_Submitted_Desc", o),
                ),
              ),
            Boolean(l) &&
              n.createElement(
                "div",
                { className: (0, y.A)(ol().AppealResults, ol().Declined) },
                n.createElement(
                  "h2",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_Declined"),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.we)("#OptIn_Appeals_Control_Declined_Desc1", o),
                ),
                n.createElement(
                  "p",
                  null,
                  (0, R.oW)(
                    "#OptIn_Appeals_Control_Declined_Desc2",
                    n.createElement("a", {
                      href: "https://partner.steamgames.com/doc/marketing/upcoming_events",
                    }),
                  ),
                ),
              ),
          )
        );
      }
      function bl(e) {
        const { optInDef: t } = e,
          a = (0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          r = t.public_doc_wiki_url,
          i = (0, ze.Ym)(t.help_text, (0, xe.sf)(St.TS.LANGUAGE), null);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: ut().TitleSmall },
            (0, R.we)("#DiscountDashboard_HelpAreaText"),
          ),
          Boolean(r) &&
            n.createElement(
              "div",
              null,
              (0, R.PP)(
                "#OptIn_Appeals_HelpDoc",
                n.createElement(
                  "a",
                  { href: r },
                  (0, R.we)("#OptIn_Appeals_HelpDoc_link", a),
                ),
              ),
            ),
          Boolean(i)
            ? n.createElement(
                "div",
                null,
                n.createElement(Ji.f, { text: i, event: null }),
              )
            : n.createElement(
                "p",
                null,
                (0, R.oW)(
                  "#OptIn_Appeals_HelpDoc_General",
                  n.createElement("a", {
                    href: "https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales",
                  }),
                ),
              ),
          n.createElement(
            "div",
            { className: ut().TitleSmall },
            (0, R.we)("#OptIn_Appeals_HelpDoc_NeedHelp"),
          ),
          n.createElement(
            "a",
            {
              href:
                St.TS.HELP_BASE_URL +
                "en/wizard/HelpWithPublishing?issueid=933",
            },
            (0, R.we)("#PricingDashboard_ContactUsButton"),
          ),
        );
      }
      function wl(e) {
        const t = e;
        return (
          t &&
          Array.isArray(t) &&
          t.length > 0 &&
          "number" == typeof t[0].appid &&
          "string" == typeof t[0].app_name
        );
      }
      function Dl() {
        const [e, t] = (0, n.useState)(null);
        return (
          (0, n.useEffect)(() => {
            const e = (0, f.Fd)("optin_registered", "application_config");
            wl(e) &&
              ("dev" === f.TS.WEB_UNIVERSE &&
                console.log(
                  "useOptInRegistrationForDashboardNotPruned has " + e.length,
                ),
              t(
                e
                  .map((e) =>
                    e.jsondata && "" !== e.jsondata
                      ? { ...e, jsondata: JSON.parse(e.jsondata) }
                      : { ...e, jsondata: {} },
                  )
                  .filter((e) => e.jsondata?.opt_in),
              ));
          }, []),
          e
        );
      }
      var Cl = a(62792),
        Il = a(90710);
      function Bl(e) {
        const { pageid: t } = e,
          a = (0, l.u)(t),
          r = (0, n.useMemo)(
            () => (0, f.Tc)("partner_id", "application_config"),
            [],
          ),
          [i] = (0, Tn.UA)(r);
        if (!a)
          return n.createElement(
            "div",
            null,
            (0, R.we)("#OptIn_Appeals_DoesNotExist", t),
          );
        const s = (0, ze.Ym)(a.event_title, (0, xe.sf)(St.TS.LANGUAGE));
        return n.createElement(
          "div",
          { className: ut().AdminPageCtn },
          n.createElement(
            "div",
            { className: ut().PageTitle },
            (0, R.we)("#OptIn_Title", s),
          ),
          n.createElement(
            "div",
            null,
            (0, R.we)("#OptIn_DashBoard", i.name || "", r),
          ),
          n.createElement("hr", null),
          n.createElement(Tl, { optInDef: a }),
        );
      }
      function Tl(e) {
        const { optInDef: t } = e,
          a = Math.floor(Date.now() / 1e3);
        return t.event_end_date < a
          ? n.createElement("div", null, (0, R.we)("#OptIn_Appeals_IsOver"))
          : n.createElement(
              "div",
              { className: ut().ColumnCtn },
              n.createElement(
                "div",
                { className: ut().LeftCol },
                t.event_end_date < a
                  ? n.createElement("div", null, (0, R.we)("#OptIn_IsOver"))
                  : n.createElement(
                      n.Fragment,
                      null,
                      n.createElement(kl, { optInDef: t }),
                      n.createElement(Rl, { optInDef: t }),
                      n.createElement(Pl, { optInDef: t }),
                      n.createElement(Gl, { optInDef: t }),
                    ),
              ),
              n.createElement(
                "div",
                { className: ut().RightCol },
                n.createElement(Ml, { optInDef: t }),
                n.createElement(Al, { optInDef: t }),
                n.createElement(Fl, { optInDef: t }),
              ),
            );
      }
      function Ml(e) {
        const { optInDef: t } = e,
          a =
            ((0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
            (0, vt.Rl)(t));
        return n.createElement(
          "div",
          { className: ut().ColHeader },
          Boolean(a) &&
            n.createElement("div", {
              className: ut().ColHeaderImg,
              style: { backgroundImage: `url( '${a}' )` },
            }),
          n.createElement(
            "div",
            { className: ut().SmallText },
            (0, R.we)(
              "#DiscountDashboard_DetailView_StartTimeLabel",
              (0, ja.TW)(t.event_start_date),
            ),
          ),
          n.createElement(
            "div",
            { className: ut().SmallText },
            (0, R.we)(
              "#DiscountDashboard_DetailView_EndTimeLabel",
              (0, ja.TW)(t.event_end_date),
            ),
          ),
        );
      }
      function Al(e) {
        const { optInDef: t } = e;
        return t.do_anytime?.discount_event_id
          ? n.createElement(
              "div",
              { className: ut().SectionCtn },
              n.createElement(
                "div",
                { className: ut().TitleSmall },
                (0, R.we)("#OptIn_EnterDiscount"),
              ),
              n.createElement(
                "p",
                null,
                n.createElement(
                  "a",
                  {
                    href: `${St.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${t.do_anytime?.discount_event_id}`,
                  },
                  (0, R.we)("#OptIn_EnterDiscount_Button"),
                ),
              ),
            )
          : null;
      }
      function kl(e) {
        const { optInDef: t } = e,
          a = (0, ze.Ym)(t.event_title, (0, xe.sf)(St.TS.LANGUAGE)),
          r = (0, vt.Rl)(t),
          i = (0, ze.Ym)(t.description, (0, xe.sf)(St.TS.LANGUAGE), null),
          s = (0, ze.Ym)(t.eligibility_text, (0, xe.sf)(St.TS.LANGUAGE), null);
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: ut().ColHeader },
            Boolean(r)
              ? n.createElement("div", {
                  className: ut().ColHeaderImg,
                  style: { backgroundImage: `url( '${r}' )` },
                })
              : Boolean(a) && n.createElement("div", null, a),
          ),
          n.createElement(
            "div",
            { className: ut().SectionCtn },
            Boolean(t.optin_deadline_date) &&
              n.createElement(
                "h1",
                null,
                (0, R.we)("#OptIn_Submission_Deadline"),
                " ",
                (0, ja.TW)(t.optin_deadline_date),
              ),
            Boolean(i) && n.createElement(Ji.f, { text: i, event: null }),
            Boolean(s) &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "h3",
                  null,
                  (0, R.we)("#OptIn_Appeals_EligibilityTitle"),
                ),
                n.createElement(Ji.f, { text: s, event: null }),
                n.createElement("h3", null, (0, R.we)("#OptIn_OptInOut_Title")),
                n.createElement(
                  "div",
                  null,
                  (0, R.we)("#OptIn_RegInstruction"),
                  Boolean(t?.do_anytime?.discount_event_id) &&
                    (0, R.we)(
                      "#OptIn_DiscountParticipation",
                      (0, ja.TW)(t.event_start_date),
                    ),
                ),
              ),
          ),
        );
      }
      function Rl(e) {
        const { optInDef: t } = e,
          a = Dl();
        return a && 0 != a.length
          ? n.createElement(
              "div",
              { className: ut().SectionCtn },
              n.createElement("h1", null, (0, R.we)("#OptIn_Registered_Games")),
              n.createElement(
                "table",
                { className: Xe().EligibleGamesTable },
                n.createElement(
                  "thead",
                  null,
                  n.createElement(
                    "tr",
                    null,
                    n.createElement(
                      "th",
                      null,
                      (0, R.we)("#OptIn_Table_Col_Game"),
                    ),
                    n.createElement(
                      "th",
                      null,
                      (0, R.we)("#OptIn_Table_Col_AppID"),
                    ),
                    n.createElement("th", null),
                  ),
                ),
                n.createElement(
                  "tbody",
                  null,
                  a.map((e) =>
                    n.createElement(Nl, {
                      key: "registered_" + e.appid,
                      bReview: !0,
                      appid: e.appid,
                      appName: e.app_name,
                      optInDef: t,
                    }),
                  ),
                ),
              ),
            )
          : null;
      }
      function Pl(e) {
        const { optInDef: t } = e,
          a = (function () {
            const [e, t] = (0, n.useState)(null);
            return (
              (0, n.useEffect)(() => {
                const e = (0, f.Fd)(
                  "optin_opportunities",
                  "application_config",
                );
                wl(e) &&
                  ("dev" === f.TS.WEB_UNIVERSE &&
                    console.log(
                      "useOptInOpportunitiesForDashboard has " + e.length,
                    ),
                  t(
                    e.map((e) =>
                      e.jsondata && "" !== e.jsondata
                        ? { ...e, jsondata: JSON.parse(e.jsondata) }
                        : { ...e, jsondata: {} },
                    ),
                  ));
              }, []),
              e
            );
          })(),
          r = Dl();
        return (!a || 0 == a.length) && r?.length > 0
          ? null
          : n.createElement(
              "div",
              { className: ut().SectionCtn },
              n.createElement("h1", null, (0, R.we)("#OptIn_Eligible_Games")),
              Boolean(!a || 0 == a.length)
                ? n.createElement(
                    "div",
                    { className: Xe().NoEligibleCtn },
                    (0, R.we)("#OptIn_NoEligible_Games_Found"),
                  )
                : n.createElement(
                    "table",
                    { className: Xe().EligibleGamesTable },
                    n.createElement(
                      "thead",
                      null,
                      n.createElement(
                        "tr",
                        null,
                        n.createElement(
                          "th",
                          null,
                          (0, R.we)("#OptIn_Table_Col_Game"),
                        ),
                        n.createElement(
                          "th",
                          null,
                          (0, R.we)("#OptIn_Table_Col_AppID"),
                        ),
                        n.createElement("th", null),
                      ),
                    ),
                    n.createElement(
                      "tbody",
                      null,
                      a.map((e) =>
                        n.createElement(Nl, {
                          key: "opportunity_" + e.appid,
                          appid: e.appid,
                          appName: e.app_name,
                          optInDef: t,
                        }),
                      ),
                    ),
                  ),
            );
      }
      function Nl(e) {
        const { appid: t, appName: a, optInDef: r, bReview: i } = e;
        return n.createElement(
          "tr",
          null,
          n.createElement("td", null, a),
          n.createElement("td", null, t),
          n.createElement(
            "td",
            null,
            n.createElement(
              m.jn,
              {
                onClick: (e) =>
                  (0, S.EP)(
                    e,
                    `${St.TS.PARTNER_BASE_URL}optin/sale/${r.pageid}/${t}`,
                  ),
              },
              (0, R.we)(i ? "#OptIn_ReviewReg" : "#OptIn_OptIn"),
            ),
          ),
        );
      }
      function Gl(e) {
        const { optInDef: t } = e,
          [a, r] = (0, n.useState)(null),
          [i] = (0, Nt.G6)((0, Cl.M9)(a), (0, Cl.pk)(a), {
            include_assets: !0,
          }),
          s = a?.appid && 0 == i?.GetAppType(),
          l = (0, ze.Ym)(t.appeals_text, (0, xe.sf)(St.TS.LANGUAGE));
        if (l?.length > 0)
          return n.createElement(
            "div",
            { className: ut().SectionCtn },
            n.createElement(
              "h1",
              null,
              (0, R.we)("#OptIn_EligibleMissed_Title"),
            ),
            n.createElement("p", null, (0, R.we)("#OptIn_NoEligible_Desc1")),
            n.createElement(
              "ul",
              { className: "bullets" },
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_NoEligible_Point1"),
              ),
              n.createElement(
                "li",
                null,
                (0, R.we)("#OptIn_NoEligible_Point2"),
              ),
            ),
            n.createElement("p", null, (0, R.we)("#OptIn_NoEligible_Desc1_NF")),
            n.createElement(
              "div",
              { className: ll.AppealsEntryPointCtn },
              n.createElement(
                "h3",
                null,
                (0, R.we)("#OptIn_EligibleMissed_GetStarted"),
              ),
              n.createElement("p", null, (0, R.we)("#OptIn_NoEligible_Desc2")),
              n.createElement(
                "p",
                null,
                n.createElement(
                  "span",
                  { className: ll.Notice },
                  (0, R.we)("#OptIn_NoEligible_Desc_StorePage"),
                ),
              ),
              n.createElement(Il.h, {
                itemType: 0,
                strLabel: (0, R.we)("#OptIn_SearchGame"),
                autoFocus: !1,
                fnSetItemID: (e) => {
                  (a && a.appid == e) || r({ appid: e });
                },
              }),
              n.createElement(
                "div",
                { className: ll.AppealSelectedApp },
                n.createElement(Ol, { oFeaturedItem: a, oStoreItem: i }),
                n.createElement(
                  m.jn,
                  {
                    disabled: !s,
                    onClick: (e) =>
                      (0, S.EP)(
                        e,
                        `${St.TS.PARTNER_BASE_URL}optin/appeal/${t.pageid}/${a?.appid}`,
                      ),
                  },
                  (0, R.we)(
                    s
                      ? "#OptIn_Appeals_Begin_Button"
                      : "#OptIn_SelectGameToAppeal",
                    i?.GetName(),
                  ),
                ),
              ),
            ),
          );
      }
      function Ol(e) {
        const { oFeaturedItem: t, oStoreItem: a } = e;
        return t && !a
          ? n.createElement(
              "div",
              null,
              (0, R.we)("#OptIn_LoadingAppDetails", t.appid),
            )
          : a
            ? n.createElement(
                "div",
                { className: ll.SelectedApp },
                n.createElement("img", { src: a.GetAssets().GetHeaderURL() }),
                n.createElement(
                  "div",
                  null,
                  a.GetName(),
                  " ",
                  "(",
                  t.appid,
                  ")",
                ),
                Boolean(0 != a.GetAppType()) &&
                  n.createElement(
                    "div",
                    null,
                    (0, R.we)("#OptIn_Dashbroad_NotSupportType"),
                  ),
              )
            : null;
      }
      function Fl(e) {
        const { optInDef: t } = e;
        return n.createElement(
          "div",
          { className: ut().SectionCtn },
          n.createElement(bl, { optInDef: t }),
          Boolean(St.iA.is_support) &&
            n.createElement(
              "div",
              { className: _().ValveOnlyBackground },
              n.createElement(
                "a",
                {
                  href: `${St.TS.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                },
                "Edit OptIn Definition",
              ),
            ),
        );
      }
      var Ll = a(51134),
        Ul = a(5026),
        zl = a(58632),
        xl = a.n(zl),
        ql = a(54806),
        Wl = a(96001);
      const jl = n.createContext({
        loadOptInAppealsSummaryStats: async (e, t) =>
          await (function (e) {
            Vl ||
              (Vl = new (xl())(
                async (t) => {
                  const a = q.w.Init(ve);
                  a.Body().set_opt_in_names([...t]);
                  const n = await N.GetOptInAppealsSummaryStats(e, a);
                  if (!n.BSuccess())
                    throw `Failed to call GetOptInAppealsSummaryStats with details: ${n.GetErrorMessage()}`;
                  const r = new Map();
                  return (
                    n
                      .Body()
                      .summary()
                      .forEach((e) => {
                        const t = e.toObject();
                        r.has(t.opt_in_name)
                          ? r.get(t.opt_in_name).push(t)
                          : r.set(t.opt_in_name, [t]);
                      }),
                    t.map((e) => r.get(e) ?? null)
                  );
                },
                { maxBatchSize: 100 },
              ));
            return Vl;
          })(t).load(e),
      });
      function Hl(e, t, a) {
        return {
          queryKey: ["OptInAppealsSummaryStats", a],
          queryFn: () => e.loadOptInAppealsSummaryStats(a, t),
          enabled: !!a,
        };
      }
      let Vl;
      var Kl = a(78395),
        Yl = a(27144),
        $l = a(29233);
      function Jl(e) {
        (0, n.useEffect)(() => {
          l.v.Get();
        }, []);
        const [t, a] = (0, u.QD)("tab", "active"),
          r = (e) => a(e.key),
          i = [
            {
              name: `App Review (${l.v.Get().GetAppReviewOptIn()?.length || 0})`,
              key: "appreview",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Xl, { list: l.v.Get().GetAppReviewOptIn() }),
              ),
              onClick: r,
            },
            {
              name: `Appeals Review (${l.v.Get().GetAppealReviewOptIn()?.length || 0})`,
              key: "appealss",
              contents: n.createElement(
                d.tH,
                null,
                n.createElement(Xl, {
                  list: l.v.Get().GetAppealReviewOptIn(),
                  bAppeals: !0,
                }),
              ),
              onClick: r,
            },
          ];
        return n.createElement(
          d.tH,
          null,
          n.createElement(
            "div",
            { className: F().DashboardCtn },
            n.createElement(
              "h1",
              null,
              "Opt-In App Review and Appeals Review Dashboard",
            ),
            n.createElement("hr", null),
            n.createElement(
              "p",
              null,
              "OptIn in App Review have not been announced to partner and we are reviewing apps for inclusion",
            ),
            n.createElement(
              "p",
              null,
              "OptIn in Appeal Review are publically announced allowing Steamworks partners to appear our original decisions to not include a game in a Steam theme fest.",
            ),
            n.createElement(
              m.$n,
              {
                onClick: (e) =>
                  (0, h.pg)(
                    n.createElement(to, {
                      list: l.v.Get().GetAppealReviewOptIn(),
                    }),
                    (0, v.uX)(e),
                  ),
              },
              "Download Appeals CSV Data",
            ),
            n.createElement(E.V, { tabs: i, startingTab: t }),
          ),
        );
      }
      function Xl(e) {
        const { list: t, bReverseOrder: a, bAppeals: r } = e,
          [i, s] = (0, u.QD)("query", ""),
          l = (0, n.useMemo)(() => {
            const e = i.trim();
            return t
              .sort((e, t) =>
                a
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter(
                (t) =>
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  t.opt_in_registration_title?.english
                    ?.toLocaleLowerCase()
                    .includes(e) ||
                  t.event_title?.english?.toLocaleLowerCase().includes(e),
              );
          }, [a, t, i]);
        return n.createElement(
          "div",
          null,
          n.createElement(m.pd, {
            type: "string",
            value: i,
            onChange: (e) => s(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          l.map((e) =>
            n.createElement(Ql, { key: e.pageid, def: e, bAppeals: r }),
          ),
        );
      }
      function Ql(e) {
        const { def: t, bAppeals: a } = e,
          r = t.event_title?.english || "No Name Assigned",
          i = (0, ze.Ym)(t.appeals_text, (0, xe.sf)(f.TS.LANGUAGE));
        return i?.length > 0
          ? n.createElement(
              "div",
              {
                key: t.pageid,
                className: (0, y.A)(
                  F().OptInAdminRow,
                  w().TileContainer,
                  Boolean(a) ? F().OptinEnabled : "",
                ),
              },
              n.createElement(
                "div",
                { className: w().EventNameCtn },
                n.createElement(
                  "div",
                  { className: w().EventName },
                  Boolean(r) && r,
                  " ",
                  n.createElement("span", null, "(", t.pageid, ")"),
                ),
                n.createElement(
                  "div",
                  { className: w().DatesCtn },
                  n.createElement(
                    "span",
                    { className: w().DateAndTime },
                    n.createElement(g.K4, {
                      dateAndTime: t.event_start_date,
                      bSingleLine: !0,
                      bOnlyDate: !0,
                    }),
                  ),
                  " ",
                  n.createElement(
                    "span",
                    { className: w().DateAndTime },
                    "To ",
                    n.createElement(g.K4, {
                      dateAndTime: t.event_end_date,
                      bSingleLine: !0,
                      bOnlyDate: !0,
                    }),
                  ),
                ),
              ),
              n.createElement(
                "div",
                { className: w().EventDetailsCtn },
                n.createElement(
                  "div",
                  { className: F().StatsCtn },
                  a
                    ? n.createElement(Zl, { def: t })
                    : n.createElement(
                        "div",
                        { className: w().FeaturedApps },
                        n.createElement(
                          "div",
                          { className: w().BigNumber },
                          "??",
                        ),
                        n.createElement(
                          "span",
                          { className: _().HelperTooltip },
                          "Outstanding App Review",
                          n.createElement(Pe.o, {
                            tooltip: "Number of apps requiring app review",
                          }),
                        ),
                      ),
                ),
                n.createElement(
                  "div",
                  { className: (0, y.A)(F().Button, F().ButtonCtn) },
                  n.createElement(
                    "a",
                    {
                      href: `${f.TS.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=${a ? "review" : "appeal"}`,
                    },
                    "Open Review Tool",
                  ),
                ),
              ),
            )
          : null;
      }
      function Zl(e) {
        const { def: t } = e,
          a = (function (e) {
            const t = (0, Wl.a)(),
              a = n.useContext(jl);
            return (0, x.I)(Hl(a, t, e));
          })(t.pageid),
          [r, i] = (0, n.useState)(!1),
          s = n.useMemo(() => {
            if (a.data) {
              let e = {
                accepted_appeals: 0,
                opt_in_name: t.pageid,
                open_appeals: 0,
                reject_appeals: 0,
                appeal_account_id: 0,
              };
              return (
                a.data.forEach((t) => {
                  (e.accepted_appeals += t.accepted_appeals),
                    (e.open_appeals += t.open_appeals),
                    (e.reject_appeals += t.reject_appeals);
                }),
                e
              );
            }
            return null;
          }, [t.pageid, a.data]);
        return a && !a.isLoading && a.data
          ? a.isError || a.isLoadingError
            ? n.createElement("div", null, "Failed to load appeals summary")
            : n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: w().FeaturedApps },
                  n.createElement(
                    "div",
                    { className: w().BigNumber },
                    s.open_appeals.toLocaleString(),
                  ),
                  n.createElement(
                    "span",
                    { className: _().HelperTooltip },
                    "Open Appeals to Review",
                    n.createElement(Pe.o, {
                      tooltip:
                        "Number of appeals that are open requiring review",
                    }),
                  ),
                ),
                n.createElement(
                  "div",
                  { className: w().FeaturedApps },
                  n.createElement(
                    "div",
                    { className: w().BigNumber },
                    s.accepted_appeals.toLocaleString(),
                  ),
                  n.createElement(
                    "span",
                    { className: _().HelperTooltip },
                    "Accepted Appeals",
                    n.createElement(Pe.o, {
                      tooltip: "Numbers appeals we accepted",
                    }),
                  ),
                ),
                n.createElement(
                  "div",
                  { className: w().FeaturedApps },
                  n.createElement(
                    "div",
                    { className: w().BigNumber },
                    s.reject_appeals.toLocaleString(),
                  ),
                  n.createElement(
                    "span",
                    { className: _().HelperTooltip },
                    "Rejected Appeals",
                    n.createElement(Pe.o, {
                      tooltip: "Numbers appeals we rejected",
                    }),
                  ),
                ),
                Boolean(r)
                  ? n.createElement(
                      n.Fragment,
                      null,
                      a?.data
                        .filter((e) => 0 !== e.appeal_account_id)
                        .map((e) =>
                          n.createElement(eo, {
                            key: `${e.opt_in_name}+${e.appeal_account_id}`,
                            userStat: e,
                          }),
                        ),
                    )
                  : n.createElement(m.Yh, {
                      label: "Show Details?",
                      checked: r,
                      onChange: (e) => i(e),
                    }),
              )
          : n.createElement(M.t, {
              size: "medium",
              string: (0, R.we)("#Loading"),
            });
      }
      function eo(e) {
        const { userStat: t } = e;
        return n.createElement(
          "div",
          null,
          n.createElement(Wt.p, { accountID: t.appeal_account_id }),
          n.createElement(
            "div",
            null,
            "Accepted Appeals: ",
            t.accepted_appeals.toLocaleString(),
          ),
          n.createElement(
            "div",
            null,
            "Rejected Appeals: ",
            t.reject_appeals.toLocaleString(),
          ),
          n.createElement(
            "div",
            null,
            "Total: ",
            (t.accepted_appeals + t.reject_appeals).toLocaleString(),
          ),
        );
      }
      function to(e) {
        const t = (0, c.f1)(),
          { closeModal: a, list: r } = e,
          [i, s] = (0, n.useState)(!0),
          l = (function (e) {
            const t = (0, Wl.a)(),
              a = n.useContext(jl);
            return (0, ql.E)({ queries: e.map((e) => Hl(a, t, e)) });
          })((0, n.useMemo)(() => r.map((e) => e.pageid), [r])),
          o = (0, n.useMemo)(() => {
            if (l?.some((e) => e.isLoading)) return null;
            const e = new Set();
            return (
              l?.map((t) =>
                t?.data?.forEach((t) => {
                  0 != t.appeal_account_id && e.add(t.appeal_account_id);
                }),
              ),
              Array.from(e)
            );
          }, [l]),
          m = (0, Yl.B3)(o),
          d = (0, n.useMemo)(() => {
            if (m?.length > 0) {
              const e = [];
              e.push([
                "PageID",
                "AccountID",
                "Persona",
                "Accepted Appeals",
                "Rejected Appeals",
                "Total",
              ]);
              const t = new Map();
              return (
                m.forEach((e) => t.set(new $l.b2(e.steamid).GetAccountID(), e)),
                l
                  .filter((e) => e.data?.length > 0)
                  .forEach((a) =>
                    a.data.forEach((a) => {
                      0 != a.appeal_account_id &&
                        e.push([
                          a.opt_in_name,
                          "" + a.appeal_account_id,
                          t.get(a.appeal_account_id)?.persona_name || "",
                          "" + a.accepted_appeals,
                          "" + a.reject_appeals,
                          "" + (a.accepted_appeals + a.reject_appeals),
                        ]);
                    }),
                  ),
                e
              );
            }
            return null;
          }, [m, l]);
        return (
          (0, n.useEffect)(() => {
            d?.length > 0 && s(!1);
          }, [d?.length]),
          n.createElement(
            Kl.o0,
            {
              strTitle: "Download Appeals CSV",
              closeModal: a,
              bOKDisabled: i,
              onOK: () => {
                const e = (0, R.TW)(t) + "_appeals_data.csv";
                Qa.g.WriteCSVToFile(d, e);
              },
            },
            i
              ? n.createElement(M.t, {
                  string: (0, R.we)("#Loading"),
                  position: "center",
                  size: "medium",
                })
              : n.createElement("div", null, "Click Confirm to Download CSV"),
          )
        );
      }
      var ao = a(4943),
        no = a(55272),
        ro = a(17904),
        io = a(2516);
      function so(e) {
        const { pageid: t } = e;
        return n.createElement(
          "div",
          { className: (0, y.A)(ut().AdminPageCtn, ut().WidePageCtn) },
          n.createElement(
            "div",
            { className: ut().PageTitle },
            "Survey Results ",
            t,
          ),
          n.createElement(oo, { pageid: t }),
        );
      }
      const lo = (0, fa.FB)();
      function oo(e) {
        const t = (function () {
            const [e] = (0, n.useState)(() =>
              (0, Ri.Tc)("optin_survey_results", "application_config"),
            );
            return e;
          })(),
          { rgDemoStats: a, rgAppSansPermissions: r } = (0, no.p)(),
          [i, s] = (0, n.useState)(() => !0),
          [l, o, c, d] = (0, n.useMemo)(() => {
            const e = a.reduce(
                (e, t) => (t.rt_end_time > e ? t.rt_end_time : e),
                0,
              ),
              t = new Map();
            return (
              a.forEach((a) => {
                a.rt_end_time == e && t.set(a.appid, a);
              }),
              [
                a.reduce(
                  (e, t) =>
                    t.rt_last_update_time > e ? t.rt_last_update_time : e,
                  0,
                ),
                e,
                new Set(a.map((e) => e.appid)).size,
                t,
              ]
            );
          }, [a]),
          u = (0, n.useMemo)(() => {
            const e = [];
            return (
              t.forEach((t) => {
                (!i ||
                  t.suggestions ||
                  t.change_release_description ||
                  t.expectation_explanation ||
                  t.satisfiction_description) &&
                  e.push({ ...t, ...d.get(t.appid) });
              }),
              e
            );
          }, [i, d, t]),
          p = (0, n.useMemo)(
            () => [
              lo.accessor("appid", { header: "App", size: 200, cell: mo }),
              lo.accessor("appid", { header: "AppID", size: 50 }),
              lo.accessor("demo_player_count", {
                header: "Demo Players",
                size: 50,
              }),
              lo.accessor("wishlist_count", { header: "Wishlists", size: 50 }),
              lo.accessor("player_wishlist_count", {
                header: "Player + Wishlist",
                size: 50,
              }),
              lo.accessor("accountid", { header: "AccountID", size: 50 }),
              lo.accessor("satisfaction", {
                header: "Communication",
                size: 50,
                meta: {
                  strHeaderTooltip:
                    "How satisfied were you with the communication from Valve about Next Fest?",
                },
              }),
              lo.accessor("satisfiction_description", {
                header: "Satisfaction Notes",
                size: 150,
              }),
              lo.accessor("team_size", {
                header: "Team Size",
                size: 30,
                meta: {
                  strHeaderTooltip:
                    "How many full-time people do you have working on your game?",
                },
              }),
              lo.accessor("meet_expectations", {
                header: "Expectations",
                size: 30,
                meta: {
                  strHeaderTooltip:
                    "Did your participation in Next Fest meet your expectations?",
                },
                cell: uo,
              }),
              lo.accessor("expectation_explanation", {
                header: "Expectation Notes",
                size: 150,
              }),
              lo.accessor("change_release_plans", {
                header: "Release Plans",
                size: 30,
                meta: {
                  strHeaderTooltip:
                    "Did you change your release plans as a result of participating in Next Fest?",
                },
                cell: uo,
              }),
              lo.accessor("change_release_description", {
                header: "Release Plan Notes",
                size: 150,
              }),
              lo.accessor("suggestions", {
                header: "Suggestions",
                size: 150,
                meta: {
                  strHeaderTooltip:
                    "Do you have any feedback or suggestions? What can we do to make Next Fest better?",
                },
              }),
            ],
            [],
          );
        return (
          (0, Wn.w)(
            0 == r.length,
            "We don't expect to have apps we cannot sett",
          ),
          n.createElement(
            "div",
            null,
            n.createElement(
              "p",
              null,
              "The next fest end event was ",
              (0, R.TW)(o),
              " @ ",
              (0, g.pg)(o),
              " and the logic to collect the stats completed it last run at ",
              (0, R.TW)(l),
              " @ ",
              (0, g.pg)(l),
              ". There were ",
              c.toLocaleString(),
              " included in the stats collection.",
            ),
            n.createElement(m.Yh, {
              label: "Filter to Records With Comments",
              onChange: s,
              checked: i,
            }),
            n.createElement(Ra.k, {
              columns: p,
              data: u,
              stickyHeader: !0,
              nItemHeight: 28,
              overscan: u.length,
            }),
            n.createElement(
              m.$n,
              {
                id: "download-csv",
                onClick: () =>
                  (0, io.K)(
                    "optin_survey.csv",
                    u,
                    p.map((e) => ({
                      accessorKey: e.accessorKey,
                      header:
                        "string" == typeof e.header
                          ? e.header
                          : (e.accessorKey ?? ""),
                    })),
                  ),
                style: { width: "120px" },
              },
              "Download CSV",
            ),
            n.createElement("br", null),
          )
        );
      }
      const co = {
        include_assets: !0,
        include_release: !0,
        include_reviews: !0,
      };
      function mo(e) {
        const t = Number.parseInt(e.getValue()),
          [a] = (0, Nt.t7)(t, co),
          r = (0, n.useMemo)(() => ({ id: t, type: "game" }), [t]);
        return n.createElement(
          "div",
          null,
          n.createElement(
            Os.Qf,
            {
              item: r,
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            n.createElement("img", {
              className: ro.Img,
              src: a?.GetAssets().GetHeaderURL(),
            }),
          ),
          n.createElement("span", null, a?.GetName()),
        );
      }
      function uo(e) {
        return Number.parseInt(e.getValue()) ? "yes" : "no";
      }
      var po = a(25035),
        _o = a.n(po),
        go = a(562);
      function ho() {
        const [e, t] = n.useState({}),
          { rgTags: a } = (0, go.DT)(),
          r = n.useMemo(
            () => a?.reduce((e, t) => e.set(t.tagid, t.name), new Map()),
            [a],
          ),
          i = (function (e) {
            const t = (0, x.I)({
              queryKey: [
                "usePrePruneSearch",
                e.strName,
                e.strDescription,
                e.nTag,
              ],
              queryFn: async () => {
                const t = {
                    sessionid: f.TS.SESSIONID,
                    strSearchName: e.strName,
                    strSearchDescription: e.strDescription,
                    nSearchTagId: e.nTag,
                  },
                  a = f.TS.PARTNER_BASE_URL + "/optin/ajaxadminpreprunesearch",
                  n = await C().get(a, { params: t, withCredentials: !0 });
                return 200 == n?.status &&
                  1 == n?.data?.success &&
                  n?.data?.rgAppIDs?.length > 0
                  ? n.data.rgAppIDs
                  : [];
              },
              enabled: Eo(e),
            });
            return t;
          })(e),
          s =
            ((l = i.isSuccess ? i.data : void 0),
            (0, x.I)({
              queryKey: ["useLoadStoreItems", l],
              queryFn: async () => {
                if (
                  1 ==
                  (await Pt.A.Get().QueueMultipleAppRequests(l, {
                    include_basic_info: !0,
                    include_tag_count: 10,
                  }))
                )
                  return l.map((e) => Pt.A.Get().GetApp(e));
              },
              enabled: !!l,
            }));
        var l;
        const o = n.useMemo(() => {
            if (!s.isSuccess) return [];
            return s.data
              .filter((e) => !!e)
              .map((e) => ({
                nAppID: e.GetAppID(),
                strName: e.GetName(),
                rgTags: e
                  .GetTags()
                  .map((e) => r.get(e.tagid) ?? e.tagid)
                  .join(", "),
                strShortDescription: e.GetShortDescription(),
              }));
          }, [s.isSuccess, s.data, r]),
          c = i.isLoading || s.isLoading,
          m = i.isSuccess && s.isSuccess,
          d = !(c || (i.isSuccess && s.isSuccess));
        return n.createElement(
          "div",
          null,
          n.createElement(
            "div",
            { className: _o().TopSection },
            n.createElement(So, { fnSetSearch: t }),
            n.createElement(yo, { search: e, rgCurrentResults: o }),
          ),
          n.createElement("hr", null),
          Eo(e) &&
            n.createElement(
              n.Fragment,
              null,
              c && n.createElement(M.t, { size: "small" }),
              m &&
                o.length > 0 &&
                n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: _o().ResultsTitle },
                    "Results (",
                    o.length,
                    ")",
                  ),
                  n.createElement(fo, { items: o }),
                ),
              m &&
                0 == o.length &&
                n.createElement("div", null, "No results found"),
              d && n.createElement("div", null, "Search failed"),
            ),
        );
      }
      function Eo(e) {
        return (
          e?.strName?.length > 0 || e?.strDescription?.length > 0 || !!e.nTag
        );
      }
      function So(e) {
        const { fnSetSearch: t } = e,
          [a, r] = n.useState(""),
          [i, s] = n.useState(""),
          [l, o] = n.useState(""),
          { rgTags: c } = (0, go.DT)(),
          d =
            l.trim().length > 0
              ? c.find((e) => e.name.toLowerCase() == l.toLowerCase())?.tagid
              : void 0,
          u = c?.map((e) => ({ value: e.name, label: e.name }));
        return n.createElement(
          "div",
          { className: _o().SearchCtn },
          n.createElement(m.pd, {
            type: "text",
            label: "Name",
            value: a,
            onChange: (e) => r(e.target.value),
          }),
          n.createElement(m.pd, {
            type: "text",
            label: "Description",
            value: i,
            onChange: (e) => s(e.target.value),
          }),
          n.createElement(mt.Ay, {
            className: "react-select-container",
            classNamePrefix: "react-select",
            isSearchable: !0,
            isMulti: !1,
            defaultMenuIsOpen: !1,
            onChange: (e) => o(e.value),
            value: { label: l, value: l },
            options: u,
          }),
          l.trim().length > 0 &&
            !d &&
            n.createElement(
              "div",
              { className: _o().Warning },
              "Tag not found",
            ),
          n.createElement(
            m.jn,
            {
              onClick: () => {
                t({ strName: a.trim(), strDescription: i.trim(), nTag: d });
              },
            },
            "Search",
          ),
        );
      }
      function yo(e) {
        const { search: t, rgCurrentResults: a } = e,
          { rgTags: r } = (0, go.DT)(),
          [i, s] = n.useState([]),
          [l, o] = n.useState(1),
          c = a?.length > 0 && !i.some((e) => e.rgItems == a),
          d = i.length > 0;
        return n.createElement(
          "div",
          { className: _o().ResultSetsCtn },
          n.createElement("div", null, "To be exported:"),
          0 == i.length && n.createElement("div", null, "None so far"),
          i.map((e, t) =>
            n.createElement(
              "div",
              { key: e.nSetId },
              e.strDescription,
              " (",
              e.rgItems.length,
              ")",
              n.createElement(
                "button",
                { onClick: () => s([...i.slice(0, t), ...i.slice(t + 1)]) },
                "x",
              ),
            ),
          ),
          n.createElement(
            m.$n,
            {
              onClick: () =>
                (() => {
                  const e = l;
                  o(l + 1);
                  const n = [];
                  if (
                    (t.strName && n.push(`name: ${t.strName}`),
                    t.strDescription && n.push(`desc: ${t.strName}`),
                    t.nTag)
                  ) {
                    const e = r.find((e) => e.tagid == t.nTag)?.name;
                    e && n.push(`tag: ${e}`);
                  }
                  s([
                    ...i,
                    { nSetId: e, strDescription: n.join(", "), rgItems: a },
                  ]);
                })(),
              disabled: !c,
            },
            "Add current results",
          ),
          n.createElement(
            m.$n,
            {
              onClick: () =>
                (() => {
                  const e = [];
                  e.push(["AppID", "Name", "Tags", "Short Desc"]),
                    new Map(
                      i.flatMap((e) => e.rgItems).map((e) => [e.nAppID, e]),
                    ).forEach((t) =>
                      e.push([
                        String(t.nAppID),
                        t.strName,
                        t.rgTags,
                        t.strShortDescription,
                      ]),
                    ),
                    e.sort((e, t) => Number(e[0]) - Number(t[0])),
                    Qa.g.WriteCSVToFile(e, "data.csv");
                })(),
              disabled: !d,
            },
            "Export CSV",
          ),
        );
      }
      const vo = (0, fa.FB)();
      function fo(e) {
        const { items: t } = e,
          a = n.useMemo(
            () => [
              vo.accessor("nAppID", { header: "App ID", size: 100 }),
              vo.accessor("strName", { header: "Name", size: 200 }),
              vo.accessor("rgTags", { header: "Tags", size: 300 }),
              vo.accessor("strShortDescription", {
                header: "Short Desc",
                minSize: 100,
                size: 500,
              }),
            ],
            [],
          );
        return n.createElement(Ra.k, {
          columns: a,
          data: t,
          stickyHeader: !1,
          nItemHeight: 28,
        });
      }
      const bo = {
          OptinAdminDashboard: () => "/admin/",
          OptinAdminEdit: (e) => `/admin/edit/${e}`,
          OptinAdminAnalysis: (e) => `/admin/analysis/${e}`,
          OptinAdminDemoAnalysis: (e) => `/admin/demo_analysis/${e}`,
          OptinAdminPrePruning: () => "/admin/preprune",
          OptinAdminSupport: (e) => `/admin/support/${e}`,
          OptInPartnerDashboard: (e) => `/sale*/${e}`,
          OptInApp: (e, t) => `/sale*/${e}/${t}`,
          OptInAppAppeal: (e, t) => `/appeal/${e}/${t}`,
          OptInAppReview: (e) => `/appreview/${e}`,
          OptInAppReviewDashboard: () => "/appreview_dashboard",
          OptInAppSurvey: (e) => `/survey/${e}`,
          OptInSurveyResults: (e) => `/surveyresults/${e}`,
        },
        wo = "sale_";
      function Do(e) {
        return e?.startsWith(wo) ? e : wo + e;
      }
      function Co(e) {
        return n.createElement(
          sl.m,
          null,
          n.createElement(
            o.Kd,
            { basename: (0, r.C)() + "optin/" },
            n.createElement(Ps, null),
            n.createElement(
              In.dO,
              null,
              n.createElement(In.qh, {
                exact: !0,
                path: r.B.DiagData(),
                render: (e) =>
                  n.createElement(ot.z, {
                    ...e,
                    strConfigID: "application_config",
                  }),
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminDashboard(),
                component: Ge,
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminEdit(":pageid"),
                render: (e) =>
                  n.createElement(
                    Ul.S,
                    { pageid: e.match.params.pageid },
                    n.createElement(ji, null),
                  ),
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminAnalysis(":pageid"),
                render: (e) =>
                  n.createElement(
                    Ul.S,
                    { pageid: e.match.params.pageid },
                    n.createElement(Ll.ft, null),
                  ),
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminDemoAnalysis(":pageid"),
                render: (e) =>
                  n.createElement(
                    Ul.A,
                    { pageid: e.match.params.pageid },
                    n.createElement(ao.OF, { bShowOnlySummary: !1 }),
                  ),
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminPrePruning(),
                component: ho,
              }),
              n.createElement(In.qh, {
                exact: !0,
                path: bo.OptinAdminSupport(":appid"),
                render: (e) =>
                  n.createElement(Yi, {
                    appid: Number.parseInt(e.match.params.appid),
                  }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInApp(":partialpageid", ":appid"),
                render: (e) =>
                  n.createElement(Rs, {
                    appid: e.match.params.appid,
                    pageid: Do(e.match.params.partialpageid),
                  }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInAppReviewDashboard(),
                component: Jl,
              }),
              n.createElement(In.qh, {
                path: bo.OptInAppReview(":pageid"),
                render: (e) =>
                  n.createElement(el, { pageid: e.match.params.pageid }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInAppAppeal(":partialpageid", ":appid"),
                render: (e) =>
                  n.createElement(El, {
                    appid: Number.parseInt(e.match.params.appid),
                    pageid: Do(e.match.params.partialpageid),
                  }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInAppSurvey(":partialpageid"),
                render: (e) =>
                  n.createElement(Gi, { pageid: e.match.params.partialpageid }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInSurveyResults(":partialpageid"),
                render: (e) =>
                  n.createElement(so, { pageid: e.match.params.partialpageid }),
              }),
              n.createElement(In.qh, {
                path: bo.OptInPartnerDashboard(":partialpageid"),
                render: (e) =>
                  n.createElement(Bl, {
                    pageid: Do(e.match.params.partialpageid),
                  }),
              }),
              n.createElement(In.qh, { component: i.a }),
            ),
          ),
        );
      }
    },
    34585: (e, t, a) => {
      "use strict";
      a.d(t, { dR: () => F, BO: () => j, Av: () => q });
      var n = a(92298),
        r = a.n(n),
        i = a(67239),
        s = a(68612),
        l = a(16811),
        o = a(93742),
        c = a(65946),
        m = a(19367),
        d = a.n(m),
        u = a(90626),
        p = a(73744),
        _ = a(16676),
        g = a(61859),
        h = a(84073),
        E = a.n(h),
        S = a(59178),
        y = a(90031),
        v = a(9154),
        f = a(738),
        b = a(22797),
        w = a(56011),
        D = a(41720),
        C = a(98459),
        I = a(62792),
        B = a(71298),
        T = a(30470),
        M = a(64399),
        A = a(70065);
      function k(e) {
        const { oEditablePlan: t } = e,
          a = t.GetFeaturedItemType(),
          n = t.GetFeaturedItemID(),
          r = t.GetID(),
          s = (0, I.vo)(n, a),
          o = (0, l.bE)(),
          c = Math.floor(Date.now() / 1e3),
          m = o?.GetDueDate() ?? t.GetStartDate() - i.lF,
          d = m <= c && m != i.db,
          p = (0, M.vv)(t.GetID());
        return u.createElement(
          "div",
          null,
          u.createElement("h2", null, "Send to partner"),
          u.createElement(
            "div",
            { className: E().SendOptionsRow },
            u.createElement(
              "div",
              { className: E().EmailButtonsCtn },
              u.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                u.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Partner email",
                ),
                u.createElement(
                  _.$n,
                  {
                    disabled: d,
                    onClick: (e) =>
                      (0, f.pg)(
                        u.createElement(R, { oEditablePlan: t }),
                        (0, w.uX)(e),
                      ),
                  },
                  "Send Email Request",
                ),
                d &&
                  u.createElement(
                    "div",
                    { className: E().Warning },
                    "Warning: due date is not in the future",
                  ),
              ),
              u.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                u.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Contacts",
                ),
                u.createElement(D.bX, {
                  nPartnerID: t.GetPartnerID(),
                  storeItemFilter: s,
                }),
              ),
            ),
            u.createElement(
              "div",
              null,
              u.createElement(_.pd, {
                type: "text",
                label: "You can share this link with the Partner:",
                tooltip:
                  "Any member of the partner can view or upload assets using that link. Only needs to be member of the partner.",
                value: `${T.TS.PARTNER_BASE_URL}promotion/assetportal/request/${r}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
              u.createElement(_.pd, {
                type: "text",
                label:
                  "For users WITHOUT a partner account, you can share this URL:",
                tooltip:
                  "This lets ANYONE with this URL to see existing assets and upload additional assets to this plan. They do not need to be logged in.",
                value: `${T.TS.PARTNER_BASE_URL}promotion/assetportal/externalrequest/${r}?inputaccesskey=${p.oPlanContainer.input_access_key}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
            ),
          ),
          u.createElement(P, { oEditablePlan: t }),
          u.createElement(G, null),
        );
      }
      function R(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          { fnCreatePromoInvite: n } = (0, y.kw)(),
          r = (0, B.vs)(),
          s = (0, l.bE)(),
          o = s?.GetDueDate() ?? t.GetStartDate() - i.lF,
          c = (0, C.te)(t.GetPartnerID()),
          m = (0, u.useCallback)(async () => {
            r.fnSetLoading(!0);
            const e = {
              type: 4,
              oInviteItem: (0, I.Di)(t.GetStoreItemKey()),
              rtExpireTime: o,
              nPartnerID: t.GetPartnerID(),
              strPromotionPlanID: t.GetID(),
              bRequireMarketingBanner: s.BIsMarketingMessageArtRequest(),
              bRequireSpotlightBanner: s.BIsSpotlightArtRequest(),
            };
            n(e)
              .then((e) => {
                1 == e
                  ? (r.fnSetStrSuccess(
                      "Asset request sent! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                    ),
                    r.fnSetSuccess(!0))
                  : 13 == e
                    ? (r.fnSetError(!0),
                      r.fnSetStrError(
                        "Unable to send asset request. The partner does not have a user set to receive communications.",
                      ))
                    : 8 == e
                      ? (r.fnSetError(!0),
                        r.fnSetStrError(
                          "Unable to send asset request. A parameter is invalid.",
                        ))
                      : (r.fnSetError(!0),
                        r.fnSetStrError(
                          "Failed to send asset request - eResult: " + e,
                        ));
              })
              .catch((e) => {
                r.fnSetError(!0),
                  r.fnSetStrError(
                    "Failed to create invitation - check console/network logs",
                  );
              });
          }, [r, n, s, t, o]);
        if (r.bLoading || c.bLoading)
          return u.createElement(B.Hh, {
            state: r,
            strDialogTitle: "Send Email To Partner",
            closeModal: a,
          });
        let d;
        return (
          t.GetStoreItemKey()
            ? t.GetPartnerID() > 0 &&
              t.GetFeaturedItemID() > 0 &&
              -1 == c.rgAppIDs?.findIndex((e) => e == t.GetFeaturedItemID()) &&
              (d =
                "Promotion has a partner ID set and a featured store item but the partner doesn't have access to the store item.")
            : (d =
                "You must set a featured store item or advertiser app in order to send an email."),
          d
            ? u.createElement(v.o0, {
                strTitle: "Can't Send Email",
                strDescription: d,
                onCancel: a,
                onOK: a,
                bAlertDialog: !0,
              })
            : u.createElement(A.Q, {
                strTitle: "Send Email To Partner",
                strDescription:
                  "This will send an assets and discount event request to the partner",
                onCancel: a,
                onOK: m,
                bSavePlanFirst: !0,
              })
        );
      }
      function P(e) {
        const { oEditablePlan: t } = e,
          a = (0, y.tU)(t.GetID());
        return u.createElement(
          "div",
          null,
          u.createElement("h2", null, "Email History"),
          u.createElement(
            "div",
            { className: E().EmailHistory },
            Boolean(null == a) && u.createElement(b.t, { size: "medium" }),
            Boolean(null != a && 0 == a.length) &&
              u.createElement("div", null, "No previous emails sent"),
            a?.map((e) =>
              u.createElement(N, { key: "eh_" + e.inviteid, email: e }),
            ),
          ),
        );
      }
      function N(e) {
        const { email: t } = e;
        return u.createElement("div", null, (0, g.TW)(t.rtinvitetime));
      }
      function G(e) {
        const t = (0, l.bE)();
        return u.createElement(
          "div",
          { className: E().AltAssetCtn },
          u.createElement("h2", null, "Alt asset location"),
          u.createElement(
            "p",
            null,
            "If the partner sent us assets some other way, add the URL below so the promo plan can move to the next step.",
          ),
          u.createElement(C.nW, {
            name: "Dropbox or Google Drive Link",
            index: 0,
            placeHolder:
              "Any link to a location such as Dropbox or Box or Google Drive that the partner has prepared and uploaded their art for the promotion.",
            id: t.GetArtInputLink(),
            fnSetID: t.SetInputArtworkLink,
            fnGetURL: (e) => e,
          }),
        );
      }
      var O = a(56186);
      function F(e) {
        const t = (0, o.ok)(),
          a = (0, l.bE)(),
          [n, r, i, s, m, d, p] = (0, c.q3)(() => [
            t.GetID(),
            t.GetPartnerRequireArtworkReview(),
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
            a.GetDueDate(),
            t.GetArtTeamDueDate(),
          ]);
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: E().PartnerSettingCtn },
            u.createElement(S.G, {
              storeItemKey: i,
              nPartnerID: s,
              nOriginalPartnerID: m,
              fnUpdatePartnerID: t.SetPartnerID,
              showPartnerInitialSetWarning: !0,
              autoSelectPartnerFromStoreItem: !1,
            }),
            u.createElement(_.Yh, {
              label:
                "Requires partner approval of final art assets we created (uncommon)",
              tooltip:
                "Only tick this if absolutely necessary. Limit this setting this to only those partners that are required to get external review by IP holders.",
              checked: r,
              onChange: (e) => t.SetPartnerRequireArtworkReview(e),
            }),
          ),
          u.createElement(
            "div",
            { className: E().SetupRow },
            u.createElement(L, null),
            u.createElement(
              "div",
              null,
              u.createElement(x, {
                strTitle: "Partner Due Date:",
                rtDueDate: d,
                fnSetDueDate: a.SetDueDate,
                bPartnerDueDate: !0,
              }),
              u.createElement(W, null),
              u.createElement("br", null),
              u.createElement(x, {
                strTitle: "Art Production Team Due Date:",
                rtDueDate: p,
                fnSetDueDate: t.SetArtworkProductionTeamDueDate,
                bPartnerDueDate: !1,
              }),
            ),
          ),
          u.createElement("br", null),
          u.createElement(k, { oEditablePlan: t }),
        );
      }
      function L(e) {
        const { bReviewApprovals: t } = e;
        return u.createElement(
          "div",
          { className: E().AssetNeedsColumn },
          u.createElement("h3", null, "Required Assets"),
          p.cV
            .filter((e) => !i.I8.includes(e) && !i.Ue.includes(e))
            .map((e) =>
              u.createElement(
                "div",
                { key: e, className: E().AssetTypeRow },
                u.createElement(q, { bReviewApprovals: t, type: e }),
              ),
            ),
          u.createElement(z, null),
        );
      }
      function U(e) {
        const t = (0, O.c2)(e?.template_vars_json);
        return "mm_auto_render" == t?.custom_display;
      }
      function z(e) {
        const { bReviewApprovals: t } = e,
          a = (0, o.ok)(),
          n = (0, s.dr)(a.GetMarketingMessageID(0)),
          r = (0, s.dr)(a.GetMarketingMessageID(1));
        return u.createElement(
          u.Fragment,
          null,
          U(n)
            ? u.createElement(
                "div",
                { className: E().TypeNotLinked },
                "No Asset Required: for ",
                u.createElement("b", null, (0, i.Pq)("marketingmessage_art")),
              )
            : u.createElement(q, {
                bReviewApprovals: t,
                type:
                  10 == n?.type
                    ? "marketingmessage_art_eventcapsule"
                    : "marketingmessage_art",
                index: 0,
              }),
          U(n)
            ? u.createElement(
                "div",
                { className: E().TypeNotLinked },
                "No Asset Required: for ",
                u.createElement("b", null, (0, i.Pq)("marketingmessage_art_2")),
              )
            : u.createElement(q, {
                bReviewApprovals: t,
                type:
                  10 == r?.type
                    ? "marketingmessage_art_2_eventcapsule"
                    : "marketingmessage_art_2",
                index: 1,
              }),
        );
      }
      function x(e) {
        const {
            strTitle: t,
            rtDueDate: a,
            fnSetDueDate: n,
            bPartnerDueDate: s,
          } = e,
          l = (0, o.ok)(),
          [m, p] = (0, u.useState)(null != a),
          [h] = (0, c.q3)(() => [l.GetStartDate()]),
          S = s ? i.lF : i.n5;
        return m
          ? u.createElement(
              u.Fragment,
              null,
              u.createElement("h3", null, t),
              u.createElement(
                "div",
                { style: { paddingBottom: "10px" } },
                "Recommended due date is a week before the event starts. This won't prevent them from providing art after this point, but clarifies our expectations of the partner",
              ),
              u.createElement(
                "div",
                { className: E().EditDueDateContainer },
                a != i.db &&
                  u.createElement(r(), {
                    timeFormat: !1,
                    onChange: (e) => {
                      e.unix && n(e.unix());
                    },
                    isValidDate: (e) =>
                      e.unix() <
                      d().unix(h).hour(0).seconds(0).minute(0).unix(),
                    value: a ? new Date(1e3 * a) : void 0,
                  }),
                s &&
                  u.createElement(
                    "span",
                    { className: E().ButtonDueDateASAP },
                    u.createElement(_.Yh, {
                      label: (0, g.we)("#AssetRequest_DueDate_ASAP"),
                      onClick: () => {
                        a != i.db ? n(i.db) : n(h - S);
                      },
                      checked: a == i.db,
                    }),
                  ),
              ),
              u.createElement(
                "p",
                null,
                "( Promotion Starts: ",
                (0, g.TW)(h),
                " )",
              ),
            )
          : u.createElement(
              u.Fragment,
              null,
              u.createElement("h3", null, t),
              u.createElement(
                "h2",
                null,
                j(a, h, S),
                u.createElement(
                  "div",
                  { className: E().DateCustomizeCtn },
                  u.createElement(
                    "span",
                    null,
                    u.createElement(_.Yh, {
                      label: "Customize",
                      onClick: () => p(!0),
                      checked: !1,
                    }),
                  ),
                ),
              ),
            );
      }
      function q(e) {
        const {
            type: t,
            index: a,
            bReviewApprovals: n,
            bLocalizationRequest: r,
          } = e,
          s = (0, o.ok)(),
          m = (0, l.bE)(),
          d = (0, c.q3)(() => s.BHasPromotionFeaturingForArtRequirement(t, a)),
          p = (0, c.q3)(() =>
            n
              ? m.BIsArtTypeReviewRequested(t)
              : r
                ? s.BHasArtworkLocalizationRequest(t)
                : m.BIsArtTypeRequested(t),
          ),
          [g, h] = (0, c.q3)(() => [
            s.BHasTakeoverIDs(),
            s.BHasSteamChinaTakeoverID(),
          ]);
        return d
          ? u.createElement(_.Yh, {
              label: (0, i.Pq)(t),
              checked: p,
              onChange: (e) => {
                n
                  ? (m.ToggleArtReviewRequest(t, e),
                    m.SetContentHubTakeover(
                      e && "takeover_art" == t && !g && !h,
                    ))
                  : r
                    ? s.ToggleArtworkLocalizationRequest(t, e)
                    : (m.ToggleArtRequest(t, e),
                      m.SetContentHubTakeover(
                        e && "takeover_art" == t && !g && !h,
                      ));
              },
            })
          : u.createElement(
              "div",
              { className: E().TypeNotLinked },
              "No linked ",
              u.createElement("b", null, (0, i.Pq)(t)),
            );
      }
      function W(e) {
        const t = (0, l.bE)();
        return u.createElement(
          "div",
          { className: E().InstructionCtn },
          u.createElement("h3", null, "Special Instruction for the Dev?"),
          u.createElement("textarea", {
            className: "DialogTextInputBase",
            value: t.GetValveNote() || "",
            onChange: (e) => t.SetValveNote(e?.currentTarget?.value || ""),
          }),
          u.createElement(
            "p",
            null,
            "These instructions show up down below in big letters for the partner to see",
          ),
        );
      }
      function j(e, t, a) {
        return null != e
          ? e == i.db
            ? (0, g.we)("#AssetRequest_DueDate_ASAP")
            : (0, g.TW)(e)
          : (0, g.TW)(t - a);
      }
    },
    21257: (e, t, a) => {
      "use strict";
      a.d(t, { OL: () => Se, Vi: () => pe, sw: () => me });
      var n = a(16811),
        r = a(65946),
        i = a(90626),
        s = a(45737),
        l = a.n(s),
        o = a(84073),
        c = a.n(o),
        m = a(16676),
        d = a(71298),
        u = a(9154),
        p = a(738),
        _ = a(32754),
        g = a(56011),
        h = a(61859),
        E = a(30470);
      function S(e, t, a) {
        return `${E.TS.BASE_URL_SHARED_CDN}store_item_assets/assetportal/preview//${e}/${t}/${a}`;
      }
      var y = a(48479),
        v = a(2160),
        f = a(56004),
        b = a(32625),
        w = a(44332),
        D = a(95034);
      function C(e) {
        const { promoAssetType: t, planID: a } = e,
          r = (0, i.useMemo)(() => [t], [t]),
          s = (0, n.bE)(),
          l = (0, i.useMemo)(
            () => [v.TU.k_ESteamRealmGlobal, v.TU.k_ESteamRealmChina],
            [],
          ),
          [o] = (0, D.QD)("inputaccesskey", null),
          m = (0, i.useCallback)(
            (e, a, n, r, i) => {
              (0, w.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              ),
                s.SetPreviewArt(n, t, e + (0, f.qR)(r));
            },
            [s, t],
          );
        let d = "#AssetRequest_General_Upload",
          u = "#AssetRequest_General_Upload_def";
        switch (t) {
          case "marketingmessage_art":
          case "marketingmessage_art_2":
          case "marketingmessage_art_eventcapsule":
          case "marketingmessage_art_2_eventcapsule":
            u = "#AssetRequest_General_Upload_defgif";
            break;
          case "takeover_art":
            d = "#AssetRequest_General_Upload_takeover";
            break;
          case "takeover_mobile_art":
            d = "#AssetRequest_General_Upload_takeover_mobile";
            break;
          case "takeunder_art":
            d = "#AssetRequest_General_Upload_takeunder";
            break;
          case "takeunder_mobile_art":
            d = "#AssetRequest_General_Upload_takeunder_mobile";
            break;
          case "sale_header":
            d = "#AssetRequest_General_Upload_saleheader";
            break;
          case "sale_logo":
            d = "#AssetRequest_General_Upload_sale_logo";
            break;
          case "capsule":
            d = "#AssetRequest_General_Upload_event_capsule";
            break;
          case "product_banner":
            d = "#AssetRequest_General_Upload_productbanner";
            break;
          case "product_mobile_banner":
            d = "#AssetRequest_General_Upload_productbanner_mobile";
            break;
          case "localized_title_image":
            d = "#AssetRequest_General_Upload_localized_title_image";
            break;
          case "app_header_capsule":
            d = "#AssetRequest_ArtType_app_header_capsule";
            break;
          case "app_main_capsule":
            d = "#AssetRequest_ArtType_app_main_capsule";
        }
        let p = `${E.TS.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewasset/${a}`;
        return (
          o &&
            (p = `${E.TS.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewassetexternal/${a}?inputaccesskey=${o}`),
          i.createElement(
            "div",
            { className: c().UploadPreviewCtn },
            i.createElement(
              "h2",
              null,
              (0, h.we)(d),
              " ",
              i.createElement(
                "span",
                null,
                (0, h.we)("#AssetRequest_General_Upload_req"),
              ),
            ),
            i.createElement("div", null, (0, h.we)(u), " "),
            i.createElement(b.U, {
              rgSupportArtwork: r,
              rgRealmList: l,
              strUploadAjaxURL: p,
              fnOnUploadSuccess: m,
            }),
          )
        );
      }
      function I(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          r = (0, n.bE)().GetPreviewArtOfType(a);
        return i.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          i.createElement("img", {
            src: r?.filename ? S(t.id, r.lang, r.filename) : void 0,
          }),
        );
      }
      function B(e) {
        const { planIdentify: t, index: a } = e,
          s = (0, n.bE)(),
          [l, o, m] = (0, r.q3)(() => [
            s.BIsMarketingMessageArtRequestAtIndex(a),
            s.BIsMarketingMessageArtRequestAtIndex(0) &&
              s.BIsMarketingMessageArtRequestAtIndex(1),
            s.BIsMarketingMessageEventCapsuleRequestAtIndex(a),
          ]);
        if (!l) return null;
        const d = o ? 2 : 1,
          u =
            0 == a
              ? m
                ? "marketingmessage_art_eventcapsule"
                : "marketingmessage_art"
              : m
                ? "marketingmessage_art_2_eventcapsule"
                : "marketingmessage_art_2";
        return i.createElement(
          "div",
          { className: c().AssetSection },
          i.createElement(
            y.qx,
            {
              className: c().TitleBar,
              title: (0, h.we)(
                m ? "#AssetRequest_MM_Update_Title" : "#AssetRequest_MM_Title",
                `${o ? a + 1 : 1}/${d}`,
              ),
            },
            i.createElement(
              "div",
              { className: c().SectionCtn },
              i.createElement(
                "div",
                { className: c().AssetSpecs },
                i.createElement(Se, {
                  strTemplateURL:
                    "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                  strDocURL:
                    "https://partner.steamgames.com/doc/store/assets/promos",
                  strTemplateName: (0, h.we)("#AssetRequest_General_DropBox"),
                }),
                Boolean(m)
                  ? i.createElement(
                      i.Fragment,
                      null,
                      i.createElement(
                        "div",
                        null,
                        (0, h.we)("#AssetRequest_General_Size", 800, 450),
                      ),
                      i.createElement("br", null),
                      i.createElement(
                        "div",
                        null,
                        (0, h.we)("#AssetRequest_MM_Update_Usage"),
                      ),
                      i.createElement("br", null),
                      i.createElement(
                        "ul",
                        null,
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design1"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design2"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design3"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design4"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design5"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Update_Design6"),
                        ),
                      ),
                    )
                  : i.createElement(
                      i.Fragment,
                      null,
                      i.createElement(
                        "div",
                        null,
                        (0, h.we)("#AssetRequest_General_Size", 570, 600),
                      ),
                      i.createElement("br", null),
                      i.createElement(
                        "div",
                        null,
                        (0, h.we)("#AssetRequest_MM_Usage"),
                      ),
                      i.createElement("br", null),
                      i.createElement(
                        "ul",
                        null,
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Design"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Design1"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Hint"),
                        ),
                        i.createElement(
                          "li",
                          null,
                          (0, h.we)("#AssetRequest_MM_Animation"),
                        ),
                      ),
                    ),
              ),
              i.createElement(
                "div",
                { className: c().AssetUploadPreviewCtn },
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreview },
                  i.createElement(C, { planID: t.id, promoAssetType: u }),
                  i.createElement(T, { planIdentify: t, promoAssetType: u }),
                ),
              ),
            ),
          ),
          i.createElement("br", null),
        );
      }
      function T(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          r = (0, n.bE)().GetPreviewArtOfType(a);
        return i.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          i.createElement("img", {
            src: r?.filename ? S(t.id, r.lang, r.filename) : void 0,
          }),
        );
      }
      var M = a(67239),
        A = a(55263),
        k = a(95695),
        R = a.n(k),
        P = a(8905),
        N = a(12155),
        G = a(22797),
        O = a(52038),
        F = a(98076),
        L = a(93742),
        U = a(59178),
        z = a(34585);
      function x(e) {
        const { planIdentify: t, bShowDetails: a } = e,
          s = (0, n.bE)(),
          [o, c] = (0, r.q3)(() => [
            s.GetArtRequests() || [],
            s.GetDueDate() ?? t.start_date - M.lF,
          ]);
        return i.createElement(
          "div",
          { className: (0, O.A)(l().RightCol, l().NoSticky) },
          i.createElement(
            "div",
            { className: l().SectionCtn },
            i.createElement(
              m.JU,
              null,
              (0, h.we)("#AssetRequest_Type_default"),
            ),
            i.createElement(j, { ...e }),
          ),
          Boolean(a) &&
            i.createElement(
              "div",
              { className: l().SectionCtn },
              i.createElement(
                "div",
                null,
                (0, h.we)("#AssetRequest_Require_Title"),
              ),
              i.createElement(
                "div",
                null,
                o
                  .filter((e) =>
                    s.BIsMarketingMessageArtRequest()
                      ? e.startsWith("marketingmessage_art_2")
                      : !e.startsWith("marketingmessage_art_2"),
                  )
                  .map((e) =>
                    i.createElement(V, {
                      key: e,
                      name: (0, h.we)("#AssetRequest_ArtType_" + e),
                      dueDate: c,
                      startDate: t.start_date,
                      iconType: "PSD",
                    }),
                  ),
                i.createElement(V, {
                  name: (0, h.we)("#AssetRequest_ArtType_fonts"),
                  dueDate: c,
                  startDate: t.start_date,
                  iconType: "Font",
                }),
              ),
            ),
          Boolean(a) && i.createElement(q, { planIdentify: t }),
        );
      }
      function q(e) {
        return E.iA.is_support ? i.createElement(W, { ...e }) : null;
      }
      function W(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          s = (0, L.ok)(),
          o = (0, r.q3)(() => s?.GetPartnerID());
        return i.createElement(
          "div",
          { className: l().SectionCtn },
          i.createElement(
            "div",
            { className: R().ValveOnlyBackground },
            i.createElement("div", null, "Support Only:"),
            i.createElement(
              "a",
              {
                href: `${E.TS.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
              },
              "Promotion Plan Link",
            ),
            i.createElement(U.f, {
              nPartnerID: t.permitted_partner_id || o,
              showPartnerUnsetWarning: !0,
            }),
            Boolean(a.GetSubmittingAccount()) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  m.JU,
                  null,
                  "Submitting Account: ",
                  i.createElement(
                    _.he,
                    {
                      toolTipContent:
                        "This is the last account which was used to hit submit on this form.",
                    },
                    "(?)",
                  ),
                ),
                i.createElement(
                  "div",
                  { className: F.OwnerCtn },
                  i.createElement(
                    "div",
                    null,
                    i.createElement(P.p, {
                      accountID: a.GetSubmittingAccount(),
                    }),
                  ),
                ),
              ),
          ),
        );
      }
      function j(e) {
        const { planIdentify: t } = e;
        let a = (0, h.we)("#AssetRequest_Type_default"),
          n = (0, h.we)("#AssetRequest_MoreInfo_default"),
          r = "https://partner.steamgames.com/doc/store/assets/promos";
        switch (t.type) {
          case "midweek":
            (a = (0, h.we)("#AssetRequest_Type_" + t.type)),
              (n = (0, h.we)("#AssetRequest_MoreInfo_" + t.type)),
              (r = "https://partner.steamgames.com/doc/store/promo/midweek");
            break;
          case "weekenddeal":
            (a = (0, h.we)("#AssetRequest_Type_" + t.type)),
              (n = (0, h.we)("#AssetRequest_MoreInfo_" + t.type)),
              (r = "https://partner.steamgames.com/doc/store/promo/weekend");
        }
        return i.createElement(
          "div",
          { className: c().PromoDetailsCtn },
          i.createElement(H, { planIdentify: t }),
          i.createElement(
            "div",
            { className: c().PromoText },
            i.createElement("h2", null, a),
            i.createElement("div", null, (0, h.TW)(t.start_date)),
            i.createElement("div", null, (0, h.TW)(t.end_date)),
            i.createElement("br", null),
            i.createElement("a", { href: r }, n),
          ),
        );
      }
      function H(e) {
        const { planIdentify: t } = e,
          [a] = (0, A.G6)(t.store_item_id, t.store_item_type, {
            include_assets: !0,
          });
        return t.store_item_id
          ? i.createElement(
              i.Fragment,
              null,
              Boolean(a)
                ? i.createElement(
                    "div",
                    { className: c().FeaturedApp },
                    i.createElement(
                      _.he,
                      { toolTipContent: a.GetName() },
                      i.createElement(
                        "a",
                        { href: a.GetStorePageURL() },
                        i.createElement("img", {
                          src: a?.GetAssets().GetHeaderURL(),
                        }),
                      ),
                    ),
                  )
                : i.createElement(G.t, { size: "medium" }),
            )
          : null;
      }
      function V(e) {
        const { name: t, iconType: a, dueDate: n, startDate: r } = e;
        return i.createElement(
          "div",
          { className: c().ArtTaskCtn },
          i.createElement(
            "div",
            { className: c().Icon },
            "PSD" == a
              ? i.createElement(N.yCC, null)
              : i.createElement(N.KQV, null),
          ),
          i.createElement("div", { className: c().Asset }, t),
          i.createElement(
            "div",
            { className: c().Deadline },
            (0, h.we)("#AssetRequest_Deadline"),
            " ",
            i.createElement("span", null, (0, z.BO)(n, r, M.lF)),
          ),
        );
      }
      var K = a(94095);
      function Y(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          [s, l] = (0, r.q3)(() => [
            a.BIsSpotlightArtRequest(),
            a.BHasPreviewArtOfType("spotlight_art"),
          ]);
        return s
          ? i.createElement(
              "div",
              { className: c().AssetSection },
              i.createElement(
                y.qx,
                {
                  className: c().TitleBar,
                  title: (0, h.we)(
                    "#AssetRequest_Spotlight_Title",
                    l ? "1/1" : "0/1",
                  ),
                },
                i.createElement(
                  "div",
                  { className: c().SectionCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetSpecs },
                    i.createElement(Se, {
                      strTemplateURL:
                        "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                      strDocURL:
                        "https://partner.steamgames.com/doc/store/assets/promos",
                      strTemplateName: (0, h.we)(
                        "#AssetRequest_General_DropBox",
                      ),
                    }),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 306, 260),
                    ),
                    i.createElement("br", null),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_Spotlight_Usage"),
                    ),
                    i.createElement("br", null),
                    i.createElement(
                      "ul",
                      null,
                      i.createElement(
                        "li",
                        null,
                        (0, h.we)("#AssetRequest_Spotlight_Design"),
                      ),
                      i.createElement(
                        "li",
                        null,
                        (0, h.we)("#AssetRequest_Spotlight_Design2"),
                      ),
                      i.createElement(
                        "li",
                        null,
                        (0, h.we)("#AssetRequest_Spotlight_Design3"),
                      ),
                      i.createElement(
                        "li",
                        null,
                        (0, h.we)("#AssetRequest_Spotlight_Design4"),
                      ),
                    ),
                  ),
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreviewCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetUploadPreview },
                      i.createElement(C, {
                        planID: t.id,
                        promoAssetType: "spotlight_art",
                      }),
                      i.createElement($, { planIdentify: t }),
                    ),
                  ),
                ),
              ),
              i.createElement("br", null),
            )
          : null;
      }
      function $(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)().GetPreviewArtOfType("spotlight_art");
        return i.createElement(
          "div",
          { className: c().SpotlightPreviewCtn },
          i.createElement("img", {
            src: a?.filename ? S(t.id, a.lang, a.filename) : void 0,
          }),
          i.createElement(
            "div",
            { className: c().Content },
            i.createElement(
              "div",
              { className: c().Title },
              (0, h.we)("#AssetRequest_Type_" + t.type),
            ),
            i.createElement(
              "div",
              { className: c().Subtitle },
              (0, h.we)("#AssetRequest_Spotlight_End", (0, h.TW)(t.end_date)),
            ),
            i.createElement(K.Bq, {
              bIsPrePurchase: !1,
              bSingleLineMode: !1,
              nDiscountPercentage: 50,
              nBaseDiscountPercentage: null,
              strBestPurchasePriceFormatted: "$14.99",
              strBestPurchaseOriginalPriceFormatted: "$30.00",
              bHideDiscountPercentForCompliance: !1,
              bShowNewFlag: !1,
            }),
          ),
        );
      }
      var J = a(78327),
        X = a(24484),
        Q = a(48996),
        Z = a(33428),
        ee = a(18509);
      function te(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          [s, l, o, m] = (0, r.q3)(() => [
            a.BIsTakeoverArtRequest(),
            a.BIsContentHubTakeoverArtRequest(),
            a.BHasPreviewArtOfType("takeover_art"),
            a.BHasPreviewArtOfType("takeover_mobile_art"),
          ]);
        if (!s) return null;
        let d = o ? 1 : 0;
        return (
          m && (d += 1),
          i.createElement(
            "div",
            { className: c().AssetSection },
            i.createElement(
              y.qx,
              {
                className: c().TitleBar,
                title: (0, h.we)(
                  l
                    ? "#AssetRequest_Hub_TakeOver_Title"
                    : "#AssetRequest_TakeOver_Title",
                  `${d}/2`,
                ),
              },
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(Se, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, h.we)("#AssetRequest_General_DropBox"),
                  }),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_General_Size", 1850, 450),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_Mobile_Size", 500, 350),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_TakeOver_Usage"),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "ul",
                    null,
                    i.createElement(
                      "li",
                      null,
                      (0, h.we)("#AssetRequest_TakeOver_Design"),
                    ),
                    i.createElement(
                      "li",
                      null,
                      (0, h.we)("#AssetRequest_Takeover_Hint"),
                    ),
                    i.createElement(
                      "li",
                      null,
                      (0, h.we)("#AssetRequest_Takeover_Animation"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_art",
                    }),
                    i.createElement(ae, {
                      planIdentify: t,
                      promoAssetType: "takeover_art",
                    }),
                  ),
                  i.createElement("br", null),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_mobile_art",
                    }),
                    i.createElement(ae, {
                      planIdentify: t,
                      promoAssetType: "takeover_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            i.createElement("br", null),
          )
        );
      }
      function ae(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          r = (0, n.bE)().GetPreviewArtOfType(a);
        return i.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          i.createElement("img", {
            src: r?.filename ? S(t.id, r.lang, r.filename) : void 0,
          }),
        );
      }
      function ne(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          [s, l, o] = (0, r.q3)(() => [
            a.BIsTakeunderArtRequest(),
            a.BHasPreviewArtOfType("takeunder_art"),
            a.BHasPreviewArtOfType("takeunder_mobile_art"),
          ]);
        if (!s) return null;
        let m = l ? 1 : 0;
        return (
          o && (m += 1),
          i.createElement(
            "div",
            { className: c().AssetSection },
            i.createElement(
              y.qx,
              {
                className: c().TitleBar,
                title: (0, h.we)("#AssetRequest_Takeunder_Title", `${m}/2`),
              },
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(Se, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, h.we)("#AssetRequest_General_DropBox"),
                  }),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_General_Size", 940, 150),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_Mobile_Size", 500, 160),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_Takeunder_Usage"),
                  ),
                  i.createElement("br", null),
                  i.createElement(
                    "ul",
                    null,
                    i.createElement(
                      "li",
                      null,
                      (0, h.we)("#AssetRequest_Takeunder_Design"),
                    ),
                    i.createElement(
                      "li",
                      null,
                      (0, h.we)("#AssetRequest_Takeunder_Hint"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_art",
                    }),
                    i.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "takeunder_art",
                    }),
                  ),
                  i.createElement("br", null),
                  i.createElement("br", null),
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                    i.createElement(re, {
                      planIdentify: t,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            i.createElement("br", null),
          )
        );
      }
      function re(e) {
        const { planIdentify: t, promoAssetType: a } = e,
          r = (0, n.bE)().GetPreviewArtOfType(a);
        return i.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          i.createElement("img", {
            src: r?.filename ? S(t.id, r.lang, r.filename) : void 0,
          }),
        );
      }
      function ie(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          [s, l, o, m, d, u, p] = (0, r.q3)(() => [
            a.BIsSalePageArtRequest(),
            a.BHasPreviewArtOfType("sale_header"),
            a.BHasPreviewArtOfType("sale_logo"),
            a.BHasPreviewArtOfType("capsule"),
            a.BHasPreviewArtOfType("product_banner"),
            a.BHasPreviewArtOfType("product_mobile_banner"),
            a.BHasPreviewArtOfType("localized_title_image"),
          ]);
        if (!s) return null;
        let _ = l ? 1 : 0;
        return (
          o && (_ += 1),
          m && (_ += 1),
          d && (_ += 1),
          u && (_ += 1),
          p && (_ += 1),
          i.createElement(
            "div",
            { className: c().AssetSection },
            i.createElement(
              y.qx,
              {
                className: c().TitleBar,
                title: (0, h.we)("#AssetRequest_SalePage_Title", `${_}/6`),
              },
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(Se, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, h.we)("#AssetRequest_General_DropBox"),
                  }),
                  i.createElement(
                    "div",
                    null,
                    (0, h.we)("#AssetRequest_SalePage_Description"),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_SalePage_Background_Title"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size_Min", 1200, 600),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Background_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Background_Design"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Background_Hint"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_header",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "sale_header",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_SalePage_Logo_Title"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 940, 460),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Logo_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Logo_Design"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_logo",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "sale_logo",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_SalePage_Cover_Title"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 800, 450),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Cover_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Cover_Design"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "capsule",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "capsule",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_SalePage_Header_Title"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 1920, 622),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Header_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_Header_Design"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "localized_title_image",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "localized_title_image",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_SalePage_StoreBanner_Title"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 1100, 160),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_StoreBanner_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_SalePage_StoreBanner_Design"),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_banner",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "product_banner",
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Title",
                      ),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 500, 160),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Usage",
                      ),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Design",
                      ),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_mobile_banner",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "product_mobile_banner",
                    }),
                  ),
                ),
              ),
            ),
            i.createElement("br", null),
          )
        );
      }
      function se(e) {
        const { planIdentify: t } = e,
          a = (0, n.bE)(),
          [s, l, o, m] = (0, r.q3)(() => [
            a.BIsAppHeaderCapsuleRequest(),
            a.BIsAppMainCapsuleRequest(),
            a.BHasPreviewArtOfType("app_header_capsule"),
            a.BHasPreviewArtOfType("app_main_capsule"),
          ]);
        if (!s && !l) return null;
        const d = (s ? 1 : 0) + (l ? 1 : 0),
          u = (s && o ? 1 : 0) + (l && m ? 1 : 0);
        return i.createElement(
          "div",
          { className: c().AssetSection },
          i.createElement(
            y.qx,
            {
              className: c().TitleBar,
              title: (0, h.we)("#AssetRequest_PromotionApp_Title", `${u}/${d}`),
            },
            s &&
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_ArtType_app_header_capsule"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 920, 430),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)(
                        "#AssetRequest_ArtType_app_header_capsule_Usage",
                      ),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)(
                        "#AssetRequest_ArtType_app_header_capsule_Design",
                      ),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "app_header_capsule",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "app_header_capsule",
                    }),
                  ),
                ),
              ),
            l &&
              i.createElement(
                "div",
                { className: c().SectionCtn },
                i.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  i.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    i.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, h.we)("#AssetRequest_ArtType_app_main_capsule"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_General_Size", 1232, 706),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_ArtType_app_main_capsule_Usage"),
                    ),
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)(
                        "#AssetRequest_ArtType_app_main_capsule_Design",
                      ),
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  i.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    i.createElement(C, {
                      planID: t.id,
                      promoAssetType: "app_main_capsule",
                    }),
                    i.createElement(I, {
                      planIdentify: t,
                      promoAssetType: "app_main_capsule",
                    }),
                  ),
                ),
              ),
          ),
          i.createElement("br", null),
        );
      }
      var le = a(24440),
        oe = a.n(le),
        ce = a(13549);
      function me(e) {
        const { planIdentify: t, bAdminView: a } = e,
          s = (0, n.bE)(),
          [o, d, u] = (0, r.q3)(() => [
            s.GetModel().requested_promotion_name || "",
            Boolean(s.GetModel().submitting_accountid),
            Boolean(s.GetModel().asset_request_discount_event_id_clone),
          ]),
          [p, _] = (0, i.useState)(() => a || !d);
        return i.createElement(
          "div",
          { className: l().EditCtn },
          i.createElement(
            "div",
            { className: l().PageTitle },
            (0, h.we)("#AssetRequest_Title"),
            i.createElement("span", null, o),
          ),
          i.createElement("hr", null),
          Boolean(d) &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(ue, null),
              i.createElement("br", null),
              i.createElement("br", null),
            ),
          i.createElement(
            "div",
            { className: l().ColumnCtn },
            i.createElement(
              "div",
              { className: l().LeftCol },
              d &&
                u &&
                !a &&
                i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(de, {
                    oInput: s,
                    partnerID: t.permitted_partner_id,
                  }),
                  i.createElement("br", null),
                  i.createElement("br", null),
                ),
              Boolean(p)
                ? i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(_e, null),
                    i.createElement(he, {
                      planIdentify: t,
                      fnSetShowDetails: _,
                    }),
                  )
                : i.createElement(
                    "div",
                    { className: c().ReviewSubmissionDetailsCtn },
                    i.createElement(
                      "div",
                      null,
                      (0, h.we)("#AssetRequest_Complete_SeeAll_Title"),
                    ),
                    i.createElement(
                      m.$n,
                      { onClick: () => _(!0) },
                      (0, h.we)("#AssetRequest_Complete_SeeAll_Button"),
                    ),
                  ),
            ),
            i.createElement(x, { planIdentify: t, bShowDetails: p }),
          ),
          Boolean(p) &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement("br", null),
              i.createElement(te, { planIdentify: t }),
              i.createElement(ne, { planIdentify: t }),
              i.createElement(Y, { planIdentify: t }),
              i.createElement(B, { planIdentify: t, index: 0 }),
              i.createElement(B, { planIdentify: t, index: 1 }),
              i.createElement(ie, { planIdentify: t }),
              i.createElement(se, { planIdentify: t }),
            ),
        );
      }
      function de(e) {
        const { oInput: t, partnerID: a } = e,
          n = (0, Q.sk)(t.GetDiscountEventID()),
          r = (0, Z.vV)(t.GetDiscountEventID()),
          s = `${J.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/${a}?de=${t.GetDiscountEventID()}`;
        return i.createElement(
          "div",
          { className: (0, O.A)(l().SectionCtn, l().Bright) },
          i.createElement(
            "h2",
            null,
            (0, h.we)("#AssetRequest_Complete_NextSteps"),
          ),
          i.createElement(
            "div",
            { className: c().DiscountReminderCtn },
            i.createElement(
              "div",
              null,
              (0, h.we)("#AssetRequest_Compelte_Reminder"),
            ),
            i.createElement(
              m.jn,
              { onClick: () => window.location.assign(s) },
              (0, h.we)("#AssetRequest_Compelte_DiscountTool"),
            ),
          ),
          i.createElement(ee.Lc, { rgPackagesDiscounts: n, oDiscountEvent: r }),
        );
      }
      function ue(e) {
        return i.createElement(
          "div",
          { className: c().AssetRequestDoneCtn },
          i.createElement("div", { className: c().CheckMark }, "✓"),
          i.createElement(
            "div",
            { className: c().Body },
            i.createElement(
              "h2",
              null,
              (0, h.we)("#AssetRequest_Complete_Title"),
            ),
            i.createElement(
              "div",
              null,
              (0, h.we)("#AssetRequest_Complete_Desc"),
            ),
          ),
        );
      }
      function pe(e) {
        const [t] = (0, i.useState)(() =>
            (0, X.Tc)("promotion_plan_identity", "application_config"),
          ),
          a = Math.floor(Date.now() / 1e3);
        return i.createElement(
          "div",
          { className: l().AdminPageCtn },
          Boolean(a > t.end_date) &&
            i.createElement(
              "div",
              null,
              "Warning: Promotion is over. No further access is granted.",
            ),
          i.createElement(me, { planIdentify: t, bAdminView: !1 }),
        );
      }
      function _e(e) {
        const t = (0, n.bE)();
        return i.createElement(
          "div",
          { className: (0, O.A)(l().SectionCtn, l().Bright) },
          i.createElement("h2", null, (0, h.we)("#AssetRequest_Intro_Title")),
          i.createElement(
            "div",
            { className: l().SectionIntroRequirements },
            i.createElement(
              "ul",
              { className: "bullets" },
              i.createElement(
                "li",
                null,
                (0, h.we)("#AssetRequest_Requirements_1"),
              ),
              i.createElement(
                "li",
                null,
                (0, h.we)("#AssetRequest_Requirements_2"),
                i.createElement(
                  "ul",
                  null,
                  i.createElement(
                    "li",
                    null,
                    (0, h.we)("#AssetRequest_Requirements_2a"),
                  ),
                  i.createElement(
                    "li",
                    null,
                    (0, h.we)("#AssetRequest_Requirements_2b"),
                  ),
                  i.createElement(
                    "li",
                    null,
                    (0, h.we)("#AssetRequest_Requirements_2c"),
                  ),
                ),
              ),
              i.createElement(
                "li",
                null,
                (0, h.we)("#AssetRequest_Requirements_3"),
              ),
              i.createElement(
                "li",
                null,
                (0, h.we)("#AssetRequest_Requirements_4"),
              ),
              i.createElement(
                "li",
                null,
                (0, h.oW)(
                  "#AssetRequest_Requirements_5",
                  i.createElement("a", {
                    target: "_blank",
                    href: `${J.TS.PARTNER_BASE_URL}doc/store/assets/promos`,
                  }),
                ),
              ),
            ),
          ),
          Boolean(t.BHasValveNote()) &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement("br", null),
              i.createElement(m.JU, null, (0, h.we)("#AssetRequest_Intro_Msg")),
              i.createElement(
                "div",
                { className: c().CustomMessage },
                t.GetValveNote(),
              ),
            ),
        );
      }
      function ge(e) {
        const {
          bCompleted: t,
          bRequired: a,
          title: n,
          children: r,
          bSkipOptional: s,
        } = e;
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            null,
            i.createElement(
              "div",
              { className: c().ChecklistTitleCtn },
              t
                ? i.createElement("span", { className: c().Completed }, "✓ ")
                : a
                  ? i.createElement(
                      "span",
                      { className: c().RequiredToggle },
                      "🔲 ",
                    )
                  : i.createElement(
                      "span",
                      { className: c().OptionalToggle },
                      "🔳 ",
                    ),
              i.createElement("span", { className: c().ChecklistTitle }, n),
              !s &&
                i.createElement(
                  "span",
                  {
                    className: (0, O.A)({
                      [c().Required]: a,
                      [c().Optional]: !a,
                    }),
                  },
                  " ",
                  (0, h.we)(
                    a
                      ? "#AssetRequest_General_Upload_req"
                      : "#AssetRequest_General_Upload_opt",
                  ),
                ),
            ),
            i.createElement("div", { className: c().ChecklistDescription }, r),
          ),
        );
      }
      function he(e) {
        const { fnSetShowDetails: t } = e,
          a = (0, n.bE)(),
          [
            s,
            o,
            d,
            u,
            E,
            S,
            y,
            v,
            f,
            b,
            w,
            D,
            C,
            I,
            B,
            T,
            M,
            A,
            k,
            R,
            P,
            N,
            G,
            O,
            F,
            L,
          ] = (0, r.q3)(() => [
            a.BIsSpotlightArtRequest(),
            a.BIsMarketingMessageArtRequest() ||
              a.BIsMarketingMessageEventCapsuleRequest(),
            a.BIsMarketingMessageArtRequest_2() ||
              a.BIsMarketingMessageEventCapsuleRequest_2(),
            a.BHasPreviewArtOfType("spotlight_art"),
            a.BHasPreviewArtOfType("marketingmessage_art") ||
              a.BHasPreviewArtOfType("marketingmessage_art_eventcapsule"),
            a.BHasPreviewArtOfType("marketingmessage_art_2") ||
              a.BHasPreviewArtOfType("marketingmessage_art_2_eventcapsule"),
            a.BHasPartnerNote(),
            a.GetPartnerNote(),
            a.GetArtInputLink(),
            a.BIsDirty(),
            a.GetAssetRequestContactInfo(),
            a.BIsTakeoverArtRequest(),
            a.BHasPreviewArtOfType("takeover_art") &&
              a.BHasPreviewArtOfType("takeover_mobile_art"),
            a.BIsTakeunderArtRequest(),
            a.BHasPreviewArtOfType("takeunder_art") &&
              a.BHasPreviewArtOfType("takeunder_mobile_art"),
            a.BIsSalePageArtRequest(),
            a.BHasPreviewArtOfType("sale_header") &&
              a.BHasPreviewArtOfType("sale_logo") &&
              a.BHasPreviewArtOfType("capsule") &&
              a.BHasPreviewArtOfType("product_banner") &&
              a.BHasPreviewArtOfType("product_mobile_banner") &&
              a.BHasPreviewArtOfType("localized_title_image"),
            a.GetSubmittingAccount(),
            a.BIsEventHeaderImageRequest(),
            a.BHasPreviewArtOfType("localized_title_image"),
            a.BRequireUpdateEvent(),
            a.GetUpdateEventGID(),
            a.GetStoreItemType(),
            a.GetStoreItemID(),
            a.BIsAppMainCapsuleRequest() || a.BIsAppHeaderCapsuleRequest(),
            a.BHasPreviewArtOfType("app_header_capsule") ||
              a.BHasPreviewArtOfType("app_header_capsule"),
          ]),
          U = f?.trim().length > 0,
          z = s && !(o || d),
          x =
            (U &&
              w.trim().length > 0 &&
              (!s || u) &&
              (!o || E) &&
              (!d || S) &&
              (!k || R)) ||
            !F ||
            L;
        return i.createElement(
          "div",
          { className: l().SectionCtn },
          i.createElement("h2", null, (0, h.we)("#AssetRequest_CheckList")),
          Boolean(D) &&
            i.createElement(
              ge,
              {
                bCompleted: C,
                title: (0, h.we)("#AssetRequest_Check_Takeover"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_Takeover_desc"),
            ),
          Boolean(I) &&
            i.createElement(
              ge,
              {
                bCompleted: B,
                title: (0, h.we)("#AssetRequest_Check_Takeunder"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_Takeunder_desc"),
            ),
          Boolean(T) &&
            i.createElement(
              ge,
              {
                bCompleted: M,
                title: (0, h.we)("#AssetRequest_Check_SalePage"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_SalePage_desc"),
            ),
          Boolean(s) &&
            i.createElement(
              ge,
              {
                bCompleted: u,
                title: (0, h.we)("#AssetRequest_Check_Spotlight"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_desc"),
            ),
          Boolean(z) &&
            i.createElement(
              ge,
              {
                bCompleted: !0,
                title: (0, h.we)("#AssetRequest_Check_AutoRenderMM"),
                bSkipOptional: !0,
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_AutoRenderMM_desc"),
            ),
          Boolean(o) &&
            i.createElement(
              ge,
              {
                bCompleted: E,
                title: (0, h.we)("#AssetRequest_Check_MM"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_desc"),
            ),
          Boolean(d) &&
            i.createElement(
              ge,
              {
                bCompleted: S,
                title: (0, h.we)("#AssetRequest_Check_MM") + " #2",
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_desc"),
            ),
          Boolean(F) &&
            i.createElement(
              ge,
              {
                bCompleted: L,
                title: (0, h.we)("#AssetRequest_Check_PromoApp"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_Check_PromoApp_desc"),
            ),
          i.createElement(Ee, null),
          Boolean(P) &&
            i.createElement(
              ge,
              {
                bCompleted: Boolean(N),
                title: (0, h.we)("#AssetRequest_UpdateAnnouncement"),
                bRequired: !0,
              },
              (0, h.we)("#AssetRequest_UpdateAnnouncement_desc"),
              Boolean(0 == G) &&
                i.createElement(
                  "a",
                  {
                    target: "_blank",
                    className: oe().Link,
                    href: `${J.TS.COMMUNITY_BASE_URL}ogg/${O}/partnerevents/create`,
                  },
                  (0, h.we)("#AssetRequest_UpdateAnnouncement_create"),
                ),
              i.createElement(ce.q, {
                appid: O,
                selectedEventGID: N,
                fnSetUpdateEvent: a.SetUpdateEvent,
              }),
            ),
          i.createElement(
            ge,
            {
              bCompleted: w.trim().length > 0,
              title: (0, h.we)("#AssetRequest_Check_ContactInfo"),
              bRequired: !0,
            },
            i.createElement(
              "div",
              null,
              (0, h.we)("#AssetRequest_Check_ContactInfo_desc"),
            ),
            i.createElement(
              "div",
              { className: c().InstructionsTextInput },
              i.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, h.we)(
                  "#AssetRequest_Check_ContactInfo_placeholder",
                ),
                value: w || "",
                onChange: (e) =>
                  a.SetAssetRequestContactInfo(e?.currentTarget?.value || ""),
              }),
            ),
          ),
          i.createElement(
            ge,
            {
              bCompleted: y,
              title: (0, h.we)("#AssetRequest_Check_Special"),
              bRequired: !1,
            },
            i.createElement(
              "div",
              null,
              (0, h.we)("#AssetRequest_Check_Special_desc"),
            ),
            i.createElement(
              "div",
              { className: c().InstructionsTextInput },
              i.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, h.we)(
                  "#AssetRequest_Check_Special_placeholder",
                ),
                value: v || "",
                onChange: (e) =>
                  a.SetPartnerNote(e?.currentTarget?.value || ""),
              }),
            ),
          ),
          i.createElement("hr", null),
          i.createElement(
            _.he,
            {
              toolTipContent: U
                ? void 0
                : (0, h.we)("#AssetRequest_InvalidLink"),
            },
            i.createElement(
              m.jn,
              {
                disabled: !x,
                className: c().SubmitButton,
                onClick: (e) =>
                  (0, p.pg)(
                    i.createElement(ye, { strURL: f, fnSetShowDetails: t }),
                    (0, g.uX)(e),
                  ),
              },
              (0, h.we)(
                A
                  ? "#AssetRequest_Submitted_Button"
                  : "#AssetRequest_Submit_Button",
              ),
            ),
          ),
        );
      }
      function Ee(e) {
        const t = (0, n.bE)(),
          [a] = (0, r.q3)(() => [t.GetArtInputLink()]);
        return i.createElement(
          ge,
          {
            bCompleted: a?.length > 0 && m.pd.validateUrl(a),
            title: (0, h.we)("#AssetRequest_Link_Title"),
            bRequired: !0,
          },
          i.createElement("div", null, (0, h.we)("#AssetRequest_Link_Desc")),
          i.createElement("div", null, (0, h.we)("#AssetRequest_Link_Step3")),
          i.createElement("br", null),
          i.createElement(m.pd, {
            type: "text",
            label: (0, h.we)("#AssetRequest_Link_Title"),
            placeholder: (0, h.we)("#AssetRequest_Link_Placeholder"),
            value: a || "",
            mustBeURL: !0,
            onChange: (e) => t.SetInputArtworkLink(e.currentTarget.value),
          }),
        );
      }
      function Se(e) {
        const { strTemplateURL: t, strDocURL: a, strTemplateName: n } = e;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "h2",
            null,
            (0, h.we)("#AssetRequest_General_SpecTitle"),
          ),
          i.createElement(
            "div",
            { className: c().LinkRow },
            i.createElement(
              "a",
              { href: t, target: "_blank" },
              (0, h.we)("#AssetRequest_General_Download", n),
            ),
            " ",
            "|",
            " ",
            i.createElement(
              "a",
              { href: a },
              (0, h.we)("#AssetRequest_General_SeeDocs"),
            ),
          ),
        );
      }
      function ye(e) {
        const { closeModal: t, strURL: a, fnSetShowDetails: r } = e,
          { fnUpdatePipelineInputAsPartner: s } = ((0, n.bE)(), (0, n.NY)()),
          [l] = (0, D.QD)("inputaccesskey", void 0),
          o = (0, d.vs)();
        return o.bLoading
          ? i.createElement(d.Hh, {
              state: o,
              strDialogTitle: (0, h.we)("#AssetRequest_Submit_Title"),
              closeModal: t,
            })
          : i.createElement(
              u.o0,
              {
                strTitle: (0, h.we)("#AssetRequest_Submit_Title"),
                onCancel: t,
                onOK: () => {
                  o.fnSetLoading(!0),
                    s(l)
                      .then((e) => {
                        e
                          ? (o.fnSetSuccess(!0),
                            o.fnSetStrSuccess(
                              (0, h.we)("#AssetRequest_Submitted"),
                            ),
                            r(!1))
                          : (o.fnSetError(!0),
                            o.fnSetStrError(
                              (0, h.we)("#Error_ErrorCommunicatingWithNetwork"),
                            ));
                      })
                      .catch(() => {
                        o.fnSetError(!0),
                          o.fnSetStrError(
                            (0, h.we)("#Error_ErrorCommunicatingWithNetwork"),
                          );
                      });
                },
              },
              i.createElement(
                "div",
                null,
                (0, h.we)("#AssetRequest_SubmitLink"),
              ),
            );
      }
    },
    5481: (e, t, a) => {
      "use strict";
      a.d(t, { J: () => w });
      var n = a(16811),
        r = a(93742),
        i = a(90626),
        s = a(45737),
        l = a.n(s),
        o = a(16676),
        c = a(52038),
        m = a(30470),
        d = a(34585),
        u = a(21257),
        p = a(90207),
        _ = a(97436),
        g = a(73744),
        h = a(68612),
        E = a(22797),
        S = a(22385),
        y = a(55263),
        v = a(65946);
      const f = [
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
          "takeover_webm_art",
          "takeover_mp4_art",
        ],
        b = [...g._d, ...g.on];
      function w(e) {
        const { bShowLinkToPromotionPlan: t } = e,
          a = (0, r.ok)(),
          s = (0, n.bE)(),
          [o, g] = (0, i.useState)(s?.BIsEnabled());
        return s && a
          ? i.createElement(
              i.Fragment,
              null,
              Boolean(t) &&
                i.createElement(
                  "a",
                  {
                    className: l().StatusLineItemCtn,
                    href: `${m.TS.PARTNER_BASE_URL}promotion/planning/edit/${s.GetPlanID()}`,
                  },
                  "Open Containing Promotion Plan",
                ),
              i.createElement(
                "div",
                {
                  className: (0, c.A)(
                    l().DefaultSectionCtn,
                    l().ValveOnlyBackground,
                  ),
                },
                i.createElement(
                  "h2",
                  { className: l().ValveOnlyTitle },
                  "Valve Only",
                ),
                Boolean(o)
                  ? i.createElement(d.dR, { bReviewApprovals: !1 })
                  : i.createElement(C, { fnSetEnableAssetRequest: g }),
              ),
              Boolean(o) &&
                i.createElement(u.sw, {
                  planIdentify: a.GetModel(),
                  bAdminView: !0,
                }),
              i.createElement(
                "div",
                {
                  className: (0, c.A)(
                    l().DefaultSectionCtn,
                    l().ValveOnlyBackground,
                    l().ActionBar,
                  ),
                },
                i.createElement(p.M, { oEditablePlan: a }),
              ),
            )
          : i.createElement(
              "div",
              {
                className: (0, c.A)(
                  l().DefaultSectionCtn,
                  l().ValveOnlyBackground,
                ),
              },
              i.createElement(_.kt, { size: "medium" }),
              !a && i.createElement("div", null, "Missing editable plan"),
              !s && i.createElement("div", null, "Missing editable input"),
            );
      }
      const D = {};
      function C(e) {
        const { fnSetEnableAssetRequest: t } = e,
          a = (0, r.ok)(),
          s = (0, n.bE)(),
          [l, c] = (0, v.q3)(() => [
            a.GetFeaturedItemID(),
            a.GetFeaturedItemType(),
          ]),
          [m, d] = (0, y.G6)(l, c, D),
          u = (0, h.dr)(a.GetMarketingMessageID(0)),
          p = (0, h.dr)(a.GetMarketingMessageID(1));
        return Boolean(a.GetMarketingMessageID(0) && !u) ||
          Boolean(a.GetMarketingMessageID(1) && !p) ||
          (l && 1 == d)
          ? i.createElement(E.t, { string: "Loading Marketing Messages" })
          : i.createElement(o.Yh, {
              label: "Enable requesting featuring assets from partner?",
              checked: !1,
              onChange: (e) => {
                s.SetRequestedArt(
                  g.cV
                    .filter((e) => !f.includes(e))
                    .filter((e) => !b.includes(e))
                    .filter((e) =>
                      a.BHasPromotionFeaturingForArtRequirement(e),
                    ),
                ),
                  u &&
                    !(0, S.u)(m, u.type) &&
                    s.AddRequestedArt(
                      10 == u.type
                        ? "marketingmessage_art_eventcapsule"
                        : "marketingmessage_art",
                    ),
                  p &&
                    !(0, S.u)(m, p.type) &&
                    s.AddRequestedArt(
                      10 == u.type
                        ? "marketingmessage_art_2_eventcapsule"
                        : "marketingmessage_art_2",
                    ),
                  (s.GetModel().requested_promotion_name = a.GetName()),
                  a.BHasDiscountEventID() &&
                    (s.GetModel().asset_request_discount_event_id_clone =
                      a.GetDiscountEventID()),
                  s.SetRequestEnabled(!0),
                  t(e);
              },
            });
      }
    },
    27872: (e, t, a) => {
      "use strict";
      a.d(t, { y: () => o });
      var n = a(90626),
        r = a(61859),
        i = a(91675),
        s = a(14771),
        l = a(12080);
      function o(e) {
        const t =
            !e.rtStartDate ||
            !e.rtEndDate ||
            (0, s.Ct)(
              new Date(1e3 * e.rtStartDate),
              new Date(1e3 * e.rtEndDate),
            ),
          a =
            e.rtStartDate &&
            e.rtEndDate &&
            (0, s.Ct)(new Date(1e3 * e.rtStartDate), new Date()),
          o = !t && !a;
        if (e.rtStartDate && e.rtEndDate)
          return n.createElement(
            "div",
            { className: e.className },
            (0, i.nR)(e.rtStartDate, e.rtEndDate),
          );
        {
          const t = e.rtStartDate ? (0, r.TW)(e.rtStartDate, o) : "unset",
            a = e.rtEndDate ? (0, r.TW)(e.rtEndDate, o) : "unset";
          return n.createElement(
            "div",
            { className: e.className },
            n.createElement(
              "span",
              { className: e.rtStartDate ? "" : l.Unset },
              t,
            ),
            " -",
            n.createElement(
              "span",
              { className: e.rtEndDate ? "" : l.Unset },
              a,
            ),
          );
        }
      }
    },
    41420: (e, t, a) => {
      "use strict";
      function n(e, t, a) {
        if ("midweek" == e || "weekenddeal" == e) {
          const n = new Date(1e3 * t).getDay(),
            r = new Date(1e3 * a).getDay();
          return (
            t < a &&
            (("midweek" == e && 1 == n && 4 == r) ||
              ("weekenddeal" == e && 4 == n && 1 == r))
          );
        }
        return t < a;
      }
      function r(e, t, a) {
        if (2 == e || 14 == e) {
          const e = new Date(1e3 * t).getDay(),
            n = new Date(1e3 * a).getDay();
          return t < a && 4 == e && 1 == n;
        }
        if (11 == e) {
          const e = new Date(1e3 * t).getDay(),
            n = new Date(1e3 * a).getDay();
          return t < a && 1 == e && 4 == n;
        }
        return t < a;
      }
      function i(e) {
        const t = e ? new Date(1e3 * e) : new Date();
        return (
          t.setHours(10),
          t.setMinutes(0),
          t.setSeconds(0),
          Math.floor(t.getTime() / 1e3)
        );
      }
      function s(e, t) {
        if (t) return t;
        let a = e ? new Date(1e3 * e) : new Date();
        return (
          a.setDate(a.getDate() + 1),
          a.setHours(10),
          a.setMinutes(0),
          a.setSeconds(0),
          Math.floor(a.getTime() / 1e3)
        );
      }
      a.d(t, { D6: () => i, E2: () => s, gS: () => r, tm: () => n });
    },
    10698: (e, t, a) => {
      "use strict";
      a.d(t, { BM: () => M, FN: () => T, H9: () => B, TI: () => C });
      var n = a(67239),
        r = a(33428),
        i = a(9907),
        s = a(52625),
        l = a(90031),
        o = a(90626),
        c = a(62792),
        m = a(55263),
        d = a(16676),
        u = a(9154),
        p = a(22797),
        _ = a(68797),
        g = a(61859),
        h = a(61732),
        E = a(14771),
        S = a(78327),
        y = a(94238),
        v = a(65744),
        f = a(65803),
        b = a(16856),
        w = a(29341),
        D = a(31715);
      function C(e) {
        const {
            rtDay: t,
            closeModal: a,
            strInviteID: n,
            nMaxDiscountDays: r,
            nextDiscount: i,
          } = e,
          s = (0, l.u6)(n);
        return s
          ? o.createElement(A, {
              rtDay: t,
              closeModal: a,
              invite: s,
              nMaxDiscountDays: r,
              nextDiscount: i,
            })
          : o.createElement(u.KG, {
              strDescription: (0, g.we)("#DailyDeals_NoInvitation"),
              closeModal: a,
            });
      }
      function I(e, t) {
        const a = "America/Los_Angeles",
          n = {
            weekday: "short",
            timeZoneName: t ? "shortGeneric" : "longGeneric",
            hour: "numeric",
          };
        let r,
          i = (0, g.TW)(e, n);
        return (
          a != Intl.DateTimeFormat().resolvedOptions().timeZone &&
            (r = (0, g.TW)(e, { ...n, timeZone: a })),
          { strLocal: i, strPacific: r }
        );
      }
      function B(e) {
        const { rtime: t, locTokenLocalTime: a, shortTimeZone: n } = e,
          { strLocal: r, strPacific: i } = I(t, n);
        let s = r;
        return (
          a && (s = (0, g.we)(a, s)),
          o.createElement(
            o.Fragment,
            null,
            o.createElement("div", null, s),
            !!i && o.createElement("div", null, i),
          )
        );
      }
      function T(e, t) {
        const { strLocal: a, strPacific: n } = I(e, t);
        let r = a;
        return n && (r += " (" + n + ")"), r;
      }
      function M(e) {
        let t = "";
        return (
          (t =
            1 == e
              ? (0, g.we)("#DailyDeals_AcceptInvite_Success")
              : 15 == e
                ? (0, g.we)("#DailyDeals_AcceptInvite_Error_AccessDenied")
                : 42 == e
                  ? (0, g.we)("#DailyDeals_AcceptInvite_Error_NotAvailable")
                  : (0, g.we)("#DailyDeals_AcceptInvite_Error")),
          t
        );
      }
      function A(e) {
        const {
            rtDay: t,
            closeModal: a,
            invite: p,
            nMaxDiscountDays: h,
            nextDiscount: C,
          } = e,
          [I, B] = o.useState(new Array()),
          [T, A] = o.useState(s.a4),
          [R, P] = o.useState({
            appid: p.appid,
            bundleid: p.bundleid,
            packageid: p.packageid,
          }),
          [N, G] = o.useState(void 0),
          O = (0, s.tR)(N, p.primary_partnerid),
          F =
            ((0, s.zy)(),
            o.useMemo(() => {
              const e = O?.partner_jsondata
                ? JSON.parse(O?.partner_jsondata)
                : void 0;
              return e && e.require_sale_page
                ? p.require_sale_page_type || 1
                : 0;
            }, [O?.partner_jsondata, p.require_sale_page_type])),
          L = { appid: p.appid, bundleid: p.bundleid, packageid: p.packageid },
          [U, z] = o.useMemo(
            () => [R ? (0, c.M9)(R) : 0, R ? (0, c.pk)(R) : -1],
            [R],
          ),
          [x] = (0, m.G6)(U, z, i.Ty),
          { fnAcceptInvitation: q } = (0, l.yl)(),
          [W, j] = o.useState(""),
          H = (e) => {
            const t = M(e.errorCode);
            G(e?.gid),
              ("dev" != S.TS.WEB_UNIVERSE && "beta" != S.TS.WEB_UNIVERSE) ||
              1 == e.errorCode
                ? j(t)
                : j(
                    o.createElement(
                      o.Fragment,
                      null,
                      o.createElement("div", null, t),
                      o.createElement(
                        "div",
                        { style: { color: "red" } },
                        "(VO) error details:" +
                          e.errorCode +
                          ", " +
                          e.strErrorMsg,
                      ),
                    ),
                  );
          },
          V = o.useCallback(async () => {
            const e = (0, y.oj)(x);
            let a = "";
            if (14 == x.GetAppType())
              a = (0, r.cR)(
                e,
                e,
                n.ZL.get("dailydeal"),
                [p.primary_partnerid],
                [],
              );
            else {
              const t =
                0 == x.GetStoreItemType()
                  ? [x.GetAppID()]
                  : x.GetIncludedAppIDs();
              a = (0, r.cR)(e, e, n.ZL.get("dailydeal"), [], t);
            }
            await q(p.inviteid, t, T, a, !1)
              .then((e) => {
                H(e);
              })
              .catch((e) => {
                H((0, _.H)(e));
              });
          }, [x, q, p.inviteid, p.primary_partnerid, T, t]),
          K = o.useCallback(() => {
            a(),
              window.location.assign(
                `${S.TS.PARTNER_BASE_URL}promotion${b.PromotionRoutes.DailyDealDashboard()}`,
              );
          }, [a]),
          Y = T < s.a4 || T > h,
          $ = W && Boolean(O) && Boolean(F),
          J = "America/Los_Angeles",
          X = {
            weekday: "short",
            timeZoneName: "longGeneric",
            hour: "numeric",
          },
          Q = J != Intl.DateTimeFormat().resolvedOptions().timeZone,
          Z = C
            ? Math.floor((C.rtDiscountStart - t + E.Kp.PerHour) / E.Kp.PerDay)
            : void 0;
        return o.createElement(
          u.eV,
          { onCancel: a },
          o.createElement(
            d.Y9,
            null,
            " ",
            (0, g.we)("#DailyDeals_CreateFromInvite"),
            " ",
          ),
          o.createElement(
            d.nB,
            null,
            !W &&
              o.createElement(
                "div",
                null,
                o.createElement(
                  "div",
                  { className: f.Accept_StartDate },
                  Q &&
                    o.createElement(
                      "div",
                      null,
                      (0, g.TW)(t, { ...X, timeZone: J }),
                    ),
                  o.createElement("div", null, (0, g.TW)(t, X)),
                ),
                o.createElement(v.cy, {
                  id: (0, c.M9)(L),
                  itemType: (0, c.pk)(L),
                  bHideAdvertisingAppWarnings: !0,
                }),
                o.createElement(k, {
                  nDiscountDays: T,
                  fnSetDiscountDays: A,
                  rgDiscountPackages: I,
                  fnSetDiscountPackages: B,
                  nStoreItemID: U,
                  eStoreItemType: z,
                  nMaxDiscountDays: h,
                  nDaysUntilNextDiscount: Z,
                }),
                Boolean(p.appid) &&
                  o.createElement(v.$d, {
                    nAppID: p.appid,
                    oFeaturedItem: R,
                    fnSetFeaturedItem: P,
                  }),
              ),
            $ &&
              o.createElement(
                "div",
                null,
                o.createElement(
                  "div",
                  { className: f.CreateSalePageFromInviteDesc },
                  (0, g.we)(
                    "#DailyDeals_CreateSalePageFromInvite",
                    (0, D.$Y)(F),
                  ),
                ),
                o.createElement(w.Z2, {
                  deal: O,
                  eRequireSalePageType: F,
                  fnOnSalePageSelected: K,
                }),
              ),
            W && !$ && o.createElement("div", null, W),
          ),
          o.createElement(
            d.wi,
            null,
            W
              ? o.createElement(
                  d.$n,
                  { onClick: K },
                  (0, g.we)("#Button_Close"),
                )
              : o.createElement(d.CB, {
                  strOKText: (0, g.we)("#Button_Save"),
                  strCancelText: (0, g.we)("#Button_Cancel"),
                  onOK: V,
                  bOKDisabled: Y,
                  onCancel: a,
                }),
          ),
        );
      }
      function k(e) {
        const {
            nDiscountDays: t,
            fnSetDiscountDays: a,
            rgDiscountPackages: n,
            fnSetDiscountPackages: r,
            nStoreItemID: l,
            eStoreItemType: c,
            nMaxDiscountDays: u,
            nDaysUntilNextDiscount: _,
          } = e,
          [E] = (0, m.G6)(l, c, i.Ty);
        if (!E)
          return o.createElement(p.t, {
            size: "small",
            position: "center",
            string: (0, g.we)("#Loading"),
          });
        const S = u ?? s.UU,
          y =
            S < s.UU && _ > 0
              ? o.createElement(
                  "div",
                  { className: f.DiscountLimited },
                  (0, g.we)("#DailyDeals_New_DailiyDeal_DurationLimited", _, S),
                )
              : null;
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: "DialogLabel" },
            (0, g.we)("#DailyDeals_New_DailyDeal"),
          ),
          o.createElement(
            "div",
            { className: f.DiscountCtn },
            o.createElement(
              "div",
              null,
              y,
              o.createElement(
                "div",
                null,
                S == s.a4
                  ? (0, g.we)("#DailyDeals_New_DailyDeal_Length_Min")
                  : (0, g.we)("#DailyDeals_New_DailyDeal_Length", s.a4, S),
              ),
              o.createElement(
                "div",
                { className: f.DiscountInputCtn },
                o.createElement(d.pd, {
                  type: "number",
                  min: s.a4,
                  max: S,
                  value: t,
                  onChange: (e) =>
                    a(
                      (0, h.kf)(e?.currentTarget?.value)
                        ? Number.parseInt(e.currentTarget.value)
                        : 0,
                    ),
                }),
              ),
            ),
          ),
          Boolean(E) &&
            o.createElement(R, {
              rgDiscountPackages: n,
              fnSetDiscountPackages: r,
              oAppInfo: E,
            }),
        );
      }
      function R(e) {
        const {
            rgDiscountPackages: t,
            fnSetDiscountPackages: a,
            oAppInfo: n,
          } = e,
          r = n.GetAllPurchaseOptions()?.filter((e) => Boolean(e.packageid));
        return !r || r?.length <= 1
          ? null
          : o.createElement(
              "div",
              { className: f.PackageSelectCtn },
              o.createElement(
                "div",
                { className: "DialogLabel" },
                (0, g.we)("#DailyDeals_New_DiscountSelect"),
              ),
              r.map((e) =>
                o.createElement(d.Yh, {
                  key: "package" + e.packageid,
                  label: e.purchase_option_name + " (" + e.packageid + ")",
                  checked: t.includes(e.packageid),
                  onChange: (n) => {
                    if (n) a([...t, e.packageid]);
                    else {
                      const n = t.indexOf(e.packageid);
                      if (n) {
                        const e = t.slice(n, 1);
                        a(e);
                      }
                    }
                  },
                }),
              ),
            );
      }
    },
    65744: (e, t, a) => {
      "use strict";
      a.d(t, { $d: () => k, RC: () => P, cy: () => T, tH: () => B });
      var n = a(33428),
        r = a(52625),
        i = a(52249),
        s = a(90626),
        l = a(62792),
        o = a(55263),
        c = a(16676),
        m = a(71298),
        d = a(9154),
        u = a(22797),
        p = a(68797),
        _ = a(61859),
        g = a(61732),
        h = a(78327),
        E = a(65803),
        S = a(28351),
        y = a(18509),
        v = a(18345),
        f = a(56330),
        b = a(89269),
        w = a(94238),
        D = a(90031),
        C = a(14771),
        I = a(45325);
      function B(e) {
        const { rtDay: t, closeModal: a } = e,
          [i, u] = s.useState(0),
          [g, E] = s.useState(void 0),
          [y] = (0, o.G6)((0, l.M9)(g), (0, l.pk)(g), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          [f, b] = s.useState(""),
          { fnAddDailyDeal: D } = (0, r.uW)(),
          { fnCreateDiscountEvent: C } = (0, n.ur)(),
          [I, B] = s.useState(!0),
          M = 0 == f.length || f.startsWith(h.TS.STORE_BASE_URL),
          A = (0, m.vs)(),
          k = (0, s.useCallback)(
            (e, t, n, r) => {
              D(e, t, n, r).then((e) => {
                e ? a() : A.fnSetStrError((0, _.we)("#DailyDeals_New_Error"));
              });
            },
            [a, A, D],
          );
        return A.bLoading
          ? s.createElement(m.Hh, {
              state: A,
              strDialogTitle: (0, _.we)("#DailyDeals_CreateNew", (0, _.TW)(t)),
              closeModal: a,
            })
          : s.createElement(
              d.o0,
              {
                strTitle: (0, _.we)("#DailyDeals_CreateNew", (0, _.TW)(t)),
                bDisableBackgroundDismiss: !0,
                onOK: () => {
                  const e = new Date(1e3 * t),
                    a = new Date(e);
                  a.setDate(a.getDate() + 7);
                  const n = Math.floor(a.getTime() / 1e3),
                    r = (0, w.oj)(y);
                  A.fnSetLoading(!0),
                    I && 0 != i
                      ? C(
                          t,
                          n,
                          r,
                          r,
                          "#discount_desc_preset_daily",
                          [i],
                          g.appid ? [g.appid] : y?.GetIncludedAppIDs(),
                        )
                          .then((e) => k(g, t, f, e.id))
                          .catch((e) => {
                            A.fnSetStrError(
                              "Discount Event Creation Failed: " +
                                (0, p.H)(e).strErrorMsg,
                            );
                          })
                      : k(g, t, f, null);
                },
                onCancel: a,
                bOKDisabled:
                  !Boolean(g) || !Boolean(i) || !g || !M || A.bLoading,
              },
              s.createElement(
                "div",
                { className: "DailyDealEditor" },
                s.createElement(S.rF, {
                  oChoice: g,
                  fnSetChoice: (e) => {
                    E(e), u(0);
                  },
                }),
                Boolean(g) &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(P, {
                      storeItemId: (0, l.M9)(g),
                      itemType: (0, l.pk)(g),
                    }),
                    s.createElement(T, {
                      id: (0, l.M9)(g),
                      itemType: (0, l.pk)(g),
                    }),
                  ),
                Boolean(g) &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(c.Yh, {
                      label: "Create discount event",
                      checked: I && 0 != i,
                      onChange: B,
                      disabled: 0 == i,
                      tooltip:
                        "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                    }),
                    s.createElement(v.H, {
                      nStoreItemID: (0, l.M9)(g),
                      eStoreItemType: (0, l.pk)(g),
                      nPartnerID: i,
                      setPartnerID: u,
                    }),
                  ),
                s.createElement(c.pd, {
                  type: "text",
                  label: (0, _.we)("#DailyDeals_New_LinkTo_Title"),
                  tooltip: "URL must started with " + h.TS.STORE_BASE_URL,
                  placeholder: (0, _.we)("#DailyDeals_New_LinkTo_Placeholder"),
                  onChange: (e) => b(e?.currentTarget?.value || ""),
                }),
              ),
            );
      }
      function T(e) {
        const { id: t, itemType: a, bHideAdvertisingAppWarnings: n } = e,
          [r, i] = (0, o.G6)(t, a, {
            include_assets: !0,
            include_all_purchase_options: !0,
          });
        let l = h.TS.PARTNER_BASE_URL + "apps/landing/" + t;
        switch (a) {
          case 1:
            l = h.TS.PARTNER_BASE_URL + "store/packagelanding/" + t;
            break;
          case 2:
            l = h.TS.PARTNER_BASE_URL + "bundles/view/" + t;
        }
        const c = Boolean(14 === r?.GetAppType());
        return s.createElement(
          "div",
          { className: E.DealCapCtn },
          s.createElement(
            "a",
            { href: r?.GetStorePageURL(), target: "_blank" },
            s.createElement("img", {
              className: E.DealCapImg,
              src: r?.GetAssets().GetHeaderURL(),
            }),
          ),
          s.createElement(
            "div",
            { className: E.DealNameCtn },
            s.createElement(
              "div",
              { className: E.DealName },
              s.createElement(
                "a",
                { href: l, target: "_blank" },
                r?.GetName() || t,
              ),
            ),
            c
              ? s.createElement(A, { oStoreItem: r, bHideWarnings: n })
              : s.createElement(M, {
                  oStoreItem: r,
                  eLoadState: i,
                  itemType: a,
                }),
          ),
        );
      }
      function M(e) {
        const { oStoreItem: t, eLoadState: a, itemType: n } = e,
          r = (0, b.Mb)(t?.GetAppID());
        if (2 == a) {
          let e = (0, _.we)("#DailyDeals_App_NotAvailable");
          switch (n) {
            case 2:
              e = (0, _.we)("#DailyDeals_Bundle_NotAvailable");
              break;
            case 1:
              e = (0, _.we)("#DailyDeals_Package_NotAvailable");
          }
          return s.createElement("div", null, e);
        }
        let i = "?? ";
        return (
          (0, g.kf)(t?.GetBestPurchaseOption()?.final_price_in_cents)
            ? (i = (
                Number.parseInt(
                  t.GetBestPurchaseOption().final_price_in_cents,
                ) / 100
              ).toFixed(2))
            : r && (i = (r / 100).toFixed(2)),
          s.createElement(
            s.Fragment,
            null,
            s.createElement(y.jo, { oAppInfo: t }),
            s.createElement(
              "div",
              { className: E.CurrentPrice },
              (0, _.we)("#DailyDeals_New_CurrentPrice", i),
            ),
            Boolean(t?.GetBestPurchaseOption()?.discount_pct) &&
              s.createElement(
                "div",
                { className: E.DiscountLiveWarning },
                (0, _.we)(
                  "#DailyDeals_New_WarningExistingDiscount",
                  t.GetBestPurchaseOption().discount_pct,
                ),
              ),
          )
        );
      }
      function A(e) {
        const { oStoreItem: t, bHideWarnings: a } = e,
          n = t.GetStorePageURLOverride();
        return n && 0 != n.trim().length
          ? c.pd.validateUrl(n)
            ? s.createElement(
                "div",
                null,
                "Override URL: ",
                s.createElement("a", { href: n, target: "_blank" }, n),
              )
            : a
              ? s.createElement(s.Fragment, null)
              : s.createElement(
                  "div",
                  { className: f.WarningStylesWithIcon },
                  "Warning: linked provided invalid: ",
                  n,
                )
          : a
            ? s.createElement(s.Fragment, null)
            : s.createElement(
                "div",
                { className: f.WarningStylesWithIcon },
                "Warning: No override URL provided",
              );
      }
      function k(e) {
        const { nAppID: t, oFeaturedItem: a, fnSetFeaturedItem: n } = e,
          [r, m] = (0, o.t7)(t, { include_all_purchase_options: !0 });
        if (2 === m) return null;
        if (!r)
          return s.createElement(u.t, {
            size: "small",
            position: "center",
            string: (0, _.we)("#Loading"),
          });
        const d = r
          ?.GetAllPurchaseOptions()
          .filter((e) => Boolean(e.packageid || e.bundleid));
        if (d?.length > 1) {
          const e = new Array(),
            o = (0, l.wD)({ appid: t });
          return (
            e.push(
              s.createElement(
                c.a,
                { value: o, key: o },
                s.createElement(
                  "div",
                  { className: i.AvatarImageCtn },
                  s.createElement("img", {
                    src: r?.GetAssets()?.GetHeaderURL(),
                    className: i.AvatarImage,
                    alt: (0, _.we)("#DailyDeals_HeaderArtMissing", t),
                  }),
                ),
                (0, _.we)(
                  "#DailyDeals_Featured_App",
                  r.GetName() + " (" + r.GetID() + ")",
                ),
              ),
            ),
            d
              .filter((e) => !e.is_commercial_license)
              .forEach((t) => {
                e.push(
                  s.createElement(R, {
                    key: "key_" + t.packageid + "_" + t.bundleid,
                    purchaseOption: t,
                  }),
                );
              }),
            s.createElement(
              "div",
              { className: E.FeatureSelectCtn },
              s.createElement(
                "div",
                { className: "DialogLabel" },
                (0, _.we)("#DailyDeals_Featured_title"),
              ),
              s.createElement(
                "div",
                null,
                (0, _.we)("#DailyDeals_Featured_Desc"),
              ),
              s.createElement(
                c.zW,
                { value: (0, l.wD)(a), onChange: (e) => n((0, l.cW)(e)) },
                e,
              ),
            )
          );
        }
        return null;
      }
      function R(e) {
        const { purchaseOption: t } = e,
          a = (0, l.wD)(t),
          n = t.packageid
            ? "#DailyDeals_Featured_Package"
            : "#DailyDeals_Featured_Bundle",
          r = (0, l.wR)(void 0, t.packageid, t.bundleid),
          [m] = (0, o.G6)(r.id, (0, l.JK)(r.item_type), { include_assets: !0 });
        return s.createElement(
          c.a,
          { key: a, value: a },
          Boolean(m) &&
            s.createElement(
              "div",
              { className: i.AvatarImageCtn },
              s.createElement("img", {
                src: m?.GetAssets()?.GetHeaderURL(),
                className: i.AvatarImage,
                alt: (0, _.we)(
                  "bundle" == r.item_type
                    ? "#DailyDeals_BundleHeaderArtMissing"
                    : "#DailyDeals_PackageHeaderArtMissing",
                  r.id,
                ),
              }),
            ),
          s.createElement(
            "div",
            { className: E.GameName },
            (0, _.we)(
              n,
              t.purchase_option_name + " (" + (t.packageid || t.bundleid) + ")",
            ),
          ),
        );
      }
      function P(e) {
        const { storeItemId: t, itemType: a } = e,
          n = (0, D.ho)(1),
          i = (0, r.zy)();
        if (
          n.find((e) => {
            const n = (0, l.M9)(e),
              r = (0, l._P)(e);
            return n == t && r == a && (0, I.IA)(e);
          })
        )
          return s.createElement(
            "p",
            { className: f.WarningStylesWithIcon },
            "Invite for this store item already exists",
          );
        const o = Date.now() / 1e3 - 3 * C.Kp.PerMonth,
          c = i.find(
            (e) =>
              e.store_item_id == t &&
              (0, w.Dw)(e.store_item_type) == a &&
              e.rtime32_start_time > o,
          );
        return c
          ? s.createElement(
              "p",
              { className: f.WarningStylesWithIcon },
              "A Daily Deal already exists for this store item on ",
              (0, _.TW)(c.rtime32_start_time),
            )
          : null;
      }
    },
    41547: (e, t, a) => {
      "use strict";
      a.d(t, { gX: () => k, lx: () => T, rE: () => I, yz: () => R });
      var n = a(52625),
        r = a(94238),
        i = a(90626),
        s = a(17083),
        l = a(44165),
        o = a(55263),
        c = a(16676),
        m = a(9154),
        d = a(738),
        u = a(12155),
        p = a(22797),
        _ = a(32754),
        g = a(52038),
        h = a(56011),
        E = a(61859),
        S = a(14771),
        y = a(78327),
        v = a(65744),
        f = a(32570),
        b = a(21432),
        w = a(18509),
        D = a(16856),
        C = a(33428);
      function I(e) {
        return y.iA.is_support
          ? i.createElement(b.j, {
              nMaxWeeksToDisplay: 1e3,
              nWeeksPerPage: n.$_,
              fnCreateCalendarEntries: (e) => {
                const t = new Array();
                for (let a = 0; a < n.$_; ++a) {
                  const n = e + a * S.Kp.PerWeek;
                  t.push(
                    i.createElement(B, { key: "calrow" + a, rtFirstDay: n }),
                  );
                }
                return t;
              },
            })
          : null;
      }
      function B(e) {
        const { rtFirstDay: t } = e,
          a = new Array();
        for (let e = 0; e < 7; ++e) {
          const n = (0, r.TQ)(t + e * S.Kp.PerDay);
          a.push(i.createElement(M, { key: "calday" + n, rtDay: n }));
        }
        return i.createElement(
          "div",
          { className: f.CalendarRow },
          a.map((e) =>
            i.createElement(
              "div",
              { className: f.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function T(e) {
        const { rtDay: t, children: a } = e,
          n = l.HD.GetTimeNowWithOverride(),
          s = t < n,
          o = (0, r.TQ)(t) == (0, r.TQ)(n),
          c = (0, r.IR)(t);
        return i.createElement(
          "div",
          {
            className: (0, g.A)({
              [f.DealSection]: !0,
              [f.PastEntry]: s && !o,
              [f.TodayEntry]: o,
              [f.FutureEntry]: !s && !o,
            }),
          },
          i.createElement("div", { className: f.DayName }, c),
          a,
        );
      }
      function M(e) {
        const { rtDay: t } = e,
          a = (0, n.D4)(t),
          s = l.HD.GetTimeNowWithOverride(),
          o = new Array(),
          m = t < s,
          u = (0, r.TQ)(t) == (0, r.TQ)(s);
        if (!m || (u && y.iA.is_support))
          if (1 == a?.length && (0, n.JX)(a[0]))
            o.push(
              i.createElement(N, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
          else {
            for (let e = a ? a.length : 0; e < n.Jw; ++e)
              o.push(
                i.createElement(
                  "div",
                  {
                    key: "slot" + e,
                    className: (0, g.A)(f.DailyDealCtn, f.Available),
                  },
                  i.createElement(
                    c.$n,
                    {
                      onClick: (e) => {
                        (0, d.pg)(
                          i.createElement(v.tH, { rtDay: t }),
                          (0, h.uX)(e),
                        );
                      },
                    },
                    (0, E.we)("#DailyDeals_Select"),
                  ),
                ),
              );
            (a && 0 != a?.length) ||
              o.push(
                i.createElement(N, { key: "block_" + t, rtDay: t, bAdd: !0 }),
              );
          }
        else
          u &&
            1 == a?.length &&
            (0, n.JX)(a[0]) &&
            o.push(
              i.createElement(N, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
        return i.createElement(
          T,
          { rtDay: t },
          a?.map((e) => i.createElement(A, { key: e.gid, oDailyDeal: e })),
          o,
        );
      }
      function A(e) {
        const { oDailyDeal: t } = e,
          a = (0, C.vV)(t.discount_event_id?.toString());
        if ((0, n.JX)(t)) {
          const e = a?.name || (0, E.we)(t.store_item_name);
          return i.createElement(
            "div",
            { className: f.Blocked },
            i.createElement(
              _.he,
              { toolTipContent: (0, E.we)("#DailyDeals_Blackout_ttip") },
              e,
            ),
          );
        }
        const [s, l] = (0, r.Zd)(t);
        return -1 == l
          ? i.createElement(
              "div",
              { className: (0, g.A)(f.DailyDealCtn, f.Reserved) },
              t.store_item_name,
            )
          : i.createElement(R, { oDailyDeal: t });
      }
      function k(e) {
        const { oDailyDeal: t, bShowName: a } = e,
          [s, l] = (0, r.Zd)(t),
          [c, m] = (0, o.G6)(s, l, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          d = (0, n.N0)(t);
        return c || 2 == m
          ? i.createElement(
              i.Fragment,
              null,
              d &&
                i.createElement(
                  "div",
                  { className: f.SalePageIndicator },
                  "sale page",
                ),
              c?.GetAssets().GetHeaderURL()
                ? i.createElement("img", {
                    src: c.GetAssets().GetHeaderURL(),
                    className: f.DailyDealImage,
                  })
                : i.createElement(
                    "div",
                    { className: f.DailyDealImageFallback },
                    2 == l
                      ? (0, E.we)("#DailyDeals_Bundle")
                      : (0, E.we)("#DailyDeals_ImageMissing"),
                  ),
              Boolean(a) &&
                i.createElement(
                  "div",
                  null,
                  c?.GetName() || "unknown",
                  " (",
                  s,
                  ")",
                ),
              i.createElement(
                "div",
                null,
                i.createElement(w.b4, { oDailyDeal: t }),
                (0, r.PR)(t) &&
                  i.createElement(
                    _.he,
                    { toolTipContent: (0, r.ve)(t) },
                    i.createElement(
                      "div",
                      { className: f.NotesIcon },
                      i.createElement(u.$$j, null),
                    ),
                  ),
              ),
            )
          : i.createElement(
              "div",
              { className: f.DailyDealCtn },
              i.createElement(p.t, {
                size: "small",
                position: "center",
                string: `Loading ${s}-${l}`,
              }),
            );
      }
      function R(e) {
        const { oDailyDeal: t } = e;
        return i.createElement(
          s.N_,
          {
            to: D.PromotionRoutes.DailyDealEditor(t.gid),
            className: (0, g.A)({ [f.DailyDealCtn]: !0, [f.Taken]: !0 }),
          },
          i.createElement(k, { ...e }),
        );
      }
      function P(e) {
        const { rtDay: t, bAdd: a } = e,
          r = i.createRef(),
          s = (0, n.W6)(),
          { rgMajorSaleDiscountEvents: l, eResult: o } = (0, C.wn)(!1),
          d = (0, i.useMemo)(() => {
            let e = [{ label: "", data: "0" }];
            return (
              l?.forEach((t) => {
                e = e.concat({ label: t.name, data: t.id });
              }),
              e
            );
          }, [l]);
        return i.createElement(
          m.o0,
          {
            strTitle: "Block out",
            onOK: () => s(t, a, parseInt(r.current?.state.value.data)),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            strDescription:
              "Are you sure you want to " +
              (a ? "add" : "remove") +
              " this block out date?  Block out prevents daily deals from being scheduled on this date: " +
              (0, E.TW)(t),
          },
          a &&
            i.createElement(
              "div",
              { className: f.MajorSaleDropdown },
              i.createElement(c.m, {
                strDefaultLabel: "",
                rgOptions: d,
                selectedOption: "0",
                label: "Major Sale",
                dropDownControlRef: r,
              }),
            ),
        );
      }
      function N(e) {
        const { rtDay: t, bAdd: a } = e;
        return i.createElement(
          c.$n,
          {
            onClick: (e) => {
              (0, d.pg)(
                i.createElement(P, { rtDay: t, bAdd: a }),
                (0, h.uX)(e),
              );
            },
          },
          i.createElement(
            _.he,
            {
              toolTipContent:
                "Block out days prevent users or Admin from registering daily deals",
            },
            a ? "Block out day (VO)" : "Remove Block out",
          ),
        );
      }
    },
    21432: (e, t, a) => {
      "use strict";
      a.d(t, { j: () => p });
      var n = a(94238),
        r = a(44165),
        i = a(16676),
        s = a(95034),
        l = a(4869),
        o = a(61859),
        c = a(14771),
        m = a(32570),
        d = a(90626),
        u = a(52625);
      function p(e) {
        const {
            fnCreateCalendarEntries: t,
            nMaxWeeksToDisplay: a,
            nWeeksPerPage: o,
          } = e,
          p = o ?? u.aU,
          g = Math.ceil(a / p) - 1,
          [h, E] = (0, s.QD)("page", 0),
          S = h < 0 ? 0 : h >= g ? g : h,
          y = (0, n.oU)(r.HD.GetTimeNowWithOverride()),
          [v, f] = d.useState(y + S * c.Kp.PerWeek * p),
          b = (e) => {
            window.sessionStorage.setItem("dailyDealPageIndex", `?page=${e}`),
              E(e),
              f(y + e * c.Kp.PerWeek * p);
          };
        return d.createElement(
          "div",
          { className: m.CalendarGridCtn },
          d.createElement(
            "div",
            { className: m.NavBar },
            d.createElement(
              "div",
              { className: m.NavButtonLeftCtn },
              S > 0 &&
                d.createElement(
                  i.$n,
                  { className: m.NavButton, onClick: () => b(S - 1) },
                  d.createElement(l.i3G, { direction: "left" }),
                ),
            ),
            d.createElement(
              "div",
              { className: m.NavButtonRightCtn },
              S < g &&
                d.createElement(
                  i.$n,
                  { className: m.NavButton, onClick: () => b(S + 1) },
                  d.createElement(l.i3G, { direction: "right" }),
                ),
            ),
          ),
          d.createElement(
            "div",
            { className: m.CalendarGrid },
            d.createElement(_, null),
            t(v),
          ),
        );
      }
      function _() {
        const e = new Array();
        for (let t = 0; t < 7; ++t)
          e.push(
            d.createElement(
              "div",
              { className: m.CalendarDate, key: "calheader_" + t },
              d.createElement(
                "div",
                { className: m.DayOfTheWeek },
                (0, o.we)("#DailyDeals_Day_" + t),
              ),
            ),
          );
        return d.createElement("div", { className: m.CalendarRow }, e);
      }
    },
    28351: (e, t, a) => {
      "use strict";
      a.d(t, { BS: () => v, bf: () => y, rF: () => b });
      var n = a(82829),
        r = a(11542),
        i = a(52625),
        s = a(90626),
        l = a(82097),
        o = a(62792),
        c = a(16676),
        m = a(71298),
        d = a(84811),
        u = a(9154),
        p = a(38135),
        _ = a(61859),
        g = a(94238),
        h = a(90710),
        E = a(65744),
        S = a(22797);
      function y(e) {
        const { dealid: t, closeModal: a } = e,
          n = (0, i.tR)(t),
          { fnSaveDailyDeal: o } = (0, i.Yg)(),
          c = s.useMemo(() => (0, g.qc)(n), [n]);
        return s.createElement(v, {
          oFeaturedItem: c,
          closeModal: a,
          onConfirmFeatureItem: async (e) => {
            const t = (0, g.po)(e),
              a = l.A.Get().GetStoreItem(
                t.store_item_id,
                (0, g.Dw)(t.store_item_type),
              ),
              i = { ...n, store_item_name: a?.GetName() ?? "", ...t };
            try {
              const e = await o(i);
              if (e) return r.aR.Get().InitDailyDealToEdit(i, !0), e;
            } catch (e) {}
            return !1;
          },
        });
      }
      function v(e) {
        const {
            oFeaturedItem: t,
            onConfirmFeatureItem: a,
            closeModal: r,
            bExcludeBundle: i,
            strTitleOverride: l,
            bIncludeHidden: c,
          } = e,
          [d, p] = s.useState(t),
          _ = (0, n.c2)(d),
          g = (0, m.vs)();
        if (g.bLoading)
          return s.createElement(m.Hh, {
            state: g,
            strDialogTitle: l || "Update Featuring",
            closeModal: r,
          });
        const h = (0, o.wR)(d?.appid, d?.packageid, d?.bundleid);
        return s.createElement(
          u.o0,
          {
            strTitle: l || "Update Featuring",
            bDisableBackgroundDismiss: !0,
            strOKButtonText: "Confirm and Save",
            onCancel: r,
            bOKDisabled:
              !d ||
              g.bLoading ||
              JSON.stringify(d) == JSON.stringify(t) ||
              !_.data,
            onOK: async () => {
              g.fnSetLoading(!0);
              try {
                (await a(d)) ? g.fnSetSuccess(!0) : g.fnSetError(!0);
              } catch (e) {
                g.fnSetError(!0);
              }
            },
          },
          s.createElement(b, {
            oChoice: d,
            fnSetChoice: p,
            bExcludeBundle: i,
            bIncludeHidden: c,
          }),
          s.createElement(E.cy, { id: h.id, itemType: (0, o.JK)(h.item_type) }),
          Boolean(d?.appid) &&
            s.createElement(E.$d, {
              nAppID: d.appid,
              oFeaturedItem: d,
              fnSetFeaturedItem: p,
            }),
          s.createElement(f, { oFeaturedItem: d }),
        );
      }
      function f(e) {
        const { oFeaturedItem: t } = e,
          a = (0, n.c2)(t);
        if (!a || !t || !a.data) return null;
        if (a.isLoading)
          return s.createElement(S.t, {
            size: "small",
            string: "Loading Country Restrictions",
          });
        const r = a.data;
        if (!r.no_restrictions) {
          if (r.allowed_countries?.length > 0)
            return s.createElement(
              "div",
              null,
              "Country Allow List: ",
              r.allowed_countries.join(","),
            );
          if (r.restricted_countries?.length > 0)
            return s.createElement(
              "div",
              null,
              "Country Restriction List: ",
              r.restricted_countries.join(","),
            );
        }
        return null;
      }
      function b(e) {
        const {
            oChoice: t,
            fnSetChoice: a,
            bExcludeApp: n,
            bExcludePackage: r,
            bExcludeBundle: i,
            bIncludeHidden: l,
          } = e,
          o = [];
        return (
          n ||
            o.push({
              name: "App",
              key: "app",
              contents: s.createElement(
                d.tH,
                null,
                s.createElement(h.h, {
                  strLabel: (0, _.we)("#DailyDeals_New_SelectGame"),
                  itemType: 0,
                  fnSetItemID: (e) => {
                    t?.appid != e && a({ appid: e });
                  },
                  bShowDLCToggle: !0,
                }),
              ),
            }),
          r ||
            o.push({
              name: "Package",
              key: "package",
              contents: s.createElement(
                d.tH,
                null,
                s.createElement(h.h, {
                  strLabel: (0, _.we)("#DailyDeals_New_SelectPackage"),
                  itemType: 1,
                  fnSetItemID: (e) => {
                    t?.packageid != e && a({ packageid: e });
                  },
                }),
              ),
            }),
          i ||
            o.push({
              name: "Bundle",
              key: "bundle",
              contents: s.createElement(
                d.tH,
                null,
                s.createElement(h.h, {
                  strLabel: (0, _.we)("#DailyDeals_New_SelectBundle"),
                  itemType: 2,
                  fnSetItemID: (e) => {
                    t?.bundleid != e && a({ bundleid: e });
                  },
                }),
              ),
            }),
          l &&
            o.push({
              name: "Unpublished Items",
              key: "unpublished",
              contents: s.createElement(
                d.tH,
                null,
                s.createElement(w, { oChoice: t, fnSetChoice: a }),
              ),
            }),
          s.createElement(p.V, {
            tabs: o,
            bDisableRouting: !0,
            startingTab: "app",
          })
        );
      }
      function w(e) {
        const { oChoice: t, fnSetChoice: a } = e,
          n = (0, o.M9)(t),
          [r, i] = s.useState((0, o.pk)(t, 0));
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(c.pd, {
            type: "number",
            value: n,
            label: "Enter Store Item ID #",
            onChange: (e) => {
              const t = Number.parseInt(e.currentTarget.value);
              if (null == t || Number.isNaN(t) || 0 === t) a(void 0);
              else
                switch (r) {
                  case 2:
                    a({ bundleid: t });
                    break;
                  case 1:
                    a({ packageid: t });
                    break;
                  default:
                    a({ appid: t });
                }
            },
          }),
          s.createElement(c.m, {
            label: "Store Item Type",
            rgOptions: [
              { label: "Apps (all kinds)", data: 0 },
              { label: "Bundle", data: 2 },
              { label: "Package", data: 1 },
            ],
            onChange: (e) => i(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: r,
          }),
        );
      }
    },
    18509: (e, t, a) => {
      "use strict";
      a.d(t, {
        Lc: () => w,
        b4: () => b,
        eT: () => I,
        jo: () => B,
        kr: () => T,
      });
      var n = a(33428),
        r = a(48996),
        i = a(89269),
        s = a(90626),
        l = a(55263),
        o = a(16676),
        c = a(84811),
        m = a(29863),
        d = a(56330),
        u = a.n(d),
        p = a(52038),
        _ = a(61859),
        g = a(30470),
        h = a(68380),
        E = a(62137),
        S = a(52625),
        y = a(75493),
        v = a(14771),
        f = a(87924);
      function b(e) {
        const { oDailyDeal: t } = e,
          a = (0, n.vV)(t.discount_event_id?.toString()),
          {
            nDiscountPercentHigh: r,
            nDiscountPercentLow: i,
            dtDiscountStart: l,
            dtDiscountEnd: o,
            rgDiscounts: d,
          } = (0, S.Y4)(t);
        let u = "?? %",
          _ = null,
          E = null;
        var y, v;
        return (
          d.length > 0 &&
            null != i &&
            null != r &&
            (u = (y = i) == (v = r) ? y + "%" : y + "% - " + v + "%"),
          (_ = s.createElement(w, {
            rgPackagesDiscounts: d,
            oDiscountEvent: a,
            nDiscountStart: l,
            nDiscountEnd: o,
          })),
          a?.id &&
            (E = `${g.TS.PARTNER_BASE_URL}admin/editdiscountevent/${a?.id}`),
          s.createElement(
            c.tH,
            null,
            s.createElement(
              m.JU,
              {
                hoverProps: { direction: "left", style: { minWidth: "350px" } },
                hoverContent: _,
                className: (0, p.A)(h.HoverCtn, "DiscountRange"),
                strClickUrl: g.iA.is_support ? E : void 0,
              },
              s.createElement(
                "div",
                {
                  className: (0, p.A)(
                    h.Pct,
                    "?? %" == u ? h.MissingDiscount : "",
                  ),
                },
                u,
              ),
            ),
          )
        );
      }
      function w(e) {
        const {
            rgPackagesDiscounts: t,
            oDiscountEvent: a,
            nBundleID: n,
            nDiscountStart: r,
            nDiscountEnd: i,
          } = e,
          o = t?.length ?? 0,
          c = t?.slice(0, Math.min(o, 10));
        (0, l.gF)(c?.map((e) => e.packageID) || [], {});
        const m = !(0, y.V)() && g.iA.is_support;
        return s.createElement(
          "div",
          { className: h.HoverObject },
          s.createElement(
            "div",
            { className: "DialogLabel" },
            a
              ? (0, _.we)("#DailyDeals_DiscountEvent")
              : (0, _.we)("#DailyDeals_DiscountInfo"),
          ),
          s.createElement(
            "div",
            { className: h.HoverDetailsCtn },
            Boolean(a) &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: h.DiscountDates },
                  (0, _.TW)(a.start_date),
                  " - ",
                  (0, _.TW)(a.end_date),
                ),
              ),
            !Boolean(a) &&
              Boolean(r) &&
              Boolean(i) &&
              s.createElement(
                "div",
                { className: h.DiscountDates },
                (0, _.TW)(r),
                " - ",
                (0, _.TW)(i),
              ),
          ),
          m &&
            Boolean(a) &&
            !a.appids?.length &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(
                "div",
                { className: u().WarningIconLayout },
                (0, _.we)("#DailyDeals_DiscountEvent_Incomplete"),
              ),
            ),
          s.createElement(
            "div",
            { className: h.DiscountedPackageList },
            Boolean(!c || 0 == c.length) &&
              s.createElement(
                "div",
                null,
                (0, _.we)("#DailyDeals_NoDiscountsEntered"),
              ),
            c?.map((e) =>
              s.createElement(C, {
                key: "dis_" + e.nDiscountID + "_" + e.nDiscountID,
                oDiscount: e,
              }),
            ),
            Boolean(o > 10) &&
              s.createElement(
                "div",
                null,
                (0, _.we)("#DailyDeals_MorePackages", o - 10),
              ),
          ),
          g.iA.is_support &&
            Boolean(n) &&
            s.createElement(D, { oDiscountEvent: a, bundleid: n }),
        );
      }
      function D(e) {
        const { oDiscountEvent: t, bundleid: a } = e,
          [r] = (0, l.Ow)(a, { include_basic_info: !0 }),
          { fnUpdateDiscountEventAppAndPublisherList: i } = (0, n.BG)();
        return r
          ? s.createElement(
              o.$n,
              {
                onClick: (e) => {
                  i(t.id, t.publisherids || [], r.GetIncludedAppIDs());
                },
              },
              "Update Discount Event's permitted AppIDs from Bundle Definition",
            )
          : null;
      }
      function C(e) {
        const { oDiscount: t } = e,
          [a] = (0, l.Gg)(t.packageID, {});
        return a
          ? s.createElement(
              "div",
              { className: h.DiscountedPackage },
              a.GetName(),
              "( ",
              t.packageID,
              " ) @ ",
              s.createElement("div", null, t.nDiscountPct, "%"),
            )
          : s.createElement(
              "div",
              { className: h.DiscountedPackage },
              "( ",
              t.packageID,
              " ) @ ",
              s.createElement("div", null, t.nDiscountPct, "%"),
            );
      }
      function I(e) {
        const { strDiscountEventID: t, nBundleID: a } = e,
          i = (0, r.sk)(t),
          l = (0, n.vV)(t);
        return s.createElement(w, {
          rgPackagesDiscounts: i,
          oDiscountEvent: l,
          nBundleID: a,
        });
      }
      function B(e) {
        const { oAppInfo: t } = e,
          a = (0, i.UQ)(t?.GetAppID());
        return t && a?.length > 0
          ? s.createElement(
              E.Q,
              { rgPackagesToLoad: a, size: "small" },
              s.createElement(T, { rgPackageIDs: a }),
            )
          : s.createElement(
              "div",
              null,
              (0, _.we)("#DailyDeals_New_NoLastDiscount"),
            );
      }
      function T(e) {
        const {
            rgPackageIDs: t,
            bHidePackage: a,
            bShowDiscountEventName: i,
            bShowCooldownState: l,
          } = e,
          { mostRecentDiscount: o, bLoading: c } = (0, r.XA)(t),
          m = (0, n.vV)(o?.discountEventID);
        if (c) return null;
        if (!o)
          return s.createElement(
            "div",
            null,
            (0, _.we)("#DailyDeals_New_NoLastDiscount"),
          );
        const d = (0, _.$z)(o.rtStartDate),
          u = (0, _.$z)(o.rtEndDate),
          p = Date.now() / 1e3,
          E = "unique" == m?.collision_type ? 0 : f.T1,
          S = o.rtEndDate + v.Kp.PerDay * E,
          y = l && S > p,
          b = p - 7884864,
          w =
            o.rtEndDate > p
              ? s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(
                    "div",
                    { className: h.Inline },
                    (0, _.PP)(
                      "#DailyDeals_New_LastDiscount_Ends",
                      s.createElement(
                        "span",
                        { className: h.ActiveDiscount },
                        (0, _.$z)(o.rtEndDate),
                      ),
                    ),
                  ),
                  a ? "" : s.createElement("br", null),
                )
              : s.createElement(
                  s.Fragment,
                  null,
                  a ? "" : s.createElement("br", null),
                );
        return s.createElement(
          "div",
          { className: h.LastDiscount },
          (0, _.PP)(
            a
              ? "#DailyDeals_New_LastDiscount_SansPackage"
              : "#DailyDeals_New_LastDiscount",
            s.createElement(
              "span",
              { className: o.rtStartDate > b ? h.RecentDiscount : "" },
              d + " - " + u,
            ),
            o.nDiscountPct,
            a
              ? ""
              : s.createElement(
                  "a",
                  {
                    href: `${g.TS.PARTNER_BASE_URL}packages/discounts/${o.packageID}`,
                  },
                  o.packageID,
                ),
            w,
          ),
          Boolean(i && o?.discountEventID) &&
            s.createElement(M, { strDiscountEventID: o.discountEventID }),
          y &&
            s.createElement(
              "div",
              { className: h.CooldownActive },
              (0, _.we)("#DailyDeals_New_CooldownActive", (0, _.$z)(S)),
            ),
        );
      }
      function M(e) {
        const { strDiscountEventID: t } = e,
          a = (0, n.vV)(t);
        return a ? s.createElement("div", null, a.name) : null;
      }
    },
    40357: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => v, K: () => T });
      var n,
        r = a(52625),
        i = a(90626),
        s = a(55263),
        l = a(52038),
        o = a(61859),
        c = a(94238),
        m = a(8955),
        d = a(51134),
        u = a(82227),
        p = a(54965),
        _ = a(82097),
        g = a(4434),
        h = a(64753),
        E = a(30600),
        S = a(22797),
        y = a(78327);
      function v(e) {
        const [t, a] = (0, i.useState)(!1),
          n = (0, E.BL)(
            (0, i.useCallback)((e) => {
              e.isIntersecting && a(!0);
            }, []),
            { rootMargin: "200px" },
          );
        return i.createElement(f, { ...e, bLoadReportData: t, ref: n });
      }
      !(function (e) {
        (e[(e.Summary = 0)] = "Summary"),
          (e[(e.Sales = 1)] = "Sales"),
          (e[(e.Marketing = 2)] = "Marketing");
      })(n || (n = {}));
      const f = i.forwardRef((e, t) => {
        const { deal: a, strPublisherID: r, bLoadReportData: d } = e,
          [u, _] = (0, s.G6)(a?.store_item_id, (0, c.Dw)(a?.store_item_type), {
            include_assets: !0,
          }),
          g = (0, p.c)(parseInt(r), d && a?.gid ? [a.gid] : []),
          [h, E] = (0, i.useState)(n.Summary),
          S = g?.get(a.gid),
          y = !a || !S || 1 == _;
        return a.cancelled || a.deleted
          ? null
          : i.createElement(
              "div",
              { className: (0, l.A)(m.DailyDeal_HistoryContainer), ref: t },
              i.createElement(
                "div",
                { className: m.HistoryTitleRow },
                i.createElement(
                  "div",
                  { className: m.PromoTitle },
                  i.createElement(
                    "span",
                    { className: m.FeaturedDate },
                    (0, o.TW)(a.rtime32_start_time),
                  ),
                  u?.GetName() || a?.store_item_name,
                ),
                i.createElement(w, { tab: h, setTab: E }),
              ),
              y
                ? i.createElement(R, null)
                : i.createElement(b, {
                    key: a.gid,
                    tab: h,
                    deal: a,
                    reportData: S,
                  }),
            );
      });
      function b(e) {
        const { tab: t, deal: a, reportData: r } = e,
          [l, o] = (0, s.G6)(a?.store_item_id, (0, c.Dw)(a?.store_item_type), {
            include_assets: !0,
          });
        let d = null;
        if (1 == o) d = i.createElement(R, null);
        else
          switch (t) {
            case n.Summary:
              d = i.createElement(I, { reportData: r, deal: a, storeItem: l });
              break;
            case n.Sales:
              d = i.createElement(D, { reportData: r, deal: a, storeItem: l });
              break;
            case n.Marketing:
              d = i.createElement(C, { reportData: r, deal: a, storeItem: l });
          }
        return i.createElement("div", { className: m.PromotionReportBody }, d);
      }
      function w(e) {
        const { tab: t, setTab: a } = e,
          r = i.useMemo(
            () => [
              { type: n.Summary, text: (0, o.we)("#DailyDeals_Tab_Summary") },
              { type: n.Sales, text: (0, o.we)("#DailyDeals_Tab_Sales") },
              {
                type: n.Marketing,
                text: (0, o.we)("#DailyDeals_Tab_Marketing"),
              },
            ],
            [],
          );
        return i.createElement(
          "div",
          { className: m.ReportTabContainer },
          r.map((e) =>
            i.createElement(
              "div",
              {
                key: e.type,
                className: (0, l.A)(m.ReportTab, t == e.type && m.Highlighted),
                onClick: () => a(e.type),
              },
              e.text,
            ),
          ),
        );
      }
      function D(e) {
        const { reportData: t, deal: a, storeItem: n } = e,
          { rgDiscounts: s } = (0, r.Y4)(a),
          [c, p] = (0, i.useState)("gross_sales"),
          [_, g] = (0, i.useState)(!1),
          h = (e) => {
            g(c == e && !_), p(e);
          },
          [E, S] = i.useMemo(() => {
            let e = [];
            t.products?.forEach((t) => e.push(t.packageid));
            let a = 0;
            return (
              t.products?.forEach((e) => {
                e.gross_sales > a && (a = e.gross_sales);
              }),
              [e, a]
            );
          }, [t.products]);
        let v;
        return (
          (v = n?.GetAssets().GetHeaderURL()
            ? i.createElement("img", { src: n.GetAssets().GetHeaderURL() })
            : n
              ? (0, o.we)("#DailyDeals_HeaderArtMissing")
              : (0, o.we)("#DailyDeals_StoreItem_Hidden")),
          i.createElement(
            "div",
            { className: m.DailyDeal_HistoryTable },
            i.createElement(B, { dealID: a.gid }, v),
            i.createElement(
              "div",
              { className: m.Cell },
              t?.marketing?.length > 1 &&
                i.createElement(T, { nGames: t.marketing.length }),
            ),
            i.createElement("div", { className: m.Cell }),
            i.createElement(A, {
              columnSortID: "gross_sales",
              valueClassName: m.BlueHighlight,
              strHeaderToken: "#DailyDeals_Report_Revenue",
              value: t?.gross_sales,
              valueFormat: "dollars",
              OnClick: h,
              sortColumn: c,
              sortAscending: _,
            }),
            i.createElement(A, {
              columnSortID: "units",
              strHeaderToken: "#DailyDeals_Report_Units",
              value: t?.units,
              OnClick: h,
              sortColumn: c,
              sortAscending: _,
            }),
            i.createElement(A, {
              columnSortID: "gross_activations",
              strHeaderToken: "#DailyDeals_Report_Activations",
              value: t?.gross_activations,
              OnClick: h,
              sortColumn: c,
              sortAscending: _,
            }),
            t.products
              ?.filter((e) => e.units > 0 || e.gross_activations > 0)
              .sort((e, t) =>
                (function (e, t, a, n) {
                  const r = e[a] ?? 0,
                    i = t[a] ?? 0;
                  if (r != i) return n ? (r > i ? 1 : -1) : r > i ? -1 : 1;
                  return 0;
                })(e, t, c, _),
              )
              .map((e) =>
                i.createElement(
                  "div",
                  { key: e.packageid, className: m.DetailRow },
                  i.createElement(
                    "a",
                    {
                      className: (0, l.A)(m.Cell, m.SalesPackageTitleCell),
                      href: `${y.TS.PARTNER_BASE_URL}store/packagelanding/${e.packageid}`,
                    },
                    e.package_name ??
                      `${(0, o.we)("#Sale_Stats_PackageId")}: ${e.packageid}`,
                    i.createElement(P, {
                      percentage:
                        s.find((t) => t.packageID == e.packageid)
                          ?.nDiscountPct ?? 0,
                    }),
                  ),
                  i.createElement(
                    "div",
                    { className: m.SalesBarChartContainer },
                    i.createElement("div", {
                      className: m.SalesBarChart,
                      style: { width: (100 * e.gross_sales) / S + "%" },
                    }),
                  ),
                  i.createElement(
                    "div",
                    {
                      className: (0, l.A)(m.Cell, m.SalesCell, m.BlueHighlight),
                    },
                    e.gross_sales ? (0, d.xE)(e.gross_sales) : "",
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.SalesCell) },
                    e.units ? (0, u.Dq)(e.units) : "",
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.SalesCell) },
                    e.gross_activations > 0
                      ? (0, u.Dq)(e.gross_activations)
                      : "",
                  ),
                ),
              ),
          )
        );
      }
      function C(e) {
        const { reportData: t, deal: a, storeItem: n } = e,
          r = (0, h.CH)(),
          [s, c] = (0, i.useState)("visits"),
          [d, p] = (0, i.useState)(!1),
          E = (e) => {
            p(s == e && !d), c(e);
          },
          S = i.useMemo(() => {
            let e = [];
            return t.marketing?.forEach((t) => e.push(t.appid)), e;
          }, [t]),
          y = (0, g.m)("DealyDealHistorySales");
        let v;
        return (
          i.useEffect(() => {
            _.A.Get()
              .HintLoadStoreApps(S, { include_basic_info: !0 })
              .then(() => r());
          }, [S, y, r]),
          (v = n?.GetAssets().GetHeaderURL()
            ? i.createElement("img", { src: n.GetAssets().GetHeaderURL() })
            : n
              ? (0, o.we)("#DailyDeals_HeaderArtMissing")
              : (0, o.we)("#DailyDeals_StoreItem_Hidden")),
          i.createElement(
            "div",
            { className: m.DailyDeal_HistoryTable },
            i.createElement(B, { dealID: a.gid }, v),
            i.createElement(
              "div",
              { className: m.Cell },
              t?.marketing?.length > 1 &&
                i.createElement(T, { nGames: t.marketing.length }),
            ),
            i.createElement(A, {
              columnSortID: "visits",
              strHeaderToken: "#DailyDeals_Report_Visits",
              value: t?.visits,
              OnClick: E,
              sortColumn: s,
              sortAscending: d,
            }),
            i.createElement(A, {
              columnSortID: "impressions",
              strHeaderToken: "#DailyDeals_Report_Impressions",
              value: t?.impressions,
              OnClick: E,
              sortColumn: s,
              sortAscending: d,
            }),
            i.createElement(A, {
              columnSortID: "wishlist_additions",
              strHeaderToken: "#DailyDeals_Report_Wishlists",
              value: t?.wishlist_additions,
              OnClick: E,
              sortColumn: s,
              sortAscending: d,
            }),
            i.createElement(A, {
              columnSortID: "wishlist_purchases",
              strHeaderToken: "#DailyDeals_Report_WishlistPurchases",
              value: t?.wishlist_purchases,
              OnClick: E,
              sortColumn: s,
              sortAscending: d,
            }),
            t.marketing
              ?.sort((e, t) =>
                (function (e, t, a, n) {
                  const r = e[a] ?? 0,
                    i = t[a] ?? 0;
                  if (r != i) return n ? (r > i ? 1 : -1) : r > i ? -1 : 1;
                  return 0;
                })(e, t, s, d),
              )
              .map((e) =>
                i.createElement(
                  "div",
                  { className: m.DetailRow, key: e.appid },
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.MarketingAppTitleCell) },
                    (_.A.Get().GetApp(e.appid)?.GetName() ?? "") +
                      " (#" +
                      e.appid +
                      ")",
                  ),
                  i.createElement("div", {
                    className: (0, l.A)(m.Cell, m.MarketingCell),
                  }),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.MarketingCell) },
                    (0, u.Dq)(e.visits ?? 0),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.MarketingCell) },
                    (0, u.Dq)(e.impressions ?? 0),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.MarketingCell) },
                    (0, u.Dq)(e.wishlist_additions ?? 0),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.Cell, m.MarketingCell) },
                    (0, u.Dq)(e.wishlist_purchases ?? 0),
                  ),
                ),
              ),
          )
        );
      }
      function I(e) {
        const { reportData: t, deal: a, storeItem: n } = e;
        let r;
        return (
          (r = n?.GetAssets().GetHeaderURL()
            ? i.createElement("img", { src: n.GetAssets().GetHeaderURL() })
            : n
              ? (0, o.we)("#DailyDeals_HeaderArtMissing")
              : (0, o.we)("#DailyDeals_StoreItem_Hidden")),
          i.createElement(
            "div",
            { className: m.DailyDeal_HistoryTable },
            i.createElement(B, { dealID: a.gid }, r),
            i.createElement(
              "div",
              { className: m.Cell },
              t?.marketing?.length > 1 &&
                i.createElement(T, { nGames: t.marketing.length }),
            ),
            i.createElement("div", { className: m.Cell }),
            i.createElement(
              "div",
              { className: m.Cell },
              t?.impressions &&
                i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: m.HighlightHeader },
                    (0, o.we)("#DailyDeals_Report_Impressions"),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.HighlightValue, m.Revenue) },
                    (0, u.Dq)(t.impressions),
                  ),
                ),
            ),
            i.createElement(
              "div",
              { className: m.Cell },
              t?.gross_sales &&
                i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: m.HighlightHeader },
                    (0, o.we)("#DailyDeals_Report_Revenue"),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, l.A)(m.HighlightValue, m.Revenue) },
                    t.gross_sales ? (0, d.xE)(t.gross_sales) : "?",
                  ),
                ),
            ),
            i.createElement(
              "div",
              { className: m.Cell },
              null != t?.units &&
                i.createElement(
                  "div",
                  { className: m.RightColumnRow },
                  i.createElement(
                    "div",
                    { className: m.RightColumnLabel },
                    (0, o.we)("#DailyDeals_Report_Units"),
                  ),
                  i.createElement(
                    "div",
                    { className: m.RightColumnData },
                    (0, u.Dq)(t.units),
                  ),
                ),
              null != t?.wishlist_additions &&
                i.createElement(
                  "div",
                  { className: m.RightColumnRow },
                  i.createElement(
                    "div",
                    { className: m.RightColumnLabel },
                    (0, o.we)("#DailyDeals_Report_Wishlists"),
                  ),
                  i.createElement(
                    "div",
                    { className: m.RightColumnData },
                    "+",
                    (0, u.Dq)(t.wishlist_additions),
                  ),
                ),
              null != t?.wishlist_purchases &&
                i.createElement(
                  "div",
                  { className: m.RightColumnRow },
                  i.createElement(
                    "div",
                    { className: m.RightColumnLabel },
                    (0, o.we)("#DailyDeals_Report_WishlistPurchases"),
                  ),
                  i.createElement(
                    "div",
                    { className: m.RightColumnData },
                    (0, u.Dq)(t.wishlist_purchases),
                  ),
                ),
              null != t?.visits &&
                i.createElement(
                  "div",
                  { className: m.RightColumnRow },
                  i.createElement(
                    "div",
                    { className: m.RightColumnLabel },
                    (0, o.we)("#DailyDeals_Report_Visits"),
                  ),
                  i.createElement(
                    "div",
                    { className: m.RightColumnData },
                    (0, u.Dq)(t.visits),
                  ),
                ),
            ),
          )
        );
      }
      function B(e) {
        return i.createElement(
          "a",
          {
            className: m.CapsuleContainer,
            href: `${y.TS.PARTNER_BASE_URL}promotion/dailydeals/edit/${e.dealID}`,
          },
          e.children,
        );
      }
      function T(e) {
        const { nGames: t } = e;
        return t <= 0
          ? null
          : i.createElement(
              "div",
              { className: m.GameCountInfo },
              i.createElement(M, { className: m.GameCountBadge }),
              i.createElement(
                "div",
                { className: m.GameCountContent },
                i.createElement("span", { className: m.GameCount }, t),
                i.createElement(
                  "span",
                  { className: m.GamesLabel },
                  (0, o.we)("#DailyDeals_GamesHeader"),
                ),
              ),
            );
      }
      function M(e) {
        return i.createElement(
          "svg",
          { xmlns: "http://www.w3.org/2000/svg", ...e },
          i.createElement("circle", {
            fill: "currentColor",
            cx: 38,
            cy: 38,
            r: 38,
          }),
        );
      }
      function A(e) {
        const {
            OnClick: t,
            columnSortID: a,
            value: n,
            valueFormat: r,
            sortColumn: s,
            sortAscending: c,
            strHeaderToken: p,
            valueClassName: _,
          } = e,
          g = "dollars" == r ? (0, d.xE)(n ?? 0) : (0, u.Dq)(n ?? 0),
          h = (0, l.A)(m.HighlightHeader, s == a ? m.ActiveSortColumn : "");
        return i.createElement(
          "div",
          {
            className: (0, l.A)(m.Cell, m.ClickableHeader),
            onClick: () => t(a),
          },
          null != n &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                { className: h },
                (0, o.we)(p),
                s == a && i.createElement(k, { bAscending: c }),
              ),
              i.createElement(
                "div",
                { className: (0, l.A)(m.HighlightValue, _) },
                g,
              ),
            ),
        );
      }
      function k(e) {
        return i.createElement(
          "span",
          {
            className: (0, l.A)(
              m.ColumnSortIndicator,
              e.bAscending ? m.Ascending : m.Descending,
            ),
          },
          i.createElement(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: "16",
              height: "11",
              viewBox: "0 0 16 11",
              fill: "white",
            },
            i.createElement("path", {
              d: "M7.89941 0.899495H15.7989L7.89941 10.799L-8.12789e-05 0.899495H7.89941Z",
              fill: "white",
            }),
          ),
        );
      }
      function R() {
        return i.createElement(
          "div",
          { className: m.ReportThrobberContainer },
          i.createElement(S.t, {
            size: "medium",
            position: "center",
            className: m.ReportThrobber,
          }),
        );
      }
      function P(e) {
        const { percentage: t } = e;
        return t
          ? i.createElement(
              "div",
              { className: m.DiscountPercentageContainer },
              i.createElement(
                "div",
                { className: m.DiscountPercentage },
                t,
                "%",
              ),
            )
          : null;
      }
    },
    62137: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => d, u: () => m });
      var n = a(41735),
        r = a.n(n),
        i = a(48996),
        s = a(90626),
        l = a(22797),
        o = a(61859),
        c = a(78327);
      function m(e) {
        const { bSkipLoadingPackages: t } = e,
          a = (0, c.Tc)("package_discount_to_batchload", "application_config");
        return t
          ? s.createElement(s.Fragment, null, e.children)
          : s.createElement(
              d,
              { rgPackagesToLoad: a, size: "medium" },
              e.children,
            );
      }
      function d(e) {
        const { rgPackagesToLoad: t } = e,
          a = (0, i.zq)(),
          [n, c] = s.useState(t?.length > 0);
        return (
          s.useEffect(() => {
            const e = r().CancelToken.source();
            return (
              t?.length > 0
                ? a(t).then(() => {
                    e.token.reason || c(!1);
                  })
                : c(!1),
              () => e.cancel("unmounting WithPackagesDiscountLoaded")
            );
          }, [a, t]),
          n
            ? s.createElement(l.t, {
                position: "center",
                string: (0, o.we)("#DailyDeals_LoadingPackageDiscounts"),
                size: e.size,
              })
            : s.createElement(s.Fragment, null, e.children)
        );
      }
    },
    96743: (e, t, a) => {
      "use strict";
      a.d(t, { Es: () => c });
      var n = a(90626),
        r = a(61859),
        i = a(78327),
        s = a(77958);
      function l(e) {
        return n.createElement(
          "div",
          { className: s.InfoRow },
          n.createElement(
            "div",
            { className: s.InfoSection },
            n.createElement(
              "div",
              { className: s.Title },
              (0, r.we)("#DailyDeals_Info_How"),
            ),
            n.createElement(
              "div",
              null,
              (0, r.we)("#DailyDeals_Info_How_Overview"),
            ),
            n.createElement(
              "ul",
              null,
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_How1")),
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_How2")),
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_How3")),
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_How4")),
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_How5")),
            ),
            n.createElement(
              "div",
              { className: s.MoreInfo },
              (0, r.PP)(
                "#DailyDeals_Info_Question",
                n.createElement(
                  "a",
                  {
                    href:
                      i.TS.HELP_BASE_URL +
                      "en/wizard/HelpWithPublishing?issueid=919",
                  },
                  (0, r.we)("#DailyDeals_Info_Contact"),
                ),
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: s.InfoSection },
            n.createElement(
              "div",
              { className: s.Title },
              (0, r.we)("#DailyDeals_Info_Best"),
            ),
            n.createElement(
              "ul",
              null,
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_Best1")),
              n.createElement("li", null, (0, r.we)("#DailyDeals_Info_Best2")),
            ),
            n.createElement(
              "div",
              { className: s.MoreInfo },
              (0, r.oW)(
                "#DailyDeals_Info_Best_ReadMore",
                n.createElement("a", {
                  href: `${i.TS.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                  target: "_blank",
                }),
              ),
            ),
          ),
        );
      }
      function o(e) {
        return n.createElement(
          "div",
          { className: s.InfoRow },
          n.createElement(
            "div",
            { className: s.InfoSection },
            n.createElement(
              "div",
              { className: s.Title },
              (0, r.we)("#DailyDeals_Visibility"),
            ),
            n.createElement("img", {
              className: s.DDVisibilityExample,
              src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/DailyDealVisibilityExample.jpg",
              alt: "Daily Deal Example",
            }),
          ),
        );
      }
      function c() {
        return n.createElement(
          "div",
          { className: s.PartnerFooter },
          n.createElement(l, null),
          n.createElement(o, null),
        );
      }
    },
    29341: (e, t, a) => {
      "use strict";
      a.d(t, {
        C7: () => oe,
        mf: () => _e,
        kT: () => re,
        rX: () => me,
        cm: () => ie,
        Do: () => ge,
        Z2: () => Se,
      });
      var n = a(86318),
        r = a(32179),
        i = a(75493),
        s = a(11542),
        l = a(9907),
        o = a(52625),
        c = a(90031),
        m = a(96001),
        d = a(90626),
        u = a(75233),
        p = a(55263),
        _ = a(45737),
        g = a.n(_),
        h = a(16676),
        E = a(84811),
        S = a(95695),
        y = a.n(S),
        v = a(80675),
        f = a.n(v),
        b = a(99637),
        w = a(9154),
        D = a(738),
        C = a(22797),
        I = a(52038),
        B = a(56011),
        T = a(61859),
        M = a(14771),
        A = a(78327),
        k = a(94238),
        R = a(10698),
        P = a(95034),
        N = a(38135),
        G = a(41735),
        O = a.n(G),
        F = a(6144),
        L = a(94511),
        U = a(41547),
        z = a(40357);
      function x(e) {
        const [t, a] = d.useState(""),
          [n] = d.useState(new F.LU()),
          [r, i] = d.useState(new Array()),
          [s, l] = d.useState(!1),
          o = d.useCallback(async (e) => {
            l(!0);
            const t = { json: 1, search: e },
              a = `${A.TS.PARTNER_BASE_URL}promotion/dailydeals/ajaxsearcharchives`,
              n = await O().get(a, { params: t, withCredentials: !0 });
            200 == n?.status &&
              1 == n.data?.success &&
              i(
                n.data.matches.sort(
                  (e, t) => t.rtime32_start_time - e.rtime32_start_time,
                ),
              ),
              l(!1);
          }, []),
          c = d.useCallback(
            (e) => {
              const t = e?.target?.value?.toLocaleLowerCase();
              if (t)
                if ((n.Cancel(), a(t), t.trim().length > 1)) {
                  const e = 1e3;
                  n.Schedule(e, () => o(t));
                } else n.Cancel();
            },
            [n, o],
          );
        return d.createElement(
          "div",
          { className: L.SearchCtn },
          d.createElement(
            "div",
            null,
            "Search Upcoming, Active, and Archived Daily Deals",
          ),
          d.createElement("hr", null),
          d.createElement(h.pd, {
            type: "text",
            label: "Search",
            placeholder: "Enter Name or App ID (3 characters at least)",
            onChange: c,
            disabled: s,
          }),
          Boolean(s) &&
            d.createElement(C.t, { size: "small", position: "center" }),
          Boolean(t && r.length > 0)
            ? d.createElement(
                d.Fragment,
                null,
                d.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Matching Results:",
                ),
                r.map((e) => d.createElement(q, { deal: e, key: e.gid })),
              )
            : d.createElement(
                "div",
                { className: "DialogLabel" },
                "No matching results",
              ),
        );
      }
      function q(e) {
        const { deal: t } = e,
          {
            nDiscountPercentHigh: a,
            dtDiscountStart: n,
            dtDiscountEnd: r,
          } = (0, o.Y4)(t);
        let i = d.useMemo(() => (0, o.Dt)(t, a), [t, a]),
          s = null;
        if (i == o.of.DealFailed)
          s = d.createElement(_e, {
            strMessage: (0, T.we)("#DailyDeals_DealFailed"),
          });
        else if (i == o.of.DealCompleted) {
          if (t.rtime32_start_time >= 1727802e3)
            return d.createElement(
              "div",
              null,
              d.createElement(z.A, {
                key: "rpt_" + t.gid,
                deal: t,
                strPublisherID: "0",
              }),
            );
          s = d.createElement(
            _e,
            null,
            d.createElement(ge, {
              deal: t,
              eDealState: i,
              dtDiscountStart: n,
              dtDiscountEnd: r,
            }),
          );
        } else
          i == o.of.Cancelled &&
            (s = d.createElement(_e, {
              strMessage: (0, T.we)("#DailyDeals_DealCancelled"),
            }));
        return d.createElement(
          "div",
          { className: L.ResultRow },
          d.createElement(
            "div",
            {
              style: {
                minWidth: "400px",
                wordWrap: "break-word",
                maxWidth: "400px",
              },
            },
            d.createElement(U.yz, { oDailyDeal: t, bShowName: !0 }),
          ),
          d.createElement(
            "span",
            { style: { width: "200px", paddingLeft: 10, alignSelf: "center" } },
            (0, T.TW)(t.rtime32_start_time, !1),
          ),
          s,
        );
      }
      var W = a(92360),
        j = a(43733),
        H = a(30470);
      function V(e) {
        const t = (0, o.zy)(),
          a = Math.floor(Date.now() / 1e3) - M.Kp.PerDay,
          n = t?.filter((e) => e.rtime32_start_time < a);
        return H.iA.is_support
          ? d.createElement(
              "div",
              null,
              d.createElement(
                "div",
                { style: { fontSize: 15, paddingTop: 10, paddingBottom: 10 } },
                "Below are reports for Daily Deals during the past week",
              ),
              d.createElement(oe, {
                rgDeals: n,
                strPublisherID: "0",
                bHideHeader: !0,
              }),
            )
          : null;
      }
      function K() {
        const [e, t] = (0, P.QD)("tab", "calendar"),
          a = (e) => t(e.key),
          n = [
            {
              name: "Calendar",
              key: "calendar",
              contents: d.createElement(
                E.tH,
                null,
                d.createElement(U.rE, null),
              ),
              onClick: a,
            },
            {
              name: "Invitation",
              key: "invites",
              contents: d.createElement(
                E.tH,
                null,
                d.createElement(W.Ak, null),
              ),
              onClick: a,
            },
            {
              name: "Search",
              key: "search",
              contents: d.createElement(E.tH, null, d.createElement(x, null)),
              onClick: a,
            },
            {
              name: "History",
              key: "history",
              contents: d.createElement(E.tH, null, d.createElement(V, null)),
              onClick: a,
            },
          ];
        return d.createElement(
          "div",
          { className: g().AdminPageCtn },
          d.createElement(
            "div",
            { className: g().PageTitle },
            "Daily Deal Scheduler (VO)",
          ),
          d.createElement(
            "div",
            { style: { display: "flex", justifyContent: "space-between" } },
            d.createElement(
              "div",
              null,
              "This view is Valve-only. To see the view as a partner, simply append a partnerID to the end of the URL",
            ),
            d.createElement(j._, null),
          ),
          d.createElement("hr", { className: "VO" }),
          d.createElement(N.V, { tabs: n, startingTab: e }),
        );
      }
      var Y = a(18509),
        $ = a(96743),
        J = a(8955),
        X = a(16856),
        Q = a(23275),
        Z = a(17720),
        ee = a(64399),
        te = a(61732),
        ae = a(82097),
        ne = a(45325);
      function re(e) {
        const [t, a] = (0, s.hn)(),
          n = (0, i.V)(),
          r = !n && A.iA.is_support;
        return (
          d.useEffect(() => a(), [a]),
          d.createElement(
            E.tH,
            null,
            Boolean(r)
              ? d.createElement(K, null)
              : d.createElement(ie, { strPublisherID: n.toString() }),
          )
        );
      }
      function ie(e) {
        const { strPublisherID: t } = e,
          a = (0, c.ho)(1),
          n = Number.parseInt(t),
          [i] = (0, r.UA)(n),
          s = (0, o.zy)(),
          [l, m] = d.useState(""),
          u = d.useRef(0);
        d.useEffect(() => () => window.clearTimeout(u.current), []);
        const [p, _] = (0, d.useMemo)(() => {
            let e = new Array(),
              t = new Array();
            return (
              a.forEach((a) => {
                (0, ne.IA)(a) ? e.push(a) : t.push(a);
              }),
              [e, t]
            );
          }, [a]),
          E = (0, o.we)(s),
          [S, y, v] = (0, d.useMemo)(() => {
            let e = new Array(),
              t = new Array(),
              a = new Array();
            const n = Date.now() / 1e3;
            return (
              s.forEach((r, i) => {
                if (r.store_item_id) {
                  const { nDiscountPercentHigh: s } = E[i];
                  !r.cancelled && 0 == s && r.rtime32_start_time > n
                    ? t.push(r)
                    : r.cancelled || r.rtime32_start_time + M.Kp.PerDay < n
                      ? a.push(r)
                      : e.push(r);
                }
              }),
              [t, e, a]
            );
          }, [s, E]),
          [f, b, w, D, I] = (0, d.useMemo)(() => {
            if (!l) return [S, y, v, p, _];
            const e = (e) => {
              const t = (0, te.kf)(l);
              if (e.hasOwnProperty("rtexpiretime")) {
                const a = e;
                if (a.appid) {
                  const e = ae.A.Get().GetApp(a.appid);
                  return (
                    (t && parseInt(l) == e?.GetAppID()) ||
                    e?.GetName().toLowerCase().includes(l)
                  );
                }
                if (a.packageid) {
                  const e = ae.A.Get().GetPackage(a.packageid);
                  return (
                    (t && parseInt(l) == e?.GetAppID()) ||
                    e?.GetName().toLowerCase().includes(l)
                  );
                }
                {
                  const e = ae.A.Get().GetBundle(a.bundleid);
                  return (
                    (t && e?.GetIncludedAppIDs().includes(parseInt(l))) ||
                    e?.GetName().toLowerCase().includes(l)
                  );
                }
              }
              {
                const a = e;
                return (
                  a.store_item_name?.toLowerCase().includes(l) ||
                  (t && a.store_item_id == parseInt(l))
                );
              }
            };
            return [
              S.filter(e),
              y.filter(e),
              v.filter(e),
              p.filter(e),
              _.filter(e),
            ];
          }, [S, y, v, p, _, l]);
        return n
          ? !E && s?.length > 0
            ? d.createElement(C.t, {
                string: (0, T.we)("#DailyDeals_LoadingDiscountInfo"),
                size: "medium",
                position: "center",
              })
            : d.createElement(
                "div",
                { className: g().AdminPageCtn },
                d.createElement(
                  "div",
                  { className: g().PageTitle },
                  i?.name
                    ? (0, T.PP)(
                        "#DailyDeals_Dashboard_Partner_Title",
                        d.createElement("span", null, i.name),
                      )
                    : (0, T.we)("#DailyDeals_Dashboard"),
                  d.createElement(
                    "div",
                    { className: g().Beta },
                    (0, T.we)("#NewToolTitleSuffix_Beta"),
                  ),
                  d.createElement(
                    "div",
                    { className: J.SearchContainer },
                    d.createElement(h.pd, {
                      type: "text",
                      placeholder: (0, T.we)(
                        "#DailyDeals_PartnerDashboard_ArchiveSearch",
                      ),
                      onChange: (e) => {
                        window.clearTimeout(u.current),
                          (u.current = window.setTimeout(
                            () => m(e?.target?.value?.toLocaleLowerCase()),
                            500,
                          ));
                      },
                    }),
                  ),
                ),
                d.createElement("hr", null),
                d.createElement(se, {
                  rgInvites: D,
                  rgIncompleteDeals: f,
                  strPublisherID: t,
                }),
                d.createElement(le, { rgDeals: b, strPublisherID: t }),
                d.createElement(oe, {
                  rgInvites: I,
                  rgDeals: w,
                  strPublisherID: t,
                }),
                d.createElement($.Es, null),
              )
          : d.createElement(
              "div",
              null,
              (0, T.we)("#DailyDeals_InvalidPartner"),
            );
      }
      function se(e) {
        const { rgInvites: t, rgIncompleteDeals: a, strPublisherID: n } = e;
        return 0 == t.length && 0 == a.length
          ? d.createElement(
              "div",
              null,
              d.createElement(
                "div",
                { className: J.PartnerDashboard_InvitationHeader },
                (0, T.we)("#DailyDeals_PartnerDashboard_Invitations"),
              ),
              d.createElement(
                "div",
                { className: J.PartnerDashboard_NoInvites },
                (0, T.oW)(
                  "#DailyDeals_PartnerDashboard_NoInvites",
                  d.createElement("a", {
                    href: `${A.TS.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                    target: "_blank",
                  }),
                ),
              ),
            )
          : d.createElement(
              "div",
              null,
              d.createElement(
                "div",
                { className: J.PartnerDashboard_InvitationHeader },
                (0, T.we)("#DailyDeals_PartnerDashboard_Incomplete"),
                d.createElement(
                  "span",
                  { className: J.PartnerDashboard_Incomplete_Description },
                  (0, T.we)(
                    "#DailyDeals_PartnerDashboard_Incomplete_Description",
                  ),
                ),
              ),
              t.map((e) =>
                d.createElement(me, {
                  key: "invite_" + e.inviteid,
                  strPublisherID: n,
                  invite: e,
                  containerClass: J.PartnerDashboard_Invite,
                }),
              ),
              a.map((e) =>
                d.createElement(ce, {
                  key: "inc_" + e.gid,
                  deal: e,
                  strPublisherID: n,
                }),
              ),
            );
      }
      function le(e) {
        const { rgDeals: t, strPublisherID: a } = e;
        return d.createElement(
          "div",
          null,
          d.createElement(
            "div",
            { className: J.PartnerDashboard_ScheduledHeader },
            (0, T.we)("#DailyDeals_PartnerDashboard_Scheduled"),
          ),
          0 == t.length
            ? d.createElement(
                "div",
                { className: J.PartnerDashboard_NoInvites },
                (0, T.we)("#DailyDeals_PartnerDashboard_NoScheduled"),
              )
            : d.createElement(
                d.Fragment,
                null,
                t.map((e) =>
                  d.createElement(ce, {
                    key: "ud_" + e.gid,
                    deal: e,
                    strPublisherID: a,
                  }),
                ),
              ),
        );
      }
      function oe(e) {
        const {
            rgInvites: t,
            rgDeals: a,
            strPublisherID: n,
            bHideHeader: r,
          } = e,
          i = (0, d.useMemo)(() => t ?? [], [t]),
          s = i.filter((e) => !!e.appid).map((e) => e.appid),
          l = i.filter((e) => !!e.packageid).map((e) => e.packageid),
          o = i.filter((e) => !!e.bundleid).map((e) => e.bundleid),
          c = (0, p.zX)(s, { include_assets: !0 }),
          m = (0, p.gF)(l, { include_assets: !0 }),
          u = (0, p.MS)(o, { include_assets: !0 }),
          [_, g] = d.useState(!1),
          E = d.useMemo(() => {
            let e = [...a, ...i];
            return (
              e.sort((e, t) =>
                (e.hasOwnProperty("rtexpiretime")
                  ? e.rtexpiretime
                  : e.rtime32_start_time) <
                (t.hasOwnProperty("rtexpiretime")
                  ? t.rtexpiretime
                  : t.rtime32_start_time)
                  ? 1
                  : -1,
              ),
              e
            );
          }, [a, i]);
        if (0 == i.length && 0 == a.length) return null;
        if (1 == c || 1 == m || 1 == u)
          return d.createElement(C.t, {
            position: "center",
            className: J.Throbber,
          });
        const S = !_ && E.length > 3,
          y = S ? J.BottomFade : "";
        return d.createElement(
          "div",
          null,
          !r &&
            d.createElement(
              "div",
              { className: J.PartnerDashboard_HistoryHeader },
              (0, T.we)(
                "#DailyDeals_PartnerDashboard_Archive",
                i.length + a.length,
              ),
            ),
          d.createElement(
            "div",
            { className: y },
            E.map((e, t) =>
              !_ && t >= 3
                ? null
                : e.hasOwnProperty("rtinvitetime")
                  ? d.createElement(me, {
                      key: "invite_" + e.inviteid,
                      invite: e,
                      strPublisherID: n,
                    })
                  : d.createElement(z.A, {
                      key: "rpt_" + e.gid,
                      deal: e,
                      strPublisherID: n,
                    }),
            ),
          ),
          S &&
            d.createElement(
              "div",
              { className: J.ViewAllButton },
              d.createElement(
                h.$n,
                { onClick: () => g(!0) },
                (0, T.we)("#DailyDeals_ViewAll"),
              ),
            ),
          !S &&
            E.length > 3 &&
            d.createElement(
              "div",
              { className: J.ViewAllButton },
              d.createElement(
                h.$n,
                { onClick: () => g(!1) },
                (0, T.we)("#DailyDeals_Collapse"),
              ),
            ),
        );
      }
      function ce(e) {
        const { deal: t, strPublisherID: a } = e,
          { nDiscountPercentHigh: n } = (0, o.Y4)(t),
          r = d.useMemo(() => (0, o.Dt)(t, n), [t, n]),
          [i, s] = (0, p.G6)(t.store_item_id, (0, k.Dw)(t.store_item_type), {
            include_assets: !0,
          });
        if (!i && 1 == s)
          return d.createElement(C.t, {
            string: (0, T.we)("#Loading"),
            size: "small",
            position: "center",
          });
        let l;
        return (
          (l = i?.GetAssets().GetHeaderURL()
            ? d.createElement("img", { src: i.GetAssets().GetHeaderURL() })
            : i
              ? (0, T.we)("#DailyDeals_HeaderArtMissing")
              : (0, T.we)("#DailyDeals_StoreItem_Hidden")),
          d.createElement(
            "div",
            {
              className: (0, I.A)(
                J.DailyDeal_Container,
                r == o.of.Cancelled ? J.Cancelled : "",
              ),
            },
            d.createElement(
              "div",
              { className: J.PromoTitle },
              i?.GetName() || t.store_item_name,
            ),
            d.createElement(
              "div",
              { className: (0, I.A)(J.CapsuleContainer, f().CapsuleContainer) },
              l,
            ),
            d.createElement(ue, { deal: t, strPublisherID: a }),
          )
        );
      }
      function me(e) {
        const {
            strPublisherID: t,
            invite: a,
            containerClass: n,
            children: r,
          } = e,
          [i] = (0, l.MH)(a),
          s = d.useMemo(() => (0, c.kF)(a), [a]);
        return d.createElement(
          "div",
          {
            className: (0, I.A)(
              J.DailyDeal_Container,
              n,
              s == o.of.Cancelled || s == o.of.InviteExpired ? J.Cancelled : "",
            ),
          },
          d.createElement("div", { className: J.PromoTitle }, i?.GetName()),
          d.createElement(Q.t, { invite: a }),
          d.createElement(de, { invite: a, strPublisherID: t }, r),
        );
      }
      function de(e) {
        const { invite: t, strPublisherID: a, children: n } = e,
          r = d.useMemo(() => (0, c.kF)(t), [t]);
        if (r == o.of.Unknown) return null;
        if (r == o.of.InviteExpired)
          return d.createElement(_e, {
            strMessage: (0, T.we)(
              "#DailyDeals_InviteExpired",
              (0, R.FN)(t?.rtexpiretime),
            ),
          });
        if (r == o.of.Cancelled)
          return d.createElement(_e, {
            strMessage: (0, T.we)("#DailyDeals_InviteCancelled"),
          });
        let i = null,
          s = null;
        const l = () => {
          window.location.assign(
            `${A.TS.PARTNER_BASE_URL}promotion${X.PromotionRoutes.DailyDealInviteDashboard(t?.inviteid.toString())}`,
          );
        };
        return (
          r == o.of.InviteActive
            ? ((i = d.createElement(
                h.$n,
                { className: J.DailyDealButton, onClick: l },
                (0, T.we)("#DailyDeals_PickDate"),
              )),
              (s = d.createElement(
                h.$n,
                {
                  className: (0, I.A)(J.DailyDealButton, J.Disabled),
                  disabled: !0,
                },
                (0, T.we)("#DailyDeals_Button_MustFirstPickDate"),
              )))
            : r == o.of.InviteAccepted &&
              (i = d.createElement(
                "div",
                null,
                (0, T.we)("#DailyDeals_Invite_Accepted"),
              )),
          d.createElement(
            pe,
            { inviteBody: i, discountBody: s, invite: t, displayState: r },
            n,
          )
        );
      }
      function ue(e) {
        const { deal: t, strPublisherID: a, children: n } = e,
          {
            nDiscountPercentHigh: r,
            dtDiscountStart: i,
            dtDiscountEnd: s,
          } = (0, o.Y4)(t);
        let l = d.useMemo(() => (0, o.Dt)(t, r), [t, r]);
        if (!t) return null;
        if (l == o.of.DealFailed)
          return d.createElement(_e, {
            strMessage: (0, T.we)("#DailyDeals_DealFailed"),
          });
        if (l == o.of.DealCompleted)
          return d.createElement(
            _e,
            null,
            d.createElement(ge, {
              deal: t,
              eDealState: l,
              dtDiscountStart: i,
              dtDiscountEnd: s,
            }),
          );
        if (l == o.of.Cancelled)
          return d.createElement(_e, {
            strMessage: (0, T.we)("#DailyDeals_DealCancelled"),
          });
        let c = null,
          m = null;
        const u = (0, k.ls)(a, t.discount_event_id?.toString());
        switch (l) {
          case o.of.InviteAccepted:
            (c = d.createElement(
              "div",
              { className: J.FeaturedDate },
              d.createElement(R.H9, { rtime: t.rtime32_start_time }),
            )),
              (m = d.createElement(
                h.$n,
                {
                  className: J.DailyDealButton,
                  onClick: () => window.location.assign(u),
                },
                (0, T.we)("#DailyDeals_Button_EnterDiscounts"),
              ));
            break;
          case o.of.DealReady:
            (c = d.createElement(ge, {
              deal: t,
              eDealState: l,
              dtDiscountStart: i,
              dtDiscountEnd: s,
            })),
              (m = d.createElement(
                "div",
                { className: J.DiscountButtonRow },
                d.createElement(
                  "div",
                  { className: (0, I.A)(J.DiscountPercentage) },
                  d.createElement(Y.b4, { oDailyDeal: t }),
                ),
                d.createElement(
                  h.$n,
                  {
                    className: (0, I.A)(J.DailyDealButton, J.EditDiscounts),
                    onClick: () => window.location.assign(u),
                  },
                  (0, T.we)("#DailyDeals_Button_EditDiscounts"),
                ),
              ));
            break;
          case o.of.DealLive:
            (c = d.createElement(ge, {
              deal: t,
              eDealState: l,
              dtDiscountStart: i,
              dtDiscountEnd: s,
            })),
              (m = d.createElement(
                h.$n,
                {
                  className: (0, I.A)(J.DailyDealButton, J.DiscountPercentage),
                  disabled: !0,
                },
                d.createElement(Y.b4, { oDailyDeal: t }),
              ));
        }
        return d.createElement(
          pe,
          { inviteBody: c, discountBody: m, displayState: l, deal: t },
          n,
        );
      }
      function pe(e) {
        const {
            inviteBody: t,
            discountBody: a,
            invite: n,
            displayState: r,
            children: i,
            deal: s,
          } = e,
          l = n?.rtexpiretime
            ? (0, T.we)(
                "#DailyDeals_Checkbox_PickDate_By",
                (0, R.FN)(n.rtexpiretime),
              )
            : (0, T.we)("#DailyDeals_PickDate"),
          c =
            r >= o.of.InviteAccepted
              ? d.createElement(h.Yh, {
                  className: (0, I.A)(J.DailyDealCheckbox),
                  label: l,
                  checked: !0,
                  disabled: !0,
                })
              : d.createElement(
                  "div",
                  { className: (0, I.A)(J.DailyDealTitle, J.Orange) },
                  l,
                ),
          m = (0, T.we)("#DailyDeals_Checkbox_EnterDiscount"),
          u =
            r >= o.of.DealReady
              ? d.createElement(h.Yh, {
                  className: (0, I.A)(J.DailyDealCheckbox),
                  label: m,
                  checked: !0,
                  disabled: !0,
                })
              : d.createElement(
                  "div",
                  { className: (0, I.A)(J.DailyDealTitle, J.Orange) },
                  m,
                ),
          p = s?.partner_jsondata ? JSON.parse(s.partner_jsondata) : void 0,
          _ = (0, ee.vv)(p?.sale_clan_event_gid),
          g = (0, d.useMemo)(() => {
            if (_) {
              const e = JSON.parse(
                _.oPlanContainer ? _.oPlanContainer.admin_jsondata : "{}",
              );
              if (e.marked_completed_by_time && e.sale_page_reviewed) return !0;
            }
            return !1;
          }, [_]);
        let E = null,
          S = null;
        if (p) {
          if (p.require_sale_page) {
            const e = p.require_sale_page_type || 1;
            (S = g
              ? d.createElement(h.Yh, {
                  className: (0, I.A)(J.DailyDealCheckbox),
                  label: ye(e),
                  checked: !0,
                  disabled: !0,
                })
              : d.createElement(
                  "div",
                  { className: (0, I.A)(J.DailyDealTitle, J.Orange) },
                  ye(e),
                )),
              (E = p.sale_clan_event_gid
                ? d.createElement(Ee, { deal: s, eRequireSalePageType: e })
                : d.createElement(Se, { deal: s, eRequireSalePageType: e }));
          }
        } else if (n?.require_sale_page) {
          const e = n.require_sale_page_type || 1;
          (E = d.createElement(Se, { eRequireSalePageType: e })),
            (S = d.createElement(
              "div",
              { className: (0, I.A)(J.DailyDealTitle, J.Orange) },
              ye(e),
            ));
        }
        return d.createElement(
          "div",
          { className: J.DailyDealStatusContainer },
          d.createElement(
            "div",
            { className: (0, I.A)(J.Column) },
            c,
            d.createElement("div", { className: J.InviteBody }, t),
          ),
          !!E &&
            d.createElement(
              "div",
              { className: (0, I.A)(J.Column) },
              S,
              d.createElement("div", { className: J.SalePageBody }, E),
            ),
          d.createElement(
            "div",
            { className: (0, I.A)(J.Column) },
            u,
            d.createElement("div", { className: J.DiscountBody }, a),
          ),
          i,
          Boolean(A.iA.is_support && s) &&
            d.createElement(
              "a",
              {
                className: y().ValveOnlyAdminBackground,
                href: `${A.TS.PARTNER_BASE_URL}promotion/dailydeals/edit/${s.gid}`,
              },
              "Edit Deal (VO)",
            ),
        );
      }
      function _e(e) {
        const { strMessage: t, children: a } = e;
        return d.createElement(
          "div",
          { className: J.DailyDealStatusContainer },
          d.createElement(
            "div",
            { className: (0, I.A)(J.Column, J.BasicResult) },
            !!t && d.createElement("div", null, t),
            a,
          ),
        );
      }
      function ge(e) {
        const {
          deal: t,
          eDealState: a,
          dtDiscountStart: n,
          dtDiscountEnd: r,
        } = e;
        let i = null;
        return (
          (i =
            a == o.of.DealLive
              ? d.createElement(
                  "div",
                  { className: J.Orange },
                  (0, T.we)("#DailyDeals_ActiveDeal"),
                )
              : d.createElement(R.H9, {
                  rtime: t.rtime32_start_time,
                  locTokenLocalTime: "#DailyDeals_Feature_Date",
                })),
          d.createElement(
            "div",
            null,
            d.createElement("div", { className: J.FeaturedDate }, i),
            d.createElement(
              "div",
              null,
              (0, T.we)(
                "#DailyDeals_Discount_Dates",
                (0, T.TW)(n),
                (0, T.TW)(r),
              ),
            ),
          )
        );
      }
      function he(e) {
        const {
            closeModal: t,
            deal: a,
            clanID: n,
            clanName: r,
            eRequireSalePageType: s,
          } = e,
          c = (0, u.jE)(),
          [m, p] = (0, d.useState)(a.rtime32_start_time),
          [_, g] = (0, d.useState)(a.rtime32_start_time + M.Kp.PerWeek),
          E = Math.floor(Date.now() / 1e3),
          [S, y] = (0, d.useState)(""),
          { fnSetDailyDealSalePage: v } = (0, o.Yg)(),
          f = (0, i.V)(),
          [D, I] = d.useState(!1);
        return d.createElement(
          w.eV,
          { onCancel: t },
          d.createElement(h.Y9, null, ve(s)),
          d.createElement(
            h.nB,
            null,
            d.createElement(
              "div",
              { className: J.CreateSalePageBody },
              d.createElement(
                "div",
                null,
                (0, T.we)("#DailyDeals_SalePage_CreatorHome_Label"),
                ": ",
                r,
              ),
              d.createElement(
                "div",
                { className: J.CreateSalePageStartDate },
                d.createElement(b.K, {
                  bShowTimeZone: !0,
                  fnIsValidDateTime: () => m <= a.rtime32_start_time,
                  strDescription: (0, T.we)("#DailyDeals_SalePage_SaleStart"),
                  nEarliestTime: E,
                  fnGetTimeToUpdate: () => m,
                  fnSetTimeToUpdate: p,
                }),
              ),
              d.createElement(
                "div",
                { className: J.CreateSalePageEndDate },
                d.createElement(b.K, {
                  bShowTimeZone: !0,
                  fnIsValidDateTime: () =>
                    _ >= a.rtime32_start_time + M.Kp.PerDay,
                  strDescription: (0, T.we)("#DailyDeals_SalePage_SaleEnd"),
                  nEarliestTime: E,
                  fnGetTimeToUpdate: () => _,
                  fnSetTimeToUpdate: g,
                }),
              ),
              !!S &&
                d.createElement("div", { className: J.CreateSalePageError }, S),
              D &&
                d.createElement(C.t, {
                  className: J.InProgressThrobber,
                  size: "small",
                }),
            ),
          ),
          d.createElement(
            h.wi,
            null,
            d.createElement(h.CB, {
              onCancel: t,
              onOK: async () => {
                I(!0);
                const e = await v(a.gid, f, n, m, _, a.store_item_id);
                I(!1),
                  e
                    ? (c.invalidateQueries({
                        queryKey: (0, l.QU)(A.iA.accountid),
                      }),
                      t())
                    : y(
                        (0, T.we)("#DailyDeals_SalePage_ErrorCreatingSalePage"),
                      );
              },
              strOKText: (0, T.we)("#Button_Continue"),
            }),
          ),
        );
      }
      function Ee(e) {
        const { deal: t, eRequireSalePageType: a } = e,
          n = JSON.parse(t.partner_jsondata),
          r = Z.b.InitFromClanID(n?.sale_clan_account);
        return d.createElement(
          "div",
          { className: J.SalePageContainer },
          !!n.sale_clan_event_gid &&
            d.createElement(
              d.Fragment,
              null,
              d.createElement(
                "a",
                {
                  className: (0, I.A)(y().Button, J.EditSaleButton),
                  href:
                    A.TS.COMMUNITY_BASE_URL +
                    "gid/" +
                    r.ConvertTo64BitString() +
                    "/partnerevents/edit/" +
                    n.sale_clan_event_gid +
                    "?tab=sale",
                },
                (0, T.we)("#DailyDeals_Button_EditSalePage"),
              ),
              t.asset_request_id &&
                d.createElement(
                  "a",
                  {
                    className: (0, I.A)(y().Button, J.EditSaleButton),
                    href:
                      A.TS.PARTNER_BASE_URL +
                      "promotion/assetportal/request/" +
                      t.asset_request_id,
                  },
                  (0, T.we)("#DailyDeals_Button_SubmitAssets"),
                ),
              A.iA.is_support &&
                d.createElement(
                  h.$n,
                  {
                    onClick: (e) => {
                      (0, D.pg)(
                        d.createElement(
                          w.eV,
                          null,
                          d.createElement(h.Y9, null, ye(a)),
                          d.createElement(
                            h.nB,
                            null,
                            d.createElement(Se, {
                              deal: t,
                              eRequireSalePageType: a,
                            }),
                          ),
                        ),
                        (0, B.uX)(e),
                      );
                    },
                  },
                  (0, T.we)("#DailyDeals_Button_ChangeSalePage"),
                  " (VO)",
                ),
            ),
        );
      }
      function Se(e) {
        const { deal: t, eRequireSalePageType: a, fnOnSalePageSelected: r } = e,
          s = (0, u.jE)(),
          { fnSetDailyDealSalePage: c } = (0, o.Yg)(),
          p = (0, m.a)(),
          _ = (0, i.V)(),
          g = (0, l.Kt)(A.iA.accountid, p),
          [E, S] = (0, d.useState)(
            JSON.parse(t?.partner_jsondata ?? "{}").sale_clan_account ?? 0,
          ),
          y = (0, d.useMemo)(
            () => g?.find((e) => e.clan_account_id == E),
            [g, E],
          ),
          [v, f] = (0, d.useState)(
            JSON.parse(t?.partner_jsondata ?? "{}").sale_clan_event_gid ?? "",
          ),
          b = A.TS.PARTNER_BASE_URL + "doc/store/creator_homepage",
          w = (0, d.useMemo)(
            () =>
              g
                ? g.map((e) => ({
                    label: e.clan_name,
                    data: e.clan_account_id.toString(),
                  }))
                : [],
            [g],
          ),
          C = (0, d.useMemo)(() => {
            const e = g?.find((e) => e.clan_account_id == E);
            if (e) {
              let n = e.sale_pages
                .filter(
                  (e) =>
                    e.start_time <= t?.rtime32_start_time &&
                    e.end_time > t?.rtime32_start_time + M.Kp.PerDay &&
                    (!a || e.external_sale_event_type == a),
                )
                .map((e) => ({ label: e.name, data: e.gid_clan_event }));
              return (
                n.length &&
                  n.push({
                    label: (0, T.we)("#DailyDeals_SalePage_CreateNew"),
                    data: "",
                  }),
                v &&
                  !n.find((e) => e.data == v) &&
                  n.push({ label: v, data: v }),
                n
              );
            }
            return [];
          }, [t?.rtime32_start_time, g, E, v, a]);
        return t
          ? !E || !v || (g?.length && g?.find((e) => e.clan_account_id == E))
            ? g?.length
              ? d.createElement(
                  "div",
                  { className: J.SalePageContainer },
                  d.createElement(
                    "div",
                    { className: J.SalePageLabel },
                    (0, T.we)("#DailyDeals_SalePage_CreatorHome_Label"),
                  ),
                  d.createElement(
                    "div",
                    { className: J.GroupDropdown },
                    d.createElement(h.ZU, {
                      selectedOption: E.toString(),
                      menuLabel: "clan",
                      rgOptions: w,
                      onChange: (e) => S(parseInt(e.data)),
                    }),
                  ),
                  !!E &&
                    !!C.length &&
                    d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(
                        "div",
                        { className: J.SalePageLabel },
                        (0, T.we)("#DailyDeals_SalePage_SalePage_Label"),
                      ),
                      d.createElement(
                        "div",
                        { className: J.SalePageDropdown },
                        d.createElement(h.ZU, {
                          selectedOption: v.toString(),
                          menuLabel: "salepage",
                          rgOptions: C,
                          onChange: (e) =>
                            ((e) => {
                              if (e == v) return;
                              f(e);
                              const a = g
                                .find((e) => e.clan_account_id == E)
                                ?.sale_pages?.find(
                                  (t) => t.gid_clan_event == e,
                                );
                              a
                                ? (c(
                                    t.gid,
                                    _,
                                    E,
                                    a.start_time,
                                    a.end_time,
                                    t.store_item_id,
                                    a.gid_clan_event,
                                  ),
                                  s.invalidateQueries({
                                    queryKey: (0, l.QU)(A.iA.accountid),
                                  }),
                                  r && r())
                                : (0, n.ZI)(
                                    "Daily Deals - failed to set the daily deal sale page.  Unexpected error loading sale page id:" +
                                      e,
                                  );
                            })(e.data),
                        }),
                      ),
                    ),
                  !!E &&
                    !v &&
                    d.createElement(
                      h.$n,
                      {
                        onClick: (e) => {
                          (0, D.pg)(
                            d.createElement(he, {
                              deal: t,
                              clanID: E,
                              clanName: y.clan_name,
                              eRequireSalePageType: a,
                              closeModal: r,
                            }),
                            (0, B.uX)(e),
                          );
                        },
                      },
                      ve(a),
                    ),
                )
              : d.createElement(
                  "div",
                  {
                    className: (0, I.A)(
                      J.SalePageContainer,
                      J.MissingCreatorHome,
                    ),
                  },
                  (0, T.PP)(
                    "#DailyDeals_SalePage_MissingCreatorHome",
                    d.createElement(
                      "a",
                      { href: b },
                      (0, T.we)("#DailyDeals_SalePage_CreateCreatorHomeLink"),
                    ),
                  ),
                )
            : d.createElement(
                "div",
                { className: J.SalePageContainer },
                d.createElement(
                  "div",
                  null,
                  (0, T.we)("#DailyDeals_SalePage_SalePageCreated"),
                ),
              )
          : d.createElement(
              "div",
              { className: J.SalePageContainer },
              d.createElement(
                h.$n,
                {
                  className: (0, I.A)(J.DailyDealButton, J.Disabled),
                  disabled: !0,
                },
                (0, T.we)("#DailyDeals_Button_MustFirstPickDate"),
              ),
            );
      }
      function ye(e) {
        switch (e) {
          case 1:
            return (0, T.we)("#DailyDeals_SelectSalePage_Title_Publisher");
          case 2:
            return (0, T.we)("#DailyDeals_SelectSalePage_Title_Showcase");
          case 4:
            return (0, T.we)("#DailyDeals_SelectSalePage_Title_Theme");
          case 3:
            return (0, T.we)("#DailyDeals_SelectSalePage_Title_Region");
          case 5:
            return (0, T.we)("#DailyDeals_SelectSalePage_Title_Franchise");
          case 0:
            return "";
        }
      }
      function ve(e) {
        switch (e) {
          case 1:
            return (0, T.we)("#DailyDeals_CreateSalePage_Title_Publisher");
          case 2:
            return (0, T.we)("#DailyDeals_CreateSalePage_Title_Showcase");
          case 4:
            return (0, T.we)("#DailyDeals_CreateSalePage_Title_Theme");
          case 3:
            return (0, T.we)("#DailyDeals_CreateSalePage_Title_Region");
          case 5:
            return (0, T.we)("#DailyDeals_CreateSalePage_Title_Franchise");
          case 0:
            return "";
        }
      }
    },
    93752: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => b, m: () => w });
      var n = a(67239),
        r = a(33428),
        i = a(65946),
        s = a(90626),
        l = a(82359),
        o = a(82097),
        c = a(62792),
        m = a(55263),
        d = a(16676),
        u = a(71298),
        p = a(9154),
        _ = a(738),
        g = a(22797),
        h = a(68797),
        E = a(56011),
        S = a(14771),
        y = a(18345),
        v = a(98459),
        f = a(98076);
      function b(e) {
        const { oEditablePlan: t } = e,
          a = (0, i.q3)(() => t.GetStoreItemKey()),
          [r] = (0, m.G6)(a?.id, (0, c.gy)(a), { include_platforms: !0 });
        return s.createElement(
          "div",
          { className: f.LinkCtn },
          s.createElement(v.M9, {
            name: "Discount Event ID",
            placeHolder: "/admin/editdiscountevent/<grab this ID>",
            id: t.GetDiscountEventID(),
            fnSetID: t.SetDiscountEventID,
            fnGetURL: n.Hm.GetDiscountEditURL,
          }),
          s.createElement(
            "div",
            { className: f.ButtonRow },
            Boolean(r)
              ? s.createElement(
                  d.$n,
                  {
                    onClick: (e) => {
                      (0, _.pg)(
                        s.createElement(D, { oEditablePlan: t, oStoreItem: r }),
                        (0, E.uX)(e),
                      );
                    },
                  },
                  "Create new",
                )
              : s.createElement(
                  "p",
                  null,
                  "Link an individual app in order to easily create a discount event from here. Otherwise, go to discount event editor to create manually.",
                ),
            s.createElement(
              d.$n,
              {
                onClick: (e) => {
                  (0, _.pg)(
                    s.createElement(C, { oEditablePlan: t }),
                    (0, E.uX)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function w(e, t, a, r) {
        const i = new Date(1e3 * t);
        return `${n.W7.get(e)} - ${String(i.getUTCMonth() + 1).padStart(2, "0")}/${String(i.getUTCDate()).padStart(2, "0")}/${String(i.getUTCFullYear()).padStart(2, "0")} - ${a?.GetName() ?? ((0, c.wD))(r)}`;
      }
      function D(e) {
        const { oEditablePlan: t, closeModal: a, oStoreItem: i } = e,
          l = t.GetType(),
          o = t.GetFeaturedItemID(),
          m = t.GetFeaturedItemType(),
          [_, g] = (0, s.useState)(
            w(
              l,
              t.GetStartDate(),
              i,
              (0, c.Je)(i.GetID(), i.GetStoreItemType()),
            ),
          ),
          E = (0, s.useMemo)(() => {
            const e = [];
            return (
              Array.from(n.ZL.values()).forEach((t) => {
                e.indexOf(t) && e.push(t);
              }),
              e.map((e) => ({ label: e, data: e }))
            );
          }, []),
          [v, b] = (0, s.useState)(n.ZL.get(l)),
          [D, C] = (0, s.useState)(t.BHasDiscountEventID()),
          [I, B] = (0, s.useState)(0),
          { fnCreateDiscountEvent: T } = (0, r.ur)(),
          M = (0, u.vs)();
        return M.bLoading
          ? s.createElement(u.Hh, {
              state: M,
              strDialogTitle: "Create New Discount Event",
              closeModal: a,
            })
          : D
            ? s.createElement(p.o0, {
                strTitle: "Create Discount Event?",
                strDescription: `You already have Discount Event with ID ${t.GetDiscountEventID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => C(!1),
                strOKButtonText: "Create Discount Event Anyways",
              })
            : s.createElement(
                p.o0,
                {
                  strTitle: "Create New Discount Event",
                  strDescription:
                    "Create and link a discount event from date range and featured item from the existing plan? ",
                  onCancel: a,
                  bOKDisabled:
                    0 == _.trim().length ||
                    0 == v?.trim().length ||
                    (!t.BHasAssociatedSaleEvent() && !i) ||
                    M.bLoading,
                  bAllowFullSize: !0,
                  className: f.ModalMax,
                  onOK: async () => {
                    M.fnSetLoading(!0);
                    const e = t.GetStartDate(),
                      a = t.GetType();
                    let r = t.GetEndDate();
                    if (n.Qo.has(a)) {
                      r = e + n.Qo.get(a).nDaysDiscountEvent * S.Kp.PerDay;
                    }
                    await T(
                      e,
                      r,
                      _,
                      _,
                      v,
                      0 == I ? null : [I],
                      0 == m ? [o] : i?.GetIncludedAppIDs(),
                    )
                      .then((e) => {
                        e
                          ? (t.SetDiscountEventID(e.id),
                            M.fnSetStrSuccess(
                              "Create Discount Event Successful. Remember to Save the Promotion Plan.",
                            ))
                          : M.fnSetStrError(
                              "Create Discount Event failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "Discount Event Creation Failed: " +
                          (0, h.H)(e).strErrorMsg +
                          ". ";
                        console.log(
                          "discount event create failed",
                          (0, h.H)(e),
                          e,
                        ),
                          M.fnSetStrError(t);
                      });
                  },
                },
                s.createElement("br", null),
                s.createElement("br", null),
                s.createElement(d.pd, {
                  value: _,
                  onChange: (e) => g(e.currentTarget.value),
                  label: "Internal Name",
                }),
                s.createElement(d.m, {
                  label: "Discount Event Label",
                  rgOptions: E,
                  selectedOption: v,
                  onChange: (e) => b(e.data),
                }),
                s.createElement(y.H, {
                  nStoreItemID: o,
                  eStoreItemType: m,
                  nPartnerID: I,
                  setPartnerID: B,
                }),
              );
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          { rgDiscountEvents: n, eResult: i } = (0, r.sU)(),
          [c, m] = (0, s.useState)(null);
        (0, s.useEffect)(() => {
          if (n) {
            const e = new Set();
            n.forEach((t) => t.appids?.forEach((t) => e.add(t))),
              o.A.Get().QueueMultipleAppRequests(Array.from(e), {});
          }
        }, [n]);
        const u = (0, s.useMemo)(
          () =>
            (n || []).map((e) => ({
              label: e.name,
              value: e.id,
              discountEvent: e,
            })),
          [n],
        );
        return n
          ? s.createElement(
              p.o0,
              {
                strTitle: "Select an Upcoming Discount Event",
                strDescription:
                  "This only surfaces active or upcoming Discount Event. This doesn't have access to archived discount events.",
                onCancel: a,
                closeModal: a,
                onOK: () => {
                  t.SetDiscountEventID(c);
                },
                bOKDisabled: Boolean(!c),
              },
              s.createElement(
                "div",
                { className: f.DiscountEventChooser },
                s.createElement(d.JU, null, "Choose Discount Event:"),
                s.createElement(l.Ay, {
                  options: u,
                  value: u.find((e) => e.value === c),
                  onChange: (e) => m(e?.value || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    if (!Boolean(t)) return !0;
                    const a = t.toLowerCase(),
                      n = e.data.discountEvent;
                    return (
                      e.label.toLowerCase().search(a) >= 0 ||
                      n.opt_in_name?.toLowerCase().search(a) >= 0 ||
                      n.appids?.some((e) => {
                        const t = o.A.Get().GetApp(e);
                        return t?.GetName().toLowerCase().search(a) >= 0;
                      })
                    );
                  },
                }),
              ),
            )
          : s.createElement(
              p.o0,
              { strTitle: "Loading Discount Events" },
              s.createElement(g.t, { string: "Loading", size: "medium" }),
            );
      }
    },
    23275: (e, t, a) => {
      "use strict";
      a.d(t, { t: () => u });
      var n = a(9907),
        r = a(90626),
        i = a(22797),
        s = a(52038),
        l = a(61859),
        o = a(78327),
        c = a(8955),
        m = a(80675),
        d = a.n(m);
      function u(e) {
        const { invite: t } = e,
          [a, m] = (0, n.MH)(t);
        let u = o.TS.PARTNER_BASE_URL;
        return (
          t.appid
            ? (u += "apps/landing/" + t.appid)
            : t.bundleid
              ? (u += "bundles/view/" + t.bundleid)
              : t.packageid && (u += "store/packagelanding/" + t.packageid),
          a
            ? t.require_sale_page && !a?.GetAssets().GetHeaderURL()
              ? r.createElement("div", null)
              : r.createElement(
                  "div",
                  {
                    className: (0, s.A)(
                      c.CapsuleContainer,
                      d().CapsuleContainer,
                    ),
                  },
                  a?.GetAssets().GetHeaderURL()
                    ? r.createElement(
                        "a",
                        { href: u },
                        r.createElement("img", {
                          src: a.GetAssets().GetHeaderURL(),
                        }),
                      )
                    : (0, l.we)("#DailyDeals_HeaderArtMissing"),
                )
            : t.bundleid && 2 == m
              ? r.createElement(
                  "a",
                  { href: u },
                  (0, l.we)("#DailyDeals_Bundle"),
                  " ",
                  t.bundleid,
                )
              : t.appid && 2 == m
                ? r.createElement(
                    "a",
                    { href: u },
                    (0, l.we)("#DailyDeals_App"),
                    " ",
                    t.appid,
                  )
                : (t.packageid &&
                    2 == m &&
                    console.error("Unavailable store package:", t.packageid),
                  r.createElement(i.t, {
                    string: (0, l.we)("#Loading"),
                    size: "small",
                    position: "center",
                  }))
        );
      }
    },
    92360: (e, t, a) => {
      "use strict";
      a.d(t, { Ak: () => ae, fU: () => re, Xm: () => te });
      var n = a(64238),
        r = a.n(n),
        i = a(98019),
        s = a(9907),
        l = a(90031),
        o = a(90626),
        c = a(17083),
        m = a(82097),
        d = a(55263),
        u = a(45737),
        p = a.n(u),
        _ = a(16676),
        g = a(71298),
        h = a(9154),
        E = a(738),
        S = a(51272),
        y = a(56011),
        v = a(61859),
        f = a(78327),
        b = a(75493),
        w = a(52625),
        D = a(92082),
        C = a(94238),
        I = a(44165),
        B = a(22797),
        T = a(44332),
        M = a(68797),
        A = a(52038),
        k = a(14771),
        R = a(10698),
        P = a(41547),
        N = a(32570),
        G = a(56330),
        O = a(21432),
        F = a(39102);
      function L(e) {
        const { strInviteID: t } = e,
          a = (0, l.u6)(t),
          { rgDiscountConflict: n, bLoading: r } = (0, D.B)(a);
        return r
          ? o.createElement(B.t, {
              string: (0, v.we)("#DailyDeals_LoadingDiscountInfo"),
              size: "medium",
              position: "center",
            })
          : o.createElement(O.j, {
              nMaxWeeksToDisplay: 26,
              fnCreateCalendarEntries: (e) => {
                const a = new Array();
                for (let r = 0; r < w.aU; ++r) {
                  const i = e + r * k.Kp.PerWeek;
                  a.push(
                    o.createElement(U, {
                      key: "calrow" + r,
                      rtFirstDay: i,
                      strInviteID: t,
                      rgDiscountConflict: n,
                    }),
                  );
                }
                return a;
              },
            });
      }
      function U(e) {
        const { rtFirstDay: t, strInviteID: a, rgDiscountConflict: n } = e,
          r = (0, l.u6)(a),
          i = new Array();
        for (let e = 0; e < 7; ++e) {
          const s = (0, C.TQ)(t + e * k.Kp.PerDay),
            {
              nMaxDiscount: l,
              strDiscountName: c,
              bMajorSale: m,
              strConflict: d,
              nextDiscount: u,
              discountEventID: p,
            } = (0, D.E)(n, r, s, 1);
          i.push(
            o.createElement(z, {
              key: "calday" + s,
              rtDay: s,
              nDiscount: l,
              bMajorSale: m,
              strInviteID: a,
              strConflict: d,
              strDiscountName: c,
              discountEventID: p,
              nextDiscount: u,
            }),
          );
        }
        return o.createElement(
          "div",
          { className: N.CalendarRow },
          i.map((e) =>
            o.createElement(
              "div",
              { className: N.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function z(e) {
        const {
            rtDay: t,
            strInviteID: a,
            strConflict: n,
            nextDiscount: r,
            nDiscount: i,
            strDiscountName: s,
            bMajorSale: l,
            discountEventID: c,
          } = e,
          m = (0, w.D4)(t),
          d = (0, w.z2)(t),
          u = d?.filter((e) => e.eType == w.dl.k_ScheduleSlot).length || 0,
          p = d?.find((e) => e.eType == w.dl.k_BlockDate),
          _ = Boolean(p),
          g = m?.length || 0;
        let h = w.UU;
        if (!n && r?.rtConflictStart) {
          const e = Math.floor(
            (r.rtConflictStart + k.Kp.PerHour - t) / k.Kp.PerDay,
          );
          (0, T.w)(
            r.rtConflictStart > t && e > 0,
            "days until next cooldown conflict is not greater than 0",
          ),
            e > 0 && (h = Math.min(w.UU, w.a4 + (e - 1)));
        }
        const S = I.HD.GetTimeNowWithOverride(),
          v = t > S,
          f = w.Jw - (g + u),
          b = !n && v && !_ && f > 0 && !l;
        return o.createElement(
          P.lx,
          { rtDay: t },
          o.createElement(q, { rgDailyDeals: m }),
          Boolean(b) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement(W, {
                nAvailableSlots: f,
                onClick: (e) => {
                  (0, E.pg)(
                    i
                      ? o.createElement(x, {
                          rtDay: t,
                          strInviteID: a,
                          strDiscountName: s,
                          discountEventID: c,
                        })
                      : o.createElement(R.TI, {
                          rtDay: t,
                          strInviteID: a,
                          nMaxDiscountDays: h,
                          nextDiscount: r,
                        }),
                    (0, y.uX)(e),
                  );
                },
              }),
              Boolean(i) &&
                o.createElement(F.D, { strDiscountName: s, nDiscount: i }),
            ),
          Boolean(l) &&
            o.createElement(F.D, { strDiscountName: s, nDiscount: i }),
          Boolean(!b && v && n) && o.createElement(F.W, { strConflict: n }),
          Boolean(!b && v && !n) &&
            o.createElement(j, { strReason: _ ? p?.name : void 0 }),
        );
      }
      function x(e) {
        const {
            rtDay: t,
            strInviteID: a,
            closeModal: n,
            strDiscountName: r,
            discountEventID: i,
          } = e,
          s = (0, b.V)(),
          c = (0, l.u6)(a),
          { fnAcceptInvitation: m } = (0, l.yl)(),
          d =
            c.appid || c.packageid
              ? (0, v.we)("#AppType_game")
              : (0, v.we)("#AppType_bundle"),
          u = r ? "'" + r + "'" : "",
          p = (0, g.vs)();
        if (!c)
          return o.createElement(h.KG, {
            strDescription: (0, v.we)("#DailyDeals_NoInvitation"),
            closeModal: n,
          });
        const E = (0, v.we)("#DailyDeals_CreateNew", (0, v.TW)(t));
        if (p.bLoading)
          return o.createElement(g.Hh, {
            state: p,
            strDialogTitle: E,
            closeModal: n,
          });
        return o.createElement(
          h.eV,
          { onCancel: n },
          o.createElement(
            _.Y9,
            null,
            " ",
            E || o.createElement(o.Fragment, null, " "),
            " ",
          ),
          o.createElement(
            _.f3,
            null,
            o.createElement(
              _.a3,
              null,
              o.createElement(
                "div",
                { className: G.WarningStylesWithIcon },
                (0, v.we)("#DailyDeals_ReuseInfo", d, u),
              ),
              o.createElement(
                "div",
                null,
                (0, v.PP)(
                  "#DailyDeals_ReuseOptions",
                  o.createElement(
                    "a",
                    { href: (0, C.ls)(s.toString(), i) },
                    (0, v.we)("#DailyDeals_DiscountDashboardLink"),
                  ),
                ),
              ),
            ),
            o.createElement(
              _.wi,
              null,
              o.createElement(_.CB, {
                onCancel: n,
                onOK: async () => {
                  p.fnSetLoading(!0);
                  let e = 1;
                  if (s != c.primary_partnerid)
                    (e = 15),
                      console.error(
                        `AcceptInviteWithExistingDiscount: invite partner id ${c.primary_partnerid} does not match starting partnerid ${s}`,
                      );
                  else
                    try {
                      e = (await m(a, t, 0, "", !0)).errorCode;
                    } catch (t) {
                      const a = (0, M.H)(t);
                      console.error(
                        "AcceptInviteWithExistingDiscount hit error: " +
                          t.strErrorMsg,
                      ),
                        (e = a.errorCode);
                    }
                  1 == e
                    ? p.fnSetSuccess(!0)
                    : (p.fnSetError(!0), p.fnSetStrError((0, R.BM)(e)));
                },
              }),
            ),
          ),
        );
      }
      function q(e) {
        const { rgDailyDeals: t } = e;
        return o.createElement(
          o.Fragment,
          null,
          t?.map((e) =>
            o.createElement(
              "div",
              {
                key: e.gid,
                className: (0, A.A)({
                  [N.DailyDealCtn]: !0,
                  [N.Taken]: !0,
                  [N.InviteTaken]: !0,
                }),
              },
              o.createElement(P.gX, { oDailyDeal: e }),
            ),
          ),
        );
      }
      function W(e) {
        const { nAvailableSlots: t, onClick: a } = e;
        return o.createElement(
          "div",
          { className: (0, A.A)(N.DailyDealCtn, N.Available) },
          o.createElement(
            "div",
            { className: N.DailyDealAvailableSlots },
            (0, v.we)("#DailyDeals_NumAvailable", t),
          ),
          o.createElement(
            _.$n,
            { onClick: a },
            (0, v.we)("#DailyDeals_Select"),
          ),
        );
      }
      function j(e) {
        const { strReason: t } = e;
        return o.createElement(
          "div",
          { className: (0, A.A)(N.DailyDealCtn, N.Blocked) },
          !!t && o.createElement("div", null, t),
          (0, v.we)("#DailyDeals_UnavailableDate"),
        );
      }
      var H = a(96743),
        V = a(29341),
        K = a(23275),
        Y = a(80675),
        $ = a(89582),
        J = a(16856),
        X = a(41720),
        Q = a(62792),
        Z = a(45325),
        ee = a(80754);
      const te = 6;
      function ae(e) {
        const t = (0, l.ho)(1),
          a = (0, i.q)(),
          [n, c] = (0, o.useState)(""),
          [u, p] = (0, o.useState)(0),
          { rgAppIDs: g, rgBundleIDs: h } = (0, s.JF)(null, t);
        (0, d.zX)(g, s.Ty), (0, d.MS)(h, s.Ty);
        const v = o.useMemo(() => {
            let e = new Set(t.map((e) => e.invite_account));
            return Array.from(e);
          }, [t]),
          b = o.useMemo(() => {
            let e = [];
            return (
              t.map((t) => {
                if (!(u > 0 && t.invite_account != u) && (0, Z.IA)(t)) {
                  if (n?.trim().length > 0) {
                    const e = Number.parseInt(n);
                    let a = null;
                    if (
                      (t.appid
                        ? (a = m.A.Get().GetApp(t.appid))
                        : t.bundleid
                          ? (a = m.A.Get().GetBundle(t.bundleid))
                          : t.packageid &&
                            (a = m.A.Get().GetPackage(t.packageid)),
                      a &&
                        a.GetID() != e &&
                        !a.GetName().toLowerCase().includes(n.toLowerCase()))
                    )
                      return;
                  }
                  e.push(t);
                }
              }),
              e
            );
          }, [t, n, u]);
        return f.iA.is_support
          ? o.createElement(
              "div",
              { className: Y.InvitedAppsCtn },
              o.createElement(
                "div",
                { className: Y.InviteTitleCtn },
                o.createElement(
                  "div",
                  { className: Y.InviteBtnCtn },
                  o.createElement(
                    _.jn,
                    {
                      onClick: (e) =>
                        (0, E.pg)(o.createElement($.V, null), (0, y.uX)(e)),
                    },
                    "Create New Invite...",
                  ),
                  o.createElement(
                    _.$n,
                    {
                      onClick: (e) =>
                        (0, S.EP)(
                          e,
                          `${f.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard`,
                        ),
                    },
                    "Goto Invitation Planner →",
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: Y.SearchCtn },
                o.createElement(_.pd, {
                  className: Y.SearchInput,
                  type: "string",
                  value: n,
                  placeholder: "Search name or id",
                  onChange: (e) => c(e.currentTarget.value),
                }),
                o.createElement(ee.z, {
                  nAccountID: u,
                  rgAccountListFilter: v,
                  fnSetAccountFilter: p,
                  className: r()(Y.ValveAccountDropdown),
                  rgAdditional: [{ data: null, label: "Sent by anyone" }],
                }),
              ),
              o.createElement("br", null),
              o.createElement("h2", null, "Outstanding Invitations"),
              b.map((e) =>
                o.createElement(
                  "div",
                  { key: "promo_" + e.inviteid },
                  o.createElement(
                    V.rX,
                    { invite: e, containerClass: Y.InviteItemAdminList },
                    o.createElement(le, { promo: e }),
                  ),
                  o.createElement(
                    ne,
                    { inviteid: e.inviteid },
                    o.createElement(
                      "div",
                      null,
                      "(VO) invited by ",
                      a?.find((t) => t.id == e.invite_account)?.displayName ||
                        e.invite_account,
                    ),
                  ),
                ),
              ),
            )
          : null;
      }
      function ne(e) {
        const { inviteid: t, children: a } = e,
          n = (0, l.u6)(t),
          [r] = (0, s.MH)(n),
          i = o.useMemo(
            () =>
              r
                ? (0, Q.hh)((0, Q.Je)(r.GetID(), r.GetStoreItemType()))
                : void 0,
            [r],
          ),
          { rgContacts: c, description: m } = (0, X.yb)(
            n?.primary_partnerid,
            i,
          );
        return n
          ? o.createElement(
              "a",
              {
                className: Y.ViewPartnerContacts,
                href: "#",
                onClick: (e) =>
                  (0, E.pg)(
                    o.createElement(X.Kx, { rgAccountIDs: c, description: m }),
                    window,
                  ),
              },
              a,
            )
          : a;
      }
      function re(e) {
        const { strInviteID: t } = e,
          a = (0, l.u6)(t);
        return a
          ? 0 != a.rtdatechosen
            ? o.createElement(ie, {
                strMessage: (0, v.we)("#DailyDeals_InviteAlreadyAccepted"),
              })
            : a.rtexpiretime < Date.now() / 1e3
              ? o.createElement(ie, {
                  strMessage: (0, v.we)(
                    "#DailyDeals_InviteExpired",
                    (0, v.TW)(a.rtexpiretime),
                  ),
                })
              : o.createElement(
                  "div",
                  { className: r()(p().AdminPageCtn, "Partner") },
                  o.createElement(
                    "div",
                    { style: { paddingBottom: 20 } },
                    o.createElement(se, { promo: a }),
                  ),
                  o.createElement(L, { strInviteID: t }),
                  o.createElement(H.Es, null),
                )
          : o.createElement(ie, {
              strMessage: (0, v.we)("#DailyDeals_InvalidInvite"),
            });
      }
      function ie(e) {
        const { strMessage: t } = e;
        return o.createElement(
          "div",
          { className: Y.InviteNotAvailableContainer },
          o.createElement("div", { className: Y.WhyUnavailable }, t),
          o.createElement(
            "div",
            { className: Y.ReturnToDashboard },
            (0, v.PP)(
              "#DailyDeals_ReturnLink",
              o.createElement(
                "a",
                {
                  href: `${f.TS.PARTNER_BASE_URL}promotion${J.PromotionRoutes.DailyDealDashboard()}`,
                },
                (0, v.we)("#DailyDeals_Dashboard"),
              ),
            ),
          ),
        );
      }
      function se(e) {
        const { promo: t } = e,
          [a] = (0, s.MH)(t);
        return o.createElement(
          "div",
          { className: Y.InvitePageHeader },
          o.createElement(
            c.N_,
            {
              to: J.PromotionRoutes.DailyDealPartnerDashboard(
                "" + t.primary_partnerid,
              ),
            },
            (0, v.we)("#DailyDeals_Dashboard"),
          ),
          o.createElement(
            "div",
            { className: Y.InviteTitle },
            (0, v.we)("#DailyDeals_Invite_Dashboard_Header"),
            o.createElement(
              "span",
              { className: Y.InviteTitle_AppName },
              a?.GetName(),
            ),
          ),
          o.createElement("hr", null),
          o.createElement(
            "div",
            {
              className: r()(
                Y.InvitedAppCtn,
                t.require_sale_page ? Y.SalePageInvite : null,
              ),
            },
            o.createElement(K.t, { invite: t }),
            o.createElement(
              "div",
              { className: Y.InvitedAppInfo },
              o.createElement(
                "div",
                null,
                (0, v.we)("#DailyDeals_Partner_InviteDesc_row1", te),
              ),
              o.createElement(
                "div",
                null,
                (0, v.we)("#DailyDeals_Partner_InviteDesc_row2"),
              ),
              o.createElement(
                "div",
                null,
                (0, v.we)(
                  "#DailyDeals_Partner_InviteDesc_row3",
                  (0, v.TW)(t.rtexpiretime),
                ),
              ),
            ),
          ),
        );
      }
      function le(e) {
        const { promo: t } = e;
        return o.createElement(
          "div",
          { className: Y.InviteAdminButtons },
          o.createElement(
            _.$n,
            {
              onClick: (e) =>
                (0, E.pg)(o.createElement(oe, { promo: t }), (0, y.uX)(e)),
            },
            "Cancel Invitation",
          ),
          o.createElement(
            _.$n,
            {
              onClick: (e) =>
                (0, E.pg)(o.createElement(ce, { promo: t }), (0, y.uX)(e)),
            },
            "Resend Invitation Email",
          ),
        );
      }
      function oe(e) {
        const { promo: t, closeModal: a } = e,
          { fnCancelInvite: n } = (0, l.yc)(),
          r = (0, g.vs)();
        return r.bLoading
          ? o.createElement(g.Hh, {
              state: r,
              strDialogTitle: "Cancel Promo Invitation",
              closeModal: a,
            })
          : o.createElement(h.o0, {
              strTitle: "Cancel Promo Invitation",
              strDescription:
                "Are you sure you want to cancel this invitation?  The Partner will no longer be able to schedule this promotion",
              onCancel: a,
              onOK: () => {
                r.fnSetLoading(!0),
                  n(t.inviteid)
                    .then((e) => {
                      e
                        ? (r.fnSetSuccess(!0),
                          r.fnSetStrSuccess(
                            "Invitation is now cancelled.  You can close this dialog.",
                          ))
                        : (r.fnSetError(!0),
                          r.fnSetStrError(
                            "Failed to cancel invitation. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      r.fnSetError(!0),
                        r.fnSetStrError(
                          "Failed to cancel invitation. Please check console for errors",
                        );
                    });
              },
            });
      }
      function ce(e) {
        const { promo: t, closeModal: a } = e,
          { fnResendInvitationEmail: n } = (0, l.Ee)(),
          r = (0, g.vs)();
        return r.bLoading
          ? o.createElement(g.Hh, {
              state: r,
              strDialogTitle: "Resend Invitation Email",
              closeModal: a,
            })
          : o.createElement(h.o0, {
              strTitle: "Resend Invitation Email",
              strDescription:
                "Are you sure you want to re-send this email? It will fire to the partner associated with the app to their user who opted in to receive communication",
              onCancel: a,
              onOK: () => {
                r.fnSetLoading(!0),
                  n(t.inviteid)
                    .then((e) => {
                      e
                        ? (r.fnSetSuccess(!0),
                          r.fnSetStrSuccess(
                            "Email has fired. You can close this dialog",
                          ))
                        : (r.fnSetError(!0),
                          r.fnSetStrError(
                            "Failed to resend invitation email. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      r.fnSetError(!0),
                        r.fnSetStrError(
                          "Failed to resend invitation email. Please check console for errors",
                        );
                    });
              },
            });
      }
    },
    89582: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => D });
      var n = a(64238),
        r = a.n(n),
        i = a(5917),
        s = a(9907),
        l = a(90031),
        o = a(90626),
        c = a(75233),
        m = a(62792),
        d = a(16676),
        u = a(71298),
        p = a(9154),
        _ = a(738),
        g = a(68797),
        h = a(14771),
        E = a(70986),
        S = a(65744),
        y = a(28351),
        v = a(42833),
        f = a(41720),
        b = a(59178),
        w = a(31715);
      function D(e) {
        const { closeModal: t, storeItemID: a, storeItemType: n } = e,
          [r, i] = o.useState(() => {
            const e = (0, m.Je)(a, n);
            return Boolean(e) ? e : {};
          }),
          s = o.useMemo(() => (0, m.hh)(r), [r]),
          [c, _] = o.useState(30),
          [g, f] = o.useState(0),
          [b, D] = o.useState(1),
          T =
            1 === b ? "Daily Deal" : 2 === b ? "Midweek Deal" : "Weekend Deal",
          { fnCreatePromoInvite: M } = (0, l.kw)(),
          [A, k] = o.useState(null),
          R = Date.now() / 1e3,
          [P, N] = o.useState(0),
          G = (0, u.vs)();
        return G.bLoading
          ? o.createElement(u.Hh, {
              state: G,
              strDialogTitle: `Send a ${T} Invitation`,
              closeModal: t,
            })
          : o.createElement(
              p.o0,
              {
                strTitle: `Send a ${T} Invitation`,
                strDescription: `Search for a game, bundle, or package to send a ${T} invitation. To run a multi-game sale, start with a game under the target partner and then specify that it will require a sale page.`,
                bOKDisabled:
                  !(r.appid || r.bundleid || r.packageid) ||
                  !A ||
                  (0 != g && !P),
                strOKButtonText: "Send Invite",
                onOK: () => {
                  G.fnSetLoading(!0);
                  const e = P ? (0, m.Je)(P, 0) : r,
                    t = {
                      type: b,
                      oInviteItem: e,
                      rtExpireTime: (0, E.M)(R + c * h.Kp.PerDay),
                      nPartnerID: A,
                      bRequireSalePage: 0 != g,
                      eRequireSalePageType: g,
                    };
                  M(t)
                    .then((e) => {
                      1 == e
                        ? (G.fnSetStrSuccess(
                            "Invitation created! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                          ),
                          G.fnSetSuccess(!0))
                        : 13 == e
                          ? (G.fnSetError(!0),
                            G.fnSetStrError(
                              "Unable to create invitation. The partner does not have a user set to receive communications.",
                            ))
                          : (G.fnSetError(!0),
                            G.fnSetStrError(
                              "Failed to create invitation - check console/network logs",
                            ));
                    })
                    .catch((e) => {
                      G.fnSetError(!0),
                        G.fnSetStrError(
                          "Failed to create invitation - check console/network logs",
                        );
                    });
                },
                onCancel: t,
              },
              o.createElement(I, { promoType: b, setPromoType: D }),
              o.createElement(
                "div",
                { className: v.DialogCtn },
                o.createElement(y.rF, {
                  oChoice: r,
                  fnSetChoice: i,
                  bExcludeBundle: !1,
                  bExcludePackage: !1,
                }),
                Boolean((r.appid || r.bundleid || r.packageid) && !g) &&
                  o.createElement(
                    o.Fragment,
                    null,
                    o.createElement(S.RC, {
                      storeItemId: s?.id,
                      itemType: (0, m.JK)(s?.item_type),
                    }),
                    o.createElement(S.cy, {
                      id: s?.id,
                      itemType: (0, m.JK)(s?.item_type),
                    }),
                  ),
                !!g && o.createElement("div", null, "Store Item ID: ", s?.id),
              ),
              Boolean(r.appid || r.bundleid || r.packageid) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: v.DialogCtn },
                    o.createElement(d.pd, {
                      value: c,
                      label:
                        "Number of days that the invite is valid for (default is 30)",
                      min: "1",
                      max: "360",
                      type: "number",
                      onChange: (e) =>
                        _(Number.parseInt(e.currentTarget.value)),
                    }),
                  ),
                  Boolean(s) &&
                    o.createElement(B, {
                      nPartnerIDToContact: A,
                      fnSetPartnerIDToContact: k,
                      storeItemKey: s,
                    }),
                  o.createElement(
                    "div",
                    { className: v.DialogCtn },
                    o.createElement(d.m, {
                      label: "Require a sale page?",
                      rgOptions: w.f7,
                      selectedOption: g,
                      onChange: (e) => f(e.data),
                      contextMenuPositionOptions: { bDisablePopTop: !0 },
                    }),
                  ),
                  !!g &&
                    o.createElement(C, {
                      nPartnerIDToContact: A,
                      advertisingAppID: P,
                      setAdvertisingAppID: N,
                    }),
                ),
            );
      }
      function C(e) {
        const {
            nPartnerIDToContact: t,
            advertisingAppID: a,
            setAdvertisingAppID: n,
          } = e,
          i = (0, c.jE)(),
          l = (0, s.YQ)(t),
          m = [{ label: "", data: 0 }];
        l?.length > 0 &&
          l.forEach((e) => {
            m.push({ label: e.app_name, data: e.appid });
          });
        const u = (e) => {
          i.invalidateQueries({ queryKey: (0, s.z_)(t) }), n(e);
        };
        return o.createElement(
          "div",
          { className: v.SalePageInfoCtn },
          o.createElement(
            "p",
            null,
            "Since this will have a sale page, we need to select or create an advertising app to feature as the daily deal. This ensures that all players will see the promo and that custom art can be provided.",
          ),
          o.createElement(
            "div",
            { className: r()(v.DialogCtn, v.AdvertisingAppSection) },
            o.createElement(d.m, {
              label: "Existing Adv. Apps For This Partner",
              rgOptions: m,
              selectedOption: a,
              onChange: (e) => n(e.data),
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
            "or",
            o.createElement(
              d.$n,
              {
                onClick: () =>
                  (0, _.pg)(
                    o.createElement(T, { partnerID: t, fnAppCreated: u }),
                    window,
                  ),
              },
              "Create One",
            ),
          ),
        );
      }
      function I(e) {
        const { promoType: t, setPromoType: a } = e;
        return o.createElement(
          "div",
          { className: v.ChooseInviteTypeContainer },
          o.createElement(d.m, {
            label: "Promotion Type",
            rgOptions: [
              { data: 1, label: "Daily Deal" },
              { data: 2, label: "MidWeek Deal (Mon->Thurs)" },
              { data: 3, label: "Weekend Deal (Thurs->Mon)" },
            ],
            selectedOption: t,
            onChange: (e) => a(e.data),
            tooltip:
              "The type of self-service promotion to invite the partner to",
          }),
        );
      }
      function B(e) {
        const {
          nPartnerIDToContact: t,
          fnSetPartnerIDToContact: a,
          storeItemKey: n,
        } = e;
        return o.createElement(
          "div",
          { className: v.PartnerContactRow },
          o.createElement(b.G, {
            nPartnerID: t,
            fnUpdatePartnerID: a,
            storeItemKey: n,
            autoSelectPartnerFromStoreItem: !0,
          }),
          o.createElement(f.bX, { nPartnerID: t, storeItemFilter: n }),
        );
      }
      function T(e) {
        const { closeModal: t, fnAppCreated: a, partnerID: n } = e,
          [r, s] = o.useState(""),
          l = (0, i.JK)(r, n),
          c = (0, u.vs)();
        return c.bLoading
          ? o.createElement(u.Hh, {
              state: c,
              strDialogTitle: "Create Advertising App",
              closeModal: t,
            })
          : o.createElement(
              p.o0,
              {
                strTitle: "Create Advertising App",
                onCancel: t,
                bOKDisabled: !r,
                onOK: () => {
                  c.fnSetLoading(!0),
                    l
                      .mutateAsync()
                      .then((e) => {
                        e
                          ? (c.fnSetStrSuccess(
                              "Advertising AppID Created Successfully: " + e,
                            ),
                            a(e))
                          : c.fnSetStrError(
                              "Failed creating advertising app. Check console",
                            );
                      })
                      .catch((e) => {
                        c.fnSetStrError(
                          "Create advertising app failed " +
                            (0, g.H)(e).strErrorMsg,
                        );
                      });
                },
                strOKButtonText: "Create",
              },
              o.createElement(
                "p",
                null,
                'The advertising app is the container for graphical assets necessary to feature this promo. Name the app with the promo name (eg. "Valve Developer Sale" or "Portal Franchise Sale"), as this name is used in the invite to the partner.',
              ),
              o.createElement(d.pd, {
                value: r,
                label: "Promo Name",
                type: "text",
                onChange: (e) => s(e.currentTarget.value),
              }),
              o.createElement(
                "div",
                null,
                "This wiill create the app under partnerID: ",
                n,
              ),
            );
      }
    },
    39102: (e, t, a) => {
      "use strict";
      a.d(t, { D: () => d, W: () => m });
      var n = a(32754),
        r = a(52038),
        i = a(61859),
        s = a(12155),
        l = a(90626),
        o = a(32570),
        c = a(689);
      function m(e) {
        const { strConflict: t } = e;
        return l.createElement(
          n.he,
          {
            className: (0, r.A)(o.DailyDealCtn, c.ConflictWarning),
            toolTipContent: t,
            direction: "top",
          },
          l.createElement(
            "div",
            null,
            (0, i.we)("#DiscountDashboard_ConflictWarning"),
          ),
          l.createElement(s._VW, null),
        );
      }
      function d(e) {
        const { strDiscountName: t, nDiscount: a } = e;
        return l.createElement(
          "div",
          { className: c.ExistingDiscountCtn },
          l.createElement(
            "div",
            { className: o.Title },
            (0, i.we)("#DailyDeals_ExistingDiscount"),
          ),
          l.createElement("div", null, t),
          l.createElement("div", null, a, " %"),
        );
      }
    },
    42974: (e, t, a) => {
      "use strict";
      a.d(t, { MS: () => Ct, Dy: () => yt, N8: () => wt });
      var n = a(73523),
        r = a(67239),
        i = a(93742),
        s = a(65946),
        l = a(90626),
        o = a(45737),
        c = a.n(o),
        m = a(16676),
        d = a(84811),
        u = a(95034),
        p = a(95695),
        _ = a.n(p),
        g = a(738),
        h = a(38135),
        E = a(52038),
        S = a(56011),
        y = a(61859),
        v = a(91675),
        f = a(84073),
        b = a.n(f),
        w = a(34585),
        D = a(41735),
        C = a.n(D),
        I = a(68797),
        B = a(30470),
        T = a(24484);
      const M = 4985300096;
      function A(e) {
        const t = new Date(1e3 * e);
        return `${t.getFullYear()}-${String(t.getUTCMonth() + 1).padStart(2, "0")}-${String(t.getUTCDate()).padStart(2, "0")}`;
      }
      function k(e) {
        const t = new Date(1e3 * e);
        return `${String(t.getUTCHours()).padStart(2, "0")}:${String(t.getUTCMinutes()).padStart(2, "0")}:00`;
      }
      var R = a(14336),
        P = a(71298),
        N = a(14771),
        G = a(70065),
        O = a(99637),
        F = a(44165),
        L = a(70986);
      const U = 1 * N.Kp.PerDay;
      function z(e) {
        const { closeModal: t, oEditablePlan: a, bSteamChinaOnly: n } = e,
          r = (0, F.f1)(),
          i = (function () {
            const [e] = (0, l.useState)(() =>
              (0, T.Tc)("mondays_webapi_token", "application_config"),
            );
            return (0, l.useCallback)(
              async (t) => {
                const a = {
                    date4: { date: A(t.rtDueDate), time: k(t.rtDueDate) },
                    priority: { label: t.bHighPriority ? "ASAP ⚠️️" : "Medium" },
                    link: { url: t.strFilesURL, text: t.strFilesURL },
                    link8: {
                      url: `${B.TS.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                      text: `${B.TS.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                    },
                    date8: { date: A(t.rtLiveDate), time: k(t.rtLiveDate) },
                    numbers: "" + t.nNumAssets,
                    long_text: t.strDescription,
                    text: t.strRequestorName,
                    link1: {
                      url: t.strInternalURL || "",
                      text: t.strInternalURL || "",
                    },
                  },
                  n = {
                    myItemName: t.strEventName,
                    columnVals: JSON.stringify(a),
                  },
                  r = `mutation ($myItemName: String!, $columnVals: JSON!) { create_item (board_id:${M}, item_name:$myItemName, column_values:$columnVals) { id } }`;
                try {
                  const t = await C().post(
                    "https://api.monday.com/v2/",
                    JSON.stringify({ query: r, variables: JSON.stringify(n) }),
                    {
                      headers: {
                        Authorization: e,
                        "Content-Type": "application/json",
                        "API-Version": "2024-01",
                      },
                    },
                  );
                  return (
                    "dev" == B.TS.WEB_UNIVERSE &&
                      console.log(
                        "asset localization workflow dev debug info: ",
                        t,
                      ),
                    t && 200 == t.status && t.data?.data?.create_item?.id
                      ? t.data?.data?.create_item?.id
                      : null
                  );
                } catch (e) {
                  console.error(
                    "useCreateMondayArtLocalizationTask failed",
                    e,
                    (0, I.H)(e),
                  ),
                    console.error("data", r, n);
                }
                return null;
              },
              [e],
            );
          })(),
          o = (0, R.js)(B.iA.accountid),
          [c, d, u, p, _, g, h] = (0, s.q3)(() => [
            a.GetID(),
            a.GetName(),
            a.GetStartDate(),
            a.GetEndDate(),
            a.GetArtworkLocalizationDropboxLink(),
            a.GetAssociatedAssetURLForHTML(),
            a.GetNumArtworkLocalizationRequired(),
          ]),
          [E, S] = (0, l.useState)(() => u - U),
          [f, b] = (0, l.useState)(() => !1),
          [w, D] = (0, l.useState)(() => (n ? "Simplified Chinese Only" : "")),
          N = (0, P.vs)();
        return N.bLoading
          ? l.createElement(P.Hh, {
              state: N,
              strDialogTitle: "Creating Localization Request...",
              closeModal: t,
            })
          : l.createElement(
              G.Q,
              {
                strTitle: "Create Localization Request",
                strDescription:
                  "Create a localization request after you have uploaded the assets to dropbox. Note that the event starts on " +
                  (0, y.TW)(u) +
                  " @ " +
                  (0, v.KC)(u),
                onCancel: t,
                onOK: async () => {
                  N.fnSetLoading(!0);
                  const e = {
                      planid: c,
                      strEventName: d,
                      rtDueDate: E,
                      rtLiveDate: u,
                      nNumAssets: h,
                      strDescription: w || "",
                      strRequestorName:
                        o?.data?.m_strPlayerName || "" + B.iA.accountid,
                      bHighPriority: f,
                      strFilesURL: _,
                      strInternalURL: g,
                    },
                    t = await i(e);
                  t
                    ? (a.SetArtworkLocalizationRequestTime(
                        Math.floor(Date.now() / 1e3),
                        t,
                      ),
                      N.fnSetSuccess(!0))
                    : (N.fnSetError(!0),
                      N.fnSetStrError(
                        "Chech console for errors and/or try again shortly",
                      ));
                },
              },
              l.createElement("br", null),
              l.createElement("br", null),
              l.createElement(O.K, {
                strDescription: "Choose Due Date",
                nEarliestTime: r,
                nLatestTime: p,
                fnGetTimeToUpdate: () => E,
                fnSetTimeToUpdate: S,
                bShowTimeZone: !0,
                strAlsoShowTimeZone: L.o,
              }),
              l.createElement("br", null),
              l.createElement(m.Yh, {
                checked: f,
                onChange: b,
                label: "High Priority?",
              }),
              l.createElement("br", null),
              l.createElement("br", null),
              l.createElement(m.pd, {
                type: "url",
                label: "DropBox Link",
                value: _,
                onChange: (e) =>
                  a.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
              }),
              l.createElement(m.JU, null, "Notes for Localization"),
              l.createElement("textarea", {
                rows: 10,
                cols: 80,
                value: w,
                onChange: (e) => D(e.currentTarget.value),
              }),
            );
      }
      var x = a(95896),
        q = a(90207),
        W = a(2160),
        j = a(92135),
        H = a(10592),
        V = a(86921),
        K = a(6144),
        Y = a(73745);
      class $ {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitSaleAssetsToEdit(e, t = !1) {
          if (this.m_mapEditModel.has(e?.GID) && !t)
            this.m_mapEditModel.get(e.GID).Reset(e);
          else {
            const a = new j.pf(e);
            this.m_mapEditModel.set(e?.GID, a),
              a
                .GetCallback()
                .Register((t) => this.GetCallback(e?.GID).Dispatch(t)),
              t && this.GetCallback(e?.GID).Dispatch(a);
          }
          return this.m_mapEditModel.get(e?.GID);
        }
        BHasSaleAssetsToEdit(e) {
          return this.m_mapEditModel.has(e);
        }
        GetSaleAssetsToEdit(e) {
          return this.m_mapEditModel.get(e);
        }
        ClearEditModel(e) {
          this.m_mapEditModel.delete(e);
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new K.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            $.s_Singleton ||
              (($.s_Singleton = new $()),
              "dev" == B.TS.WEB_UNIVERSE &&
                (window.g_SaleAssetEditStore = $.s_Singleton)),
            $.s_Singleton
          );
        }
        constructor() {}
      }
      function J(e, t) {
        const a = (0, Y.CH)(),
          n = (0, V.dB)(e, t),
          [r, i] = l.useState(() => $.Get().GetSaleAssetsToEdit(n?.GID));
        return (
          l.useEffect(() => {
            n &&
              !$.Get().BHasSaleAssetsToEdit(n?.GID) &&
              $.Get().InitSaleAssetsToEdit(n),
              i($.Get().GetSaleAssetsToEdit(n?.GID));
          }, [n]),
          (0, Y.hL)($.Get().GetCallback(n?.GID), (e) => {
            i(e), a();
          }),
          r
        );
      }
      function X(e, t) {
        const a = new Map();
        let n = t
          ? t?.filter((e) => j.gM.includes((0, j.Oq)(e)))
          : j.gM.map((e) => (0, j.mF)(e));
        return (
          n?.forEach((t) => {
            const n = e?.GetAssetsObject((0, j.Oq)(t));
            a?.set(t, n ? n.filter(Boolean).length : 0);
          }),
          a
        );
      }
      var Q = a(73744),
        Z = a(86355),
        ee = a(56004),
        te = a(32625),
        ae = a(42508),
        ne = a(22797),
        re = a(44332),
        ie = a(9154),
        se = a(98076);
      function le(e) {
        const {
            bIsDirty: t,
            fnOnRevert: a,
            fnOnSave: n,
            bSaveDisabled: r,
            strSave: i,
            strSaved: s,
            strSaving: o,
          } = e,
          d = i ?? (0, y.we)("#Button_Save"),
          u = s ?? (0, y.we)("#Button_Saved");
        return l.createElement(
          "div",
          { className: (0, E.A)(c().SectionCtn, c().ActionBar) },
          l.createElement(
            "div",
            { className: se.ButtonRow },
            l.createElement(
              m.jn,
              {
                disabled: r,
                onClick: (e) =>
                  (0, g.pg)(
                    l.createElement(oe, { fnOnSave: n, strSaving: o }),
                    (0, S.uX)(e),
                  ),
              },
              t ? d : u,
            ),
            l.createElement("div", { className: se.ButtonRowSpacer }),
            l.createElement(
              m.$n,
              {
                disabled: !t,
                onClick: (e) =>
                  (0, g.pg)(
                    l.createElement(ie.o0, {
                      strTitle: (0, y.we)("#Dialog_AreYouSure"),
                      strDescription: (0, y.we)("#DailyDeals_UnsavedChanges"),
                      onOK: a,
                    }),
                    (0, S.uX)(e),
                  ),
              },
              (0, y.we)("#Button_Revert"),
            ),
          ),
        );
      }
      function oe(e) {
        const { fnOnSave: t, closeModal: a, strSaving: n } = e,
          [r, i] = l.useState(!0),
          [s, o] = l.useState(!1),
          c = n ?? (0, y.we)("#Saving");
        return (
          l.useEffect(() => {
            t()
              .then((e) => {
                o(e);
              })
              .catch((e) => o(!1))
              .finally(() => i(!1));
          }, [t]),
          l.createElement(
            ie.o0,
            { strTitle: c, bAlertDialog: !0, closeModal: a },
            Boolean(r)
              ? l.createElement(ne.t, {
                  size: "medium",
                  position: "center",
                  string: c,
                })
              : Boolean(s)
                ? l.createElement("div", null, "Success")
                : l.createElement(
                    "div",
                    null,
                    "Failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function ce(e) {
        const {
            gidClanEvent: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
            clanAccountID: r,
          } = e,
          i = J(r, t);
        return i
          ? l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                { className: se.EditCtn },
                l.createElement(
                  "div",
                  { className: c().PageTitle },
                  "Sale Page - Asset Management",
                ),
                l.createElement("hr", null),
                l.createElement(
                  "div",
                  { className: c().ColumnCtn },
                  l.createElement(
                    "div",
                    { className: c().LeftCol },
                    l.createElement(me, {
                      oSaleAssetEdit: i,
                      rgArtworkToDisplay: a,
                    }),
                  ),
                  l.createElement(ue, {
                    oSaleAssetEdit: i,
                    rgArtworkToDisplay: a,
                    promotionPlanID: n,
                  }),
                ),
              ),
              l.createElement("br", null),
            )
          : l.createElement(ne.t, {
              size: "medium",
              position: "center",
              string: (0, y.we)("#Loading"),
            });
      }
      function me(e) {
        const { oSaleAssetEdit: t, rgArtworkToDisplay: a } = e,
          n = (0, l.useMemo)(() => {
            const e = [
              "sale_header",
              "capsule",
              "sale_logo",
              "product_banner",
              "product_mobile_banner",
              "localized_title_image",
            ];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          r = (0, l.useMemo)(
            () => [W.TU.k_ESteamRealmGlobal, W.TU.k_ESteamRealmChina],
            [],
          ),
          i = (0, l.useCallback)(
            (e, a, n, r, i, s, l) => {
              (0, re.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (r) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  j.gM.forEach((e) => {
                    const t = Q.Fj[(0, j.mF)(e)];
                    s == t.width && (o = e);
                  }),
                    o || (o = "localized_sale_header");
              }
              o && t.SetImage(o, n, e + (0, ee.qR)(r));
            },
            [t],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement("h2", { className: "inline" }, "Sale Page Assets"),
            l.createElement("hr", null),
            l.createElement(te.U, {
              rgSupportArtwork: n,
              rgRealmList: r,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${B.TS.PARTNER_BASE_URL}promotion/sales/ajaxuploadasset/${t.GetClanAccountID()}`,
              fnOnUploadSuccess: i,
            }),
            l.createElement(
              d.tH,
              null,
              l.createElement("br", null),
              j.gM
                .filter((e) => !a || a.includes((0, j.mF)(e)))
                .map((e) => {
                  const a = Q.Fj[(0, j.mF)(e)];
                  return l.createElement(
                    "div",
                    { key: e },
                    l.createElement("h3", null, (0, j.nx)(e)),
                    l.createElement(
                      "div",
                      null,
                      l.createElement(
                        "span",
                        null,
                        a.width,
                        "px by ",
                        a.height,
                        "px",
                      ),
                      " (.jpg,.png,.gif)",
                    ),
                    l.createElement(de, { oSaleAssetEdit: t, assetType: e }),
                  );
                }),
            ),
          ),
          l.createElement(pe, { oSaleAssetEdit: t }),
        );
      }
      function de(e) {
        const { oSaleAssetEdit: t, assetType: a } = e,
          [n, r, i] = (0, s.q3)(() => [
            t.GetAssetsObject(a),
            t.GetGID(),
            t.GetPromoModifyTime(),
          ]),
          o = n
            .map((e, t) => (e ? t : null))
            .filter((e) => null !== e)
            .sort(),
          m = (0, l.useCallback)(
            (e) =>
              31 != e && e >= 0 && n[e]?.length > 0
                ? Z.i6.GenerateArtworkURLFromHashAndExtensions(
                    t.GetClanSteamID(),
                    n[e],
                  )
                : null,
            [n, t],
          );
        return l.createElement(
          "div",
          { className: c().MarketingMessage },
          l.createElement(ae.z, {
            rgAssetLangs: o,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function ue(e) {
        const {
            oSaleAssetEdit: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          r = X(t, a);
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(m.JU, null, "Asset Progress"),
            j.gM
              .filter((e) => r.has((0, j.mF)(e)))
              .map((e) =>
                l.createElement(
                  "div",
                  { key: "as_count_" + e },
                  (0, j.nx)(e),
                  ": ",
                  r.get((0, j.mF)(e)),
                  " / ",
                  H.G,
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "a",
              {
                href: `${B.TS.COMMUNITY_BASE_URL}gid/${t.GetClanSteamID().ConvertTo64BitString()}/partnerevents/edit/${t.GetGID()}?tab=sale`,
                target: "_blank",
              },
              "Open Sale Page Editor",
            ),
            Boolean(n) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("br", null),
                l.createElement(
                  "a",
                  {
                    href: `${B.TS.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function pe(e) {
        const { oSaleAssetEdit: t } = e,
          { fnSaveSaleAssets: a } = (0, V.CO)(),
          [n, r, i, o] = (0, s.q3)(() => [
            t.BIsDirty(),
            t.GetGID(),
            t.GetClanAccountID(),
            t.GetAssetModel(),
          ]);
        return l.createElement(le, {
          bIsDirty: n,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: !1,
          fnOnSave: async () => {
            const e = await a(i, r, o);
            return e && t.Reset(V.O3.GetClanEventModel(r)), e;
          },
        });
      }
      var _e = a(22837),
        ge = a(34629),
        he = a(14947),
        Ee = a(6419),
        Se = a(4544),
        ye = a(63556);
      class ve {
        m_oSpotlight = null;
        m_originalSpotlight = null;
        m_bDirty = !1;
        m_callback = new K.lu();
        constructor(e) {
          (0, he.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_originalSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSpotlight;
        }
        GetName() {
          return this.m_oSpotlight.name;
        }
        GetType() {
          return this.m_oSpotlight.type;
        }
        GetCreator() {
          return this.m_oSpotlight.creator;
        }
        GetAssociationID() {
          return this.m_oSpotlight.association;
        }
        GetAssociationType() {
          return this.m_oSpotlight.association_type;
        }
        GetStartDate() {
          return this.m_oSpotlight.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oSpotlight.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oSpotlight.visibility?.visible;
        }
        GetTitle() {
          return this.m_oSpotlight.title;
        }
        GetAssetCount() {
          return (0, Se.Uh)(this.m_oSpotlight.image);
        }
        GetAssetUpdateTime() {
          return this.m_oSpotlight.asset_mtime;
        }
        GetImage(e) {
          return this.GetKVLang(this.m_oSpotlight.image, e);
        }
        GetCurImage() {
          return this.GetKVLang(
            this.m_oSpotlight.image,
            ye.O.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject() {
          return this.m_oSpotlight.image;
        }
        BHasHubTarget(e) {
          return (
            !(
              !this.m_oSpotlight.location ||
              !this.m_oSpotlight.location.hubTargets
            ) && this.m_oSpotlight.location.hubTargets?.includes(e)
          );
        }
        GetHubTargets() {
          return this.m_oSpotlight.location &&
            this.m_oSpotlight.location.hubTargets
            ? this.m_oSpotlight.location.hubTargets
            : [];
        }
        GetID() {
          return this.m_oSpotlight.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e) {
          this.SetImage(ye.O.Get().GetCurEditLanguage(), e), this.Dispatch();
        }
        SetImage(e, t) {
          this.m_oSpotlight.image || (this.m_oSpotlight.image = {}),
            Array.isArray(this.m_oSpotlight.image) &&
              (this.m_oSpotlight.image = {}),
            this.SetKVLang(this.m_oSpotlight.image, e, t),
            (this.m_oSpotlight.asset_mtime = Math.floor(Date.now() / 1e3)),
            this.Dispatch();
        }
        ClearAllAssetObjects() {
          (this.m_oSpotlight.image = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e) {
          const t = (0, _e.Lg)(e);
          this.m_oSpotlight.image?.[t] &&
            (delete this.m_oSpotlight.image[t], this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.pV)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.VX)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oSpotlight = JSON.parse(
            JSON.stringify(this.m_originalSpotlight),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, ge.Cg)([he.sH], ve.prototype, "m_bDirty", void 0),
        (0, ge.Cg)([Ee.o], ve.prototype, "SetCurImage", null),
        (0, ge.Cg)([he.XI.bound], ve.prototype, "SetImage", null),
        (0, ge.Cg)([Ee.o], ve.prototype, "ClearAllAssetObjects", null),
        (0, ge.Cg)([Ee.o], ve.prototype, "DeleteAssetObjectLang", null),
        (0, ge.Cg)([Ee.o], ve.prototype, "RevertChanges", null);
      var fe = a(97843);
      class be {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitSpotlightToEdit(e, t, a = !1) {
          if (this.m_mapEditModel.has(e) && !a)
            this.m_mapEditModel.get(e).Reset(t);
          else {
            const n = new ve(t);
            this.m_mapEditModel.set(e, n),
              n.GetCallback().Register((t) => this.GetCallback(e).Dispatch(t)),
              a && this.GetCallback(e).Dispatch(n);
          }
          return this.m_mapEditModel.get(e);
        }
        BHasSpotlightToEdit(e) {
          return this.m_mapEditModel.has(e);
        }
        GetSpotlightToEdit(e) {
          return this.m_mapEditModel.get(e);
        }
        ClearEditModel(e) {
          this.m_mapEditModel.delete(e);
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new K.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            be.s_Singleton ||
              ((be.s_Singleton = new be()),
              "dev" == B.TS.WEB_UNIVERSE &&
                (window.g_SpotlightEditStore = be.s_Singleton)),
            be.s_Singleton
          );
        }
        constructor() {}
      }
      function we(e) {
        const t = (0, Y.CH)(),
          [a, n] = l.useState(() => be.Get().GetSpotlightToEdit(e)),
          r = (0, fe.Ib)(e);
        return (
          l.useEffect(() => {
            r &&
              !be.Get().BHasSpotlightToEdit(r.id) &&
              be.Get().InitSpotlightToEdit(r.id, r),
              n(be.Get().GetSpotlightToEdit(r?.id));
          }, [r]),
          (0, Y.hL)(be.Get().GetCallback(e), (e) => {
            n(e), t();
          }),
          a
        );
      }
      function De(e, t) {
        const a = new Map();
        if (!e) return a;
        if (!t || t.includes("spotlight_art")) {
          let t = 0;
          const n = e?.GetAssetsObject();
          for (let e = 0; e < 31; ++e) n && n[(0, _e.Lg)(e)] && (t += 1);
          a.set("spotlight_art", t);
        }
        return a;
      }
      var Ce = a(1305),
        Ie = a(56330),
        Be = a(17083);
      function Te(e) {
        const { promotionPlanID: t, id: a } = e,
          n = we(a);
        return void 0 === n
          ? l.createElement(ne.t, {
              size: "medium",
              position: "center",
              string: (0, y.we)("#Loading"),
            })
          : n
            ? l.createElement(
                "div",
                { className: se.EditCtn },
                l.createElement(
                  "div",
                  { className: c().PageTitle },
                  "Spotlight - Asset Management",
                ),
                l.createElement("hr", null),
                l.createElement(
                  "div",
                  { className: c().ColumnCtn },
                  l.createElement(
                    "div",
                    { className: c().LeftCol },
                    l.createElement(Me, { oEditableSpotlight: n }),
                  ),
                  l.createElement(ke, {
                    oEditableSpotlight: n,
                    promotionPlanID: t,
                  }),
                ),
                l.createElement("br", null),
              )
            : l.createElement(
                "div",
                null,
                l.createElement("div", null, "Spotlight does not exist."),
                l.createElement(
                  Be.N_,
                  { to: "/spotlight/dashboard/" },
                  "Return to Spotlight Dashboard.",
                ),
              );
      }
      function Me(e) {
        const { oEditableSpotlight: t } = e,
          a = (0, l.useMemo)(() => ["spotlight_art", "old_spotlight_art"], []),
          n = (0, l.useMemo)(() => [W.TU.k_ESteamRealmGlobal], []),
          r = (0, l.useCallback)(
            (e, a, n, r, i, s, l) => {
              switch (
                ((0, re.w)(
                  null != n && n >= 0 && n < 31,
                  "Unexpected value for elang: " + n,
                ),
                r)
              ) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  t.SetImage(n, a);
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      r,
                  );
              }
            },
            [t],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement("h2", { className: "inline" }, "SPOTLIGHT ASSETS"),
            l.createElement("hr", null),
            Boolean("dev" == B.TS.WEB_UNIVERSE) &&
              l.createElement(
                "div",
                { className: Ie.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            l.createElement(te.U, {
              rgSupportArtwork: a,
              rgRealmList: n,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${B.TS.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=spotlights`,
              fnOnUploadSuccess: r,
            }),
            l.createElement(
              d.tH,
              null,
              l.createElement("br", null),
              l.createElement("h3", null, "Static Assets Only"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "306px x 260px"),
                " (.jpg,.png,.gif)",
              ),
              l.createElement(Ae, { oEditableSpotlight: t }),
            ),
          ),
          l.createElement(Re, { oEditableSpotlight: t }),
        );
      }
      function Ae(e) {
        const { oEditableSpotlight: t } = e,
          [a, n, r] = (0, s.q3)(() => [
            t.GetAssetsObject(),
            t.GetID(),
            t.GetAssetUpdateTime(),
          ]),
          i = Object.keys(a || {})
            .sort()
            .map((e) => (0, _e.sf)(e)),
          o = (0, l.useCallback)(
            (e) => {
              const t = (0, _e.Lg)(e);
              return a && a[t]
                ? (function (e, t, a, n) {
                    if (!n) return null;
                    const r = a ? "?t=" + a : "",
                      i = (0, _e.Lg)(t);
                    return `${B.TS.MEDIA_CDN_URL}steam/spotlights/${e}/${n[i]}${r}`;
                  })(n, e, r, a)
                : null;
            },
            [n, r, a],
          );
        return l.createElement(
          "div",
          { className: c().MarketingMessage },
          l.createElement(ae.z, {
            rgAssetLangs: i,
            fnGetAssetUrl: o,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(),
          }),
        );
      }
      function ke(e) {
        const { oEditableSpotlight: t, promotionPlanID: a } = e,
          n = De(t)?.get("spotlight_art");
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(m.JU, null, "Asset Progress"),
            l.createElement("div", null, n, " / ", H.G),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "a",
              {
                href: `${B.TS.PARTNER_BASE_URL}promotion/spotlight/edit/${t.GetID()}`,
                target: "_blank",
              },
              "Open Spotlight Editor",
            ),
            Boolean(a) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("br", null),
                l.createElement(
                  "a",
                  {
                    href: `${B.TS.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function Re(e) {
        const { oEditableSpotlight: t } = e,
          { fnSaveClusterAssets: a } = (0, Ce.Bx)(),
          [r, i, o, c] = (0, s.q3)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return l.createElement(le, {
          bIsDirty: r,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: async () => {
            const e = await a(n.ii.k_ConfigPage_Spotlight, o);
            return e && t.Reset((0, Ce.S0)(n.ii.k_ConfigPage_Spotlight, i)), e;
          },
        });
      }
      var Pe = a(81393),
        Ne = a(92391);
      class Ge {
        m_oTakeover = null;
        m_originalTakeover = null;
        m_type = null;
        m_bDirty = !1;
        m_callback = new K.lu();
        constructor(e, t) {
          (0, he.Gn)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_oTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = t),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeover;
        }
        GetName() {
          return this.m_oTakeover.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, n.gw)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeover.creator;
        }
        GetAssociationID() {
          return this.m_oTakeover.association;
        }
        GetAssociationType() {
          return this.m_oTakeover.association_type;
        }
        GetStartDate() {
          return this.m_oTakeover.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oTakeover.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oTakeover.visibility?.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            Ne.lQ.forEach((t) => (e += (0, Se.Uh)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetParams() {
          let e = {};
          return (
            this.m_oTakeover.page_bg_offset &&
              (e.page_bg_offset = this.m_oTakeover.page_bg_offset),
            this.m_oTakeover.page_bg_offset_mobile &&
              (e.page_bg_offset_mobile =
                this.m_oTakeover.page_bg_offset_mobile),
            this.m_oTakeover.defcon1_image_height &&
              (e.defcon1_image_height = this.m_oTakeover.defcon1_image_height),
            this.m_oTakeover.content_hub_image_height &&
              (e.content_hub_image_height =
                this.m_oTakeover.content_hub_image_height),
            this.m_oTakeover.defcon1_china_image_height &&
              (e.defcon1_china_image_height =
                this.m_oTakeover.defcon1_china_image_height),
            this.m_oTakeover.page_bg_color_left &&
              (e.page_bg_color_left = this.m_oTakeover.page_bg_color_left),
            this.m_oTakeover.page_bg_color_right &&
              (e.page_bg_color_right = this.m_oTakeover.page_bg_color_right),
            e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeover[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeover[e],
            ye.O.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeover[e] || {};
        }
        GetLayout() {
          return this.m_oTakeover.layout;
        }
        GetBackgroundOffset() {
          return this.m_oTakeover.page_bg_offset || 0;
        }
        GetBackgroundMobileOffset() {
          return this.m_oTakeover.page_bg_offset_mobile || 0;
        }
        GetBackgroundImageHeight() {
          return "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height || 0
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height || 0
              : ("content_hub" == this.GetLayout() &&
                  this.m_oTakeover.content_hub_image_height) ||
                0;
        }
        GetColorLeft() {
          return this.m_oTakeover.page_bg_color_left || "";
        }
        GetColorRight() {
          return this.m_oTakeover.page_bg_color_right || "";
        }
        GetID() {
          return this.m_oTakeover.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, ye.O.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          this.m_oTakeover[e] || (this.m_oTakeover[e] = {}),
            Array.isArray(this.m_oTakeover[e]) && (this.m_oTakeover[e] = {}),
            this.SetKVLang(this.m_oTakeover[e], t, a),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeover[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, _e.Lg)(t);
          this.m_oTakeover[e]?.[a] &&
            (delete this.m_oTakeover[e][a], this.Dispatch());
        }
        SetBackgroundOffset(e) {
          this.m_oTakeover.page_bg_offset != e &&
            ((this.m_oTakeover.page_bg_offset = e), this.Dispatch());
        }
        SetBackgroundMobileOffset(e) {
          this.m_oTakeover.page_bg_offset_mobile != e &&
            ((this.m_oTakeover.page_bg_offset_mobile = e), this.Dispatch());
        }
        SetBackgroundImageHeight(e) {
          "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height != e &&
              ((this.m_oTakeover.defcon1_image_height = e), this.Dispatch())
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height != e &&
                ((this.m_oTakeover.defcon1_china_image_height = e),
                this.Dispatch())
              : "content_hub" == this.GetLayout() &&
                this.m_oTakeover.content_hub_image_height != e &&
                ((this.m_oTakeover.content_hub_image_height = e),
                this.Dispatch());
        }
        SetColorLeft(e) {
          this.m_oTakeover.page_bg_color_left != e &&
            ((this.m_oTakeover.page_bg_color_left = e), this.Dispatch());
        }
        SetColorRight(e) {
          this.m_oTakeover.page_bg_color_right != e &&
            ((this.m_oTakeover.page_bg_color_right = e), this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.pV)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.VX)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeover = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, ge.Cg)([he.sH], Ge.prototype, "m_bDirty", void 0),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetCurImage", null),
        (0, ge.Cg)([he.XI.bound], Ge.prototype, "SetImage", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "ClearAllAssetObjects", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "DeleteAssetObjectLang", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetBackgroundOffset", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetBackgroundMobileOffset", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetBackgroundImageHeight", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetColorLeft", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "SetColorRight", null),
        (0, ge.Cg)([Ee.o], Ge.prototype, "RevertChanges", null);
      class Oe {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitTakeoverToEdit(e, t, a, n = !1) {
          const r = (0, Ce.f1)(e, t);
          if (this.m_mapEditModel.has(r) && !n)
            this.m_mapEditModel.get(r).Reset(a, e);
          else {
            const i = new Ge(a, e);
            this.m_mapEditModel.set(r, i),
              i.GetCallback().Register((e) => this.GetCallback(t).Dispatch(e)),
              n && this.GetCallback(r).Dispatch(i);
          }
          return this.m_mapEditModel.get(r);
        }
        BHasTakeoverToEdit(e, t) {
          const a = (0, Ce.f1)(e, t);
          return this.m_mapEditModel.has(a);
        }
        GetTakeoverToEdit(e, t) {
          const a = (0, Ce.f1)(e, t);
          return this.m_mapEditModel.get(a);
        }
        ClearEditModel(e, t) {
          const a = (0, Ce.f1)(e, t);
          this.m_mapEditModel.delete(a);
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new K.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Oe.s_Singleton ||
              ((Oe.s_Singleton = new Oe()),
              "dev" == B.TS.WEB_UNIVERSE &&
                (window.g_TakeoverEditStore = Oe.s_Singleton)),
            Oe.s_Singleton
          );
        }
        constructor() {}
      }
      function Fe(e, t) {
        const a = (0, Y.CH)(),
          [n, r] = l.useState(() => Oe.Get().GetTakeoverToEdit(e, t)),
          i = (0, Ce.TR)(e, t);
        return (
          l.useEffect(() => {
            i &&
              !Oe.Get().BHasTakeoverToEdit(e, t) &&
              Oe.Get().InitTakeoverToEdit(e, t, i),
              r(Oe.Get().GetTakeoverToEdit(e, t));
          }, [i, e, t]),
          (0, Y.hL)(Oe.Get().GetCallback(t), (e) => {
            r(e), a();
          }),
          n
        );
      }
      function Le(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: a,
            promotionPlanID: r,
            type: i,
            id: s,
          } = e,
          o = Fe(i, s);
        return void 0 === o
          ? l.createElement(ne.t, {
              size: "medium",
              position: "center",
              string: (0, y.we)("#Loading"),
            })
          : o
            ? l.createElement(
                "div",
                { className: se.EditCtn },
                l.createElement(
                  "div",
                  { className: c().PageTitle },
                  o.GetTypeString(),
                  " - Asset Management",
                ),
                l.createElement("hr", null),
                l.createElement(
                  "div",
                  { className: c().ColumnCtn },
                  l.createElement(
                    "div",
                    { className: c().LeftCol },
                    t && l.createElement(Ue, { oEditableTakeover: o }),
                    l.createElement(xe, {
                      oEditableTakeover: o,
                      rgArtworkToDisplay: a,
                    }),
                  ),
                  l.createElement(We, {
                    oEditableTakeover: o,
                    rgArtworkToDisplay: a,
                    promotionPlanID: r,
                  }),
                ),
              )
            : l.createElement(
                "div",
                null,
                l.createElement("div", null, "Takeover does not exist."),
                l.createElement(
                  Be.N_,
                  {
                    to: `${B.TS.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, n.gw)(i)}`,
                  },
                  "Return to Takeover Dashboard.",
                ),
              );
      }
      function Ue(e) {
        const { oEditableTakeover: t } = e,
          [a, n, r, i, o] = (0, s.q3)(() => [
            t.GetBackgroundOffset(),
            t.GetBackgroundMobileOffset(),
            t.GetBackgroundImageHeight(),
            t.GetColorLeft(),
            t.GetColorRight(),
          ]);
        return l.createElement(
          "div",
          { className: c().SectionCtn },
          l.createElement("h2", { className: "inline" }, "Asset Controls"),
          l.createElement("hr", null),
          l.createElement(
            "p",
            null,
            "Adjust the page background image settings",
          ),
          l.createElement(m.pd, {
            type: "number",
            value: a,
            onChange: (e) =>
              t.SetBackgroundOffset(Number.parseInt(e.currentTarget.value)),
            label: "Pixel Offset",
            tooltip:
              "This value is how far away from the store header area to push content down (to let the background image be seen). The store header will cover the top 67px of the image. Default is 385",
            placeholder: "385",
          }),
          l.createElement(m.pd, {
            type: "number",
            value: n,
            onChange: (e) =>
              t.SetBackgroundMobileOffset(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Mobile Pixel Offset",
            tooltip:
              "This value is how far away from the store header area on mobile to push content down (to let the background image be seen). This will likely be the mobile bg image assets height. Default is 350",
            placeholder: "350",
          }),
          l.createElement(m.pd, {
            type: "number",
            value: r,
            onChange: (e) =>
              t.SetBackgroundImageHeight(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Image Height",
            tooltip: "in Pixels",
            placeholder: "450",
          }),
          l.createElement(
            "p",
            null,
            "Set the background RGB color that extends past the width of the image. A valid format would look like '0,0,0' (without the quotes) for black. Set each to the same value to use one solid background color.",
          ),
          l.createElement(m.pd, {
            type: "text",
            value: i,
            onChange: (e) => t.SetColorLeft(e.currentTarget.value),
            label: "Left Background Color",
            placeholder: "255,255,255",
          }),
          l.createElement(m.pd, {
            type: "text",
            value: o,
            onChange: (e) => t.SetColorRight(e.currentTarget.value),
            label: "Right Background Color",
            placeholder: "255,255,255",
          }),
        );
      }
      function ze(e, t) {
        if (!t) return !0;
        switch (e) {
          case "page_bg":
            return t.includes("takeover_art");
          case "page_bg_mobile":
            return t.includes("takeover_mobile_art");
          case "mp4_page_bg":
            return t.includes("takeover_mp4_art");
          case "webm_page_bg":
          case "webm_page_bg_mobile":
            return t.includes("takeover_webm_mobile_art");
          case "mp4_page_bg_mobile":
            return t.includes("takeover_mp4_mobile_art");
        }
      }
      function xe(e) {
        const { oEditableTakeover: t, rgArtworkToDisplay: a } = e,
          n = (0, l.useMemo)(() => {
            const e = [
              "takeover_art",
              "takeover_webm_art",
              "takeover_mp4_art",
              "takeover_mobile_art",
              "takeover_webm_mobile_art",
              "takeover_mp4_mobile_art",
            ];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          r = (0, l.useMemo)(
            () => [W.TU.k_ESteamRealmGlobal, W.TU.k_ESteamRealmChina],
            [],
          ),
          i = (0, l.useCallback)(
            (e, a, n, r, i, s, l) => {
              (0, Pe.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (r) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  o =
                    s == Q.Fj.takeover_art.width ? "page_bg" : "page_bg_mobile";
                  break;
                case "video/mp4":
                  o =
                    s == Q.Fj.takeover_mp4_art.width
                      ? "mp4_page_bg"
                      : "mp4_page_bg_mobile";
                  break;
                case "video/webm":
                  o =
                    s == Q.Fj.takeover_webm_art.width
                      ? "webm_page_bg"
                      : "webm_page_bg_mobile";
                  break;
                default:
                  console.log(
                    "TakeoverAssetDisplayLanding unexpected mimetype: " + r,
                  );
              }
              o && t.SetImage(o, n, a);
            },
            [t],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "h2",
              { className: "inline" },
              "Takeover Assets (",
              t.GetTypeString(),
              ")",
            ),
            l.createElement("hr", null),
            Boolean("dev" == B.TS.WEB_UNIVERSE) &&
              l.createElement(
                "div",
                { className: Ie.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            l.createElement(te.U, {
              rgSupportArtwork: n,
              rgRealmList: r,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${B.TS.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: i,
            }),
            l.createElement(
              d.tH,
              null,
              l.createElement("br", null),
              ze("page_bg", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Static Background Asset"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "1850px by 450px"),
                    " (.jpg,.png,.gif)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "page_bg",
                  }),
                ),
              ze("page_bg_mobile", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Static Mobile Asset"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "500px by 350px"),
                    " (.jpg,.png,.gif)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "page_bg_mobile",
                  }),
                ),
              ze("webm_page_bg", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Animated Background Webm"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "1850px by 450px"),
                    " (.webm)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg",
                  }),
                ),
              ze("mp4_page_bg", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Animated Background Mp4"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "1850px by 450px"),
                    " (.mp4)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg",
                  }),
                ),
              ze("webm_page_bg_mobile", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Animated Mobile Webm"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "500px by 350px"),
                    " (.webm)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg_mobile",
                  }),
                ),
              ze("mp4_page_bg_mobile", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Animated Mobile Mp4"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "500px by 350px"),
                    " (.mp4)",
                  ),
                  l.createElement(qe, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg_mobile",
                  }),
                ),
            ),
          ),
          l.createElement(je, { oEditableTakeover: t }),
        );
      }
      function qe(e) {
        const { oEditableTakeover: t, assetType: a } = e,
          [r, i, o, m] = (0, s.q3)(() => [
            t.GetAssetsObject(a),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(r)
            .sort()
            .map((e) => (0, _e.sf)(e)),
          u = (0, l.useCallback)(
            (e) => {
              const t = (0, _e.Lg)(e);
              return r[t]
                ? (function (e, t, a, r, i) {
                    if (!i) return null;
                    const s = r ? "?t=" + r : "",
                      l = (0, _e.Lg)(a);
                    return `${B.TS.MEDIA_CDN_URL}steam/clusters/${(0, n.gw)(e)}/${t}/${i[l]}${s}`;
                  })(m, i, e, o, r)
                : null;
            },
            [i, o, r, m],
          );
        return l.createElement(
          "div",
          { className: c().MarketingMessage },
          l.createElement(ae.z, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function We(e) {
        const {
            oEditableTakeover: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          r = (0, s.q3)(() => {
            const e = new Map();
            return (
              Ne.lQ.forEach((a) => {
                let n = 0;
                const r = t.GetAssetsObject(a);
                for (let e = 0; e < 31; ++e) r && r[(0, _e.Lg)(e)] && (n += 1);
                e.set(a, n);
              }),
              e
            );
          });
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(m.JU, null, "Asset Progress"),
            Ne.lQ
              .filter((e) => r.has(e) && ze(e, a))
              .map((e) =>
                l.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, Ne.$U)(e),
                  ": ",
                  r.get(e),
                  " / 29",
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "a",
              {
                href: `${B.TS.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeover Editor",
            ),
            Boolean(n) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("br", null),
                l.createElement(
                  "a",
                  {
                    href: `${B.TS.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function je(e) {
        const { oEditableTakeover: t } = e,
          { fnSaveClusterAssets: a } = (0, Ce.Bx)(),
          [n, r, i, o, c, m] = (0, s.q3)(() => [
            t.BIsDirty(),
            t.GetType(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
            t.GetAssetParams(),
          ]);
        return l.createElement(le, {
          bIsDirty: n,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: 0 == c,
          fnOnSave: async () => {
            const e = await a(r, o, m);
            return e && t.Reset((0, Ce.S0)(r, i), r), e;
          },
        });
      }
      var He = a(49821);
      class Ve {
        m_oTakeunder = null;
        m_originalTakeover = null;
        m_type = n.ii.k_ConfigPage_Takeunder;
        m_bDirty = !1;
        m_callback = new K.lu();
        constructor(e) {
          (0, he.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oTakeunder = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = n.ii.k_ConfigPage_Takeunder),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeunder;
        }
        GetName() {
          return this.m_oTakeunder.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, n.gw)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeunder.creator;
        }
        GetAssociationID() {
          return this.m_oTakeunder.association;
        }
        GetAssociationType() {
          return this.m_oTakeunder.association_type;
        }
        GetStartDate() {
          return this.m_oTakeunder.visibility?.startdate || 0;
        }
        GetEndDate() {
          return this.m_oTakeunder.visibility?.enddate || 0;
        }
        BIsVisible() {
          return this.m_oTakeunder.visibility?.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            He.rk.forEach((t) => (e += (0, Se.Uh)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeunder[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeunder[e],
            ye.O.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeunder[e] || {};
        }
        GetID() {
          return this.m_oTakeunder.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, ye.O.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, a) {
          this.m_oTakeunder[e] || (this.m_oTakeunder[e] = {}),
            Array.isArray(this.m_oTakeunder[e]) && (this.m_oTakeunder[e] = {}),
            this.SetKVLang(this.m_oTakeunder[e], t, a),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeunder[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          const a = (0, _e.Lg)(t);
          this.m_oTakeunder[e]?.[a] &&
            (delete this.m_oTakeunder[e][a], this.Dispatch());
        }
        SetKVLang(e, t, a) {
          (0, Se.pV)(e, t, a) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Se.VX)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeunder = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, ge.Cg)([he.sH], Ve.prototype, "m_bDirty", void 0),
        (0, ge.Cg)([Ee.o], Ve.prototype, "SetCurImage", null),
        (0, ge.Cg)([he.XI.bound], Ve.prototype, "SetImage", null),
        (0, ge.Cg)([Ee.o], Ve.prototype, "ClearAllAssetObjects", null),
        (0, ge.Cg)([Ee.o], Ve.prototype, "DeleteAssetObjectLang", null),
        (0, ge.Cg)([Ee.o], Ve.prototype, "RevertChanges", null);
      class Ke {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitTakeunderToEdit(e, t, a = !1) {
          if (this.m_mapEditModel.has(e) && !a)
            this.m_mapEditModel.get(e).Reset(t);
          else {
            const n = new Ve(t);
            this.m_mapEditModel.set(e, n),
              n.GetCallback().Register((t) => this.GetCallback(e).Dispatch(t)),
              a && this.m_mapEditModel.get(e).GetCallback().Dispatch(n);
          }
          return this.m_mapEditModel.get(e);
        }
        BHasTakeunderToEdit(e) {
          return this.m_mapEditModel.has(e);
        }
        GetTakeunderToEdit(e) {
          return this.m_mapEditModel.get(e);
        }
        ClearEditModel(e) {
          this.m_mapEditModel.delete(e);
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new K.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Ke.s_Singleton ||
              ((Ke.s_Singleton = new Ke()),
              "dev" == B.TS.WEB_UNIVERSE &&
                (window.g_takeunderEditStore = Ke.s_Singleton)),
            Ke.s_Singleton
          );
        }
        constructor() {}
      }
      function Ye(e) {
        const t = (0, Y.CH)(),
          [a, r] = l.useState(() => Ke.Get().GetTakeunderToEdit(e)),
          i = (0, Ce.TR)(n.ii.k_ConfigPage_Takeunder, e);
        return (
          l.useEffect(() => {
            i &&
              !Ke.Get().BHasTakeunderToEdit(i.id) &&
              Ke.Get().InitTakeunderToEdit(i.id, i),
              r(Ke.Get().GetTakeunderToEdit(i?.id));
          }, [i, e]),
          (0, Y.hL)(Ke.Get().GetCallback(e), (e) => {
            r(e), t();
          }),
          a
        );
      }
      function $e(e) {
        const { rgArtworkToDisplay: t, promotionPlanID: a, id: n } = e,
          r = Ye(n);
        return void 0 === r
          ? l.createElement(ne.t, {
              size: "medium",
              position: "center",
              string: (0, y.we)("#Loading"),
            })
          : r
            ? l.createElement(
                "div",
                { className: se.EditCtn },
                l.createElement(
                  "div",
                  { className: c().PageTitle },
                  "Front Page Takeunder - Asset Management",
                ),
                l.createElement("hr", null),
                l.createElement(
                  "div",
                  { className: c().ColumnCtn },
                  l.createElement(
                    "div",
                    { className: c().LeftCol },
                    l.createElement(Xe, {
                      oEditableTakeunder: r,
                      rgArtworkToDisplay: t,
                    }),
                  ),
                  l.createElement(Ze, {
                    oEditableTakeunder: r,
                    rgArtworkToDisplay: t,
                    promotionPlanID: a,
                  }),
                ),
              )
            : l.createElement(
                "div",
                null,
                l.createElement("div", null, "Takeunder does not exist."),
                l.createElement(
                  Be.N_,
                  {
                    to: `${B.TS.PARTNER_BASE_URL}admin/store/pageclusteredit/takeunder}`,
                  },
                  "Return to Takeunder Dashboard.",
                ),
              );
      }
      function Je(e, t) {
        if (!t) return !0;
        switch (e) {
          case "takeunder_desktop":
            return t.includes("takeunder_art");
          case "takeunder_mobile":
            return t.includes("takeunder_mobile_art");
        }
      }
      function Xe(e) {
        const { oEditableTakeunder: t, rgArtworkToDisplay: a } = e,
          n = (0, l.useMemo)(() => {
            const e = ["takeunder_art", "takeunder_mobile_art"];
            return a ? a.filter((t) => e.includes(t)) : e;
          }, [a]),
          r = (0, l.useMemo)(() => [W.TU.k_ESteamRealmGlobal], []),
          i = (0, l.useCallback)(
            (e, a, n, r, i, s, l) => {
              (0, Pe.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n,
              );
              let o = null;
              switch (r) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  o =
                    s == Q.Fj.takeunder_art.width
                      ? "takeunder_desktop"
                      : "takeunder_mobile";
                  break;
                default:
                  console.log(
                    "TakeunderAssetDisplayLanding unexpected mimetype: " + r,
                  );
              }
              o && t.SetImage(o, n, a);
            },
            [t],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "h2",
              { className: "inline" },
              "Frontpage Takeunder Assets",
            ),
            l.createElement("hr", null),
            Boolean("dev" == B.TS.WEB_UNIVERSE) &&
              l.createElement(
                "div",
                { className: Ie.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            l.createElement(te.U, {
              rgSupportArtwork: n,
              rgRealmList: r,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${B.TS.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: i,
            }),
            l.createElement(
              d.tH,
              null,
              l.createElement("br", null),
              Je("takeunder_desktop", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Takeunder Banner Asset"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "940 by 150px"),
                    " (.jpg,.png,.gif)",
                  ),
                  l.createElement(Qe, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_desktop",
                  }),
                ),
              Je("takeunder_mobile", a) &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("h3", null, "Takeunder Banner Mobile Asset"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "500px by 160"),
                    " (.jpg,.png,.gif)",
                  ),
                  l.createElement(Qe, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_mobile",
                  }),
                ),
            ),
          ),
          l.createElement(et, { oEditableTakeunder: t }),
        );
      }
      function Qe(e) {
        const { oEditableTakeunder: t, assetType: a } = e,
          [r, i, o, m] = (0, s.q3)(() => [
            t.GetAssetsObject(a),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(r)
            .sort()
            .map((e) => (0, _e.sf)(e)),
          u = (0, l.useCallback)(
            (e) => {
              const t = (0, _e.Lg)(e);
              return r[t]
                ? (function (e, t, a, r, i) {
                    if (!i) return null;
                    const s = r ? "?t=" + r : "",
                      l = (0, _e.Lg)(a);
                    return `${B.TS.MEDIA_CDN_URL}steam/clusters/${(0, n.gw)(e)}/${t}/${i[l]}${s}`;
                  })(m, i, e, o, r)
                : null;
            },
            [i, o, r, m],
          );
        return l.createElement(
          "div",
          { className: c().MarketingMessage },
          l.createElement(ae.z, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
      function Ze(e) {
        const {
            oEditableTakeunder: t,
            rgArtworkToDisplay: a,
            promotionPlanID: n,
          } = e,
          r = (0, s.q3)(() => {
            const e = new Map();
            return (
              He.rk.forEach((a) => {
                let n = 0;
                const r = t.GetAssetsObject(a);
                for (let e = 0; e < 31; ++e) r && r[(0, _e.Lg)(e)] && (n += 1);
                e.set(a, n);
              }),
              e
            );
          });
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(m.JU, null, "Asset Progress"),
            He.rk
              .filter((e) => r.has(e) && Je(e, a))
              .map((e) =>
                l.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, He.NU)(e),
                  ": ",
                  r.get(e),
                  " / 29",
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "a",
              {
                href: `${B.TS.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeunder Editor",
            ),
            Boolean(n) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("br", null),
                l.createElement(
                  "a",
                  {
                    href: `${B.TS.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function et(e) {
        const { oEditableTakeunder: t } = e,
          { fnSaveClusterAssets: a } = (0, Ce.Bx)(),
          [r, i, o, c] = (0, s.q3)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return l.createElement(le, {
          bIsDirty: r,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: async () => {
            const e = await a(n.ii.k_ConfigPage_Takeunder, o);
            return e && t.Reset((0, Ce.S0)(n.ii.k_ConfigPage_Takeunder, i)), e;
          },
        });
      }
      var tt = a(38152),
        at = a(48479),
        nt = a(78327);
      class rt {
        m_oStoreAppAssets = null;
        m_originalStoreAppAssets = null;
        m_bDirty = !1;
        m_callback = new K.lu();
        constructor(e) {
          (0, he.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_oStoreAppAssets = JSON.parse(JSON.stringify(e))),
            (this.m_originalStoreAppAssets = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oStoreAppAssets;
        }
        GetAssets(e) {
          return this.m_oStoreAppAssets[e];
        }
        GetAsset(e, t = "english") {
          return this.m_oStoreAppAssets[e][t];
        }
        GetID() {
          return this.m_oStoreAppAssets.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetAsset(e, t, a) {
          const n = this.m_oStoreAppAssets[e];
          n[t] != a &&
            ((n[t] = a), this.SetDirty(!0), this.m_callback.Dispatch(this));
        }
        RevertChanges(e) {
          alert(
            "Revert not yet supported.  To revert pending changes visit the app's store app settings",
          );
        }
      }
      (0, ge.Cg)([he.sH], rt.prototype, "m_bDirty", void 0),
        (0, ge.Cg)([Ee.o], rt.prototype, "RevertChanges", null);
      const it = ["header_image", "main_capsule"];
      function st(e) {
        switch (e) {
          case "header_image":
            return "app_header_capsule";
          case "main_capsule":
            return "app_main_capsule";
        }
      }
      function lt(e) {
        switch (e) {
          case "app_header_capsule":
            return "header_image";
          case "app_main_capsule":
            return "main_capsule";
        }
      }
      class ot {
        m_mapAppAssets = new Map();
        m_mapChangeCallbacks = new Map();
        m_mapAppAssetLoaders = new Map();
        GetAppAssetsByID(e) {
          return this.m_mapAppAssets.get(e);
        }
        GetCallbackForAssetsByID(e) {
          return (
            this.m_mapChangeCallbacks.has(e) ||
              this.m_mapChangeCallbacks.set(e, new K.lu()),
            this.m_mapChangeCallbacks.get(e)
          );
        }
        async LoadAssets(e) {
          return (
            this.m_mapAppAssets.has(e) ||
              this.m_mapAppAssetLoaders.set(e, this.InternalLoadAssets(e)),
            this.m_mapAppAssets.get(e)
          );
        }
        async InternalLoadAssets(e) {
          let t = null;
          try {
            const a = B.TS.PARTNER_BASE_URL + "appsupport/ajaxgetassets/" + e,
              n = new FormData();
            n.append("sessionid", B.TS.SESSIONID);
            const r = await C().post(a, n, { withCredentials: !0 });
            if (200 == r?.status && 1 == r.data?.success) {
              const t = {
                id: r.data.id,
                header_image: r.data?.assets?.header_image?.image ?? {},
                main_capsule: r.data?.assets?.main_capsule?.image ?? {},
              };
              return (
                this.InternalAddAppAssets(e, t),
                this.GetCallbackForAssetsByID(e).Dispatch(t),
                t
              );
            }
            t = (0, I.H)(r?.data);
          } catch (e) {
            t = (0, I.H)(e);
          }
          return (
            console.error(
              "CAppAssetsStore.InternalLoadAssets: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            null
          );
        }
        async PublishAssets(e) {
          let t = null;
          try {
            const a = B.TS.PARTNER_BASE_URL + "appsupport/ajaxpublishassets",
              n = new FormData();
            n.append("appid", JSON.stringify(e)),
              n.append("sessionid", B.TS.SESSIONID);
            const r = await C().post(a, n, { withCredentials: !0 });
            if (200 == r?.status && 1 == r.data?.success) return !0;
            t = (0, I.H)(r?.data);
          } catch (e) {
            t = (0, I.H)(e);
          }
          return (
            console.log(
              "CAppAssetsStore.PublishAssets: ajax request failed with error: " +
                t.strErrorMsg,
              t,
            ),
            !1
          );
        }
        static s_Singleton;
        static Get() {
          return (
            ot.s_Singleton ||
              ((ot.s_Singleton = new ot()),
              ot.s_Singleton.Init(),
              "dev" == B.TS.WEB_UNIVERSE &&
                (window.g_AppAssetsStore = ot.s_Singleton)),
            ot.s_Singleton
          );
        }
        constructor() {}
        async Init() {}
        InternalAddAppAssets(e, t) {
          this.m_mapAppAssets.set(e, t);
        }
      }
      (0, ge.Cg)([Ee.o], ot.prototype, "LoadAssets", null),
        (0, ge.Cg)([Ee.o], ot.prototype, "PublishAssets", null);
      class ct {
        m_mapEditModel = new Map();
        m_callback = new Map();
        InitAppAssetsToEdit(e, t, a = !1) {
          if (
            ("dev" == nt.TS.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CAppAssetsEditStore.InitAppAssetsToEdit with model: " +
                  Boolean(this.m_mapEditModel.get(e)),
                (0, he.HO)(t),
              ),
            this.m_mapEditModel.has(e) && !a)
          )
            this.m_mapEditModel.get(e).Reset(t);
          else {
            const n = new rt(t);
            this.m_mapEditModel.set(e, n),
              n.GetCallback().Register((t) => this.GetCallback(e).Dispatch(t)),
              a && this.GetCallback(e).Dispatch(n);
          }
          return this.m_mapEditModel.get(e);
        }
        BHasAppAssetsToEdit(e) {
          return this.m_mapEditModel.has(e);
        }
        GetAppAssetsToEdit(e) {
          return this.m_mapEditModel.get(e);
        }
        ClearEditModel(e) {
          this.m_mapEditModel.delete(e);
        }
        GetCallback(e) {
          return (
            this.m_callback.has(e) || this.m_callback.set(e, new K.lu()),
            this.m_callback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return (
            ct.s_Singleton ||
              ((ct.s_Singleton = new ct()),
              "dev" == nt.TS.WEB_UNIVERSE &&
                (window.g_AppAssetsEditStore = ct.s_Singleton)),
            ct.s_Singleton
          );
        }
        constructor() {}
      }
      function mt(e) {
        const t = (0, Y.CH)(),
          [a, n] = l.useState(ct.Get().GetAppAssetsToEdit(e)),
          r = (function (e) {
            const [t, a] = (0, l.useState)(() => ot.Get().GetAppAssetsByID(e));
            return (
              (0, l.useEffect)(() => {
                e ? ot.Get().LoadAssets(e).then(a) : a(void 0);
              }, [e]),
              (0, Y.hL)(ot.Get().GetCallbackForAssetsByID(e), a),
              t
            );
          })(e);
        return (
          l.useEffect(() => {
            e &&
              r &&
              !ct.Get().BHasAppAssetsToEdit(e) &&
              ct.Get().InitAppAssetsToEdit(e, r),
              n(ct.Get().GetAppAssetsToEdit(e));
          }, [e, r]),
          (0, Y.hL)(ct.Get().GetCallback(e), (e) => {
            n(e), t();
          }),
          a
        );
      }
      function dt(e, t) {
        const a = new Map();
        if (!e) return a;
        let n = t ? t?.filter((e) => it.includes(lt(e))) : it.map((e) => st(e));
        return (
          n?.forEach((t) => {
            a.set(t, (0, Se.Uh)(e.GetAssets(lt(t))));
          }),
          a
        );
      }
      function ut(e) {
        const { bShowInternalControls: t, rgArtworkToDisplay: a, id: n } = e,
          r = mt(n);
        return r
          ? l.createElement(
              "div",
              { className: se.EditCtn },
              l.createElement(
                "div",
                { className: c().PageTitle },
                "Promotion App - Asset Management",
              ),
              l.createElement("hr", null),
              l.createElement(
                "div",
                { className: c().ColumnCtn },
                l.createElement(
                  "div",
                  { className: c().LeftCol },
                  l.createElement(pt, {
                    bShowInternalControls: t,
                    oEditableAppAssets: r,
                    rgArtworkToDisplay: a,
                  }),
                ),
                l.createElement(gt, {
                  oEditableAppAssets: r,
                  rgArtworkToDisplay: a,
                }),
              ),
            )
          : l.createElement(ne.t, {
              size: "medium",
              position: "center",
              string: (0, y.we)("#Loading"),
            });
      }
      function pt(e) {
        const {
            bShowInternalControls: t,
            oEditableAppAssets: a,
            rgArtworkToDisplay: n,
          } = e,
          r = (0, l.useMemo)(() => {
            const e = ["app_header_capsule", "app_main_capsule"];
            return n ? n.filter((t) => e.includes(t)) : e;
          }, [n]),
          i = (0, l.useMemo)(
            () => [W.TU.k_ESteamRealmGlobal, W.TU.k_ESteamRealmChina],
            [],
          ),
          s = (0, l.useCallback)(
            (e, t, n, r, i, s, l) => {
              a.SetAsset(lt(i), (0, _e.Lg)(n), t);
            },
            [a],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "h2",
              { className: "inline" },
              "Promotion App Assets",
            ),
            l.createElement("hr", null),
            Boolean("dev" == B.TS.WEB_UNIVERSE) &&
              l.createElement(
                "div",
                { className: Ie.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            l.createElement(te.U, {
              rgSupportArtwork: r,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${B.TS.PARTNER_BASE_URL}appsupport/ajaxuploadasset/${a.GetID()}`,
              fnOnUploadSuccess: s,
              bSynchronousUpload: !0,
            }),
            l.createElement(
              d.tH,
              null,
              l.createElement("br", null),
              r.includes("app_header_capsule") &&
                l.createElement(
                  "div",
                  null,
                  l.createElement("h3", null, "Header Capsule"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "920px by 430px"),
                    " (.jpg,.png)",
                  ),
                  l.createElement(_t, {
                    oEditableAppAssets: a,
                    assetType: "header_image",
                  }),
                ),
              r.includes("app_main_capsule") &&
                l.createElement(
                  "div",
                  null,
                  l.createElement("h3", null, "Main Capsule"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement("span", null, "1232px by 706px"),
                    " (.jpg,.png)",
                  ),
                  l.createElement(_t, {
                    oEditableAppAssets: a,
                    assetType: "main_capsule",
                  }),
                ),
            ),
          ),
          t && l.createElement(ht, { oEditableAppAssets: a }),
        );
      }
      function _t(e) {
        const { oEditableAppAssets: t, assetType: a } = e,
          [n, r] = (0, s.q3)(() => [t.GetAssets(a), t.GetID()]),
          i = Object.keys(n)
            .sort()
            .map((e) => (0, _e.sf)(e)),
          o = (0, l.useCallback)(
            (e) => {
              const t = (0, _e.Lg)(e);
              return n[t]
                ? ((a = r),
                  (i = n[t]),
                  B.TS.BASE_URL_SHARED_CDN +
                    "store_item_assets/steam/apps/" +
                    a +
                    "/" +
                    i)
                : null;
              var a, i;
            },
            [r, n],
          );
        return l.createElement(
          "div",
          { className: c().MarketingMessage },
          l.createElement(ae.z, {
            rgAssetLangs: i,
            fnGetAssetUrl: o,
            fnDeletAssetLang: (e) =>
              alert(
                "reverting asset changes is not yet supported. To revert changes please visit the store app's settings",
              ),
            fnDeleteAllAssets: () =>
              alert(
                "reverting asset changes is not yet supported. To revert changes please visit the store app's settings",
              ),
          }),
        );
      }
      function gt(e) {
        const { oEditableAppAssets: t, rgArtworkToDisplay: a } = e,
          n = dt(t, a);
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(m.JU, null, "Asset Progress"),
            it
              .filter((e) => n.has(st(e)))
              .map((e) =>
                l.createElement(
                  "div",
                  { key: "as_" + e },
                  (function (e) {
                    switch (e) {
                      case "header_image":
                        return (0, y.we)(
                          "#EventEditor_ArtworkType_app_header_capsule",
                        );
                      case "main_capsule":
                        return (0, y.we)(
                          "#EventEditor_ArtworkType_app_main_capsule",
                        );
                    }
                  })(e),
                  ": ",
                  n.get(st(e)),
                  " / ",
                  H.G,
                ),
              ),
          ),
        );
      }
      function ht(e) {
        const { oEditableAppAssets: t } = e,
          [a, n] = (0, s.q3)(() => [t.BIsDirty(), t.GetID()]);
        return l.createElement(le, {
          bIsDirty: a,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: !1,
          strSave: (0, y.we)("#Button_Publish"),
          strSaved: (0, y.we)("#Button_Published"),
          strSaving: (0, y.we)("#Publishing"),
          fnOnSave: async () => {
            const e = await (function (e) {
              return ot.Get().PublishAssets(e);
            })(n);
            return !!e && (t.SetDirty(!1), !0);
          },
        });
      }
      var Et = a(32703);
      function St(e) {
        const { rtTime: t } = e;
        return l.createElement(
          "span",
          null,
          (0, y.TW)(t),
          " as ",
          (0, v.KC)(t),
        );
      }
      function yt(e) {
        const t = (0, i.ok)(),
          [a, n, r] = (0, s.q3)(() => [
            t.GetArtworkLocalizationDropboxLink(),
            t.GetArtworkLocalizationTaskID(),
            t.GetArtworkLocalizationRequests(),
          ]);
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            {
              className: (0, E.A)(
                c().DefaultSectionCtn,
                c().ValveOnlyBackground,
              ),
            },
            l.createElement(
              "h2",
              { className: c().ValveOnlyTitle },
              "Valve Only",
            ),
            l.createElement(
              "p",
              null,
              "This page is for communicating with BluePrint localization team for assets they require localization work.",
            ),
            l.createElement(m.pd, {
              type: "url",
              label: "DropBox Link",
              value: a,
              onChange: (e) =>
                t.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
            }),
            l.createElement(
              at.qx,
              { title: "Required Assets", bStartMinimized: Boolean(n) },
              l.createElement(bt, null),
            ),
            Boolean(!n) ? l.createElement(vt, null) : l.createElement(ft, null),
            l.createElement("h3", null, "Promotion Plan Save Buttons"),
            l.createElement(q.M, { oEditablePlan: t }),
          ),
          l.createElement(It, {
            bShowInternalControls: !1,
            bDisableRouting: !0,
            rgArtworkToDisplay: r,
          }),
        );
      }
      function vt(e) {
        const t = (0, i.ok)(),
          [a, n] = (0, s.q3)(() => [
            t.BHasArtworkLocalizationSteamChinaOnly(),
            t.GetNumArtworkLocalizationRequired(),
          ]);
        return l.createElement(
          "div",
          null,
          l.createElement("h3", null, "Required Languages"),
          l.createElement(m.Yh, {
            label: "Only Steam China Localization",
            tooltip:
              "If checked, we only want English and Simplified Chinese. Otherwise, we want all of the languages Steam supports",
            checked: a,
            onChange: (e) => t.SetArtworkLocalizationSteamChinaOnly(e),
          }),
          l.createElement(
            m.$n,
            {
              disabled: 0 == n,
              onClick: (e) =>
                (0, g.pg)(
                  l.createElement(z, { oEditablePlan: t, bSteamChinaOnly: a }),
                  (0, S.uX)(e),
                ),
            },
            "Create Monday Localization Request",
          ),
          l.createElement("br", null),
        );
      }
      function ft(e) {
        const t = (0, i.ok)(),
          [a, n, r] = (0, s.q3)(() => [
            t.GetArtworkLocationUploadAssetURL(),
            t.GetArtworkLocalizationRequestTime(),
            t.GetArtworkLocalizationTaskID(),
          ]);
        return l.createElement(
          "div",
          null,
          l.createElement("br", null),
          l.createElement("h3", null, "Localization Request has been created"),
          l.createElement(
            "div",
            null,
            "Localization Request Initiated at ",
            l.createElement(St, { rtTime: n }),
            ".",
            l.createElement(
              "a",
              {
                href: `https://valve-loc.monday.com/boards/4985300096/pulses/${r}`,
              },
              "Open Task",
            ),
          ),
          l.createElement(
            "a",
            { href: a, target: "_blank" },
            "Page Localization Team will see for Asset Upload",
          ),
        );
      }
      function bt(e) {
        return l.createElement(
          "div",
          { className: b().AssetNeedsColumn },
          l.createElement("h3", null, "Required Assets"),
          l.createElement(
            "p",
            null,
            "Choose the assets below which require localization support. Once that is complete, make ther request to initialize the localization process via their tracking tools",
          ),
          Q.cV.map((e) =>
            l.createElement(
              "div",
              { key: e, className: b().AssetTypeRow },
              l.createElement(w.Av, {
                type: e,
                bLocalizationRequest: !0,
                index: e.startsWith("marketingmessage_art_2") ? 1 : void 0,
              }),
            ),
          ),
        );
      }
      function wt(e) {
        const { planid: t } = e;
        return l.createElement(
          tt.rr,
          { planid: t, bCanBeMissing: !1 },
          l.createElement(Dt, null),
        );
      }
      function Dt(e) {
        const t = (0, i.ok)(),
          a = (0, s.q3)(() => t.GetArtworkLocalizationRequests());
        return l.createElement(It, {
          strHeaderName: t.GetName(),
          bShowInternalControls: !1,
          rgArtworkToDisplay: a,
        });
      }
      function Ct(e) {
        return l.createElement(
          "div",
          { className: (0, E.A)(c().DefaultSectionCtn) },
          l.createElement("h2", null, "Asset Upload"),
          l.createElement(
            "p",
            null,
            "This is the single place where we can upload and review all of the assets required by this promotion plan without having to visit any other promotion tools.",
          ),
          l.createElement(
            "p",
            null,
            "Note: Please remember to save the uploaded files per page as they have their own save logic.",
          ),
          l.createElement("br", null),
          l.createElement("br", null),
          l.createElement(It, {
            bShowInternalControls: !0,
            bDisableRouting: !0,
          }),
        );
      }
      function It(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: a,
            bDisableRouting: s,
            strHeaderName: o,
          } = e,
          [c, m] = (0, u.QD)("loc_tab", "current"),
          p = (e) => m(e.key),
          g = (0, i.ok)(),
          E = new Array(),
          S = new Array();
        return (
          !g.BHasMarketingMessages(0) ||
            (a && !a.includes("marketingmessage_art")) ||
            E.push({
              artworkType: "marketingmessage_art",
              id: g.GetMarketingMessageID(0),
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          !g.BHasMarketingMessages(1) ||
            (a && !a.includes("marketingmessage_art_2")) ||
            E.push({
              artworkType: "marketingmessage_art_2",
              id: g.GetMarketingMessageID(1),
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          !g.BHasSpotlightIDs(0) ||
            (a && !a.includes("spotlight_art")) ||
            E.push({
              artworkType: "spotlight_art",
              id: g.GetSpotlightIDs(0),
              promotionPlanID: g.GetID(),
            }),
          g.BHasTakeoverIDs(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: g.GetTakeoverID(0),
              type: n.ii.k_ConfigPage_Takeover,
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          g.BHasSteamChinaTakeoverID(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: g.GetSteamChinaTakeoverID(0),
              type: n.ii.k_ConfigPage_TakeoverSteamChina,
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          g.BHasContentHubTakeoverIDs(0) &&
            (!a ||
              a.includes("takeover_art") ||
              a.includes("takeover_mobile_art")) &&
            E.push({
              artworkType: "takeover_art",
              id: g.GetContentHubTakeoverID(0),
              type: g.GetContentHubTakeoverType(0),
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          g.BHasTakeunderIDs(0) &&
            (!a ||
              a.includes("takeunder_art") ||
              a.includes("takeunder_mobile_art")) &&
            E.push({
              artworkType: "takeunder_art",
              id: g.GetTakeunderID(0),
              type: n.ii.k_ConfigPage_Takeunder,
              promotionPlanID: g.GetID(),
            }),
          g.BHasAssociatedSaleEvent() &&
            (!a ||
              a.includes("sale_header") ||
              a.includes("sale_logo") ||
              a.includes("capsule")) &&
            E.push({
              artworkType: "sale_header",
              clanAccountID: g.GetSaleClanAccountID(),
              gidClanEvent: g.GetSaleClanEventGID(),
              promotionPlanID: g.GetID(),
            }),
          g.BHasAdvertisingAppID() &&
            (!a ||
              a.includes("app_header_capsule") ||
              a.includes("app_main_capsule")) &&
            E.push({
              artworkType: "app_header_capsule",
              id: g.GetAdvertisingAppID().toString(),
              bShowInternalControls: t,
              promotionPlanID: g.GetID(),
            }),
          E.forEach((e) => {
            S.push({
              name: (0, r.Pq)(e.artworkType),
              key: (e.type ? (0, n.gw)(e.type) + "_" : "") + e.artworkType,
              status: l.createElement(
                d.tH,
                null,
                l.createElement(Bt, { ...e, rgArtworkToDisplay: a }),
              ),
              contents: l.createElement(
                d.tH,
                null,
                l.createElement(Tt, { ...e, rgArtworkToDisplay: a }),
              ),
              onClick: p,
            });
          }),
          l.createElement(
            "div",
            null,
            Boolean(o) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("h1", null, o),
                l.createElement("hr", null),
              ),
            l.createElement(h.V, { tabs: S, bDisableRouting: s }),
            l.createElement("div", { className: _().ClearThings }),
          )
        );
      }
      function Bt(e) {
        const {
            artworkType: t,
            rgArtworkToDisplay: a,
            id: n,
            clanAccountID: r,
            gidClanEvent: i,
            type: s,
          } = e,
          o = [
            { rgType: Q._d, component: () => l.createElement(Nt, { id: n }) },
            {
              rgType: Q.Yw,
              component: () =>
                l.createElement(Pt, { rgArtworkToDisplay: a, id: parseInt(n) }),
            },
            {
              rgType: Q.PL,
              component: () =>
                l.createElement(kt, { rgArtworkToDisplay: a, id: n }),
            },
            {
              rgType: Q.Hj,
              component: () =>
                l.createElement(At, { rgArtworkToDisplay: a, type: s, id: n }),
            },
            {
              rgType: Q.tW,
              component: () =>
                l.createElement(Mt, { rgArtworkToDisplay: a, id: n }),
            },
            {
              rgType: Q.FZ,
              component: () =>
                l.createElement(Rt, {
                  rgArtworkToDisplay: a,
                  clanAccountID: r,
                  gidClanEvent: i,
                }),
            },
          ].find((e) => e.rgType.includes(t));
        return o ? o.component() : l.createElement("div", null, "status todo");
      }
      function Tt(e) {
        const {
            artworkType: t,
            gidClanEvent: a,
            bShowInternalControls: n,
            rgArtworkToDisplay: r,
            promotionPlanID: i,
            id: s,
            clanAccountID: o,
            type: c,
          } = e,
          m = [
            {
              rgType: Q._d,
              component: () =>
                l.createElement(x.rR, {
                  bAssetUploadOnly: !n,
                  promotionPlanID: i,
                  id: s,
                }),
            },
            {
              rgType: Q.PL,
              component: () =>
                l.createElement(Te, { promotionPlanID: i, id: s }),
            },
            {
              rgType: Q.Hj,
              component: () =>
                l.createElement(Le, {
                  bShowInternalControls: n,
                  rgArtworkToDisplay: r,
                  promotionPlanID: i,
                  id: s,
                  type: c,
                }),
            },
            {
              rgType: Q.tW,
              component: () =>
                l.createElement($e, {
                  rgArtworkToDisplay: r,
                  promotionPlanID: i,
                  id: s,
                }),
            },
            {
              rgType: Q.FZ,
              component: () =>
                l.createElement(ce, {
                  gidClanEvent: a,
                  rgArtworkToDisplay: r,
                  promotionPlanID: i,
                  clanAccountID: o,
                }),
            },
            {
              rgType: Q.Yw,
              component: () =>
                l.createElement(ut, {
                  bShowInternalControls: n,
                  rgArtworkToDisplay: r,
                  promotionPlanID: i,
                  id: parseInt(s),
                }),
            },
          ].find((e) => e.rgType.includes(t));
        return m
          ? m.component()
          : l.createElement("div", null, "Not Built yet.");
      }
      function Mt(e) {
        const { rgArtworkToDisplay: t, id: a } = e,
          n = (function (e, t) {
            const a = new Map();
            if (!e) return a;
            let n = t
              ? t?.filter((e) => He.rk.includes((0, He.ir)(e)))
              : He.rk.map((e) => (0, He.m9)(e));
            return (
              n?.forEach((t) => {
                a?.set(t, (0, Se.Uh)(e?.GetAssetsObject((0, He.ir)(t))));
              }),
              a
            );
          })(Ye(a), t);
        return l.createElement(Gt, { rgAssetCounts: n });
      }
      function At(e) {
        const { rgArtworkToDisplay: t, type: a, id: n } = e,
          r = (function (e, t) {
            const a = new Map();
            if (!e) return a;
            let n = t
              ? t?.filter((e) => Ne.lQ.includes((0, Ne.A8)(e)))
              : Ne.lQ.map((e) => (0, Ne.QT)(e));
            return (
              n?.forEach((t) => {
                a?.set(t, (0, Se.Uh)(e.GetAssetsObject((0, Ne.A8)(t))));
              }),
              a
            );
          })(Fe(a, n), t);
        return l.createElement(Gt, { rgAssetCounts: r });
      }
      function kt(e) {
        const { rgArtworkToDisplay: t, id: a } = e,
          n = De(we(a), t);
        return l.createElement(Gt, { rgAssetCounts: n });
      }
      function Rt(e) {
        const { rgArtworkToDisplay: t, clanAccountID: a, gidClanEvent: n } = e,
          r = X(J(a, n), t);
        return l.createElement(Gt, { rgAssetCounts: r });
      }
      function Pt(e) {
        const { rgArtworkToDisplay: t, id: a } = e,
          n = mt(a),
          r = dt(n, t);
        return l.createElement(Gt, { rgAssetCounts: r, bLoading: !n });
      }
      function Nt(e) {
        const { id: t } = e,
          {
            bMinimumAssetsSetup: a,
            nAssetSetup: n,
            nCompleteAssetRequired: r,
          } = (0, Et.M)(t);
        return a
          ? l.createElement(
              "div",
              { className: _().EventElementComplete },
              "done",
            )
          : l.createElement(
              "div",
              { className: _().EventElementRequired },
              n + " / " + r,
              " added",
            );
      }
      function Gt(e) {
        const { rgAssetCounts: t, bLoading: a } = e;
        if (a)
          return l.createElement(ne.t, {
            size: "medium",
            position: "center",
            string: (0, y.we)("#Loading"),
          });
        if (!t?.size) return null;
        let n = !0,
          r = 0,
          i = 0;
        return (
          t.forEach((e) => {
            e < H.G && (n = !1), (r += H.G), (i += e);
          }),
          n
            ? l.createElement(
                "div",
                { className: _().EventElementComplete },
                "done",
              )
            : l.createElement(
                "div",
                { className: _().EventElementRequired },
                i + " / " + r,
                " added",
              )
        );
      }
    },
    627: (e, t, a) => {
      "use strict";
      a.d(t, { K: () => _, O: () => p });
      var n = a(32703),
        r = a(90626),
        i = a(45737),
        s = a.n(i),
        l = a(16676),
        o = a(36431),
        c = a(30470),
        m = a(65946),
        d = a(56186),
        u = a(97911);
      function p(e) {
        const { oEditableMessage: t, promotionPlanID: a } = e;
        return r.createElement(
          "div",
          { className: s().RightCol },
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(l.JU, null, "Asset Progress"),
            r.createElement(_, { oEditableMessage: t }),
          ),
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(
              "a",
              {
                href: `${c.TS.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t?.GetGID()}`,
                target: "_blank",
              },
              "Open Marketing Message Editor",
            ),
            Boolean(a) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement("br", null),
                r.createElement(
                  "a",
                  {
                    href: `${c.TS.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function _(e) {
        const { oEditableMessage: t } = e,
          {
            bMinimumAssetsSetup: a,
            nAssetSetup: i,
            nCompleteAssetRequired: s,
            bMatchingVideoAssets: l,
            strCustomTemplateType: c,
            nPosterCount: p,
            nSubtitleCount: _,
            bHasStoreVerticalCapsule: g,
          } = (0, n.M)(t?.GetGID()),
          [h, E] = (0, m.q3)(() => [
            (0, d.$I)(t?.GetCustomTemplate() || ""),
            (0, d.Zi)(t?.GetCustomTemplate()),
          ]),
          S = (0, u.L)(t);
        return t
          ? r.createElement(
              r.Fragment,
              null,
              Boolean(h) && r.createElement("div", null, "No Asset Required"),
              Boolean(E || S) &&
                r.createElement(o._, {
                  bDone: g,
                  name: "Store Item has Vertical Asset",
                  tooltip:
                    "The vertical capsule is required for the native display of the Marketing Message carousel on the Steam deck to work",
                }),
              Boolean(!h && !E) &&
                r.createElement(o._, { bDone: a, name: `Assets (${i}/${s})` }),
              !c &&
                void 0 !== l &&
                r.createElement(o._, {
                  bDone: l,
                  name: "Animated Assets (webm + mp4)",
                  tooltip:
                    "Animated assets require matching mp4, webm and images for every langauage where there is an mp4 or webm supplied.  Must at lesat provide 1 animated asset for this setting.",
                }),
              "featured_video" === c &&
                r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(o._, {
                    bDone: l,
                    name: "Featured Video",
                    tooltip:
                      "Requries both .webm and .mp4 for featuring to work",
                  }),
                  r.createElement(o._, {
                    bDone: p > 0,
                    name: `Poster Assets (${p}/${s})`,
                  }),
                  r.createElement(o._, {
                    bDone: _ > 0,
                    name: `Subtitles (${_}/${s})`,
                  }),
                ),
            )
          : null;
      }
    },
    95896: (e, t, a) => {
      "use strict";
      a.d(t, { NM: () => G, rR: () => P });
      var n = a(2160),
        r = a(22837),
        i = a(34288),
        s = a(65946),
        l = a(90626),
        o = a(73744),
        c = a(56004),
        m = a(56186),
        d = a(45737),
        u = a.n(d),
        p = a(32625),
        _ = a(42508),
        g = a(16676),
        h = a(84811),
        E = a(56330),
        S = a(95695),
        y = a.n(S),
        v = a(91693),
        f = a(9154),
        b = a(738),
        w = a(22797),
        D = a(44332),
        C = a(52038),
        I = a(56011),
        B = a(61859),
        T = a(30470),
        M = a(627),
        A = a(7706),
        k = a(98076),
        R = a(55263);
      function P(e) {
        const { bAssetUploadOnly: t, promotionPlanID: a, id: n } = e,
          r = (0, i.zw)(n),
          [o, c] = (0, s.q3)(() => [
            (0, m.$I)(r?.GetCustomTemplate() || ""),
            (0, m.Zi)(r?.GetCustomTemplate()),
          ]);
        return r
          ? l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                { className: k.EditCtn },
                l.createElement(
                  "div",
                  { className: u().PageTitle },
                  "Marketing Message - Asset Management",
                ),
                l.createElement("hr", null),
                l.createElement(
                  "div",
                  { className: u().ColumnCtn },
                  l.createElement(
                    "div",
                    { className: u().LeftCol },
                    Boolean(!t) && l.createElement(N, { oEditableMessage: r }),
                    Boolean(!o && !c) &&
                      l.createElement(x, { oEditableMessage: r }),
                    l.createElement(A.u, { oEditableMessage: r }),
                  ),
                  l.createElement(M.O, {
                    oEditableMessage: r,
                    bAssetUploadOnly: t,
                    promotionPlanID: a,
                  }),
                ),
                l.createElement("br", null),
              ),
            )
          : l.createElement(w.t, {
              size: "medium",
              position: "center",
              string: (0, B.we)("#Loading"),
            });
      }
      function N(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, s.q3)(() => [t?.GetInternalAssetURL(), z(t)]);
        return t
          ? l.createElement(
              "div",
              { className: u().SectionCtn },
              l.createElement(g.JU, null, "Internal Assets Location"),
              l.createElement(g.pd, {
                type: "text",
                value: a,
                placeholder: "enter fileserver location",
                onChange: (e) => t.SetInternalAssetURL(e.currentTarget.value),
                tooltip:
                  "Valve Only: Lets us refer to a folder on \\fileserver for communicating where we are keeping the assets for the event or a similar part event",
              }),
              l.createElement("br", null),
              l.createElement("br", null),
              l.createElement(F, { oEditableMessage: t }),
              l.createElement(L, { oEditableMessage: t }),
            )
          : l.createElement(w.t, {
              size: "medium",
              position: "center",
              string: (0, B.we)("#Loading"),
            });
      }
      function G(e, t) {
        switch ((e.SetAnimatedAssetsEnabled(!1), e.ClearCustomTemplate(), t)) {
          default:
          case "mm_image":
            break;
          case "mm_animated_image":
            e.SetAnimatedAssetsEnabled(!0);
            break;
          case "mm_featured_video":
            e.SetCustomTemplate("featured_video");
            break;
          case "mm_partner_event":
            e.SetCustomTemplate("partner_event");
            break;
          case "mm_partner_event_animated":
            e.SetCustomTemplate("partner_event"),
              e.SetAnimatedAssetsEnabled(!0);
            break;
          case "mm_year_in_review":
            e.SetCustomTemplate(`replay${(new Date()).getFullYear()}`);
            break;
          case "mm_auto_render":
            e.SetCustomTemplate("mm_auto_render");
        }
      }
      const O = {};
      function F(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, R.t7)(t?.GetStoreItemID()?.appid, O),
          [n, r] = (0, l.useState)(z(t)),
          [i] = (0, s.q3)(() => [t.GetAutoRenderWithoutOverride()]),
          o = (0, l.useMemo)(
            () => [
              {
                label: "Static Image",
                data: "mm_image",
                tooltip: "Limit to .jpg and .png without animations",
              },
              {
                label: "Animated Image (webm + mp4)",
                data: "mm_animated_image",
                tooltip:
                  "Requires .webm and .mp4 for animated background; support static image fallback for low bandwidth users",
              },
              {
                label: "Featured Video",
                data: "mm_featured_video",
                tooltip:
                  "Primary focus in an embedded video as part of the IM.  Regular image is the background and only top 300px is not covered by the video.",
              },
              {
                label: "Partner Event",
                data: "mm_partner_event",
                tooltip:
                  "We use an event capsule wide display and surface the game for owners.",
              },
              {
                label: "Partner Event Animated (webm + mp4)",
                data: "mm_partner_event_animated",
                tooltip:
                  "We use an event capsule wide display and surface the game for owners. We will show animated assets unless customer is in low bandwidth mode",
              },
              {
                label: "Steam Replay",
                data: "mm_year_in_review",
                tooltip:
                  "Only use this to setup the Steam Replay marketing message",
              },
              {
                label: "Auto (No Assets Required)",
                data: "mm_auto_render",
                tooltip:
                  "Lets Steam build an automatic marketing message based on the featured item",
              },
            ],
            [],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(g.m, {
            label: "Marketing Message Display",
            strClassName: (0, C.A)(y().DropDownScroll),
            rgOptions: o,
            selectedOption: n,
            onChange: (e) => {
              G(t, e.data), r(e.data);
            },
          }),
          Boolean(
            "mm_auto_render" == n &&
              (!t?.GetStoreItemID()?.appid || 0 != a?.GetAppType()),
          ) &&
            l.createElement(
              "div",
              { className: (0, C.A)(E.WarningStylesWithIcon) },
              "Auto only works for Games (not packages or bundles or advertising apps or sales)",
            ),
          Boolean("mm_auto_render" == n) &&
            l.createElement(g.Yh, {
              checked: i,
              onChange: (e) => t.SetAutoRenderWithoutOverride(e),
              label: "Bypass Asset Override on the Store Capsule",
            }),
        );
      }
      function L(e) {
        const { oEditableMessage: t } = e,
          [a, n, r, i, o] = (0, s.q3)(() => [
            t.GetCustomTemplate(),
            t.GetFeaturedVideoMP4Url() || "",
            t.GetFeaturedVideoWebMUrl() || "",
            t.GetFeaturedVideoAutoPlay(),
            t.GetFeaturedVideoLoop(),
          ]);
        return "featured_video" != a
          ? null
          : l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "p",
                null,
                "We need both a .webm and .mp4 of the featured video. They need to be uploaded to CDN.",
                l.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/pages/viewpage.action?pageId=131008106",
                  },
                  "Here is how",
                ),
                ". Also here are a ",
                l.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/display/STEAM/Marketing+Message+Template%3A+Featured+Video",
                  },
                  "few instructions about this type",
                ),
                ".",
              ),
              l.createElement(
                "p",
                null,
                "Make sure to also supply a poster image, this is shown while the video is loading and is important for places with slower internet. It can always be the first frame of the video. It will be replaced by the video once it loads.",
              ),
              l.createElement(g.JU, null, "Optional Featured Video Settings"),
              l.createElement(g.Yh, {
                label: "Auto Play & Mute",
                tooltip: "Note: This will force the video to be muted.",
                checked: i,
                onChange: (e) => t.SetFeaturedVideoAutoPlay(e),
              }),
              l.createElement(g.Yh, {
                label: "Loop & Hide Controls",
                tooltip:
                  "Looping means you really want it to behave like an animated GIF and you want the controls to be hidden and video to keep looping.",
                checked: o,
                onChange: (e) => t.SetFeaturedVideoLooping(e),
              }),
              l.createElement(g.pd, {
                type: "url",
                label: "MP4 (1920x1080)",
                value: n,
                onChange: (e) =>
                  t.SetFeaturedVideoMP4Url(e.currentTarget.value),
              }),
              l.createElement(U, {
                strURL: n,
                mimetype: "video/mp4",
                extension: ".mp4",
              }),
              l.createElement(g.pd, {
                type: "url",
                label: "WebM (1920x1080)",
                value: r,
                onChange: (e) =>
                  t.SetFeaturedVideoWebMUrl(e.currentTarget.value),
              }),
              l.createElement(U, {
                strURL: r,
                mimetype: "video/webm",
                extension: ".webm",
              }),
            );
      }
      function U(e) {
        const { strURL: t, extension: a, mimetype: n } = e;
        if (!t || 0 == t.trim().length) return null;
        const r = !(0, i.BQ)(t, a);
        return l.createElement(
          "div",
          null,
          r
            ? l.createElement(
                "div",
                { className: E.ErrorStylesWithIcon },
                "Error: URL format is wrong or missing extensions (",
                a,
                ")",
              )
            : l.createElement(
                g.$n,
                {
                  onClick: (e) =>
                    (0, b.pg)(
                      l.createElement(
                        f.o0,
                        { strTitle: "Preview " + a, bAllowFullSize: !0 },
                        l.createElement(
                          "video",
                          { controls: !0, muted: !0, height: "270" },
                          l.createElement("source", { src: t, type: n }),
                        ),
                      ),
                      (0, I.uX)(e),
                    ),
                },
                "Preview",
              ),
        );
      }
      function z(e) {
        return e
          ? e.BHasAnimatedAssets()
            ? "mm_animated_image"
            : "featured_video" === e.GetCustomTemplate()
              ? "mm_featured_video"
              : "partner_event" === e.GetCustomTemplate()
                ? e.BHasAnimatedAssets()
                  ? "mm_partner_event_animated"
                  : "mm_partner_event"
                : (0, m.$I)(e.GetCustomTemplate())
                  ? "mm_year_in_review"
                  : (0, m.Zi)(e.GetCustomTemplate())
                    ? "mm_auto_render"
                    : "mm_image"
          : "mm_image";
      }
      function x(e) {
        const { oEditableMessage: t } = e,
          [a, r, i, m, d, _] = (0, s.q3)(() => [
            t?.GetRealm(),
            t?.GetAssetsObject("ll_image"),
            t?.BHasAnimatedAssets(),
            "featured_video" === t?.GetCustomTemplate(),
            t?.GetGID(),
            "partner_event" === t?.GetCustomTemplate(),
          ]),
          g = Boolean(0 != a),
          S = (0, l.useMemo)(() => {
            const e = [_ ? "capsule" : "localized_marketing_message"];
            return (
              i
                ? (_
                    ? (e.push("localized_partnerevent_mp4"),
                      e.push("localized_partnerevent_webm"))
                    : (e.push("localized_marketingmessage_mp4"),
                      e.push("localized_marketingmessage_webm")),
                  (0, D.w)(
                    !m,
                    "Animated Image and Featured video are mutually exclusive.",
                  ))
                : m &&
                  (e.push("localized_marketingmessage_background"),
                  e.push("localized_marketingmessage_poster"),
                  e.push("localized_subtitles")),
              e
            );
          }, [i, m, _]),
          y = (0, l.useMemo)(
            () => [n.TU.k_ESteamRealmGlobal, n.TU.k_ESteamRealmChina],
            [],
          ),
          v = (0, l.useCallback)(
            (e, a, n, r, i, s, l) => {
              (0, D.w)(
                null != n && n >= 0 && n < 31,
                "Unexpected value for elang: " + n + " " + d,
              );
              let m = null;
              switch (r) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                case "image/webp":
                  m =
                    s == o.Fj.localized_marketingmessage_poster.width
                      ? "poster"
                      : "localized_marketingmessage_background" === i
                        ? "background"
                        : "ll_image";
                  break;
                case "video/mp4":
                  m = "mp4";
                  break;
                case "video/webm":
                  m = "webm";
                  break;
                case "text/srt":
                case "text/vtt":
                  m = "subtitles";
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      r,
                  );
              }
              m && t.SetTemplateAssetImagePath(e + (0, c.qR)(r), m, n);
            },
            [t, d],
          );
        return t
          ? l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: u().SectionCtn },
                l.createElement(
                  "h2",
                  { className: "inline" },
                  "MARKETING MESSAGE ASSETS",
                ),
                l.createElement("hr", null),
                Boolean(g && (!r || !r.sc_schinese)) &&
                  l.createElement(
                    "div",
                    { className: E.WarningStylesWithIcon },
                    l.createElement(
                      "div",
                      null,
                      "Marketing Message will appear in Steam China, we require a Steam China Simplified Chinese Asset. Please ensure the sc_schinese asset handles these two cases:",
                    ),
                    l.createElement(
                      "ol",
                      null,
                      l.createElement(
                        "li",
                        null,
                        "If we mention Steam, in Steam China has a specific name: ",
                        l.createElement("img", {
                          src:
                            T.TS.STORE_CDN_URL +
                            "public/shared/images/header/logo_steamchina.svg?t=962016",
                          height: "40",
                        }),
                      ),
                      l.createElement(
                        "li",
                        null,
                        "If there is a time in the artwork, then it must localized to China Standard Time",
                      ),
                    ),
                  ),
                Boolean("dev" == T.TS.WEB_UNIVERSE) &&
                  l.createElement(
                    "div",
                    { className: E.WarningStylesWithIcon },
                    "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
                  ),
                l.createElement(p.U, {
                  rgSupportArtwork: S,
                  rgRealmList: y,
                  strOverrideDragAndDropText:
                    "Drag any asset here to upload (max 5MB)",
                  strUploadAjaxURL: `${T.TS.PARTNER_BASE_URL}promotion/marketingmessages/ajaxuploadasset/${t.GetGID()}`,
                  fnOnUploadSuccess: v,
                }),
                l.createElement(
                  h.tH,
                  null,
                  l.createElement("br", null),
                  l.createElement("h3", null, "Static Assets Only"),
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "span",
                      null,
                      _ ? "800px by 450px" : "570px by 600px",
                    ),
                    " (.jpg,.png,.gif,.webp)",
                  ),
                  l.createElement(j, {
                    oEditableMessage: t,
                    assetType: "ll_image",
                  }),
                  l.createElement(q, { oEditableMessage: t }),
                  l.createElement(W, { oEditableMessage: t }),
                ),
              ),
            )
          : null;
      }
      function q(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, s.q3)(() => [
            t.BHasAnimatedAssets(),
            t.GetCustomTemplate(),
          ]);
        if (!a) return null;
        const r = "partner_event" == n ? "800px by 450px" : "570px by 600px";
        return l.createElement(
          "div",
          null,
          l.createElement("br", null),
          l.createElement("h3", null, "Animated Assets"),
          l.createElement(
            "div",
            null,
            "Animated Assets require both matching .webm/.mp4 files. Will fallback to static assets if animated asset is missing or client is setup for low-bandwidth mode.",
          ),
          l.createElement("br", null),
          l.createElement(g.JU, null, "WebM"),
          l.createElement(
            "div",
            null,
            ".Webm ",
            r,
            " (required for Steam Client)",
          ),
          l.createElement(j, { oEditableMessage: t, assetType: "webm" }),
          l.createElement("br", null),
          l.createElement(g.JU, null, "MP4"),
          l.createElement("div", null, ".Mp4 ", r, " (required for iOS)"),
          l.createElement(j, { oEditableMessage: t, assetType: "mp4" }),
        );
      }
      function W(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, s.q3)(() => [t.GetCustomTemplate()]);
        return "featured_video" != a
          ? null
          : l.createElement(
              "div",
              null,
              l.createElement("br", null),
              l.createElement(
                "h3",
                null,
                "Feature Video Template Specific Assets",
              ),
              l.createElement("br", null),
              l.createElement(g.JU, null, "Background Image"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "570px by 600px"),
                " (Video sits on top of this asset; .png/.jpg) ",
              ),
              l.createElement(j, {
                oEditableMessage: t,
                assetType: "background",
              }),
              l.createElement("br", null),
              l.createElement(g.JU, null, "Poster Image"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "528px by 297px"),
                " (localized video poster image; shown on top of video prior to play; .png/.jpg)",
              ),
              l.createElement(j, { oEditableMessage: t, assetType: "poster" }),
              l.createElement("br", null),
              l.createElement(g.JU, null, "Subtitles"),
              l.createElement(
                "div",
                null,
                ".vtt/.srt format (include extension or mapping will fail)",
              ),
              l.createElement(j, {
                oEditableMessage: t,
                assetType: "subtitles",
              }),
            );
      }
      function j(e) {
        const { oEditableMessage: t, assetType: a } = e,
          [n, i, o] = (0, s.q3)(() => [
            t.GetAssetsObject(a),
            t.GetGID(),
            t.GetAssetsModifyTime(),
          ]),
          c = Object.keys(n)
            .sort()
            .map((e) => (0, r.sf)(e)),
          m = (0, l.useCallback)(
            (e) => {
              const t = (0, r.Lg)(e);
              return n[t] ? (0, v.T)(i, e, o, n[t]) : null;
            },
            [i, o, n],
          );
        return l.createElement(
          "div",
          { className: u().MarketingMessage },
          l.createElement(_.z, {
            rgAssetLangs: c,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(a, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(a),
          }),
        );
      }
    },
    7706: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => w, u: () => f });
      var n = a(68612),
        r = a(65946),
        i = a(90626),
        s = a(62792),
        l = a(55263),
        o = a(16676),
        c = a(56330),
        m = a(9154),
        d = a(738),
        u = a(22797),
        p = a(56011),
        _ = a(52038),
        g = a(61859),
        h = a(78327),
        E = a(98076),
        S = a(45737),
        y = a.n(S),
        v = a(81393);
      function f(e) {
        const { oEditableMessage: t } = e,
          a = (0, r.q3)(() => t.BIsDirty());
        return i.createElement(
          "div",
          { className: (0, _.A)(y().SectionCtn, y().ActionBar) },
          i.createElement(
            "div",
            { className: E.ButtonRow },
            i.createElement(
              o.jn,
              {
                onClick: (e) =>
                  (0, d.pg)(
                    i.createElement(b, { oEditableMessage: t }),
                    (0, p.uX)(e),
                  ),
              },
              (0, g.we)(a ? "#Button_Save" : "#Button_Saved"),
            ),
            i.createElement("div", { className: E.ButtonRowSpacer }),
            i.createElement(
              o.$n,
              {
                onClick: (e) => {
                  (0, d.pg)(
                    i.createElement(D, { oEditableMessage: t }),
                    (0, p.uX)(e),
                  );
                },
              },
              (0, g.we)("#Button_Delete"),
            ),
            i.createElement(
              o.$n,
              {
                disabled: !a,
                onClick: (e) =>
                  (0, d.pg)(
                    i.createElement(m.o0, {
                      strTitle: (0, g.we)("#Dialog_AreYouSure"),
                      strDescription: (0, g.we)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, p.uX)(e),
                  ),
              },
              (0, g.we)("#Button_Revert"),
            ),
          ),
        );
      }
      function b(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          n = t.GetUserMessageFilters();
        return (
          (0, v.w)("and" == n.clause, "Unexpected usefilter structure"),
          0 == t.GetType()
            ? i.createElement(m.o0, {
                bAlertDialog: !0,
                bDestructiveWarning: !0,
                strTitle: "Save Not Possible",
                strDescription:
                  "Invalid Marketing Message type '----------'. Please correct in editor tab before attempting to save",
                closeModal: a,
              })
            : n.children.some((e, a) => !t.BHasSomeIDForAndUserFilter(a))
              ? i.createElement(m.o0, {
                  bAlertDialog: !0,
                  bDestructiveWarning: !0,
                  strTitle: "Save Not Possible",
                  strDescription:
                    "Incomplete Marketing Message User Filter settings. No user can see this marketing message in the current setup.",
                  closeModal: a,
                })
              : i.createElement(w, { oEditableMessage: t, closeModal: a })
        );
      }
      function w(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          { fnUpdateMarketingMessage: r } = (0, n.kG)(),
          [s, l] = i.useState(!0),
          [o, c] = i.useState(!1);
        return (
          i.useEffect(() => {
            r(t)
              .then((e) => {
                c(e), t.SaveSuccessClearDirty();
              })
              .catch((e) => c(!1))
              .finally(() => l(!1));
          }, [r, t]),
          i.createElement(
            m.o0,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: a },
            Boolean(s)
              ? i.createElement(u.t, {
                  size: "medium",
                  position: "center",
                  string: (0, g.we)("#Saving"),
                })
              : Boolean(o)
                ? i.createElement("div", null, "Save successful")
                : i.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function D(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          [r, l] = i.useState(!1),
          [o, d] = i.useState(void 0),
          { fnDeleteMarketingMessage: p } = (0, n.qw)();
        return i.createElement(
          m.o0,
          {
            strTitle: "Delete Marketing Message?",
            strDescription:
              "Only delete this message if it has never been shown to customers. Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This only removes the record from the Steam database. If this message has already been published, the files published will remain on the web cluster.",
            onCancel: a,
            onOK: () => {
              l(!0),
                p(t.GetModel()).then((e) => {
                  e
                    ? (window.location.href =
                        h.TS.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : d("Failed To Delete, check console");
                });
            },
            bOKDisabled: r,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            i.createElement(C, {
              id: t.GetStoreItemKey().id,
              storeItemType: (0, s.JK)(t.GetStoreItemKey().item_type),
            }),
          Boolean(r && !o) &&
            i.createElement(u.t, {
              size: "medium",
              position: "center",
              string: (0, g.we)("#Deleting"),
            }),
          Boolean(o) && i.createElement("div", { className: c.ErrorStyles }, o),
        );
      }
      function C(e) {
        const { id: t, storeItemType: a } = e,
          [n] = (0, l.G6)(t, a, { include_basic_info: !0, include_assets: !0 });
        return n
          ? i.createElement(
              "div",
              null,
              i.createElement("img", {
                src:
                  n.GetAssets().GetSmallCapsuleURL() ||
                  n.GetAssets().GetHeaderURL(),
              }),
              i.createElement(
                "span",
                null,
                "Name: ",
                n.GetName(),
                " (",
                n.GetID(),
                ")",
              ),
            )
          : i.createElement(u.t, {
              size: "medium",
              position: "center",
              string: (0, g.we)("#Loading"),
            });
      }
    },
    36431: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => x, i: () => P });
      var n = a(97911),
        r = a(32703),
        i = a(79905),
        s = a(65946),
        l = a(90626),
        o = a(3173),
        c = a(45737),
        m = a.n(c),
        d = a(16676),
        u = a(84811),
        p = a(95695),
        _ = a.n(p),
        g = a(91693),
        h = a(9154),
        E = a(738),
        S = a(12155),
        y = a(32754),
        v = a(26408),
        f = a(52038),
        b = a(56011),
        w = a(91675),
        D = a(78327),
        C = a(627),
        I = a(7706),
        B = a(58995),
        T = a.n(B),
        M = a(85280),
        A = a(52614),
        k = a(16856),
        R = a(17083);
      function P(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, s.q3)(() => [
            t.BIsAccountInWatchList(D.iA.accountid),
            t.GetPlanAssetRequestGID(),
          ]);
        return l.createElement(
          "div",
          { className: m().RightCol },
          l.createElement(G, { oEditableMessage: t }),
          l.createElement(q, { oEditableMessage: t }),
          l.createElement(
            "div",
            { className: m().SectionCtn },
            l.createElement(N, { oEditableMessage: t }),
          ),
          l.createElement(
            "div",
            { className: m().SectionCtn },
            l.createElement(d.JU, null, "Valve Actors"),
            l.createElement("div", null, "Creator: ", t.GetCreatorName()),
            l.createElement(
              d.$n,
              {
                onClick: () => {
                  a
                    ? t.RemoveFromWatchList(D.iA.accountid)
                    : t.AddToWatchList(D.iA.accountid);
                },
              },
              a ? "Remove From Watch List" : "Add to Watch List",
            ),
          ),
          l.createElement(
            "div",
            { className: m().SectionCtn },
            l.createElement(d.JU, null, "General Links"),
            l.createElement(
              "a",
              {
                href: "https://confluence.valve.org/display/SteamBiz/Curated+Promotion+Thresholds",
              },
              "Admin Guidelines",
            ),
            "  |  ",
            l.createElement(
              "a",
              { href: D.TS.PARTNER_BASE_URL + "doc/store/assets/promos" },
              "Partner-Facing Docs",
            ),
            "  |  ",
            l.createElement(
              "a",
              {
                href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization",
              },
              "Priority",
            ),
            "  |  ",
            l.createElement(
              "a",
              {
                href: "https://grafana.valve.org/steam/d/c2d2436a-7206-47d5-8fca-89bdc91db65d/storemarketing-getitemstofeature-filtering?orgId=2&var-type=marketing_messages",
              },
              "Filtering",
            ),
            Boolean(n) &&
              l.createElement(
                R.N_,
                { to: k.PromotionRoutes.PromotionPlanEditor(n) },
                "Open Promotion Plan",
              ),
          ),
        );
      }
      function N(e) {
        const t = new URLSearchParams(),
          { oEditableMessage: a } = e;
        return (
          t.set("name", a.GetModel().title),
          t.set("marketingmessageid", a.GetGID()),
          t.set("start", "" + a.GetStartRTime()),
          l.createElement(
            "a",
            {
              href:
                D.TS.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
            },
            l.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            "Download Calendar Reminder Event",
          )
        );
      }
      function G(e) {
        const { oEditableMessage: t } = e;
        switch ((0, s.q3)(() => t.GetVisibilty())) {
          case 2:
            return l.createElement(F, { oEditableMessage: t });
          case 3:
            return l.createElement(L, { oEditableMessage: t });
          default:
            return l.createElement(U, { oEditableMessage: t });
        }
      }
      const O = 2147483647;
      function F(e) {
        const { oEditableMessage: t } = e;
        return l.createElement(
          "div",
          { className: m().SectionCtn },
          l.createElement(d.JU, null, "STATUS:"),
          l.createElement("h2", null, "PUBLIC!"),
          l.createElement(
            "div",
            { className: m().HalfWidthBtnCtn },
            l.createElement(
              d.$n,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, E.pg)(
                      l.createElement(I.V, { oEditableMessage: t }),
                      (0, b.uX)(e),
                    );
                },
              },
              "Set Private",
            ),
          ),
          l.createElement(
            "div",
            null,
            "Will be visible ",
            (0, w.nR)(t.GetStartRTime(), t.GetEndRTime() || O),
          ),
          l.createElement(W, { oEditableMessage: t }),
        );
      }
      function L(e) {
        const { oEditableMessage: t } = e,
          a =
            D.TS.PARTNER_BASE_URL +
            "promotion/marketingmessages/partnerpreview/" +
            t.GetGID();
        return l.createElement(
          "div",
          { className: m().SectionCtn },
          l.createElement(d.JU, null, "STATUS:"),
          l.createElement(
            "h2",
            { className: T().ApprovedForPublishStatus },
            "Approved For Partner Publishing",
          ),
          l.createElement(
            "div",
            { className: T().PartnerPreviewLink },
            "Partner Preview Link: ",
            l.createElement("a", { href: a }, a),
          ),
          l.createElement(
            "div",
            { className: m().HalfWidthBtnCtn },
            l.createElement(
              d.$n,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, E.pg)(
                      l.createElement(I.V, { oEditableMessage: t }),
                      (0, b.uX)(e),
                    );
                },
              },
              "Retract Approval for Partner Self-Publishing",
            ),
            l.createElement(
              d.$n,
              {
                className: "Primary",
                onClick: (e) => {
                  t.SetVisibility(2),
                    (0, E.pg)(
                      l.createElement(I.V, { oEditableMessage: t }),
                      (0, b.uX)(e),
                    );
                },
              },
              "Set Public",
            ),
          ),
          l.createElement(
            "div",
            null,
            "Visbility range set to ",
            (0, w.nR)(t.GetStartRTime(), t.GetEndRTime() || O),
          ),
          l.createElement(
            "div",
            null,
            "Partner publishing is available until ",
            (0, w.TW)(t.GetEndRTime() || O),
          ),
          l.createElement(W, { oEditableMessage: t }),
        );
      }
      function U(e) {
        const { oEditableMessage: t } = e,
          {
            bDateSet: a,
            bItemAssociated: n,
            bFiltersSetup: i,
            bValidLink: s,
            bButtonTokenEntered: o,
            bExplicitNoItemAssociation: c,
            bLegalLineHandled: u,
            bAdvertisingAppWithoutURL: p,
            eStoreItemMarketingMessageState: _,
            bRequiresPartnerEvent: g,
            bUpdateEventLinked: h,
            bUpdateEventLive: S,
          } = (0, r.GO)(t.GetGID()),
          { bReady: y, bReadyExceptLiveEvent: f } = (0, r.w2)(t.GetGID()),
          [D, B] = (0, l.useState)(!1);
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: m().SectionCtn },
            l.createElement(d.JU, null, "STATUS:"),
            l.createElement(
              "div",
              null,
              Boolean(y || D)
                ? l.createElement("h2", null, "Checklist Complete!")
                : l.createElement("h2", null, "Checklist Incomplete / Private"),
            ),
            Boolean(y || D) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: m().HalfWidthBtnCtn },
                  l.createElement(
                    d.$n,
                    {
                      onClick: (e) => {
                        t.SetVisibility(2),
                          (0, E.pg)(
                            l.createElement(I.V, { oEditableMessage: t }),
                            (0, b.uX)(e),
                          );
                      },
                      className: "Primary",
                    },
                    "Set Public",
                  ),
                  l.createElement(
                    d.$n,
                    {
                      onClick: (e) => {
                        t.SetVisibility(3),
                          (0, E.pg)(
                            l.createElement(I.V, { oEditableMessage: t }),
                            (0, b.uX)(e),
                          );
                      },
                      className: T().SecondaryButton,
                    },
                    "Approve For Partner Publishing",
                  ),
                ),
                l.createElement(
                  "div",
                  null,
                  "Once public, will be visible ",
                  (0, w.nR)(t.GetStartRTime(), t.GetEndRTime() || O),
                ),
                l.createElement(
                  "div",
                  null,
                  "Partner publishing would be available until ",
                  (0, w.TW)(t.GetEndRTime() || O),
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: m().SectionCtn },
            l.createElement(d.JU, null, "PROGRESS"),
            l.createElement(x, { bDone: a, name: "Date Set" }),
            l.createElement(x, {
              bDone: n,
              name: c ? "No Item Associated Needed" : "Item Associated",
              tooltip: c
                ? "Explicitly disabled the need for an associated store item; useful for seasonal sale IMs"
                : void 0,
            }),
            l.createElement(x, { bDone: s, name: "Valid Link Entered" }),
            l.createElement(x, { bDone: i, name: "Visibility Conditions Set" }),
            l.createElement(x, {
              bDone: o,
              name: "Button Text Selected (on assets tab)",
            }),
            l.createElement(x, {
              bDone: u,
              name: "Legal Partner Name (on options tab)",
            }),
            p &&
              l.createElement(x, {
                bDone: !1,
                name: "Associated Adverting App without URL",
              }),
            Boolean(!c) &&
              l.createElement(
                l.Fragment,
                null,
                Boolean(
                  _ == r.de.k_StoreInvalidState || _ == r.de.k_StoreUnavailable,
                ) &&
                  l.createElement(x, {
                    bDone: !1,
                    name: "Associated Item is not store visible",
                  }),
              ),
            l.createElement(z, {
              oEditableMessage: t,
              eStoreItemMarketingMessageState: _,
            }),
            l.createElement(C.K, { oEditableMessage: t }),
            Boolean(g) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(x, { bDone: h, name: "Update Event Linked" }),
                l.createElement(x, { bDone: S, name: "Update Event Visible" }),
              ),
            Boolean(f) &&
              l.createElement(
                "div",
                { className: m().HalfWidthBtnCtn },
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(
                  d.$n,
                  {
                    onClick: (e) => {
                      t.SetVisibility(3),
                        (0, E.pg)(
                          l.createElement(I.V, { oEditableMessage: t }),
                          (0, b.uX)(e),
                        );
                    },
                    className: T().SecondaryButton,
                  },
                  "Approve For Partner Publishing with Event Self-Publishing",
                  l.createElement(v.o, {
                    tooltip:
                      "This will show on the partners dashboard for self publishing, but will require them to also publish their event first",
                  }),
                ),
              ),
          ),
          !y &&
            l.createElement(
              "div",
              { className: m().SectionCtn },
              l.createElement(d.JU, null, "Override"),
              l.createElement(d.Yh, {
                checked: D,
                onChange: B,
                label: "Override Readiness Checklist (use caution)",
                tooltip:
                  "We need to bypass the progress check to ship this marketing message for reasons",
              }),
            ),
        );
      }
      function z(e) {
        const { oEditableMessage: t, eStoreItemMarketingMessageState: a } = e;
        if (!t.BHasAssociatedItemReleaseState()) return null;
        const n = t.GetAssociatedItemReleaseState();
        let i = "Associated Item Requires Pre-purchase state";
        return (
          n == r.de.k_StoreComingSoon
            ? (i = "Associated Item Required a coming soon page")
            : n == r.de.k_StoreEarlyAccess
              ? (i = "Associated Item Required Early Access")
              : n == r.de.k_StoreGeneralAvailability &&
                (i = "Associated Item Required General Availability"),
          l.createElement(x, { bDone: n === a, name: i })
        );
      }
      function x(e) {
        const { bDone: t, name: a, tooltip: n } = e;
        return l.createElement(
          "div",
          { className: m().StatusLineItemCtn },
          l.createElement(
            "span",
            {
              className: (0, f.A)(m().StatusIcon, t ? m().StatusIconDone : ""),
            },
            t ? l.createElement(S.Jlk, null) : l.createElement(S.X, null),
          ),
          l.createElement(y.he, { toolTipContent: n }, a),
        );
      }
      function q(e) {
        const { oEditableMessage: t } = e,
          a = (0, n.L)(t),
          [r, i, o, c] = (0, s.q3)(() => [
            t.GetGID(),
            t.GetRealm(),
            t.GetAssetsObject("ll_image"),
            t.GetAssetsModifyTime() || 0,
          ]),
          u = 0 != i,
          p = 1 != i;
        return l.createElement(
          "div",
          { className: m().SectionCtn },
          l.createElement(d.JU, null, "Preview:"),
          Boolean(p) &&
            l.createElement(M.e, {
              cc: "US",
              l: "english",
              msg: "Open Marketing Message",
              id: r,
            }),
          Boolean(u) &&
            l.createElement(M.e, {
              cc: "CN",
              l: "english",
              msg: "Open Marketing Message in Steam China",
              id: r,
            }),
          Boolean(p && o && o.english) &&
            l.createElement(
              "div",
              { className: T().MessageImagePreview },
              l.createElement(
                "div",
                { className: T().ScopeNameGlobal },
                "Steam Global Art:",
              ),
              l.createElement("img", { src: (0, g.T)(r, 0, c, o.english) }),
            ),
          Boolean(u && o && o.sc_schinese) &&
            l.createElement(
              "div",
              { className: T().MessageImagePreview },
              l.createElement(
                "div",
                { className: T().ScopeNameChina },
                "Steam China Art:",
              ),
              l.createElement("img", {
                src: (0, g.T)(r, 29, c, o.sc_schinese),
              }),
            ),
          Boolean(a) &&
            l.createElement(
              "div",
              null,
              "* DLC Override Possible. See preview tab for more info",
            ),
        );
      }
      function W(e) {
        const { oEditableMessage: t } = e,
          a = (0, s.q3)(() => t.GetGID());
        return (0, i.tl)(a) <= 0
          ? null
          : l.createElement(
              u.tH,
              null,
              l.createElement("br", null),
              l.createElement(
                d.JU,
                null,
                "Seen by users:",
                l.createElement(
                  y.he,
                  {
                    toolTipContent:
                      "Stats computed hourly. Only includes stats after June 1, 2023",
                  },
                  l.createElement("span", { className: _().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.jE, { gid: a }),
              l.createElement(
                d.JU,
                null,
                "Carousel index seen at by users:",
                l.createElement(
                  y.he,
                  {
                    toolTipContent:
                      "Shows where in the carousel the user saw this message.",
                  },
                  l.createElement("span", { className: _().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.h6, { gid: a }),
              l.createElement(j, { oEditableMessage: t }),
              l.createElement(
                d.$n,
                {
                  onClick: (e) => {
                    (0, E.pg)(
                      l.createElement(
                        h.eV,
                        { bAllowFullSize: !0 },
                        l.createElement(
                          "div",
                          {
                            style: {
                              width: "90vw",
                              maxWidth: "90%",
                              margin: "0 auto",
                            },
                          },
                          l.createElement(A.jE, { gid: a }),
                        ),
                      ),
                      (0, b.uX)(e),
                    );
                  },
                },
                "Expand",
              ),
            );
      }
      function j(e) {
        const { oEditableMessage: t } = e;
        return (0, n.L)(t) ? l.createElement(H, { oEditableMessage: t }) : null;
      }
      function H(e) {
        const { oEditableMessage: t } = e,
          a = (0, o.o5)(t.GetStoreItemKey().id, 4),
          n = (0, s.q3)(() => t.GetGID());
        return Boolean(a?.length > 0)
          ? l.createElement(
              "div",
              null,
              l.createElement(
                d.JU,
                null,
                "DLC Template Seen by users:",
                l.createElement(
                  y.he,
                  {
                    toolTipContent:
                      "The above includes all templates, this only includes the DLC template shown",
                  },
                  l.createElement("span", { className: _().tooltip_Ctn }, "?"),
                ),
              ),
              l.createElement(A.jE, { gid: n, templateType: 4 }),
            )
          : null;
      }
    },
    50250: (e, t, a) => {
      "use strict";
      a.d(t, { O: () => P, f: () => w });
      var n = a(23910),
        r = a(90626),
        i = a(55263),
        s = a(45737),
        l = a.n(s),
        o = a(95695),
        c = a.n(o),
        m = a(94029),
        d = a.n(m),
        u = a(16676),
        p = a(9154),
        _ = a(738),
        g = a(44332),
        h = a(52038),
        E = a(56011),
        S = a(90710),
        y = a(12155),
        v = a(32754),
        f = a(65946),
        b = a(56330);
      function w(e) {
        const { oEditableMessage: t } = e,
          a = t.GetUserMessageFilters();
        (0, g.w)("and" == a.clause, "Unexpected usefilter structure");
        const n = (0, f.q3)(() => t.BIsNoFilterRequired());
        return r.createElement(
          "div",
          { className: l().SectionCtn },
          r.createElement(
            u.JU,
            null,
            "CONDITIONS FOR DISPLAY ",
            r.createElement(
              "span",
              { className: "DialogInputRequirementLabel" },
              "Required",
            ),
          ),
          Boolean(!n) &&
            r.createElement(D, { andFilter: a, oEditableMessage: t }),
          r.createElement("br", null),
          r.createElement(u.Yh, {
            label: "Show to all users; no filters to be applied.",
            tooltip:
              "Checking this to on will show to all users in the Steam Realm. This will also clear any dynamic filters associated with the marketing messages including legacy filter settings.",
            checked: n,
            onChange: (e) => {
              t.SetNoFiltersRequired(e),
                e && (t.ClearUserFilters(), t.ClearAllLegacyRestrictions());
            },
          }),
        );
      }
      function D(e) {
        const { andFilter: t, oEditableMessage: a } = e;
        return (
          (0, g.w)("and" == t.clause, "Expected And Filter"),
          r.createElement(
            r.Fragment,
            null,
            t.children.map((e, t) =>
              r.createElement(
                r.Fragment,
                { key: e.temp_id },
                r.createElement(I, {
                  orFilter: e,
                  andIndex: t,
                  oEditableMessage: a,
                }),
              ),
            ),
            r.createElement(
              "div",
              { className: d().NewConditionRow },
              r.createElement(
                "div",
                { className: d().AddConditionBtnCtn },
                r.createElement(
                  u.$n,
                  { onClick: () => a.AddNewAndUserFilter() },
                  "+ ",
                  r.createElement(
                    "strong",
                    null,
                    r.createElement("i", null, "And"),
                  ),
                  " Condition",
                ),
              ),
              r.createElement(
                "div",
                null,
                'using "AND" conditions will narrow the audience',
              ),
            ),
          )
        );
      }
      function C(e) {
        const { strTitle: t, onOK: a, strTooltip: n } = e;
        return r.createElement(
          v.he,
          { toolTipContent: n || t },
          r.createElement(y.X, {
            onClick: (e) =>
              (0, _.pg)(
                r.createElement(p.o0, {
                  strTitle: t,
                  strDescription: "Are you sure?",
                  onOK: a,
                }),
                (0, E.uX)(e),
              ),
          }),
        );
      }
      function I(e) {
        const { orFilter: t, oEditableMessage: a, andIndex: n } = e;
        return (
          (0, g.w)("or" == t.clause, "Expected OR Filter"),
          r.createElement(
            r.Fragment,
            null,
            r.createElement(
              "div",
              { className: d().ConditionContainer },
              t.children.map((e, i) => {
                let s;
                return (
                  (s =
                    0 == n && 0 == i
                      ? r.createElement(B, { oEditableMessage: a, andIndex: n })
                      : 0 == i
                        ? r.createElement(T, {
                            oEditableMessage: a,
                            andIndex: n,
                          })
                        : r.createElement(M, null)),
                  r.createElement(
                    r.Fragment,
                    { key: e.temp_id },
                    s,
                    r.createElement(
                      "div",
                      { className: d().CaseContainer },
                      r.createElement(A, {
                        clause: t.clause,
                        filter: e,
                        fnUpdateFilter: (e) => a.UpdateUserFilter(e, n, i),
                        onRemoveOrClause: () => a.RemoveOrUserFilterAt(n, i),
                      }),
                    ),
                  )
                );
              }),
              r.createElement(
                "div",
                { className: d().NewConditionRow },
                r.createElement(
                  "div",
                  { className: d().AddCaseBtnCtn },
                  r.createElement(
                    u.$n,
                    { onClick: () => a.AddNewOrUserFilter(n) },
                    "+ ",
                    r.createElement(
                      "strong",
                      null,
                      r.createElement("i", null, "OR"),
                    ),
                    " Condition",
                  ),
                ),
                r.createElement(
                  "div",
                  null,
                  'using "Or" conditions will increase the size of audience',
                ),
              ),
            ),
          )
        );
      }
      function B(e) {
        const { oEditableMessage: t, andIndex: a } = e;
        return r.createElement(
          "div",
          { className: (0, h.A)(d().ConditionTitle) },
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: d().ConditionTitleAnd },
              "Must ",
            ),
            "meet one of these criteria",
            Boolean(!t.BHasSomeIDForAndUserFilter(a)) &&
              r.createElement(
                "div",
                { className: b.WarningStylesWithIcon },
                "Warning: List empty. No user will be able to see this message.",
              ),
          ),
          r.createElement(
            "div",
            { className: d().RemoveConditionBtn },
            r.createElement(C, {
              strTitle: "Remove Must Clause",
              onOK: () => t.RemoveAndUserFilter(a),
            }),
          ),
        );
      }
      function T(e) {
        const { oEditableMessage: t, andIndex: a } = e;
        return r.createElement(
          "div",
          { className: d().ConditionTitle },
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: d().ConditionTitleAnd },
              "And ",
            ),
            "must also meet one of these criteria",
            Boolean(!t.BHasSomeIDForAndUserFilter(a)) &&
              r.createElement(
                "div",
                { className: b.WarningStylesWithIcon },
                "Warning: List empty. No user will be able to see this message.",
              ),
          ),
          r.createElement(
            "div",
            { className: d().RemoveConditionBtn },
            r.createElement(C, {
              strTitle: "Remove Must Clause",
              onOK: () => t.RemoveAndUserFilter(a),
            }),
          ),
        );
      }
      function M(e) {
        return r.createElement(
          "div",
          { className: (0, h.A)(d().ConditionTitle, d().ConditionTitleOr) },
          "OR...",
        );
      }
      function A(e) {
        const {
            filter: t,
            fnUpdateFilter: a,
            clause: i,
            onRemoveOrClause: s,
          } = e,
          l = (0, r.useMemo)(
            () =>
              n.k.map((e) => ({
                label: (0, n.nY)(e),
                data: e,
                tooltip: (0, n.DU)(e),
              })),
            [],
          );
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            { className: d().CaseTypeSelectCtn },
            r.createElement(
              "div",
              { className: d().CaseTypeSelect },
              r.createElement(u.m, {
                strDropDownClassName: (0, h.A)(c().DropDownScroll),
                rgOptions: l,
                selectedOption: t.filter_type,
                onChange: (e) => {
                  const r = { filter_type: e.data, id_list: [...t.id_list] };
                  (0, n.Sy)(r.filter_type) !== (0, n.Sy)(t.filter_type) &&
                    (r.id_list = []),
                    a(r);
                },
              }),
            ),
            r.createElement(
              "div",
              { className: d().RemoveCaseBtn },
              r.createElement(C, {
                strTitle: "Remove Or Filter Clause",
                onOK: s,
              }),
            ),
          ),
          r.createElement(
            "div",
            { className: d().ConditionDescription },
            "Add one or more product for this condition.",
          ),
          r.createElement(
            "div",
            { className: d().SelectedProductList },
            t.id_list.map((e) =>
              r.createElement(k, {
                key: "item" + t.temp_id + "_" + e,
                filter_type: t.filter_type,
                id: e,
                fnRemoveItem: () => {
                  const n = t.id_list.findIndex((t) => t == e);
                  (0, g.w)(n >= 0, `Did not find ${e} in list`),
                    t.id_list.splice(n, 1);
                  const r = {
                    filter_type: t.filter_type,
                    id_list: [...t.id_list],
                  };
                  a(r);
                },
              }),
            ),
            r.createElement(
              "div",
              { className: d().AddProductBtnCtn },
              r.createElement(
                u.$n,
                {
                  onClick: (e) =>
                    (0, _.pg)(
                      r.createElement(R, {
                        filter: t,
                        onSelected: (e) => {
                          const n = {
                            filter_type: t.filter_type,
                            id_list: [...t.id_list, e],
                          };
                          a(n);
                        },
                      }),
                      (0, E.uX)(e),
                    ),
                },
                "+",
                (0, n.Sy)(t.filter_type) ? " PACKAGE" : " APP",
              ),
            ),
          ),
        );
      }
      function k(e) {
        const { filter_type: t, id: a, fnRemoveItem: s } = e,
          l = (0, n.Sy)(t) ? 1 : 0,
          [o] = (0, i.G6)(a, l, {});
        let c;
        return (
          (c = o
            ? `${o.GetName()} (${a})`
            : r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "i",
                  null,
                  "Hidden " + (0 == l ? "App" : "Package"),
                ),
                " ",
                `(${a})`,
              )),
          r.createElement(
            "div",
            { className: d().SelectedProductCtn },
            r.createElement(
              "div",
              { className: d().SelectedProduct },
              c,
              r.createElement(
                "div",
                { className: d().RemoveSelectedProductBtn },
                r.createElement(C, { strTitle: `Remove ${c}?`, onOK: s }),
              ),
            ),
            r.createElement("span", null, "Or"),
          )
        );
      }
      function R(e) {
        const { closeModal: t, filter: a, onSelected: s } = e,
          [l, o] = (0, r.useState)(null),
          c = (0, n.Sy)(a.filter_type),
          m = c ? 1 : 0,
          [_] = (0, i.G6)(l, m, {}),
          [g, h] = (0, r.useState)(!1);
        return r.createElement(
          p.o0,
          {
            strTitle: c ? "Add Package" : "Add App",
            closeModal: t,
            onOK: () => s(l),
            bOKDisabled: null === l,
          },
          r.createElement(
            "div",
            { className: d().AppSelectCtn },
            r.createElement(u.Yh, {
              label: "Include Retired apps?",
              checked: g,
              onChange: h,
            }),
            r.createElement(S.h, {
              fnSetItemID: o,
              itemType: m,
              fnFilterID: (e) => !a.id_list || !a.id_list.includes(e),
              bIncludeRetired: g,
              bShowDLCToggle: !0,
            }),
            Boolean(_) &&
              r.createElement(
                "div",
                { className: d().ItemToAdd },
                "Add Item? ",
                r.createElement("b", null, _.GetName(), " (", l, ")"),
              ),
          ),
        );
      }
      function P(e, t) {
        let a = null;
        if (4 == e.GetAppType() || 11 == e.GetAppType())
          (a = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [{ filter_type: 1, id_list: [e.GetParentAppID()] }],
              },
              {
                clause: "or",
                children: [{ filter_type: 2, id_list: [e.GetID()] }],
              },
            ],
          }),
            10 === t &&
              (a.children[0].children.push({
                filter_type: 6,
                id_list: [e.GetID()],
              }),
              a.children[0].children.push({
                filter_type: 5,
                id_list: [e.GetID()],
              }));
        else if (0 == e.GetStoreItemType() && 10 === t)
          a = e.BIsFree()
            ? {
                clause: "and",
                children: [
                  {
                    clause: "or",
                    children: [
                      { filter_type: 9, id_list: [e.GetAppID()] },
                      { filter_type: 7, id_list: [e.GetAppID()] },
                      { filter_type: 5, id_list: [e.GetAppID()] },
                      { filter_type: 6, id_list: [e.GetAppID()] },
                    ],
                  },
                ],
              }
            : {
                clause: "and",
                children: [
                  {
                    clause: "or",
                    children: [
                      { filter_type: 1, id_list: [e.GetID()] },
                      { filter_type: 6, id_list: [e.GetID()] },
                      { filter_type: 5, id_list: [e.GetID()] },
                    ],
                  },
                ],
              };
        else {
          a = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [
                  {
                    filter_type: 0 == e.GetStoreItemType() ? 2 : 4,
                    id_list: [e.GetID()],
                  },
                ],
              },
            ],
          };
        }
        return a;
      }
    },
    85280: (e, t, a) => {
      "use strict";
      a.d(t, { e: () => v, X: () => S });
      var n = a(34288),
        r = a(65946),
        i = a(90626),
        s = a(22837),
        l = a(45737),
        o = a.n(l),
        c = a(3173),
        m = a(97911);
      function d(e) {
        const { id: t } = e,
          a = (0, n.zw)(t);
        return (0, m.L)(a) ? i.createElement(u, { ...e, id: t }) : null;
      }
      function u(e) {
        const { id: t, cc: a, l: r } = e,
          s = (0, n.zw)(t),
          l = (0, c.o5)(s.GetStoreItemKey().id, 4);
        return l && 0 !== l.length
          ? i.createElement(
              "div",
              null,
              i.createElement(
                "div",
                null,
                "For Owners: Show Popular DLC Version",
              ),
              i.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/Marketing+Message+-+DLC+Fallback+Operations",
                  target: "_blank",
                },
                "For more information about the override in general",
              ),
              [4, 3, 2, 1].map((e) =>
                l.length >= e
                  ? i.createElement(v, {
                      key: "preview_dlc_" + e,
                      id: t,
                      cc: a,
                      l: r,
                      msg: `Show ${e} DLC`,
                      rgDLCOverride: l.slice(0, e),
                    })
                  : null,
              ),
            )
          : null;
      }
      var p = a(36630),
        _ = a(98076),
        g = a(32754),
        h = a(22797),
        E = a(61859);
      function S(e) {
        const { id: t } = e,
          a = (0, i.useMemo)(() => {
            const e = new Array();
            for (let a = 0; a < 31; ++a) {
              const n = (0, s.Lg)(a);
              e.push(
                i.createElement(y, {
                  key: "lang" + a,
                  cc: "US",
                  l: n,
                  msg: n,
                  id: t,
                }),
              );
            }
            return e;
          }, [t]);
        return (0, n.zw)(t)
          ? i.createElement(
              "div",
              null,
              i.createElement(
                "div",
                { className: _.EditCtn },
                i.createElement(
                  "div",
                  { className: o().PageTitle },
                  "Preview Marketing Messages",
                ),
                i.createElement("hr", null),
                i.createElement(d, { cc: "US", l: "english", id: t }),
                i.createElement("div", null, "Languages:"),
                a,
                i.createElement("div", null, "Select Countries:"),
                i.createElement(y, {
                  cc: "US",
                  l: "english",
                  msg: "US - Freedom/Liberty",
                  id: t,
                }),
                i.createElement(y, {
                  cc: "FR",
                  l: "french",
                  msg: "FR - France/French",
                  id: t,
                  szTimezoneOverride: "Europe/Paris",
                  szLocale: "fr-FR",
                }),
                i.createElement(y, {
                  cc: "DE",
                  l: "german",
                  msg: "DE - Germany/German",
                  id: t,
                  szTimezoneOverride: "Europe/Berlin",
                  szLocale: "de-DE",
                }),
                i.createElement(y, {
                  cc: "UK",
                  l: "english",
                  msg: "UK - United Kingdom/The King's English",
                  id: t,
                  szTimezoneOverride: "Europe/London",
                  szLocale: "en-GB",
                }),
                i.createElement(y, {
                  cc: "CN",
                  l: "schinese",
                  msg: "CN - China/Simplified Chinese",
                  id: t,
                  szTimezoneOverride: "Asia/Shanghai",
                  szLocale: "zh-CN",
                }),
                i.createElement(y, {
                  cc: "BR",
                  l: "portuguese",
                  msg: "BR - Brazil/Portuguese",
                  id: t,
                  szTimezoneOverride: "America/Sao_Paulo",
                  szLocale: "pt-BR",
                }),
                i.createElement(y, {
                  cc: "CN",
                  l: "sc_schinese",
                  msg: "Steam China",
                  bForceSteamChina: !0,
                  id: t,
                  szTimezoneOverride: "Asia/Shanghai",
                  szLocale: "zh-CN",
                }),
              ),
            )
          : i.createElement(h.t, {
              size: "medium",
              position: "center",
              string: (0, E.we)("#Loading"),
            });
      }
      function y(e) {
        const { id: t } = e,
          a = (0, n.zw)(t),
          [s, l] = (0, r.q3)(() => [
            a.BHasAnimatedAssets(),
            "featured_video" == a.GetCustomTemplate(),
          ]);
        return i.createElement(
          "div",
          { className: p.PreviewRow },
          i.createElement(v, { ...e }),
          Boolean(s || l) &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement("span", { className: p.Spacer }, "   "),
              i.createElement(v, {
                ...e,
                msg: "static version",
                bShowLowBandwidth: !0,
              }),
            ),
        );
      }
      function v(e) {
        const {
            id: t,
            cc: a,
            l: r,
            msg: s,
            bForceSteamChina: l,
            bShowLowBandwidth: o,
            rgDLCOverride: c,
            szLocale: m,
            szTimezoneOverride: d,
          } = e,
          u = (0, n.zw)(t).GetPreviewURL(a, r, l, o, c, d, m);
        return i.createElement(
          g.he,
          { toolTipContent: u },
          i.createElement(
            "a",
            {
              href: "#",
              onClick: (e) => {
                e.preventDefault(), console.log("preview url clicked", u);
                window
                  .open(
                    u,
                    "marketing_message",
                    "height=720,width=700,resize=yes,scrollbars=yes",
                  )
                  .focus();
              },
            },
            s,
          ),
        );
      }
    },
    25476: (e, t, a) => {
      "use strict";
      a.d(t, { D: () => B, t: () => I });
      var n = a(23910),
        r = a(67239),
        i = a(68612),
        s = a(13810),
        l = a(90626),
        o = a(82359),
        c = a(82097),
        m = a(62792),
        d = a(55263),
        u = a(16676),
        p = a(9154),
        _ = a(738),
        g = a(22797),
        h = a(56011),
        E = a(61859),
        S = a(78327),
        y = a(98459),
        v = a(98076),
        f = a(71298),
        b = a(68797),
        w = a(50250),
        D = a(65946),
        C = a(22385);
      function I(e) {
        const { oEditablePlan: t, index: a } = e;
        return l.createElement(
          "div",
          { className: v.LinkCtn },
          l.createElement(y.nW, {
            name: "Marketing Message " + (a + 1) + " ID",
            placeHolder: "/marketing/message/<grab this ID>",
            id: t.GetMarketingMessageID(a),
            index: a,
            fnSetID: t.SetMarketingMessageID,
            fnGetURL: r.Hm.GetMarketingMesssageEditURL,
          }),
          l.createElement(
            "div",
            { className: v.ButtonRow },
            l.createElement(
              u.$n,
              {
                onClick: (e) => {
                  (0, _.pg)(
                    l.createElement(M, { oEditablePlan: t, index: a }),
                    (0, h.uX)(e),
                  );
                },
              },
              "Create new",
            ),
            l.createElement(
              u.$n,
              {
                onClick: (e) => {
                  (0, _.pg)(
                    l.createElement(k, { oEditablePlan: t, index: a }),
                    (0, h.uX)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function B(e, t, a, r, i, s) {
        let l, o;
        if (s)
          switch (s.GetStoreItemType()) {
            case 0:
              (l = `${S.TS.STORE_BASE_URL}app/${s.GetID()}`), (o = 2);
              break;
            case 1:
              (l = `${S.TS.STORE_BASE_URL}sub/${s.GetID()}`), (o = 4);
              break;
            case 2:
              l = `${S.TS.STORE_BASE_URL}bundle/${s.GetID()}`;
          }
        const c = {};
        s &&
          o &&
          ((c.no_filters_required = !1), (c.user_filters = (0, w.O)(s, t)));
        const d = {
          type: "image",
          button_text: i,
          linkurl: l,
          hide_price: 10 === t,
        };
        if (10 === t)
          (d.type = "partner_event"), (d.custom_display = "partner_event");
        else (0, C.u)(s, t) && (d.custom_display = "mm_auto_render");
        const u = {
          title: e,
          type: t,
          creator_name: S.iA.account_name,
          visibility: 1,
          start_date: a,
          end_date: r,
          flags: 0,
          country_deny: "",
          ownership_restrictions_overridden: !0,
          template_type: "image",
          template_vars_json: JSON.stringify(d),
          additional_restrictions_json: JSON.stringify(c),
          association_type: 0,
        };
        return (
          s &&
            ((u.associated_id = s.GetID()),
            (u.association_type = (0, m.Si)(s.GetStoreItemType())),
            (u.associated_name = s.GetName() || "")),
          s?.GetPlatforms()?.windows &&
            (u.flags |= n.s8.k_EMarketingMessageFlagsPlatformWindows),
          s?.GetPlatforms()?.mac &&
            (u.flags |= n.s8.k_EMarketingMessageFlagsPlatformMac),
          s?.GetPlatforms()?.steamos_linux &&
            (u.flags |= n.s8.k_EMarketingMessageFlagsPlatformLinux),
          u
        );
      }
      const T = { include_platforms: !0 };
      function M(e) {
        const { oEditablePlan: t, index: a, closeModal: r } = e,
          [s, o] = (0, D.q3)(() => [
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
          ]),
          [c] = (0, d.G6)(s, o, T),
          [m, _] = (0, l.useState)(t.GetName()),
          [g, h] = (0, l.useState)(2),
          E = (0, l.useMemo)(
            () => n.uu.map((e) => ({ label: (0, n.Rw)(e), data: e })),
            [],
          ),
          [S, y] = (0, l.useState)(t.BHasMarketingMessages(a)),
          [w, C] = (0, l.useState)("#msg_action_details"),
          { fnCreateMarketingMessage: I } = (0, i.Z7)(),
          M = (0, f.vs)();
        return M.bLoading
          ? l.createElement(f.Hh, {
              state: M,
              strDialogTitle: "Create New Marketing Message?",
              closeModal: r,
            })
          : S
            ? l.createElement(p.o0, {
                strTitle: "Create New Marketing Message?",
                strDescription: `You already have Marketing Message with ID ${t.GetMarketingMessageID(a)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: r,
                onOK: () => y(!1),
                strOKButtonText: "Create New Marketing Message Anyways",
              })
            : l.createElement(
                p.o0,
                {
                  strTitle: "Create New Marketing Message?",
                  strDescription:
                    "Create and link a Marketing Message from date range and featured item from the existing plan? Any additional customization can be done in the Marketing Message editor directly. NOTE: We did not fill in country restrictions, so need to double check if those are required.",
                  onCancel: r,
                  className: v.CreationDialogCtn,
                  bOKDisabled:
                    0 == m.trim().length ||
                    0 == g ||
                    (!t.BHasAssociatedSaleEvent() && !c) ||
                    0 == w.trim().length ||
                    M.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    M.fnSetLoading(!0);
                    const e = B(
                      m,
                      g,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      w || "#msg_action_details",
                      c,
                    );
                    I(e, !0)
                      .then((e) => {
                        e
                          ? (t.SetMarketingMessageID(e, a),
                            M.fnSetStrSuccess(
                              "Create Marketing Message Successful. Remember to Save the Promotion Plan.",
                            ))
                          : M.fnSetStrError(
                              "Create Marketing Message failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "marketing message Event Failed: " +
                          (0, b.H)(e).strErrorMsg +
                          ". ";
                        console.log(
                          "marketing message create failed",
                          (0, b.H)(e),
                          e,
                        ),
                          M.fnSetStrError(t);
                      });
                  },
                },
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(u.pd, {
                  value: m,
                  onChange: (e) => _(e.currentTarget.value),
                  label: "Internal Name",
                }),
                l.createElement(u.m, {
                  label: "Type",
                  rgOptions: E,
                  selectedOption: g,
                  onChange: (e) => h(e.data),
                }),
                l.createElement(
                  "div",
                  { className: v.LargeSelectorCtn },
                  l.createElement(A, { selected: w, fnSetSelected: C }),
                ),
              );
      }
      function A(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, s.i)(),
          r = (0, l.useMemo)(
            () =>
              Object.keys(n || [])
                .filter((e) => "string" == typeof n[e] && e.startsWith("msg_"))
                .map((e) => ({ label: `${n[e]} (#${e})`, value: `#${e}` })),
            [n],
          );
        return n
          ? l.createElement(
              l.Fragment,
              null,
              l.createElement(u.JU, null, "Template Button text:"),
              l.createElement(o.Ay, {
                options: r,
                value: r.find((e) => e.value === t),
                onChange: (e) => a(e.value),
                isSearchable: !0,
              }),
            )
          : l.createElement(g.t, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function k(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          r = (0, i.kn)(),
          [s, d] = (0, l.useState)(null);
        (0, l.useEffect)(() => {
          if (r) {
            const e = [1, 2, 5],
              t = r.filter(
                (t) => t.associated_id && e.includes(t.association_type),
              );
            c.A.Get().QueueMultipleStoreItemRequests(
              t.map((e) => e.associated_id),
              t.map((e) => (0, m.s9)(e.association_type)),
              {},
            );
          }
        }, [r]);
        const _ = (0, l.useMemo)(
          () =>
            r?.map((e) => ({
              label: e.title,
              value: e.gid,
              marketingmessage: e,
            })),
          [r],
        );
        return r
          ? l.createElement(
              p.o0,
              {
                strTitle: "Select an Existing Marketing Message",
                strDescription:
                  "This only surfaces active or upcoming Marketing Message. This doesn't have access to archived Marketing Message.",
                onCancel: a,
                closeModal: a,
                onOK: () => {
                  t.SetMarketingMessageID(s, n);
                },
                bOKDisabled: Boolean(!s),
              },
              l.createElement(
                "div",
                { className: v.LinkMsgModalCtn },
                l.createElement(u.JU, null, "Choose Marketing Message:"),
                l.createElement(o.Ay, {
                  options: _,
                  value: _.find((e) => e.value === s),
                  onChange: (e) => d(e?.value || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    if (!Boolean(t)) return !0;
                    const a = t.toLowerCase(),
                      n = e.data.marketingmessage,
                      r = c.A.Get().GetStoreItem(
                        n.associated_id,
                        (0, m.s9)(n.association_type),
                      );
                    return (
                      e.label.toLowerCase().search(a) >= 0 ||
                      n.creator_name.toLowerCase().search(a) >= 0 ||
                      r?.GetName().toLowerCase().search(a) >= 0
                    );
                  },
                }),
              ),
            )
          : l.createElement(g.t, {
              string: (0, E.we)("#Loading"),
              position: "center",
              size: "medium",
            });
      }
    },
    52614: (e, t, a) => {
      "use strict";
      a.d(t, {
        S0: () => B,
        bl: () => I,
        h1: () => v,
        h6: () => C,
        jE: () => f,
      });
      var n = a(79905),
        r = a(90626),
        i = a(69235),
        s = a(56555),
        l = a(49953),
        o = a(55241),
        c = a(85010),
        m = a(62059),
        d = a(15708),
        u = a(36058),
        p = a(84811),
        _ = a(22797),
        g = a(32754),
        h = a(61859),
        E = a(91675),
        S = a(82227),
        y = a(19976);
      function v(e) {
        const { templateType: t } = e,
          a = (0, n.ZM)(),
          [i, s, l] = (0, r.useMemo)(() => {
            if (!a) return [0, 0, []];
            const e = b(a, t);
            let n = 0,
              r = 0;
            return (
              e.forEach((e) => {
                e.seen_count > n && (n = e.seen_count), (r += e.seen_count);
              }),
              [n, r, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [a, t]);
        return a
          ? r.createElement(
              "div",
              { className: y.DashStatsContainer },
              r.createElement(
                "div",
                { className: y.Chart },
                r.createElement(
                  p.tH,
                  null,
                  r.createElement(w, { Data: l, nPeak: i }),
                ),
              ),
              r.createElement(
                "div",
                { className: y.Stats },
                r.createElement(
                  "div",
                  { className: y.CurrentStats },
                  r.createElement(
                    "div",
                    { className: y.StatsTitle },
                    (0, S.Dq)(s),
                  ),
                  r.createElement(
                    "div",
                    { className: y.StatSubtitle },
                    r.createElement(
                      "span",
                      { className: y.Now },
                      "Total Seen over last 7 days",
                    ),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: y.PeakStats },
                  r.createElement(
                    "div",
                    { className: y.StatsTitle },
                    (0, S.Dq)(i),
                  ),
                  r.createElement(
                    "div",
                    { className: y.StatSubtitle },
                    r.createElement(
                      "span",
                      { className: y.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : r.createElement(_.t, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function f(e) {
        const { gid: t, templateType: a } = e,
          i = (0, n.lS)(t),
          [s, l, o] = (0, r.useMemo)(() => {
            if (!i) return [0, 0, []];
            const e = b(i, a);
            let t = 0,
              n = 0;
            return (
              e.forEach((e) => {
                e.seen_count > t && (t = e.seen_count), (n += e.seen_count);
              }),
              [t, n, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [i, a]);
        return i
          ? r.createElement(
              "div",
              { className: y.DashStatsContainer },
              r.createElement(
                "div",
                { className: y.Chart },
                r.createElement(
                  p.tH,
                  null,
                  r.createElement(w, { Data: o, nPeak: s }),
                ),
              ),
              r.createElement(
                "div",
                { className: y.Stats },
                r.createElement(
                  "div",
                  { className: y.CurrentStats },
                  r.createElement(
                    "div",
                    { className: y.StatsTitle },
                    (0, S.Dq)(l),
                  ),
                  r.createElement(
                    "div",
                    { className: y.StatSubtitle },
                    r.createElement("span", { className: y.Now }, "Total Seen"),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: y.PeakStats },
                  r.createElement(
                    "div",
                    { className: y.StatsTitle },
                    (0, S.Dq)(s),
                  ),
                  r.createElement(
                    "div",
                    { className: y.StatSubtitle },
                    r.createElement(
                      "span",
                      { className: y.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : r.createElement(_.t, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function b(e, t) {
        const a = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (a.has(e.rt_time_hour)
                ? a.set(e.rt_time_hour, a.get(e.rt_time_hour) + e.seen_count)
                : a.set(e.rt_time_hour, e.seen_count));
          }),
          Array.from(a).map((e) => ({ rt_time_hour: e[0], seen_count: e[1] }))
        );
      }
      const w = r.memo((e) => {
        const { Data: t, nPeak: a } = e;
        return r.createElement(
          i.u,
          { width: "100%", height: "100%" },
          r.createElement(
            s.X,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            r.createElement(
              "defs",
              null,
              r.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                r.createElement("stop", { stopColor: "#1A9FFF" }),
                r.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                r.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                r.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            r.createElement(l.d, { vertical: !1, stroke: "#a0aab6" }),
            r.createElement(o.h, {
              tickFormatter: S.NO,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            r.createElement(c.m, { content: r.createElement(D, null) }),
            r.createElement(m.y, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            r.createElement(d.e, {
              y: a,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
          ),
        );
      });
      function D({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return r.createElement(
            g.t1,
            null,
            r.createElement("b", null, (0, S.Dq)(e.seen_count)),
            " views at ",
            (0, h.TW)(e.rt_time_hour),
            " ",
            (0, E.KC)(e.rt_time_hour),
          );
        }
        return null;
      }
      function C(e) {
        const { gid: t, templateType: a } = e,
          i = (0, n.lS)(t),
          [s, l] = (0, r.useMemo)(() => {
            if (!i) return [0, []];
            const e = I(i, a);
            let t = 0,
              n = 0;
            e.forEach((e) => {
              e.seen_count > n && (n = e.seen_count),
                e.display_index > t && (t = e.display_index);
            });
            for (let a = 0; a < t; ++a) {
              e.findIndex((e) => e.display_index == a) < 0 &&
                e.push({ display_index: a, seen_count: 0 });
            }
            return [n, e.sort((e, t) => e.display_index - t.display_index)];
          }, [i, a]);
        return i
          ? r.createElement(
              "div",
              { className: y.DashStatsContainer },
              r.createElement(
                "div",
                { className: y.Chart },
                r.createElement(
                  p.tH,
                  null,
                  r.createElement(B, { Data: l, nPeak: s }),
                ),
              ),
            )
          : r.createElement(_.t, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function I(e, t) {
        const a = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (a.has(e.display_index)
                ? a.set(e.display_index, a.get(e.display_index) + e.seen_count)
                : a.set(e.display_index, e.seen_count));
          }),
          Array.from(a).map((e) => ({ display_index: e[0], seen_count: e[1] }))
        );
      }
      const B = r.memo((e) => {
        const { Data: t, nPeak: a } = e;
        return r.createElement(
          i.u,
          { width: "100%", height: "100%" },
          r.createElement(
            s.X,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            r.createElement(
              "defs",
              null,
              r.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                r.createElement("stop", { stopColor: "#1A9FFF" }),
                r.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                r.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                r.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            r.createElement(l.d, { vertical: !1, stroke: "#a0aab6" }),
            r.createElement(o.h, {
              tickFormatter: S.NO,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            r.createElement(c.m, { content: r.createElement(T, null) }),
            r.createElement(m.y, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            r.createElement(d.e, {
              y: a,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
            r.createElement(u.W, { interval: 0 }),
          ),
        );
      });
      function T({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return r.createElement(
            g.t1,
            null,
            r.createElement("b", null, (0, S.Dq)(e.seen_count)),
            " views at display index data ",
            e.display_index,
          );
        }
        return null;
      }
    },
    96468: (e, t, a) => {
      "use strict";
      a.d(t, { M: () => d, p: () => m });
      var n = a(65946),
        r = a(90626),
        i = a(62792),
        s = a(55263),
        l = a(53243),
        o = a(56186);
      const c = {
        include_assets: !0,
        include_trailers: !0,
        include_screenshots: !0,
      };
      function m(e, t) {
        const a = [];
        if (!e || !t) return a;
        10 == e.type &&
          (0 != t.GetStoreItemType()
            ? a.push(
                "Update Marketing Message required to feature an App store item.",
              )
            : 14 == t.GetAppType() &&
              a.push(
                "Update Marketing Message cannot feature an advertising app",
              ));
        const n = (0, o.c2)(e.template_vars_json);
        if ("mm_auto_render" == n?.custom_display) {
          const e = t?.GetAssets();
          e?.GetMainCapsuleURL() ||
            a.push(
              "Marketing Message: Store item missing main capsule, required asset for auto-render.",
            ),
            e?.GetHeroCapsuleURL() ||
              a.push(
                "Marketing Message: Store item missing here capsule (aka store vertical capsule), required asset for auto-render for Steam Deck.",
              ),
            t?.GetOnlyAllAgesSafeScreenshots().length < 3 &&
              a.push(
                "Marketing Message: Store item missing at least 3 screenshots safe for all ages, required asset for auto-render.",
              ),
            0 == t?.GetAllTrailers().GetHighlightTrailers().length &&
              a.push(
                "Marketing Message: Store item missing highlight trailers, required asset for auto-render.",
              );
        }
        return a;
      }
      function d(e) {
        const { oEditableMessage: t } = e,
          [a, o, d] = (0, n.q3)(() => [
            t.GetStoreItemKey()?.id,
            (0, i.JK)(t.GetStoreItemKey()?.item_type),
            t.GetModel(),
          ]),
          [u] = (0, s.G6)(a, o, c),
          p = m(d, u);
        return r.createElement(l.f, { rgWarnings: p });
      }
    },
    41720: (e, t, a) => {
      "use strict";
      a.d(t, { Kx: () => E, bX: () => g, yb: () => _ });
      var n = a(14446),
        r = a(24071),
        i = a(90626),
        s = a(17720),
        l = a(16676),
        o = a(56330),
        c = a(9154),
        m = a(738),
        d = a(22797),
        u = a(62792),
        p = a(55263);
      function _(e, t) {
        const a = (0, r.H)(e),
          [n] = (0, p.G6)(t?.id, (0, u.JK)(t?.item_type), {}),
          s = i.useMemo(
            () =>
              0 == n?.GetStoreItemType() ? [n.GetID()] : n?.GetIncludedAppIDs(),
            [n],
          ),
          { rgContacts: l, description: o } = (0, i.useMemo)(() => {
            if (s && s.length > 0) {
              let e = new Array();
              if (
                (a?.forEach((t, a) => {
                  s.some((e) => t.includes(e)) && (e = e.concat(a));
                }),
                e.length > 0)
              )
                return {
                  rgContacts: e,
                  description:
                    "Contact list is filtered to accounts with ManagePricing rights for the store item.",
                };
            }
            return {
              rgContacts: a ? [...a.keys()] : [],
              description:
                "Warning: No communication accounts exist with ManagePricing rights for the store item.",
            };
          }, [s, a]);
        return { rgContacts: l, description: o };
      }
      function g(e) {
        const {
            nPartnerID: t,
            bAllowedCustomContacts: a,
            storeItemFilter: n,
          } = e,
          [r, s] = (0, i.useState)(!1),
          { rgContacts: c, description: d } = _(t, n),
          u = (0, i.useMemo)(() => !(!t || !c) && !c.length, [c, t]);
        return i.createElement(
          i.Fragment,
          null,
          c?.length > 0
            ? i.createElement(
                l.$n,
                {
                  onClick: () => {
                    (0, m.pg)(
                      i.createElement(E, { rgAccountIDs: c, description: d }),
                      window,
                    );
                  },
                },
                "See contacts (",
                c.length,
                ")",
              )
            : u &&
                i.createElement(
                  "span",
                  { className: o.ErrorStylesBackground },
                  "Cannot Send Invite: The selected partner does not have any users with communication preference enabeld.",
                ),
          Boolean(a) &&
            i.createElement(
              i.Fragment,
              null,
              r
                ? i.createElement(h, null)
                : i.createElement(
                    l.$n,
                    { onClick: () => s(!0) },
                    "Add more contacts?",
                  ),
            ),
        );
      }
      function h(e) {
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            null,
            "Partner Contants ",
            i.createElement("span", null, "(one per line)"),
          ),
          i.createElement("textarea", {
            cols: 60,
            value: "",
            onChange: (e) => {},
          }),
        );
      }
      function E(e) {
        const { rgAccountIDs: t, closeModal: a, description: r } = e,
          { fnHintLoadPartnerUserInfo: l } = (0, n.Ex)(),
          o = (0, i.useMemo)(
            () => t.map((e) => s.b.InitFromAccountID(e).ConvertTo64BitString()),
            [t],
          ),
          [m, u] = (0, i.useState)(!0);
        return (
          (0, i.useEffect)(() => {
            l(o).finally(() => u(!1));
          }, [o, l]),
          m
            ? i.createElement(d.t, null)
            : i.createElement(
                c.o0,
                {
                  strTitle: "Partner Contact List",
                  bAlertDialog: !0,
                  closeModal: a,
                },
                i.createElement(
                  "div",
                  null,
                  "This is the list of members of the Partner who have opted into promotion related communication. They will be notified to take action on this request.",
                ),
                !!r &&
                  i.createElement("div", { style: { padding: "10px 0px" } }, r),
                i.createElement("br", null),
                i.createElement(
                  "table",
                  { className: "landingTable" },
                  i.createElement(
                    "tr",
                    null,
                    i.createElement("th", null, "Persona"),
                    i.createElement("th", null, "Account Name"),
                    i.createElement("th", null, "Email Address"),
                  ),
                  t.map((e) => i.createElement(S, { key: e, accountID: e })),
                ),
              )
        );
      }
      function S(e) {
        const { accountID: t } = e,
          a = (0, n.gS)(t);
        return i.createElement(
          "tr",
          null,
          Boolean(a)
            ? i.createElement(
                i.Fragment,
                null,
                i.createElement("td", null, a.persona),
                i.createElement("td", null, a.accountname),
                i.createElement("td", null, a.email),
              )
            : i.createElement(
                "td",
                { colSpan: 3 },
                "SteamID: ",
                s.b.InitFromAccountID(t).ConvertTo64BitString(),
                " ",
              ),
        );
      }
    },
    59178: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => u, f: () => _ });
      var n = a(32179),
        r = a(64177),
        i = a(90626),
        s = a(62792),
        l = a(16676),
        o = a(52038),
        c = a(56330),
        m = a(84073),
        d = a.n(m);
      function u(e) {
        const {
            nPartnerID: t,
            nOriginalPartnerID: a,
            storeItemKey: n,
            fnUpdatePartnerID: r,
            showPartnerUnsetWarning: s,
            showPartnerSuggestions: o,
            showPartnerInitialSetWarning: c,
            autoSelectPartnerFromStoreItem: m,
          } = e,
          [u, _] = i.useState(t?.toString()),
          g = u?.trim().length > 0 ? Number.parseInt(u) : void 0;
        return (
          i.useEffect(() => {
            if (u)
              if (u.trim().length > 0) {
                const e = Number.parseInt(u);
                Number.isNaN(e) || r(e);
              } else r(0);
          }, [r, u]),
          i.createElement(
            "div",
            { className: d().PartnerIdRow },
            i.createElement(l.pd, {
              type: "number",
              label: "Partner ID To Allow Access",
              tooltip:
                "Numerical ID. Only users who are members of this partner will be able to see this promotion plan",
              value: u ?? "",
              onChange: (e) => _(e.currentTarget.value),
            }),
            i.createElement(p, {
              nPartnerID: g,
              nOriginalPartnerID: a,
              storeItemKey: n,
              fnUpdatePartnerID: (e) => _(e?.toString() ?? ""),
              showPartnerUnsetWarning: s ?? !0,
              showPartnerSuggestions: o ?? !0,
              showPartnerInitialSetWarning: c,
              autoSelectPartnerFromStoreItem: m,
            }),
          )
        );
      }
      function p(e) {
        const {
            storeItemKey: t,
            nPartnerID: a,
            nOriginalPartnerID: n,
            fnUpdatePartnerID: o,
            showPartnerUnsetWarning: c,
            showPartnerSuggestions: m,
            showPartnerInitialSetWarning: u,
            autoSelectPartnerFromStoreItem: p,
          } = e,
          g = (0, r.Dn)(t?.id, (0, s.JK)(t?.item_type)),
          h = (!a || a !== n) && g?.filter((e) => e.partner_id != a).length > 0;
        return (
          (0, i.useEffect)(() => {
            p && g && 1 == g.length && o && o(g.at(0).partner_id);
          }, [p, g, o]),
          i.createElement(
            i.Fragment,
            null,
            i.createElement(_, {
              nPartnerID: a,
              nOriginalPartnerID: n,
              showPartnerUnsetWarning: c,
              showPartnerInitialSetWarning: u,
            }),
            Boolean(m && h) &&
              i.createElement(
                "div",
                { className: d().SetObviousPartner },
                g.map((e) =>
                  i.createElement(
                    l.$n,
                    { key: e.partner_id, onClick: () => o(e.partner_id) },
                    "Select Partner: ",
                    e.name,
                    " (",
                    e.partner_id,
                    ")",
                  ),
                ),
              ),
          )
        );
      }
      function _(e) {
        const {
            nPartnerID: t,
            nOriginalPartnerID: a,
            showPartnerUnsetWarning: r,
            showPartnerInitialSetWarning: s,
          } = e,
          [l] = (0, n.UA)(t);
        return r && !t
          ? i.createElement(
              "div",
              { className: (0, o.A)(c.ErrorStylesWithIcon, c.ErrorFloatBelow) },
              "No Partner ID set; no partner can access this request",
            )
          : s && void 0 !== a && a <= 1 && t > 1
            ? i.createElement(
                "div",
                {
                  className: (0, o.A)(
                    c.WarningStylesWithIcon,
                    c.WarningFloatBelow,
                  ),
                },
                "This promotion plan will be visible to this partner and show up on their dashboard",
              )
            : l
              ? i.createElement(
                  "div",
                  { className: d().PartnerLink },
                  i.createElement(
                    "a",
                    { href: l.partner_url },
                    l.name,
                    " (",
                    l.partnerid,
                    ")",
                  ),
                )
              : null;
      }
    },
    20499: (e, t, a) => {
      "use strict";
      a.d(t, { w: () => J, _: () => X });
      var n = a(98019),
        r = a(67239),
        i = a(16811),
        s = a(93742),
        l = a(64399),
        o = a(90626),
        c = a(14336),
        m = a(45737),
        d = a.n(m),
        u = a(16676),
        p = a(84811),
        _ = a(95034),
        g = a(95695),
        h = a.n(g),
        E = a(738),
        S = a(38135),
        y = a(22797),
        v = a(52038),
        f = a(56011),
        b = a(61859),
        w = a(14771),
        D = a(78327),
        C = a(62137),
        I = a(63544),
        B = a.n(I),
        T = a(23247);
      const M = "steam_promo_calendar_filter";
      function A(e, t) {
        const a = window.localStorage.getItem(M) || "",
          n =
            window.location.search &&
            !/^\?month=\d+$/.test(window.location.search),
          r = new URLSearchParams(n ? window.location.search : a),
          i = new Set(
            Array.from(e).filter(
              (e) => !(r.has(e) && 0 == Number.parseInt(r.get(e))),
            ),
          );
        return (
          Array.from(t).forEach((e) => {
            r.has(e) && 1 == Number.parseInt(r.get(e)) && i.add(e);
          }),
          i
        );
      }
      var k = a(48996),
        R = a(52625),
        P = a(19367),
        N = a.n(P),
        G = a(41653),
        O = a(92757),
        F = a(44165),
        L = a(32754),
        U = a(30470),
        z = a(16856),
        x = a(98459);
      const q = (0, G.ye)(N());
      function W(e) {
        const t = Math.floor(e.getTime() / 1e3) + 86400;
        if (F.HD.GetTimeNowWithOverride() > t)
          return { className: "DayInThePast" };
      }
      function j(e) {
        const {
            viewDate: t,
            fnSetMonthDelta: a,
            nOwnerAccountToFilter: n,
            fnSkipLoadingDailyDealPages: i,
          } = e,
          [s, c] = o.useState(() => A(r.wv, r.lt)),
          m = (0, O.W6)(),
          d = (0, l.jo)(),
          u = (0, o.useMemo)(
            () =>
              n
                ? d.filter(
                    (e) =>
                      (!e.owner_account_id && e.creator_account_id == n) ||
                      e.owner_account_id == n ||
                      e.artwork_owner_account_id == n ||
                      e.operator_account_id == n ||
                      e.reviewed_by_account == n ||
                      e.marked_completed_by_account == n ||
                      e.watch_list?.includes(n),
                  )
                : d,
            [d, n],
          ),
          p = (0, R.zy)();
        (0, o.useEffect)(() => {
          i(!s.has("dailydeal"));
        }, [s, i]);
        const [_, g] = o.useState(12),
          h = (0, l.PZ)(_, r.vm);
        _ < 6 * K(new Date(), t) && g(6 * K(new Date(), t));
        const S = (0, o.useMemo)(() => {
          const e = u
            .filter((e) => s.size == r.QP.length || s.has(e.type))
            .map((e) => {
              let t,
                a = e.name;
              if (
                (e.intention && "none" != e.intention && r.qt.has(e.intention)
                  ? (t = [r.qt.get(e.intention)])
                  : e.type && r.Yh.has(e.type) && (t = r.Yh.get(e.type)),
                t?.length)
              ) {
                for (const e of t)
                  a = a.replace(new RegExp("^" + e + "\\s*[:-]\\s*", "i"), "");
                a = t[0] + " - " + a;
              }
              const n = {
                promotionPlan: e,
                bIsChecked: !!e.reviewed_by_account,
                sTooltip: e.promotion_planner_notes,
              };
              return {
                allDay: !1,
                title: a,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 39600 - 1)),
                resource: n,
              };
            });
          let t = [];
          s.has("dailydeal") &&
            (t = p
              .filter((e) => !e.cancelled)
              .map((e) => {
                const t =
                    e.discount_event_id &&
                    (0, k.$U)(e.discount_event_id.toString())?.length > 0,
                  a = { dailyDealGid: e.gid, bIsChecked: t };
                return {
                  allDay: !1,
                  title: e.store_item_name,
                  start: new Date(1e3 * e.rtime32_start_time),
                  end: new Date(1e3 * (e.rtime32_start_time + 39600)),
                  resource: a,
                };
              }));
          const a = [];
          return (
            s.forEach((e) => {
              const t = r.Qo.get(e);
              h?.get(e)?.forEach((n) => {
                const i = n.rgPlans.length < t.nMaxSlots,
                  s = { week: n };
                a.push({
                  allDay: !1,
                  title:
                    r.W7.get(e) +
                    " " +
                    (i
                      ? t.nMaxSlots - n.rgPlans.length + " Available"
                      : " No slots"),
                  start: new Date(1e3 * (n.rtWeekStart + t.rtStartModifier)),
                  end: new Date(
                    1e3 * (n.rtWeekStart + t.rtEndModifier - 39600 - 1),
                  ),
                  resource: s,
                });
              });
            }),
            [...e, ...t, ...a]
          );
        }, [u, s, p, h]);
        return o.createElement(
          "div",
          { className: B().CalendarCtn },
          o.createElement(V, {
            rgVisiblePromotionTypes: s,
            fnSetVisiblePromotionTypes: c,
            rgAvailableTypes: r.QP,
          }),
          o.createElement(G.Vv, {
            views: ["month"],
            popup: !0,
            defaultView: "month",
            localizer: q,
            date: t,
            onNavigate: (e) => {
              const t = K(new Date(), e);
              _ < 5 * t && g(5 * t), a(K(new Date(), e));
            },
            events: S,
            dayPropGetter: W,
            style: { height: 2400 },
            showMultiDayTimes: !0,
            onSelectEvent: (e, t) => {
              const a = e.resource;
              if (a.dailyDealGid)
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${U.TS.PARTNER_BASE_URL}/promotion/${z.PromotionRoutes.DailyDealEditor(a.dailyDealGid)}`,
                      "_blank",
                    )
                  : m.push(z.PromotionRoutes.DailyDealEditor(a.dailyDealGid));
              else if (a.promotionPlan) {
                const a = e.resource.promotionPlan;
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${U.TS.PARTNER_BASE_URL}/promotion/${z.PromotionRoutes.PromotionPlanEditor(a.id)}`,
                      "_blank",
                    )
                  : m.push(z.PromotionRoutes.PromotionPlanEditor(a.id));
              } else
                a.week &&
                  (0, E.pg)(
                    o.createElement(T.Op, {
                      rtInitialDate: Math.floor(e.start.getTime() / 1e3),
                      initialType: a.week.type,
                      rtInitialEndDate:
                        Math.floor(e.end.getTime() / 1e3) + 39600 + 1,
                    }),
                    window,
                  );
            },
            eventPropGetter: (e) => (0, x.LK)(e.resource),
            components: { event: H },
          }),
        );
      }
      const H = (e) => {
        const t = e.event.resource;
        return o.createElement(
          "span",
          {
            className: (0, v.A)(
              B().EventContainer,
              t.bIsChecked ? B().Complete : B().Incomplete,
            ),
          },
          void 0 !== t.bIsChecked && (t.bIsChecked ? "🗹 " : "☐ "),
          t.sTooltip &&
            o.createElement(
              L.he,
              {
                className: B().EventNotesTooltipIndicator,
                toolTipContent: t.sTooltip,
              },
              "(ℹ️) ",
            ),
          e.title,
        );
      };
      function V(e) {
        const {
          rgVisiblePromotionTypes: t,
          fnSetVisiblePromotionTypes: a,
          rgAvailableTypes: n,
        } = e;
        return o.createElement(
          "div",
          { className: B().filtersCtn },
          n
            .filter((e) => !r.re.has(e))
            .map((e) =>
              o.createElement(u.Yh, {
                key: e,
                label: r.W7.get(e),
                checked: t.has(e),
                className: e,
                onChange: (n) => {
                  const i = new Set(t),
                    s = new URLSearchParams(window.location.search);
                  n
                    ? (i.add(e), r.lt.has(e) ? s.set(e, "1") : s.delete(e))
                    : (i.delete(e), r.lt.has(e) ? s.delete(e) : s.set(e, "0")),
                    window.history.replaceState({}, "", "?" + s.toString()),
                    s.delete("month"),
                    window.localStorage.setItem(M, "?" + s.toString()),
                    a(i);
                },
              }),
            ),
        );
      }
      function K(e, t) {
        return (
          t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
        );
      }
      var Y = a(28268),
        $ = a(80754);
      function J(e) {
        const t = (0, c.z0)(e);
        return t?.m_strPlayerName || t?.m_strAccountName || "" + e;
      }
      function X(e) {
        const { fnResetDirtyPlan: t } = (0, s.Gr)(),
          { fnResetDirtyPlanInputPipeline: a } = (0, i.RX)(),
          [m, g] = (0, _.QD)("tab", "current"),
          [y, b] = (0, o.useState)(""),
          [D, I] = (0, _.QD)("filter_account", 0),
          [M, k] = (0, o.useState)(() => !A(r.wv, r.lt).has("dailydeal")),
          R = (0, n.q)();
        (0, c.DW)(R?.map((e) => e.id) || []),
          o.useEffect(() => {
            t(), a();
          }, [t, a]);
        const [P, N] = (0, _.QD)("month", 0),
          G = (0, o.useMemo)(() => {
            const e = new Date(),
              t = e.getMonth();
            return 0 != P && e.setDate(1), e.setMonth(t + P), e;
          }, [P]),
          O = (0, l.jo)(),
          F = (0, o.useMemo)(
            () =>
              D
                ? O.filter(
                    (e) =>
                      (!e.owner_account_id && e.creator_account_id == D) ||
                      e.owner_account_id == D ||
                      e.artwork_owner_account_id == D ||
                      e.operator_account_id == D ||
                      e.reviewed_by_account == D ||
                      e.marked_completed_by_account == D ||
                      e.watch_list?.includes(D),
                  )
                : O,
            [O, D],
          ),
          [L, U, z, x, q, W, H, V, K] = (0, o.useMemo)(() => {
            const e = new Array(),
              t = new Array(),
              a = new Array(),
              n = new Array(),
              r = new Array(),
              i = new Array(),
              s = new Array(),
              o = new Array(),
              c = new Array();
            return (
              F.forEach((m) => {
                let d = !0;
                if (y?.trim().length > 0) {
                  const e = y.toLocaleLowerCase();
                  (d =
                    m.admin_notes?.toLocaleLowerCase().indexOf(e) >= 0 ||
                    m.name?.toLocaleLowerCase().indexOf(e) >= 0 ||
                    J(m.owner_account_id || m.creator_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    J(m.artwork_owner_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    J(m.operator_account_id).toLocaleLowerCase().indexOf(e) >=
                      0 ||
                    ("" + m.store_item_id).indexOf(e) >= 0),
                    d && o.push(m.id);
                }
                if (d && "vacation" != m.type) {
                  const o = Math.floor(Date.now() / 1e3);
                  if (Boolean(m.reviewed_by_account || m.end_date < o))
                    m.end_date > o &&
                      !m.marked_completed_by_account &&
                      c.push(m.id);
                  else if (Boolean(m.artwork_completed_time)) s.push(m.id);
                  else if (Boolean(m.artwork_localization_task_id))
                    i.push(m.id);
                  else {
                    const i = (0, l.R5)(m.id);
                    Boolean(
                      m.partner_requires_art_review &&
                        m.partner_review_create_time &&
                        (!i.approvals_provided ||
                          i.approvals_provided.length !=
                            i.approval_requests.length),
                    )
                      ? r.push(m.id)
                      : Boolean(m.delivery_review_time)
                        ? n.push(m.id)
                        : Boolean(
                              i?.submitting_accountid ||
                                i?.submitting_rtime ||
                                m.associated_asset_url,
                            )
                          ? a.push(m.id)
                          : Boolean(i?.art_requests?.length > 0)
                            ? t.push(m.id)
                            : e.push(m.id);
                  }
                }
              }),
              [e, t, a, n, r, i, s, c, o]
            );
          }, [F, y]),
          X = (0, o.useCallback)(
            (e) =>
              e.artwork_production_team_due_date
                ? e.artwork_production_team_due_date
                : e.start_date - r.n5,
            [],
          ),
          ee = (e) => g(e.key),
          te = [
            {
              name: "Calendar",
              key: "current",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(
                  C.u,
                  { bSkipLoadingPackages: M },
                  o.createElement(j, {
                    viewDate: G,
                    fnSetMonthDelta: N,
                    nOwnerAccountToFilter: D,
                    fnSkipLoadingDailyDealPages: k,
                  }),
                ),
              ),
              onClick: ee,
            },
            {
              name: `Tentative (${L?.length || 0})`,
              key: "tentative",
              tooltip: "Plan is tentative until an artwork URL is entered",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: L,
                  nUrgentWindowInSeconds: 6 * w.Kp.PerDay,
                }),
              ),
              onClick: ee,
            },
            {
              name: `Awaiting Partner (${U?.length || 0})`,
              key: "await_partner",
              tooltip:
                "Items appear here if they have their asset request tab enabled and the artwork not yet submitted.",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: U,
                  nUrgentWindowInSeconds: 6 * w.Kp.PerDay,
                }),
              ),
              onClick: ee,
            },
            {
              name: `Delivery Ops Review (${z?.length || 0})`,
              key: "delivery_review",
              tooltip:
                "Parnter has submitted the artwork and we are awaiting operation to review the art matches the guidelines",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: z,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: ee,
            },
            {
              name: `Awaiting Design (${x?.length || 0})`,
              key: "await_artteam",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: x,
                  sortByUnclaimedField: "artwork_owner_account_id",
                  bAllowAutoRefresh: !0,
                  nUrgentWindowInSeconds: 1 * w.Kp.PerDay,
                  fnDisplayDueDate: X,
                }),
              ),
              onClick: ee,
            },
            {
              name: `Awaiting Partner Approvals (${q?.length || 0})`,
              tooltip:
                "On case where are required to provide assets for the partner to review prior to launch of the promotion",
              key: "await_approvals",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, { planIDs: q }),
              ),
              onClick: ee,
            },
            {
              name: `Waiting on Loc (${W?.length || 0})`,
              key: "await_locteam",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: W,
                  nUrgentWindowInSeconds: 1 * w.Kp.PerDay,
                  fnDisplayDueDate: X,
                }),
              ),
              onClick: ee,
            },
            {
              name: `Awaiting Ops Review (${H?.length || 0})`,
              key: "await_review",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: H,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: ee,
            },
            {
              name: `Awaiting Live Decision (${V?.length || 0})`,
              key: "reviewed",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, {
                  planIDs: V,
                  bAllowAutoRefresh: !1,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: ee,
            },
          ];
        return (
          y.trim().length > 0 &&
            te.push({
              name: `Search Results (${K?.length || 0})`,
              key: "search",
              contents: o.createElement(
                p.tH,
                null,
                o.createElement(Y.U, { planIDs: K }),
              ),
              onClick: ee,
            }),
          o.createElement(
            "div",
            {
              className: (0, v.A)(
                B().Container,
                d().AdminPageCtn,
                d().WidePageCtn,
              ),
            },
            o.createElement(
              "div",
              { className: d().PageTitleFlexCtn },
              o.createElement(
                "div",
                { className: d().PageTitle },
                "Promotion Planning Tool (VO) ",
              ),
              o.createElement(
                "div",
                { className: B().CreateNewCtn },
                o.createElement(u.pd, {
                  type: "text",
                  placeholder: "Search promos",
                  tooltip:
                    "Only an in-memory search of plan name, admin notes and store item id",
                  value: y,
                  onChange: (e) => {
                    b(e?.currentTarget?.value || ""),
                      e?.currentTarget?.value.trim().length > 0
                        ? g("search")
                        : g("current");
                  },
                }),
                o.createElement(
                  u.jn,
                  {
                    onClick: (e) =>
                      (0, E.pg)(o.createElement(T.Op, null), (0, f.uX)(e)),
                  },
                  "Create New Promotion",
                ),
                o.createElement($.m, { nAccountID: D, fnSetAccountFilter: I }),
              ),
            ),
            o.createElement("hr", { className: "VO" }),
            o.createElement(S.V, { tabs: te }),
            o.createElement("div", { className: h().ClearThings }),
            o.createElement("hr", { className: "VO" }),
            o.createElement(Q, null),
            o.createElement(Z, null),
          )
        );
      }
      function Q(e) {
        const [t, a] = (0, o.useState)((0, l.Sf)()),
          [n, r] = (0, o.useState)(!1);
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            u.$n,
            {
              disabled: n,
              onClick: async () => {
                r(!0), a(t + l.HN), await (0, l.cC)(t), r(!1);
              },
            },
            "Load 6 More Previous Months",
          ),
          n && o.createElement(y.t, { string: (0, b.we)("#Loading") }),
        );
      }
      function Z(e) {
        return o.createElement(
          "div",
          { className: B().OtherLinks },
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/dailydeals/dashboard" },
            "Daily Deal Calendar",
          ),
          o.createElement(
            "a",
            {
              href:
                D.TS.PARTNER_BASE_URL + "promotion/marketingmessages/dashboard",
            },
            "Marketing Messages List",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/spotlights/dashboard" },
            "Spotlights List",
          ),
          o.createElement(
            "a",
            {
              href:
                D.TS.PARTNER_BASE_URL + "promotion/discountevents/dashboard",
            },
            "Discount Events List (WIP)",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/planning/themes" },
            "Theme Fests Ideation Dashboard",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/planning/salesrank" },
            "Sales Rank Planning Dashboard",
          ),
          o.createElement(
            "a",
            {
              href:
                D.TS.PARTNER_BASE_URL + "promotion/invitationplanner/dashboard",
            },
            "Promotion Invitation Planner Dashboard",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/themesales/dashboard" },
            "Theme Fests / Next Fest Progress Tracking Dashboard",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/planning/migration" },
            "Bulk Data Migration",
          ),
          o.createElement(
            "a",
            { href: D.TS.PARTNER_BASE_URL + "promotion/analysis/curated" },
            "Key Longitudinal Analysis of Featured Franchises Report",
          ),
        );
      }
    },
    16856: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { PromotionRoutes: () => Ki, default: () => Yi });
      var n = a(43527),
        r = a(11542),
        i = a(34288),
        s = a(16811),
        l = a(93742),
        o = a(68225),
        c = a(90626),
        m = a(17083),
        d = a(92757),
        u = a(11577),
        p = a(14932),
        _ = a(97058),
        g = (a(5977), a(78327)),
        h = a(34667),
        E = a(21257);
      var S = a(52625),
        y = a(64177),
        v = a(65946);
      var f = a(14336),
        b = a(62792),
        w = a(55263),
        D = a(45737),
        C = a.n(D),
        I = a(16676),
        B = a(71298),
        T = a(84811),
        M = a(56330),
        A = a.n(M),
        k = a(95695),
        R = a.n(k),
        P = a(9154),
        N = a(738),
        G = a(12155),
        O = a(38135),
        F = a(22797),
        L = (a(48479), a(52038)),
        U = a(56011),
        z = a(61859),
        x = a(94238),
        q = a(68612),
        W = a(64399),
        j = a(68797),
        H = a(5481),
        V = a(98076),
        K = a(56186);
      function Y(e) {
        const { id: t } = e,
          a = (0, i.zw)(t),
          [n, r, s] = (0, v.q3)(() => [
            (0, K.$I)(a?.GetCustomTemplate() || ""),
            (0, K.Zi)(a?.GetCustomTemplate()),
            a?.GetPlanAssetRequestGID(),
          ]);
        return a
          ? n || r
            ? c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  null,
                  "Asset Request Not Support, no assets are required.",
                ),
                Boolean(s) &&
                  c.createElement(
                    c.Fragment,
                    null,
                    c.createElement("br", null),
                    c.createElement(
                      m.N_,
                      { to: Ki.PromotionPlanEditor(s) },
                      "Note: Promotion Plan Might Exists, please delete at your convenience.",
                    ),
                  ),
              )
            : c.createElement(
                "div",
                { className: V.EditCtn },
                c.createElement(
                  "div",
                  { className: C().PageTitle },
                  "Marketing Message - Partner Asset Request",
                ),
                c.createElement("hr", null),
                Boolean(a?.BHasPlanAssetRequestGID())
                  ? c.createElement(H.J, { bShowLinkToPromotionPlan: !0 })
                  : c.createElement($, { oEditableMessage: a }),
              )
          : c.createElement(F.t, {
              size: "medium",
              position: "center",
              string: (0, z.we)("#Loading"),
            });
      }
      function $(e) {
        const { oEditableMessage: t } = e;
        return c.createElement(
          "div",
          {
            className: (0, L.A)(C().DefaultSectionCtn, C().ValveOnlyBackground),
          },
          c.createElement(
            "p",
            null,
            "Most marketing messages asset requests are handled by the overall promotion plans (think weekend deal etc...) as that would encompass all of the asset types in a single request (marketing message, spotlight etc...).",
          ),
          c.createElement(
            "p",
            null,
            "However, if this is a marketing message outside normal promotion boundarys (one off such as 'now available'), then you create an asset request here. NOTE: Under the covers this will a simple asset request only promotion plan.",
          ),
          c.createElement(
            I.$n,
            {
              onClick: (e) =>
                (0, N.pg)(
                  c.createElement(X, { oEditableMessage: t }),
                  (0, U.uX)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      async function J(e, t, a, n, r) {
        const i = t.GetStoreItemID();
        let s = null;
        try {
          const e = {
              requested_store_item_type: (0, b.pk)(i),
              requested_store_item_id: (0, b.M9)(i),
              requested_type: "assetrequest",
              requested_promotion_name: t.GetName(),
              enable_input: !0,
              art_requests: [
                "partner_event" == t.GetCustomTemplate()
                  ? "marketingmessage_art_eventcapsule"
                  : "marketingmessage_art",
              ],
              input_artwork_url: "",
            },
            l = await a({
              type: "assetrequest",
              strName: t.GetName(),
              rtStartDate: t.GetStartRTime(),
              rtEndDate: t.GetEndRTime(),
              storeItemID: (0, b.M9)(i),
              storeItemType: (0, b.pk)(i),
              strMarketingMessageID: t.GetGID(),
              inputPipelineModel: e,
              nPartnerID: r,
            });
          if (l) {
            t.SetPlanAssetRequestGID(l);
            (await n(t))
              ? t.SaveSuccessClearDirty()
              : (s = {
                  strErrorMsg:
                    "Plan created... but failed to save marketing message",
                });
          } else s = { strErrorMsg: "Failed to create promotion plan." };
        } catch (e) {
          s = (0, j.H)(e);
        }
        return (
          s
            ? (e.fnSetError(!0),
              e.fnSetStrError(s.strErrorMsg),
              console.error(
                "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                  s.strErrorMsg,
                s,
              ))
            : (e.fnSetSuccess(!0), e.fnSetStrSuccess("Asset Request Unlocked")),
          !s
        );
      }
      function X(e) {
        const { oEditableMessage: t, closeModal: a } = e,
          { fnAddNewPlan: n } = (0, W.lK)(),
          { fnUpdateMarketingMessage: r } = (0, q.kG)(),
          i = (0, B.vs)();
        return i.bLoading
          ? c.createElement(B.Hh, {
              state: i,
              strDialogTitle: "Creating Asset Request",
              closeModal: a,
            })
          : c.createElement(P.o0, {
              strTitle: "Create Asset Request?",
              strDescription:
                "By clicking confirm, this will unlock the asset request for this marketing message only. It will create an assert request only promotion plan for the rest of operations and artwork workflow.",
              onCancel: a,
              onOK: async () => {
                i.fnSetLoading(!0), await J(i, t, n, r);
              },
            });
      }
      function Q(e) {
        const t = (0, r.lH)();
        return c.createElement(
          "div",
          { className: V.EditCtn },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Daily Deal - Partner Asset Request",
          ),
          c.createElement("hr", null),
          Boolean(t.BHasPromotionPlanAssetRequest())
            ? c.createElement(H.J, { bShowLinkToPromotionPlan: !0 })
            : c.createElement(Z, { oEditableDailyDeal: t }),
        );
      }
      function Z(e) {
        const { oEditableDailyDeal: t } = e;
        return c.createElement(
          "div",
          {
            className: (0, L.A)(C().DefaultSectionCtn, C().ValveOnlyBackground),
          },
          c.createElement(
            "p",
            null,
            "Daily Deals do not usually require an asset request. They are usually self contain because of their existing store item capsule (app capsule, package capsule and bundle capsules).",
          ),
          c.createElement(
            "p",
            null,
            "However, if this Daily Deal is specifically for a sale page, then we need to request art for the advertising app's capsule, sale event capsule, and sale page background.",
          ),
          c.createElement(
            I.$n,
            {
              onClick: (e) =>
                (0, N.pg)(
                  c.createElement(ee, { oEditableDailyDeal: t }),
                  (0, U.uX)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      function ee(e) {
        const { oEditableDailyDeal: t, closeModal: a } = e,
          { fnAddNewPlan: n } = (0, W.lK)(),
          r = t.GetStoreItemKey(),
          [i, s] = (0, w.G6)(r.id, (0, b.JK)(r.item_type), {}),
          { fnSaveDailyDeal: l } = (0, S.Yg)(),
          o = [
            "sale_header",
            "sale_logo",
            "capsule",
            "product_banner",
            "product_mobile_banner",
            "localized_title_image",
            "app_header_capsule",
          ],
          m = (0, B.vs)();
        return m.bLoading
          ? c.createElement(B.Hh, {
              state: m,
              strDialogTitle: "Creating Asset Request",
              closeModal: a,
            })
          : c.createElement(
              P.o0,
              {
                strTitle: "Create Asset Request?",
                strDescription:
                  "By clicking confirm, this will unlock the asset request for this daily deal only. It will create an asset request only promotion plan for the remaining operations and artwork workflow.",
                onCancel: a,
                bOKDisabled: !i,
                onOK: async () => {
                  m.fnSetLoading(!0);
                  const e = t.GetStoreItemKey();
                  let a = null;
                  try {
                    const r = "Daily Deal - " + i.GetName(),
                      s = {
                        requested_store_item_type: (0, b.JK)(e.item_type),
                        requested_store_item_id: e.id,
                        requested_type: "assetrequest",
                        requested_promotion_name: r,
                        enable_input: !0,
                        art_requests: o,
                        input_artwork_url: "",
                      },
                      c = {
                        type: "assetrequest",
                        strName: r,
                        rtStartDate: t.GetStartDateRTime(),
                        rtEndDate: t.GetEndDateRTime(),
                        strDiscountEventID: t.GetDiscountEventID(),
                        storeItemID: e.id,
                        storeItemType: (0, b.JK)(e.item_type),
                        strDailyDealID: t.GetDealID(),
                        inputPipelineModel: s,
                      };
                    14 == i?.GetAppType() && (c.nAdvertisingAppID = e.id),
                      t.BRequiresSalePage() &&
                        ((c.nSaleClanAccountID = t.GetSaleClanAccountID()),
                        (c.strSaleClanEventGID = t.GetSaleClanEventGID()));
                    const m = await n(c);
                    if (m) {
                      t.SetPromotionPlanAssetRequestID(m);
                      (await l(t.GetModel())) ||
                        (a = {
                          strErrorMsg:
                            "Plan created... but failed to save daily deal",
                        });
                    } else
                      a = { strErrorMsg: "Failed to create promotion plan." };
                  } catch (e) {
                    a = (0, j.H)(e);
                  }
                  a
                    ? (m.fnSetError(!0),
                      m.fnSetStrError(a.strErrorMsg),
                      console.error(
                        "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                          a.strErrorMsg,
                        a,
                      ))
                    : (m.fnSetSuccess(!0),
                      m.fnSetStrSuccess("Asset Request Unlocked"));
                },
              },
              !i &&
                c.createElement(F.t, {
                  string: "Loading Store Item",
                  size: "medium",
                  position: "center",
                }),
            );
      }
      var te = a(65744),
        ae = a(28351);
      function ne(e) {
        const t = (0, r.lH)(),
          a = t.BIsDirty();
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "Debug Panel"),
          c.createElement("hr", null),
          c.createElement("div", null, "Is dirty?: ", a),
          c.createElement(p.G, { data: t.GetModel() }),
        );
      }
      var re = a(18509),
        ie = a(32701);
      function se(e) {
        const [t] = (0, r.hn)(),
          a = (0, r.lH)();
        c.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, z.we)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return c.createElement(d.XG, {
          message: (e) =>
            !a ||
            !t() ||
            e.pathname == "promotion/" + Ki.DailyDealEditor(a.GetDealID()) ||
            (0, z.we)("#DailyDeals_UnsavedChanges"),
        });
      }
      var le = a(31715),
        oe = a(38152);
      function ce(e) {
        const { dealid: t } = e,
          a = (0, S.tR)(t),
          [n, i] = c.useState(!1);
        if (
          (c.useEffect(() => {
            void 0 !== a &&
              (null !== a && r.aR.Get().InitDailyDealToEdit(a), i(!0));
          }, [a, t]),
          !n)
        )
          return c.createElement(F.t, {
            size: "medium",
            position: "center",
            string: (0, z.we)("#Loading"),
          });
        if (!a)
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, (0, z.we)("#DailyDeals_NotExist")),
            c.createElement(
              m.N_,
              { to: Ki.DailyDealDashboard() },
              (0, z.we)("#DailyDeals_Dashboard"),
            ),
          );
        const s = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          l = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: c.createElement(T.tH, null, c.createElement(me, null)),
              onClick: s,
            },
            {
              name: "Asset Request",
              key: "request",
              contents: c.createElement(T.tH, null, c.createElement(Q, null)),
              onClick: s,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: c.createElement(T.tH, null, c.createElement(ne, null)),
              onClick: s,
            },
          ];
        return c.createElement(
          oe.rr,
          {
            planid: r.aR
              .Get()
              .GetDailyDealToEdit()
              ?.GetPromotionPlanAssetRequestID(),
            bForceReload: !0,
            bCanBeMissing: !0,
          },
          c.createElement(
            "div",
            { className: C().AdminPageCtn },
            c.createElement(se, null),
            c.createElement(
              "div",
              { className: ie.ButtonRow },
              c.createElement(
                m.N_,
                {
                  to:
                    Ki.DailyDealDashboard() +
                    (window.sessionStorage.getItem("dailyDealPageIndex") || ""),
                  className: (0, L.A)(C().DashLink, ie.DashLink),
                },
                c.createElement(G.i3G, { angle: 270 }),
                c.createElement("div", null, "Return to Daily Deal Dashboard"),
              ),
              c.createElement(
                "a",
                {
                  href: g.TS.PARTNER_BASE_URL + "promotion/planning/dashboard",
                  className: (0, L.A)(C().DashLink, ie.DashLink),
                },
                c.createElement(
                  "div",
                  null,
                  "Go to Promotion Planning Dashboard",
                ),
              ),
            ),
            c.createElement(O.V, { tabs: l }),
            c.createElement("div", { className: R().ClearThings }),
          ),
        );
      }
      function me(e) {
        const t = (0, r.lH)(),
          a = (0, f.js)(t?.GetCreatorID()),
          n = (0, f.js)(t?.GetInvitationAccountID()),
          i = (0, v.q3)(() => t.BIsCancelled());
        return c.createElement(
          "div",
          { className: ie.EditCtn },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Daily Deal ",
            c.createElement("span", null, "Edit Details"),
            Boolean(i) &&
              c.createElement(
                "span",
                { className: A().WarningStylesBackground },
                "!!Cancelled!!",
              ),
          ),
          c.createElement("hr", null),
          c.createElement(
            "div",
            { className: C().ColumnCtn },
            c.createElement(
              "div",
              { className: C().LeftCol },
              c.createElement(
                "div",
                { className: C().SectionCtn },
                c.createElement(I.JU, null, "Start Date:"),
                c.createElement(
                  "div",
                  { className: ie.PromoTitle },
                  (0, z.TW)(t.GetModel()?.rtime32_start_time),
                ),
                !!n?.data &&
                  c.createElement(
                    I.JU,
                    null,
                    `Invited By: ${n.data.m_strPlayerName}`,
                  ),
                c.createElement(
                  I.JU,
                  null,
                  `Created By: ${a?.data?.m_strPlayerName || t?.GetCreatorID()}`,
                ),
                c.createElement(I.JU, null, "Visibility:"),
                c.createElement(I.Yh, {
                  checked: t.BHidePrices(),
                  onChange: t.SetVisiblity,
                  label: "Hide Price",
                }),
                c.createElement(
                  "div",
                  { className: R().FlexRowContainer },
                  c.createElement(I.pd, {
                    type: "Text",
                    label: "Discount Event ID",
                    onChange: (e) =>
                      t.SetDiscountEventID(e?.currentTarget?.value || ""),
                    value: t.GetDiscountEventID(),
                  }),
                  Boolean(t.BHasDiscountEventID()) &&
                    c.createElement(
                      "div",
                      { className: ie.DiscountEventLinks },
                      c.createElement(
                        "a",
                        {
                          href:
                            g.TS.PARTNER_BASE_URL +
                            "admin/editdiscountevent/" +
                            t.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Edit Discount Event",
                      ),
                      c.createElement(
                        "a",
                        {
                          href:
                            g.TS.PARTNER_BASE_URL +
                            "admin/discounttaglookup?tag=" +
                            t.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Audit Packages for Discount Event",
                      ),
                    ),
                ),
                c.createElement(
                  "div",
                  {
                    className: (0, L.A)(
                      R().FlexRowContainer,
                      ie.OverrideURLCtn,
                    ),
                  },
                  c.createElement(I.pd, {
                    type: "Text",
                    label:
                      "Override URL (must point to the store or it will be ignored)",
                    onChange: (e) =>
                      t.SetOverrideURL(e?.currentTarget?.value || ""),
                    placeholder: g.TS.STORE_BASE_URL,
                    value: t.GetOverrideURL(),
                  }),
                  Boolean(t.BHasOverrideURL()) &&
                    c.createElement(
                      "div",
                      { className: ie.TestLink },
                      Boolean(
                        (s = t.GetOverrideURL())
                          .trim()
                          .startsWith(g.TS.STORE_BASE_URL) ||
                          s
                            .trim()
                            .startsWith("https://store.steampowered.com") ||
                          s.trim().startsWith("https://steam.steamchina.com"),
                      )
                        ? c.createElement(
                            "a",
                            { href: t.GetOverrideURL(), target: "_blank" },
                            "Test URL",
                          )
                        : c.createElement(
                            "div",
                            { className: C().warning },
                            "Warning: Override URL must start steam store URL",
                          ),
                    ),
                ),
                c.createElement(I.JU, null, "Admin Notes:"),
                c.createElement("textarea", {
                  className: (0, L.A)(
                    "DialogTextInputBase",
                    ie.DailyDealAdminNotes,
                  ),
                  onChange: (e) => t.SetNotes(e?.currentTarget?.value || ""),
                  value: t.GetNotes(),
                }),
              ),
              c.createElement(
                "div",
                { className: C().SectionCtn },
                c.createElement(I.JU, null, "Associated Editor Links:"),
                c.createElement(le.OT, { oEditablePlan: t }),
              ),
              c.createElement(
                "div",
                { className: C().SectionCtn },
                c.createElement(re.eT, {
                  strDiscountEventID: t.GetDiscountEventID(),
                  nBundleID:
                    2 == t.GetModel()?.store_item_type
                      ? t.GetModel()?.store_item_id
                      : void 0,
                }),
              ),
              c.createElement(
                "div",
                { className: C().SectionCtn },
                c.createElement(le.eq, {
                  oEditablePlan: t,
                  bUseSalePageType: !0,
                }),
              ),
              c.createElement(
                "div",
                { className: C().SectionCtn },
                c.createElement(ue, { oEditableDailyDeal: t }),
                "Note: deleting a deal here just deletes the Daily Deal visibility, not the underlying discount event, nor the discount itself.",
              ),
            ),
            c.createElement(de, { oEditableDailyDeal: t }),
          ),
        );
        var s;
      }
      function de(e) {
        const { oEditableDailyDeal: t } = e,
          a = (0, S.ZG)(t.GetDealID()),
          n = t.GetStoreItemKey(),
          r = (0, y.Ut)(t.GetStoreItemKey()),
          [i, s] = (0, w.G6)(n.id, (0, b.JK)(n.item_type), {
            include_assets: !0,
            include_basic_info: !0,
          }),
          l = new URLSearchParams(),
          o = i ? i.GetName() : `type: ${n.item_type} id: ${n.id}`;
        l.set("name", o),
          l.set("dailydealid", t.GetDealID()),
          l.set("start", "" + a);
        let m = Array();
        return (
          t.BRequiresSalePage() &&
            i &&
            14 != i.GetAppType() &&
            m.push(
              c.createElement(
                "div",
                { className: A().WarningStylesBackground },
                "Daily Deal linking to a sale page must use an advertising app",
              ),
            ),
          t.BRequiresSalePage() &&
            t.BHasAssociatedSaleEvent() &&
            !t.BHasPromotionPlanAssetRequest() &&
            m.push(
              c.createElement(
                "div",
                { className: A().WarningStylesBackground },
                "Daily Deal linking to a sale page is missing an asset request",
              ),
            ),
          c.createElement(
            "div",
            { className: C().RightCol },
            c.createElement(
              "div",
              { className: C().SectionCtn },
              i
                ? c.createElement(
                    c.Fragment,
                    null,
                    c.createElement(I.JU, null, "Association:"),
                    c.createElement(te.cy, {
                      id: n.id,
                      itemType: i.GetStoreItemType(),
                    }),
                  )
                : o,
              c.createElement(c.Fragment, null, ...m),
              c.createElement(
                "div",
                { className: ie.UpdateBtnCtn },
                c.createElement(
                  I.$n,
                  {
                    onClick: (e) =>
                      (0, N.pg)(
                        c.createElement(ae.bf, { dealid: t.GetDealID() }),
                        (0, U.uX)(e),
                      ),
                  },
                  "Change Selected Product",
                ),
              ),
            ),
            c.createElement(
              "div",
              { className: C().SectionCtn },
              c.createElement(
                "a",
                {
                  href:
                    g.TS.PARTNER_BASE_URL +
                    "public/downloadics.php?" +
                    l.toString(),
                },
                c.createElement("span", {
                  className: "iconLink icon_download icon_inline",
                }),
                "Download Calendar Reminder Event",
              ),
              c.createElement("br", null),
              c.createElement("br", null),
              c.createElement(
                "a",
                {
                  href:
                    g.TS.PARTNER_BASE_URL + "doc/marketing/discounts/dailydeal",
                },
                c.createElement("span", {
                  className: "iconLink icon_documentation icon_inline",
                }),
                "See Daily Deal documentation",
              ),
              r?.map((e) =>
                c.createElement(
                  "div",
                  { key: e.partner_id },
                  c.createElement("br", null),
                  c.createElement(
                    "a",
                    {
                      href: `${g.TS.PARTNER_BASE_URL}promotion/dailydeals/dashboard/${e.partner_id}`,
                    },
                    "See ",
                    e.name,
                    " Daily Deal Dashboard",
                  ),
                ),
              ),
            ),
          )
        );
      }
      function ue(e) {
        const { oEditableDailyDeal: t } = e,
          a = (0, v.q3)(() => t.BIsDirty()),
          n = (0, v.q3)(() => t.BIsCancelled());
        return c.createElement(
          "div",
          { className: ie.ButtonRow },
          !n &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(
                I.jn,
                {
                  disabled: !a,
                  onClick: (e) =>
                    (0, N.pg)(c.createElement(pe, null), (0, U.uX)(e)),
                },
                (0, z.we)(a ? "#Button_Save" : "#Button_Saved"),
              ),
              c.createElement(
                I.$n,
                {
                  onClick: (e) => {
                    (0, N.pg)(
                      c.createElement(_e, {
                        oEditableDailyDeal: t,
                        bDelete: !1,
                      }),
                      (0, U.uX)(e),
                    );
                  },
                },
                "Delete",
              ),
            ),
          !n &&
            c.createElement(
              I.$n,
              {
                disabled: !a,
                onClick: (e) =>
                  (0, N.pg)(
                    c.createElement(P.o0, {
                      strTitle: (0, z.we)("#Dialog_AreYouSure"),
                      strDescription: (0, z.we)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, U.uX)(e),
                  ),
              },
              (0, z.we)("#Button_Revert"),
            ),
        );
      }
      function pe(e) {
        const { closeModal: t } = e,
          a = (0, r.lH)(),
          { fnSaveDailyDeal: n } = (0, S.Yg)(),
          [i, s] = c.useState(!0),
          [l, o] = c.useState(!1);
        return (
          c.useEffect(() => {
            n(a.GetModel())
              .then(o)
              .catch((e) => o(!1))
              .finally(() => s(!1));
          }, []),
          c.createElement(
            P.o0,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(i)
              ? c.createElement(F.t, {
                  size: "medium",
                  position: "center",
                  string: (0, z.we)("#Saving"),
                })
              : Boolean(l)
                ? c.createElement("div", null, "Save successful")
                : c.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later",
                  ),
          )
        );
      }
      function _e(e) {
        const { oEditableDailyDeal: t, closeModal: a, bDelete: n } = e,
          { fnRemoveDailyDeal: r, fnCancelDailyDeal: i } = (0, S.Yg)(),
          [s, l] = (0, x.Zd)(t.GetModel()),
          [o] = (0, w.G6)(s, l, { include_basic_info: !0, include_assets: !0 }),
          m = (0, B.vs)();
        return m.bLoading
          ? c.createElement(B.Hh, {
              state: m,
              strDialogTitle: n ? "Remove Daily Deal" : "Cancel Daily Deal",
              closeModal: a,
            })
          : c.createElement(
              P.o0,
              {
                strTitle: n ? "Remove Daily Deal?" : "Cancel Daily Deal?",
                strDescription: n
                  ? "Are you sure you want to remove the daily deal for the following? This can't be undone, but a new one can be created if needed. This will only delete the daily deal featuring; this has no effect on the discount event associated with the daily deal."
                  : "Are you sure you want to cancel this daily deal? A cancelled deal will no longer appear on the calendar, however, it will appear in the list of cancelled daily deals on the partner daily deal dashboard. Cancelled daily deals can no longer be edited.",
                onCancel: a,
                onOK: () => {
                  m.fnSetLoading(!0),
                    (n ? r(t.GetDealID()) : i(t.GetDealID()))
                      .then((e) => {
                        e
                          ? (window.location.href =
                              g.TS.PARTNER_BASE_URL +
                              "promotion" +
                              Ki.DailyDealDashboard())
                          : (m.fnSetError(!0),
                            m.fnSetStrError(
                              `Failed To ${n ? "Delete" : "Cancel"}, check console`,
                            ));
                      })
                      .catch((e) => {
                        m.fnSetError(!0),
                          m.fnSetStrError(
                            `Failed To ${n ? "Delete" : "Cancel"}, check console`,
                          );
                      });
                },
              },
              Boolean(o)
                ? c.createElement(
                    "div",
                    { className: ie.DeleteDialogBody },
                    c.createElement(
                      "div",
                      null,
                      c.createElement("img", {
                        src:
                          o.GetAssets().GetSmallCapsuleURL() ||
                          o.GetAssets().GetHeaderURL(),
                      }),
                    ),
                    c.createElement(
                      "span",
                      null,
                      "Name: ",
                      o.GetName(),
                      " (",
                      o.GetID(),
                      ")",
                    ),
                  )
                : c.createElement(F.t, {
                    size: "medium",
                    position: "center",
                    string: (0, z.we)("#Loading"),
                  }),
            );
      }
      var ge = a(62137),
        he = a(29341),
        Ee = a(64753),
        Se = a(23910),
        ye = a(14947),
        ve = a(19367),
        fe = a.n(ve),
        be = a(41653),
        we = a(95034),
        De = a(21869),
        Ce = a(98019),
        Ie = a(44165),
        Be = a(96001),
        Te = a(61732),
        Me = a(43258),
        Ae = a(85254),
        ke = a.n(Ae),
        Re = a(99637),
        Pe = a(32754),
        Ne = a(41420),
        Ge = a(61910),
        Oe = a(25476),
        Fe = a(59178),
        Le = a(23247),
        Ue = a(22385);
      const ze = [11, 9, 12, 11, 2, 14];
      function xe(e) {
        const {
            rtInitialDate: t,
            closeModal: a,
            rtInitialEndDate: n,
            initialType: r,
            bAllowPromotionPlanCreate: i,
          } = e,
          [s, l] = c.useState(r || 1),
          [o, d] = c.useState(""),
          [u, p] = c.useState((0, Ne.D6)(t)),
          [_, h] = c.useState((0, Ne.E2)(t, n)),
          [E, S] = c.useState(i),
          [y, v] = c.useState(null),
          [f, D] = c.useState(null),
          C = (0, c.useMemo)(() => (0, b.hh)(f), [f]),
          [T] = (0, w.G6)((0, b.M9)(f), (0, b.pk)(f), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          });
        (0, c.useEffect)(() => {
          i && S(f && !ze.includes(s) && !(0, Ue.u)(T, s));
        }, [s, i, f, T]);
        const { fnCreateMarketingMessage: A } = (0, q.Z7)(),
          k = (0, B.vs)(),
          { fnAddNewPlan: R } = (0, W.lK)(),
          { fnUpdateMarketingMessage: N } = (0, q.kG)();
        if (k.bLoading)
          return c.createElement(B.Hh, {
            state: k,
            strDialogTitle: "Creating Marketing Message",
            closeModal: a,
          });
        const O = (f?.appid || f?.bundleid || f?.packageid) && !g.iA.is_support;
        return c.createElement(
          P.o0,
          {
            strTitle: "Create Marketing Message",
            onCancel: a,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            bOKDisabled:
              0 === o.trim().length ||
              k.bLoading ||
              !(0, Ne.gS)(s, u, _) ||
              (O && !T) ||
              (E && !y),
            onOK: async () => {
              k.fnSetLoading(!0);
              const e = (0, Oe.D)(o, s, u, _, "#msg_action_details", T);
              try {
                const t = await A(e, !0);
                let a = null;
                if (t) {
                  let e = !0;
                  if (E) {
                    const n = new Me.fV((0, q.$c)(t));
                    (e = await J(k, n, R, N, y)),
                      (a = n.GetPlanAssetRequestGID());
                  }
                  return void (
                    e &&
                    k.fnSetElSuccess(
                      c.createElement(
                        "div",
                        null,
                        c.createElement(
                          "div",
                          null,
                          "Successfully Created Marketing Message",
                        ),
                        c.createElement("br", null),
                        c.createElement(
                          m.N_,
                          { to: Ki.MarketingMessageEditor(t) },
                          "Edit Marketing Message",
                        ),
                        Boolean(E && a) &&
                          c.createElement(
                            c.Fragment,
                            null,
                            c.createElement("br", null),
                            c.createElement(
                              m.N_,
                              { to: Ki.PromotionPlanEditor(a) },
                              "Edit Promotion Plan for Asset Request",
                            ),
                          ),
                      ),
                    )
                  );
                }
              } catch (e) {}
              k.fnSetStrError(
                "Failed to create Marketing Message. Check console",
              );
            },
          },
          c.createElement(I.JU, null, "Choose Marketing Message Type:"),
          c.createElement(qe, { type: s, setType: l }),
          c.createElement(I.pd, {
            type: "text",
            label: "Internal Name",
            tooltip:
              "Internal name used for us to identify the promotion, not visible outside of this tool",
            value: o,
            onChange: (e) => d(e?.currentTarget?.value || ""),
          }),
          c.createElement(We, {
            type: s,
            rtStartTime: u,
            setStartTime: p,
            rtEndTime: _,
            setEndTime: h,
            bNewMessage: !0,
          }),
          c.createElement(
            I.JU,
            null,
            "Optional Featuring Target:",
            Boolean(f) &&
              c.createElement(
                Pe.he,
                {
                  className: ke().ProgressIconError,
                  onClick: () => D(null),
                  toolTipContent: "Clear the Featuring Target",
                },
                c.createElement(G.X, null),
              ),
          ),
          Boolean(f) &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(te.cy, {
                id: (0, b.M9)(f),
                itemType: (0, b.pk)(f),
              }),
              Boolean(i) &&
                c.createElement(
                  c.Fragment,
                  null,
                  c.createElement(I.Yh, {
                    label: "Create Asset Request (via promotion plan)?",
                    tooltip:
                      "Useful for standalone marketing messages which we want to request assets from partners. Underlying request/review flow is managed by an asset request only promotion plan.",
                    checked: E,
                    onChange: S,
                  }),
                  c.createElement(Fe.G, {
                    nPartnerID: y,
                    storeItemKey: C,
                    fnUpdatePartnerID: v,
                    autoSelectPartnerFromStoreItem: !0,
                  }),
                ),
            ),
          Boolean(f && !T) &&
            c.createElement(
              c.Fragment,
              null,
              g.iA.is_support
                ? c.createElement(
                    "div",
                    { className: M.WarningStylesWithIcon },
                    "Warning: Game is not visible on the Steam store. Beware if not published before featuring, we will link to nowhere.",
                  )
                : c.createElement(
                    "div",
                    { className: M.ErrorStylesWithIcon },
                    "Error: Invalid choice, game not visible on the Steam store.",
                  ),
            ),
          c.createElement(ae.rF, {
            oChoice: f,
            fnSetChoice: D,
            bIncludeHidden: !0,
          }),
        );
      }
      function qe(e) {
        const { label: t, type: a, setType: n, bIncludeUnset: r } = e,
          i = (0, c.useMemo)(() => {
            const e = new Array();
            return (
              Se.uu.forEach((t) => {
                e.push({ label: (0, Se.Rw)(t), data: t });
              }),
              r && e.push({ label: "Any", data: null }),
              e
            );
          }, [r]);
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(I.m, {
            label: t,
            strDropDownClassName: R().DropDownScroll,
            rgOptions: i,
            selectedOption: a,
            onChange: (e) => n(e.data),
          }),
          5 == a &&
            c.createElement(
              "div",
              null,
              c.createElement(
                "div",
                { className: M.WarningIconLayout },
                "Note: Library already have a feature to show pre-purchaser the content is available for preload/play. Do we realy need this marketing message.",
              ),
              c.createElement("div", { className: Ge.PreLoadNowFeature }),
            ),
        );
      }
      function We(e) {
        const {
            type: t,
            rtStartTime: a,
            setStartTime: n,
            rtEndTime: r,
            setEndTime: i,
            bNewMessage: s,
          } = e,
          l = (0, Ie.f1)();
        if (!a || a > l)
          switch (t) {
            case 2:
            case 14:
              return c.createElement(
                "div",
                { className: (0, L.A)(Ge.DateCtn, "DateCtn") },
                c.createElement(Le.h1, { ...e, type: "weekenddeal" }),
              );
            case 11:
              return c.createElement(
                "div",
                { className: (0, L.A)(Ge.DateCtn, "DateCtn") },
                c.createElement(Le.h1, { ...e, type: "midweek" }),
              );
          }
        return c.createElement(
          "div",
          { className: (0, L.A)(Ge.DateCtn, "DateCtn") },
          c.createElement(Re.K, {
            strDescription: "Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => a,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: () => !s || a > l,
            bShowTimeZone: !0,
          }),
          c.createElement(Re.K, {
            strDescription: "End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => r,
            fnSetTimeToUpdate: i,
            fnIsValidDateTime: () => a < r,
            bShowTimeZone: !0,
          }),
        );
      }
      var je,
        He,
        Ve = a(63544),
        Ke = a.n(Ve);
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayStaged = 2)] = "k_DisplayStaged"),
          (e[(e.k_DisplayBeta = 3)] = "k_DisplayBeta"),
          (e[(e.k_DisplayBetaPastStart = 4)] = "k_DisplayBetaPastStart"),
          (e[(e.k_DisplayGift = 5)] = "k_DisplayGift"),
          (e[(e.k_DisplayAprrovedForPublishing = 6)] =
            "k_DisplayAprrovedForPublishing");
      })(je || (je = {})),
        (function (e) {
          (e[(e.k_SortByPriority = 0)] = "k_SortByPriority"),
            (e[(e.k_SortByStartDate = 1)] = "k_SortByStartDate");
        })(He || (He = {}));
      const Ye = { 2: 0, 3: 1, 1: 2 };
      function $e(e, t, a, n, r, i) {
        let s = (0, q.kn)();
        const l = (0, Ce.p)(i);
        return s && 0 != s.length ? Je(s, e, t, a, n, r, i, l) : null;
      }
      function Je(e, t, a, n, r, i, s, l) {
        if (
          (r &&
            (e = e.filter(
              (e) =>
                e.creator_name == g.iA.account_name ||
                e.additional_restrictions?.includes("" + g.iA.accountid),
            )),
          s &&
            (e = e.filter(
              (e) =>
                e.creator_name == l?.accountName ||
                e.additional_restrictions?.includes("" + s),
            )),
          a.trim().length > 0)
        ) {
          const t = a.toLowerCase(),
            n = (0, Te.kf)(a) ? Number.parseInt(a) : void 0;
          e = e.filter(
            (e) =>
              e.title.toLowerCase().includes(t) ||
              (n &&
                (e.associated_id == n ||
                  ("" + e.associated_id).includes("" + n))),
          );
        }
        const o = Ie.HD.GetTimeNowWithOverride();
        return (
          (e = e.filter(
            (e) =>
              (t == je.k_DisplayAll && 8 != e.type) ||
              (t == je.k_DisplayPublic &&
                2 == e.visibility &&
                e.start_date <= o &&
                8 != e.type) ||
              (t == je.k_DisplayStaged &&
                2 == e.visibility &&
                e.start_date > o &&
                8 != e.type) ||
              (t == je.k_DisplayBeta && 1 == e.visibility && 8 != e.type) ||
              (t == je.k_DisplayBetaPastStart &&
                1 == e.visibility &&
                e.start_date &&
                e.start_date <= o &&
                8 != e.type) ||
              (t == je.k_DisplayGift && 8 == e.type) ||
              (t == je.k_DisplayAprrovedForPublishing &&
                3 == e.visibility &&
                8 != e.type),
          )),
          i && (e = e.filter((e) => e.type == i)),
          n == He.k_SortByPriority
            ? e.sort((e, t) => t.priority - e.priority)
            : n == He.k_SortByStartDate &&
              e.sort((e, t) => {
                if (e.visibility != t.visibility)
                  return Ye[e.visibility] - Ye[t.visibility];
                const a = !e.start_date,
                  n = !t.start_date;
                return a && n
                  ? (e.title || "").localeCompare(t.title || "")
                  : a || n
                    ? a
                      ? 1
                      : -1
                    : e.start_date - t.start_date;
              }),
          e
        );
      }
      function Xe(e) {
        const {
            display: t,
            fnSetDisplay: a,
            sort: n,
            fnSetSort: r,
            strSearch: i,
            fnSetSearch: s,
            fnSetType: l,
            type: o,
          } = e,
          m = [
            { label: "Show All", data: je.k_DisplayAll },
            { label: "Show Visible", data: je.k_DisplayPublic },
            {
              label: "Show Staged (automatically become visible when starts)",
              data: je.k_DisplayStaged,
            },
            { label: "Show Hidden", data: je.k_DisplayBeta },
            { label: "Show Hidden but Late", data: je.k_DisplayBetaPastStart },
            { label: "Show Gifting Messages", data: je.k_DisplayGift },
            {
              label: "Show Approved For Publishing Messages",
              data: je.k_DisplayAprrovedForPublishing,
            },
          ],
          d = [
            { label: "Sort By Start Date", data: He.k_SortByStartDate },
            { label: "Sort By Priority", data: He.k_SortByPriority },
          ];
        return c.createElement(
          "div",
          { className: Ke().FilterRow },
          c.createElement(
            "div",
            { className: Ke().VisibilityFilterCtn },
            c.createElement(I.m, {
              label: "Visibility Filter",
              rgOptions: m,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
          Boolean(r) &&
            c.createElement(
              "div",
              { className: Ke().VisibilityFilterCtn },
              c.createElement(I.m, {
                label: "Sort",
                rgOptions: d,
                onChange: (e) => r(e.data),
                contextMenuPositionOptions: {
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                },
                selectedOption: n,
              }),
            ),
          Boolean(l) &&
            c.createElement(
              "div",
              { className: Ke().VisibilityFilterCtn },
              c.createElement(qe, {
                label: "Type Filter",
                type: o,
                setType: l,
                bIncludeUnset: !0,
              }),
            ),
          c.createElement(
            "div",
            {
              className: (0, L.A)(
                Ke().VisibilityFilterCtn,
                Ke().MarketingMessageSearch,
              ),
            },
            c.createElement(I.pd, {
              label: "Search",
              placeholder: "Enter Message Title",
              value: i,
              onChange: (e) => s(e.currentTarget.value),
            }),
          ),
        );
      }
      var Qe = a(79905),
        Ze = a(82227),
        et = a(52614),
        tt = a(19976);
      function at(e) {
        const t = (0, Qe.ZM)();
        return t
          ? c.createElement(
              "div",
              null,
              c.createElement(
                "div",
                null,
                "To see live stats, go to the",
                c.createElement(
                  "a",
                  {
                    href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization?orgId=2&refresh=1m&from=now-3h&to=now",
                    target: "_blank",
                  },
                  "Graphana Page",
                ),
              ),
              c.createElement("br", null),
              c.createElement("br", null),
              c.createElement(nt, { rgStats: t }),
              c.createElement(
                I.JU,
                null,
                "DLC Template:",
                c.createElement(
                  Pe.he,
                  {
                    toolTipContent:
                      "Shows how many users saw the DLC template override version of the message.",
                  },
                  c.createElement("span", { className: R().tooltip_Ctn }, "?"),
                ),
              ),
              c.createElement(et.h1, { templateType: 4 }),
            )
          : c.createElement(F.t, { string: "loading" });
      }
      function nt(e) {
        const { rgStats: t, templateType: a } = e,
          [n, r, i, s] = (0, c.useMemo)(() => {
            if (!t) return [0, 0, 0, []];
            const e = (0, et.bl)(t, a);
            let n = 0,
              r = 0,
              i = 0,
              s = 0;
            e.forEach((e) => {
              e.seen_count > r && (r = e.seen_count),
                e.display_index > 0 && (i += e.seen_count),
                (s += e.seen_count),
                e.display_index > n && (n = e.display_index);
            });
            for (let t = 0; t < n; ++t) {
              e.findIndex((e) => e.display_index == t) < 0 &&
                e.push({ display_index: t, seen_count: 0 });
            }
            return [
              r,
              s,
              i,
              e.sort((e, t) => e.display_index - t.display_index),
            ];
          }, [t, a]);
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(
            I.JU,
            null,
            "Carousel index seen at by users (NOTE Broken until after Prop Oct 12, 2023):",
            c.createElement(
              Pe.he,
              {
                toolTipContent:
                  "Shows where in the carousel the user saw this message.",
              },
              c.createElement("span", { className: R().tooltip_Ctn }, "?"),
            ),
          ),
          c.createElement(
            "div",
            { className: tt.DashStatsContainer },
            c.createElement(
              "div",
              { className: tt.Chart },
              c.createElement(
                T.tH,
                null,
                c.createElement(et.S0, { Data: s, nPeak: n }),
              ),
            ),
            c.createElement(
              "div",
              { className: tt.Stats },
              c.createElement(
                "div",
                { className: tt.CurrentStats },
                c.createElement(
                  "div",
                  { className: tt.StatsTitle },
                  (0, Ze.Dq)(i),
                ),
                c.createElement(
                  "div",
                  { className: tt.StatSubtitle },
                  c.createElement(
                    "span",
                    { className: tt.Now },
                    "Total Scrolls",
                  ),
                ),
              ),
              c.createElement(
                "div",
                { className: tt.PeakStats },
                c.createElement(
                  "div",
                  { className: tt.StatsTitle },
                  r > 0 ? (0, Ze.Dq)(i / r) : 0,
                  " %",
                ),
                c.createElement(
                  "div",
                  { className: tt.StatSubtitle },
                  c.createElement(
                    "span",
                    { className: tt.Concurrent },
                    "Percentage Scrolling",
                  ),
                ),
              ),
            ),
          ),
        );
      }
      var rt = a(63606),
        it = a(27872),
        st = a(12080),
        lt = a(32703),
        ot = a(30470),
        ct = a(41735),
        mt = a.n(ct);
      class dt {
        m_mapAppToMMStats = new Map();
        m_mapAppToMMStatsPromises = new Map();
        GetKey(e, t, a) {
          return `${e}_${t}_${a}`;
        }
        async LoadAppMarketingMessageStats(e, t, a) {
          const n = this.GetKey(e, t, a);
          return (
            this.m_mapAppToMMStatsPromises.has(n) ||
              this.m_mapAppToMMStatsPromises.set(
                n,
                this.InternalLoadAppMarketingMessageStats(e, t, a),
              ),
            this.m_mapAppToMMStatsPromises.get(n)
          );
        }
        async InternalLoadAppMarketingMessageStats(e, t, a) {
          let n = null;
          try {
            const r = this.GetKey(e, t, a),
              i =
                ot.TS.PARTNER_BASE_URL +
                "promotion/marketingmessages/ajaxgetsnrmetrics",
              s = {
                sessionid: ot.TS.SESSIONID,
                appid: e,
                rtStartDate: t,
                rtEndDate: a,
              },
              l = await mt().get(i, { params: s, withCredentials: !0 });
            if (
              200 == l?.status &&
              1 == l?.data?.success &&
              l?.data?.marketing_message_total
            )
              return (
                this.m_mapAppToMMStats.set(r, l.data.marketing_message_total),
                l.data.marketing_message_total
              );
            n = (0, j.H)(l);
          } catch (e) {
            n = (0, j.H)(e);
          }
          return (
            console.error(
              "CFeaturingStatsStore.InternalLoadAppMarketingMessageStats failed: " +
                n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            dt.s_Singleton ||
              ((dt.s_Singleton = new dt()),
              "dev" == ot.TS.WEB_UNIVERSE &&
                (window.g_FeaturingStatsStore = dt.s_Singleton)),
            dt.s_Singleton
          );
        }
        constructor() {}
      }
      function ut(e) {
        const { marketingMessageID: t } = e,
          a = (0, d.W6)(),
          n = (0, q.dr)(t),
          { bReady: r } = (0, lt._p)(t, null);
        if (!n) return c.createElement(F.t, { string: t, size: "small" });
        const i = Ie.HD.GetTimeNowWithOverride(),
          s = n.start_date > i,
          l = n.start_date < i && 1 == n.visibility,
          o = Boolean(2 == n.visibility),
          m = Boolean(3 == n.visibility);
        return c.createElement(
          "div",
          {
            className: (0, L.A)({
              [st.RowCtn]: !0,
              [st.Public]: o,
              [st.Future]: s,
              [st.Approved]: !o && m,
              [st.Ready]: !o && r && !m,
            }),
            onClick: (e) => {
              e.ctrlKey || e.metaKey
                ? window.open(
                    `${ot.TS.PARTNER_BASE_URL}/promotion/${Ki.MarketingMessageEditor(t)}`,
                    "_blank",
                  )
                : a.push(Ki.MarketingMessageEditor(t));
            },
          },
          c.createElement(
            "div",
            { className: (0, L.A)(st.Row, st.Primary) },
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.ItemName) },
              n.title,
              Boolean(s && 2 == n.visibility) &&
                c.createElement(
                  "span",
                  { className: st.WillBecomeVisible },
                  "Will automatically become visible on ",
                  (0, z.TW)(n.start_date, !0),
                ),
            ),
            c.createElement(
              "div",
              {
                className: (0, L.A)({
                  [st.Col]: !0,
                  [st.Type]: !0,
                  [st.Deal]: Boolean(
                    2 == n.type || 14 == n.type || 11 == n.type || 12 == n.type,
                  ),
                }),
              },
              c.createElement("span", null, (0, Se.Rw)(n.type)),
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Date) },
              c.createElement(
                "span",
                { className: (0, L.A)({ [st.MissedRelease]: l }) },
                c.createElement(it.y, {
                  rtStartDate: n.start_date,
                  rtEndDate: n.end_date,
                }),
              ),
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Creator) },
              n.creator_name,
            ),
          ),
          c.createElement(
            "div",
            { className: st.Row },
            o &&
              c.createElement(
                "div",
                { className: st.LiveStatsCtn },
                c.createElement(_t, { oMarketingMessage: n }),
                c.createElement(pt, { gid: n.gid }),
              ),
            c.createElement(St, { flags: n.flags }),
            c.createElement(yt, {
              strCountries: n.country_allow || n.country_deny,
              bAllowList: n.country_allow?.length > 0,
            }),
            c.createElement(vt, {
              strPrefix: "only owners of",
              storeItemID: { id: n.must_own_appid, item_type: "app" },
            }),
            c.createElement(vt, {
              strPrefix: "except owners of",
              storeItemID: { id: n.must_not_own_appid, item_type: "app" },
            }),
            c.createElement(vt, {
              strPrefix: "only owners of",
              storeItemID: { id: n.must_not_own_packageid, item_type: "sub" },
            }),
            c.createElement(vt, {
              strPrefix: "except owners of",
              storeItemID: { id: n.must_not_own_packageid, item_type: "sub" },
            }),
            c.createElement(vt, {
              strPrefix: "only users who have launched",
              storeItemID: { id: n.must_have_launched_appid, item_type: "app" },
            }),
          ),
        );
      }
      function pt(e) {
        const { gid: t } = e,
          a = (0, Qe.tl)(t),
          n = (0, Qe.C6)(t);
        return a <= 0 && n <= 0
          ? null
          : c.createElement(
              "div",
              { className: st.ViewsCtn },
              c.createElement(ht, {
                text: "Client click-through rate",
                clicks: n,
                impressions: a,
              }),
              c.createElement(gt, {
                label: "Client Views",
                count: a,
                color: "#70c3ff",
              }),
              c.createElement(gt, {
                label: "Client Clicks",
                count: n,
                color: "white",
              }),
            );
      }
      function _t(e) {
        const { oMarketingMessage: t } = e;
        return 1 == t.association_type && t.start_date && t.end_date
          ? c.createElement(Et, {
              appid: t.associated_id,
              oMarketingMessage: t,
            })
          : null;
      }
      function gt(e) {
        let { label: t, count: a, color: n } = e,
          r = `${Math.min((a / 2e7) * 100, 100)}%`;
        return c.createElement(
          "div",
          { className: st.VisualizationRow },
          c.createElement(
            "div",
            { className: st.TitleCtn },
            t,
            ": ",
            c.createElement("span", null, (0, Ze.Dq)(a)),
          ),
          c.createElement(
            "div",
            { className: st.BarCtn },
            c.createElement("div", {
              style: { width: r, height: "4px", backgroundColor: n },
            }),
          ),
        );
      }
      function ht(e) {
        let { text: t, clicks: a, impressions: n } = e,
          r = "0";
        return (
          n > 0 && (r = (0, Ze.Dq)((a / n) * 100, 2)),
          c.createElement(
            "div",
            { className: st.SummaryCtn },
            c.createElement("span", null, r, "%"),
            " ",
            t,
          )
        );
      }
      function Et(e) {
        const { appid: t, oMarketingMessage: a } = e,
          n = (function (e, t, a) {
            const [n, r] = c.useState(null);
            return (
              c.useEffect(() => {
                n ||
                  dt
                    .Get()
                    .LoadAppMarketingMessageStats(e, t, a)
                    .then((e) => r(e));
              }, [e, t, a, n]),
              n
            );
          })(t, a.start_date, a.end_date);
        return n && 0 != n.impression
          ? c.createElement(
              "div",
              { className: (0, L.A)(st.ViewsCtn, st.ViewsCol) },
              c.createElement(ht, {
                text: "SNR click-through rate",
                clicks: n.views,
                impressions: n.impression,
              }),
              c.createElement(gt, {
                label: "SNR Impressions",
                count: n.impression,
                color: "#70c3ff",
              }),
              c.createElement(gt, {
                label: "SNR Page Visits",
                count: n.views,
                color: "white",
              }),
            )
          : null;
      }
      function St(e) {
        const { flags: t } = e;
        return 0 == (Se.s8.k_EMarketingMessageFlagsPlatformRestrictions & t)
          ? null
          : c.createElement(
              "div",
              { className: st.CapsulePlatform },
              Boolean(Se.s8.k_EMarketingMessageFlagsPlatformWindows & t) &&
                c.createElement(G.Xz0, null),
              Boolean(Se.s8.k_EMarketingMessageFlagsPlatformMac & t) &&
                c.createElement(G.kPc, null),
              Boolean(Se.s8.k_EMarketingMessageFlagsPlatformLinux & t) &&
                c.createElement(G.Qte, null),
            );
      }
      function yt(e) {
        const { strCountries: t, bAllowList: a } = e;
        return t && 0 != t?.trim().length
          ? c.createElement(
              "div",
              { className: st.CountryList },
              a ? "ONLY: " : "NOT: ",
              t,
            )
          : null;
      }
      function vt(e) {
        const { storeItemID: t, strPrefix: a } = e,
          [n, r] = (0, w.G6)(t.id, (0, b.JK)(t.item_type), {});
        return t.id
          ? n || 1 != r
            ? 2 == r
              ? c.createElement(
                  "div",
                  null,
                  "Failed to load ",
                  t.id,
                  " - ",
                  t.item_type,
                )
              : c.createElement(
                  "div",
                  { className: st.OwnerLimit },
                  a,
                  " ",
                  n.GetName(),
                  " (",
                  t.id,
                  ")",
                )
            : c.createElement(F.t, { size: "small" })
          : null;
      }
      var ft = a(80754);
      const bt = (0, be.ye)(fe());
      function wt(e) {
        const [t, a] = (0, we.QD)("filter_account", 0),
          n = (e) =>
            window.sessionStorage.setItem(
              "marketingmessagedashboardtab",
              `?tab=${e.key}`,
            ),
          r = [
            {
              name: "Active or Upcoming",
              key: "current",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(It, { nFilterAccountID: t }),
              ),
              onClick: n,
            },
            {
              name: "Last N Days",
              key: "last",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(Bt, { nFilterAccountID: t }),
              ),
              onClick: n,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(Tt, { nFilterAccountID: t }),
              ),
              onClick: n,
            },
            {
              name: "Watch List",
              key: "watch",
              contents: c.createElement(T.tH, null, c.createElement(kt, null)),
              onClick: n,
            },
            {
              name: "Search all",
              key: "search",
              contents: c.createElement(T.tH, null, c.createElement(At, null)),
              onClick: n,
            },
            {
              name: "Charts",
              key: "charts",
              contents: c.createElement(T.tH, null, c.createElement(at, null)),
              onClick: n,
            },
          ];
        return c.createElement(
          "div",
          {
            className: (0, L.A)(
              Ke().Container,
              C().AdminPageCtn,
              C().WidePageCtn,
            ),
          },
          c.createElement(Ct, null),
          c.createElement(et.h1, null),
          c.createElement(
            "div",
            { className: Ke().CreateNewCtn },
            c.createElement(Dt, null),
            c.createElement(ft.m, { nAccountID: t, fnSetAccountFilter: a }),
          ),
          c.createElement(O.V, { tabs: r }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      function Dt(e) {
        const [t, a, n] = (0, Ee.uD)(),
          r = (0, Ie.f1)();
        let i = new Date(1e3 * r);
        return (
          i.setDate(i.getDate() + 1),
          i.setHours(10),
          i.setMinutes(0),
          i.setSeconds(0),
          c.createElement(
            c.Fragment,
            null,
            c.createElement(I.$n, { onClick: a }, "Create New"),
            c.createElement(
              De.E,
              { active: t },
              c.createElement(xe, {
                bAllowPromotionPlanCreate: !0,
                closeModal: n,
                rtInitialDate: Math.floor(i.getTime() / 1e3),
              }),
            ),
          )
        );
      }
      function Ct(e) {
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(
            "div",
            null,
            c.createElement(
              "div",
              { className: C().PageTitle },
              "Marketing Message Dashboard (VO) ",
            ),
            c.createElement(
              "div",
              { className: rt.HeaderButtons },
              c.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/SteamBiz/Curated+Promotion+Thresholds",
                },
                "Admin Guidelines",
              ),
              "  |  ",
              c.createElement(
                "a",
                { href: g.TS.PARTNER_BASE_URL + "doc/store/assets/promos" },
                "Store Promo Graphical Asset Documentation",
              ),
              "  |  ",
              c.createElement(
                "a",
                {
                  href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization",
                },
                "Graphana: Prioritization Stats Page",
              ),
            ),
          ),
          c.createElement("hr", { className: "VO" }),
        );
      }
      function It(e) {
        const { nFilterAccountID: t } = e,
          [a, n] = (0, c.useState)(je.k_DisplayAll),
          [r, i] = (0, c.useState)(He.k_SortByStartDate),
          [s, l] = (0, c.useState)(null),
          [o, m] = (0, c.useState)(""),
          d = $e(a, o, r, !1, s, t);
        return c.createElement(
          "div",
          null,
          c.createElement(Xe, {
            display: a,
            fnSetDisplay: n,
            sort: r,
            fnSetSort: i,
            strSearch: o,
            fnSetSearch: m,
            fnSetType: l,
            type: s,
          }),
          c.createElement("div", null, "Present and Future Marketing Messages"),
          c.createElement(Mt, { rows: d }),
        );
      }
      function Bt(e) {
        const { nFilterAccountID: t } = e,
          [a, n] = (0, we.QD)("pastdays", 30),
          [r, i] = (0, c.useState)(je.k_DisplayAll),
          [s, l] = (0, c.useState)(He.k_SortByStartDate),
          [o, m] = (0, c.useState)(null),
          [d, u] = (0, c.useState)(""),
          p = (function (e, t, a, n, r, i, s) {
            const l = (0, Be.a)();
            let o = (0, q.JV)(l, e);
            const c = (0, Ce.p)(s);
            return o && 0 != o.length ? Je(o, t, a, n, r, i, s, c) : null;
          })(a, r, d, s, !1, o, t);
        return c.createElement(
          "div",
          null,
          c.createElement(Xe, {
            display: r,
            fnSetDisplay: i,
            sort: s,
            fnSetSort: l,
            strSearch: d,
            fnSetSearch: u,
            fnSetType: m,
            type: o,
          }),
          c.createElement(
            "div",
            null,
            "Recent Past ",
            a,
            " Days of Marketing Messages",
          ),
          c.createElement(I.pd, {
            type: "number",
            label: "Numer of Days",
            value: a,
            onChange: (e) => n(Number(e.currentTarget.value) || 30),
          }),
          c.createElement(Mt, { rows: p }),
        );
      }
      function Tt(e) {
        const { nFilterAccountID: t } = e,
          [a, n] = (0, c.useState)(je.k_DisplayAll),
          [r, i] = (0, c.useState)(""),
          s = $e(a, r, void 0, !1, void 0, t),
          l = (0, c.useMemo)(
            () =>
              s
                .filter((e) => e.start_date && e.end_date)
                .map((e) => ({
                  allDay: !1,
                  title: e.title,
                  start: new Date(1e3 * e.start_date),
                  end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                  resource: e,
                })),
            [s],
          ),
          o = [be.Pp.MONTH, be.Pp.WEEK, be.Pp.DAY, be.Pp.AGENDA];
        return c.createElement(
          "div",
          null,
          c.createElement(Xe, {
            display: a,
            fnSetDisplay: n,
            strSearch: r,
            fnSetSearch: i,
          }),
          c.createElement("h1", null, "Calendar View of Marketing Messages"),
          c.createElement(be.Vv, {
            views: o,
            popup: !0,
            defaultView: "month",
            localizer: bt,
            events: l,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, ye.HO)(e.resource)),
            eventPropGetter: (e) => ({
              style: { color: 2 == e.resource.visibility ? "red" : "white" },
            }),
          }),
          c.createElement(
            "h1",
            null,
            "Remaining Marketing Messages without Dates",
          ),
          c.createElement(Mt, {
            rows: s.filter((e) => !e.start_date || !e.end_date),
          }),
        );
      }
      function Mt(e) {
        const { rows: t } = e;
        return null == t
          ? c.createElement(F.t, {
              string: (0, z.we)("#Loading"),
              size: "medium",
              position: "center",
            })
          : 0 == t.length
            ? c.createElement("div", null, "No matching marketing messages")
            : c.createElement(
                c.Fragment,
                null,
                t.map((e) =>
                  c.createElement(ut, {
                    key: e.gid,
                    marketingMessageID: e.gid,
                  }),
                ),
              );
      }
      function At(e) {
        const [t, a] = (0, c.useState)(""),
          [n, r] = (0, c.useState)(0),
          i = [{ label: "Any", data: 0 }];
        for (let e = 1; e < 9; ++e) i.push({ label: (0, Se.Rw)(e), data: e });
        const s = (0, q.Zx)(),
          [l, o] = (0, c.useState)(null),
          [m, d] = (0, c.useState)(!1);
        return c.createElement(
          "div",
          null,
          c.createElement(
            "h2",
            null,
            "Find a marketing message: Past, Present or Future",
          ),
          c.createElement("hr", null),
          c.createElement(
            "p",
            null,
            "Filter by the marketing message type and/or the part of the title",
          ),
          c.createElement(I.m, {
            label: "Marketing Message Type",
            rgOptions: i,
            onChange: (e) => r(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: n,
          }),
          c.createElement("br", null),
          c.createElement(I.pd, {
            type: "text",
            label: "Filter by Title",
            placeholder: "type here",
            value: t,
            onChange: (e) => a(e.currentTarget.value),
          }),
          c.createElement(
            I.jn,
            {
              onClick: () => {
                d(!0),
                  s(n, t).then((e) => {
                    d(!1), o(e);
                  });
              },
            },
            "Search",
          ),
          m &&
            c.createElement(F.t, {
              string: (0, z.we)("#Loading"),
              position: "center",
              size: "medium",
            }),
          Boolean(0 == l?.length) && c.createElement("div", null, "No Results"),
          Boolean(l?.length > 1) && c.createElement(Mt, { rows: l }),
        );
      }
      function kt(e) {
        const [t, a] = (0, c.useState)(je.k_DisplayAll),
          [n, r] = (0, c.useState)(He.k_SortByStartDate),
          [i, s] = (0, c.useState)(""),
          [l, o] = (0, c.useState)(null),
          m = $e(t, i, n, !0);
        return c.createElement(
          "div",
          null,
          c.createElement(Xe, {
            display: t,
            fnSetDisplay: a,
            sort: n,
            fnSetSort: r,
            strSearch: i,
            fnSetSearch: s,
            type: l,
            fnSetType: o,
          }),
          c.createElement(
            "div",
            null,
            "These are marketing messagse that either you created or have explicitly added yourself to the watch list",
          ),
          c.createElement("br", null),
          c.createElement(Mt, { rows: m }),
        );
      }
      var Rt = a(82097),
        Pt = a(95896),
        Nt = a(50250);
      function Gt(e) {
        const { oEditableMessage: t, storeItem: a, closeModal: n } = e;
        return c.createElement(
          P.o0,
          {
            strTitle: "Update Dynamic Filters",
            strDescription:
              "Changing to this marketing message type. Update the user dynamic filter to preferred setup for this type?",
            onCancel: n,
            bDestructiveWarning: !0,
            onOK: () => {
              t.ReplaceUserFilter((0, Nt.O)(a, t.GetType())),
                (0, Pt.NM)(t, "mm_partner_event"),
                n && n();
            },
          },
          c.createElement(
            "div",
            null,
            "Note: The user dynamic filter can be updated afterward too",
          ),
        );
      }
      var Ot = a(82829);
      function Ft(e) {
        const { oEditableMessage: t, closeModal: a } = e;
        return c.createElement(ae.BS, {
          oFeaturedItem: t.GetStoreItemID(),
          closeModal: a,
          bIncludeHidden: !0,
          onConfirmFeatureItem: async (e) => {
            const a = (0, Ot.y5)(e);
            return (
              a &&
                (a.no_restrictions
                  ? t.ClearCountryRestrictions()
                  : a.allowed_countries
                    ? t.SetCountryAllow(a.allowed_countries.join(","))
                    : a.restricted_countries &&
                      t.SetCountryAllow(a.restricted_countries.join(","))),
              e.appid
                ? (t.SetAssociation(1, e.appid),
                  t.SetLinkURL(`${ot.TS.STORE_BASE_URL}app/${e.appid}`),
                  Lt(t, e))
                : e.packageid
                  ? (t.SetAssociation(2, e.packageid),
                    t.SetLinkURL(`${ot.TS.STORE_BASE_URL}sub/${e.packageid}`),
                    Lt(t, e))
                  : e.bundleid
                    ? (t.SetAssociation(5, e.bundleid),
                      t.SetLinkURL(
                        `${ot.TS.STORE_BASE_URL}bundle/${e.bundleid}`,
                      ),
                      Lt(t, void 0))
                    : (t.SetAssociation(0, 0),
                      t.SetLinkURL(null),
                      Lt(t, void 0)),
              !0
            );
          },
        });
      }
      function Lt(e, t) {
        if (!e.BIsNoFilterRequired())
          if (t) {
            const a = Rt.A.Get().GetStoreItem((0, b.M9)(t), (0, b.pk)(t));
            a
              ? e.ReplaceUserFilter((0, Nt.O)(a, e.GetType()))
              : (console.log(
                  "DEV: We do not have the item in memory, how is this possible:",
                  t,
                ),
                e.ClearUserDynamicFilter());
          } else e.ClearUserDynamicFilter();
      }
      function Ut(e) {
        const { id: t } = e,
          a = (0, i.zw)(t),
          n = (0, v.q3)(() => a?.BIsDirty()),
          r = a?.GetModel(),
          [s] = (0, v.q3)(() => [r?.creator_name]);
        if (!r) return c.createElement(F.t, null);
        const l = [
          {
            name: "Main Message",
            key: "mainmessage",
            contents: c.createElement(
              T.tH,
              null,
              c.createElement(p.G, { data: r }),
            ),
          },
          {
            name: "Template Vars",
            key: "templatevars",
            contents: c.createElement(
              T.tH,
              null,
              c.createElement(p.G, { data: a.GetTemplateVarsModel() || {} }),
            ),
          },
          {
            name: "Additional Restrictions",
            key: "additionalrestriction",
            contents: c.createElement(
              T.tH,
              null,
              c.createElement(p.G, {
                data: a.GetAdditionalRestrictionModel() || {},
              }),
              c.createElement(
                I.$n,
                { onClick: () => a.ClearUserFilters() },
                "Clear user Filters",
              ),
            ),
          },
        ];
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "Is dirty?: ", n ? "true" : "false"),
          Boolean(s) &&
            c.createElement(
              "div",
              { className: C().SectionCtn },
              c.createElement(I.JU, null, "Creator:"),
              c.createElement("div", null, s),
            ),
          2 == r.visibility &&
            c.createElement(
              "div",
              null,
              c.createElement("br", null),
              "Note: If marketing message is not appearing in the client then look to see if the associated item is being ",
              c.createElement(
                "a",
                {
                  href: "https://grafana.valve.org/steam/d/c2d2436a-7206-47d5-8fca-89bdc91db65d/storemarketing-getitemstofeature-filtering?orgId=2&var-type=marketing_messages",
                  target: "_blank",
                },
                "filtered by store browse.",
              ),
            ),
          c.createElement("br", null),
          c.createElement("br", null),
          c.createElement("hr", null),
          c.createElement(O.V, {
            tabs: l,
            bDisableRouting: !0,
            startingTab: "mainmessage",
          }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      var zt = a(7706);
      function xt(e) {
        const { id: t } = e,
          a = (0, i.zw)(t),
          { fnBIsPlanInputPipelineDirty: n } = (0, s.RX)(),
          { fnBIsPlanDirty: r } = (0, l.Gr)(),
          o = (0, l.ok)(),
          m = (0, s.bE)();
        c.useEffect(
          () => (
            (window.onbeforeunload = () =>
              a?.BIsDirty() || n() || r()
                ? (0, z.we)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [a, n, r],
        );
        return c.createElement(d.XG, {
          message: (e) =>
            !((a && a?.BIsDirty()) || (m && n()) || (o && r())) ||
            e.pathname == Ki.MarketingMessageEditor(a.GetGID()) ||
            (0, z.we)("#DailyDeals_UnsavedChanges"),
        });
      }
      var qt,
        Wt = a(22837),
        jt = a(58995),
        Ht = a.n(jt),
        Vt = a(82359);
      function Kt(e) {
        const { oEditableMessage: t } = e,
          a = (0, c.useMemo)(
            () => [
              { label: "Steam Global (not Steam China)", data: 0 },
              { label: "Steam China (not Steam Global)", data: 1 },
              { label: "Steam Global and Steam China", data: 2 },
            ],
            [],
          );
        return c.createElement(
          "div",
          { className: (0, L.A)(C().SectionCtn, Ht().MessageCtn) },
          c.createElement(I.m, {
            label: "REALM",
            strClassName: (0, L.A)(R().DropDownScroll),
            rgOptions: a,
            selectedOption: t.GetRealm(),
            onChange: (e) => {
              t.SetRealm(e.data),
                t.SetMustUseClientLanguage(void 0),
                t.SetCountryAllow(void 0),
                t.SetCountryDeny(void 0),
                1 == e.data
                  ? t.SetAndConvertURL(
                      "https://store.steampowered.com",
                      "https://store.steamchina.com",
                    )
                  : t.SetAndConvertURL(
                      "https://store.steamchina.com",
                      "https://store.steampowered.com",
                    );
            },
          }),
          c.createElement(Yt, { oEditableMessage: t }),
          c.createElement($t, { oEditableMessage: t }),
        );
      }
      function Yt(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, c.useState)(() =>
            t.BIsCountryShow()
              ? qt.k_ECountryTarget_AllowList
              : qt.k_ECountryTarget_DenyList,
          ),
          r = (0, c.useMemo)(
            () => [
              {
                label: "Show To:",
                data: qt.k_ECountryTarget_AllowList,
                tooltip: "Country Allow List; comma separated please",
              },
              {
                label: "Hide From:",
                data: qt.k_ECountryTarget_DenyList,
                tooltip: "Country Deny List; comma separated please",
              },
            ],
            [],
          ),
          i = (0, c.useCallback)(
            (e, a) => {
              e
                ? (t.SetCountryAllow(a), t.SetCountryDeny(void 0))
                : (t.SetCountryAllow(void 0), t.SetCountryDeny(a));
            },
            [t],
          ),
          [s, l] = (0, v.q3)(() => [
            t.GetRealm(),
            t.BIsCountryShow() ? t.GetCountryAllow() : t.GetCountryDeny(),
          ]);
        if (1 == s)
          return c.createElement(
            c.Fragment,
            null,
            c.createElement(I.JU, null, "COUNTRY RESTRICTIONS"),
            c.createElement(
              "div",
              null,
              "Country restriction not supported when targeting Steam China Realm.",
            ),
          );
        let o = !1;
        2 == s &&
          l?.length > 0 &&
          (o = a
            ? !l.toLowerCase().includes("cn")
            : l.toLowerCase().includes("cn"));
        const m = a == qt.k_ECountryTarget_AllowList;
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(I.JU, null, "COUNTRY RESTRICTIONS"),
          o &&
            c.createElement(
              "div",
              { className: M.WarningStylesWithIcon },
              "Steam China Realm set BUT country list ",
              m ? "dot not include " : "excludes ",
              " China.",
            ),
          c.createElement(
            "div",
            {
              className: (0, L.A)(
                C().FlexRow,
                C().MarginBottom,
                Ht().MessageCtn,
              ),
            },
            c.createElement(I.m, {
              strClassName: (0, L.A)(R().DropDownScroll, Ht().CountryInOut),
              rgOptions: r,
              selectedOption: a,
              onChange: (e) => {
                n(e.data), i(e.data == qt.k_ECountryTarget_AllowList, l);
              },
            }),
            c.createElement(
              "div",
              { className: Ht().CountryText },
              c.createElement(I.pd, {
                type: "text",
                value: l,
                placeholder:
                  "Comma separated lists of 2 letter country codes...",
                bShowClearAction: !0,
                onChange: (e) => {
                  i(m, e.target.value);
                },
              }),
              Boolean(l?.includes(" ")) &&
                c.createElement(
                  "div",
                  { className: M.ErrorStylesWithIcon },
                  "Country Code list must have no spaces and must be separated by Commas",
                ),
              c.createElement(
                "a",
                {
                  href: "#",
                  onClick: (e) => {
                    e.preventDefault(), i(m, "CA,US,MX");
                  },
                },
                "North America",
              ),
              " ",
              c.createElement(
                "a",
                {
                  href: "#",
                  onClick: (e) => {
                    e.preventDefault(),
                      i(
                        m,
                        "BS,PA,BZ,CR,SV,GT,HN,NI,VE,CO,GY,SR,GF,BR,PE,BO,PY,UY,AR,CL,EC",
                      );
                  },
                },
                "Central And South America",
              ),
              " ",
              c.createElement(
                "a",
                {
                  href: "#",
                  onClick: (e) => {
                    e.preventDefault(),
                      i(
                        m,
                        "AT,BE,BG,CY,CZ,DK,EE,FI,FR,GR,HU,IS,IE,IT,LV,LT,LU,MT,NL,NO,PL,RO,SK,SI,ES,SE,CH,UK,GB,PT",
                      );
                  },
                },
                "Europe",
              ),
              " ",
              c.createElement(
                "a",
                {
                  href: "#",
                  onClick: (e) => {
                    e.preventDefault(),
                      i(
                        m,
                        "NO,SE,FI,DK,PT,ES,FR,IT,AT,CH,LU,LI,BE,NL,IE,UK,GB",
                      );
                  },
                },
                "Western Europe",
              ),
              " ",
            ),
          ),
        );
      }
      function $t(e) {
        const { oEditableMessage: t } = e,
          [a, n, r] = (0, v.q3)(() => [
            t.GetRealm(),
            t.GetSteamRealmsForLanguage(),
            t
              .GetMustUseClientLanguage()
              .split(",")
              .map((e) => (0, Wt.sf)(e, -1)),
          ]),
          i = 2 == a,
          s = (0, c.useMemo)(
            () =>
              z.A0.GetLanguageListForRealms(n).map((e) => {
                const t = (0, Wt.Lg)(e);
                return { value: e, label: (0, z.we)("#Language_" + t) };
              }),
            [n],
          );
        return 1 == a
          ? c.createElement(
              c.Fragment,
              null,
              c.createElement(I.JU, null, "LANGUAGE RESTRICTIONS"),
              c.createElement(
                "div",
                null,
                "Language restrictions are not supported for Steam China. There is only a single language that is Steam China Simplified Chinese",
              ),
            )
          : c.createElement(
              c.Fragment,
              null,
              c.createElement(I.JU, null, "LANGUAGE RESTRICTIONS"),
              i
                ? c.createElement(
                    "div",
                    null,
                    "Only restriction available in Steam China Simplified Chinese(SCSC). When set will show to both SCSC clients and Simplified Chinese client in ROW",
                  )
                : c.createElement(
                    "div",
                    null,
                    "Show only to Steam Clients that are set to the specified language (use case: game just added a new language)",
                  ),
              Boolean(r.some((e) => 27 == e || 5 == e)) &&
                c.createElement(
                  "div",
                  { className: M.WarningStylesWithIcon },
                  "Note: LATAM and Spanish will fallback to each other.  Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              Boolean(r.some((e) => 29 == e)) &&
                c.createElement(
                  "div",
                  { className: M.WarningStylesWithIcon },
                  "Note: Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              c.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                c.createElement(Vt.Ay, {
                  isSearchable: !0,
                  className: "react-select-container",
                  classNamePrefix: "react-select",
                  isMulti: !0,
                  options: s,
                  value: s.filter((e) => r.some((t) => t == e.value)),
                  onChange: (e) => {
                    t.SetMustUseClientLanguage(
                      e.map((e) => (0, Wt.Lg)(e.value)).join(","),
                    );
                  },
                }),
              ),
            );
      }
      function Jt(e) {
        const { oEditableMessage: t } = e;
        return t.BHasLegacyRestrictions()
          ? c.createElement(
              "div",
              { className: C().SectionCtn },
              c.createElement(I.JU, null, "LEGACY RESTRICTIONS (READ ONLY)"),
              c.createElement("br", null),
              Boolean(t.GetMustOwnAppID()) &&
                c.createElement(I.pd, {
                  type: "text",
                  label: "Must Own AppID",
                  disabled: !0,
                  value: t.GetMustOwnAppID(),
                }),
              Boolean(t.GetMustNotOwnAppID()) &&
                c.createElement(I.pd, {
                  type: "text",
                  label: "Must Not Own AppID",
                  disabled: !0,
                  value: t.GetMustNotOwnAppID(),
                }),
              Boolean(t.GetMustOwnPackageID()) &&
                c.createElement(I.pd, {
                  type: "text",
                  label: "Must Own PackageID",
                  disabled: !0,
                  value: t.GetMustOwnPackageID(),
                }),
              Boolean(t.GetMustNotOwnPackageID()) &&
                c.createElement(I.pd, {
                  type: "text",
                  label: "Must Not Own PackageID",
                  disabled: !0,
                  value: t.GetMustNotOwnPackageID(),
                }),
              Boolean(t.GetMustHaveLaunchedAppID()) &&
                c.createElement(I.pd, {
                  type: "text",
                  label: "Must have Launched AppID",
                  disabled: !0,
                  value: t.GetMustHaveLaunchedAppID(),
                }),
              c.createElement(
                "div",
                { className: Ht().RemoveLegacyBtn },
                c.createElement(
                  I.$n,
                  { onClick: () => t.ClearAllLegacyRestrictions() },
                  "Clear Legacy Restrictions",
                ),
              ),
            )
          : null;
      }
      !(function (e) {
        (e[(e.k_ECountryTarget_AllowList = 1)] = "k_ECountryTarget_AllowList"),
          (e[(e.k_ECountryTarget_DenyList = 2)] = "k_ECountryTarget_DenyList");
      })(qt || (qt = {}));
      var Xt = a(36431),
        Qt = a(43507),
        Zt = a.n(Qt);
      function ea(e) {
        const { id: t } = e,
          a = (0, i.zw)(t),
          n = (0, c.useMemo)(
            () => Se.I8.map((e) => ({ label: (0, z.we)(e), data: e })),
            [],
          );
        return a
          ? c.createElement(
              "div",
              null,
              c.createElement(
                "div",
                { className: V.EditCtn },
                c.createElement(
                  "div",
                  { className: C().PageTitle },
                  "Marketing Message - Options",
                ),
                c.createElement("hr", null),
                c.createElement(
                  "div",
                  { className: C().ColumnCtn },
                  c.createElement(
                    "div",
                    { className: C().LeftCol },
                    c.createElement(
                      "div",
                      { className: C().SectionCtn },
                      c.createElement(
                        I.JU,
                        null,
                        "BUTTON TEXT ",
                        c.createElement(
                          "span",
                          { className: "DialogInputRequirementLabel" },
                          "Required",
                        ),
                      ),
                      c.createElement(I.m, {
                        strDropDownClassName: (0, L.A)(R().DropDownScroll),
                        rgOptions: n,
                        selectedOption: a.GetButtonToken(),
                        onChange: (e) => a.SetButtonToken(e.data),
                      }),
                      c.createElement(aa, { oEditableMessage: a }),
                      c.createElement("br", null),
                      c.createElement("br", null),
                      c.createElement(I.JU, null, "PRICE DISPLAY"),
                      c.createElement(I.Yh, {
                        checked: !a.BHidePriceOnMessage(),
                        onChange: (e) => a.SetHidePriceOnMessage(!e),
                        label: "Display current price on message",
                      }),
                      c.createElement(ta, { oEditableMessage: a }),
                      c.createElement(na, { oEditableMessage: a }),
                    ),
                    c.createElement(zt.u, { oEditableMessage: a }),
                  ),
                ),
              ),
            )
          : c.createElement(F.t, {
              size: "medium",
              position: "center",
              string: (0, z.we)("#Loading"),
            });
      }
      function ta(e) {
        const { oEditableMessage: t } = e,
          a = [
            { label: "None selected", data: lt.de.k_StoreInvalidState },
            {
              label: "Pre-Purchase State",
              data: lt.de.k_StorePrePurchase,
              tooltip:
                "Requires a coming soon page AND it must be purchaseable",
            },
            { label: "Coming Soon", data: lt.de.k_StoreComingSoon },
            {
              label: "Early Access",
              data: lt.de.k_StoreEarlyAccess,
              tooltip: "Specifically release into early access",
            },
            {
              label: "General Availability",
              data: lt.de.k_StoreGeneralAvailability,
              tooltip: "Released somewhere that isn't early access",
            },
          ];
        return c.createElement(I.m, {
          label: "Store Item Release Controls",
          tooltip:
            "When specified, requires the associated store item to be at a very specified state for the IM to be marked ready",
          rgOptions: a,
          onChange: (e) => t.SetAssociatedItemReleaseState(e.data),
          contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
          selectedOption: t.GetAssociatedItemReleaseState(),
        });
      }
      function aa(e) {
        const { oEditableMessage: t } = e,
          [a, n, r, i] = (0, v.q3)(() => [
            t.BUseCustomLegalText(),
            t.GetCustomLegalText(),
            t.GetLegalTextPartnerName(),
            t.BExplicitNoLegalPartnerNeeded(),
          ]),
          s = a ? n : (0, K.Wq)(r);
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(I.JU, null, "LEGAL TEXT"),
          c.createElement(
            "div",
            { className: Zt().legalSectionCtn },
            c.createElement(
              "div",
              { className: Zt().subSection },
              c.createElement(I.Yh, {
                label: "Use custom legal text",
                checked: a,
                onChange: (e) => t.SetUseCustomLegalText(e),
              }),
              a
                ? c.createElement("textarea", {
                    value: n,
                    onChange: (e) =>
                      t.SetCustomLegalText(e.currentTarget.value),
                    style: { width: "620px", height: "80px" },
                  })
                : c.createElement(
                    c.Fragment,
                    null,
                    Boolean(!i) &&
                      c.createElement(I.pd, {
                        type: "text",
                        label: "PARTNER NAME TO INSERT INTO LEGAL LINE",
                        value: r,
                        onChange: (e) =>
                          t.SetLegalTextPartnerName(e.target.value),
                        placeholder:
                          "Enter company name; preview will update below",
                      }),
                    c.createElement(I.Yh, {
                      checked: i,
                      onChange: (e) => t.SetExplicitNoLegalPartnerNeeded(e),
                      label: "Explicit: Do not need to enter a partners name",
                      tooltip:
                        "Messages for our own events do not need to enter an additional partners name",
                    }),
                  ),
              c.createElement("br", null),
              c.createElement(I.JU, null, "LEGAL TEXT PREVEIW"),
            ),
            c.createElement(
              "div",
              { className: Zt().previewSection },
              c.createElement("div", {
                className: Zt().LegalPreview,
                dangerouslySetInnerHTML: { __html: s },
              }),
            ),
          ),
        );
      }
      function na(e) {
        const { oEditableMessage: t } = e,
          [a] = (0, v.q3)(() => [t.GetCustomTemplate()]),
          n = (0, K.fL)(a || ""),
          [r, i] = (0, c.useState)(() => !!n);
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(I.JU, null, "REPLAY EVENT"),
          c.createElement(I.Yh, {
            label: "Is Replay Event",
            checked: r,
            onChange: () => i(!r),
          }),
          r &&
            c.createElement(I.pd, {
              mustBeNumeric: !0,
              rangeMin: 2022,
              maxChars: 4,
              onChange: (e) => {
                const a = Number(e.target.value);
                isNaN(a) || t.SetCustomTemplate(`replay${a}`);
              },
              label: "Year for replay event",
              value: n,
            }),
        );
      }
      var ra = a(85280),
        ia = a(14514),
        sa = a(13549);
      function la(e) {
        const { oEditableMessage: t } = e,
          [a, n, r] = (0, v.q3)(() => [
            "mm_auto_render" == t.GetCustomTemplate(),
            t.GetType(),
            t.GetAutoRenderSubtitle(),
          ]);
        if (!a) return null;
        const i = [
          {
            label: (0, z.we)("#label_just_updated"),
            data: "#label_just_updated",
          },
          {
            label: (0, z.we)("#label_new_dlc_available"),
            data: "#label_new_dlc_available",
          },
          {
            label: (0, z.we)("#label_deepest_discount"),
            data: "#label_deepest_discount",
          },
          {
            label: (0, z.we)("#msg_available_just_released_from_early_access"),
            data: "#msg_available_just_released_from_early_access",
          },
          {
            label: (0, z.we)("#msg_available_just_released"),
            data: "#msg_available_just_released",
          },
          {
            label: (0, z.we)("#api_category_top_sellers"),
            data: "#api_category_top_sellers",
          },
          {
            label: (0, z.we)("#msg_early_access_now_available"),
            data: "#msg_early_access_now_available",
          },
          {
            label: (0, z.we)("#msg_available_now_free_to_play"),
            data: "#msg_available_now_free_to_play",
          },
          {
            label: (0, z.we)("#msg_free_to_play_just_updated"),
            data: "#msg_free_to_play_just_updated",
          },
          {
            label: (0, z.we)("#msg_play_demo_now"),
            data: "#msg_play_demo_now",
          },
          { label: "", data: null },
        ];
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "Additional MM Auto Render Settings:"),
          Boolean(14 == n)
            ? c.createElement(
                "div",
                null,
                "Must use 'Play for free until...' subtitle",
              )
            : c.createElement(I.m, {
                strDropDownClassName: (0, L.A)(R().DropDownScroll),
                rgOptions: i,
                selectedOption: r,
                onChange: (e) => t.SetAutoRenderSubtitle(e.data),
              }),
        );
      }
      var oa = a(96468);
      function ca(e) {
        const { gid: t } = e,
          a = (0, i.zw)(t),
          n = (0, v.q3)(() => a?.GetPlanAssetRequestGID());
        return c.createElement(
          "div",
          { className: C().AdminPageCtn },
          c.createElement(
            oe.rr,
            { planid: n, bCanBeMissing: !0 },
            c.createElement(xt, { id: t }),
            c.createElement(
              "div",
              { className: (0, L.A)(R().FlexRowWrapSpaceBetweenContainer) },
              c.createElement(
                m.N_,
                {
                  to: "/marketingmessages/dashboard/",
                  className: C().DashLink,
                },
                c.createElement(G.i3G, { angle: 270 }),
                c.createElement(
                  "div",
                  null,
                  "Return to Marketing Message Dashboard",
                ),
              ),
              c.createElement(
                m.N_,
                { to: "/planning/dashboard/", className: C().DashLink },
                c.createElement(
                  "div",
                  null,
                  "Go to Promotion Planning Dashboard",
                ),
                c.createElement(G.i3G, { angle: 90 }),
              ),
            ),
            c.createElement(ma, { id: t }),
          ),
        );
      }
      function ma(e) {
        const { id: t } = e,
          a = (0, s.bE)(),
          n = (0, v.q3)(() => a && a.BIsDirty()),
          r = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          i = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(da, { id: t }),
              ),
              onClick: r,
            },
            {
              name: "Assets Tab",
              key: "assets",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(Pt.rR, { id: t }),
              ),
              onClick: r,
            },
            {
              name: (n ? "* " : "") + "Asset Request",
              key: "request",
              tooltip: n ? "Please Save Asset Request" : null,
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(Y, { id: t }),
              ),
              onClick: r,
            },
            {
              name: "Options Tab",
              key: "option",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(ea, { id: t }),
              ),
              onClick: r,
            },
            {
              name: "Preview Tab",
              key: "preview",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(ra.X, { id: t }),
              ),
              onClick: r,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: c.createElement(
                T.tH,
                null,
                c.createElement(Ut, { id: t }),
              ),
              onClick: r,
            },
          ];
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(O.V, { tabs: i }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      function da(e) {
        const { id: t } = e,
          a = (0, i.zw)(t);
        return a
          ? c.createElement(
              "div",
              null,
              c.createElement(
                "div",
                { className: V.EditCtn },
                c.createElement(
                  "div",
                  { className: C().PageTitle },
                  "Marketing Message - Edit Details",
                ),
                c.createElement("hr", null),
                c.createElement(
                  "div",
                  { className: C().ColumnCtn },
                  c.createElement(
                    "div",
                    { className: C().LeftCol },
                    c.createElement(ua, { oEditableMessage: a }),
                    c.createElement(pa, { oEditableMessage: a }),
                    c.createElement(oa.M, { oEditableMessage: a }),
                    c.createElement(Nt.f, { oEditableMessage: a }),
                    c.createElement(Kt, { oEditableMessage: a }),
                    c.createElement(Jt, { oEditableMessage: a }),
                    c.createElement(ga, { oEditableMessage: a }),
                    c.createElement(ha, { oEditableMessage: a }),
                    c.createElement(zt.u, { oEditableMessage: a }),
                  ),
                  c.createElement(Xt.i, { oEditableMessage: a }),
                ),
              ),
            )
          : c.createElement(F.t, {
              size: "medium",
              position: "center",
              string: (0, z.we)("#Loading"),
            });
      }
      function ua(e) {
        const { oEditableMessage: t } = e,
          a = (0, v.q3)(() => t.GetStoreItemID()),
          n = (0, c.useCallback)(
            (e) => {
              if ((t.SetType(e), a)) {
                const n = Rt.A.Get().GetStoreItem((0, b.M9)(a), (0, b.pk)(a));
                (function (e) {
                  return 10 === e;
                })(e) &&
                  (0, N.pg)(
                    c.createElement(Gt, { oEditableMessage: t, storeItem: n }),
                    window,
                  );
              }
            },
            [t, a],
          );
        return c.createElement(
          "div",
          { className: C().SectionCtn },
          c.createElement(I.pd, {
            type: "text",
            label: "Internal Name",
            className: V.PromoName,
            requiredLabel: (0, z.we)("#Steamworks_Generic_Required"),
            value: t.GetName(),
            onChange: (e) => t.SetName(e?.currentTarget?.value || ""),
          }),
          c.createElement(
            "div",
            { className: (0, L.A)(R().FlexRowContainer, V.EventDetailsCtn) },
            c.createElement(
              "div",
              { className: V.TypeCtn },
              c.createElement(I.JU, null, "Type:"),
              c.createElement(qe, { type: t.GetType(), setType: n }),
              c.createElement(la, { oEditableMessage: t }),
              c.createElement(We, {
                type: t.GetType(),
                rtStartTime: t.GetStartRTime(),
                setStartTime: t.SetMessageStartTime,
                rtEndTime: t.GetEndRTime(),
                setEndTime: t.SetMessageEndTime,
              }),
            ),
            c.createElement(
              "div",
              { className: V.AdminNotesCtn },
              c.createElement(I.JU, null, "Admin Notes:"),
              c.createElement("textarea", {
                className: "DialogTextInputBase",
                value: t.GetAdminNotes() || "",
                onChange: (e) => t.SetAdminNote(e?.currentTarget?.value || ""),
              }),
            ),
          ),
        );
      }
      function pa(e) {
        const { oEditableMessage: t } = e,
          [a, n, r] = (0, v.q3)(() => [
            t.GetStoreItemKey(),
            t.BExplicitNoAssociationItem(),
            t.GetType(),
          ]),
          [i, s] = (0, c.useState)(t.BHasAssociatedSaleEvent()),
          [l] = (0, w.G6)(a?.id, (0, b.JK)(a?.item_type), Se.rz);
        return c.createElement(
          "div",
          { className: C().SectionCtn },
          c.createElement(
            "div",
            { className: V.FeatureSelectCtn },
            c.createElement(
              "div",
              { className: V.FeatureSelectBtn },
              c.createElement(
                I.$n,
                {
                  onClick: (e) => {
                    (0, N.pg)(
                      c.createElement(Ft, { oEditableMessage: t }),
                      (0, U.uX)(e),
                    );
                  },
                },
                "Change Selected Product",
              ),
              Boolean(a)
                ? c.createElement(
                    Pe.he,
                    {
                      className: ke().ProgressIconError,
                      onClick: () => {
                        t.ClearAssociation();
                      },
                      toolTipContent: "Clear the Featuring Target",
                    },
                    c.createElement(G.X, null),
                  )
                : c.createElement(I.Yh, {
                    label: "No Item Needed?",
                    checked: n,
                    onChange: (e) => t.SetExplicitNoAssociatedItem(e),
                    tooltip:
                      "When true, it means the marketing message is global and unrelated to a specific item.  For example, Client Update or Seasonal sale.",
                  }),
            ),
            c.createElement(I.JU, null, "Target App / Package / Bundles:"),
            c.createElement(
              "div",
              null,
              "Actions click through to this store page and show prices from this:",
            ),
            Boolean(!l)
              ? c.createElement(
                  "div",
                  { className: V.TargetGamePlaceholder },
                  a ? `${a.id}/${a.item_type}` : "Nothing associated yet",
                )
              : c.createElement(te.cy, {
                  id: a.id,
                  itemType: l.GetStoreItemType(),
                }),
            Boolean(10 == r) && c.createElement(sa.i, { oEditableMessage: t }),
            c.createElement(_a, { oEditableMessage: t }),
            Boolean(14 == l?.GetAppType()) &&
              c.createElement(
                c.Fragment,
                null,
                i
                  ? c.createElement(le.eq, { oEditablePlan: t })
                  : c.createElement(I.Yh, {
                      checked: !1,
                      label:
                        "Associated Store Item is an advertising app. Do we intend to point to a sales page?",
                      onChange: s,
                    }),
              ),
          ),
        );
      }
      function _a(e) {
        const { oEditableMessage: t } = e,
          [a, n] = (0, v.q3)(() => [t.GetRealm(), t.GetLinkURL()]),
          r = (0, Se.e5)(a, n);
        return c.createElement(
          "div",
          null,
          c.createElement(I.pd, {
            type: "url",
            label: "Link URL",
            mustBeURL: !0,
            fnStrValidateURL: ia.Vi,
            value: n,
            requiredLabel: (0, z.we)("#Steamworks_Generic_Required"),
            onChange: (e) => t.SetLinkURL(e.target.value),
          }),
          Boolean(!r && 1 == a) &&
            c.createElement(
              "div",
              { className: M.WarningStylesWithIcon },
              "Since we are displaying in Steam China only, the URL must start with the following: https://store.steamchina.com/",
            ),
          Boolean(!r && 2 == a) &&
            c.createElement(
              "div",
              { className: M.WarningStylesWithIcon },
              "Since we are displaying in both ROW and Steam China only, the URL must start with the global store: https://store.steampowered.com/. Note: We will automatically remap the store appropriately when dispaly in Steam China.",
            ),
        );
      }
      function ga(e) {
        const { oEditableMessage: t } = e,
          [a, n, r] = (0, v.q3)(() => [
            t.BHasPlatformWindows(),
            t.BHasPlatformMac(),
            t.BHasPlatformLinux(),
          ]);
        return c.createElement(
          "div",
          { className: C().SectionCtn },
          c.createElement(I.JU, null, "PLATFORMS"),
          Boolean(!a && !r && !n) &&
            c.createElement(
              "div",
              { className: M.WarningStylesWithIcon },
              "Warning: No platform chosen, this will not surfaces to any Steam Client",
            ),
          c.createElement(I.Yh, {
            label: "Windows",
            checked: a,
            onChange: t.SetPlatformWindows,
          }),
          c.createElement(I.Yh, {
            label: "Mac",
            checked: n,
            onChange: t.SetPlatformMac,
          }),
          c.createElement(I.Yh, {
            label: "Linux",
            checked: r,
            onChange: t.SetPlatformLinux,
          }),
        );
      }
      function ha(e) {
        const { oEditableMessage: t } = e;
        return c.createElement(
          "div",
          { className: C().SectionCtn },
          c.createElement(I.pd, {
            type: "text",
            label: "MINIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "min",
            value: t.GetMustHaveClientPackageGTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageGTE(e.target.value),
          }),
          c.createElement(I.pd, {
            type: "text",
            label: "MAXIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "man",
            value: t.GetMustHaveClientPackageLTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageLTE(e.target.value),
          }),
        );
      }
      var Ea = a(20499),
        Sa = a(58097),
        ya = a(29863),
        va = a(92237);
      function fa(e) {
        const t = (0, Sa.cw)();
        return c.createElement(
          "div",
          null,
          c.createElement(
            "div",
            null,
            c.createElement(
              "div",
              { className: va.DashTitleBar },
              c.createElement("h1", null, "Sales Rank Dashboard"),
            ),
            c.createElement(
              "div",
              { className: va.DashDescription },
              "Use the filters below fo find games to invite to curated promotion deals.",
            ),
          ),
          null == t
            ? c.createElement(F.t, {
                string: (0, z.we)("#Loading"),
                position: "center",
                size: "medium",
              })
            : c.createElement(ba, { rgTopData: t }),
        );
      }
      function ba(e) {
        const { rgTopData: t } = e,
          a = (0, c.useMemo)(() => t.top_apps.map((e) => e.appid), [t]),
          n = (0, Sa.JK)(t.num_days_history, a);
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "TODO: Eligibilty Drop Down"),
          c.createElement("div", null, "TODO: Partner Option List"),
          c.createElement("div", null, "Eligible Results: ", t.total_games),
          c.createElement(
            "table",
            null,
            c.createElement(
              "thead",
              null,
              c.createElement(
                "tr",
                null,
                c.createElement("th", null, "Game"),
                c.createElement("th", null, "Release Date"),
                c.createElement("th", null, "Last Discount"),
                c.createElement(
                  "th",
                  { colSpan: 3 },
                  "Trailing ",
                  t.num_days_history,
                  " days",
                ),
                c.createElement("th", null, "Positive Review Score"),
                c.createElement("th", null, "Eligible"),
                c.createElement("th", null),
              ),
              c.createElement(
                "tr",
                null,
                c.createElement("th", null),
                c.createElement("th", null),
                c.createElement("th", null),
                c.createElement("th", null, "Package Rev"),
                c.createElement("th", null, "Days Discounted"),
                c.createElement(
                  "th",
                  null,
                  "Rank  ",
                  c.createElement(
                    Pe.he,
                    {
                      toolTipContent: "Includes all Rev: Packages + MTX + DLC",
                    },
                    "(?)",
                  ),
                ),
                c.createElement("th", null),
                c.createElement("th", null),
                c.createElement("th", null),
              ),
            ),
            c.createElement(
              "tbody",
              null,
              t.top_apps.map((e) =>
                c.createElement(Da, {
                  key: "appid" + e.appid,
                  rgAppInfo: e,
                  appSummaries: n,
                }),
              ),
            ),
          ),
        );
      }
      const wa = {
        month: "short",
        day: "numeric",
        year: "numeric",
        weekday: void 0,
      };
      function Da(e) {
        const { rgAppInfo: t, appSummaries: a } = e,
          [n] = (0, w.t7)(t.appid, {
            include_reviews: !0,
            include_release: !0,
            include_assets: !0,
          });
        return n
          ? c.createElement(
              "tr",
              null,
              c.createElement(
                "td",
                null,
                c.createElement(
                  ya.Qf,
                  {
                    item: { type: "game", id: t.appid },
                    hoverProps: {
                      direction: "overlay",
                      style: { minWidth: "320px", maxWidth: "320px" },
                    },
                    className: va.GameItem,
                  },
                  c.createElement("img", {
                    src: n.GetAssets().GetCommunityIconURL(),
                    style: { width: 32 },
                  }),
                ),
                c.createElement(
                  "div",
                  null,
                  c.createElement(
                    "a",
                    { href: n.GetStorePageURL() },
                    n.GetName(),
                  ),
                  " ",
                  "(",
                  c.createElement(
                    "a",
                    {
                      href: ot.TS.PARTNER_BASE_URL + "apps/landing/" + t.appid,
                    },
                    t.appid,
                  ),
                  ")",
                ),
              ),
              c.createElement(
                "td",
                null,
                (0, z.TW)(n.GetReleaseDateRTime(), wa),
              ),
              c.createElement("td", null, "TODO Discount"),
              c.createElement(
                "td",
                null,
                "$",
                Math.floor(
                  (a?.GetAppSaleSummary(t.appid)?.gross_sales_usd || 0) / 100,
                ).toLocaleString(),
              ),
              c.createElement("td", null, "TODO Discount Rev"),
              c.createElement("td", null, "#", t.long_term_sale_rank + 1),
              c.createElement(
                "td",
                null,
                n?.GetUnfilteredReviewSummary().percent_positive,
                "%",
              ),
              c.createElement("td", null, "TODO Eligible"),
              c.createElement("td", null, "TODO BUTTONS"),
            )
          : null;
      }
      var Ca = a(97843);
      function Ia(e) {
        const { spotlightID: t } = e,
          a = (0, Ca.Ib)(t);
        return a
          ? c.createElement(
              "div",
              {
                className: (0, L.A)({
                  [st.RowCtn]: !0,
                  [st.Public]: Boolean(a.visibility?.visible),
                }),
                onClick: () =>
                  (window.location.href =
                    g.TS.PARTNER_BASE_URL + "admin/store/spotlight/" + t),
              },
              c.createElement(
                "div",
                { className: (0, L.A)(st.Row, st.Primary) },
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.ItemName) },
                  a.name,
                ),
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Type) },
                  a.type,
                ),
                c.createElement(it.y, {
                  className: (0, L.A)(st.Col, st.Date),
                  rtStartDate: a.visibility?.startdate,
                  rtEndDate: a.visibility?.enddate,
                }),
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Creator) },
                  a.creator,
                ),
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Visibility) },
                  Boolean(a.visibility?.visible) ? "public" : "beta",
                ),
              ),
              c.createElement(
                "div",
                { className: st.Row },
                c.createElement(
                  "div",
                  { className: st.Col },
                  a.location?.hubTargets?.join(", "),
                ),
              ),
            )
          : c.createElement(F.t, { string: t, size: "small" });
      }
      const Ba = (0, be.ye)(fe());
      function Ta(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "spotlightdashboardtab",
              `?tab=${e.key}`,
            ),
          a = [
            {
              name: "Active or Upcoming Spotlights",
              key: "current",
              contents: c.createElement(T.tH, null, c.createElement(Ra, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: c.createElement(T.tH, null, c.createElement(Na, null)),
              onClick: t,
            },
            {
              name: "Search all Spotlights",
              key: "search",
              contents: c.createElement(T.tH, null, c.createElement(Pa, null)),
              onClick: t,
            },
          ];
        return c.createElement(
          "div",
          {
            className: (0, L.A)(
              Ke().Container,
              C().AdminPageCtn,
              C().WidePageCtn,
            ),
          },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Spotlight Dashboard (VO) ",
          ),
          c.createElement("hr", { className: "VO" }),
          c.createElement(
            "div",
            { className: Ke().CreateNewCtn },
            c.createElement(
              I.$n,
              { onClick: (e) => console.log("TODO") },
              "Create New Spotlight",
            ),
          ),
          c.createElement(O.V, { tabs: a }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      var Ma;
      function Aa(e) {
        const t = (0, Ca.ku)();
        return t && e != Ma.k_DisplayAll
          ? t.filter(
              (t) =>
                (e == Ma.k_DisplayPublic && Boolean(t.visibility?.visible)) ||
                (e == Ma.k_DisplayBeta && !Boolean(t.visibility?.visible)),
            )
          : t;
      }
      function ka(e) {
        const { display: t, fnSetDisplay: a } = e,
          n = [
            { label: "Show All", data: Ma.k_DisplayAll },
            { label: "Show Visible", data: Ma.k_DisplayPublic },
            { label: "Show Hidden", data: Ma.k_DisplayBeta },
          ];
        return c.createElement(
          "div",
          { className: Ke().FilterRow },
          c.createElement(
            "div",
            { className: Ke().VisibilityFilterCtn },
            c.createElement(I.m, {
              label: "Visibility Filter",
              tooltip: "Limit the Spotlights based on their visibility",
              rgOptions: n,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function Ra(e) {
        const [t, a] = (0, c.useState)(Ma.k_DisplayAll),
          n = Aa(t);
        return c.createElement(
          "div",
          null,
          c.createElement(ka, { display: t, fnSetDisplay: a }),
          c.createElement("div", null, "Present and Future Spotlights"),
          c.createElement("hr", null),
          c.createElement(
            "div",
            null,
            "Partner facing documentation with specs for spotlight assets:",
            c.createElement(
              "a",
              {
                href: "https://partner.steamgames.com/doc/store/assets/promos",
                target: "_blank",
              },
              "https://partner.steamgames.com/doc/store/assets/promos",
            ),
          ),
          c.createElement(Ga, { rows: n }),
        );
      }
      function Pa(e) {
        return c.createElement("div", null, "todo");
      }
      function Na(e) {
        const [t, a] = (0, c.useState)(Ma.k_DisplayAll),
          n = Aa(t),
          r = (0, c.useMemo)(
            () =>
              n
                .filter((e) => e.visibility?.startdate && e.visibility?.enddate)
                .map((e) => ({
                  allDay: !1,
                  title: e.name,
                  start: new Date(1e3 * e.visibility.startdate),
                  end: new Date(1e3 * (e.visibility.enddate - 36e3 - 1)),
                  resource: e,
                })),
            [n],
          ),
          i = [be.Pp.MONTH, be.Pp.WEEK, be.Pp.DAY, be.Pp.AGENDA];
        return c.createElement(
          "div",
          null,
          c.createElement(ka, { display: t, fnSetDisplay: a }),
          c.createElement("h1", null, "Calendar View of Spotlights"),
          c.createElement(be.Vv, {
            views: i,
            popup: !0,
            defaultView: "month",
            localizer: Ba,
            events: r,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, ye.HO)(e.resource)),
            eventPropGetter: (e) => {
              const t = e.resource;
              return {
                style: {
                  color: Boolean(t.visibility?.visible) ? "red" : "white",
                },
              };
            },
          }),
          c.createElement("h1", null, "Remaining Spotlights without Dates"),
          c.createElement(Ga, {
            rows: n.filter(
              (e) => !e.visibility?.startdate || !e.visibility?.enddate,
            ),
          }),
        );
      }
      function Ga(e) {
        const { rows: t } = e;
        return c.createElement(
          c.Fragment,
          null,
          t.map((e) => c.createElement(Ia, { key: e.id, spotlightID: e.id })),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayBeta = 2)] = "k_DisplayBeta");
      })(Ma || (Ma = {}));
      var Oa = a(74810),
        Fa = a(92360),
        La = a(5864),
        Ua = a(56545),
        za = a(20194),
        xa = a(81393),
        qa = a(96059);
      class Wa {
        m_steamInterface;
        m_publisherID;
        async GetPartnerPreviewByID(e) {
          const t = Ua.w.Init(La.cc);
          t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
          const a = await La.EO.GetPartnerMessagePreview(
            this.m_steamInterface.GetServiceTransport(),
            t,
          );
          if (1 != a.GetEResult())
            throw `Error loading message preview, id: ${e}, error: ${a.GetEResult()}`;
          return a.Body().message();
        }
        async PartnerPublishByID(e) {
          const t = Ua.w.Init(La.$q);
          t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
          return (
            1 ==
            (
              await La.EO.PublishPartnerMessage(
                this.m_steamInterface.GetServiceTransport(),
                t,
              )
            ).GetEResult()
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Wa.s_Singleton ||
              ((Wa.s_Singleton = new Wa()),
              Wa.s_Singleton.Init(),
              "dev" == g.TS.WEB_UNIVERSE &&
                (window.g_MarketingMessagePreviewStore = Wa.s_Singleton)),
            Wa.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, g.Tc)(
              "promotion_operation_token",
              "application_config",
            ),
            t = (0, g.Tc)("publisherid", "application_config");
          (0, xa.w)(Boolean(e), "require promotion_operation_token"),
            "dev" == g.TS.WEB_UNIVERSE &&
              console.log(
                `DEV_DEBUG Initializing CMarketingMessagePartnerPreviewStore with access token ${e} and publisherID ${t}`,
              ),
            (this.m_steamInterface = new qa.D(g.TS.WEBAPI_BASE_URL, e)),
            (this.m_publisherID = t);
        }
      }
      var ja = a(91693),
        Ha = a(2164),
        Va = a.n(Ha),
        Ka = a(38390),
        Ya = a(17720);
      function $a(e) {
        const { gid: t } = e,
          a =
            ((n = t),
            (0, za.I)({
              queryKey: ["GetPartnerPreviewMessage", n],
              queryFn: () => Wa.Get().GetPartnerPreviewByID(n),
            }));
        var n;
        if (a.isLoading)
          return c.createElement(F.t, {
            className: Va().Throbber,
            position: "center",
          });
        if (a.isError)
          return c.createElement(
            "div",
            { className: Va().LoadError },
            (0, z.we)("#MarketingMessage_PartnerPreview_Error"),
          );
        const r = a.data.visibility();
        return 3 !== r && 2 !== r
          ? c.createElement(
              "div",
              { className: Va().LoadError },
              (0, z.we)("#MarketingMessage_PartnerPreview_Error"),
            )
          : c.createElement(Ja, {
              marketingMessage: a.data,
              refresh: a.refetch,
            });
      }
      function Ja(e) {
        const { marketingMessage: t, refresh: a } = e,
          n = 2 === t.visibility(),
          r = new Date(1e3 * t.start_date()).toLocaleString(
            z.pf.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          ),
          i = new Date(1e3 * t.end_date()).toLocaleString(
            z.pf.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          );
        return c.createElement(
          "div",
          { className: C().AdminPageCtn },
          c.createElement(
            "div",
            { className: Va().Header },
            c.createElement(
              "div",
              { className: Va().LeftCol },
              c.createElement(
                "h1",
                null,
                (0, z.we)("#MarketingMessage_PartnerPreview_Header_Status"),
              ),
              c.createElement(
                "div",
                { className: (0, L.A)(Va().Status, n && Va().Public) },
                (0, z.we)(
                  n
                    ? "#MarketingMessage_PartnerPreview_Header_Public"
                    : "#MarketingMessage_PartnerPreview_Header_Approved",
                ),
              ),
              !n &&
                c.createElement(Xa, {
                  marketingMessage: t,
                  refresh: a,
                  visbilityEnd: i,
                }),
              c.createElement(
                "span",
                null,
                (0, z.we)(
                  "#MarketingMessage_PartnerPreview_Publish_VisibilityRange",
                  r,
                  i,
                ),
              ),
            ),
            c.createElement(
              "div",
              { className: Va().RightCol },
              c.createElement(en, { marketingMessage: t }),
              c.createElement(
                "a",
                {
                  target: "_blank",
                  href: g.TS.PARTNER_BASE_URL + "doc/store/assets/promos",
                },
                (0, z.we)("#MarketingMessage_PartnerPreview_DocLink"),
              ),
            ),
          ),
          c.createElement(tn, { marketingMessage: t }),
        );
      }
      function Xa(e) {
        const { marketingMessage: t, refresh: a, visbilityEnd: n } = e,
          { clanAccountID: r, gidClanEvent: i } = (0, c.useMemo)(() => {
            if (10 == t.type()) {
              const e = (0, K.c2)(t.template_vars_json());
              if (e && "partner_event" == e.custom_display)
                return {
                  clanAccountID: e.update_event_clan_accountid,
                  gidClanEvent: e.update_event_gid,
                };
            }
            return { clanAccountID: null, gidClanEvent: null };
          }, [t]),
          s = Boolean(r),
          { eventModel: l } = (0, Ka.B9)(r, i),
          o = !s || l?.BIsVisibleEvent();
        return c.createElement(
          c.Fragment,
          null,
          !o &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(
                "div",
                { className: M.WarningStylesBackground },
                (0, z.we)("#MarketingMessage_PartnerPreview_Header_EventWait"),
              ),
              c.createElement(
                "a",
                {
                  href: `${g.TS.COMMUNITY_BASE_URL}gid/${Ya.b.InitFromClanID(r).ConvertTo64BitString()}/partnerevents/${i}/edit`,
                },
                (0, z.we)("#Sale_Link_Edit"),
              ),
            ),
          c.createElement(Qa, { gid: t.gid(), refresh: a, disabled: !o }),
          c.createElement(
            "span",
            null,
            (0, z.we)(
              "#MarketingMessage_PartnerPreview_Publish_Availability",
              n,
            ),
          ),
        );
      }
      function Qa(e) {
        const { disabled: t } = e;
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(
            I.$n,
            {
              className: Va().PublishButton,
              onClick: () => {
                (0, N.pg)(
                  c.createElement(Za, { gid: e.gid, refresh: e.refresh }),
                  window,
                );
              },
              disabled: t,
            },
            (0, z.we)(
              t
                ? "#MarketingMessage_PartnerPreview_Button_Wait"
                : "#MarketingMessage_PartnerPreview_Button_SetPublic",
            ),
          ),
        );
      }
      function Za(e) {
        const { gid: t, refresh: a, closeModal: n } = e,
          r = (0, B.vs)();
        if (r.bLoading)
          return c.createElement(B.Hh, {
            state: r,
            strDialogTitle: (0, z.we)(
              "#MarketingMessage_PartnerPreview_ModalTitle",
            ),
            closeModal: n,
          });
        return c.createElement(P.o0, {
          strTitle: (0, z.we)("#MarketingMessage_PartnerPreview_ModalTitle"),
          onOK: () => {
            var e;
            r.fnSetLoading(!0),
              ((e = t), Wa.Get().PartnerPublishByID(e)).then((e) => {
                e
                  ? (r.fnSetSuccess(!0),
                    r.fnSetStrSuccess(
                      (0, z.we)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicSuccess",
                      ),
                    ))
                  : (r.fnSetError(!0),
                    r.fnSetStrError(
                      (0, z.we)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicFailed",
                      ),
                    )),
                  a();
              });
          },
          onCancel: n,
        });
      }
      function en(e) {
        const { marketingMessage: t } = e,
          a = new URLSearchParams();
        return (
          a.set(
            "name",
            (0, z.we)("#MarketingMessagePreview_Email_Reminder", t.title()),
          ),
          a.set("marketingmessagepartnerpreview", t.gid()),
          a.set("start", "" + t.start_date),
          a.set(
            "description",
            (0, z.we)("#MarketingMessagePreview_Email_PreviewLink"),
          ),
          c.createElement(
            "a",
            {
              href:
                g.TS.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                a.toString(),
            },
            c.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            (0, z.we)("#MarketingMessage_PartnerPreview_DownloadReminderEvent"),
          )
        );
      }
      function tn(e) {
        const { marketingMessage: t } = e,
          [a] = (0, c.useState)(() => (0, K.c2)(t?.template_vars_json()));
        return c.createElement(
          "div",
          { className: Va().PreviewCtn },
          "mm_auto_render" == a.custom_display
            ? c.createElement(an, { marketingMessage: t, template: a })
            : c.createElement(nn, { marketingMessage: t }),
          c.createElement(rn, { marketingMessage: t }),
        );
      }
      function an(e) {
        return null;
      }
      function nn(e) {
        const { marketingMessage: t } = e;
        let a = null,
          n = 0;
        if (t.template_vars_json()) {
          const e = JSON.parse(t.template_vars_json());
          (a = e.ll_image), (n = e.last_asset_mtime || 0);
        }
        return c.createElement(
          "div",
          { className: Va().ArtPreviews },
          Boolean(a && a.english) &&
            c.createElement(
              "div",
              { className: Va().MessageImagePreview },
              c.createElement(
                "div",
                { className: Va().PreviewHeader },
                (0, z.we)("#MarketingMessage_PartnerPreview_PreviewGlobal"),
              ),
              c.createElement("img", {
                src: (0, ja.T)(t.gid(), 0, n, a.english),
              }),
            ),
          Boolean(a && a.sc_schinese) &&
            c.createElement(
              "div",
              { className: Va().MessageImagePreview },
              c.createElement(
                "div",
                { className: Va().PreviewHeader },
                (0, z.we)("#MarketingMessage_PartnerPreview_PreviewSC"),
              ),
              c.createElement("img", {
                src: (0, ja.T)(t.gid(), 29, n, a.sc_schinese),
              }),
            ),
        );
      }
      function rn(e) {
        const { marketingMessage: t } = e,
          a = (0, c.useMemo)(() => {
            const e = [];
            for (let t = 0; t < 31; ++t) {
              const a = (0, Wt.Lg)(t),
                n = (0, z.we)("#Language_" + a);
              e.push({ cc: "US", language: a, label: n });
            }
            return e;
          }, []);
        return c.createElement(
          "div",
          { className: Va().LanguagePreviewLinks },
          c.createElement(
            "div",
            { className: Va().PreviewHeader },
            (0, z.we)("#MarketingMessage_PartnerPreview_PreviewLanguages"),
          ),
          c.createElement(
            "div",
            { className: Va().PreviewButtons },
            a.map((e) =>
              c.createElement(
                I.$n,
                {
                  key: e.label,
                  className: Va().LangPreviewButton,
                  onClick: (a) => {
                    const n = `${g.TS.PARTNER_BASE_URL}marketingmessages/messagepreview/${t.gid()}/?cc=${e.cc}&l=${e.language}`;
                    a.preventDefault();
                    window
                      .open(
                        n,
                        "marketing_message",
                        "height=720,width=700,resize=yes,scrollbars=yes",
                      )
                      .focus();
                  },
                },
                e.label,
              ),
            ),
          ),
        );
      }
      var sn = a(33428);
      function ln(e) {
        const { discountEventID: t } = e,
          a = (0, sn.vV)(t);
        if (!a)
          return c.createElement(F.t, {
            string: "loading: " + t,
            size: "small",
          });
        const n = Ie.HD.GetTimeNowWithOverride();
        return c.createElement(
          "div",
          {
            className: (0, L.A)({
              [st.RowCtn]: !0,
              [st.Public]: Boolean(a.start_date <= n && a.end_date > n),
            }),
            onClick: () =>
              (window.location.href =
                g.TS.PARTNER_BASE_URL + "promotion/discountevents/edit/" + t),
          },
          c.createElement(
            "div",
            { className: (0, L.A)(st.Row, st.Primary) },
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.ItemName) },
              a.name,
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Type) },
              a.type,
            ),
            c.createElement(it.y, {
              className: (0, L.A)(st.Col, st.Date),
              rtStartDate: a.start_date,
              rtEndDate: a.end_date,
            }),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Creator) },
              a.collision_type,
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Visibility) },
              "additional notes?",
            ),
          ),
          c.createElement("div", { className: st.Row }, "todo?"),
        );
      }
      const on = (0, be.ye)(fe());
      function cn(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "discounteventdashboardtab",
              `?tab=${e.key}`,
            ),
          a = [
            {
              name: "Discount Events Table",
              key: "current",
              contents: c.createElement(T.tH, null, c.createElement(pn, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: c.createElement(T.tH, null, c.createElement(gn, null)),
              onClick: t,
            },
            {
              name: "Search all discount events",
              key: "search",
              contents: c.createElement(T.tH, null, c.createElement(_n, null)),
              onClick: t,
            },
          ];
        return c.createElement(
          "div",
          {
            className: (0, L.A)(
              Ke().Container,
              C().AdminPageCtn,
              C().WidePageCtn,
            ),
          },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Discount Event Dashboard (VO) ",
          ),
          c.createElement("hr", { className: "VO" }),
          c.createElement(
            "div",
            { className: Ke().CreateNewCtn },
            c.createElement(
              "div",
              null,
              "This page is only visible to end editable by Valve",
            ),
            c.createElement(
              "p",
              null,
              "Note: Events up to 30 days ago and any future events are shown below. Do not delete old events unless the event did not occur.",
            ),
            c.createElement(
              I.$n,
              { onClick: (e) => console.log("TODO") },
              "Create New Discount EVent",
            ),
          ),
          c.createElement(O.V, { tabs: a }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      var mn;
      function dn(e) {
        const { rgDiscountEvents: t } = (0, sn.sU)();
        if (t && e != mn.k_DisplayAll) {
          const a = Ie.HD.GetTimeNowWithOverride();
          return t.filter((t) => {
            const n = t.start_date <= a && t.end_date >= a,
              r = t.start_date > a,
              i = t.end_date < a;
            return (
              (e == mn.k_DisplayActiveAndUpcoming && Boolean(n || r)) ||
              (e == mn.k_DisplayActive && n) ||
              (e == mn.k_DisplayUpcoming && r) ||
              (e == mn.k_DisplayExpired && i)
            );
          });
        }
        return t;
      }
      function un(e) {
        const { display: t, fnSetDisplay: a } = e,
          n = [
            {
              label: "Show Active And Upcoming",
              data: mn.k_DisplayActiveAndUpcoming,
            },
            { label: "Show Active Only", data: mn.k_DisplayActive },
            { label: "Show Upcoming Only", data: mn.k_DisplayUpcoming },
            { label: "Show Expired Only", data: mn.k_DisplayExpired },
            { label: "Show All", data: mn.k_DisplayAll },
          ];
        return c.createElement(
          "div",
          { className: Ke().FilterRow },
          c.createElement(
            "div",
            { className: Ke().VisibilityFilterCtn },
            c.createElement(I.m, {
              label: "Visibility Filter",
              tooltip: "Limit the discount events based on their visibility",
              rgOptions: n,
              onChange: (e) => a(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function pn(e) {
        const [t, a] = (0, c.useState)(mn.k_DisplayActiveAndUpcoming),
          n = dn(t);
        return c.createElement(
          "div",
          null,
          c.createElement(un, { display: t, fnSetDisplay: a }),
          c.createElement("hr", null),
          c.createElement(hn, { rows: n }),
        );
      }
      function _n(e) {
        return c.createElement("div", null, "todo");
      }
      function gn(e) {
        const [t, a] = (0, c.useState)(mn.k_DisplayActiveAndUpcoming),
          n = dn(t),
          r = (0, c.useMemo)(
            () =>
              n.map((e) => ({
                allDay: !1,
                title: e.name,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                resource: e,
              })),
            [n],
          ),
          i = [be.Pp.MONTH, be.Pp.WEEK, be.Pp.DAY, be.Pp.AGENDA],
          s = Ie.HD.GetTimeNowWithOverride();
        return c.createElement(
          "div",
          null,
          c.createElement(un, { display: t, fnSetDisplay: a }),
          c.createElement("h1", null, "Calendar View of Discount Events"),
          c.createElement(be.Vv, {
            views: i,
            popup: !0,
            defaultView: "month",
            localizer: on,
            events: r,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, ye.HO)(e.resource)),
            eventPropGetter: (e) => {
              const t = e.resource;
              return {
                style: {
                  color: Boolean(t.start_date <= s && t.end_date >= s)
                    ? "green"
                    : "blue",
                },
              };
            },
          }),
          c.createElement("h1", null, "Remaining Discount Event without Dates"),
          c.createElement(hn, {
            rows: n.filter((e) => e.start_date <= s && e.end_date >= s),
          }),
        );
      }
      function hn(e) {
        const { rows: t } = e;
        return c.createElement(
          c.Fragment,
          null,
          t.map((e) =>
            c.createElement(ln, { key: e.id, discountEventID: e.id }),
          ),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayActiveAndUpcoming = 0)] = "k_DisplayActiveAndUpcoming"),
          (e[(e.k_DisplayActive = 1)] = "k_DisplayActive"),
          (e[(e.k_DisplayUpcoming = 2)] = "k_DisplayUpcoming"),
          (e[(e.k_DisplayExpired = 3)] = "k_DisplayExpired"),
          (e[(e.k_DisplayAll = 4)] = "k_DisplayAll");
      })(mn || (mn = {}));
      var En = a(34629),
        Sn = a(6144),
        yn = a(6419);
      class vn {
        m_oDiscountEvent = null;
        m_originalDiscountEvent = null;
        m_bDirty = !1;
        m_callback = new Sn.lu();
        constructor(e) {
          (0, ye.Gn)(this), this.Reset(e);
        }
        Reset(e) {
          (this.m_originalDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_oDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDiscountEvent;
        }
        GetID() {
          return this.m_oDiscountEvent.id;
        }
        GetType() {
          return this.m_oDiscountEvent.type;
        }
        GetName() {
          return this.m_oDiscountEvent.name;
        }
        GetDescription() {
          return this.m_oDiscountEvent.description;
        }
        GetStartDate() {
          return this.m_oDiscountEvent.start_date;
        }
        GetEndDate() {
          return this.m_oDiscountEvent.end_date;
        }
        GetAppIDs() {
          return this.m_oDiscountEvent.appids;
        }
        GetPublisherIDs() {
          return this.m_oDiscountEvent.publisherids;
        }
        GetCollisionType() {
          return this.m_oDiscountEvent.collision_type;
        }
        GetCutOffTime() {
          return this.m_oDiscountEvent.cutoff;
        }
        GetEventString() {
          return this.m_oDiscountEvent.event;
        }
        GetHeaderString() {
          return this.m_oDiscountEvent.header;
        }
        GetTooltip() {
          return this.m_oDiscountEvent.tooltip;
        }
        BPreventWeeklong() {
          return "on" == this.m_oDiscountEvent.prevent_weeklong;
        }
        GetPreventWeeklong() {
          return this.m_oDiscountEvent.prevent_weeklong;
        }
        GetOptInName() {
          return this.m_oDiscountEvent.opt_in_name;
        }
        SetName(e) {
          this.m_oDiscountEvent.name != e &&
            ((this.m_oDiscountEvent.name = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oDiscountEvent.start_date != e &&
            ((this.m_oDiscountEvent.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oDiscountEvent.end_date != e &&
            ((this.m_oDiscountEvent.end_date = e), this.Dispatch());
        }
        SetOptInName(e) {
          this.m_oDiscountEvent.opt_in_name != e &&
            ((this.m_oDiscountEvent.opt_in_name = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oDiscountEvent = JSON.parse(
            JSON.stringify(this.m_originalDiscountEvent),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, En.Cg)([ye.sH], vn.prototype, "m_bDirty", void 0),
        (0, En.Cg)([yn.o], vn.prototype, "SetName", null),
        (0, En.Cg)([yn.o], vn.prototype, "SetStartDate", null),
        (0, En.Cg)([yn.o], vn.prototype, "SetEndDate", null),
        (0, En.Cg)([yn.o], vn.prototype, "SetOptInName", null),
        (0, En.Cg)([yn.o], vn.prototype, "RevertChanges", null);
      var fn = a(73745);
      class bn {
        m_model = null;
        InitDiscountEventToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new vn(e)),
            this.m_model
          );
        }
        GetDiscountEventToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            bn.s_Singleton ||
              ((bn.s_Singleton = new bn()),
              "dev" == g.TS.WEB_UNIVERSE &&
                (window.g_DiscountEventEditStore = bn.s_Singleton)),
            bn.s_Singleton
          );
        }
        constructor() {}
      }
      function wn() {
        const e = (0, fn.CH)(),
          [t, a] = c.useState(bn.Get().GetDiscountEventToEdit());
        return (
          (0, fn.hL)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function Dn(e) {
        const [t] = [
            c.useCallback(
              () =>
                !!bn.Get().GetDiscountEventToEdit() &&
                bn.Get().GetDiscountEventToEdit().BIsDirty(),
              [],
            ),
            c.useCallback(() => {
              bn.Get().ClearEditModel();
            }, []),
          ],
          a = wn();
        c.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, z.we)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return c.createElement(d.XG, {
          message: (e) =>
            !a ||
            !t() ||
            e.pathname == "promotion/" + Ki.DiscountEventEditor(a.GetID()) ||
            (0, z.we)("#DailyDeals_UnsavedChanges"),
        });
      }
      function Cn(e) {
        const { discountEventID: t } = e,
          a = (0, sn.vV)(t),
          [n, r] = c.useState(!1);
        if (
          (c.useEffect(() => {
            a && (bn.Get().InitDiscountEventToEdit(a), r(!0));
          }, [a, t]),
          !a)
        )
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, "Cannot find discount event ", t),
            c.createElement(
              m.N_,
              { to: Ki.DiscountEventDashboard() },
              "Return to discount event dashboard",
            ),
          );
        if (!n)
          return c.createElement(F.t, {
            size: "medium",
            position: "center",
            string: (0, z.we)("#Loading"),
          });
        const i = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          s = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: c.createElement(T.tH, null, c.createElement(In, null)),
              onClick: i,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: c.createElement(T.tH, null, c.createElement(Bn, null)),
              onClick: i,
            },
          ];
        return c.createElement(
          "div",
          { className: C().AdminPageCtn },
          c.createElement(Dn, null),
          c.createElement(
            "div",
            { className: ie.ButtonRow },
            c.createElement(
              m.N_,
              {
                to: Ki.DiscountEventDashboard(),
                className: (0, L.A)(C().DashLink, ie.DashLink),
              },
              c.createElement(G.i3G, { angle: 270 }),
              c.createElement(
                "div",
                null,
                "Return to Discount Event Dashboard",
              ),
            ),
            c.createElement(
              "a",
              {
                href: ot.TS.PARTNER_BASE_URL + "promotion/planning/dashboard",
                className: (0, L.A)(C().DashLink, ie.DashLink),
              },
              c.createElement(
                "div",
                null,
                "Go to Promotion Planning Dashboard",
              ),
            ),
          ),
          c.createElement(O.V, { tabs: s }),
          c.createElement("div", { className: R().ClearThings }),
        );
      }
      function In(e) {
        wn();
        return c.createElement(
          "div",
          { className: ie.EditCtn },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Discount Event ",
            c.createElement("span", null, "Edit Details"),
          ),
          c.createElement("hr", null),
          c.createElement(
            "div",
            null,
            "This page is only visible to and editable by Valve",
          ),
          c.createElement("br", null),
          c.createElement(
            "div",
            { className: C().ColumnCtn },
            c.createElement("div", { className: C().LeftCol }),
          ),
        );
      }
      function Bn(e) {
        const t = wn(),
          a = t.BIsDirty();
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "Debug Panel"),
          c.createElement("hr", null),
          c.createElement("div", null, "Is dirty?: ", a),
          c.createElement(p.G, { data: t.GetModel() }),
        );
      }
      var Tn = a(67239),
        Mn = a(562),
        An = a(48996),
        kn = a(89269),
        Rn = a(32179),
        Pn = a(33543),
        Nn = a(58632),
        Gn = a.n(Nn);
      const On = c.createContext({
        loadAppPromoSaleFeaturing: async (e, t) =>
          await (function (e) {
            Ln ||
              (Ln = new (Gn())(
                async (t) => {
                  const a = Ua.w.Init(Pn.rL);
                  a.Body().set_appids([...t]),
                    a.Body().set_exclude_direct_featuring(!0),
                    a.Body().set_exclude_sales(!1);
                  const n = await Pn.WZ.GetAllPlansForApps(e, a);
                  if (!n.BSuccess())
                    throw `Failed to load app featuring on promo plans details: ${n.GetErrorMessage()}`;
                  const r = new Map();
                  n.Body()
                    .plans()
                    .forEach((e) => {
                      const t = e.toObject();
                      (0, W.Ob)(t);
                      const a = JSON.parse(t.admin_jsondata);
                      a.sale_clan_event_gid &&
                        (r.has(a.sale_clan_event_gid)
                          ? r.get(a.sale_clan_event_gid).push(t.promotion_id)
                          : r.set(a.sale_clan_event_gid, [t.promotion_id]));
                    });
                  const i = new Map();
                  return (
                    n
                      .Body()
                      .apps_included_in_sales()
                      .forEach((e) => {
                        const t = e.toObject();
                        t.appids.forEach((e) => {
                          i.has(e) || i.set(e, new Array());
                          const a = r.get(t.clan_event_gid);
                          a && a.forEach((t) => i.get(e).push(t));
                        });
                      }),
                    t.map((e) => i.get(e) ?? null)
                  );
                },
                { maxBatchSize: 10 },
              ));
            return Ln;
          })(t).load(e),
      });
      function Fn(e, t, a) {
        return {
          queryKey: ["AppFeaturedOnPromoPlan", a],
          queryFn: () => e.loadAppPromoSaleFeaturing(a, t),
          enabled: !!a,
        };
      }
      let Ln;
      var Un = a(45325),
        zn = a(29233),
        xn = a(62490);
      class qn {
        m_mapPartnerToContactInfo = new Map();
        m_mapPromisePartnerLoading = new Map();
        async FetchValvePartnerContacts(e) {
          const t =
              g.TS.PARTNER_BASE_URL + "actions/ajaxgetpartnervalvecontacts",
            a = { sessionid: g.TS.SESSIONID, strPartnerIDs: e.join(",") },
            n = await mt().get(t, { params: a, withCredentials: !0 });
          return 200 == n?.status && 1 == n?.data.success
            ? n.data.contacts
            : [];
        }
        async LoadValvePartnerContact(e) {
          return e
            ? this.m_mapPartnerToContactInfo.has(e)
              ? this.m_mapPartnerToContactInfo.get(e)
              : (this.m_mapPromisePartnerLoading.has(e) ||
                  this.m_mapPromisePartnerLoading.set(
                    e,
                    this.InternalLoadValvePartnerContact(e),
                  ),
                this.m_mapPromisePartnerLoading.get(e))
            : [];
        }
        async InternalLoadValvePartnerContact(e) {
          return this.FetchValvePartnerContacts([e]);
        }
        static s_Singleton;
        static Get() {
          return (
            qn.s_Singleton ||
              ((qn.s_Singleton = new qn()),
              qn.s_Singleton.Init(),
              "dev" == g.TS.WEB_UNIVERSE &&
                (window.g_PartnerValveContactStore = qn.s_Singleton)),
            qn.s_Singleton
          );
        }
        Init() {
          const e = (0, g.Fd)(
            "partner_valve_contact_list",
            "application_config",
          );
          e &&
            e.forEach((e) => {
              this.m_mapPartnerToContactInfo.has(e.partnerid)
                ? this.m_mapPartnerToContactInfo.get(e.partnerid).push(e)
                : this.m_mapPartnerToContactInfo.set(e.partnerid, [e]);
            });
        }
      }
      function Wn(e, t, a) {
        const [n, r] = (0, c.useState)(null),
          i = (function (e) {
            const { data: t, isLoading: a } = (0, za.I)({
              queryKey: ["PartnerValveContactByPartnerID", e],
              queryFn: () => qn.Get().LoadValvePartnerContact(e),
            });
            return a ? null : t;
          })(e);
        return (
          (0, c.useEffect)(() => {
            if (i?.length > 0) {
              const e = i
                .filter((e) => !e.appid || e.appid == t)
                .filter(
                  (e) =>
                    "any" == a ||
                    ("business" == a && e.is_business_contact) ||
                    ("tech" == a && e.is_tech_contact),
                )
                .map((e) => new zn.b2(e.steamid).GetAccountID());
              r(xn.Ew(e));
            }
          }, [i, t, a]),
          n
        );
      }
      var jn = a(88997),
        Hn = a(9690),
        Vn = a.n(Hn),
        Kn = a(68451),
        Yn = a(94095),
        $n = a(8905),
        Jn = a(51272),
        Xn = a(14771),
        Qn = a(24484),
        Zn = a(38964),
        er = a(51134),
        tr = a(18949);
      function ar(e) {
        const { strLabel: t, strToolTip: a, fnSetPartner: n, className: r } = e,
          { fnFindPartnerByName: i } = (0, Rn.rN)(),
          s = (0, c.useRef)(null),
          l = (0, c.useRef)(null),
          o = (0, c.useRef)(0),
          m = (0, c.useRef)(void 0);
        (0, c.useEffect)(
          () => () => {
            window.clearTimeout(o.current),
              s.current && s.current("SearchForPartner: unmounting"),
              l.current && l.current.Hide();
          },
          [],
        );
        const d = (0, c.useCallback)(
          async (e) => {
            const t = e.target.value;
            t &&
              0 != t.trim().length &&
              (window.clearTimeout(o.current),
              s.current && s.current("SearchForPartner: new request"),
              (o.current = window.setTimeout(async () => {
                const e = mt().CancelToken.source();
                s.current = e.cancel;
                try {
                  const a = await i(t);
                  if (e.token.reason) return;
                  l.current = (0, jn.lX)(
                    c.createElement(nr, { list: a, fnSetPartner: n }),
                    m.current.element,
                    {
                      bOverlapHorizontal: !0,
                      bMatchWidth: !0,
                      bFitToWindow: !0,
                      bDisablePopTop: !0,
                      bNoFocusWhenShown: !0,
                      bSkipFocusWhenReady: !0,
                    },
                  );
                } catch (t) {
                  if (e.token.reason) return;
                  const a = (0, j.H)(t);
                  console.log(
                    "SearchForPartner.SearchPartnerStore error " +
                      a.strErrorMsg,
                    a,
                  );
                }
              }, 300)));
          },
          [i, n],
        );
        return c.createElement(
          T.tH,
          null,
          c.createElement(I.pd, {
            type: "text",
            label: t,
            className: r,
            placeholder: "Search partner names",
            onChange: d,
            onBlur: (e) => setTimeout(() => l.current && l.current.Hide(), 200),
            ref: m,
            tooltip: a,
          }),
        );
      }
      function nr(e) {
        const { list: t, fnSetPartner: a } = e;
        return c.createElement(
          Kn.tz,
          { className: tr.SearchResults },
          t.map((e) =>
            c.createElement(
              Kn.kt,
              { key: "curatorresult" + e.partnerid, onSelected: () => a(e) },
              c.createElement(
                "div",
                { style: { display: "flex", alignItems: "center" } },
                e.name,
                " (",
                e.partnerid,
                ")",
              ),
            ),
          ),
        );
      }
      var rr = a(90710),
        ir = a(89582),
        sr = a(43733),
        lr = a(87937);
      class or {
        m_mapAppToPartners = new Map();
        GetMap() {
          return this.m_mapAppToPartners;
        }
        static s_Singleton;
        static Get() {
          return (
            or.s_Singleton ||
              ((or.s_Singleton = new or()), or.s_Singleton.Init()),
            or.s_Singleton
          );
        }
        constructor() {}
        Init() {
          (0, Qn.Tc)("app_paid_publishers", "application_config").forEach(
            (e) => {
              this.m_mapAppToPartners.has(e.appid) ||
                this.m_mapAppToPartners.set(e.appid, new Array()),
                this.m_mapAppToPartners.get(e.appid).push(...e.publisherid);
            },
          );
        }
      }
      function cr(e) {
        const t = (function () {
          const [e, t] = (0, c.useState)(() => or.Get().GetMap());
          return e;
        })();
        return (0, c.useMemo)(() => (e && t.has(e) ? t.get(e) : []), [e, t]);
      }
      const mr = 60;
      function dr(e) {
        return c.createElement(
          "div",
          {
            className: (0, L.A)(
              Ke().Container,
              C().AdminPageCtn,
              C().WidePageCtn,
            ),
          },
          c.createElement(
            "div",
            { className: (0, L.A)(C().PageTitle, Vn().PageTitle) },
            c.createElement("div", null, "Promo Invitation Planner (VO)"),
            c.createElement(sr._, null),
          ),
          c.createElement("hr", { className: "VO" }),
          c.createElement(gr, null),
        );
      }
      const ur = 180 * Xn.Kp.PerDay,
        pr = 90 * Xn.Kp.PerDay;
      function _r(e) {
        if (e.freetoplay) return !0;
        return (
          null != e.tagids.split(",").find((e) => "113" == e) ||
          !(0, kn.wC)(e.appid)
        );
      }
      function gr(e) {
        const t = (0, Un.tS)(),
          a = (0, c.useMemo)(
            () =>
              [...t].sort(
                (e, t) =>
                  (e.modified_sales_rank > 0 ? e.modified_sales_rank : 1e5) -
                  (t.modified_sales_rank > 0 ? t.modified_sales_rank : 1e5),
              ),
            [t],
          ),
          n = (0, Un.kK)(),
          [r] = (0, we.QD)("appidlist", ""),
          [i] = (0, we.QD)("partneridlist", ""),
          [s] = (0, we.QD)("saleclaneventgid", ""),
          [l] = (0, we.QD)("saleclanaccountid", ""),
          [o] = (0, we.QD)("bundleid", ""),
          m =
            r?.length > 0 ||
            i?.length > 0 ||
            (s?.length > 0 && l?.length > 0) ||
            o?.length > 0,
          [d, u] = (0, we.QD)("freetoplay", m),
          [p, _] = (0, we.QD)("adultonly", m),
          [g, h] = (0, we.QD)("earlyaccess", !0),
          [E, S] = (0, we.QD)("recentorupcomingfeaturing", m),
          [y, v] = (0, we.QD)("recentorupcomingrelease", m),
          [f, w] = (0, we.QD)("vr_required", m),
          [D, C] = (0, we.QD)("unfeatured", !1),
          [B, M] = (0, we.QD)("unassigned", !1),
          [A, k] = (0, we.QD)("noactivecooldown", !1),
          [R, P] = (0, we.QD)("software", !0),
          [N, G] = (0, we.QD)("excludetags", ""),
          [O, F] = (0, we.QD)("requiretags", ""),
          [L, U] = (0, we.QD)("rt_feature_start", 0),
          [z, x] = (0, we.QD)("rt_feature_end", 0),
          q = (e, t, a, n) => {
            const r = a.split(","),
              i = r.findIndex((t) => t == e.toString());
            if (t && -1 == i) {
              let t = a;
              t.length > 0 && (t += ","), n(t + e);
            } else t || -1 == i || (r.splice(i, 1), n(r.toString()));
          },
          [W, j] = (0, c.useMemo)(() => {
            if (p && d && g && E && y && f && !D && R && !N)
              return [[...a], a.map((e) => e.appid)];
            const e = Math.floor(Date.now() / 1e3) - pr,
              t = Math.floor(Date.now() / 1e3) - ur,
              r = new Set(N.split(",")),
              i = new Set(O.split(",")),
              s = a.filter((a) => {
                if (!p && a.content_descriptors?.includes(3)) return !1;
                if (!d && _r(a)) return !1;
                if (!g && a.earlyaccess) return !1;
                if (
                  !y &&
                  Math.floor(new Date(a.release_date).getTime() / 1e3) > e
                )
                  return !1;
                if (!E || D) {
                  const e = (function (e, t) {
                    let a = 0;
                    const n = (0, b.FT)(t.appid, 0);
                    return e.mapStoreItemToInvites
                      .get(n)
                      ?.filter((e) => (0, Un.IA)(e))?.length > 0
                      ? Math.floor(Date.now() / 1e3)
                      : (e.mapStoreItemToDailyDeals.get(n)?.forEach((e) => {
                          e.rtime32_start_time > a &&
                            (a = e.rtime32_start_time);
                        }),
                        e.mapStoreItemToPlans.get(n)?.forEach((e) => {
                          "assetrequest" != e.type &&
                            e.start_date > a &&
                            (a = e.start_date);
                        }),
                        a);
                  })(n, a);
                  if (!E && e > t) return !1;
                  if (D && 0 != e) return !1;
                }
                if (!f && a.vr_required) return !1;
                if (!R && "software" == a.type) return !1;
                if (N) {
                  if (a.tagids.split(",").filter((e) => r.has(e)).length > 0)
                    return !1;
                }
                if (O) {
                  let e = a.tagids.split(",");
                  if (i.size != e.filter((e) => i.has(e)).length) return !1;
                }
                return !0;
              });
            return [s, s.map((e) => e.appid)];
          }, [a, d, p, g, D, y, f, E, n, R, N, O]);
        "dev" == ot.TS.WEB_UNIVERSE &&
          console.log("DEV_DEBUG: candidates apps", a, W);
        const H =
          (d ? "&freetoplay=true" : "") +
          (p ? "&adultonly=true" : "") +
          (g ? "" : "&earlyaccess=false") +
          (E ? "&recentorupcomingfeaturing=true" : "") +
          (y ? "&recentorupcomingrelease=true" : "") +
          (f ? "&vr_required=true" : "") +
          (D ? "&unfeatured=true" : "") +
          (s ? "&saleclaneventgid=" + s : "") +
          (l ? "&saleclanaccountid=" + l : "") +
          (i ? "&partneridlist=" + i : "") +
          (R ? "" : "&software=false") +
          (B ? "&unassigned=true" : "") +
          (A ? "&noactivecooldown=true" : "") +
          (N ? "&excludetags=" + N : "") +
          (O ? "&requiretags=" + O : "") +
          (o ? "&bundleid=" + o : "") +
          (z && L ? "&rt_feature_start=" + L + "&rt_feature_end=" + z : "");
        return c.createElement(
          T.tH,
          null,
          c.createElement(
            "div",
            { className: Vn().FilterRow },
            c.createElement(
              "div",
              { className: Vn().FiltersWrap },
              c.createElement(I.Yh, {
                label: "EA",
                className: Vn().Filter,
                tooltip: "Early Access games",
                checked: g,
                onChange: h,
              }),
              c.createElement(I.Yh, {
                label: "F2P",
                className: Vn().Filter,
                checked: d,
                onChange: u,
              }),
              c.createElement(I.Yh, {
                label: "AO",
                className: Vn().Filter,
                checked: p,
                onChange: _,
              }),
              c.createElement(I.Yh, {
                label: "VR",
                className: Vn().Filter,
                checked: f,
                onChange: w,
                tooltip:
                  "Include games that require VR to play? Does not affect desktop games that also have VR support",
              }),
              c.createElement(I.Yh, {
                label: "New Release",
                className: Vn().Filter,
                tooltip:
                  "Include games released in the past 3 months or future?",
                checked: y,
                onChange: v,
              }),
              c.createElement(I.Yh, {
                label: "Recent/Future Featuring",
                className: Vn().Filter,
                tooltip:
                  "Include games featured in the future, now, or within the past 6 months?",
                checked: E,
                onChange: S,
              }),
              c.createElement(I.Yh, {
                label: "Software",
                className: Vn().Filter,
                checked: R,
                onChange: P,
                tooltip: "Include apps that are the software type.",
              }),
              c.createElement(I.Yh, {
                label: "Unfeatured Only",
                className: Vn().Filter,
                checked: D,
                onChange: C,
                tooltip:
                  "Only shows game that we do not have any recorded featuring for.",
              }),
              c.createElement(I.Yh, {
                label: "No Valve Contact Only",
                className: Vn().Filter,
                checked: B,
                onChange: (e) => {
                  M(e), window.location.reload();
                },
                tooltip: "Only shows games that do not have a Valve contact.",
              }),
              c.createElement(I.Yh, {
                label: "No Active Coolodwn Only",
                className: Vn().Filter,
                checked: A,
                onChange: (e) => {
                  k(e), window.location.reload();
                },
                tooltip:
                  "Only shows games that do not have an active discount cooldown.",
              }),
            ),
            c.createElement(
              "div",
              { className: Vn().CollectionControlsContainer },
              c.createElement(
                "div",
                { className: Vn().Filter },
                c.createElement(Fr, {
                  strLabel: "Exclude Tag",
                  fnOnTagSelected: (e, t) => {
                    q(e, t, N, G);
                  },
                  strSelectedTagIDs: N,
                }),
              ),
              c.createElement(
                "div",
                { className: Vn().Filter },
                c.createElement(Fr, {
                  strLabel: "Require Tag",
                  fnOnTagSelected: (e, t) => {
                    q(e, t, O, F);
                  },
                  strSelectedTagIDs: O,
                }),
              ),
              c.createElement(hr, null),
            ),
            c.createElement(Lr, {
              rtUpcomingFeatureStart: L,
              rtUpcomingFeatureEnd: z,
              setUpcomingFeatureStart: U,
              setUpcomingFeatureEnd: x,
              strQueryPlan: H,
            }),
          ),
          c.createElement(Sr, { nDisplayedApps: j.length, strQueryParams: H }),
          c.createElement(yr, {
            rgCandidateApps: W,
            rgAppIDs: j,
            oFeaturingMaps: n,
            rtUpcomingFeatureStart: L,
          }),
          c.createElement(Sr, { nDisplayedApps: j.length, strQueryParams: H }),
        );
      }
      function hr(e) {
        return c.createElement(
          c.Fragment,
          null,
          c.createElement(ar, {
            strLabel: "By Partner",
            className: Vn().Filter,
            strToolTip:
              "Show the invitation data but limited to the specific partner",
            fnSetPartner: (e) =>
              (0, Jn.Id)(
                window,
                `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?partneridlist=${e.partnerid}`,
              ),
          }),
          c.createElement(rr.h, {
            itemType: 0,
            className: Vn().Filter,
            strLabel: "Find an App",
            tooltip: "Loads the page with the app specified",
            fnSetItemID: (e) =>
              (0, Jn.Id)(
                window,
                `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              ),
            bShowDLCToggle: !0,
          }),
          c.createElement(rr.h, {
            itemType: 2,
            className: Vn().Filter,
            strLabel: "Find a Bundle",
            tooltip:
              "Loadsthe bundle specified and pulls all of its underlying apps",
            fnSetItemID: (e) =>
              (0, Jn.Id)(
                window,
                `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?bundleid=${e}`,
              ),
          }),
          c.createElement(
            "div",
            { className: Vn().AppInputCtn },
            c.createElement(I.JU, null, "Multiple Apps"),
            c.createElement(
              I.$n,
              {
                onClick: (e) =>
                  (0, N.pg)(c.createElement(Er, null), (0, U.uX)(e)),
              },
              "Look Up Multiple Apps...",
            ),
          ),
        );
      }
      function Er(e) {
        const { closeModal: t } = e,
          [a, n] = c.useState("");
        return c.createElement(
          P.o0,
          {
            strTitle: "View App List",
            strDescription:
              "Opens an invitation page with the apps list below.",
            onCancel: t,
            onOK: () => {
              const e = a
                .replace(/[\n,]/g, "|")
                .split("|")
                .map((e) => {
                  const t = Number.parseInt(e);
                  return t > 0 ? t : null;
                })
                .filter(Boolean)
                .join(",");
              (0, Jn.Id)(
                window,
                `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              );
            },
            bOKDisabled: 0 == a.trim().length,
          },
          c.createElement(
            "div",
            null,
            "Enter App IDs seperated by commas or new lines:",
          ),
          c.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => n(e.currentTarget.value),
            value: a,
            autoFocus: !0,
          }),
        );
      }
      function Sr(e) {
        const { nDisplayedApps: t, strQueryParams: a } = e,
          [n] = (0, we.QD)("start", 1),
          [r] = (0, we.QD)("count", 50),
          [i] = (0, c.useState)(
            () => Boolean((0, Qn.Tc)("rank_range", "application_config")) || !1,
          ),
          [s] = (0, c.useState)(() =>
            (0, Qn.Tc)("rank_range_size", "application_config"),
          ),
          [l] = (0, c.useState)(() =>
            (0, Qn.Tc)("total_apps", "application_config"),
          ),
          o = i || l > r,
          m = !!i || n + r - 1 < l,
          d = i ? n + s : n + r;
        let u = null;
        if (i)
          u = c.createElement(
            "div",
            null,
            "Showing ",
            t,
            " Apps between Long Term Sales rank ",
            n,
            " to ",
            n + (s - 1),
            ".",
          );
        else if (o) {
          const e = m ? n + (r - 1) : l;
          u = c.createElement(
            "div",
            null,
            "Showing ",
            t,
            " Apps between ",
            n,
            " to ",
            e,
            " of ",
            l,
            " total",
          );
        } else u = c.createElement("div", null, "Showing ", t, " Apps of ", l);
        return c.createElement(
          "div",
          { className: Vn().PagingRow },
          Boolean(o) &&
            c.createElement(
              c.Fragment,
              null,
              c.createElement(
                "a",
                {
                  href:
                    n > 0
                      ? `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${Te.OQ(n - r, 0, Number.MAX_SAFE_INTEGER)}&count=${r}${a}`
                      : "#",
                },
                c.createElement(I.$n, { disabled: n <= 1 }, "<", " Prev Page"),
              ),
              c.createElement(
                "a",
                {
                  href: m
                    ? `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${d}&count=${r}${a}`
                    : "#",
                },
                c.createElement(I.$n, { disabled: !m }, "Next Page ", ">"),
              ),
            ),
          u,
        );
      }
      function yr(e) {
        const {
            rgCandidateApps: t,
            rgAppIDs: a,
            oFeaturingMaps: n,
            rtUpcomingFeatureStart: r,
          } = e,
          i = (0, Ie.f1)(),
          s = i - Xn.Kp.PerDay * (mr + 1),
          l = (0, Sa.qX)(s, i - Xn.Kp.PerDay, a),
          o = (function () {
            const [e] = (0, c.useState)(() =>
              (0, Qn.Tc)("upcoming_discount_app_details", "application_config"),
            );
            return (0, c.useMemo)(() => {
              const t = new Map();
              return e?.length > 0 && e.forEach((e) => t.set(e.appid, e)), t;
            }, [e]);
          })();
        return c.createElement(
          "table",
          { className: (0, L.A)(Vn().CandidateTable, "landingTable") },
          c.createElement(
            "thead",
            null,
            c.createElement(
              "tr",
              null,
              c.createElement("th", { colSpan: 5 }),
              c.createElement(
                "th",
                { colSpan: 2, className: (0, L.A)(Vn().CandidateHeader) },
                "Trailing ",
                mr,
                " days",
              ),
              c.createElement("th", null),
            ),
            c.createElement(
              "tr",
              null,
              c.createElement("th", null, "Rank"),
              c.createElement(
                "th",
                null,
                c.createElement(
                  "div",
                  { className: Vn().ModRankHeaderContent },
                  "Mod Rank ",
                  c.createElement(
                    "div",
                    { className: Vn().HeaderDownArrowSVG },
                    c.createElement(G.GB9, null),
                  ),
                ),
              ),
              c.createElement("th", null, "Game"),
              c.createElement("th", null, "Last Discount and Featuring"),
              c.createElement("th", null, "Deepest Discount"),
              c.createElement("th", null, "Package Rev"),
              c.createElement("th", null, "Days in Discount"),
              c.createElement("th", null, "actions"),
            ),
          ),
          c.createElement(
            "tbody",
            null,
            t.map((e) =>
              c.createElement(vr, {
                key: e.appid,
                appInfo: e,
                oFeaturingMaps: n,
                oRevenueSummary: l,
                rtUpcomingFeatureStart: r,
                oUpcomingAppDiscountInfo: o.get(e.appid),
              }),
            ),
          ),
        );
      }
      function vr(e) {
        const {
            appInfo: t,
            oFeaturingMaps: a,
            oRevenueSummary: n,
            oUpcomingAppDiscountInfo: r,
            rtUpcomingFeatureStart: i,
          } = e,
          s = Date.now() / 1e3,
          l = !i || i > s;
        return c.createElement(
          "tr",
          { className: Vn().CandidateRow },
          c.createElement(
            "td",
            { className: Vn().SalesRank },
            t.long_term_sales_rank,
          ),
          c.createElement(
            "td",
            { className: Vn().SalesRank },
            t.modified_sales_rank >= 0 ? t.modified_sales_rank : "",
          ),
          c.createElement(
            "td",
            null,
            c.createElement(Tr, { appInfo: t }),
            c.createElement(Gr, { appInfo: t }),
          ),
          c.createElement(
            "td",
            null,
            c.createElement(
              "div",
              null,
              Boolean(r) &&
                c.createElement(br, { oUpcomingAppDiscountInfo: r }),
              c.createElement(Rr, { appInfo: t }),
              c.createElement(Ar, { appInfo: t, oFeaturingMaps: a }),
            ),
          ),
          c.createElement("td", null, c.createElement(Pr, { appInfo: t })),
          c.createElement(
            "td",
            null,
            c.createElement(
              "div",
              { className: Vn().ModifiedRevenue },
              c.createElement(
                "div",
                null,
                "Gross: ",
                Boolean(n)
                  ? (0, er.xE)(
                      n.GetAppSaleSummary(t.appid)?.gross_sales_usd / 100 || 0,
                    )
                  : c.createElement(F.t, { size: "small" }),
              ),
              c.createElement(
                "div",
                null,
                "Mod Gross: ",
                (0, er.xE)(t.app_revenue / 1e4 || 0),
              ),
              c.createElement(
                "div",
                null,
                "Mod Adj: ",
                (0, er.xE)(t.modified_app_revenue / 1e4 || 0),
              ),
            ),
          ),
          c.createElement(
            "td",
            { className: Vn().DaysInDiscount },
            c.createElement(wr, { appInfo: t }),
          ),
          c.createElement(
            "td",
            { className: Vn().InviteActions },
            l && c.createElement(Cr, { appInfo: t, oFeaturingMaps: a }),
          ),
        );
      }
      function fr(e) {
        return new Intl.NumberFormat("en-US", {
          style: "currency",
          currency: "USD",
          minimumFractionDigits: 2,
          maximumFractionDigits: 2,
        }).format(e / 100);
      }
      function br(e) {
        const { oUpcomingAppDiscountInfo: t } = e,
          [a] = (0, w.Gg)(t.cheapest_package_id, {});
        return c.createElement(
          "div",
          null,
          c.createElement("div", null, "Upcoming: ", t.cheapest_discount_name),
          c.createElement(Zn.ek, {
            startTimestamp: t.rtime_discount_start,
            endTimestamp: t.rtime_discount_end,
            largeDate: !1,
          }),
          c.createElement(
            "div",
            null,
            "Cheapest Package: ",
            a?.GetName() || "",
            " (",
            t.cheapest_package_id,
            ")",
          ),
          c.createElement(Yn.Bq, {
            bSingleLineMode: !0,
            nBaseDiscountPercentage: 0,
            nDiscountPercentage: t.discount_percentage,
            strBestPurchaseOriginalPriceFormatted: fr(
              t.package_original_price_usd,
            ),
            strBestPurchasePriceFormatted: fr(t.discounted_price_usd),
            bIsPrePurchase: !1,
            bHideDiscountPercentForCompliance: !1,
            bShowNewFlag: !1,
          }),
          Boolean(t.num_discounted_packages > 1) &&
            c.createElement(
              "div",
              null,
              "Includes ",
              t.num_discounted_packages,
              " additional packages",
            ),
        );
      }
      function wr(e) {
        const { appInfo: t } = e,
          a = (0, kn.UQ)(t.appid);
        return a
          ? c.createElement(
              ge.Q,
              { rgPackagesToLoad: a, size: "small" },
              c.createElement(Dr, { rgPackageIDs: a }),
            )
          : c.createElement(F.t, { string: "Loading Packages", size: "small" });
      }
      function Dr(e) {
        const { rgPackageIDs: t } = e,
          a = (0, Ie.f1)(),
          n = a - Xn.Kp.PerDay * (mr + 1),
          { nDaysInDiscount: r } = (0, An.Fk)(t, n, a - Xn.Kp.PerDay);
        return c.createElement(c.Fragment, null, r);
      }
      function Cr(e) {
        const { appInfo: t, oFeaturingMaps: a } = e,
          n = (0, b.FT)(t.appid, 0),
          r = a.mapStoreItemToInvites.get(n);
        return r?.filter((e) => (0, Un.IA)(e)).length > 0
          ? c.createElement(
              Pe.he,
              {
                toolTipContent:
                  "We already have an open promotion invitation to this app",
              },
              "Awaiting Response",
            )
          : c.createElement(
              "div",
              null,
              c.createElement(
                I.jn,
                {
                  onClick: (e) =>
                    (0, N.pg)(
                      c.createElement(ir.V, {
                        storeItemType: 0,
                        storeItemID: t.appid,
                      }),
                      (0, U.uX)(e),
                    ),
                },
                "Invite...",
              ),
            );
      }
      const Ir = "en-US",
        Br = { month: "long", day: "numeric", year: "numeric" };
      function Tr(e) {
        const { appInfo: t } = e,
          a = new Date(t.release_date),
          n = (0, c.useMemo)(() => ({ id: t.appid, type: t.type }), [t]),
          r = (0, kn.UQ)(t.appid),
          i = (0, kn.Mb)(t.appid),
          s = new Date(t.release_date).getTime() / 1e3;
        return c.createElement(
          "div",
          { className: Vn().AppCtn },
          c.createElement(
            ya.Qf,
            {
              item: n,
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            c.createElement("img", {
              className: Vn().AppImgCtn,
              src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${t.appid}/capsule_231x87.jpg`,
              loading: "lazy",
              alt: t.name,
            }),
          ),
          c.createElement(
            "div",
            null,
            c.createElement(
              "div",
              { className: Vn().AppName },
              c.createElement(
                "a",
                {
                  href: `${ot.TS.PARTNER_BASE_URL}apps/landing/${t.appid}`,
                  target: "_blank",
                },
                t.name,
                " (",
                t.appid,
                ")",
              ),
              c.createElement("br", null),
              Boolean(_r(t)) &&
                c.createElement(
                  "span",
                  { className: Vn().F2p },
                  "Free to Play",
                ),
              Boolean(t.earlyaccess) &&
                c.createElement("span", { className: Vn().Ea }, "Early Access"),
              Boolean(t.vr_required) &&
                c.createElement(
                  "span",
                  { className: Vn().VrRequired },
                  "VR Required",
                ),
              Boolean(t.vr_support && !t.vr_required) &&
                c.createElement(
                  "span",
                  { className: Vn().VrSupported },
                  "VR Supported",
                ),
              Boolean(t.content_descriptors?.includes(3)) &&
                c.createElement("span", { className: Vn().Ao }, "Adult Only"),
            ),
            Boolean("game" != t.type) &&
              c.createElement(
                "div",
                { className: Vn().AppType },
                "App Type: ",
                t.type,
              ),
            c.createElement(
              "div",
              null,
              "Released: ",
              c.createElement(
                "b",
                null,
                c.createElement(
                  Pe.he,
                  {
                    toolTipContent: a.toLocaleDateString(Ir, Br),
                    className: Vn().Inline,
                  },
                  (0, z.$z)(s),
                ),
              ),
            ),
            c.createElement(
              "div",
              null,
              "Reviews: ",
              t.reviews_filtered_positive,
              " / ",
              t.reviews_filtered_negative + t.reviews_filtered_positive,
              "; score: ",
              t.reviews_filtered_score,
            ),
            c.createElement(
              "div",
              null,
              r?.length || 0,
              " packages: Lowest USD ",
              (0, er.FY)(i / 100),
            ),
          ),
        );
      }
      function Mr(e) {
        switch (e) {
          case 1:
            return "Daily Deal";
          case 2:
            return "Midweek Deal";
          case 3:
            return "Weekend Deal";
        }
        return "Uknown (" + e + ")";
      }
      function Ar(e) {
        const { appInfo: t, oFeaturingMaps: a } = e,
          {
            mapStoreItemToPlans: n,
            mapStoreItemToDailyDeals: r,
            mapStoreItemToMMs: i,
            mapStoreItemToInvites: s,
          } = a,
          l = (0, b.FT)(t.appid, 0),
          o = n.get(l)?.sort((e, t) => t.start_date - e.start_date),
          m = r
            .get(l)
            ?.sort((e, t) => t.rtime32_start_time - e.rtime32_start_time),
          d = s
            .get(l)
            ?.filter((e) => 1 == e.type || 2 == e.type || 3 == e.type),
          u = i
            .get(l)
            ?.filter((e) => !a.mapMMFeaturedInPlans.has(e.gid))
            .sort((e, t) => t.start_date - e.start_date),
          p = (function (e) {
            const t = (0, Be.a)(),
              a = c.useContext(On);
            return (0, za.I)(Fn(a, t, e));
          })(t.appid)
            ?.data?.map(W.VJ)
            .filter(Boolean)
            .sort((e, t) => t.start_date - e.start_date),
          _ = Date.now() / 1e3,
          g = Date.now() / 1e3 - 1578e4,
          h = (0, c.useMemo)(() => {
            const e = new Array();
            return (
              p?.forEach((t) =>
                e.push({ date: t.start_date, type: "sp", promo: t }),
              ),
              o?.forEach((t) =>
                e.push({ date: t.start_date, type: "pp", promo: t }),
              ),
              m?.forEach((t) =>
                e.push({ date: t.rtime32_start_time, type: "dd", promo: t }),
              ),
              u?.forEach((t) =>
                e.push({ date: t.start_date, type: "mm", promo: t }),
              ),
              d?.forEach((t) =>
                e.push({ date: t.rtinvitetime, type: "invite", promo: t }),
              ),
              e.sort((e, t) => (t.date ?? 0) - (e.date ?? 0))
            );
          }, [m, u, o, p, d]);
        return c.createElement(
          c.Fragment,
          null,
          Boolean(d || p || o || m || u) &&
            c.createElement(
              "div",
              { className: Vn().RecentPromos },
              h.map((e) => {
                if ("sp" == e.type) {
                  const t = e.promo;
                  return c.createElement(
                    "div",
                    {
                      key: "saleplan_" + t.id,
                      className: (0, L.A)(
                        Vn().Promo,
                        t.start_date > _ ? Vn().Upcoming : "",
                        t.start_date > g ? Vn().Recent : "",
                      ),
                    },
                    c.createElement(
                      "a",
                      {
                        href: `${ot.TS.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      c.createElement(
                        "b",
                        null,
                        (0, z.$z)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      c.createElement(
                        "b",
                        null,
                        Tn.W7.get(t.type),
                        " Sale Page",
                      ),
                      " ",
                      c.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("pp" == e.type) {
                  const t = e.promo;
                  return c.createElement(
                    "div",
                    {
                      key: "plan_" + t.id,
                      className: (0, L.A)(
                        Vn().Promo,
                        t.start_date > _ ? Vn().Upcoming : "",
                        t.start_date > g ? Vn().Recent : "",
                      ),
                    },
                    c.createElement(
                      "a",
                      {
                        href: `${ot.TS.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      c.createElement(
                        "b",
                        null,
                        (0, z.$z)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      c.createElement("b", null, Tn.W7.get(t.type)),
                      " ",
                      c.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("dd" == e.type) {
                  const t = e.promo;
                  return c.createElement(
                    "div",
                    {
                      key: "dd_" + t.gid,
                      className: (0, L.A)(
                        Vn().Promo,
                        t.rtime32_start_time > _ ? Vn().Upcoming : "",
                        t.rtime32_start_time > g ? Vn().Recent : "",
                      ),
                    },
                    c.createElement(
                      "a",
                      {
                        href: `${ot.TS.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                        target: "_blank",
                      },
                      c.createElement(
                        "b",
                        null,
                        (0, z.$z)(new Date(t.rtime32_start_time).getTime()),
                      ),
                      " ",
                      c.createElement("b", null, "Daily Deal "),
                    ),
                  );
                }
                if ("mm" == e.type) {
                  const t = e.promo;
                  return c.createElement(
                    "div",
                    {
                      key: "mm_" + t.gid,
                      className: (0, L.A)(
                        Vn().Promo,
                        t.start_date > _ ? Vn().Upcoming : "",
                        t.start_date > g ? Vn().Recent : "",
                      ),
                    },
                    c.createElement(
                      "a",
                      {
                        href: `${ot.TS.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t.gid}`,
                        target: "_blank",
                      },
                      c.createElement(
                        "b",
                        null,
                        (0, z.$z)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      c.createElement("b", null, "MM"),
                      " ",
                      c.createElement("span", null, t.title),
                    ),
                  );
                }
                return "invite" == e.type
                  ? c.createElement(kr, {
                      key: e.promo.inviteid,
                      invite: e.promo,
                    })
                  : null;
              }),
            ),
        );
      }
      function kr(e) {
        const { invite: t } = e;
        let a = null,
          n = null;
        return (
          (0, Un.IA)(t)
            ? ((a = Vn().OpenInvite),
              (n = c.createElement(
                "div",
                null,
                "Open ",
                Mr(t.type),
                " Invite (expires ",
                (0, z.$z)(t.rtexpiretime),
                " )",
              )))
            : t.cancelled
              ? ((a = Vn().CancelledInvite),
                (n = c.createElement(
                  "div",
                  null,
                  c.createElement("b", null, (0, z.$z)(t.rtinvitetime)),
                  " Cancelled ",
                  Mr(t.type),
                  " Invite (cancelled on ",
                  (0, z.$z)(t.rtime32_cancel_time),
                  " )",
                )))
              : t.rtaccepttime ||
                ((a = Vn().ExpiredInvite),
                (n = c.createElement(
                  "div",
                  null,
                  c.createElement("b", null, (0, z.$z)(t.rtinvitetime)),
                  " Expired ",
                  Mr(t.type),
                  " Invite (expired on ",
                  (0, z.$z)(t.rtexpiretime),
                  " )",
                ))),
          n
            ? c.createElement(
                "div",
                {
                  key: "invite_" + t.inviteid,
                  className: (0, L.A)(Vn().Promo, a),
                },
                c.createElement(
                  "a",
                  {
                    href:
                      ((r = t.type),
                      (i = t.inviteid),
                      1 == r
                        ? ot.TS.PARTNER_BASE_URL +
                          "promotion/dailydeals/invite/" +
                          i
                        : ot.TS.PARTNER_BASE_URL +
                          "promotion/invitation/landing/" +
                          i),
                    target: "_blank",
                  },
                  n,
                ),
              )
            : (console.error("Unexpected promotion invite state"), null)
        );
        var r, i;
      }
      function Rr(e) {
        const { appInfo: t } = e,
          a = (0, kn.UQ)(t.appid);
        return a
          ? c.createElement(
              ge.Q,
              { rgPackagesToLoad: a, size: "small" },
              c.createElement(re.kr, {
                rgPackageIDs: a,
                bHidePackage: !0,
                bShowDiscountEventName: !0,
                bShowCooldownState: !0,
              }),
            )
          : c.createElement(F.t, { string: "Loading Packages", size: "small" });
      }
      function Pr(e) {
        const { appInfo: t } = e,
          a = (0, kn.UQ)(t.appid);
        return a
          ? c.createElement(
              ge.Q,
              { rgPackagesToLoad: a, size: "small" },
              c.createElement(Nr, { rgPackageIDs: a }),
            )
          : null;
      }
      function Nr(e) {
        const t = (0, An.aU)(e.rgPackageIDs);
        return t
          ? c.createElement(
              "div",
              { className: Vn().DiscountPercent },
              t.nDiscountPct,
              " %",
            )
          : c.createElement("div", null, "N/A");
      }
      function Gr(e) {
        const { appInfo: t } = e,
          a = cr(t.appid);
        return c.createElement(
          c.Fragment,
          null,
          a.map((e) =>
            c.createElement(Or, {
              key: t.appid + "_partner_" + e,
              partnerID: e,
              appInfo: t,
            }),
          ),
        );
      }
      function Or(e) {
        const { partnerID: t, appInfo: a } = e,
          [n] = (0, Rn.UA)(t),
          r = Wn(t, a.appid, "business");
        return n
          ? c.createElement(
              "div",
              { className: Vn().PartnerCol },
              c.createElement(
                "div",
                { className: Vn().PartnerName },
                c.createElement("b", null, n.name, " (", t, ")"),
              ),
              c.createElement(
                "div",
                null,
                Boolean(r?.length > 0) &&
                  c.createElement(
                    "div",
                    { className: Vn().BizContactsCtn },
                    r.map((e) =>
                      c.createElement(
                        "div",
                        {
                          className: Vn().BizContact,
                          key: "user+" + t + "_" + e,
                        },
                        c.createElement($n.p, { accountID: e, bHideName: !1 }),
                      ),
                    ),
                  ),
              ),
            )
          : null;
      }
      function Fr(e) {
        const { strLabel: t, fnOnTagSelected: a, strSelectedTagIDs: n } = e,
          { rgTags: r, rgCategories: i } = (0, Mn.DT)(),
          s = (0, c.useRef)(void 0),
          l = (0, c.useRef)(void 0),
          o = (0, c.useCallback)(
            (e) => {
              if (r) {
                let t = r?.findIndex((t) => t.tagid == e);
                return -1 != t ? r[t].name : "??";
              }
              return "";
            },
            [r],
          ),
          m = (0, c.useMemo)(() => {
            const e = r
              ?.map((e) =>
                c.createElement(
                  Kn.kt,
                  { key: e.name, onSelected: () => a(e.tagid, !0) },
                  e.name,
                ),
              )
              .sort((e, t) => (0, Jn.qo)(e.key, t.key));
            return e;
          }, [a, r]);
        return c.createElement(
          "div",
          { className: Vn().StoreTagChooser },
          c.createElement(I.pd, {
            label: t,
            onBlur: (e) => setTimeout(() => s.current?.Hide(), 300),
            ref: l,
            onChange: (e) =>
              ((e) => {
                if ((s.current?.Hide(), !Te.kf(e) && e.length < 2)) return;
                const t = e.toLowerCase();
                let a = m?.filter((e) => e.key.toLowerCase().includes(t));
                0 != a.length &&
                  ((s.current = (0, jn.lX)(
                    c.createElement(Kn.tz, null, a),
                    l.current.element,
                    {
                      bRetainOnHide: !1,
                      bSkipFocusWhenReady: !0,
                      bOverlapHorizontal: !0,
                    },
                  )),
                  s.current.Show());
              })(e.currentTarget.value),
          }),
          c.createElement(
            "div",
            { className: Vn().SelectedTags },
            r?.length > 0 &&
              !!n &&
              n
                .split(",")
                .map((e) =>
                  c.createElement(
                    I.$n,
                    { key: e, onClick: () => a(parseInt(e), !1) },
                    o(parseInt(e)),
                    c.createElement(
                      "div",
                      { className: Vn().ButtonRemove },
                      "x",
                    ),
                  ),
                ),
          ),
        );
      }
      function Lr(e) {
        const {
            rtUpcomingFeatureStart: t,
            rtUpcomingFeatureEnd: a,
            setUpcomingFeatureStart: n,
            setUpcomingFeatureEnd: r,
            strQueryPlan: i,
          } = e,
          [s, l] = (0, c.useState)(() => {
            return (
              (e = t),
              1 === lr.tz(1e3 * e, "America/Los_Angeles").day()
                ? "midweek"
                : "weekenddeal"
            );
            var e;
          });
        return c.createElement(
          "div",
          { className: Vn().CuratedPromoFinderCtn },
          c.createElement(I.JU, null, "Upcoming Featuring Finder"),
          c.createElement(
            I.zW,
            {
              value: s,
              onChange: (e) => {
                l(e);
              },
            },
            c.createElement(I.a, { value: "midweek" }, "Midweek"),
            c.createElement(I.a, { value: "weekenddeal" }, "Weekend"),
          ),
          c.createElement(
            "div",
            { className: Vn().FeaturingFinderDropDown },
            c.createElement(Le.h1, {
              type: s,
              rtStartTime: t,
              rtEndTime: a,
              setStartTime: n,
              setEndTime: r,
            }),
            c.createElement(
              "a",
              {
                href: `${ot.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=1&count=50${i}`,
                className: (0, L.A)(
                  C().Button,
                  R().Button,
                  Vn().FeaturingFinderGOButton,
                ),
              },
              "GO!",
            ),
          ),
        );
      }
      function Ur(e) {
        const [t, a] = (0, c.useState)(""),
          n = (0, W.jo)(),
          r = (0, c.useMemo)(
            () =>
              n?.filter(
                (e) =>
                  ("themesale" == e.type || "nextfest" == e.type) &&
                  (0 == t.trim().length ||
                    e.admin_notes.includes(t) ||
                    e.name.includes(t)),
              ),
            [n, t],
          );
        return c.createElement(
          "div",
          {
            className: (0, L.A)(
              Ke().Container,
              C().AdminPageCtn,
              C().WidePageCtn,
            ),
          },
          c.createElement(
            "div",
            { className: C().PageTitleFlexCtn },
            c.createElement(
              "div",
              { className: C().PageTitle },
              "Theme Sales Operations Dashboard (VO) ",
            ),
            c.createElement(
              "div",
              { className: Ke().CreateNewCtn },
              c.createElement(I.pd, {
                type: "text",
                placeholder: "Search promos",
                tooltip:
                  "Only an in-memory search of plan name, admin notes and store item id",
                value: t,
                onChange: (e) => a(e?.currentTarget?.value || ""),
              }),
              c.createElement(
                I.jn,
                {
                  onClick: (e) =>
                    (0, N.pg)(c.createElement(qr, null), (0, U.uX)(e)),
                },
                "Create New Theme Sale / Next Fest",
              ),
            ),
          ),
          c.createElement("hr", { className: "VO" }),
          c.createElement(zr, { rgPlans: r }),
        );
      }
      function zr(e) {
        const { rgPlans: t } = e;
        return c.createElement(
          "table",
          { className: (0, L.A)(Ke().CandidateTable, "landingTable") },
          c.createElement(
            "thead",
            null,
            c.createElement(
              "tr",
              null,
              c.createElement("th", null, "Theme"),
              c.createElement("th", null, "Date"),
              c.createElement("th", null, "Opt In"),
              c.createElement("th", null, "Emails"),
              c.createElement("th", null, "Sale Page"),
              c.createElement("th", null, "Advertising App"),
              c.createElement("th", null, "Marketing Message"),
              c.createElement("th", null, "Spotlight"),
              c.createElement("th", null, "Takeover"),
              c.createElement("th", null, "Takeunder"),
              c.createElement("th", null, "Trailer"),
              c.createElement("th", null, "Blog"),
            ),
          ),
          c.createElement(
            "tbody",
            null,
            t.map((e) => c.createElement(xr, { key: e.id, plan: e })),
          ),
        );
      }
      function xr(e) {
        const { plan: t } = e;
        return c.createElement("tr", null, c.createElement("td", null, t.name));
      }
      function qr(e) {
        const { closeModal: t } = e,
          a = (0, B.vs)();
        return a.bLoading
          ? c.createElement(B.Hh, {
              state: a,
              strDialogTitle: "Creating Theme Sale...",
              closeModal: t,
            })
          : c.createElement(
              P.o0,
              {
                strTitle: "Create Theme Sale",
                strDescription:
                  "Depending on the type, this will automatically create the elements we expect to have for the theme sale.",
                onCancel: t,
              },
              "TODO",
            );
      }
      var Wr = a(18791),
        jr = a.n(Wr);
      function Hr(e) {
        return c.createElement(
          "div",
          { className: jr().Container },
          c.createElement("h1", null, "Data Migration Tools"),
          c.createElement("div", null, c.createElement(Vr, null)),
        );
      }
      function Vr(e) {
        const t = (0, W.jo)(),
          { fnUpdatePlan: a } = (0, W.lK)(),
          [n, r] = c.useState(!1),
          [i, s] = c.useState(""),
          [l, o] = c.useState(""),
          [m, d] = c.useState(!1),
          u = c.useRef(!1),
          p = (e, t) => {
            s(e.join("\n").trim()), o(t.join("\n").trim());
          };
        return c.createElement(
          c.Fragment,
          null,
          c.createElement("h2", null, "Refresh Promotion Plan Data"),
          c.createElement(
            "div",
            null,
            "Loads and resaves all specified promotion plans, specified by IDs. This causes generated data such as the PartnerReadonlyJson to get refreshed.",
          ),
          c.createElement(
            "div",
            { className: jr().ExpanderContainer },
            c.createElement(
              "div",
              { className: jr().Expander, onClick: () => r(!n) },
              n ? "[-]" : "[+]",
            ),
            n &&
              c.createElement(
                "div",
                { className: jr().Expanded },
                c.createElement(
                  "div",
                  null,
                  "Click Load IDs below to load promotion plans from the server into the to be processed text box below. By default, only the last six months of promotion plans are included. If you need to backfill earlier, change convar nPromotionPlanningActiveSecondsPreviously first.",
                ),
                c.createElement(
                  "div",
                  { className: jr().DataMigrationListContainer },
                  c.createElement(
                    "div",
                    null,
                    c.createElement(
                      "div",
                      null,
                      "IDs to process: (one per line)",
                    ),
                    c.createElement("textarea", {
                      className: jr().DataMigrationTextArea,
                      value: i,
                      onChange: (e) => s(e.target.value),
                    }),
                  ),
                  c.createElement(
                    "div",
                    null,
                    c.createElement("div", null, "Processed IDs:"),
                    c.createElement("textarea", {
                      className: jr().DataMigrationTextArea,
                      value: l,
                      onChange: (e) => o(e.target.value),
                    }),
                  ),
                ),
                c.createElement(
                  "div",
                  { className: jr().DataMigrationButtonContainer },
                  !m &&
                    c.createElement(
                      "button",
                      {
                        className: jr().DataMigrationButton,
                        onClick: () => {
                          s(
                            t
                              .filter((e) => !!e.id)
                              .map((e) => e.id)
                              .join("\n")
                              .trim(),
                          ),
                            o("");
                        },
                      },
                      "Load IDs",
                    ),
                  !m &&
                    c.createElement(
                      "button",
                      {
                        className: jr().DataMigrationButton,
                        onClick: () => {
                          d(!0),
                            (async function (e, t, a, n, r, i) {
                              a.current = !0;
                              const s = r
                                .split(/,|\n/)
                                .filter((e) => e.trim().length > 0);
                              let l = [];
                              console.log("RefreshPromotionPlans", s);
                              for (; s.length > 0 && a.current; ) {
                                const a = 4;
                                console.log("unprocessed", s);
                                const n = s.slice(0, Math.min(a, s.length)),
                                  r = n.map(async (a) => {
                                    const n = e.find((e) => e.id === a);
                                    console.log("processing id", n.id, n);
                                    const r = await t(void 0, n, null, null);
                                    console.log(
                                      r
                                        ? "successfully processed id"
                                        : "failed to process id",
                                      n.id,
                                    );
                                  });
                                await Promise.all(r),
                                  (l = l.concat(n)),
                                  s.splice(0, n.length),
                                  i(s, l);
                              }
                              (a.current = !1), n();
                            })(t, a, u, () => d(!1), i, p);
                        },
                      },
                      "Start",
                    ),
                  m &&
                    c.createElement(
                      "button",
                      {
                        className: jr().DataMigrationButton,
                        onClick: () => (u.current = !1),
                      },
                      "Stop",
                    ),
                ),
              ),
          ),
        );
      }
      var Kr = a(42974),
        Yr = a(49188);
      function $r() {
        const [e] = (0, c.useState)(() =>
            (0, Qn.Tc)("analysis_plan_ids", "application_config"),
          ),
          t = (0, Yr.J)(e, 0);
        return (0, c.useMemo)(() => {
          if (!t?.sales?.length)
            return console.warn("No sales data available"), null;
          const e = new Map();
          t.sales.forEach((t) => {
            if (t) {
              const a = { promoPlan: (0, W.VJ)(t.promotionid), promoSales: t },
                n = (function (e) {
                  const t = new Date(1e3 * e),
                    a = t.getDay();
                  if (
                    1 === a &&
                    10 === t.getHours() &&
                    0 === t.getMinutes() &&
                    0 === t.getSeconds() &&
                    0 === t.getMilliseconds()
                  )
                    return e;
                  const n = 0 === a ? 6 : a - 1;
                  return (
                    t.setDate(t.getDate() - n),
                    t.setHours(10, 0, 0, 0),
                    Math.floor(t.getTime() / 1e3)
                  );
                })(a.promoPlan.start_date);
              e.has(n) ||
                e.set(n, { rtWeekStart: n, rgMidweeks: [], rgWeekends: [] });
              const r = e.get(n);
              "midweek" == a.promoPlan.type
                ? r.rgMidweeks.push(a)
                : "weekenddeal" == a.promoPlan.type && r.rgWeekends.push(a);
            }
          });
          let a = Array.from(e.values());
          return (
            a.forEach((e) => {
              let t = 0,
                a = 0;
              e.rgMidweeks &&
                (e.rgMidweeks.forEach((e) => {
                  (t +=
                    Number.parseInt(
                      e.promoSales.summary_sales.total_gross_sales_usdx100,
                    ) / 1e4),
                    (a += Number.parseInt(
                      e.promoSales.summary_sales.steam_gross_units_sold,
                    ));
                }),
                e.rgMidweeks.sort(
                  (e, t) =>
                    Number.parseInt(
                      t.promoSales.summary_sales.total_gross_sales_usdx100,
                    ) -
                    Number.parseInt(
                      e.promoSales.summary_sales.total_gross_sales_usdx100,
                    ),
                )),
                e.rgWeekends &&
                  (e.rgWeekends.forEach((e) => {
                    (t +=
                      Number.parseInt(
                        e.promoSales.summary_sales.total_gross_sales_usdx100,
                      ) / 1e4),
                      (a += Number.parseInt(
                        e.promoSales.summary_sales.steam_gross_units_sold,
                      ));
                  }),
                  e.rgWeekends.sort(
                    (e, t) =>
                      Number.parseInt(
                        t.promoSales.summary_sales.total_gross_sales_usdx100,
                      ) -
                      Number.parseInt(
                        e.promoSales.summary_sales.total_gross_sales_usdx100,
                      ),
                  )),
                (e.summaryUSD = t),
                (e.summaryUnits = a);
            }),
            a.sort((e, t) => e.rtWeekStart - t.rtWeekStart),
            a
          );
        }, [t]);
      }
      var Jr = a(69235),
        Xr = a(56555),
        Qr = a(49953),
        Zr = a(55241),
        ei = a(85010),
        ti = a(62059),
        ai = a(36058),
        ni = a(59040),
        ri = a.n(ni),
        ii = a(27429);
      const si = c.memo((e) => {
        const { data: t, fnSelectedData: a } = e,
          n = (0, c.useRef)(void 0),
          r = (0, c.useCallback)(
            (e, a) => (t[a]?.USD ? (0, ii.E8)(t[a].rtTimeStart) : ""),
            [t],
          );
        return c.createElement(
          "div",
          { className: ri().ChartContainer },
          c.createElement(
            "div",
            { className: ri().Chart },
            c.createElement(
              T.tH,
              null,
              c.createElement(
                Jr.u,
                { width: "100%", height: "100%" },
                c.createElement(
                  Xr.X,
                  {
                    data: t,
                    layout: "horizontal",
                    margin: { top: 25, left: 0, right: 0, bottom: 0 },
                    barGap: 30,
                    onClick: (e, t) => {
                      if (e?.activePayload?.length > 0) {
                        const t = e.activePayload[0].payload;
                        t && a(t);
                      }
                    },
                  },
                  c.createElement(
                    "defs",
                    null,
                    c.createElement(
                      "linearGradient",
                      { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                      c.createElement("stop", { stopColor: "#1A9FFF" }),
                      c.createElement("stop", {
                        offset: "1",
                        stopColor: "#1A9FFF",
                        stopOpacity: "1",
                      }),
                    ),
                  ),
                  c.createElement(Qr.d, { vertical: !1, stroke: "#a0aab6" }),
                  c.createElement(Zr.h, {
                    tickFormatter: ii.Z2,
                    tick: { fill: "white" },
                    axisLine: !0,
                  }),
                  c.createElement(ei.m, {
                    wrapperStyle: { outline: "none" },
                    allowEscapeViewBox: { x: !1, y: !0 },
                    isAnimationActive: !1,
                    offset: 0,
                    content: c.createElement(li, null),
                  }),
                  c.createElement(ti.y, {
                    dataKey: "USD",
                    barSize: 60,
                    fill: "url( #bar_linear )",
                    onMouseEnter: () => (n.current = "USD"),
                    onMouseOut: () => (n.current = void 0),
                  }),
                  c.createElement(ai.W, {
                    interval: 0,
                    tick: c.createElement(oi, null),
                    tickFormatter: r,
                  }),
                ),
              ),
            ),
          ),
        );
      });
      function li({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return c.createElement(
            Pe.t1,
            null,
            c.createElement("b", null, (0, ii.Z2)(Number.parseInt(e.USD))),
            " on ",
            (0, ii.E8)(Number.parseInt(e.rtTimeStart)),
          );
        }
        return null;
      }
      function oi(e) {
        const { x: t, y: a, payload: n } = e,
          r = e.tickFormatter(n.value, n.index);
        return c.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          c.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            r,
          ),
        );
      }
      var ci = a(85074),
        mi = a.n(ci),
        di = a(11314),
        ui = a(94075),
        pi = a(99193),
        _i = a.n(pi);
      const gi = c.memo((e) => {
        const { data: t, fnSetSelected: a } = e,
          n = (function (e, t) {
            const a = Math.max(...e.map((e) => e.USD)) / (t - 1);
            return Array.from({ length: t }, (e, t) => t * a);
          })(t, 6);
        return c.createElement(
          Jr.u,
          { width: "100%", height: 400 },
          c.createElement(
            di.E,
            {
              layout: "vertical",
              width: 500,
              height: 300,
              data: t,
              margin: { top: 40, right: 30, left: 20, bottom: 5 },
              onClick: (e, t) => {
                if (e?.activePayload?.length > 0) {
                  const t = e.activePayload[0].payload;
                  t && a(t.name);
                }
              },
            },
            c.createElement(
              "defs",
              null,
              c.createElement(
                "linearGradient",
                { id: "colorUSD", x1: "0", y1: "0", x2: "1", y2: "1" },
                c.createElement("stop", {
                  offset: "0%",
                  stopColor: "#93D329",
                  stopOpacity: 1,
                }),
                c.createElement("stop", {
                  offset: "100%",
                  stopColor: "#93D329",
                  stopOpacity: 1,
                }),
              ),
              c.createElement(
                "linearGradient",
                { id: "colorUNITS", x1: "0", y1: "0", x2: "1", y2: "1" },
                c.createElement("stop", {
                  offset: "0%",
                  stopColor: "#808080",
                  stopOpacity: 1,
                }),
                c.createElement("stop", {
                  offset: "100%",
                  stopColor: "#808080",
                  stopOpacity: 1,
                }),
              ),
            ),
            c.createElement(Qr.d, { strokeDasharray: "1", stroke: "#3E454C" }),
            c.createElement(ai.W, {
              type: "number",
              orientation: "bottom",
              tick: { fill: "white" },
              domain: [0, "dataMax"],
              label: {
                value: "USD",
                position: "insideBottomRight",
                offset: -5,
              },
              ticks: n,
              tickFormatter: (e, t) => (0, ii.Z2)(e),
            }),
            c.createElement(Zr.h, {
              dataKey: "name",
              type: "category",
              padding: { top: 14 },
              tick: { fill: "white", textAnchor: "end" },
              width: 150,
            }),
            c.createElement(ei.m, {
              wrapperStyle: { outline: "none" },
              allowEscapeViewBox: { x: !1, y: !0 },
              isAnimationActive: !1,
              itemStyle: { background: "black" },
              offset: 0,
              content: c.createElement(hi, null),
            }),
            c.createElement(ui.s, null),
            c.createElement(ti.y, {
              dataKey: "USD",
              fill: "url(#colorUSD)",
              animationBegin: 0,
              animationDuration: 1500,
            }),
            c.createElement(ti.y, {
              dataKey: "units",
              fill: "url(#colorUNITS)",
              animationBegin: 500,
              animationDuration: 1500,
            }),
          ),
        );
      });
      function hi({ active: e, payload: t }) {
        const a = e && t && t.length,
          n = a ? t[0].payload.promoPlan : void 0,
          r = (0, q.dr)(n?.marketing_message_ids?.[0]);
        c.useMemo(() => {
          if (!r) return null;
          const e = (0, K.c2)(r.template_vars_json);
          if (e)
            for (let t = 0; t < 31; ++t) {
              const a = (0, Wt.Lg)(t);
              if (a in e.ll_image)
                return (0, ja.T)(r.gid, t, e.last_asset_mtime, e.ll_image[a]);
            }
          return null;
        }, [r]);
        if (a) {
          const e = t[0].payload,
            a = e.units;
          return c.createElement(
            Pe.t1,
            { className: _i().PromoHover },
            c.createElement(
              "div",
              { className: _i().PromoInfo },
              c.createElement("h4", null, e.name),
              c.createElement(
                "p",
                null,
                (0, ii.Z2)(Number.parseInt(e.USD)),
                " | ",
                a.toLocaleString(),
                " units",
              ),
            ),
          );
        }
        return null;
      }
      const Ei = c.createContext({
        loadPackageDiscountSummary: async (e) =>
          null == e
            ? null
            : await (function () {
                yi ||
                  (yi = new (Gn())(
                    async (e) => {
                      const t = { rgPackageIDs: e.join(",") },
                        a = `${ot.TS.PARTNER_BASE_URL}promotion/analysis/ajaxgetpromotionplanpackagediscountsummary`,
                        n = await mt().get(a, { params: t });
                      if (200 != n?.status || !n.data || !n.data)
                        throw `Failed to load discount package summary: ${n?.data?.msg}`;
                      const r = new Map(),
                        i = new Map();
                      return (
                        n.data.discount_summary.forEach((e) => {
                          r.has(e.packageid) ||
                            r.set(e.packageid, {
                              packageID: e.packageid,
                              combinedDiscounts: [],
                              packageInfo: [],
                            }),
                            r.get(e.packageid).packageInfo.push(e),
                            i.has(e.combineddiscountid) ||
                              i.set(e.combineddiscountid, []),
                            i.get(e.combineddiscountid).push(e.packageid);
                        }),
                        n.data.combined_discount_map.forEach((e) => {
                          i.get(e.combineddiscountid).forEach((t) => {
                            r.get(t).combinedDiscounts.push(e);
                          });
                        }),
                        e.map((e) => r.get(e) ?? null)
                      );
                    },
                    { maxBatchSize: 10 },
                  ));
                return yi;
              })().load(e),
      });
      function Si(e, t) {
        return {
          queryKey: ["PackageDiscountSummaryQuery", t],
          queryFn: () => e.loadPackageDiscountSummary(t),
          enabled: !!t,
        };
      }
      let yi;
      function vi(e, t, a) {
        const n = (function (e) {
          const t = c.useContext(Ei),
            a = (0, za.I)(Si(t, e));
          return a.isLoading ? null : a.data;
        })(e);
        return (
          console.log("summary", n),
          console.log("dates", t, a),
          (0, c.useMemo)(() => {
            if (!n) return;
            let r = n.combinedDiscounts.findIndex(
              (e) =>
                e.discount_record[0].start_date - 86400 <= t &&
                e.discount_record[0].end_date + 14400 >= a,
            );
            if (r < 0) return null;
            const i = n.combinedDiscounts[r].combineddiscountid;
            let s = n.packageInfo.findIndex((e) => e.combineddiscountid == i);
            if (s < 0) return null;
            const l = n.combinedDiscounts[r].discount_record[0],
              o = n.packageInfo[s];
            return {
              packageID: e,
              partnerID: o.partnerid,
              gross_sales_usd: Math.floor(
                Number.parseInt(o.gross_sales_usdx100) / 1e4,
              ),
              gross_units_sold: o.gross_units_sold,
              discountid: l.discountid,
              percentage: l.percentage,
              discount_name: l.discount_name,
              discount_occurance: l.discount_occurrence,
              discount_start_date: l.start_date,
              discount_end_date: l.end_date,
              usd_price: l.usd_price,
            };
          }, [e, a, t, n])
        );
      }
      function fi(e) {
        const { promo: t } = e,
          [a, n] = (0, c.useState)(5),
          [r, i, s] = (0, c.useMemo)(() => {
            let e = Number.MAX_SAFE_INTEGER,
              a = 0;
            const n = new Map();
            t.promoSales.products?.forEach((t) => {
              const [r, i] =
                t.packageid && t.packageid > 0
                  ? [t.packageid, 4]
                  : [t.appid, 1];
              if (!r) return;
              n.has(r) ||
                n.set(r, {
                  productid: r,
                  product_type: i,
                  gross_units_sold: 0,
                  gross_sales_usd: 0,
                  daily_promo_sales: [],
                });
              const s = n.get(r);
              if (
                ((s.gross_units_sold +=
                  Number.parseInt(t.summary_sales?.steam_gross_units_sold) ||
                  0),
                (s.gross_sales_usd +=
                  Math.floor(
                    Number.parseInt(
                      t.summary_sales?.total_gross_sales_usdx100,
                    ) ?? 0,
                  ) / 1e4),
                t.daily_promo_sales)
              ) {
                const n = new Map();
                t.daily_promo_sales.forEach((t) => {
                  if (t.date) {
                    const r = new Date(t.date),
                      i = Math.floor(r.getTime() / 1e3);
                    i < e && (e = i), i > a && (a = i);
                    const s = t.date;
                    if (n.has(s)) {
                      const e = n.get(s);
                      (e.summary_sales.steam_gross_units_sold += parseInt(
                        t.summary_sales.steam_gross_units_sold,
                      )),
                        (e.summary_sales.total_gross_sales_usdx100 += parseInt(
                          t.summary_sales.total_gross_sales_usdx100,
                        ));
                    } else n.set(s, { ...t, rtime_date: i });
                  }
                }),
                  (s.daily_promo_sales = Array.from(n.values()).sort(
                    (e, t) => (e.rtime_date || 0) - (t.rtime_date || 0),
                  ));
              }
            });
            const r = Array.from(n.values());
            return (
              r.sort((e, t) => t.gross_sales_usd - e.gross_sales_usd),
              (isFinite(e) && 0 !== r.length) || ((e = 0), (a = 0)),
              [r, e, a]
            );
          }, [t]);
        return c.createElement(
          "div",
          { className: ci.PromoDetails },
          c.createElement(
            "h4",
            null,
            t.promoPlan.name,
            " ",
            c.createElement(
              "a",
              {
                href: `${ot.TS.PARTNER_BASE_URL}promotion/planning/edit/${t.promoPlan.id}`,
                target: "_blank",
              },
              "See promo plan",
            ),
          ),
          c.createElement("br", null),
          c.createElement(
            "div",
            {
              className: (0, L.A)(st.Row, st.Primary, st.HeaderRow, st.Compact),
            },
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.ItemName) },
              "Product Name",
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Revenue) },
              "Revenue",
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Revenue) },
              "Units",
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Small) },
              "%",
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Small) },
              "$",
            ),
          ),
          r
            .filter((e) => e.gross_units_sold > 0 || e.gross_sales_usd > 0)
            .slice(0, a)
            .map((e) =>
              c.createElement(bi, {
                key: e.productid,
                row: e,
                rtStartDate: i,
                rtEndDate: s,
              }),
            ),
          Boolean(
            a <
              r.filter((e) => e.gross_units_sold > 0 || e.gross_sales_usd > 0)
                .length,
          ) &&
            c.createElement(I.$n, { onClick: () => n(r.length) }, "Show All"),
          Boolean(a > 5) &&
            c.createElement(I.$n, { onClick: () => n(5) }, "Show Less"),
        );
      }
      function bi(e) {
        const { row: t, rtStartDate: a, rtEndDate: n } = e,
          [r] = (0, w.Gg)(4 === t.product_type ? t.productid : 0, {}),
          [i] = (0, w.t7)(4 !== t.product_type ? t.productid : 0, {}),
          s = 4 === t.product_type ? r : i,
          l = Math.floor(t.gross_sales_usd);
        return c.createElement(
          "div",
          { className: (0, L.A)(st.RowCtn, st.Compact) },
          c.createElement(
            "div",
            { className: (0, L.A)(st.Row, st.Primary) },
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.ItemName) },
              s?.GetName() || "",
              " (",
              t.productid,
              ")",
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Revenue) },
              (0, ii.Z2)(l),
            ),
            c.createElement(
              "div",
              { className: (0, L.A)(st.Col, st.Revenue) },
              t.gross_units_sold.toLocaleString(),
            ),
            c.createElement(wi, {
              productID: t.productid,
              storeItem: s,
              rtStartDate: a,
              rtEndDate: n,
            }),
          ),
        );
      }
      function wi(e) {
        const { productID: t, storeItem: a, rtStartDate: n, rtEndDate: r } = e,
          i = vi(t, n, r);
        return a?.BIsFree() && !a?.BIsFreeTemporary()
          ? c.createElement(
              c.Fragment,
              null,
              c.createElement(
                "div",
                { className: (0, L.A)(st.Col, st.Small) },
                "-",
              ),
              c.createElement(
                "div",
                { className: (0, L.A)(st.Col, st.Small) },
                "FREE",
              ),
            )
          : i
            ? c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Small) },
                  i.percentage,
                ),
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Small) },
                  (0, ii.Z2)(
                    (Number.parseInt(i.usd_price) / 100) *
                      (1 - i.percentage / 100),
                  ),
                ),
              )
            : c.createElement(
                c.Fragment,
                null,
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Small) },
                  "N/A",
                ),
                c.createElement(
                  "div",
                  { className: (0, L.A)(st.Col, st.Small) },
                  "N/A",
                ),
              );
      }
      function Di(e) {
        const t = $r();
        return c.createElement(
          "div",
          { className: (0, L.A)(C().AdminPageCtn, C().WidePageCtn) },
          c.createElement(
            "div",
            { className: C().PageTitle },
            "Weekend and Midweek Deal Performance",
          ),
          c.createElement("hr", null),
          c.createElement(
            "p",
            null,
            "Key Longitudinal Analysis of Featured Franchises Report ",
            c.createElement("span", null, "(K.L.A.F.F. Report)"),
          ),
          Boolean(!t || 0 == t?.length)
            ? c.createElement(F.t, {
                string: "Loading",
                position: "center",
                size: "medium",
              })
            : c.createElement(Ci, { rgWeeklyPlanAndResults: t }),
        );
      }
      function Ci(e) {
        const { rgWeeklyPlanAndResults: t } = e,
          [a, n] = (0, we.QD)("rtime_week", t[t.length - 1].rtWeekStart),
          [r, i] = (0, c.useState)(() => {
            const e = t.findIndex((e) => e.rtWeekStart === a);
            return e >= 0 ? t[e] : t[t.length - 1];
          });
        return c.createElement(
          "div",
          null,
          c.createElement(Bi, {
            rgWeeklyPlanAndResults: t,
            fnSetSelectedWeek: (e) => {
              i(e), n(e.rtWeekStart);
            },
          }),
          c.createElement(Ii, {
            type: "weekenddeal",
            week: r,
            key: "wd" + r.rtWeekStart,
          }),
          c.createElement(Ii, {
            type: "midweek",
            week: r,
            key: "mid" + r.rtWeekStart,
          }),
        );
      }
      function Ii(e) {
        const { type: t, week: a } = e,
          n = "midweek" == t ? a.rgMidweeks : a.rgWeekends,
          [r, i] = (0, c.useState)(() => (n?.length > 0 ? n[0] : null)),
          s = (0, c.useMemo)(
            () =>
              n.map((e) => ({
                name: e.promoPlan.name,
                units: Number.parseInt(
                  e.promoSales.summary_sales.steam_gross_units_sold,
                ),
                USD:
                  Number.parseInt(
                    e.promoSales.summary_sales.total_gross_sales_usdx100,
                  ) / 1e4,
                promoPlan: e.promoPlan,
              })),
            [n],
          );
        if (0 === n.length) return null;
        let l = "";
        return (
          n.length > 0 &&
            (l = (0, ii.E8)(
              n[0].promoPlan.start_date,
              n[0].promoPlan.end_date,
            )),
          c.createElement(
            "div",
            { className: (0, L.A)(mi().WithBox, mi().SideBySide) },
            c.createElement(
              "div",
              { className: (0, L.A)(mi().GraphCtn) },
              c.createElement("h3", null, Tn.W7.get(t), " - ", l),
              c.createElement(gi, {
                data: s,
                fnSetSelected: (e) => {
                  let t = n.findIndex((t) => t.promoPlan.name == e);
                  t >= 0 && i(n[t]);
                },
              }),
            ),
            Number.parseInt(
              r?.promoSales.summary_sales.total_gross_sales_usdx100,
            ) > 0 && c.createElement(fi, { promo: r }),
          )
        );
      }
      function Bi(e) {
        const { rgWeeklyPlanAndResults: t, fnSetSelectedWeek: a } = e,
          n = (0, c.useMemo)(
            () =>
              t.map((e) => ({ rtTimeStart: e.rtWeekStart, USD: e.summaryUSD })),
            [t],
          );
        return c.createElement(
          "div",
          { className: mi().WithBox },
          c.createElement("h3", null, "Weekly Promo Comparison"),
          c.createElement(si, {
            data: n,
            fnSelectedData: (e) => {
              if (e) {
                const n = t.findIndex((t) => t.rtWeekStart == e.rtTimeStart);
                n >= 0 && n < t.length && a(t[n]);
              }
            },
          }),
        );
      }
      var Ti = a(64238),
        Mi = a.n(Ti),
        Ai = a(9907),
        ki = a(92082),
        Ri = a(76684),
        Pi = a(23275),
        Ni = a(96289),
        Gi = a.n(Ni),
        Oi = a(80675),
        Fi = a(39102),
        Li = a(77958);
      function Ui(e) {
        const { eFeatureType: t } = e,
          a = 2 == t;
        return c.createElement(
          "div",
          { className: Li.InfoRow },
          c.createElement(
            "div",
            { className: Li.InfoSection },
            c.createElement(
              "div",
              { className: Li.Title },
              (0, z.we)("#DailyDeals_Info_How"),
            ),
            c.createElement(
              "ul",
              null,
              c.createElement(
                "li",
                null,
                (0, z.we)("#Invite_Footer_Info_How1", Fa.Xm),
              ),
              c.createElement(
                "li",
                null,
                (0, z.we)("#Invite_Footer_Info_How2", a ? 3 : 4),
              ),
              c.createElement(
                "li",
                null,
                (0, z.we)("#Invite_Footer_Info_How3"),
              ),
              c.createElement(
                "li",
                null,
                (0, z.we)("#Invite_Footer_Info_How4"),
              ),
              c.createElement(
                "li",
                null,
                (0, z.we)(
                  a
                    ? "#Invite_Footer_Info_Midweek_How5"
                    : "#Invite_Footer_Info_Weekend_How5",
                ),
              ),
            ),
            c.createElement(
              "div",
              { className: Li.MoreInfo },
              (0, z.PP)(
                "#DailyDeals_Info_Question",
                c.createElement(
                  "a",
                  {
                    href:
                      g.TS.HELP_BASE_URL +
                      "en/wizard/HelpWithPublishing?issueid=919",
                  },
                  (0, z.we)("#DailyDeals_Info_Contact"),
                ),
              ),
            ),
          ),
          c.createElement(
            "div",
            { className: Li.InfoSection },
            c.createElement(
              "div",
              { className: Li.Title },
              (0, z.we)("#Invite_Footer_Info_Best"),
            ),
            c.createElement(
              "ul",
              null,
              c.createElement("li", null, (0, z.we)("#DailyDeals_Info_Best1")),
              c.createElement(
                "li",
                null,
                (0, z.we)(
                  a
                    ? "#Invite_Footer_Info_Midweek_Best"
                    : "#Invite_Footer_Info_Weekend_Best",
                ),
              ),
            ),
            c.createElement(
              "div",
              { className: Li.MoreInfo },
              (0, z.oW)(
                a
                  ? "#Invite_Footer_Info_Midweek_ReadMode"
                  : "#Invite_Footer_Info_Weekend_ReadMode",
                c.createElement("a", {
                  href: `${g.TS.PARTNER_BASE_URL}doc/marketing/discounts/${a ? "midweek" : "weekend"}`,
                  target: "_blank",
                }),
              ),
            ),
          ),
        );
      }
      function zi(e) {
        return c.createElement(
          "div",
          { className: Li.InfoRow },
          c.createElement(
            "div",
            { className: Li.InfoSection },
            c.createElement(
              "div",
              { className: Li.Title },
              (0, z.we)("#DailyDeals_Visibility"),
            ),
            c.createElement("img", {
              className: Li.DDVisibilityExample,
              src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/DailyDealVisibilityExample.jpg",
              alt: "Daily Deal Example",
            }),
          ),
        );
      }
      function xi(e) {
        const { eFeatureType: t } = e;
        return c.createElement(
          "div",
          { className: Li.PartnerFooter },
          c.createElement(Ui, { eFeatureType: t }),
          c.createElement(zi, null),
        );
      }
      function qi(e) {
        const t = (function () {
            const [e] = (0, c.useState)(() =>
              (0, Qn.Tc)("invite_info", "application_config"),
            );
            return e;
          })(),
          a = (function () {
            const [e] = (0, c.useState)(() => {
              const e = (0, Qn.Tc)(
                "weekly_available_slots",
                "application_config",
              );
              return {
                rt_weeklong_deals: e.rt_weeklong_deals.sort(),
                rt_weekend_deals: e.rt_weekend_deals.sort(),
              };
            });
            return e;
          })(),
          n = (0, Ie.f1)();
        return 2 != t.type && 3 != t.type
          ? c.createElement("div", null, (0, z.we)("#Invite_Landing_Error"))
          : !t.rtaccepttime && (n > t.rtexpiretime || t.cancelled)
            ? c.createElement("div", null, (0, z.we)("#Invite_Landing_Expired"))
            : c.createElement(
                "div",
                { className: Mi()(C().AdminPageCtn, "Partner") },
                c.createElement(Vi, { oInvite: t }),
                t.accept_account
                  ? c.createElement(Wi, { oInvite: t })
                  : c.createElement(ji, {
                      oInvite: t,
                      rgRTimeWeeks:
                        2 == t.type ? a.rt_weeklong_deals : a.rt_weekend_deals,
                    }),
                c.createElement(xi, { eFeatureType: t.type }),
              );
      }
      function Wi(e) {
        return c.createElement("div", null, "TODO");
      }
      function ji(e) {
        const { oInvite: t, rgRTimeWeeks: a } = e,
          [n, r] = (0, c.useState)(10),
          i = a.slice(0, n),
          { bLoading: s, rgDiscountConflict: l } = (0, ki.B)(t);
        return s
          ? c.createElement(F.t, {
              string: (0, z.we)("#Loading"),
              size: "medium",
              position: "center",
            })
          : c.createElement(
              "div",
              null,
              i.map((e) =>
                c.createElement(Hi, {
                  key: "start" + e,
                  oInvite: t,
                  rtStartTime: e,
                  rgDiscountConflict: l,
                }),
              ),
              Boolean(i.length < a.length) &&
                c.createElement(
                  I.$n,
                  { onClick: () => r(n + 10) },
                  (0, z.we)("#Sale_ShowMore"),
                ),
            );
      }
      function Hi(e) {
        const { oInvite: t, rtStartTime: a, rgDiscountConflict: n } = e,
          r = 2 == t.type ? 3 : 4,
          i = a + 24 * r * 60 * 60,
          {
            nMaxDiscount: s,
            strDiscountName: l,
            bMajorSale: o,
            strConflict: m,
            nextDiscount: d,
          } = (0, ki.E)(n, t, a, r);
        return c.createElement(
          "div",
          { className: Gi().Row },
          c.createElement(Ri.X0, {
            className: Oi.Dates,
            rtStartDate: a,
            rtEndDate: i,
          }),
          c.createElement(
            I.$n,
            { disabled: Boolean(m) },
            (0, z.we)("#DailyDeals_Select"),
          ),
          Boolean(m) && c.createElement(Fi.W, { strConflict: m }),
          Boolean(l) &&
            c.createElement(Fi.D, { strDiscountName: l, nDiscount: s }),
        );
      }
      function Vi(e) {
        const { oInvite: t } = e,
          [a] = (0, Ai.MH)(t),
          n = 2 == t.type,
          r = (0, z.we)(
            n ? "#Invite_Landing_Type_Midweek" : "#Invite_Landing_Type_Weekend",
          );
        return c.createElement(
          "div",
          { className: Oi.InvitePageHeader },
          c.createElement(
            "div",
            { className: Oi.InviteTitle },
            (0, z.we)("#Invite_Landing_Title", r),
            c.createElement(
              "span",
              { className: Oi.InviteTitle_AppName },
              a?.GetName(),
            ),
          ),
          c.createElement("hr", null),
          c.createElement(
            "div",
            {
              className: Mi()(
                Oi.InvitedAppCtn,
                t.require_sale_page ? Oi.SalePageInvite : null,
              ),
            },
            c.createElement(Pi.t, { invite: t }),
            c.createElement(
              "div",
              { className: Oi.InvitedAppInfo },
              c.createElement(
                "div",
                null,
                (0, z.we)(
                  n
                    ? "#Invite_Landing_Midweek_Desc_row1"
                    : "#Invite_Landing_Weekend_Desc_row1",
                  Fa.Xm,
                ),
              ),
              c.createElement(
                "div",
                null,
                (0, z.we)("#DailyDeals_Partner_InviteDesc_row2"),
              ),
              c.createElement(
                "div",
                null,
                (0, z.we)(
                  "#DailyDeals_Partner_InviteDesc_row3",
                  (0, z.TW)(t.rtexpiretime),
                ),
              ),
            ),
          ),
        );
      }
      const Ki = {
        DailyDealDashboard: () => "/dailydeals/dashboard",
        DailyDealPartnerDashboard: (e) => `/dailydeals/dashboard/${e}`,
        DailyDealInviteDashboard: (e) => `/dailydeals/invite/${e}`,
        DailyDealEditor: (e) => `/dailydeals/edit/${e}`,
        DiscountPages: () => "/discounts",
        PartnerSaleDashboard: (e) => `/saleevents/dashboard/${e}`,
        PartnerPlanningAssetRequest: (e) => `/assetportal/request/${e}`,
        PartnerPlanningAssetRequestExternal: (e) =>
          `/assetportal/externalrequest/${e}`,
        PromotionPlanning: () => "/planning/dashboard/",
        PromotionPlanEditor: (e) => `/planning/edit/${e}`,
        InvitationPlanner: () => "/invitationplanner/",
        InvitationLanding: (e) => `/invitation/landing/${e}`,
        SpotlightDashboard: () => "/spotlights/(dashboard)",
        SpotlightEditor: (e) => `/spotlights/edit/${e}`,
        MarketingMessageDashboard: () => "/marketingmessages/(dashboard)",
        MarketingMessageEditor: (e) => `/marketingmessages/edit/${e}`,
        MarketingMessagePartnerPreview: (e) =>
          `/marketingmessages/partnerpreview/${e}`,
        PromotionThemeFestPlanning: () => "/planning/themes",
        DiscountEventDashboard: () => "/discountevents/(dashboard)",
        DiscountEventEditor: (e) => `/discountevents/edit/${e}`,
        ThemeSalesDashboard: () => "/themesales/(dashboard)",
        SalesRankDashboard: () => "/planning/salesrank",
        LocalizationAssetPortal: (e) => `/assetportal/localization/${e}`,
        CuratedPromotionAnalysis: () => "/analysis/(curated)",
        DataMigration: () => "/planning/migration",
      };
      function Yi(e) {
        return (
          (0, c.useEffect)(() => {
            0;
          }, []),
          c.createElement(
            u.m,
            null,
            c.createElement(
              m.Kd,
              { basename: (0, n.C)() + "promotion/" },
              c.createElement(
                d.dO,
                null,
                c.createElement(d.qh, {
                  exact: !0,
                  path: n.B.DiagData(),
                  render: (e) =>
                    c.createElement(p.z, {
                      ...e,
                      strConfigID: "application_config",
                    }),
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.DailyDealDashboard(),
                  render: (e) =>
                    c.createElement(ge.u, null, c.createElement(he.kT, null)),
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.DailyDealPartnerDashboard(":publisherid(\\d+)"),
                  render: (e) =>
                    c.createElement(
                      ge.u,
                      null,
                      c.createElement(he.cm, {
                        strPublisherID: e.match.params.publisherid,
                      }),
                    ),
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.DailyDealInviteDashboard(":inviteid(\\d+)"),
                  render: (e) =>
                    c.createElement(
                      ge.u,
                      null,
                      c.createElement(Fa.fU, {
                        strInviteID: e.match.params.inviteid,
                      }),
                    ),
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.DailyDealEditor(":dealid"),
                  render: (e) =>
                    c.createElement(
                      ge.u,
                      null,
                      c.createElement(ce, { dealid: e.match.params.dealid }),
                    ),
                }),
                c.createElement(d.qh, {
                  path: Ki.DiscountPages(),
                  component: o.h,
                }),
                c.createElement(d.qh, {
                  path: Ki.PartnerSaleDashboard(":publisherid(\\d+)"),
                  component: h.k,
                }),
                c.createElement(d.qh, {
                  path: Ki.PartnerPlanningAssetRequest(":planid"),
                  component: E.Vi,
                }),
                c.createElement(d.qh, {
                  path: Ki.PartnerPlanningAssetRequestExternal(":planid"),
                  component: E.Vi,
                }),
                c.createElement(d.qh, {
                  path: Ki.LocalizationAssetPortal(":planid"),
                  render: (e) =>
                    c.createElement(Kr.N8, { planid: e.match.params.planid }),
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.MarketingMessagePartnerPreview(":gid"),
                  render: (e) =>
                    c.createElement($a, { gid: e.match.params.gid }),
                }),
                c.createElement(d.qh, {
                  path: Ki.PromotionPlanning(),
                  component: Ea._,
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.PromotionPlanEditor(":planid"),
                  render: (e) =>
                    c.createElement(oe.S4, { planid: e.match.params.planid }),
                }),
                c.createElement(d.qh, {
                  path: Ki.InvitationPlanner(),
                  component: dr,
                }),
                c.createElement(d.qh, {
                  path: Ki.InvitationLanding(":inviteid"),
                  render: (e) =>
                    c.createElement(qi, { inviteid: e.match.params.inviteid }),
                }),
                c.createElement(d.qh, {
                  path: Ki.SpotlightDashboard(),
                  component: Ta,
                }),
                c.createElement(d.qh, {
                  path: Ki.DiscountEventDashboard(),
                  component: cn,
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.DiscountEventEditor(":discounteventid"),
                  render: (e) =>
                    c.createElement(Cn, {
                      discountEventID: e.match.params.discounteventid,
                    }),
                }),
                c.createElement(d.qh, {
                  path: Ki.MarketingMessageDashboard(),
                  component: wt,
                }),
                c.createElement(d.qh, {
                  exact: !0,
                  path: Ki.MarketingMessageEditor(":gid"),
                  render: (e) =>
                    c.createElement(ca, { gid: e.match.params.gid }),
                }),
                c.createElement(d.qh, {
                  path: Ki.PromotionThemeFestPlanning(),
                  component: Oa.Ke,
                }),
                c.createElement(d.qh, {
                  path: Ki.SalesRankDashboard(),
                  component: fa,
                }),
                c.createElement(d.qh, {
                  path: Ki.ThemeSalesDashboard(),
                  component: Ur,
                }),
                c.createElement(d.qh, {
                  path: Ki.CuratedPromotionAnalysis(),
                  component: Di,
                }),
                c.createElement(d.qh, {
                  path: Ki.DataMigration(),
                  component: Hr,
                }),
                c.createElement(d.qh, { component: _.a }),
              ),
            ),
          )
        );
      }
    },
    12070: (e, t, a) => {
      "use strict";
      a.d(t, { D: () => _, I: () => h });
      var n = a(90626),
        r = a(16676),
        i = a(8905),
        s = a(738),
        l = a(56011),
        o = a(78327),
        c = a(70065),
        m = a(38152),
        d = a(32754),
        u = a(98076),
        p = a(15755);
      function _(e) {
        const { oEditablePlan: t } = e;
        return t.BHasArtworkOwner()
          ? t.BIsArtworkCompleted()
            ? n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: u.OwnerColCtn },
                  n.createElement(r.JU, null, "Designer"),
                  n.createElement(
                    "div",
                    { className: u.OwnerCtn },
                    n.createElement(
                      "div",
                      null,
                      n.createElement(i.p, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  n.createElement("br", null),
                  n.createElement(r.JU, null, "Completed:"),
                  n.createElement(p.P, { rtime: t.GetArtworkCompleteTime() }),
                ),
              )
            : n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: u.OwnerColCtn },
                  n.createElement(
                    r.JU,
                    null,
                    "Designer ",
                    n.createElement(
                      d.he,
                      {
                        toolTipContent:
                          "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                      },
                      "(?)",
                    ),
                  ),
                  n.createElement(
                    "div",
                    { className: u.OwnerCtn },
                    n.createElement(
                      "div",
                      null,
                      n.createElement(i.p, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  n.createElement(
                    r.wl,
                    {
                      onClick: (e) =>
                        (0, s.pg)(
                          n.createElement(g, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, l.uX)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                  n.createElement(
                    r.wl,
                    {
                      onClick: (e) =>
                        (0, s.pg)(
                          n.createElement(E, { oEditablePlan: t }),
                          (0, l.uX)(e),
                        ),
                    },
                    "Mark As Completed",
                  ),
                ),
              )
          : n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: u.OwnerColCtn },
                n.createElement(
                  r.JU,
                  null,
                  "Designer ",
                  n.createElement(
                    d.he,
                    {
                      toolTipContent:
                        "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                    },
                    "(?)",
                  ),
                ),
                n.createElement(
                  r.wl,
                  {
                    onClick: (e) =>
                      (0, s.pg)(
                        n.createElement(g, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, l.uX)(e),
                      ),
                  },
                  "Claim",
                ),
              ),
            );
      }
      function g(e) {
        const { oEditablePlan: t, closeModal: a, bTakeOwnership: r } = e;
        return n.createElement(c.Q, {
          strTitle: r
            ? "Claim Ownership of Production Design?"
            : "Remove ownership of production design",
          strDescription: r
            ? "Do you want to cliam ownership of the artwork and localizations required for this plans promotion?"
            : "Remove the current owner of the production design on this event?",
          closeModal: a,
          onOK: () => {
            r
              ? t.SetArtworkOwnerAccountID(o.iA.accountid)
              : t.SetArtworkOwnerAccountID(null);
          },
          onCancel: a,
        });
      }
      function h(e) {
        const { oEditablePlan: t, closeModal: a, bTakeOwnership: r } = e;
        return n.createElement(c.Q, {
          strTitle: r
            ? "Claim Operations Ownership?"
            : "Remove operator ownership",
          strDescription: r
            ? "Do you want to cliam ownership of the operations for this plans promotion? This means reviewing and verifying all of require items are provided before the promotion needs to go live."
            : "Remove the current owner of the operations owner this promotion plan?",
          closeModal: a,
          onOK: () => {
            r
              ? t.SetOperatorOwnerAccountID(o.iA.accountid)
              : t.SetOperatorOwnerAccountID(null);
          },
          onCancel: a,
        });
      }
      function E(e) {
        const { oEditablePlan: t, closeModal: a } = e;
        return n.createElement(
          c.Q,
          {
            strTitle: "Complete the production Design",
            strDescription:
              "Please verify the production design aspect is completed. All of the localized artwork is uploading into each of the appropriate featuring for this plan.",
            closeModal: a,
            onOK: () =>
              t.SetArtworkCompleted(Math.floor(new Date().getTime() / 1e3)),
          },
          n.createElement("br", null),
          n.createElement(m.kd, { oEditablePlan: t }),
        );
      }
    },
    23247: (e, t, a) => {
      "use strict";
      a.d(t, {
        Op: () => G,
        T2: () => L,
        h1: () => U,
        pJ: () => O,
        qO: () => F,
      });
      var n = a(73523),
        r = a(67239),
        i = a(33428),
        s = a(68612),
        l = a(64399),
        o = a(97843),
        c = a(35700),
        m = a(90626),
        d = a(62792),
        u = a(55263),
        p = a(16676),
        _ = a(56330),
        g = a(95695),
        h = a.n(g),
        E = a(99637),
        S = a(9154),
        y = a(22797),
        v = a(68797),
        f = a(52038),
        b = a(61859),
        w = a(14771),
        D = a(78327),
        C = a(41420),
        I = a(65744),
        B = a(28351),
        T = a(93752),
        M = a(25476),
        A = a(16856),
        k = a(83854),
        R = a(18345),
        P = a(46861),
        N = a(87937);
      function G(e) {
        const {
            rtInitialDate: t,
            initialType: a,
            closeModal: g,
            rtInitialEndDate: h,
          } = e,
          [E, G] = m.useState(a || "saleevent"),
          [F, U] = m.useState(""),
          [z, x] = m.useState((0, C.D6)(t)),
          [q, W] = m.useState((0, C.E2)(t, h)),
          [j, H] = m.useState(!1),
          { fnAddNewPlan: V } = (0, l.lK)(),
          { fnAddNewSpotlight: K } = (0, o.jO)(),
          { fnCreateCluster: Y } = (0, c.O)(),
          { fnCreateMarketingMessage: $ } = (0, s.Z7)(),
          [J, X] = m.useState(null),
          [Q, Z] = m.useState(!1),
          [ee, te] = m.useState(!1),
          [ae, ne] = m.useState(void 0),
          [re, ie] = m.useState(0),
          { fnCreateDiscountEvent: se } = (0, i.ur)(),
          [le, oe] = m.useState("assetrequest" != E),
          [ce, me] = (0, m.useState)(!0),
          [de, ue] = (0, m.useState)(!0),
          [pe, _e] = (0, m.useState)(!1),
          [ge, he] = (0, m.useState)("important" == E),
          [Ee, Se] = m.useState("important" == E);
        (0, m.useEffect)(() => {
          _e("important" == E), he("important" == E);
        }, [E]);
        const [ye, ve] = (0, m.useState)(null),
          [fe, be] = (0, m.useState)(!1),
          [we] = (0, u.G6)((0, d.M9)(J), (0, d.pk)(J), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          De = (0, m.useCallback)(
            (e, t, a, n, r, i, s, l, o, c, m, d, u) => {
              V({
                type: e,
                strName: t,
                rtStartDate: a,
                rtEndDate: n,
                strDiscountEventID: r,
                nPartnerID: i,
                storeItemID: s,
                storeItemType: l,
                strSpotlightID: o,
                strMarketingMessageID: c,
                strTakeoverID: m,
                strTakeunderID: d,
              }).then((e) => {
                e
                  ? (ve(e),
                    u ||
                      (window.location.href =
                        D.TS.PARTNER_BASE_URL +
                        "promotion" +
                        A.PromotionRoutes.PromotionPlanEditor(e)))
                  : ne(
                      "Failed to create promotion, check browser console logs for details",
                    );
              });
            },
            [V],
          ),
          Ce = Boolean("vacation" == E);
        let Ie = null;
        return (
          fe &&
            (Ie =
              "All slots are already reserved. Please be thoughtful if you are adding a new entry."),
          m.createElement(
            S.o0,
            {
              strTitle: "Create Promotion Planning Entry",
              className: (0, f.A)({
                [k.Vacation]: "vacation" == E,
                [k.Seasons]: "seasonalsale" == E,
              }),
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              onCancel: g,
              bOKDisabled:
                0 == F.trim().length ||
                ee ||
                !(0, C.tm)(E, z, q) ||
                (J && !we && !j),
              onOK: async () => {
                te(!0);
                let e = null,
                  t = null,
                  a = null,
                  i = null,
                  s = null,
                  l = null;
                if (le && 0 != re && !Q && !Ce) {
                  let t = q;
                  if (r.Qo.has(E)) {
                    const e = r.Qo.get(E);
                    t = z + e.nDaysDiscountEvent * w.Kp.PerDay;
                  }
                  const a = (0, T.m)(E, z, we, J);
                  await se(
                    z,
                    t,
                    a,
                    a,
                    r.ZL.get(E),
                    [re],
                    J.appid ? [J.appid] : we?.GetIncludedAppIDs(),
                  )
                    .then((t) => (e = t.id))
                    .catch((e) => {
                      (l =
                        "Discount Event Creation Failed: " +
                        (0, v.H)(e).strErrorMsg +
                        ". "),
                        ne(l);
                    });
                }
                if (ce && (we || j) && !Q && !Ce) {
                  const e = (0, P.s)(
                    F,
                    "Weekend Deal",
                    z,
                    q,
                    "midweek" == E
                      ? "#spotlight_midweek_madness"
                      : "#spotlight_weekend_deal",
                    "#promo_ends_custom",
                    we
                      ? { id: we.GetID(), storeItemType: we.GetStoreItemType() }
                      : { id: (0, d.M9)(J), storeItemType: (0, d._P)(J) },
                  );
                  await K(e)
                    .then((e) => {
                      e
                        ? (t = e)
                        : (Boolean(l) || (l = ""),
                          (l += "Spotlight Creation Failed, check console. "),
                          ne(l));
                    })
                    .catch((e) =>
                      ne(
                        "Spotlight Creation Failed: " + (0, v.H)(e).strErrorMsg,
                      ),
                    );
                }
                if (de && (we || j) && !Q && !Ce) {
                  const e = (0, M.D)(F, 2, z, q, "#msg_action_details", we);
                  await $(e, !0)
                    .then((e) => {
                      e
                        ? (a = e)
                        : (Boolean(l) || (l = ""),
                          (l +=
                            "Marketing Message Creation Failed, check console. "),
                          ne(l));
                    })
                    .catch((e) =>
                      ne(
                        "Marketing Message Creation Failed: " +
                          (0, v.H)(e).strErrorMsg,
                      ),
                    );
                }
                !pe ||
                  Q ||
                  Ce ||
                  (await Y(n.ii.k_ConfigPage_Takeover, F, z, q)
                    .then((e) => {
                      e
                        ? (i = e)
                        : (Boolean(l) || (l = ""),
                          (l += "Takeover Creation Failed, check console. "),
                          ne(l));
                    })
                    .catch((e) =>
                      ne(
                        "Takeover Create Creation Failed: " +
                          (0, v.H)(e).strErrorMsg,
                      ),
                    )),
                  !ge ||
                    Q ||
                    Ce ||
                    (await Y(n.ii.k_ConfigPage_Takeunder, F, z, q)
                      .then((e) => {
                        e
                          ? (s = e)
                          : (Boolean(l) || (l = ""),
                            (l += "Takeover Creation Failed, check console. "),
                            ne(l));
                      })
                      .catch((e) =>
                        ne(
                          "Takeover Create Creation Failed: " +
                            (0, v.H)(e).strErrorMsg,
                        ),
                      )),
                  De(
                    E,
                    F,
                    z,
                    q,
                    e,
                    re,
                    J && !Ce ? (0, d.M9)(J) : void 0,
                    J && !Ce ? (0, d.pk)(J) : void 0,
                    t,
                    a,
                    i,
                    s,
                    l,
                  );
              },
            },
            m.createElement(
              "div",
              { className: (0, f.A)({ [k.Container]: !0 }) },
              Boolean(ee && !ae) &&
                m.createElement(y.t, {
                  size: "medium",
                  position: "center",
                  string: (0, b.we)("#Saving"),
                }),
              Boolean(ae) &&
                m.createElement("div", { className: _.ErrorStyles }, ae),
              Boolean(Ie) &&
                m.createElement(
                  "div",
                  { className: _.WarningStylesBackground },
                  Ie,
                ),
              Boolean(ye) &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement("p", null, "Promotion Plan was created."),
                  m.createElement(
                    "a",
                    {
                      href:
                        D.TS.PARTNER_BASE_URL +
                        "promotion" +
                        A.PromotionRoutes.PromotionPlanEditor(ye),
                    },
                    "Open New Plan in Editor",
                  ),
                ),
              m.createElement(p.JU, null, "Choose Promotion Type:"),
              m.createElement(O, {
                type: E,
                setType: (e) => {
                  "assetrequest" == e && oe(!1), G(e);
                },
              }),
              m.createElement(p.pd, {
                type: "text",
                label: "Promotion Name",
                tooltip:
                  "Internal name used for us to identify the promotion, not visible outside of this tool",
                value: F,
                onChange: (e) => U(e?.currentTarget?.value || ""),
              }),
              m.createElement(L, {
                type: E,
                rtStartTime: z,
                setStartTime: x,
                rtEndTime: q,
                setEndTime: W,
                fnSetSlotFull: be,
              }),
              Boolean(
                ("midweek" == E || "weekenddeal" == E) &&
                  z > 0 &&
                  q > 0 &&
                  (function (e) {
                    const t = N.tz(1e3 * e, "America/Los_Angeles").day();
                    return 1 === t || 4 === t;
                  })(z),
              ) &&
                m.createElement(
                  "div",
                  null,
                  "Need ideas?",
                  m.createElement(
                    "a",
                    {
                      href: `${D.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?rt_feature_start=${z}&rt_feature_end=${q}`,
                      target: "_blank",
                    },
                    "Check out the invitation planner",
                  ),
                ),
              Boolean(!Ce) &&
                m.createElement(
                  m.Fragment,
                  null,
                  m.createElement(p.JU, null, "Optional Featuring Target:"),
                  Boolean(J) &&
                    m.createElement(I.cy, {
                      id: (0, d.M9)(J),
                      itemType: (0, d.pk)(J),
                    }),
                  Boolean(J && !we) &&
                    m.createElement(
                      m.Fragment,
                      null,
                      m.createElement(
                        "div",
                        { className: _.ErrorStylesWithIcon },
                        "Error: Invalid choice, game not on Steam store visible.",
                      ),
                      m.createElement(p.Yh, {
                        label: "Bypass Store Visibility Check?",
                        tooltip:
                          "Note: The marketing message targetting will not be setup.",
                        checked: j,
                        onChange: H,
                      }),
                    ),
                  m.createElement(B.rF, { oChoice: J, fnSetChoice: X }),
                  Boolean(J) &&
                    m.createElement(
                      m.Fragment,
                      null,
                      m.createElement(p.Yh, {
                        label: "Tentative Plan",
                        checked: Q,
                        onChange: Z,
                        tooltip:
                          "Check if we aren't confirmed on the date and thus do not want to create any specific featuring, but we want to hold onto this time on the calendar",
                      }),
                      Boolean(!Q) &&
                        m.createElement(
                          m.Fragment,
                          null,
                          m.createElement(p.Yh, {
                            label: "Create discount event",
                            checked: le && 0 != re,
                            onChange: oe,
                            disabled: 0 == re || "assetrequest" == E,
                            tooltip:
                              "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                          }),
                          m.createElement(p.Yh, {
                            label: "Create Spotlight",
                            tooltip:
                              "Create a spotlight for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: me,
                            checked: ce,
                          }),
                          m.createElement(p.Yh, {
                            label: "Create Marketing Message",
                            tooltip:
                              "Create a Marketing Message for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: ue,
                            checked: de,
                          }),
                          m.createElement(p.Yh, {
                            label: "Create Frontpage Takeover",
                            tooltip:
                              "Create a Fronpage Takeover for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: _e,
                            checked: pe,
                          }),
                          m.createElement(p.Yh, {
                            label: "Create Takeunder",
                            tooltip:
                              "Create a Takeunder for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: he,
                            checked: ge,
                          }),
                          m.createElement(R.H, {
                            nStoreItemID: (0, d.M9)(J),
                            eStoreItemType: (0, d.pk)(J),
                            nPartnerID: re,
                            setPartnerID: ie,
                          }),
                          !1,
                        ),
                    ),
                ),
            ),
          )
        );
      }
      function O(e) {
        const { type: t, setType: a } = e,
          n = (0, m.useMemo)(
            () =>
              [
                {
                  type: "midweek",
                  tooltip: "Runs Monday 10am until Thursday 10am",
                },
                {
                  type: "weekenddeal",
                  tooltip: "Runs Thursday 10am until Monday 10am",
                },
                {
                  type: "saleevent",
                  tooltip:
                    "Use for any partner sale event, date range and length not fixed.",
                },
                {
                  type: "informational",
                  tooltip:
                    "Best to indicate items of interest for example Hawaii.  Or for launch, pre-purchase, FP2 important events in Steam with featuring.",
                },
                {
                  type: "vacation",
                  tooltip:
                    "SteamBiz or adjacent folk away and might need backup coverage",
                },
                {
                  type: "important",
                  tooltip:
                    "Gives the item a different background color to call it out.",
                },
                {
                  type: "preload",
                  tooltip: "Major game preload being identified",
                },
                { type: "themesale", tooltip: 'Steam Offical "Theme" Fest' },
                { type: "nextfest", tooltip: "Steam Next Fest" },
                {
                  type: "assetrequest",
                  tooltip: "Asset Request For Marketing Messages Only",
                },
                {
                  type: "seasonalsale",
                  tooltip: "Steam Offical Seasonal Sale",
                },
              ]
                .filter((e) => !r.re.has(e.type) || e.type == t)
                .map((e) => ({
                  label: r.W7.get(e.type),
                  tooltip: e.tooltip,
                  data: e.type,
                })),
            [],
          );
        return m.createElement(p.m, {
          strDropDownClassName: h().DropDownScroll,
          rgOptions: n,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function F(e) {
        const { intention: t, setIntention: a } = e,
          n = (0, m.useMemo)(() => {
            const e = new Array();
            return (
              e.push({
                label: r.qt.get("none"),
                data: "none",
                tooltip: "No special intentions",
              }),
              e.push({
                label: r.qt.get("takeover"),
                data: "takeover",
                tooltip: "Takeover is the highest possible special visibility",
              }),
              e.push({
                label: r.qt.get("takeunder"),
                data: "takeunder",
                tooltip: "Takeunder is the highest possible special visibility",
              }),
              e.push({
                label: r.qt.get("hub_takeover"),
                data: "hub_takeover",
                tooltip:
                  "Takeover on a particular content hub (except F2P or EA)",
              }),
              e.push({
                label: r.qt.get("regional_takeunder"),
                data: "regional_takeunder",
                tooltip: "Takeunder in a limited number of regions",
              }),
              e.push({
                label: r.qt.get("f2p"),
                data: "f2p",
                tooltip: "Takeover on the F2P content hub",
              }),
              e.push({
                label: r.qt.get("ea"),
                data: "ea",
                tooltip: "Takeover on the EA content hub",
              }),
              e.push({
                label: r.qt.get("steamchina_takeover"),
                data: "steamchina_takeover",
                tooltip:
                  "This is intended for Steam China and may receive a takeover in SteamChina",
              }),
              e.push({
                label: r.qt.get("steamchina_only"),
                data: "steamchina_only",
                tooltip: "This is intended to only surface in Steam China",
              }),
              e
            );
          }, []);
        return m.createElement(p.m, {
          strDropDownClassName: h().DropDownScroll,
          rgOptions: n,
          selectedOption: t,
          onChange: (e) => a(e.data),
        });
      }
      function L(e) {
        const {
          type: t,
          rtStartTime: a,
          setStartTime: n,
          rtEndTime: r,
          setEndTime: i,
        } = e;
        switch (t) {
          case "weekenddeal":
          case "midweek":
            return m.createElement(
              "div",
              { className: (0, f.A)(k.DateCtn, "DateCtn") },
              m.createElement(U, { ...e }),
              " ",
            );
        }
        return m.createElement(
          "div",
          { className: (0, f.A)(k.DateCtn, "DateCtn") },
          m.createElement(E.K, {
            strDescription: "Promotion Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => a,
            fnSetTimeToUpdate: n,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
          m.createElement(E.K, {
            strDescription: "Promotion End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => r,
            fnSetTimeToUpdate: i,
            fnIsValidDateTime: () => a < r,
            bShowTimeZone: !0,
          }),
        );
      }
      function U(e) {
        const {
            type: t,
            rtStartTime: a,
            setStartTime: n,
            setEndTime: i,
            fnSetSlotFull: s,
          } = e,
          o = (0, m.useMemo)(() => [t], [t]),
          c = (0, l.PZ)(104, o),
          d = (0, m.useMemo)(() => {
            const e = r.Qo.get(t),
              a = c?.get(t)?.map((t) => {
                let a = e.nMaxSlots - t.rgPlans?.length;
                a < 0 && (a = 0);
                const n = new Date(
                  ((e, t) => 1e3 * (e.rtWeekStart + t.rtStartModifier))(t, e),
                );
                return (
                  n.setHours(10),
                  {
                    label: e.fnRenderWeekDisplayForSelection(t.rtWeekStart, a),
                    data: Math.floor(n.getTime() / 1e3),
                  }
                );
              });
            return a;
          }, [c, t]);
        return (
          (0, m.useEffect)(() => {
            if (s && c) {
              const e = r.Qo.get(t),
                n = c?.get(t)?.find((t) => {
                  const n = new Date(1e3 * (t.rtWeekStart + e.rtStartModifier));
                  return n.setHours(10), Math.floor(n.getTime() / 1e3) == a;
                }),
                i = e.nMaxSlots - n?.rgPlans?.length;
              s(i <= 0);
            }
          }, [c, a, t, s]),
          m.createElement(
            m.Fragment,
            null,
            m.createElement(p.JU, null, "Choose a week:"),
            m.createElement(p.m, {
              strDropDownClassName: h().DropDownScroll,
              rgOptions: d,
              selectedOption: a,
              onChange: (e) => {
                const a = r.Qo.get(t);
                n(e.data), i(e.data + a.rtDays * w.Kp.PerDay);
              },
            }),
          )
        );
      }
    },
    18345: (e, t, a) => {
      "use strict";
      a.d(t, { H: () => u });
      var n = a(64177),
        r = a(90626),
        i = a(16676),
        s = a(56330),
        l = a(22797),
        o = a(61859),
        c = a(78327),
        m = a(65803),
        d = a(55263);
      function u(e) {
        const {
            nStoreItemID: t,
            eStoreItemType: a,
            nPartnerID: u,
            setPartnerID: p,
          } = e,
          _ = (0, n.Dn)(t, a),
          [g] = (0, d.G6)(t, a, {});
        if (
          (r.useEffect(() => {
            0 == u && _?.length > 0 && p(_[0].partner_id);
          }, [u, _, p]),
          0 === _?.length)
        )
          return 14 == g?.GetAppType()
            ? r.createElement(
                "div",
                { className: s.WarningStylesBackground },
                "Plan is featuring an advertising app, which will make the discount event visible to no one.  Remember to update the app or partner list afterwards",
              )
            : r.createElement(
                "div",
                { className: s.ErrorStylesBackground },
                "Cannot create discount event. Could not identify an owning partner for selected app. System uses payment rules to make the partner determination. Did you create an advertising app without a payment rule? Can be update via publisher page.",
              );
        if (!_ || 0 == u)
          return r.createElement(l.t, {
            size: "medium",
            position: "center",
            string: (0, o.we)("#Loading"),
          });
        const h = new Map();
        return (
          _.forEach((e) => {
            h.has(e.partner_id) || h.set(e.partner_id, e);
          }),
          0 == h.size
            ? r.createElement(
                "div",
                null,
                "Error: Cannot determine partner associated with id ",
                t,
                " type ",
                a,
              )
            : 1 == h.size
              ? r.createElement(
                  "div",
                  { className: m.AssociatedPartnerCtn },
                  r.createElement(
                    "div",
                    { className: "DialogLabel" },
                    "Partner for Discount Event:",
                  ),
                  r.createElement(
                    "a",
                    {
                      href:
                        c.TS.PARTNER_BASE_URL +
                        "pub/publisher/" +
                        _[0].partner_id,
                      target: "_blank",
                    },
                    _[0].name,
                    " (",
                    _[0].partner_id,
                    ")",
                  ),
                )
              : r.createElement(
                  "div",
                  null,
                  r.createElement(
                    "div",
                    null,
                    "Choose Partner for Discount Event:",
                  ),
                  r.createElement(
                    i.zW,
                    { value: u, onChange: (e) => p(e) },
                    Array.from(h.values()).map((e) =>
                      r.createElement(
                        i.a,
                        {
                          key: "partnerid" + e.partner_id,
                          value: e.partner_id,
                        },
                        r.createElement(
                          "a",
                          {
                            href:
                              c.TS.PARTNER_BASE_URL +
                              "pub/publisher/" +
                              e.partner_id,
                            target: "_blank",
                          },
                          e.name,
                          " (",
                          e.partner_id,
                          ")",
                        ),
                      ),
                    ),
                  ),
                )
        );
      }
    },
    90207: (e, t, a) => {
      "use strict";
      a.d(t, { M: () => S });
      var n = a(16811),
        r = a(93742),
        i = a(64399),
        s = a(65946),
        l = a(90626),
        o = a(55263),
        c = a(16676),
        m = a(56330),
        d = a(9154),
        u = a(738),
        p = a(22797),
        _ = a(56011),
        g = a(61859),
        h = a(78327),
        E = a(98076);
      function S(e) {
        const { oEditablePlan: t } = e,
          a = (0, n.bE)(),
          r = (0, s.q3)(() => t.BIsDirty() || a.BIsDirty());
        return l.createElement(
          "div",
          { className: E.ButtonRow },
          l.createElement(
            c.jn,
            {
              onClick: (e) => (0, u.pg)(l.createElement(y, null), (0, _.uX)(e)),
            },
            (0, g.we)(r ? "#Button_Save" : "#Button_Saved"),
          ),
          l.createElement("div", { className: E.ButtonRowSpacer }),
          l.createElement(
            c.$n,
            {
              onClick: (e) => {
                (0, u.pg)(
                  l.createElement(v, { oEditablePlan: t }),
                  (0, _.uX)(e),
                );
              },
            },
            (0, g.we)("#Button_Delete"),
          ),
          l.createElement(
            c.$n,
            {
              disabled: !r,
              onClick: (e) =>
                (0, u.pg)(
                  l.createElement(d.o0, {
                    strTitle: (0, g.we)("#Dialog_AreYouSure"),
                    strDescription: (0, g.we)("#DailyDeals_UnsavedChanges"),
                    onOK: () => t.RevertChanges(),
                  }),
                  (0, _.uX)(e),
                ),
            },
            (0, g.we)("#Button_Revert"),
          ),
        );
      }
      function y(e) {
        const { closeModal: t } = e,
          a = (0, r.ok)(),
          s = (0, n.bE)(),
          { fnUpdatePlan: o } = (0, i.lK)(),
          [c, m] = l.useState(!0),
          [u, _] = l.useState(!1);
        return (
          l.useEffect(() => {
            const e = s.GetModel();
            o(a.GetPartnerID(), a.GetModel(), void 0, e)
              .then((e) => {
                _(e), a.SaveSuccessClearDirty(), s.SaveSuccessClearDirty();
              })
              .catch((e) => _(!1))
              .finally(() => m(!1));
          }, []),
          l.createElement(
            d.o0,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(c)
              ? l.createElement(p.t, {
                  size: "medium",
                  position: "center",
                  string: (0, g.we)("#Saving"),
                })
              : Boolean(u)
                ? l.createElement("div", null, "Save successful")
                : l.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function v(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, r] = l.useState(!1),
          [s, o] = l.useState(void 0),
          { fnDeletePlan: c } = (0, i.lK)();
        return l.createElement(
          d.o0,
          {
            strTitle: "Remove Promotion Plan?",
            strDescription:
              "Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This will only delete the promotion plan itself; this has no effect on the discount event or other associated featuring of the plan.",
            onCancel: a,
            onOK: () => {
              r(!0),
                c(t.GetModel().id).then((e) => {
                  e
                    ? (window.location.href =
                        h.TS.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : o("Failed To Delete, check console");
                });
            },
            bOKDisabled: n,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            l.createElement(
              "div",
              { style: { paddingTop: "15px" } },
              l.createElement(f, {
                id: t.GetModel().store_item_id,
                storeItemType: t.GetModel().store_item_type,
              }),
            ),
          Boolean(n && !s) &&
            l.createElement(p.t, {
              size: "medium",
              position: "center",
              string: (0, g.we)("#Deleting"),
            }),
          Boolean(s) && l.createElement("div", { className: m.ErrorStyles }, s),
        );
      }
      function f(e) {
        const { id: t, storeItemType: a } = e,
          [n] = (0, o.G6)(t, a, { include_basic_info: !0, include_assets: !0 });
        return n
          ? l.createElement(
              "div",
              null,
              l.createElement("div", null, n.GetName(), " (", n.GetID(), ")"),
              l.createElement(
                "div",
                null,
                l.createElement("img", {
                  src:
                    n.GetAssets().GetSmallCapsuleURL() ||
                    n.GetAssets().GetHeaderURL(),
                }),
              ),
            )
          : l.createElement(p.t, {
              size: "medium",
              position: "center",
              string: (0, g.we)("#Loading"),
            });
      }
    },
    98459: (e, t, a) => {
      "use strict";
      a.d(t, {
        LK: () => h,
        M9: () => u,
        nW: () => p,
        o$: () => _,
        tD: () => g,
        te: () => E,
      });
      var n = a(16676),
        r = a(98076),
        i = a(90626),
        s = a(67239),
        l = a(52038),
        o = a(20499),
        c = a(41735),
        m = a.n(c),
        d = a(78327);
      function u(e) {
        const {
          name: t,
          id: a,
          fnSetID: s,
          fnGetURL: l,
          placeHolder: o,
          tooltip: c,
        } = e;
        return i.createElement(
          "div",
          { className: r.InputContainer },
          i.createElement(n.pd, {
            type: "text",
            label: t,
            value: a || "",
            onChange: (e) => s(e?.currentTarget?.value || ""),
            placeholder: o,
            tooltip: c,
          }),
          i.createElement(_, { ...e, showSimplifiedOpenText: !0 }),
        );
      }
      function p(e) {
        const {
          name: t,
          id: a,
          fnSetID: s,
          index: l,
          placeHolder: o,
          tooltip: c,
        } = e;
        return i.createElement(
          "div",
          { className: r.InputContainer },
          i.createElement(n.pd, {
            type: "text",
            label: t,
            value: a || "",
            onChange: (e) => s(e?.currentTarget?.value || "", l),
            placeholder: o,
            tooltip: c,
          }),
          i.createElement(g, { ...e, showSimplifiedOpenText: !0 }),
        );
      }
      function _(e) {
        const {
          name: t,
          type: a,
          id: s,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          fnGetReviewed: d,
          fnSetReviewed: u,
          fnDisplayStatus: p,
        } = e;
        if (("number" == typeof s && s > 0) || s?.length > 0) {
          const e = i.createElement(
            "a",
            {
              href: m(s),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : i.createElement(
                  i.Fragment,
                  null,
                  i.createElement("b", null, a, t && a ? ": " : ""),
                  t,
                ),
          );
          return i.createElement(
            "div",
            { className: (0, l.A)(r.PreviewLinkCtn) },
            Boolean(d)
              ? i.createElement(n.Yh, {
                  label: e,
                  checked: Boolean(d()),
                  onChange: u,
                  tooltip: d() ? `Reviewed by ${(0, o.w)(d())}` : void 0,
                })
              : e,
            Boolean(p) && p(s),
          );
        }
        return null;
      }
      function g(e) {
        const {
          name: t,
          type: a,
          id: s,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          index: d,
          fnGetReviewed: u,
          fnSetReviewed: p,
          fnDisplayStatus: _,
        } = e;
        if (s?.length > 0) {
          const e = i.createElement(
            "a",
            {
              href: m(s, d),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : i.createElement(
                  i.Fragment,
                  null,
                  i.createElement("b", null, a, t && a ? ": " : ""),
                  t,
                ),
          );
          return i.createElement(
            "div",
            {
              className: (0, l.A)(
                r.PreviewLinkCtn,
                Boolean(u && u(d)) && r.Complete,
              ),
            },
            Boolean(u)
              ? i.createElement(n.Yh, {
                  label: e,
                  checked: Boolean(u(d)),
                  onChange: (e) => p(e, d),
                  tooltip: u(d) ? `Reviewed by ${(0, o.w)(u(d))}` : void 0,
                })
              : e,
            Boolean(_) && _(s),
          );
        }
        return null;
      }
      function h(e) {
        let t = "",
          a = "",
          n = !1;
        if (e.dailyDealGid) t = s.Z7.get("dailydeal");
        else if (e.promotionPlan) {
          const a = e.promotionPlan;
          t = s.Z7.get(a.type);
          const r =
              (a.takeover_ids?.length > 0 && Boolean(a.takeover_ids[0])) ||
              (a.steamchina_takeover_ids?.length > 0 &&
                Boolean(a.steamchina_takeover_ids[0])),
            i = a.takeunder_ids?.length > 0 && Boolean(a.takeunder_ids[0]),
            l =
              "weekenddeal" != a.type &&
              "midweek" != a.type &&
              a.contenthub_takeover_ids?.length > 0 &&
              Boolean(a.contenthub_takeover_ids[0]);
          a.bgcolor
            ? (t = a.bgcolor)
            : r || "takeover" == a.intention
              ? ((t = "#3c7c50"), (n = !r))
              : i ||
                  "takeunder" == a.intention ||
                  "regional_takeunder" == a.intention
                ? ((t = "#993a21"), (n = !i))
                : (l || "hub_takeover" == a.intention) &&
                  ((t = "#A3B367"), (n = !l));
        } else e.week && ((t = "#353840"), (a = "1px dashed #4273bd"));
        return {
          style: {
            backgroundColor: t,
            border: a,
            backgroundImage: n
              ? "repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.1) 5px, rgba(255,255,255,.1) 10px)"
              : void 0,
          },
        };
      }
      function E(e) {
        const [t, a] = i.useState(!0),
          [n, r] = i.useState();
        return (
          i.useEffect(() => {
            if (!e) return void a(!1);
            (async () => {
              try {
                const t = d.TS.PARTNER_BASE_URL + `pub/ajaxgetpartnerapps/${e}`;
                let a = await m().get(t, { withCredentials: !0 });
                1 == a?.data?.success && r(a.data.appids);
              } catch (e) {}
              a(!1);
            })();
          }, [e]),
          { bLoading: t, rgAppIDs: n }
        );
      }
    },
    14514: (e, t, a) => {
      "use strict";
      a.d(t, { SW: () => i, UT: () => r, Vi: () => s });
      var n = a(61336);
      function r(e) {
        if (!e) return !1;
        const t = (0, n.wm)(e).toLocaleLowerCase();
        return (
          "store.steampowered.com" == t ||
          "store.steamchina.com" == t ||
          "steamcommunity.com" == t
        );
      }
      function i(e) {
        if (!e) return !1;
        return "store.steamchina.com" == (0, n.wm)(e).toLocaleLowerCase();
      }
      function s(e) {
        return r(e) ? null : "Link must point to store or community";
      }
    },
    77155: (e, t, a) => {
      "use strict";
      a.d(t, {
        In: () => B,
        VB: () => w,
        mM: () => n,
        oz: () => b,
        uK: () => C,
      });
      var n,
        r = a(90626),
        i = a(16676),
        s = a(8905),
        l = a(738),
        o = a(32754),
        c = a(56011),
        m = a(12070),
        d = a(98076),
        u = a(64399),
        p = a(65946),
        _ = a(44165),
        g = a(52038),
        h = a(70065),
        E = a(30470),
        S = a(61859),
        y = a(91675),
        v = a(67239),
        f = a(34585);
      function b(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: d.OwnerColCtn },
            r.createElement(
              i.JU,
              null,
              "Operations ",
              r.createElement(
                o.he,
                {
                  toolTipContent:
                    "This person is making sure the plan is coming together and everything is reviewed and ready to run.",
                },
                "(?)",
              ),
            ),
            Boolean(t.BHasOperatorOwner())
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: d.OwnerCtn },
                    r.createElement(
                      "div",
                      null,
                      r.createElement(s.p, {
                        accountID: t.GetOperatorAccountID(),
                      }),
                    ),
                  ),
                  r.createElement(
                    i.wl,
                    {
                      onClick: (e) =>
                        (0, l.pg)(
                          r.createElement(m.I, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, c.uX)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                )
              : r.createElement(
                  i.wl,
                  {
                    onClick: (e) =>
                      (0, l.pg)(
                        r.createElement(m.I, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, c.uX)(e),
                      ),
                  },
                  "Claim",
                ),
          ),
        );
      }
      function w(e) {
        const { oEditablePlan: t } = e,
          a = (0, u.R5)(t.GetID()),
          [n, s] = (0, p.q3)(() => [
            t.GetDeliveryReviewNotes(),
            t.GetAssociatedAssetURL(),
          ]);
        return (a && a.submitting_accountid && a.input_artwork_url) || s
          ? r.createElement(
              "div",
              null,
              r.createElement(D, { oEditablePlan: t }),
              Boolean(n?.trim().length > 0) &&
                r.createElement(
                  "div",
                  null,
                  r.createElement(i.JU, null, "Operation Notes on Assets"),
                  r.createElement("textarea", {
                    value: n,
                    disabled: !0,
                    className: d.AssetNotes,
                  }),
                ),
              r.createElement(i.pd, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: a.input_artwork_url || s,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            )
          : null;
      }
      function D(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, p.q3)(() => [
            t.BIsDeliveryReviewed(),
            t.GetEndDate() < _.HD.GetTimeNowWithOverride(),
          ]);
        return n
          ? null
          : r.createElement(
              r.Fragment,
              null,
              Boolean(a)
                ? r.createElement(M, { oEditablePlan: t })
                : r.createElement(T, { oEditablePlan: t }),
            );
      }
      function C(e, t) {
        return (0, r.useMemo)(
          () =>
            e.artwork_completed_time
              ? n.k_LocalizationDone
              : e.artwork_localization_task_id
                ? n.k_DesignComplete
                : e.delivery_review_time
                  ? n.k_DeliveryReviewed
                  : t?.submitting_rtime || e.associated_asset_url
                    ? n.k_AssetSubmitted
                    : n.k_AwaitingPartner,
          [e, t],
        );
      }
      function I(e) {
        const { input: t } = e,
          [a] = (0, p.q3)(() => [t?.art_requests]),
          n = (0, r.useMemo)(() => {
            if (!a?.length) return null;
            const e = new Set();
            return (
              a.forEach((t) =>
                e.add(
                  (function (e) {
                    switch (e) {
                      case "app_header_capsule":
                      case "app_main_capsule":
                        return "Header Capsule";
                      case "takeunder_art":
                      case "takeunder_mobile_art":
                        return "Takeunder";
                      case "product_banner":
                      case "product_mobile_banner":
                        return "Store Page Banner";
                      case "sale_header":
                      case "sale_logo":
                      case "capsule":
                      case "localized_title_image":
                        return "Sale Page Assets";
                      case "takeover_art":
                      case "takeover_mobile_art":
                      case "takeover_webm_art":
                      case "takeover_mp4_art":
                      case "takeover_webm_mobile_art":
                      case "takeover_mp4_mobile_art":
                        return "Takeover";
                      case "marketingmessage_art":
                      case "marketingmessage_art_2":
                        return "MM";
                      case "marketingmessage_art_eventcapsule":
                      case "marketingmessage_art_2_eventcapsule":
                        return "MM Event";
                      case "spotlight_art":
                        return "Spotlight";
                    }
                    return "uknown";
                  })(t),
                ),
              ),
              Array.from(e)
            );
          }, [a]);
        return n?.length
          ? r.createElement(
              "div",
              null,
              "Assets:\t",
              n.map((e, t) =>
                r.createElement(
                  "span",
                  { key: e },
                  e,
                  t + 1 < n.length ? ", " : "",
                ),
              ),
            )
          : null;
      }
      function B(e) {
        const { oEditablePlan: t } = e,
          a = (0, u.R5)(t.GetPlan().id),
          i = C((0, u.ru)(t.GetPlan()), a),
          [s, l] = (0, p.q3)(() => [t.GetArtTeamDueDate(), t.GetStartDate()]);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "h2",
            null,
            "Asset Process: Due ",
            (0, f.BO)(s, l, v.n5),
          ),
          r.createElement(
            "div",
            { className: d.AssetTimelineCtn },
            r.createElement(
              "div",
              { className: (0, g.A)(i == n.k_AssetSubmitted && d.ActiveState) },
              "Partner Submitted",
            ),
            r.createElement(
              "div",
              {
                className: (0, g.A)(i == n.k_DeliveryReviewed && d.ActiveState),
              },
              "Delivery Approved",
            ),
            r.createElement(
              "div",
              { className: (0, g.A)(i == n.k_DesignComplete && d.ActiveState) },
              "Design Complete",
            ),
            r.createElement(
              "div",
              {
                className: (0, g.A)(i == n.k_LocalizationDone && d.ActiveState),
              },
              "Localization Complete",
            ),
          ),
          r.createElement(I, { input: a }),
        );
      }
      function T(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          "div",
          { className: (0, g.A)(d.StatusCtn, d.Incomplete) },
          r.createElement(
            i.$n,
            {
              className: d.StatusBtn,
              onClick: (e) =>
                (0, l.pg)(
                  r.createElement(A, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, c.uX)(e),
                ),
            },
            "Review Asset Delivery",
          ),
        );
      }
      function M(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, p.q3)(() => [
            t.GetDeliveryReviewTime(),
            t.GetDeliveryReviewAccount(),
          ]);
        return r.createElement(
          "div",
          { className: (0, g.A)(d.StatusCtn, d.Complete) },
          r.createElement(
            "div",
            { className: d.ReviewedCtn },
            r.createElement(
              "div",
              { className: d.OwnerCtn },
              r.createElement(
                "div",
                null,
                r.createElement(s.p, { accountID: n }),
              ),
              r.createElement(
                i.$n,
                {
                  className: d.StatusBtn,
                  onClick: (e) =>
                    (0, l.pg)(
                      r.createElement(A, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, c.uX)(e),
                    ),
                },
                "Clear Asset Status",
              ),
            ),
            r.createElement(
              "div",
              null,
              "Reviewed: ",
              (0, S.TW)(a),
              "@ ",
              (0, y.KC)(a, { bForce24HourClock: !1 }),
            ),
          ),
        );
      }
      function A(e) {
        const { oEditablePlan: t, closeModal: a, bReviewVerify: n } = e,
          s = (0, u.R5)(t.GetID()),
          [l, o] = (0, r.useState)(t.GetDeliveryReviewNotes());
        return r.createElement(
          h.Q,
          {
            strTitle: n
              ? "Asset Delivery Review?"
              : "Clear Assert Delivery Review Status",
            strDescription: n
              ? "Is the Asset Delivery Reviewed?"
              : "Remove the asset delivery review status from this plan?",
            closeModal: a,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              n
                ? t.SetDeliveryReviewedAccountAndTime(
                    E.iA.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                    l,
                  )
                : t.ClearDeliveryReviewedStatus();
            },
          },
          Boolean(n) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "p",
                null,
                "Have you verified the following in their URL folder?",
                r.createElement(
                  "ol",
                  null,
                  r.createElement(
                    "li",
                    null,
                    "Does it include layered PSD file",
                  ),
                  r.createElement("li", null, "Are assets high quality"),
                  r.createElement("li", null, "No burned in dates"),
                  r.createElement(
                    "li",
                    null,
                    "No burned in discounts (unless publisher/franchie sales)",
                  ),
                  r.createElement("li", null, "Font file recommended?"),
                  r.createElement("li", null, "No logo or trademark parade"),
                ),
              ),
              r.createElement(
                "div",
                null,
                "Optional: Notes for Art Team about Assets",
              ),
              r.createElement("textarea", {
                cols: 120,
                rows: 10,
                onChange: (e) => o(e.currentTarget.value),
                value: l,
                autoFocus: !0,
              }),
              r.createElement(i.pd, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: s.input_artwork_url,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            ),
        );
      }
      !(function (e) {
        (e[(e.k_AwaitingPartner = 0)] = "k_AwaitingPartner"),
          (e[(e.k_AssetSubmitted = 1)] = "k_AssetSubmitted"),
          (e[(e.k_DeliveryReviewed = 2)] = "k_DeliveryReviewed"),
          (e[(e.k_DesignComplete = 3)] = "k_DesignComplete"),
          (e[(e.k_LocalizationDone = 4)] = "k_LocalizationDone");
      })(n || (n = {}));
    },
    70065: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => c });
      var n = a(16811),
        r = a(93742),
        i = a(64399),
        s = a(90626),
        l = a(71298),
        o = a(9154);
      function c(e) {
        const { bSavePlanFirst: t } = e,
          { fnUpdatePlan: a } = (0, i.lK)(),
          c = (0, r.ok)(),
          m = (0, n.bE)(),
          d = (0, l.vs)();
        return d.bLoading
          ? s.createElement(l.Hh, {
              state: d,
              strDialogTitle: "Saving Plan",
              closeModal: e.closeModal,
            })
          : s.createElement(
              o.o0,
              {
                ...e,
                closeModal: void 0,
                onOK: async () => {
                  if (!d.bLoading) {
                    d.fnSetLoading(!0);
                    const n = !t || c.BIsDirty() || m.BIsDirty();
                    !t && e.onOK && (await e.onOK());
                    let r = !n;
                    if (n)
                      try {
                        (r = await a(
                          c.GetPartnerID(),
                          c.GetModel(),
                          void 0,
                          m.GetModel(),
                        )),
                          d.fnSetSuccess(r),
                          r
                            ? (d.fnSetStrSuccess(
                                "Status update and Save successful",
                              ),
                              c.SaveSuccessClearDirty(),
                              m.SaveSuccessClearDirty())
                            : d.fnSetStrError(
                                "Save failed. Please try again later (check consoles for details)",
                              );
                      } catch (e) {
                        d.fnSetSuccess(!1);
                      }
                    t && r && e.onOK && (await e.onOK());
                  }
                },
                onCancel: () => {
                  e.onCancel && e.onCancel(), e.closeModal && e.closeModal();
                },
              },
              e.children,
            );
      }
    },
    38152: (e, t, a) => {
      "use strict";
      a.d(t, { kd: () => Xe, S4: () => Ye, rr: () => Ke });
      var n = a(73523),
        r = a(67239),
        i = a(33428),
        s = a(68612),
        l = a(16811),
        o = a(93742),
        c = a(64399),
        m = a(97843),
        d = a(65946),
        u = a(90626),
        p = a(17083),
        _ = a(55263),
        g = a(45737),
        h = a.n(g),
        E = a(16676),
        S = a(84811),
        y = a(95695),
        v = a.n(y),
        f = a(738),
        b = a(12155),
        w = a(38135),
        D = a(22797),
        C = a(48479),
        I = a(52038),
        B = a(56011),
        T = a(61859),
        M = a(5481),
        A = a(9154),
        k = a(98459),
        R = a(98076),
        P = a(71298),
        N = a(35700),
        G = a(82359),
        O = a(65744);
      function F(e) {
        const { oEditablePlan: t, clusterType: a, index: i } = e,
          s = (0, n.NA)(a);
        return u.createElement(
          "div",
          { className: R.LinkCtn },
          u.createElement(k.nW, {
            name: s + " ID",
            placeHolder: (0, n.br)(a),
            id: t.GetClusterID(a, 0),
            index: 0,
            fnSetID: (e, n) => t.SetClusterID(a, e, n),
            fnGetURL: (e, t) => r.Hm.GetClusterEditURL(a, e),
          }),
          u.createElement(
            "div",
            { className: R.ButtonRow },
            u.createElement(
              E.$n,
              {
                onClick: (e) => {
                  (0, f.pg)(
                    u.createElement(U, {
                      oEditablePlan: t,
                      clusterType: a,
                      index: i,
                    }),
                    (0, B.uX)(e),
                  );
                },
              },
              "Create new",
            ),
            u.createElement(
              E.$n,
              {
                onClick: (e) => {
                  (0, f.pg)(
                    u.createElement(z, {
                      oEditablePlan: t,
                      clusterType: a,
                      index: i,
                    }),
                    (0, B.uX)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function L(e) {
        const { index: t, oEditablePlan: a } = e,
          [r, i] = (0, u.useState)(n.ii.k_ConfigPage_FreeToPlay_Takeover),
          s = (0, u.useMemo)(
            () =>
              Object.values(n.ii)
                .filter((e) => "content_hub" == (0, n.J4)(e))
                .map((e) => ({ value: e, label: (0, n.NA)(e) })),
            [],
          );
        return (
          u.useEffect(() => {
            for (let e = 0; e < a.GetContentHubTakeoverCount(); e++)
              if (a.GetContentHubTakeoverType(e)) {
                i(a.GetContentHubTakeoverType(e));
                break;
              }
          }, [i, a]),
          u.createElement(
            u.Fragment,
            null,
            u.createElement(G.Ay, {
              isSearchable: !0,
              styles: { option: (e) => ({ ...e, color: "#444444" }) },
              options: s,
              value: s.find((e) => e.value == r),
              onChange: (e) => i(e.value),
            }),
            u.createElement(F, { index: t, oEditablePlan: a, clusterType: r }),
          )
        );
      }
      function U(e) {
        const { closeModal: t, oEditablePlan: a, clusterType: r, index: i } = e,
          [s, l] = (0, u.useState)(a.GetName()),
          [o, c] = (0, u.useState)(""),
          m = "Create New " + (0, n.NA)(r),
          { fnCreateCluster: p } = (0, N.O)(),
          [g, h] = (0, d.q3)(() => [
            a.GetFeaturedItemID(),
            a.GetFeaturedItemType(),
          ]),
          [S] = (0, _.G6)(g, h, {});
        (0, u.useEffect)(() => {
          if (S) {
            let e = S.GetStorePageURLWithOverride();
            r == n.ii.k_ConfigPage_TakeoverSteamChina &&
              (e = e.replace(/steampowered\.com/g, "steamchina.com")),
              c(e);
          }
        }, [S, r]);
        const y = (0, P.vs)();
        return y.bLoading
          ? u.createElement(P.Hh, {
              state: y,
              strDialogTitle: m,
              closeModal: t,
            })
          : u.createElement(
              A.o0,
              {
                strTitle: m,
                onCancel: t,
                bOKDisabled: !s || 0 == s.trim().length,
                onOK: async () => {
                  y.fnSetLoading(!0);
                  const e = await p(
                    r,
                    s,
                    a.GetStartDate(),
                    a.GetEndDate(),
                    o,
                    g,
                    h,
                  );
                  e
                    ? (a.SetClusterID(r, e, i),
                      y.fnSetStrSuccess(
                        m + " was successfull; remember to save.",
                      ))
                    : y.fnSetStrError("Failed to create cluster: " + m);
                },
              },
              u.createElement(E.pd, {
                type: "text",
                label: "Name",
                value: s,
                onChange: (e) => l(e.currentTarget.value),
              }),
              u.createElement("div", null, "Associated Items"),
              u.createElement(O.cy, { id: g, itemType: h }),
              u.createElement(E.pd, {
                type: "text",
                label: "Target URL",
                value: o,
                onChange: (e) => c(e.currentTarget.value),
              }),
            );
      }
      function z(e) {
        const { closeModal: t, oEditablePlan: a, clusterType: r } = e,
          i = (0, n.NA)(r);
        return u.createElement(A.o0, {
          strTitle: "Choose Existing " + i,
          strDescription: "Not Built Yet",
          closeModal: t,
        });
      }
      var x = a(18509),
        q = a(93752),
        W = a(25476),
        j = a(62792),
        H = a(28351);
      function V(e) {
        const {
            storeItemID: t,
            storeItemType: a,
            closeModal: n,
            fnSetStoreItemFeature: r,
          } = e,
          [i, s] = u.useState((0, j.Je)(t, a));
        return u.createElement(
          A.o0,
          {
            strTitle: "Update Item Featuring",
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              i && r((0, j.M9)(i), (0, j.pk)(i)), n();
            },
            onCancel: n,
          },
          Boolean(i)
            ? u.createElement(O.cy, { id: t, itemType: a })
            : u.createElement("div", null, "No featured store item selected."),
          u.createElement(H.rF, { oChoice: i, fnSetChoice: s }),
        );
      }
      var K = a(23247),
        Y = a(90207),
        $ = a(14932),
        J = a(8905),
        X = a(14947),
        Q = a(73745),
        Z = a(78327),
        ee = a(34629),
        te = a(6419),
        ae = a(6144);
      class ne {
        m_oRequest = null;
        m_originalPlan = null;
        m_planID;
        m_bDirty = !1;
        m_callback = new ae.lu();
        m_storeItemKey = null;
        constructor(e, t) {
          (0, X.Gn)(this), this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_originalPlan = JSON.parse(JSON.stringify(t))),
            (this.m_oRequest = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1),
            (this.m_planID = e),
            this.m_oRequest.store_item_id &&
              (this.m_storeItemKey = (0, j.vo)(
                this.m_oRequest.store_item_id,
                this.m_oRequest.store_item_type,
              ));
        }
        SaveSuccessClearDirty() {
          (this.m_originalPlan = JSON.parse(JSON.stringify(this.m_oRequest))),
            (this.m_bDirty = !1);
        }
        GetPlan() {
          return this.m_oRequest;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetModel() {
          return this.m_oRequest;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetType() {
          return this.m_oRequest.type;
        }
        GetStartDate() {
          return this.m_oRequest.start_date;
        }
        GetEndDate() {
          return this.m_oRequest.end_date;
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oRequest.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oRequest.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oRequest.store_item_type;
        }
        GetRequestNotes() {
          return this.m_oRequest.request_notes;
        }
        SetType(e) {
          this.m_oRequest.type !== e &&
            ((this.m_oRequest.type = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oRequest.start_date !== e &&
            ((this.m_oRequest.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oRequest.end_date !== e &&
            ((this.m_oRequest.end_date = e), this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oRequest.store_item_id == e &&
            this.m_oRequest.store_item_type == t) ||
            ((this.m_oRequest.store_item_id = e),
            (this.m_oRequest.store_item_type = t),
            (this.m_storeItemKey = (0, j.vo)(
              this.m_oRequest.store_item_id,
              this.m_oRequest.store_item_type,
            )),
            this.Dispatch());
        }
        SetRequestNote(e) {
          this.m_oRequest.request_notes !== e &&
            ((this.m_oRequest.request_notes = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oRequest = JSON.parse(JSON.stringify(this.m_originalPlan))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, ee.Cg)([X.sH], ne.prototype, "m_bDirty", void 0),
        (0, ee.Cg)([te.o], ne.prototype, "SetType", null),
        (0, ee.Cg)([te.o], ne.prototype, "SetStartDate", null),
        (0, ee.Cg)([te.o], ne.prototype, "SetEndDate", null),
        (0, ee.Cg)([te.o], ne.prototype, "SetFeaturedStoreItem", null),
        (0, ee.Cg)([te.o], ne.prototype, "SetRequestNote", null),
        (0, ee.Cg)([te.o], ne.prototype, "RevertChanges", null);
      class re {
        m_model = null;
        InitPromotionPlanToEdit(e, t, a = !1) {
          return (
            "dev" == Z.TS.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanPartnerEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, X.HO)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                a && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new ne(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static s_Singleton;
        static Get() {
          return (
            re.s_Singleton ||
              ((re.s_Singleton = new re()),
              "dev" == Z.TS.WEB_UNIVERSE &&
                (window.g_PromotionPlanPartnerEditStore = re.s_Singleton)),
            re.s_Singleton
          );
        }
        constructor() {}
      }
      function ie() {
        const e = (0, Q.CH)(),
          [t, a] = u.useState(re.Get().GetPromotionPlanToEdit());
        return (
          (0, Q.hL)(t?.GetCallback(), (t) => {
            a(t), e();
          }),
          t
        );
      }
      function se(e) {
        const t = (0, o.ok)(),
          a = (0, l.bE)(),
          n = ie(),
          r = t.BIsDirty() || a.BIsDirty() || n?.BIsDirty(),
          [i] = (0, d.q3)(() => [t.GetDiscountEventID()]),
          s = [
            {
              name: "Admin Info",
              key: "admininfo",
              contents: u.createElement(ce, null),
            },
          ];
        return (
          i &&
            s.push({
              name: "Discount Event",
              key: "discountevent",
              contents: u.createElement(
                S.tH,
                null,
                u.createElement(oe, { strDiscountEventID: i }),
              ),
            }),
          u.createElement(
            "div",
            null,
            u.createElement("div", null, "Is dirty?: ", r ? "true" : "false"),
            u.createElement(le, null),
            u.createElement("br", null),
            u.createElement("br", null),
            u.createElement("hr", null),
            u.createElement(w.V, {
              tabs: s,
              bDisableRouting: !0,
              startingTab: "mainmessage",
            }),
            u.createElement("div", { className: v().ClearThings }),
          )
        );
      }
      function le(e) {
        const t = (0, o.ok)().GetModel(),
          [a, n, r, i, s, l, c] = (0, d.q3)(() => [
            t.owner_account_id,
            t.creator_account_id,
            t.artwork_owner_account_id,
            t.admin_accounts,
            t.reviewed_by_account,
            t.operator_account_id,
            t.marked_completed_by_account,
          ]);
        return u.createElement(
          u.Fragment,
          null,
          Boolean(n) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Creator:"),
              u.createElement(J.p, { accountID: n }),
            ),
          Boolean(a) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Owner:"),
              u.createElement(J.p, { accountID: a }),
            ),
          Boolean(r) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Artwork Owner:"),
              u.createElement(J.p, { accountID: r }),
            ),
          Boolean(s) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Reviewer:"),
              u.createElement(J.p, { accountID: s }),
            ),
          Boolean(c) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Marked Completed By:"),
              u.createElement(J.p, { accountID: c }),
            ),
          Boolean(l) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "Operator Owner:"),
              u.createElement(J.p, { accountID: l }),
            ),
          Boolean(i?.length > 0) &&
            u.createElement(
              "div",
              { className: h().SectionCtn },
              u.createElement(E.JU, null, "All Editors of the Plan:"),
              i?.map((e) =>
                u.createElement(J.p, { key: "editor" + e, accountID: e }),
              ),
            ),
        );
      }
      function oe(e) {
        const { strDiscountEventID: t } = e,
          a = (0, i.vV)(t);
        return u.createElement($.G, { data: a });
      }
      function ce(e) {
        const t = (0, o.ok)(),
          a = (0, l.bE)(),
          n = ie(),
          r = t.BIsDirty() || a.BIsDirty() || n?.BIsDirty(),
          i = t.GetModel();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement("div", null, "Is Dirty: ", r),
          u.createElement("h1", null, "Admin Model:"),
          u.createElement($.G, { data: i }),
          u.createElement("h1", null, "Partner Inputs to Art Pipeline:"),
          u.createElement($.G, { data: a.GetModel() }),
          u.createElement(
            E.$n,
            { onClick: () => a.ClearInput() },
            "Clear Partner Inputs",
          ),
          u.createElement(
            E.$n,
            { onClick: () => a.SetRequestedArt([]) },
            "Clear Asset Requests",
          ),
          u.createElement("h1", null, "Partner Promotion Plan Request"),
          u.createElement($.G, { data: n?.GetModel() || {} }),
        );
      }
      var me = a(92757),
        de = a(16856);
      function ue(e) {
        const { fnBIsPlanDirty: t } = (0, o.Gr)(),
          { fnBIsPlanInputPipelineDirty: a } = (0, l.RX)(),
          { fnBIsPlanPartnerRequestDirty: n } = {
            fnBIsPlanPartnerRequestDirty: u.useCallback(
              () =>
                !!re.Get().GetPromotionPlanToEdit() &&
                re.Get().GetPromotionPlanToEdit().BIsDirty(),
              [],
            ),
            fnResetDirtyPlanPartnerRequest: u.useCallback(() => {
              re.Get().ClearEditModel();
            }, []),
          },
          r = (0, o.ok)(),
          i = (0, l.bE)(),
          s = ie();
        u.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() || a() || n()
                ? (0, T.we)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t, a, n],
        );
        return u.createElement(me.XG, {
          message: (e) =>
            !((r && t()) || (i && a()) || (s && n())) ||
            e.pathname == de.PromotionRoutes.PromotionPlanEditor(r.GetID()) ||
            (0, T.we)("#DailyDeals_UnsavedChanges"),
        });
      }
      var pe = a(15755),
        _e = a(92391),
        ge = a(1305),
        he = a(32703),
        Ee = a(10592),
        Se = a(49821),
        ye = a(86921),
        ve = a(92135),
        fe = a(14514);
      function be(e) {
        const { gid: t } = e,
          a = (0, he.w9)(t, null),
          n = (0, he.gA)(t, null);
        if (!a && !n) return null;
        const {
            eVisibility: r,
            bDateSet: i,
            bItemAssociated: s,
            bFiltersSetup: l,
            bValidLink: o,
            bLegalLineHandled: c,
          } = a,
          {
            bMinimumAssetsSetup: m,
            nAssetSetup: d,
            nCompleteAssetRequired: p,
            bMatchingVideoAssets: _,
            strCustomTemplateType: g,
          } = n;
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              2 == r ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, i && R.Complete) },
              i ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, s && R.Complete) },
              s ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Filters",
            ),
            "mm_auto_render" != g &&
              u.createElement(
                "span",
                { className: (0, I.A)(R.Status, m && R.Complete) },
                m ? "🗹 " : "☐ ",
                " Assets (",
                d,
                "/",
                p,
                ")",
              ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, o && R.Complete) },
              o ? "🗹 " : "☐ ",
              " ValidLink",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, c && R.Complete) },
              c ? "🗹 " : "☐ ",
              " Legal",
            ),
            void 0 !== _ &&
              u.createElement(
                "span",
                { className: (0, I.A)(R.Status, _ && R.Complete) },
                _ ? "🗹 " : "☐ ",
                " Animated Assets",
              ),
          ),
        );
      }
      function we(e) {
        const { id: t } = e,
          a = (0, m.Ib)(t);
        if (!a) return null;
        const n = Boolean(a.visibility.visible),
          r =
            a.visibility.startdate &&
            a.visibility.enddate &&
            a.visibility.enddate > a.visibility.startdate,
          i =
            a.association?.appid ||
            a.association?.packageid ||
            a.association?.bundleid,
          s = a.image ? Object.keys(a.image).length : 0,
          l = s >= Ee.G,
          o = a.association?.url,
          c = Boolean(o);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              n ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, r && R.Complete) },
              r ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, i && R.Complete) },
              i ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, c && R.Complete) },
              c ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Assets (",
              s,
              "/",
              Ee.G,
              ")",
            ),
          ),
          Boolean(c && !(0, fe.UT)(o)) &&
            u.createElement(
              "div",
              { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
              "Error: Spotlight has an overide URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function De(e) {
        const { id: t, type: a } = e,
          r = (0, ge.TR)(a, t);
        if (!r) return null;
        const i = Boolean(r.visibility.visible),
          s =
            r.visibility.startdate &&
            r.visibility.enddate &&
            r.visibility.enddate > r.visibility.startdate,
          l =
            r.association?.appid ||
            r.association?.packageid ||
            r.association?.bundleid,
          o = r.association?.url || r.page_bg_url,
          c = Boolean(o);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              { className: R.Visibility },
              "Visibility: ",
              i ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, s && R.Complete) },
              s ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, l && R.Complete) },
              l ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, c && R.Complete) },
              c ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            _e.lQ.map((e) => {
              const t = Object.keys(r[e] ?? []).length,
                n = t >= Ee.G;
              return u.createElement(
                "span",
                { key: a + "_" + e },
                n ? "🗹 " : "☐ ",
                " ",
                (0, _e.$U)(e),
                " ",
                "(",
                t,
                "/",
                Ee.G,
                ")",
              );
            }),
          ),
          Boolean(c && !(0, fe.UT)(o)) &&
            u.createElement(
              "div",
              { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
              "Error: Takeover has an overide URL which isn't store or community. Check for typos.",
            ),
          Boolean(
            c && a == n.ii.k_ConfigPage_TakeoverSteamChina && !(0, fe.SW)(o),
          ) &&
            u.createElement(
              "div",
              { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
              "Error: Steam China Takeover without a SteamChina store URL; fix the hostname to be 'store.steamchina.com'",
            ),
        );
      }
      function Ce(e) {
        const { id: t } = e,
          a = (0, ge.TR)(n.ii.k_ConfigPage_Takeunder, t);
        if (!a) return null;
        const r = Boolean(a.visibility.visible),
          i =
            a.visibility.startdate &&
            a.visibility.enddate &&
            a.visibility.enddate > a.visibility.startdate,
          s =
            a.association?.appid ||
            a.association?.packageid ||
            a.association?.bundleid,
          l = a.association?.url || a.takeunder_url,
          o = Boolean(l),
          c = /steam[-_]?deck/i.test(l || ""),
          m = /\/deckverified\//i.test(l || "");
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              r ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, i && R.Complete) },
              i ? "🗹 " : "☐ ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, s && R.Complete) },
              s ? "🗹 " : "☐ ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, I.A)(R.Status, o && R.Complete) },
              o ? "🗹 " : "☐ ",
              " Valid Link",
            ),
            Se.rk.map((e) => {
              const t = Object.keys(a[e] ?? []).length,
                n = t >= Ee.G;
              return u.createElement(
                "span",
                { key: "takeunder_" + e },
                n ? "🗹 " : "☐ ",
                " ",
                (0, Se.NU)(e),
                " ",
                "(",
                t,
                "/",
                Ee.G,
                ")",
              );
            }),
          ),
          Boolean(c && !m) &&
            u.createElement(
              "div",
              { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
              "Error: This take under should be updated to convert /sale/ to /deckverified/ to reduce deck advertising on front page",
            ),
          Boolean(o && !(0, fe.UT)(l)) &&
            u.createElement(
              "div",
              { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
              "Error: Takeunder has an override URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function Ie(e) {
        const { clanAccountID: t, gidClanEvent: a } = e,
          n = (0, ye.dB)(t, a);
        if (!n) return null;
        const r = Boolean(n.BIsVisibleEvent()),
          i =
            n.GetStartTimeAndDateUnixSeconds() &&
            n.GetEndTimeAndDateUnixSeconds() &&
            n.GetEndTimeAndDateUnixSeconds() >
              n.GetStartTimeAndDateUnixSeconds(),
          s = Boolean(
            n?.jsondata?.sale_vanity_id_valve_approved_for_sale_subpath,
          );
        return u.createElement(
          "div",
          { className: R.StatusRow },
          u.createElement("span", null, "Visibility: ", r ? "Public" : "Draft"),
          u.createElement(
            "span",
            { className: (0, I.A)(R.Status, i && R.Complete) },
            i ? "🗹 " : "☐ ",
            " Date",
          ),
          u.createElement(
            "span",
            {
              className: (0, I.A)(
                R.Status,
                n?.jsondata?.sale_associated_advertising_appid && R.Complete,
              ),
            },
            n?.jsondata?.sale_associated_advertising_appid ? "🗹 " : "☐ ",
            " Advertising App",
          ),
          u.createElement(
            "span",
            { className: (0, I.A)(R.Status, s && R.Complete) },
            s ? "🗹 " : "☐ ",
            " Valid Link",
          ),
          ve.gM.map((e) => {
            const t = (n.jsondata[e] ?? []).filter(Boolean).length,
              a = t >= Ee.G;
            return u.createElement(
              "span",
              { key: "takeunder_" + e },
              a ? "🗹 " : "☐ ",
              " ",
              (0, ve.nx)(e),
              " ",
              "(",
              t,
              "/",
              Ee.G,
              ")",
            );
          }),
        );
      }
      function Be(e) {
        const { strDiscountEventID: t, oEditablePlan: a } = e,
          n = (0, i.vV)(t),
          [r, s, l] = (0, d.q3)(() => [
            a.GetSaleClanAccountID(),
            a.GetSaleClanEventGID(),
            a.GetOptInID(),
          ]),
          [o] = (0, _.t7)(n?.appids?.[0], {}),
          c = (0, ye.dB)(r, s);
        if (
          0 == n?.appids?.length &&
          0 == n?.publisherids?.length &&
          0 == n?.opt_in_name?.length
        )
          return u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              "Warning: Discount Event is visible to ALL Partners.",
            ),
            u.createElement(
              "span",
              null,
              "unique" == n.collision_type ? "🗹 " : "☐ ",
              "Seasonal Sale Setting",
            ),
          );
        if (1 == n?.appids?.length && 14 == o?.GetAppType())
          return u.createElement(
            "div",
            { className: (0, I.A)(R.StatusRow, R.StatusAlert) },
            "Warning: Discount Event is targeting advertising app; visible to no one.",
          );
        if (l && n)
          return u.createElement(
            "div",
            { className: R.StatusRow },
            u.createElement(
              "span",
              null,
              n.opt_in_name ? "🗹 " : "☐ ",
              "OptIn Associated",
            ),
            Boolean(n.appids?.length > 0 || n.publisherids?.length > 0) &&
              u.createElement(
                "span",
                null,
                "Error: App or Partner List specified",
              ),
          );
        const m = c?.GetSaleFeaturedAppsCount() || 0;
        return u.createElement(
          "div",
          { className: R.StatusRow },
          Boolean(m) &&
            u.createElement(
              "span",
              null,
              n?.appids?.length >= m ? "🗹 " : "☐ ",
              "Apps From Sale (",
              n?.appids?.length || 0,
              "/",
              m,
              ")",
            ),
        );
      }
      var Te = a(31715),
        Me = a(46861),
        Ae = a(53243),
        ke = a(5917),
        Re = a(68797),
        Pe = a(30470),
        Ne = a(42569),
        Ge = a(59178);
      function Oe(e) {
        const { oEditablePlan: t } = e;
        return u.createElement(
          "div",
          { className: R.LinkCtn },
          u.createElement(k.M9, {
            name: "Advertising AppID",
            placeHolder: "/app/landing/<grab this ID>",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnSetID: t.SetAdvertisingAppIDFromString,
            fnGetURL: r.Hm.GetAdvertingAppLandingURL,
          }),
          u.createElement(
            "div",
            { className: R.ButtonRow },
            u.createElement(
              E.$n,
              {
                onClick: (e) => {
                  (0, f.pg)(
                    u.createElement(Fe, { oEditablePlan: t }),
                    (0, B.uX)(e),
                  );
                },
              },
              "Create new",
            ),
          ),
        );
      }
      function Fe(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, r] = (0, u.useState)(t.GetName() + " Advertising App"),
          [i, s] = (0, u.useState)(t.BHasAdvertisingAppID()),
          [l, o] = (0, u.useState)(() => t.GetPartnerID() || ke.wI),
          [c, m] = (0, d.q3)(() => [
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
          ]),
          p = u.useMemo(() => (0, j.vo)(c, m), [c, m]),
          _ = (0, ke.JK)(n, l),
          g = (0, P.vs)();
        return g.bLoading
          ? u.createElement(P.Hh, {
              state: g,
              strDialogTitle: "Creating Advertising App",
              closeModal: a,
            })
          : i
            ? u.createElement(A.o0, {
                strTitle: "Create New Advertising App?",
                strDescription: `You already have appid with ID ${t.GetAdvertisingAppID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => s(!1),
                strOKButtonText: "Create New Advertising App Anyways",
              })
            : u.createElement(
                A.o0,
                {
                  strTitle: "Create New Advertising App?",
                  strDescription:
                    "Creates and links the advertising app to this promotion. We always create the advertising app on the special 504 publisher ID.",
                  onCancel: a,
                  className: R.CreationDialogCtn,
                  bOKDisabled: 0 == n.trim().length,
                  bAllowFullSize: !0,
                  onOK: async () => {
                    g.fnSetLoading(!0),
                      _.mutateAsync()
                        .then((e) => {
                          e
                            ? (t.SetAdvertisingAppID(e),
                              t.BHasFeaturedStoreItem() ||
                                t.SetFeaturedStoreItem(e, 0),
                              g.fnSetStrSuccess(
                                "Created Advertising App: " + e,
                              ))
                            : g.fnSetStrError(
                                "Failed to create app, see console for details",
                              );
                        })
                        .catch((e) => {
                          const t =
                            "ad app Creation Failed: " +
                            (0, Re.H)(e).strErrorMsg +
                            ". ";
                          console.log(t, e), g.fnSetStrError(t);
                        });
                  },
                },
                u.createElement(E.pd, {
                  value: n,
                  onChange: (e) => r(e.currentTarget.value),
                  label: "Advertising App Name",
                  tooltip:
                    "If we are using the advertising app for granting community or loyalty point items, beware the advertising name will appear on the point shop, so choose the name more carefully",
                }),
                u.createElement(Ge.G, {
                  nPartnerID: l,
                  fnUpdatePartnerID: o,
                  storeItemKey: p,
                  autoSelectPartnerFromStoreItem: !0,
                }),
                u.createElement(Ne.m, {
                  accountID: Pe.iA.accountid,
                  partnerID: l,
                  fnSetPartnerID: o,
                  strLabel: "Choose Partner Who Owns The Advertising App",
                  strTooltip:
                    "For our internal events, it should remain partner id 504; for partner events we should use the correct partner id so that the discount event will cover the adverting app and we will pull the correct date information.",
                }),
              );
      }
      function Le(e) {
        (0, o.ok)(), (0, l.bE)();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            {
              className: (0, I.A)(
                h().DefaultSectionCtn,
                h().ValveOnlyBackground,
              ),
            },
            u.createElement(
              "h2",
              { className: h().ValveOnlyTitle },
              "Valve Only",
            ),
            u.createElement(
              "div",
              null,
              "TODO: Will only appear if approvals are required.",
            ),
          ),
        );
      }
      var Ue = a(42974),
        ze = a(32754),
        xe = a(44165),
        qe = a(4610),
        We = a(87529);
      function je(e) {
        const t = (0, o.ok)(),
          a = (0, xe.f1)(),
          [n, r] = (0, d.q3)(() => [
            t.BHasAssociatedSaleEvent(),
            t.GetEndDate(),
          ]);
        return n
          ? a < r
            ? u.createElement(
                "div",
                null,
                "Will show results with the event is over... come back later.",
              )
            : u.createElement(
                "div",
                { className: (0, I.A)(h().DefaultSectionCtn) },
                u.createElement(
                  "h2",
                  { className: h().ValveOnlyTitle },
                  "Sale Page Results",
                ),
                u.createElement("hr", null),
                u.createElement(He, { oEditablePlan: t }),
              )
          : u.createElement(
              "div",
              null,
              "Note: We only support results for promo plans with associated Sale Pages",
            );
      }
      function He(e) {
        const { oEditablePlan: t } = e,
          [a, n] = (0, d.q3)(() => [
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]),
          r = (0, We.z)(a, n),
          i = (0, u.useMemo)(
            () => ({
              clanAccountID: a,
              clanEventGID: n,
              strEventName: t.GetName(),
              rtStartTime: t.GetStartDate(),
              rtEndTime: t.GetEndDate(),
              bVisible: !0,
            }),
            [a, n, t],
          );
        return u.createElement(
          S.tH,
          null,
          Boolean(r)
            ? u.createElement(qe.K0, { saleDesc: i })
            : u.createElement(D.t, { string: "Loading" }),
        );
      }
      var Ve = a(82097);
      function Ke(e) {
        const { planid: t, children: a, bCanBeMissing: n, bForceReload: r } = e,
          [i, s] = u.useState(!1),
          m = r ? !i : r,
          { oPlanContainer: d, bError: _ } = (0, c.vv)(t, m),
          g = (0, u.useMemo)(
            () => (d ? JSON.parse(d.admin_jsondata) : null),
            [d],
          ),
          h = (0, c.ic)(t),
          [E, S] = u.useState(() => !m && (0, o.ft)()?.GetID() == t);
        return (
          u.useEffect(() => {
            d &&
              g &&
              h &&
              ((0, o.ft)()?.GetID() != g.id || m) &&
              ((0, o.ll)(d.partner_id, g), (0, l.Y3)(g.id, h), S(!0), s(!0));
          }, [g, d, h, t, m]),
          _ && !n
            ? u.createElement(
                "div",
                null,
                u.createElement("div", null, "Promotion Plan does not exist."),
                u.createElement(
                  p.N_,
                  { to: "/planning/dashboard/" },
                  "Return to Promotion Planning Dashboard.",
                ),
              )
            : (n && !t) || E || _
              ? u.createElement(u.Fragment, null, a, " ")
              : u.createElement(D.t, {
                  size: "medium",
                  position: "center",
                  string: (0, T.we)("#Loading"),
                })
        );
      }
      function Ye(e) {
        const { planid: t } = e,
          a = (0, l.bE)(),
          n = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          r = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: u.createElement(S.tH, null, u.createElement(Je, null)),
              onClick: n,
            },
            {
              name: "Asset Request",
              key: "assets",
              contents: u.createElement(
                S.tH,
                null,
                u.createElement(M.J, { bShowLinkToPromotionPlan: !1 }),
              ),
              onClick: n,
            },
            {
              name: "Asset Uploads",
              key: "upload",
              contents: u.createElement(
                S.tH,
                null,
                u.createElement(Ue.MS, null),
              ),
              onClick: n,
            },
          ];
        return (
          a?.BHasAnyArtTypeReviewRequested() &&
            r.push({
              name: "Asset Approvals",
              key: "approvals",
              contents: u.createElement(S.tH, null, u.createElement(Le, null)),
              onClick: n,
            }),
          r.push({
            name: "Asset Localization",
            key: "localization",
            contents: u.createElement(S.tH, null, u.createElement(Ue.Dy, null)),
            onClick: n,
          }),
          r.push({
            name: "Results",
            key: "results",
            contents: u.createElement(S.tH, null, u.createElement(je, null)),
            onClick: n,
          }),
          r.push({
            name: "Debug Tab",
            key: "debug",
            contents: u.createElement(S.tH, null, u.createElement(se, null)),
            onClick: n,
          }),
          u.createElement(
            Ke,
            { planid: t, bForceReload: !0 },
            u.createElement(
              "div",
              { className: h().AdminPageCtn },
              u.createElement(ue, null),
              u.createElement($e, null),
              u.createElement(w.V, { tabs: r }),
              u.createElement("div", { className: v().ClearThings }),
            ),
          )
        );
      }
      function $e(e) {
        const t = (0, o.ok)(),
          a = new Date(),
          n = (0, d.q3)(() => new Date(1e3 * t.GetStartDate())),
          r =
            12 * n.getFullYear() +
            n.getMonth() -
            (12 * a.getFullYear() + a.getMonth());
        return u.createElement(
          p.N_,
          {
            to:
              `/planning/dashboard/?month=${r}` +
              (window.sessionStorage.getItem("promotionPageIndex") || ""),
            className: h().DashLink,
          },
          u.createElement(b.i3G, { angle: 270 }),
          u.createElement("div", null, "Return to Dashboard"),
        );
      }
      function Je(e) {
        const t = (0, o.ok)();
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: R.EditCtn },
            u.createElement(
              "div",
              { className: h().PageTitle },
              "Promotion Plan - Edit Details",
            ),
            u.createElement("hr", null),
            u.createElement(
              "div",
              { className: h().ColumnCtn },
              u.createElement(
                "div",
                { className: h().LeftCol },
                u.createElement(
                  S.tH,
                  null,
                  u.createElement(
                    "div",
                    { className: h().SectionCtn },
                    u.createElement(E.pd, {
                      type: "text",
                      label: "Promotion Name:",
                      tooltip:
                        "These names are visible to partners if they can see this plan or asset request.",
                      className: R.PromoName,
                      value: t.GetName(),
                      onChange: (e) => t.SetName(e?.currentTarget?.value || ""),
                    }),
                    u.createElement(
                      "div",
                      {
                        className: (0, I.A)(
                          v().FlexRowContainer,
                          R.EventDetailsCtn,
                        ),
                      },
                      u.createElement(
                        "div",
                        { className: R.TypeCtn },
                        u.createElement(E.JU, null, "Promotion Type:"),
                        u.createElement(K.pJ, {
                          type: t.GetType(),
                          setType: t.SetType,
                        }),
                        u.createElement(
                          E.JU,
                          null,
                          "Highest Intended Featuring:",
                          u.createElement(
                            ze.he,
                            {
                              toolTipContent:
                                "Highest level featuring we are intended for this plan",
                            },
                            "(?)",
                          ),
                        ),
                        u.createElement(K.qO, {
                          intention: t.GetFeaturingIntention(),
                          setIntention: t.SetFeaturingIntention,
                        }),
                        u.createElement(K.T2, {
                          type: t.GetType(),
                          rtStartTime: t.GetStartDate(),
                          rtEndTime: t.GetEndDate(),
                          setStartTime: t.SetStartDate,
                          setEndTime: t.SetEndDate,
                        }),
                      ),
                      u.createElement(
                        "div",
                        { className: R.AdminNotesCtn },
                        u.createElement(E.JU, null, "Admin Notes:"),
                        u.createElement("textarea", {
                          className: (0, I.A)(
                            "DialogTextInputBase",
                            R.AdminNotesText,
                          ),
                          value: t.GetAdminNotes() || "",
                          onChange: (e) =>
                            t.SetAdminNote(e?.currentTarget?.value || ""),
                        }),
                        u.createElement(E.JU, null, "Promotion Planner Notes:"),
                        u.createElement("textarea", {
                          className: (0, I.A)(
                            "DialogTextInputBase",
                            R.PromotionPlannerText,
                          ),
                          value: t.GetPromotionPlannerNote() || "",
                          onChange: (e) =>
                            t.SetPromotionPlannerNote(
                              e?.currentTarget?.value || "",
                            ),
                        }),
                      ),
                    ),
                  ),
                ),
                u.createElement(
                  S.tH,
                  null,
                  u.createElement(
                    "div",
                    { className: h().SectionCtn },
                    u.createElement(Xe, { oEditablePlan: t }),
                    u.createElement(Ae.w, { oEditablePlan: t }),
                  ),
                ),
                Boolean(t.BHasDiscountEventID()) &&
                  u.createElement(
                    "div",
                    { className: h().SectionCtn },
                    u.createElement(x.eT, {
                      strDiscountEventID: t.GetDiscountEventID(),
                      nBundleID:
                        2 == t.GetFeaturedItemType()
                          ? t.GetFeaturedItemID()
                          : void 0,
                    }),
                  ),
                u.createElement(
                  S.tH,
                  null,
                  u.createElement(
                    "div",
                    { className: h().SectionCtn },
                    u.createElement(Qe, { oEditablePlan: t }),
                  ),
                ),
                u.createElement(
                  S.tH,
                  null,
                  u.createElement(
                    "div",
                    { className: (0, I.A)(h().SectionCtn, h().ActionBar) },
                    u.createElement(Y.M, { oEditablePlan: t }),
                  ),
                ),
              ),
              u.createElement(
                S.tH,
                null,
                u.createElement(pe.D, { oEditablePlan: t }),
              ),
            ),
            u.createElement(
              "span",
              null,
              "Note: Deleting a promotion record does not delete the associated featuring items (discount event, takeover, spotlight, sale page etc...)",
            ),
          ),
        );
      }
      function Xe(e) {
        const { oEditablePlan: t } = e,
          [a, o, c, p, g, h, y, v, b] = (0, d.q3)(() => [
            t.GetSpotlightIDs(0),
            t.GetDiscountEventID(),
            t.GetMarketingMessageID(0),
            t.GetMarketingMessageID(1),
            t.GetAdvertisingAppID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]),
          w = (0, m.Ib)(a),
          D = (0, i.vV)(o),
          C = (0, s.dr)(c),
          I = (0, s.dr)(p),
          [T] = (0, _.t7)(g, {}),
          M = (0, l.bE)(),
          [A, P, N] = (0, d.q3)(() => [
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
          ]);
        return u.createElement(
          "div",
          { className: R.PreviewLinksCtn },
          u.createElement(
            "div",
            { className: R.FeatureSelectCtn },
            u.createElement(
              "div",
              { className: R.FeatureSelectBtn },
              u.createElement(
                E.$n,
                {
                  onClick: (e) =>
                    (0, f.pg)(
                      u.createElement(V, {
                        storeItemID: h,
                        storeItemType: y,
                        fnSetStoreItemFeature: (e, a) => {
                          if (e && 0 == a) {
                            const a = Ve.A.Get().GetApp(e);
                            14 == a?.GetAppType() && t.SetAdvertisingAppID(e);
                          }
                          t.SetFeaturedStoreItem(e, a);
                        },
                      }),
                      (0, B.uX)(e),
                    ),
                },
                t.BHasFeaturedStoreItem()
                  ? "Change Featured Store Item"
                  : "Feature Store Item",
              ),
            ),
            Boolean(t.BHasFeaturedStoreItem()) &&
              u.createElement(
                u.Fragment,
                null,
                u.createElement(E.JU, null, "Associated app/package/bundle:"),
                Boolean(0 == y) &&
                  u.createElement(
                    "a",
                    {
                      href: `${Pe.TS.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${h}`,
                    },
                    "Show Promotion History",
                  ),
                u.createElement(O.cy, { id: h, itemType: y }),
              ),
          ),
          !r.ZK.has(t.GetType()) &&
            u.createElement(Ge.G, {
              storeItemKey: A,
              showPartnerUnsetWarning: !1,
              showPartnerSuggestions: !1,
              showPartnerInitialSetWarning: !0,
              nPartnerID: P,
              nOriginalPartnerID: N,
              fnUpdatePartnerID: t.SetPartnerID,
              autoSelectPartnerFromStoreItem: !1,
            }),
          u.createElement(E.JU, null, "Associated Editor Links:"),
          u.createElement(
            "p",
            null,
            "Tick box to indicate completion of each item. Click link to go to associated editor.",
          ),
          u.createElement(k.o$, {
            name: D ? D.name : "",
            type: "Discount Event",
            id: t.GetDiscountEventID(),
            fnGetURL: r.Hm.GetDiscountEditURL,
            fnGetReviewed: t.GetDiscountEventReviewed,
            fnSetReviewed: t.SetDiscountEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.tH,
                null,
                u.createElement(Be, {
                  strDiscountEventID: e,
                  oEditablePlan: t,
                }),
              ),
          }),
          u.createElement(k.tD, {
            name: C ? C.title : "",
            type: "Marketing Message",
            id: t.GetMarketingMessageID(0),
            index: 0,
            fnGetURL: r.Hm.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.tH, null, u.createElement(be, { gid: e })),
          }),
          u.createElement(k.tD, {
            name: I ? I.title : "",
            type: "Marketing Message 2",
            id: t.GetMarketingMessageID(1),
            index: 1,
            fnGetURL: r.Hm.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.tH, null, u.createElement(be, { gid: e })),
          }),
          u.createElement(k.tD, {
            name: w ? w.name : "",
            type: "Spotlight",
            id: t.GetSpotlightIDs(0),
            index: 0,
            fnGetURL: r.Hm.GetSpotlightEditURL,
            fnGetReviewed: t.GetSpotlightReviewed,
            fnSetReviewed: t.SetSpotlightReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.tH, null, u.createElement(we, { id: e })),
          }),
          u.createElement(k.o$, {
            name: "",
            type: "External Partner Assets",
            id: M.GetArtInputLink(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetPartnerArtworkSubmissionReviewed,
            fnSetReviewed: t.SetPartnerArtworkSubmissionReviewed,
          }),
          u.createElement(k.o$, {
            name: "",
            type: "Sale Page",
            id: t.GetSaleEditEventURL(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetSalePageReviewed,
            fnSetReviewed: t.SetSaleEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.tH,
                null,
                u.createElement(Ie, { gidClanEvent: b, clanAccountID: v }),
              ),
          }),
          u.createElement(Te.OT, { oEditablePlan: t }),
          u.createElement(k.o$, {
            name: T ? T.GetName() : "",
            type: "Advertising AppID",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnGetURL: r.Hm.GetAdvertingAppLandingURL,
            fnGetReviewed: t.GetAdvertisingReviewed,
            fnSetReviewed: t.SetAdvertisingAppIDReviewed,
          }),
          u.createElement(k.tD, {
            name: "",
            type: "Frontpage Takeover",
            id: t.GetTakeoverID(0),
            index: 0,
            fnGetURL: r.Hm.GetTakeoverEditURL,
            fnGetReviewed: t.GetTakeoverReviewed,
            fnSetReviewed: t.SetTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.tH,
                null,
                u.createElement(De, {
                  id: e,
                  type: n.ii.k_ConfigPage_Takeover,
                }),
              ),
          }),
          u.createElement(k.tD, {
            name: (0, n.NA)(t.GetContentHubTakeoverType(0)),
            type: "Content Hub Takeovers",
            id: t.GetContentHubTakeoverID(0),
            index: 0,
            fnGetURL: (e) =>
              r.Hm.GetContentHubTakeoverEditURL(
                t.GetContentHubTakeoverType(0),
                e,
              ),
            fnGetReviewed: t.GetContentHubTakeoverReviewed,
            fnSetReviewed: t.SetContentHubTakeoverReviewed,
          }),
          u.createElement(k.tD, {
            name: "",
            type: "Takeunder",
            index: 0,
            id: t.GetTakeunderID(0),
            fnGetURL: r.Hm.GetTakeunderEditURL,
            fnGetReviewed: t.GetTakeunderReviewed,
            fnSetReviewed: t.SetTakeunderReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(S.tH, null, u.createElement(Ce, { id: e })),
          }),
          u.createElement(k.o$, {
            name: "",
            type: "Opt-In Admin",
            id: t.GetOptInID(),
            fnGetURL: r.Hm.GetOptInEditURL,
            fnGetReviewed: t.GetOptInReviewed,
            fnSetReviewed: t.SetOptInReviewed,
          }),
          u.createElement(k.o$, {
            name: "",
            type: "Giveaway Controls",
            id: t.GetGiveawayID(),
            fnGetURL: r.Hm.GetGiveawayControlsURL,
            fnGetReviewed: t.GetGiveawayReviewed,
            fnSetReviewed: t.SetGiveawayReviewed,
          }),
          u.createElement(k.o$, {
            name: "",
            type: "Internal Wiki / Confluence Page",
            id: t.GetInternalWikiURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(k.o$, {
            name: "",
            type: "Asset Kit",
            id: t.GetAssetKitURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(k.o$, {
            name: t.GetSlackChannel(),
            type: "Slack Channel",
            id: t.GetSlackChannelAsURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(k.tD, {
            name: "",
            type: "Steam China Frontpage Takeover",
            index: 0,
            id: t.GetSteamChinaTakeoverID(0),
            fnGetURL: r.Hm.GetSteamChinaTakeoverEditURL,
            fnGetReviewed: t.GetSteamChinaTakeoverReviewed,
            fnSetReviewed: t.SetSteamChinaTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                S.tH,
                null,
                u.createElement(De, {
                  id: e,
                  type: n.ii.k_ConfigPage_TakeoverSteamChina,
                }),
              ),
          }),
        );
      }
      function Qe(e) {
        const { oEditablePlan: t } = e,
          a = (0, d.q3)(() => t.GetPartnerID()),
          i = (0, u.useMemo)(() => [a], [a]);
        return u.createElement(
          C.qx,
          {
            title: "Link Editor",
            tooltip:
              "Allows you to change the associated featuring with this promotion",
            bStartMinimized: !0,
          },
          u.createElement(
            "div",
            { className: R.LinksCtn },
            u.createElement(Oe, { oEditablePlan: t }),
            u.createElement(q.P, { oEditablePlan: t }),
            u.createElement(W.t, { index: 0, oEditablePlan: t }),
            u.createElement(W.t, { index: 1, oEditablePlan: t }),
            u.createElement(Me.K, { index: 0, oEditablePlan: t }),
            u.createElement(Te.eq, {
              oEditablePlan: t,
              rgPartnerIDToValidate: i,
            }),
            u.createElement(F, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.ii.k_ConfigPage_Takeover,
            }),
            u.createElement(L, { index: 0, oEditablePlan: t }),
            u.createElement(F, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.ii.k_ConfigPage_Takeunder,
            }),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(k.M9, {
                name: "Opt-In Admin ID",
                placeHolder: "/optin/admin/edit/<grab this ID>",
                id: t.GetOptInID(),
                fnSetID: t.SetOptInID,
                fnGetURL: r.Hm.GetOptInEditURL,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(k.M9, {
                name: "Giveaway ID",
                placeHolder:
                  "/giveaways/control/<grab this ID> (only after it has been published)",
                id: t.GetGiveawayID(),
                fnSetID: t.SetGiveawayID,
                fnGetURL: r.Hm.GetGiveawayControlsURL,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(k.M9, {
                name: "Internal Wiki or Confluence Page Link",
                placeHolder: "https://confluence.valve.org/display/etc...",
                id: t.GetInternalWikiURL(),
                fnSetID: t.SetInternalWikiURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(k.M9, {
                name: "Asset Kit (Usually a Dropbox link)",
                placeHolder: "https://www.dropbox.com/s/h9gjz...",
                id: t.GetAssetKitURL(),
                fnSetID: t.SetAssetKitURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: R.LinkCtn },
              u.createElement(k.M9, {
                name: "Slack Channel Link",
                placeHolder: "Example #steam-sale-festival-fest",
                id: t.GetSlackChannel(),
                fnSetID: t.SetSlackChannel,
                tooltip: "Include the '#' is optional",
                fnGetURL: t.GetSlackChannelAsURL,
              }),
            ),
            u.createElement(F, {
              index: 0,
              oEditablePlan: t,
              clusterType: n.ii.k_ConfigPage_TakeoverSteamChina,
            }),
          ),
        );
      }
    },
    15755: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => X, D: () => Q });
      var n = a(65946),
        r = a(90626),
        i = a(44165),
        s = a(45737),
        l = a.n(s),
        o = a(16676),
        c = a(84811),
        m = a(8905),
        d = a(4869),
        u = a(9154),
        p = a(738),
        _ = a(32754),
        g = a(48479),
        h = a(52038),
        E = a(56011),
        S = a(61859),
        y = a(91675),
        v = a(78327),
        f = a(51134),
        b = a(4943),
        w = a(5026),
        D = a(33428),
        C = a(58097),
        I = a(22797);
      function B(e) {
        const {
          nNumDiscountDays: t,
          strNumDaysString: a,
          nTotalDiscountSalesUSD: n,
          nPercentLift: i,
          strPercentLift: s,
          bPercentLiftIsDollar: o,
        } = e;
        return r.createElement(
          "div",
          { className: l().StatReportCtn },
          r.createElement(
            "div",
            { className: l().Stat },
            r.createElement("div", { className: l().BigStat }, t),
            r.createElement(
              "div",
              { className: l().SmallText },
              a || "Discount Days",
            ),
          ),
          r.createElement(
            "div",
            { className: l().Stat },
            r.createElement(
              "div",
              { className: l().BigStat },
              "$",
              n.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ),
            r.createElement("div", { className: l().SmallText }, "Total Sales"),
          ),
          o
            ? r.createElement(
                r.Fragment,
                null,
                void 0 !== i &&
                  r.createElement(
                    "div",
                    { className: l().Stat },
                    r.createElement(
                      "div",
                      { className: l().BigStat },
                      "$",
                      i.toLocaleString(void 0, { maximumFractionDigits: 0 }),
                    ),
                    r.createElement(
                      "div",
                      { className: l().SmallText },
                      s || "Daily Avg.",
                    ),
                  ),
              )
            : r.createElement(
                r.Fragment,
                null,
                void 0 !== i &&
                  r.createElement(
                    "div",
                    { className: l().Stat },
                    r.createElement(
                      "div",
                      { className: l().BigStat },
                      (100 * i).toLocaleString(void 0, {
                        maximumFractionDigits: 0,
                      }),
                      "%",
                    ),
                    r.createElement(
                      "div",
                      { className: l().SmallText },
                      s || "Change in daily avg.",
                    ),
                  ),
              ),
        );
      }
      function T(e) {
        const { strDiscountEventID: t } = e,
          a = (0, D.p6)(t);
        return a && a.rgAppList && 0 != a.rgAppList.length
          ? r.createElement(A, {
              oDiscountEvent: a.oDiscountEvent,
              rgAppList: a.rgAppList,
            })
          : null;
      }
      const M = 365;
      function A(e) {
        const { rgAppList: t, oDiscountEvent: a } = e,
          n = (0, C.JK)(M, t),
          i = (0, C.qX)(a.start_date, a.end_date, t);
        if (!n || !i)
          return r.createElement(I.t, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const s = Math.max(1, Math.ceil((a.end_date - a.start_date) / 86400)),
          o = n.GetTotalSummary().gross_sales_usd / M / 100,
          c = i.GetTotalSummary().gross_sales_usd / s / 100,
          m = i.GetTotalSummary().gross_sales_usd / 100,
          d = o > 0 ? c / o : 0;
        return r.createElement(
          "div",
          null,
          r.createElement("h3", null, "Discount Summary(with overcounting)"),
          r.createElement(B, {
            nNumDiscountDays: s,
            nTotalDiscountSalesUSD: m,
            nPercentLift: d,
          }),
          r.createElement(
            "div",
            { className: l().IncreaseRateInfo },
            "Daily average revenue during sale period ($",
            c.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ") vs. average daily revenue over the previous year ($",
            o.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ").",
          ),
        );
      }
      var k = a(12070),
        R = a(77155),
        P = a(70065),
        N = a(38152),
        G = a(98076),
        O = a(49188),
        F = a(69235),
        L = a(11314),
        U = a(49953),
        z = a(36058),
        x = a(55241),
        q = a(85010),
        W = a(62059),
        j = a(15708),
        H = a(82227),
        V = a(19976);
      function K({ promotionID: e, displayType: t }) {
        const a = (0, O.J)([e], 0),
          [n, i, s] = (0, r.useMemo)(() => {
            if (!a || !a.sales || 0 === a.sales.length) return [[], 0, 0];
            const e = new Map();
            a.sales.forEach((a) => {
              a.daily_promo_sales?.forEach((a) => {
                if (!a.date || !a.summary_sales) return;
                let n = 0;
                (n =
                  "sales" === t
                    ? parseInt(
                        a.summary_sales.total_gross_sales_usdx100 ?? "0",
                      ) / 1e4
                    : parseInt(a.summary_sales.steam_gross_units_sold ?? "0")),
                  e.set(a.date, (e.get(a.date) || 0) + n);
              });
            });
            const n = Array.from(e, ([e, t]) => ({
              date: e,
              value: Math.floor(t),
            }));
            n.sort(
              (e, t) => new Date(e.date).getTime() - new Date(t.date).getTime(),
            );
            let r = 0,
              i = 0;
            return (
              n.forEach((e) => {
                (r += e.value), e.value > i && (i = e.value);
              }),
              [n, r, i]
            );
          }, [a, t]);
        if (!a || !a.sales || 0 === a.sales.length)
          return r.createElement(I.t, {
            string: "Loading Stats",
            size: "medium",
            position: "center",
          });
        const l = "sales" === t ? "Gross Sales (USD)" : "Gross Units",
          o = "sales" === t ? "Peak Gross Sales" : "Peak Gross Units";
        return r.createElement(
          "div",
          { className: V.DashStatsContainer },
          r.createElement(
            "div",
            { className: V.Chart },
            r.createElement(
              c.tH,
              null,
              r.createElement(
                F.u,
                { width: "100%", height: "100%" },
                r.createElement(
                  L.E,
                  {
                    data: n,
                    margin: { top: 25, left: 0, right: 0, bottom: 40 },
                    barGap: 30,
                  },
                  r.createElement(
                    "defs",
                    null,
                    r.createElement(
                      "linearGradient",
                      { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                      r.createElement("stop", { stopColor: "#1A9FFF" }),
                      r.createElement("stop", {
                        offset: "1",
                        stopColor: "#1A9FFF",
                        stopOpacity: "1",
                      }),
                    ),
                  ),
                  r.createElement(U.d, { vertical: !1, stroke: "#a0aab6" }),
                  r.createElement(z.W, {
                    dataKey: "date",
                    tick: { fill: "white" },
                    axisLine: !1,
                    angle: -45,
                    textAnchor: "end",
                    height: 60,
                    tickFormatter: (e) =>
                      new Date(`${e}T12:00:00`).toLocaleString("en-US", {
                        weekday: "short",
                      }),
                  }),
                  r.createElement(x.h, {
                    tickFormatter: (e) =>
                      "sales" === t ? `$${(0, H.NO)(e)}` : (0, H.NO)(e),
                    tick: { fill: "white" },
                    axisLine: !1,
                  }),
                  r.createElement(q.m, {
                    content: r.createElement(Y, { displayType: t }),
                  }),
                  r.createElement(W.y, {
                    dataKey: "value",
                    barSize: 40,
                    fill: "url(#bar_linear)",
                  }),
                  r.createElement(j.e, {
                    y: s,
                    stroke: "#82FF01",
                    strokeDasharray: "6",
                  }),
                ),
              ),
            ),
          ),
          r.createElement(
            "div",
            { className: V.Stats },
            r.createElement(
              "div",
              { className: V.CurrentStats },
              r.createElement(
                "div",
                { className: V.StatsTitle },
                "sales" === t ? `$${(0, H.Dq)(i)}` : (0, H.Dq)(i),
              ),
              r.createElement(
                "div",
                { className: V.StatSubtitle },
                r.createElement("span", { className: V.Now }, l),
              ),
            ),
            r.createElement(
              "div",
              { className: V.PeakStats },
              r.createElement(
                "div",
                { className: V.StatsTitle },
                "sales" === t ? `$${(0, H.Dq)(s)}` : (0, H.Dq)(s),
              ),
              r.createElement(
                "div",
                { className: V.StatSubtitle },
                r.createElement("span", { className: V.Concurrent }, o),
              ),
            ),
          ),
        );
      }
      function Y({ active: e, payload: t, displayType: a }) {
        if (e && t && t.length) {
          const e = t[0].payload,
            n = "sales" === a ? `$${(0, H.Dq)(e.value)}` : (0, H.Dq)(e.value);
          return r.createElement(
            _.t1,
            null,
            r.createElement("b", null, n),
            " on ",
            e.date,
          );
        }
        return null;
      }
      function $(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, n.q3)(() => [t.GetID()]),
          i = (0, O.J)([a], 0);
        console.log(i);
        const [s, l] = (0, r.useMemo)(() => {
          if (!i || !i.sales || i.sales.length < 1) return [0, 0];
          const e = i.sales[0],
            t = e.summary_sales?.total_gross_sales_usdx100;
          if (!t) return [0, 0];
          const a = parseInt(t, 10) / 1e4;
          return [e.daily_promo_sales?.length || 0, a];
        }, [i]);
        if (!i)
          return r.createElement(I.t, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const o = l / s;
        return r.createElement(
          "div",
          null,
          r.createElement("h3", null, "Featuring Summary"),
          r.createElement(B, {
            nNumDiscountDays: s,
            strNumDaysString: "Promo Days",
            nTotalDiscountSalesUSD: l,
            nPercentLift: o,
            strPercentLift: "Avg Daily Sales",
            bPercentLiftIsDollar: !0,
          }),
          r.createElement("br", null),
          r.createElement("h3", null, "Daily Featuring Sales"),
          r.createElement(K, { promotionID: a, displayType: "sales" }),
          r.createElement("br", null),
          r.createElement("h3", null, "Daily Featuring Units"),
          r.createElement(K, { promotionID: a, displayType: "units" }),
        );
      }
      var J = a(80754);
      function X(e) {
        return r.createElement(
          r.Fragment,
          null,
          (0, S.TW)(e.rtime),
          "\t@",
          (0, y.KC)(e.rtime, { bForce24HourClock: !1 }),
        );
      }
      function Q(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, n.q3)(() => [
            t.GetEndDate() < i.HD.GetTimeNowWithOverride(),
          ]);
        return r.createElement(
          "div",
          { className: l().RightCol },
          r.createElement(
            "div",
            { className: l().SectionCtn },
            r.createElement(te, { oEditablePlan: t }),
            r.createElement(ae, { oEditablePlan: t }),
          ),
          Boolean(a)
            ? r.createElement(
                g.qx,
                { title: "Shipping Status", bStartMinimized: a },
                r.createElement(Z, { oEditablePlan: t }),
              )
            : r.createElement(Z, { oEditablePlan: t }),
        );
      }
      function Z(e) {
        const { oEditablePlan: t } = e,
          [a] = (0, n.q3)(() => [t.BOnWatchList(v.iA.accountid)]);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: l().SectionCtn },
            r.createElement(
              "div",
              { className: G.OwnersRowCtn },
              r.createElement(R.oz, { oEditablePlan: t }),
              r.createElement(k.D, { oEditablePlan: t }),
              r.createElement(
                "div",
                { className: G.OwnerColCtn },
                r.createElement(
                  o.JU,
                  null,
                  "Biz ",
                  r.createElement(
                    _.he,
                    {
                      toolTipContent:
                        "This person is typically in contact with the external partner, and responsible for answering questions about the promotion for internal Art and Operations teams.",
                    },
                    "(?)",
                  ),
                ),
                r.createElement(
                  "div",
                  { className: G.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(m.p, { accountID: t.GetOwnerAccountID() }),
                  ),
                ),
                r.createElement(
                  o.wl,
                  {
                    onClick: (e) =>
                      (0, p.pg)(
                        r.createElement(ee, { oEditablePlan: t }),
                        (0, E.uX)(e),
                      ),
                  },
                  "Change",
                ),
              ),
            ),
          ),
          r.createElement(
            "div",
            { className: l().SectionCtn },
            r.createElement(R.In, { oEditablePlan: t }),
            r.createElement(
              "div",
              { className: (0, h.A)(G.LinkCtn, G.AssetField) },
              r.createElement(o.pd, {
                type: "text",
                label: "Internal Asset Location",
                value: t.GetAssociatedAssetURL() || "",
                onChange: (e) =>
                  t.SetAssociatedAssetURL(e?.currentTarget?.value || ""),
                placeholder:
                  "Any path where you can find the assets associated with this promo, like on Valve file server; no validation done.",
                bShowCopyAction: !0,
              }),
            ),
            r.createElement(R.VB, { oEditablePlan: t }),
          ),
          Boolean(t.GetPlan().create_time) &&
            r.createElement(
              "div",
              { className: l().SectionCtn },
              r.createElement(o.JU, null, "Plan initially created By:"),
              r.createElement(
                "div",
                { className: G.UserCtn },
                r.createElement(
                  "div",
                  { className: G.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(m.p, {
                      accountID: t.GetPlan().creator_account_id,
                    }),
                  ),
                ),
              ),
              "Created at ",
              r.createElement(X, { rtime: t.GetPlan().create_time }),
            ),
          Boolean(t.GetPlan().last_modified_account) &&
            r.createElement(
              "div",
              { className: l().SectionCtn },
              r.createElement(o.JU, null, "Last Updated By:"),
              r.createElement(
                "div",
                { className: G.UserCtn },
                r.createElement(
                  "div",
                  { className: G.OwnerCtn },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(m.p, {
                      accountID: t.GetPlan().last_modified_account,
                    }),
                  ),
                ),
              ),
              "Updated at ",
              r.createElement(X, { rtime: t.GetPlan().last_modified_time }),
            ),
          r.createElement(
            "div",
            { className: l().SectionCtn },
            r.createElement(
              o.$n,
              {
                onClick: () => {
                  t.BOnWatchList(v.iA.accountid)
                    ? t.RemoveFromWatchList(v.iA.accountid)
                    : t.AddToWatchList(v.iA.accountid);
                },
              },
              a ? "Remove from my watch list" : "Add to my watch list",
            ),
          ),
          r.createElement(oe, { oEditablePlan: t }),
        );
      }
      function ee(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, i] = (0, r.useState)(t.GetOwnerAccountID());
        return r.createElement(
          u.o0,
          {
            strTitle: "Change Plan Owner",
            strDescription:
              "Change the primary contact and person responsible for this promotion",
            closeModal: a,
            bOKDisabled: !n,
            onOK: () => t.SetPlanOwnerAccountID(n),
          },
          r.createElement(J.z, { nAccountID: n, fnSetAccountFilter: i }),
        );
      }
      function te(e) {
        const t = new URLSearchParams(),
          { oEditablePlan: a } = e;
        return (
          t.set("name", a.GetModel().name),
          t.set("promotionplanid", a.GetID()),
          t.set("start", "" + a.GetStartDate()),
          r.createElement(
            "a",
            {
              href:
                v.TS.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
              className: G.CalDownload,
            },
            r.createElement(d.lrM, null),
          )
        );
      }
      function ae(e) {
        const { oEditablePlan: t } = e,
          [a, s] = (0, n.q3)(() => [
            t.BIsReviewed(),
            t.GetEndDate() < i.HD.GetTimeNowWithOverride(),
          ]);
        return r.createElement(
          r.Fragment,
          null,
          Boolean(s) && r.createElement(ie, { oEditablePlan: t }),
          Boolean(!s && a) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(re, { oEditablePlan: t }),
            ),
          Boolean(!s && !a) && r.createElement(ne, { oEditablePlan: t }),
        );
      }
      function ne(e) {
        const { oEditablePlan: t } = e;
        return r.createElement(
          "div",
          { className: (0, h.A)(G.StatusCtn, G.Incomplete) },
          r.createElement(
            "div",
            { className: G.ReviewState },
            r.createElement("span", null, "Incomplete"),
          ),
          r.createElement(
            o.$n,
            {
              className: G.StatusBtn,
              onClick: (e) =>
                (0, p.pg)(
                  r.createElement(se, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, E.uX)(e),
                ),
            },
            "Mark as Reviewed",
          ),
        );
      }
      function re(e) {
        const { oEditablePlan: t } = e,
          [a, i, s] = (0, n.q3)(() => [
            t.BIsMarkedCompleted(),
            t.GetMarkedCompletedAccount(),
            t.GetReviewedAccount(),
          ]);
        return r.createElement(
          "div",
          { className: (0, h.A)(G.StatusCtn, G.Complete) },
          r.createElement(
            "div",
            { className: G.ReviewedCtn },
            r.createElement(
              "div",
              { className: G.ReviewState },
              r.createElement(d.MGO, null),
              r.createElement("span", null, " Reviewed and ready to go! "),
            ),
            r.createElement(
              "div",
              { className: G.OwnerCtn },
              r.createElement(
                "div",
                null,
                r.createElement(m.p, { accountID: s }),
              ),
              r.createElement(
                o.$n,
                {
                  className: G.StatusBtn,
                  onClick: (e) =>
                    (0, p.pg)(
                      r.createElement(se, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, E.uX)(e),
                    ),
                },
                "Clear Reviewed Status",
              ),
            ),
            r.createElement(
              "div",
              null,
              "Reviewed At ",
              (0, S.TW)(t.GetReviewedTime()),
              "@ ",
              (0, y.KC)(t.GetReviewedTime(), { bForce24HourClock: !1 }),
            ),
            r.createElement(
              "div",
              { className: G.OwnerCtn },
              Boolean(a) &&
                r.createElement(
                  "div",
                  null,
                  r.createElement(m.p, { accountID: i }),
                ),
              r.createElement(
                o.$n,
                {
                  className: G.StatusBtn,
                  onClick: (e) =>
                    (0, p.pg)(
                      r.createElement(le, {
                        oEditablePlan: t,
                        bMarkedCompleted: !a,
                      }),
                      (0, E.uX)(e),
                    ),
                },
                a ? "Clear Completed" : "Mark Completed",
              ),
            ),
            Boolean(a) &&
              r.createElement(
                "div",
                null,
                "Completed At ",
                (0, S.TW)(t.GetMarkedCompletedTime()),
                "@ ",
                (0, y.KC)(t.GetMarkedCompletedTime(), {
                  bForce24HourClock: !1,
                }),
              ),
          ),
        );
      }
      function ie(e) {
        const { oEditablePlan: t } = e,
          [a, i, s, l, o, m, d, u, p] = (0, n.q3)(() => [
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetStartDate(),
            t.GetEndDate(),
            t.GetDiscountEventID(),
            t.GetOptInID(),
            t.GetType(),
          ]),
          [_, g] = (0, r.useMemo)(
            () => [new Date(1e3 * o), new Date(1e3 * m)],
            [o, m],
          ),
          E = `?dateStart=${_.getFullYear()}-${(_.getMonth() + 1).toString().padStart(2, "0")}-${_.getDate().toString().padStart(2, "0")}&dateEnd=${g.getFullYear()}-${(g.getMonth() + 1).toString().padStart(2, "0")}-${g.getDate().toString().padStart(2, "0")}`;
        return r.createElement(
          "div",
          { className: (0, h.A)(G.StatusCtn, G.Past) },
          r.createElement(
            "div",
            { className: G.ReviewedCtn },
            r.createElement(
              "div",
              { className: G.ReviewState },
              r.createElement("span", null, " This promo is over "),
            ),
            Boolean(a || s || u) &&
              r.createElement(
                "div",
                null,
                r.createElement($, { oEditablePlan: t }),
                Boolean(u) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      c.tH,
                      null,
                      r.createElement(
                        w.S,
                        { pageid: u },
                        r.createElement(f.ft, { bShowOnlySummary: !0 }),
                        r.createElement(
                          "a",
                          {
                            href: `${v.TS.PARTNER_BASE_URL}optin/admin/analysis/${u}`,
                          },
                          "Theme Sale Detailed Sales Stats",
                        ),
                        r.createElement(b.OF, { bShowOnlySummary: !0 }),
                        r.createElement(
                          "a",
                          {
                            href: `${v.TS.PARTNER_BASE_URL}optin/admin/demo_analysis/${u}`,
                          },
                          "Theme Sale Demo Play Stats",
                        ),
                      ),
                    ),
                  ),
                Boolean(d) &&
                  r.createElement(
                    c.tH,
                    null,
                    r.createElement(T, { strDiscountEventID: d }),
                    r.createElement("br", null),
                  ),
                Boolean(a && i) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${v.TS.STATS_BASE_URL}sales/details/?gid=${i}&clanid=${a}`,
                        target: "_blank",
                      },
                      "See detailed sale page promo stats",
                    ),
                  ),
                Boolean(0 == l) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${v.TS.STATS_BASE_URL}app/details/${s}/${E}`,
                        target: "_blank",
                      },
                      "See detailed game promo stats",
                    ),
                  ),
                Boolean(1 == l) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${v.TS.STATS_BASE_URL}package/details/${s}/${E}`,
                        target: "_blank",
                      },
                      "Package stats here",
                    ),
                  ),
                Boolean(2 == l) &&
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "a",
                      {
                        href: `${v.TS.STATS_BASE_URL}bundles/details/${s}/${E}`,
                        target: "_blank",
                      },
                      "Bundle stats here",
                    ),
                  ),
              ),
          ),
        );
      }
      function se(e) {
        const { oEditablePlan: t, closeModal: a, bReviewVerify: n } = e;
        return r.createElement(
          P.Q,
          {
            strTitle: n ? "Plan Review?" : "Clear Plan Review Status",
            strDescription: n
              ? "Is the Plan Reviewed?"
              : "Remove the review status from this plan?",
            closeModal: a,
            onOK: () => {
              n
                ? t.SetReviewedAccountAndTime(
                    v.iA.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                  )
                : t.ClearReviewedStatus();
            },
          },
          Boolean(n) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "p",
                null,
                "Have you verified the dates, settings, discounts, and assets are ready for all of the links below?",
              ),
              r.createElement(N.kd, { oEditablePlan: t }),
            ),
        );
      }
      function le(e) {
        const { oEditablePlan: t, closeModal: a, bMarkedCompleted: n } = e;
        return r.createElement(
          P.Q,
          {
            strTitle: n ? "Plan Competed?" : "Clear Plan Complete Status",
            strDescription: n
              ? "Marking the plan complete will remove it from the workflow and the 'awaiting live decision'. Is the Plan Completed?"
              : "Remove the completed status from this plan? This will make it return on the 'Awaiting Live Decision' column of the workflow",
            closeModal: a,
            onOK: () => {
              n
                ? t.SetMarkedCompletedAccountAndTime(
                    v.iA.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                  )
                : t.ClearMarkedCompletedStatus();
            },
          },
          Boolean(n) &&
            r.createElement(
              "p",
              null,
              "Is this plan going to go live without any more interactions by our Team? There is no decisions on liveness to be made?",
            ),
        );
      }
      function oe(e) {
        const { oEditablePlan: t } = e,
          [a, i, s] = (0, n.q3)(() => [
            t.BRequireBroadcastModeration(),
            t.GetBroadcastModerationNotes(),
            t.BIsModerationScheduled(),
          ]);
        return r.createElement(
          "div",
          { className: l().SectionCtn },
          r.createElement(o.JU, null, "Broadcast Moderation"),
          r.createElement(
            "p",
            null,
            "Record whether we would like to have Keywords support broadcast chat moderation for this event. Still requires external coordination.",
          ),
          r.createElement(o.Yh, {
            label: "Broadcast Moderation Needed",
            checked: a,
            onChange: t.SetRequireBroadcastModeration,
          }),
          Boolean(a) &&
            r.createElement(
              "div",
              { className: l().Indent },
              r.createElement(
                "div",
                { className: G.BroadcastNotes },
                r.createElement(o.JU, null, "Broadcast Schedule Notes:"),
                r.createElement("textarea", {
                  className: "DialogTextInputBase",
                  value: i || "",
                  onChange: (e) =>
                    t.SetBroadcastModerationNotes(
                      e?.currentTarget?.value || "",
                    ),
                }),
              ),
              r.createElement(o.Yh, {
                label: "Has Moderation Been Scheduled?",
                checked: s,
                onChange: t.SetModerationIsScheduled,
              }),
              r.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/How+to+Request+Moderation",
                },
                "How to Request Broadcast Moderation",
              ),
            ),
        );
      }
    },
    28268: (e, t, a) => {
      "use strict";
      a.d(t, { U: () => C });
      var n = a(64399),
        r = a(90626),
        i = a(92757),
        s = a(44165),
        l = a(14336),
        o = a(16676),
        c = a(95695),
        m = a.n(c),
        d = a(22797),
        u = a(31561),
        p = a(14771);
      function _(e) {
        const { countDownUntil: t, fnCallbackOnZero: a, ...n } = e,
          [i, s] = (0, r.useState)(
            Math.floor(Math.max(0, t.getTime() - u.tB()) / 1e3),
          ),
          l = r.useRef(null);
        r.useEffect(() => (E(l, t, s), () => h(l)), [t]),
          r.useEffect(() => {
            0 == i && a && a();
          }, [a, i]);
        const o = Math.floor(i / p.Kp.PerHour),
          c = Math.floor((i - o * p.Kp.PerHour) / p.Kp.PerMinute),
          m = Math.floor(i - (o * p.Kp.PerHour + c * p.Kp.PerMinute));
        return r.createElement(
          "span",
          { style: { fontFamily: "monospace" }, ...n },
          g(o),
          ":",
          g(c),
          ":",
          g(m),
        );
      }
      function g(e) {
        return e.toString().padStart(2, "0");
      }
      function h(e) {
        e?.current && (window.clearTimeout(e.current), (e.current = null));
      }
      function E(e, t, a) {
        h(e);
        const n = u.tB(),
          r = Math.floor(Math.max(0, t.getTime() - n) / 1e3);
        a(r),
          r >= 0 && e && (e.current = window.setTimeout(() => E(e, t, a), 1e3));
      }
      var S = a(52038),
        y = a(61859),
        v = a(30470),
        f = a(27872),
        b = a(12080),
        w = a(16856),
        D = a(98459);
      function C(e) {
        const {
            planIDs: t,
            fnDisplayDueDate: a,
            bExcludeHideButton: i,
            bHideTypeField: l,
            bShowProgress: c,
            sortByUnclaimedField: d,
            bHideDoneByDefault: u,
            bAllowAutoRefresh: p,
            nUrgentWindowInSeconds: _,
          } = e,
          [g, h] = (0, r.useState)(!0),
          [E, y] = (0, r.useState)(u),
          [v, f] = (0, r.useState)(!0),
          w = (0, r.useMemo)(() => {
            let e = 0;
            return (
              t.forEach((t) => {
                (0, n.VJ)(t).reviewed_by_account && (e += 1);
              }),
              e
            );
          }, [t]);
        if (0 == t?.length)
          return r.createElement(
            "div",
            { className: b.NoResults },
            "No Items to Show",
          );
        const D = s.HD.GetTimeNowWithOverride();
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: m().FlexRowContainer },
            !i &&
              r.createElement(o.Yh, {
                label: "Hide Past Events",
                checked: g,
                onChange: h,
              }),
            r.createElement(o.Yh, {
              label: `Hide Fully Reviewed (${w})`,
              checked: E,
              onChange: y,
            }),
            Boolean(d) &&
              r.createElement(o.Yh, {
                label: "Sort Unclaimed First",
                checked: v,
                onChange: f,
              }),
            Boolean(p) && r.createElement(k, null),
          ),
          r.createElement(
            "div",
            { className: (0, S.A)(b.Row, b.Primary, b.HeaderRow) },
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.ItemName) },
              "Plan Name",
            ),
            !l &&
              r.createElement(
                "div",
                { className: (0, S.A)(b.Col, b.Type) },
                "Promo Type",
              ),
            Boolean(a) &&
              r.createElement(
                "div",
                { className: (0, S.A)(b.Col, b.Date) },
                "Due Date",
              ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Date) },
              "Date Range",
            ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              "Plan Owner",
            ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              "Operator",
            ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              "Production Designer",
            ),
          ),
          r.createElement(
            "div",
            null,
            t
              .filter((e) => !g || (0, n.VJ)(e)?.end_date > D)
              .filter((e) => !E || !(0, n.VJ)(e)?.reviewed_by_account)
              .sort((e, t) => {
                const a = (0, n.VJ)(e),
                  r = (0, n.VJ)(t);
                if (v && d) {
                  if (!a[d]) return -1;
                  if (!r[d]) return 1;
                }
                return a?.start_date - r?.start_date;
              })
              .map((e) =>
                r.createElement(I, {
                  key: e,
                  planID: e,
                  bHideTypeField: l,
                  bShowProgress: c,
                  nUrgentWindowInSeconds: _,
                  fnDisplayDueDate: a,
                }),
              ),
          ),
        );
      }
      function I(e) {
        const {
            planID: t,
            bHideTypeField: a,
            bShowProgress: s,
            nUrgentWindowInSeconds: l,
            fnDisplayDueDate: o,
          } = e,
          c = (0, n.Ab)(t),
          m = (0, i.W6)(),
          d = Math.floor(Date.now() / 1e3) + l,
          u = l && c.start_date < d;
        return r.createElement(
          "div",
          {
            className: (0, S.A)(b.RowCtn, u ? b.Soon : ""),
            onClick: (e) => {
              const a = !/promotion\/dashboard/.test(window.location.href);
              e.ctrlKey || e.metaKey || a
                ? window.open(
                    `${v.TS.PARTNER_BASE_URL}/promotion/${w.PromotionRoutes.PromotionPlanEditor(t)}`,
                    e.ctrlKey || e.metaKey ? "_blank" : void 0,
                  )
                : m.push(w.PromotionRoutes.PromotionPlanEditor(t));
            },
            style: (0, D.LK)({ promotionPlan: c }).style,
          },
          r.createElement(
            "div",
            { className: (0, S.A)(b.Row, b.Primary) },
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.ItemName) },
              c.name,
              s && r.createElement(T, { planAdmin: c }),
            ),
            !a &&
              r.createElement(
                "div",
                { className: (0, S.A)(b.Col, b.Type) },
                c.type,
              ),
            Boolean(o) &&
              r.createElement(
                "div",
                { className: (0, S.A)(b.Col, b.Date) },
                (0, y.TW)(o(c)),
              ),
            r.createElement(f.y, {
              className: (0, S.A)(b.Col, b.Date, u ? b.Soon : ""),
              rtStartDate: c.start_date,
              rtEndDate: c.end_date,
            }),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              r.createElement(M, {
                accountid: c.owner_account_id || c.creator_account_id,
              }),
            ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              r.createElement(M, { accountid: c.operator_account_id }),
            ),
            r.createElement(
              "div",
              { className: (0, S.A)(b.Col, b.Creator) },
              r.createElement(M, { accountid: c.artwork_owner_account_id }),
            ),
            r.createElement(
              "div",
              null,
              Boolean(c.reviewed_by_account) &&
                r.createElement("span", null, "✔"),
            ),
          ),
        );
      }
      function B(e) {
        return !e?.some((e) => !e);
      }
      function T(e) {
        const { planAdmin: t } = e;
        return t.reviewed_by_account
          ? r.createElement("div", null, "🗹 Fully Reviewed")
          : r.createElement(
              "div",
              null,
              t.discount_event_id &&
                r.createElement(
                  "span",
                  null,
                  t.discount_event_reviewed ? "🗹" : "☐",
                  " Discount Event",
                ),
              t.takeover_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.takeover_reviewed) ? "🗹" : "☐",
                  " Takeover",
                ),
              t.takeunder_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.takeunder_reviewed) ? "🗹" : "☐",
                  " Takeunder Banner",
                ),
              t.spotlight_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.spotlight_reviewed) ? "🗹" : "☐",
                  " Spotlight",
                ),
              t.marketing_message_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.marketing_message_reviewed) ? "🗹" : "☐",
                  " Marketing Message",
                ),
              t.steamchina_takeover_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.steamchina_takeover_reviewed) ? "🗹" : "☐",
                  " Steam China Takeover",
                ),
              t.contenthub_takeover_ids?.length > 0 &&
                r.createElement(
                  "span",
                  null,
                  B(t.contenthub_takeover_reviewed) ? "🗹" : "☐",
                  " Content Hub Takeover",
                ),
              t.main_capsule_id &&
                r.createElement(
                  "span",
                  null,
                  t.main_capsule_reviewed ? "🗹" : "☐",
                  " Main Capsule",
                ),
              t.opt_in_id &&
                r.createElement(
                  "span",
                  null,
                  t.opt_in_reviewed ? "🗹" : "☐",
                  " OptIn",
                ),
              t.giveaway_id &&
                r.createElement(
                  "span",
                  null,
                  t.giveaway_reviewed ? "🗹" : "☐",
                  " Giveaway",
                ),
              t.advertising_appid &&
                r.createElement(
                  "span",
                  null,
                  t.advertising_appid_reviewed ? "🗹" : "☐",
                  " Advertising App",
                ),
              t.sale_clan_account &&
                r.createElement(
                  "span",
                  null,
                  t.sale_page_reviewed ? "🗹" : "☐",
                  " Sale Page",
                ),
            );
      }
      function M(e) {
        const { accountid: t } = e,
          a = (0, l.js)(t);
        return a && a.data
          ? r.createElement("span", null, a.data.m_strPlayerName)
          : r.createElement("span", null, t);
      }
      const A = 60;
      function k(e) {
        const [t, a] = (0, r.useState)(!0),
          [i, s] = (0, r.useState)(() => new Date(Date.now() + 1e3 * A)),
          [l, c] = (0, r.useState)(!1),
          { fnRefreshPlans: m } = (0, n.lK)(),
          [u, p] = (0, r.useState)(!1);
        (0, r.useEffect)(() => {
          t && (s(new Date(Date.now() + 1e3 * A)), c(!1));
        }, [t]);
        const g = (0, r.useCallback)(async () => {
          c(!0), console.log("refreshing promotion plans");
          (await m((0, n.ht)()))
            ? s(new Date(Date.now() + 1e3 * A))
            : (console.error("refreshing promotion plans failed"), p(!0)),
            c(!1);
        }, [m]);
        return u
          ? r.createElement("div", null, "Error Refreshing; check console")
          : l
            ? r.createElement(o.Yh, {
                checked: t,
                disabled: !0,
                label: r.createElement(
                  "span",
                  null,
                  "Refreshing ",
                  r.createElement(d.t, { size: "small" }),
                ),
              })
            : r.createElement(o.Yh, {
                checked: t,
                onChange: a,
                label: t
                  ? r.createElement(
                      r.Fragment,
                      null,
                      "Refresh Plans Automatically (",
                      r.createElement(_, {
                        countDownUntil: i,
                        fnCallbackOnZero: g,
                      }),
                      " until next Refresh)",
                    )
                  : r.createElement(
                      r.Fragment,
                      null,
                      "Refresh Plans Automatically",
                    ),
              });
      }
    },
    43733: (e, t, a) => {
      "use strict";
      a.d(t, { _: () => c });
      var n = a(90626),
        r = a(78327);
      class i {
        m_promotionStats = null;
        GetPromotionStats() {
          return this.m_promotionStats;
        }
        static s_Singleton;
        static Get() {
          return (
            i.s_Singleton ||
              ((i.s_Singleton = new i()),
              i.s_Singleton.Init(),
              "dev" == r.TS.WEB_UNIVERSE &&
                (window.g_PromoStatsStore = i.s_Singleton)),
            i.s_Singleton
          );
        }
        Init() {
          this.m_promotionStats = (0, r.Tc)(
            "promotion_stats",
            "application_config",
          );
        }
      }
      var s = a(32754),
        l = a(31541),
        o = a.n(l);
      function c() {
        const e = i.Get().GetPromotionStats();
        if (!e) return null;
        const t = e.daily_deal_total_slots ?? 0,
          a = e.daily_deal_scheduled ?? 0,
          r = e.daily_deal_open_invites ?? 0,
          l = e.daily_deal_pct_available ?? 0,
          c = e.daily_deal_pct_minus_invites ?? 0,
          m = e.daily_deal_calendar_days_available ?? 0;
        let d = Math.trunc(0.7 * t) - (a + r);
        const u =
            d > 0
              ? n.createElement(
                  "div",
                  null,
                  n.createElement("span", { className: o().MaxInvites }, d),
                  " spots available (?)",
                )
              : n.createElement(
                  "div",
                  { className: o().FullyBooked },
                  "Please wait to send additional invites (?)",
                ),
          p = n.createElement(
            "div",
            { className: o().TooltipContainer },
            "Scheduled Daily Deals: ",
            n.createElement("b", null, a),
            n.createElement("br", null),
            "Outstanding invites: ",
            n.createElement("b", null, r),
            n.createElement("br", null),
            "Slots available: ",
            n.createElement("b", null, t - a, "/", t, " (", l, "%)"),
            n.createElement("br", null),
            "Slots available if all invites accept: ",
            n.createElement("b", null, t - a - r, "/", t, " (", c, "%)"),
            n.createElement("br", null),
            "Calendar days available to invites: ",
            n.createElement("b", null, m),
            n.createElement("br", null),
          );
        return n.createElement(
          "div",
          { className: o().PromotionPlanningStatsContainer },
          n.createElement(
            s.m9,
            { toolTipContent: p, direction: "top", bTopmost: !0 },
            u,
          ),
        );
      }
    },
    53243: (e, t, a) => {
      "use strict";
      a.d(t, { f: () => b, w: () => f });
      var n,
        r = a(90626),
        i = a(32826),
        s = a(56330),
        l = a(52038),
        o = a(16676),
        c = a(65946),
        m = a(67239),
        d = a(98459),
        u = a(86921),
        p = a(55263),
        _ = a(96468),
        g = a(68612),
        h = a(62792),
        E = a(1305),
        S = a(73523),
        y = a(97843);
      !(function (e) {
        (e.k_TakeOver = "takeover"),
          (e.k_TakeUnder = "takeunder"),
          (e.k_AdvertisingApp = "adapp"),
          (e.k_Spotlight = "spotlight"),
          (e.k_MarketingMessage = "marketingmessage"),
          (e.k_SalePage = "salepage"),
          (e.k_DiscountEvent = "discountevent"),
          (e.k_OptIn = "optin"),
          (e.k_SlackChannel = "slack"),
          (e.k_AssetKit = "assetkit");
      })(n || (n = {}));
      const v = {
        include_included_items: !0,
        include_assets: !0,
        include_trailers: !0,
        include_screenshots: !0,
      };
      function f(e) {
        const { oEditablePlan: t } = e,
          a = (function () {
            const [e] = (0, r.useState)(() => {
              const e = new Map();
              return (
                e.set("midweek", [
                  n.k_Spotlight,
                  n.k_MarketingMessage,
                  n.k_DiscountEvent,
                ]),
                e.set("weekenddeal", [
                  n.k_Spotlight,
                  n.k_MarketingMessage,
                  n.k_DiscountEvent,
                ]),
                e.set("saleevent", [n.k_SalePage]),
                e.set("themesale", [
                  n.k_TakeOver,
                  n.k_TakeUnder,
                  n.k_AdvertisingApp,
                  n.k_Spotlight,
                  n.k_MarketingMessage,
                  n.k_SalePage,
                  n.k_DiscountEvent,
                  n.k_OptIn,
                  n.k_SlackChannel,
                  n.k_AssetKit,
                ]),
                e.set("nextfest", [
                  n.k_TakeOver,
                  n.k_TakeUnder,
                  n.k_AdvertisingApp,
                  n.k_Spotlight,
                  n.k_MarketingMessage,
                  n.k_SalePage,
                  n.k_OptIn,
                  n.k_SlackChannel,
                  n.k_AssetKit,
                ]),
                e.set("seasonalsale", [n.k_AssetKit]),
                e.set("informational", []),
                e.set("dailydeal", []),
                e.set("vacation", []),
                e.set("important", []),
                e.set("preload", []),
                e.set("assetrequest", []),
                e
              );
            });
            return e;
          })(),
          [i, s, l, o, f, w, D, C, I, B, T, M, A, k, R, P, N, G, O, F, L, U] =
            (0, c.q3)(() => [
              t.GetType(),
              t.BRequiresSalePage(),
              t.GetSaleClanAccountID(),
              t.GetSpotlightIDs(0),
              t.GetMarketingMessageID(0),
              t.GetMarketingMessageID(1),
              t.GetTakeoverID(0),
              t.GetTakeunderID(0),
              t.GetAdvertisingAppID(),
              t.GetOptInID(),
              t.GetSlackChannel(),
              t.GetDiscountEventID(),
              t.GetFeaturingIntention(),
              t.GetAssetKitURL(),
              t.GetSteamChinaTakeoverID(0),
              t.GetContentHubTakeoverCount(),
              t.GetPartnerID(),
              t.GetFeaturedItemID(),
              t.GetFeaturedItemType(),
              t.GetSaleClanEventGID(),
              t.GetStartDate(),
              t.GetArtTeamDueDate() || t.GetStartDate() - m.n5,
            ]),
          z = (0, E.TR)(S.ii.k_ConfigPage_Takeover, D),
          x = (0, y.Ib)(o),
          q = (0, u.dB)(l, F),
          [W] = (0, p.G6)(G, O, v),
          j = a.get(i),
          H = [],
          V = (0, d.te)(N),
          K = (0, g.dr)(f),
          Y = (0, g.dr)(w);
        if (
          (j.includes(n.k_TakeOver) &&
            !D &&
            H.push(
              "Promotion requires a Takeover which hasn't been linked yet.",
            ),
          j.includes(n.k_TakeUnder) &&
            !C &&
            H.push(
              "Promotion requires a Takeunder which hasn't been linked yet.",
            ),
          j.includes(n.k_Spotlight) &&
            !o &&
            H.push(
              "Promotion requires a Spotlight which hasn't been linked yet.",
            ),
          j.includes(n.k_MarketingMessage) &&
            !f &&
            H.push(
              "Promotion requires a Marketing Message which hasn't been linked yet.",
            ),
          j.includes(n.k_DiscountEvent) &&
            !M &&
            H.push(
              "Promotion requires a Discount Event which hasn't been linked yet.",
            ),
          j.includes(n.k_OptIn) &&
            !B &&
            H.push(
              "Promotion requires an OptIn Admin which hasn't been linked yet.",
            ),
          j.includes(n.k_SlackChannel) &&
            !T &&
            H.push(
              "Promotion requires a Slack Channel for coordination, which hasn't been linked yet.",
            ),
          j.includes(n.k_AdvertisingApp) &&
            !I &&
            H.push(
              "Promotion requires an Advertising App or Config App which hasn't been linked yet.",
            ),
          (!s && !j.includes(n.k_SalePage)) ||
            l ||
            H.push(
              "Promotion requires a Sale page which hasn't been linked yet.",
            ),
          j.includes(n.k_AssetKit) &&
            !k &&
            H.push(
              "Promotion requires an Asset Kit which hasn't been linked yet.",
            ),
          "takeover" != A ||
            D ||
            H.push(
              "Promotion's highest featuring requires a Takeover which isn't linked.",
            ),
          "takeunder" != A ||
            C ||
            H.push(
              "Promotion's highest featuring requires a Takeunder which isn't linked.",
            ),
          "hub_takeover" == A &&
            0 == P &&
            H.push(
              "Promotion's highest featuring requires a Content Hub Takeover which isn't linked.",
            ),
          "steamchina_takeover" != A ||
            R ||
            H.push(
              "Promotion requires a Steam China Takeover which isn't linked.",
            ),
          z &&
            (x
              ? z.association?.appid && x.association?.appid
                ? z.association.appid != x.association.appid &&
                  H.push(
                    "Takeover's AppID doesn't match Spotlight's Appid. Required for them to appropriately filter out and show only one or the other on the front page",
                  )
                : H.push(
                    "Takeover and/or Spotlight is missing associated appid. Required for them to appropriately filter out and show only one or the other on the front page",
                  )
              : I
                ? z.association?.appid != I &&
                  H.push(
                    "Takeover's associated app does not match advertising app, will not collect SNR to advertising app.",
                  )
                : G &&
                  0 == O &&
                  z.association?.appid != G &&
                  H.push(
                    "Takeover's associated does not matcht advertising app, will not collect SNR to featured app",
                  )),
          N > 0 && G > 0 && !V.bLoading)
        ) {
          let e = !1;
          0 != O || V.rgAppIDs?.some((e) => e == G)
            ? W &&
              0 != O &&
              !V.rgAppIDs?.some((e) => W.GetIncludedAppIDs()?.includes(e)) &&
              (e = !0)
            : (e = !0),
            e &&
              H.push(
                "Promotion has a partner ID set and a featured store item but the partner doesn't have access to the store item.",
              );
        }
        return (
          q?.startTime &&
            q.startTime < L &&
            U > q.startTime &&
            H.push(
              "Sale Page start is before Promotion start. May want to adjust asset due dates.",
            ),
          !K ||
            (K.associated_id == W?.GetID() &&
              K.association_type == (0, h.Si)(W.GetStoreItemType())) ||
            H.push(
              "Marketing Message 1 featured item doesn't match the promotion plans featured item.",
            ),
          !Y ||
            (Y.associated_id == W?.GetID() &&
              Y.association_type == (0, h.Si)(W.GetStoreItemType())) ||
            H.push(
              "Marketing Message 2 featured item doesn't match the promotion plans featured item.",
            ),
          H.push(...(0, _.p)(K, W)),
          H.push(...(0, _.p)(Y, W)),
          r.createElement(b, { rgWarnings: H })
        );
      }
      function b(e) {
        const { rgWarnings: t } = e;
        return t && 0 != t.length
          ? r.createElement(
              "div",
              { className: i.WarningsContainer },
              r.createElement(o.JU, null, "Setup warnings:"),
              r.createElement(
                "div",
                null,
                t.map((e) =>
                  r.createElement(
                    "div",
                    {
                      key: e,
                      className: (0, l.A)(
                        i.PreviewLinkCtn,
                        i.Incomplete,
                        s.WarningStylesWithIcon,
                        i.WarningItem,
                      ),
                    },
                    e,
                  ),
                ),
              ),
            )
          : null;
      }
    },
    31715: (e, t, a) => {
      "use strict";
      a.d(t, { eq: () => X, OT: () => Z, $Y: () => J, f7: () => $ });
      var n = a(65946),
        r = a(90626),
        i = a(38390),
        s = a(16676),
        l = a(41735),
        o = a.n(l),
        c = a(22837),
        m = a(88997),
        d = a(17720),
        u = a(4796),
        p = a(67165),
        _ = a(34629),
        g = a(14947),
        h = a(78327);
      class E {
        static s_Singleton;
        m_mapEventGIDToSolrData = new Map();
        m_listEvents = new Array();
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return E.s_Singleton || (E.s_Singleton = new E()), E.s_Singleton;
        }
        constructor() {
          (0, g.Gn)(this);
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        async LoadPartnerEventForQueryIncremental(
          e,
          t = 0,
          a = 10,
          n,
          r,
          i,
          s,
          l,
          o,
        ) {
          const c = await this.GetLatestPartnerEvents(
            e,
            t,
            a,
            n,
            r,
            i,
            s,
            l,
            o,
          );
          let m = new Array();
          return (
            (0, g.h5)(() => {
              c.forEach((e) => {
                this.m_mapEventGIDToSolrData.has(e.unique_id) ||
                  (m.push(e),
                  this.m_mapEventGIDToSolrData.set(e.unique_id, e),
                  this.m_listEvents.push(e));
              });
            }),
            m
          );
        }
        async GetLatestPartnerEvents(
          e,
          t = 0,
          a = 10,
          n,
          r,
          i,
          s,
          l,
          c,
          m,
          d,
          u,
          p,
        ) {
          const _ =
              h.TS.STORE_BASE_URL + "events_admin/ajaxgetlatestpartnerevents",
            g = {
              page: t,
              count: a,
              date: s,
              appids: void 0 === n ? void 0 : n.join(","),
              required_tags: void 0 === r ? void 0 : r.join(","),
              exclude_tags: void 0 === i ? void 0 : i.join(","),
              eventtypefilter: void 0 === l ? void 0 : l.join(","),
              orderByVisibility: c || void 0,
              creator_home_clan_id: void 0 === m ? void 0 : m.join(","),
              showUnpublished: void 0 === u ? void 0 : u,
              sale_only: void 0 === p ? void 0 : p,
              term: void 0 === d ? void 0 : d,
            },
            E = await o().get(_, {
              params: g,
              withCredentials: !0,
              cancelToken: e ? e.token : void 0,
            });
          return E.data ? E.data.docs : [];
        }
      }
      (0, _.Cg)([g.sH], E.prototype, "m_mapEventGIDToSolrData", void 0),
        (0, _.Cg)([g.sH], E.prototype, "m_listEvents", void 0),
        (0, _.Cg)([g.XI], E.prototype, "ClearAllSolrEvents", null);
      var S = a(86921),
        y = a(68451),
        v = a(61859),
        f = a(27543),
        b = a(41338),
        w = a(37768);
      function D(e) {
        const {
            fnSetEvent: t,
            strLabel: a,
            strPlaceholder: n,
            strToolTip: i,
            bShowHidden: l,
            strFilterClanSteamID: _,
            bFilterToSales: g,
          } = e,
          [D, C] = r.useState(null),
          I = r.useRef(),
          B = r.useRef(null),
          T = r.useCallback(
            (e) => {
              const a = (0, m.lX)(
                r.createElement(
                  y.tz,
                  { className: w.SearchResults },
                  e.map((e) =>
                    r.createElement(
                      y.kt,
                      {
                        key: e.gidClanEvent,
                        onSelected: () => {
                          (I.current.element.value = ""), t(e);
                        },
                      },
                      r.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        (0, b.EK)(e.name),
                        " ",
                        r.createElement("span", null, "(", e.gidClanEvent, ")"),
                        " ",
                        r.createElement(
                          "span",
                          { className: w.SmallText },
                          "(",
                          (0, f.rG)(e.type),
                          ")",
                        ),
                      ),
                    ),
                  ),
                ),
                I?.current?.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                  bNoFocusWhenShown: !0,
                  bSkipFocusWhenReady: !0,
                },
              );
              C(a);
            },
            [t],
          ),
          M = r.useCallback(
            async (e) => {
              const t = String(e.target.value);
              if (!t || 0 == t.trim().length) return;
              const a = (0, c.sf)(h.TS.LANGUAGE);
              if (
                t.toLocaleLowerCase().startsWith(h.TS.STORE_BASE_URL) ||
                t.toLocaleLowerCase().startsWith(h.TS.COMMUNITY_BASE_URL) ||
                t
                  .toLocaleLowerCase()
                  .startsWith("https://store.steampowered.com/") ||
                t
                  .toLocaleLowerCase()
                  .startsWith("https://store.steamchina.com/") ||
                t.toLocaleLowerCase().startsWith("https://steamcommunity.com/")
              ) {
                const e = [],
                  n = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                  r = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                  i =
                    /groups\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    ),
                  s = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(t),
                  o =
                    /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    ),
                  c =
                    /groups\/([A-Za-z0-9\-@#!$_]+)\/partnerevents\/edit\/(\d+)+/.exec(
                      t,
                    ),
                  m = /games\/(\d+)\/partnerevents\/edit\/(\d+)+/.exec(t),
                  p =
                    /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    );
                let _ = null,
                  g = null,
                  h = null,
                  E = null,
                  y = null,
                  v = null;
                if (n?.length >= 3) (_ = Number.parseInt(n[1])), (E = n[2]);
                else if (r?.length >= 3)
                  (h = Number.parseInt(r[1])), (E = r[2]);
                else if (i?.length >= 3) (g = i[1]), (y = i[2]);
                else if (s?.length >= 3)
                  (_ = Number.parseInt(s[1])), (y = s[2]);
                else if (o?.length >= 3) {
                  let e = o[1];
                  y = o[2];
                  let t = await u.ac.LoadOGGClanInfoForIdentifier(e);
                  t && (_ = t.appid);
                } else if (c?.length >= 3) (g = c[1]), (E = c[2]);
                else if (m?.length >= 3)
                  (_ = Number.parseInt(m[1])), (E = m[2]);
                else if (p?.length >= 3) {
                  const e = p[1];
                  y = p[2];
                  const t = await u.ac.LoadOGGClanInfoForIdentifier(e);
                  t && (_ = t.appid);
                }
                if (_)
                  E
                    ? (v = await S.O3.LoadPartnerEventFromClanEventGID(_, E, 0))
                    : y &&
                      (v = await S.O3.LoadPartnerEventFromAnnoucementGID(
                        _,
                        y,
                        0,
                      ));
                else {
                  let e = null;
                  if ((h && (e = d.b.InitFromClanID(h)), g)) {
                    e = (await u.ac.LoadOGGClanInfoForGroupVanity(g))
                      .clanSteamID;
                  }
                  if (l) {
                    const t = !0;
                    y && e
                      ? (v =
                          await S.O3.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                            e,
                            y,
                            0,
                            t,
                          ))
                      : E &&
                        e &&
                        (v =
                          await S.O3.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            E,
                            0,
                            t,
                          ));
                  } else
                    y && e
                      ? (v =
                          await S.O3.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                            e,
                            y,
                            0,
                          ))
                      : E &&
                        e &&
                        (v =
                          await S.O3.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            E,
                            0,
                          ));
                }
                if (v)
                  return (
                    e.push({
                      name: v.GetNameWithFallback(a),
                      type: v.GetEventType(),
                      clanSteamID: v.clanSteamID,
                      gidClanAnnouncement: v.GetAnnouncementGID(),
                      gidClanEvent: v.GID,
                    }),
                    void T(e)
                  );
                B.current &&
                  (window.clearTimeout(B.current), (B.current = null));
              }
              B.current = window.setTimeout(async () => {
                let e = null;
                if (_) {
                  const a = p.pF.GetCreatorHome(new d.b(_));
                  e = await E.Get().GetLatestPartnerEvents(
                    o().CancelToken.source(),
                    0,
                    20,
                    a.GetAppIDList(),
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    !0,
                    [a.GetClanAccountID()],
                    t,
                    !0,
                    g,
                  );
                } else
                  e = await E.Get().GetLatestPartnerEvents(
                    o().CancelToken.source(),
                    0,
                    20,
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    void 0,
                    !0,
                    void 0,
                    t,
                    !0,
                    g,
                  );
                const a = e.map((e) => ({
                  name: e.event_name,
                  type: Number.parseInt(e.event_type),
                  clanSteamID: new d.b(e.clan_steamid),
                  gidClanAnnouncement: e.announcement_gid,
                  gidClanEvent: e.unique_id,
                }));
                T(a);
              }, 300);
            },
            [g, l, T, _],
          );
        return r.createElement(s.pd, {
          onBlur: (e) => setTimeout(() => D?.Hide(), 200),
          onFocus: (e) => {
            console.log("We are focussed");
          },
          ref: I,
          type: "text",
          label: a ?? (0, v.we)("#Sale_EnterEventsURL_Common"),
          placeholder: n,
          onChange: M,
          tooltip: i ?? (0, v.we)("#Sale_EnterEventsURL_Tooltip_Common"),
        });
      }
      var C = a(9154),
        I = a(738),
        B = a(56011),
        T = a(46965),
        M = a(98459),
        A = a(98076),
        k = a(48479),
        R = a(20194),
        P = a(58632),
        N = a.n(P),
        G = a(30470),
        O = a(68797);
      const F = r.createContext({
        loadAppToPaidPartners: async (e) =>
          await (function () {
            U ||
              (U = new (N())(
                async (e) => {
                  const t = `${G.TS.PARTNER_BASE_URL}promotionanalysis/ajaxgetgetpaidpublishersforapp`,
                    a = { rgAppIDs: e.join(",") },
                    n = await o().get(t, { params: a });
                  if (!n || 200 != n?.status || 1 != n?.data?.success)
                    throw `Failed to load app to paid partners: ${((0, O.H))(n).strErrorMsg}`;
                  const r = new Map();
                  return (
                    n.data.publishers_for_app.forEach((e) => {
                      r.set(e.appid, e);
                    }),
                    e.map((e) => r.get(e) ?? null)
                  );
                },
                { maxBatchSize: 100 },
              ));
            return U;
          })().load(e),
      });
      function L(e, t) {
        return {
          queryKey: ["AppToPaidPartners", t],
          queryFn: () => e.loadAppToPaidPartners(t),
          enabled: !!t,
        };
      }
      let U;
      var z = a(32179),
        x = a(55263),
        q = a(78395),
        W = a(22797);
      const j = {};
      function H(e) {
        const {
            closeModal: t,
            rgPartnerToValidateAgainst: a,
            clanAccountID: n,
            clanEventGID: s,
          } = e,
          {
            eventModel: l,
            bLoading: o,
            sErrorMessage: c,
          } = (0, i.B9)(n, s, !0),
          [m, d, u] = (0, r.useMemo)(
            () =>
              l
                ? [
                    Array.from(l.GetSaleFeaturedApps()),
                    Array.from(l.GetSaleFeaturedPackages()),
                    Array.from(l.GetSaleFeaturedBundles()),
                  ]
                : [[], [], []],
            [l],
          );
        return r.createElement(
          q.o0,
          {
            strTitle: "Validating Against Paid Partners",
            strDescription:
              "This will verify all of the explicitly listed apps are directly paid to the partners passed in.",
            closeModal: t,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
          },
          r.createElement("div", null, "Validating Against These Partners:"),
          a.map((e) => r.createElement(K, { key: "p" + e, partnerID: e })),
          Boolean(m.length > 0) &&
            r.createElement(
              "div",
              null,
              r.createElement("h3", null, "Validating ", m.length, " Apps"),
              m.map((e) =>
                r.createElement(V, {
                  key: "app" + e,
                  appid: e,
                  rgPartnerToValidateAgainst: a,
                }),
              ),
            ),
          Boolean(d.length > 0) &&
            r.createElement("div", null, "TODO Packages"),
          Boolean(u.length > 0) && r.createElement("div", null, "TODO Bundles"),
          Boolean(o) && r.createElement(W.t, null),
          Boolean(c) && r.createElement("div", null, "Error: ", c),
        );
      }
      function V(e) {
        const { appid: t, rgPartnerToValidateAgainst: a } = e,
          n = (function (e) {
            const t = r.useContext(F);
            return (0, R.I)(L(t, e));
          })(t),
          [i] = (0, x.t7)(t, j);
        return n.data && i
          ? r.createElement(
              "div",
              null,
              (function (e, t) {
                const a = new Set(e);
                for (const e of t) if (a.has(e)) return !0;
                return !1;
              })(a, n.data.publisherid)
                ? "✓ "
                : "✗ ",
              " ",
              i.GetName(),
            )
          : r.createElement("div", null, "Loading for appid: ", t);
      }
      function K(e) {
        const { partnerID: t } = e,
          [a] = (0, z.UA)(t);
        return r.createElement("div", null, a?.name || "Unknown", " (", t, ")");
      }
      const Y = [
          { label: (0, v.we)("#ExternalSaleEventType_Publisher"), data: 1 },
          { label: (0, v.we)("#ExternalSaleEventType_Showcase"), data: 2 },
          { label: (0, v.we)("#ExternalSaleEventType_Region"), data: 3 },
          { label: (0, v.we)("#ExternalSaleEventType_Theme"), data: 4 },
          { label: (0, v.we)("#ExternalSaleEventType_Franchise"), data: 5 },
        ],
        $ = [{ label: "No sale page required", data: 0 }, ...Y];
      function J(e) {
        switch (e) {
          case 1:
            return (0, v.we)("#ExternalSaleEventType_Publisher");
          case 3:
            return (0, v.we)("#ExternalSaleEventType_Region");
          case 2:
            return (0, v.we)("#ExternalSaleEventType_Showcase");
          case 4:
            return (0, v.we)("#ExternalSaleEventType_Theme");
          default:
            return "";
        }
      }
      function X(e) {
        const {
            oEditablePlan: t,
            bUseSalePageType: a,
            rgPartnerIDToValidate: l,
          } = e,
          { eventModel: o } = (0, i.B9)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          ),
          [c, m, d, u, p] = (0, n.q3)(() => [
            t.BHasAssociatedSaleEvent(),
            t.BRequiresSalePage(),
            t.GetRequiresSalePageType(),
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]);
        return r.createElement(
          "div",
          { className: A.LinkCtn },
          Boolean(c) &&
            r.createElement(
              "div",
              { className: A.SalePageLinkCtn },
              r.createElement(s.JU, null, "Associated Sale Event:"),
              r.createElement(
                "div",
                { className: A.ButtonRow },
                o?.GetSaleVanity() ||
                  r.createElement(
                    "div",
                    { className: A.MissingSalePageVanityWarning },
                    "Warning: Sale page is missing vanity URL",
                  ),
                r.createElement(
                  "a",
                  { href: t.GetSaleEditEventURL(), target: "_blank" },
                  "Edit Associated Sale Page",
                ),
                r.createElement(Z, { oEditablePlan: t }),
              ),
              r.createElement("hr", null),
              r.createElement(
                s.$n,
                {
                  onClick: (e) =>
                    (0, I.pg)(
                      r.createElement(H, {
                        clanAccountID: u,
                        clanEventGID: p,
                        rgPartnerToValidateAgainst: l,
                      }),
                      (0, B.uX)(e),
                    ),
                  disabled: !l || 0 == l.length || !c,
                },
                "Validate Sale Page Only Contains Partner Paid Apps",
              ),
            ),
          r.createElement(
            k.qx,
            {
              title: "Link A Sale Page:",
              bStartMinimized: t.BHasAssociatedSaleEvent(),
            },
            r.createElement(
              "p",
              null,
              "Sale pages do not have to be public to be linked, but you must be logged in to the Steam Store with Valve Admin.",
            ),
            r.createElement(D, {
              strLabel: "",
              strPlaceholder:
                "eg. http://steamcommunity.com/groups/Valve/partnerevents/edit/79358903956603577",
              fnSetEvent: (e) =>
                t.SetSaleEvent(e.gidClanEvent, e.clanSteamID.GetAccountID()),
              bFilterToSales: !0,
              bShowHidden: !0,
            }),
            r.createElement("br", null),
            r.createElement(s.Yh, {
              label: "Promotion requires a Sale page?",
              tooltip:
                "Use this flag to require a sale page is added and reviewed. When adding this requirement the sale page may not be created yet.",
              checked: m,
              onChange: t.SetRequiresSalePage,
            }),
            m &&
              a &&
              r.createElement(s.m, {
                label: "Require a specific Sale page type?",
                rgOptions: Y,
                selectedOption: d,
                onChange: (e) => t.SetRequiresSalePageType(e.data),
                contextMenuPositionOptions: { bDisablePopTop: !0 },
              }),
            r.createElement(
              "div",
              null,
              r.createElement("br", null),
              r.createElement(s.JU, null, "Create New Sale Page:"),
              r.createElement(
                "p",
                null,
                "Send the partner this url where they can create a ticket with necessary information to create the sale page. Keywords will help them with creating sale page and their sale related questions.",
                r.createElement("br", null),
                r.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                ),
              ),
              r.createElement(
                "div",
                { className: A.ButtonRow },
                Boolean(c) &&
                  r.createElement(
                    s.$n,
                    { onClick: (e) => t.ClearSalePage() },
                    "Clear Associated Sale Page",
                  ),
                r.createElement(
                  s.$n,
                  {
                    onClick: (e) => {
                      (0, I.pg)(
                        r.createElement(Q, { oEditablePlan: t }),
                        (0, B.uX)(e),
                      );
                    },
                  },
                  "Create New Sale Page",
                ),
              ),
            ),
          ),
        );
      }
      function Q(e) {
        const { oEditablePlan: t, closeModal: a } = e,
          [n, i] = (0, r.useState)(t.BHasAssociatedSaleEvent());
        return n
          ? r.createElement(C.o0, {
              strTitle: "Create New Sale Page?",
              strDescription: `You already have Sale Page with ID ${t.GetSaleEditEventURL()} associated with this promotion plan.  Are you sure you want to create a new one?`,
              onCancel: a,
              onOK: () => i(!1),
              strOKButtonText: "Create New Sale Page Anyways",
            })
          : r.createElement(T.P, {
              fnSetSalePageInfo: t.SetSaleEvent,
              closeModal: a,
            });
      }
      function Z(e) {
        const { oEditablePlan: t } = e,
          { eventModel: a } = (0, i.B9)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          );
        return a
          ? r.createElement(M.o$, {
              name: a.GetSaleVanity(),
              type: "Sale Store Page",
              id: a.GetSaleVanity(),
              fnGetURL: (e) => a.GetSaleURL(),
            })
          : null;
      }
    },
    46861: (e, t, a) => {
      "use strict";
      a.d(t, { s: () => D, K: () => w });
      var n = a(67239);
      const r = ["Weekend Deal", "Now Available", "Pre-Purchase", ""];
      var i = a(13810),
        s = a(97843),
        l = a(90626),
        o = a(82359),
        c = a(82097),
        m = a(62792),
        d = a(55263),
        u = a(16676),
        p = a(71298),
        _ = a(9154),
        g = a(738),
        h = a(22797),
        E = a(68797),
        S = a(56011),
        y = a(61859),
        v = a(78327),
        f = a(98459),
        b = a(98076);
      function w(e) {
        const { oEditablePlan: t, index: a } = e;
        return l.createElement(
          "div",
          { className: b.LinkCtn },
          l.createElement(f.nW, {
            name: "Spotlight ID",
            placeHolder: "/admin/store/spotlight/<grab this ID>",
            id: t.GetSpotlightIDs(a),
            index: a,
            fnSetID: t.SetSpotlightID,
            fnGetURL: n.Hm.GetSpotlightEditURL,
          }),
          l.createElement(
            "div",
            { className: b.ButtonRow },
            l.createElement(
              u.$n,
              {
                onClick: (e) => {
                  (0, g.pg)(
                    l.createElement(C, { oEditablePlan: t, index: a }),
                    (0, S.uX)(e),
                  );
                },
              },
              "Create new",
            ),
            l.createElement(
              u.$n,
              {
                onClick: (e) => {
                  (0, g.pg)(
                    l.createElement(T, { oEditablePlan: t, index: a }),
                    (0, S.uX)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function D(e, t, a, n, r, i, s) {
        const l = {
          name: e,
          type: t,
          creator: v.iA.account_name,
          visibility: { visible: !1, startdate: a, enddate: n },
          location: { genres: [], hubTargets: [] },
          title: r,
          body: { english: i },
        };
        return (
          s &&
            ((l.association = (0, m.Je)(s.id, s.storeItemType)),
            (l.association_type = (0, m.lY)(s.storeItemType))),
          l
        );
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          i = t.GetType(),
          [o, c] = (0, l.useState)(t.GetName()),
          [m, g] = (0, l.useState)("Weekend Deal"),
          h = (0, l.useMemo)(() => r.map((e) => ({ label: e, data: e })), []),
          [S] = (0, d.G6)(t.GetFeaturedItemID(), t.GetFeaturedItemType(), {
            include_platforms: !0,
          }),
          [y, v] = (0, l.useState)(t.BHasSpotlightIDs(n)),
          [f, w] = (0, l.useState)(
            "midweek" == i
              ? "#spotlight_midweek_madness"
              : "#spotlight_weekend_deal",
          ),
          [C, T] = (0, l.useState)("#promo_ends_custom"),
          { fnAddNewSpotlight: M } = (0, s.jO)(),
          A = (0, p.vs)();
        return A.bLoading
          ? l.createElement(p.Hh, {
              state: A,
              strDialogTitle: "Create New Spotlight?",
              closeModal: a,
            })
          : y
            ? l.createElement(_.o0, {
                strTitle: "Create New Spotlight?",
                strDescription: `You already have spotlight with ID ${t.GetSpotlightIDs(n)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: a,
                onOK: () => v(!1),
                strOKButtonText: "Create New Spotlight Anyways",
              })
            : l.createElement(
                _.o0,
                {
                  strTitle: "Create New Spotlight?",
                  strDescription:
                    "Create and link a spotlight from date range and featured item from the existing plan? Any additional customization can be done in the spotlight editor directly.",
                  onCancel: a,
                  className: b.CreationDialogCtn,
                  bOKDisabled:
                    0 == o.trim().length ||
                    0 == f.trim().length ||
                    0 == C.trim().length ||
                    (!t.BHasAssociatedSaleEvent() && !S) ||
                    A.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    A.fnSetLoading(!0);
                    const e = D(
                      o,
                      m,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      f,
                      f,
                      S
                        ? { id: S.GetID(), storeItemType: S.GetStoreItemType() }
                        : {
                            id: t.GetFeaturedItemID(),
                            storeItemType: t.GetFeaturedItemType(),
                          },
                    );
                    M(e)
                      .then((e) => {
                        e
                          ? (t.SetSpotlightID(e, n),
                            A.fnSetStrSuccess(
                              "Create Spotlight Successful. Remember to Save the Promotion Plan.",
                            ))
                          : A.fnSetStrError(
                              "Create Spotlight failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "spotlight Creation Failed: " +
                          (0, E.H)(e).strErrorMsg +
                          ". ";
                        console.log("spotlight create failed", (0, E.H)(e), e),
                          A.fnSetStrError(t);
                      });
                  },
                },
                l.createElement("br", null),
                l.createElement("br", null),
                l.createElement(u.pd, {
                  value: o,
                  onChange: (e) => c(e.currentTarget.value),
                  label: "Internal Name",
                }),
                l.createElement(u.m, {
                  label: "Type",
                  rgOptions: h,
                  selectedOption: m,
                  onChange: (e) => g(e.data),
                }),
                l.createElement(I, { selected: f, fnSetSelected: w }),
                l.createElement(
                  "div",
                  { className: b.LargeSelectorCtn },
                  l.createElement(B, { selected: C, fnSetSelected: T }),
                ),
              );
      }
      function I(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, l.useMemo)(
            () =>
              [
                "#spotlight_weekend_deal",
                "#spotlight_midweek_madness",
                "#spotlight_weeklong_sale",
                "#spotlight_weeklong_header1",
              ].map((e) => ({ value: e, label: (0, y.we)(e) })),
            [],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(u.JU, null, "Spotlight Title:"),
          l.createElement(o.Ay, {
            options: n,
            value: n.find((e) => e.value === t),
            onChange: (e) => a(e.value),
            isSearchable: !0,
          }),
        );
      }
      function B(e) {
        const { selected: t, fnSetSelected: a } = e,
          n = (0, i.i)(),
          r = (0, l.useMemo)(
            () =>
              Object.keys(n || [])
                .filter((e) => "string" == typeof n[e] && "language" != e)
                .map((e) => ({ label: `${n[e]} (#${e})`, value: `#${e}` })),
            [n],
          );
        return n
          ? l.createElement(
              l.Fragment,
              null,
              l.createElement(u.JU, null, "Spotlight Body:"),
              l.createElement(o.Ay, {
                options: r,
                value: r.find((e) => e.value === t),
                onChange: (e) => a(e.value),
                isSearchable: !0,
              }),
            )
          : l.createElement(h.t, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function T(e) {
        const { oEditablePlan: t, closeModal: a, index: n } = e,
          [r, i] = (0, l.useState)(null),
          d = (0, s.ku)();
        (0, l.useEffect)(() => {
          if (d) {
            const e = ["application", "bundle", "package"],
              t = d.filter(
                (t) => t.association && e.includes(t.association_type),
              );
            c.A.Get().QueueMultipleStoreItemRequests(
              t.map((e) => (0, m.M9)(e.association)),
              t.map((e) => (0, m.TV)(e.association_type)),
              {},
            );
          }
        }, [d]);
        const p = (0, l.useMemo)(
          () => d.map((e) => ({ label: e.name, value: e.id, spotlight: e })),
          [d],
        );
        return l.createElement(
          _.o0,
          {
            strTitle: "Select an Existing Spotlight",
            strDescription:
              "This only surfaces active or upcoming spotlight. This doesn't have access to archived spotlights.",
            onCancel: a,
            closeModal: a,
            onOK: () => {
              t.SetSpotlightID(r, n);
            },
            bOKDisabled: Boolean(!r),
          },
          l.createElement(u.JU, null, "Choose Spotlight:"),
          l.createElement(o.Ay, {
            options: p,
            value: p.find((e) => e.value === r),
            onChange: (e) => i(e?.value || null),
            isSearchable: !0,
            isMulti: !1,
            isClearable: !0,
            filterOption: (e, t) => {
              if (!Boolean(t)) return !0;
              const a = t.toLowerCase(),
                n = e.data.spotlight,
                r = c.A.Get().GetStoreItem(
                  (0, m.M9)(n.association),
                  (0, m.TV)(n.association_type),
                );
              return (
                e.label.toLowerCase().search(a) >= 0 ||
                n.creator.toLowerCase().search(a) >= 0 ||
                r?.GetName().toLowerCase().search(a) >= 0
              );
            },
          }),
        );
      }
    },
    80754: (e, t, a) => {
      "use strict";
      a.d(t, { m: () => g, z: () => p });
      var n = a(98019),
        r = a(90626),
        i = a(16676),
        s = a(95695),
        l = a.n(s),
        o = a(22797),
        c = a(52038),
        m = a(14336),
        d = a(20997),
        u = a.n(d);
      function p(e) {
        const {
            nAccountID: t,
            fnSetAccountFilter: a,
            rgAdditional: s,
            rgAccountListFilter: m,
            className: d,
          } = e,
          p = (0, n.q)();
        if (!p) return r.createElement(o.t, { size: "small" });
        const g = p?.map((e) => ({
          label: r.createElement(_, {
            key: e.id,
            accountID: e.id,
            displayName: e.displayName,
          }),
          data: e.id,
        }));
        let h = [];
        return (
          m
            ? g.map((e) => {
                i.m1(e) && -1 != m.findIndex((t) => e.data == t) && h.push(e);
              })
            : h.push(...g),
          s && s.forEach((e) => h.push(e)),
          r.createElement(
            "div",
            { className: (0, c.A)(u().AccountSelectCtn, d) },
            r.createElement(i.m, {
              strDropDownClassName: (0, c.A)(
                l().DropDownScroll,
                u().AccountList,
              ),
              rgOptions: h,
              selectedOption: t ? Number.parseInt("" + t) : null,
              onChange: (e) => a(e.data),
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
            }),
          )
        );
      }
      function _(e) {
        const { accountID: t, displayName: a } = e,
          { data: n } = (0, m.js)(t);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement("b", null, a),
          " (",
          n ? n.m_strPlayerName : t,
          ")",
        );
      }
      function g(e) {
        return r.createElement(p, {
          ...e,
          rgAdditional: [{ data: null, label: "Show All Users Plan" }],
        });
      }
    },
    55272: (e, t, a) => {
      "use strict";
      a.d(t, { g: () => E, p: () => S });
      var n = a(22837),
        r = a(81418),
        i = a(76685),
        s = a(90626),
        l = a(79645),
        o = a(45737),
        c = a.n(o),
        m = a(76684),
        d = a(52038),
        u = a(61859),
        p = a(30470),
        _ = a(24484),
        g = a(4943),
        h = a(32011);
      function E(e) {
        const { pagePostFix: t, nPartnerID: a } = e,
          o = "sale_nextfest_" + t,
          _ = (0, i.u)(o),
          E = (0, l.S)(p.iA.accountid, a),
          y = (0, r.Ym)(_.event_title, (0, n.sf)(p.TS.LANGUAGE)),
          v = (0, h.Rl)(_),
          { rgDemoStats: f, rgAppSansPermissions: b } = S(),
          [w, D, C] = (0, s.useMemo)(
            () => [
              f.reduce(
                (e, t) =>
                  t.rt_last_update_time > e ? t.rt_last_update_time : e,
                0,
              ),
              f.reduce((e, t) => (t.rt_end_time > e ? t.rt_end_time : e), 0),
              new Set(f.map((e) => e.appid)).size,
            ],
            [f],
          );
        return s.createElement(
          "div",
          { className: (0, d.A)(c().AdminPageCtn) },
          s.createElement(
            "div",
            { className: c().PageTitle },
            (0, u.we)("#Recap_NextFest_Title", y),
          ),
          s.createElement("hr", null),
          s.createElement(
            "div",
            { className: c().ColumnCtn },
            s.createElement(
              "div",
              { className: c().LeftCol },
              s.createElement(
                "div",
                { className: c().ColHeader },
                s.createElement("div", {
                  className: c().ColHeaderImg,
                  style: { backgroundImage: `url( '${v}' )` },
                }),
              ),
            ),
            s.createElement(
              "div",
              { className: c().RightCol },
              s.createElement(
                "div",
                { className: c().SectionCtn },
                s.createElement(
                  "div",
                  null,
                  (0, u.we)("#Recap_ForPartner", E?.partner_name),
                ),
                Boolean(0 == f.length)
                  ? s.createElement(
                      "div",
                      null,
                      (0, u.we)("#Recap_Stats_NoAppsIncluded"),
                    )
                  : s.createElement(
                      "div",
                      null,
                      (0, u.we)(
                        "#Recap_Stats_Computed",
                        (0, u.TW)(w),
                        (0, m.pg)(w),
                      ),
                    ),
              ),
            ),
          ),
          Boolean(0 == f.length && 0 == b.length)
            ? s.createElement(
                "div",
                null,
                (0, u.we)("#Recap_Stats_NoAppsIncluded"),
              )
            : s.createElement(
                s.Fragment,
                null,
                Boolean(C > 1) &&
                  s.createElement(g.VE, {
                    rgDemo: f,
                    rtLatestEndDate: D,
                    rgAppSansPermissions: b,
                  }),
                s.createElement(g.Fg, {
                  rgDemo: f,
                  rtLatestEndDate: D,
                  nUniqueApps: C,
                  bShowDiscoveryGraph: !0,
                  rgAppSansPermissions: b,
                }),
              ),
        );
      }
      function S() {
        const [e] = (0, s.useState)(() =>
          (0, _.Tc)("demo_stats", "application_config"),
        );
        return {
          rgDemoStats: e.stats || [],
          rgAppSansPermissions: Array.from(
            new Set(e.appid_without_permissions || []),
          ),
        };
      }
    },
    46965: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => W });
      var n = a(41735),
        r = a.n(n),
        i = a(4130),
        s = a(75844),
        l = a(19367),
        o = a.n(l),
        c = a(90626),
        m = a(17720),
        d = a(67165),
        u = a(34629),
        p = a(44332),
        _ = a(68797),
        g = a(6419),
        h = a(6144),
        E = a(73745),
        S = a(78327);
      const y = "new_event_gid";
      class v {
        m_mapOriginalJSON = new Map();
        m_mapPrivateData = new Map();
        m_mapPrivateDataCallback = new Map();
        m_inflightRequests = new Map();
        m_gidDirty = null;
        m_clanAccountIDDirty = null;
        GetPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.get(a) || { jsonData: {} };
        }
        GetPrivateDataCopy(e, t) {
          const a = this.HandleNewEventGID(t);
          return JSON.parse(JSON.stringify(this.GetPrivateData(e, a)));
        }
        GetPrivateDataChangeCallback(e, t) {
          const a = this.HandleNewEventGID(t);
          return (
            this.m_mapPrivateDataCallback.has(a) ||
              this.m_mapPrivateDataCallback.set(a, new h.lu()),
            this.m_mapPrivateDataCallback.get(a)
          );
        }
        UpdatePrivateData(e, t, a, n) {
          const r = this.HandleNewEventGID(t),
            i = this.GetPrivateData(e, r);
          if (!this.BIsEqual(i.jsonData, a)) {
            if (null != this.m_gidDirty && r != this.m_gidDirty) {
              const e = {
                ...this.m_mapPrivateData.get(this.m_gidDirty),
                jsonData: this.m_mapOriginalJSON.get(this.m_gidDirty),
              };
              this.m_mapPrivateData.set(this.m_gidDirty, e),
                this.DispatchUpdate(this.m_clanAccountIDDirty, this.m_gidDirty);
            }
            (i.jsonData = a),
              n && ((this.m_gidDirty = r), (this.m_clanAccountIDDirty = e)),
              this.DispatchUpdate(e, r);
          }
        }
        BIsEqual(e, t) {
          return JSON.stringify(e) === JSON.stringify(t);
        }
        BLoaded(e, t) {
          const a = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.has(a);
        }
        BIsDirty() {
          return Boolean(this.m_gidDirty);
        }
        BIsEventDirty(e) {
          const t = this.HandleNewEventGID(e);
          return this.m_gidDirty == t;
        }
        DiscardChanges() {
          if (this.m_gidDirty) {
            const e = this.m_clanAccountIDDirty,
              t = this.m_gidDirty;
            (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
            const a = this.m_mapPrivateData.get(t),
              n = this.m_mapOriginalJSON.get(t);
            this.m_mapPrivateData.set(t, { ...a, jsonData: n }),
              this.DispatchUpdate(e, t);
          }
        }
        DispatchUpdate(e, t) {
          const a = this.HandleNewEventGID(t),
            n = this.GetPrivateDataCopy(e, a);
          this.GetPrivateDataChangeCallback(e, a).Dispatch(n);
        }
        HandleNewEventGID(e) {
          return null == e || null == e || "" == e ? y : e;
        }
        async LoadPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          return (
            this.m_inflightRequests.has(a) ||
              this.m_inflightRequests.set(
                a,
                this.InternalLoadPrivateData(e, a),
              ),
            await this.m_inflightRequests.get(a)
          );
        }
        async InternalLoadPrivateData(e, t) {
          const a = this.HandleNewEventGID(t);
          if (this.m_mapPrivateData.has(a)) return this.m_mapPrivateData.get(a);
          if (a == y) {
            const e = { jsonData: {} };
            return (
              this.m_mapPrivateData.set(a, e),
              this.m_mapOriginalJSON.set(a, {}),
              e
            );
          }
          try {
            const t =
                S.TS.COMMUNITY_BASE_URL + "partnereventdata/ajaxgetprivatedata",
              n = { clanAccountID: e.GetAccountID(), gidClanEvent: a },
              i = await r().get(t, { params: n, withCredentials: !0 });
            if (1 === i?.data?.success && i.data.data) {
              const e = {
                rtLastUpdateTime: i.data.data.time_written,
                nAccountLastUpdate: i.data.data.account_writer,
                jsonData: i.data.data.json_data,
              };
              return (
                this.m_mapPrivateData.set(a, e),
                this.m_mapOriginalJSON.set(a, e.jsonData),
                e
              );
            }
            if (42 === i?.data?.success) {
              const e = { jsonData: {} };
              return (
                this.m_mapPrivateData.set(a, e),
                this.m_mapOriginalJSON.set(a, {}),
                e
              );
            }
            {
              const e = (0, _.H)(i);
              console.error(
                "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, _.H)(e);
            console.error(
              "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                t.strErrorMsg,
              t,
            );
          }
          return null;
        }
        async SaveDirtyChanges(e) {
          if (
            ((0, p.w)(
              null != e && null != e && "" != e,
              "CPartnerEventPrivateDataStore: GID not supplied.",
            ),
            this.BIsDirty())
          ) {
            const t = m.b.InitFromClanID(this.m_clanAccountIDDirty),
              a = this.m_mapPrivateData.get(this.m_gidDirty).jsonData;
            if (this.m_gidDirty == e || this.m_gidDirty == y)
              return (
                this.m_gidDirty == y &&
                  (this.m_mapOriginalJSON.set(e, {}),
                  this.m_mapPrivateData.set(e, this.m_mapPrivateData.get(y)),
                  this.m_mapPrivateData.delete(y)),
                this.SavePrivateData(t, e, a)
              );
            console.warn(
              "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                e +
                " " +
                this.m_gidDirty,
            );
          } else
            console.warn(
              "CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " +
                e +
                " " +
                this.m_gidDirty,
            );
          return 1;
        }
        async SavePrivateData(e, t, a) {
          if (
            ((0, p.w)(
              null != t && null != t && "" != t,
              "CPartnerEventPrivateDataStore: GID not supplied.",
            ),
            !this.m_mapPrivateData.has(t))
          )
            return 42;
          if (this.BIsEqual(a, this.m_mapOriginalJSON.get(t))) return 1;
          try {
            const n = new FormData();
            n.append("sessionid", S.TS.SESSIONID),
              n.append("clanAccountID", "" + e.GetAccountID()),
              n.append("gidClanEvent", "" + t),
              n.append("jsonData", JSON.stringify(a));
            const i =
                "partnerweb" == (0, S.yK)()
                  ? S.TS.PARTNER_BASE_URL + "partnerevents/ajaxsetprivatedata"
                  : S.TS.COMMUNITY_BASE_URL +
                    "partnereventdata/ajaxsetprivatedata",
              s = await r().post(i, n, { withCredentials: !0 });
            if (1 === s?.data?.success) {
              const n = {
                nAccountLastUpdate: S.iA.accountid,
                rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                jsonData: a,
              };
              return (
                this.m_mapPrivateData.set(t, n),
                this.m_mapOriginalJSON.set(t, a),
                (this.m_clanAccountIDDirty = null),
                (this.m_gidDirty = null),
                this.DispatchUpdate(e.GetAccountID(), t),
                s.data.success
              );
            }
            {
              const e = (0, _.H)(s);
              console.error(
                "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                  e.strErrorMsg,
                e,
              );
            }
          } catch (e) {
            const t = (0, _.H)(e);
            console.error(
              "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                t.strErrorMsg,
              t,
            );
          }
          return 2;
        }
        static s_Singleton;
        static Get() {
          return (
            v.s_Singleton ||
              ((v.s_Singleton = new v()),
              v.s_Singleton.Init(),
              "dev" == S.TS.WEB_UNIVERSE &&
                (window.g_PartnerEventPrivateDataStore = v.s_Singleton)),
            v.s_Singleton
          );
        }
        Init() {
          let e = (0, S.Tc)("privatedata", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => {
              const t = {
                rtLastUpdateTime: e.data.time_written,
                nAccountLastUpdate: e.data.account_writer,
                jsonData: e.data.json_data || {},
              };
              this.m_mapOriginalJSON.set(e.gid, t.jsonData),
                this.m_mapPrivateData.set(e.gid, t);
            });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
              "number" == typeof t[0].clanAccountID &&
            "object" == typeof t[0].data
          );
        }
      }
      function f(e, t) {
        const a = v.Get(),
          [n, r] = (0, c.useState)(a.GetPrivateDataCopy(e, t));
        (0, E.hL)(a.GetPrivateDataChangeCallback(e, t), r);
        const [i, s] = (0, c.useState)(!a.BLoaded(e, t));
        (0, c.useEffect)(() => {
          if (!a.BLoaded(e, t)) {
            const n = m.b.InitFromClanID(e);
            a.LoadPrivateData(n, t).then((e) => {
              r(e), s(!1);
            });
          }
        }, [e, t, a]);
        return {
          oPrivateData: n,
          fnSetPrivateJson: (0, c.useCallback)(
            (n) => {
              a.UpdatePrivateData(e, t, n, !0);
            },
            [e, t, a],
          ),
          bLoading: i,
          fnSetPrivateJsonNoDirty: (0, c.useCallback)(
            (n) => {
              a.UpdatePrivateData(e, t, n, !1);
            },
            [e, t, a],
          ),
        };
      }
      function b(e, t) {
        const { oPrivateData: a, fnSetPrivateJson: n, bLoading: r } = f(e, t),
          i = v.Get(),
          s = (0, c.useCallback)(
            (a) =>
              n({
                ...i.GetPrivateData(e, t).jsonData,
                bPublishRequiresValveApproval: a,
              }),
            [e, n, t, i],
          ),
          l = (0, c.useCallback)(
            (a) =>
              n({
                ...i.GetPrivateData(e, t).jsonData,
                nAccountApproved: a,
                rtApprovalTime: Math.floor(Date.now() / 1e3),
              }),
            [e, n, t, i],
          ),
          o = (0, c.useCallback)(
            (a) =>
              n({
                ...i.GetPrivateData(e, t).jsonData,
                bRequiresHostDisclaimer: a,
              }),
            [e, n, t, i],
          ),
          m = (0, c.useCallback)(
            (a) =>
              n({ ...i.GetPrivateData(e, t).jsonData, strExternalSaleType: a }),
            [e, n, t, i],
          ),
          d = (0, c.useCallback)(
            (a) =>
              n({
                ...i.GetPrivateData(e, t).jsonData,
                nUserWhoEnabledSaleTechOnPage: a,
              }),
            [e, n, t, i],
          );
        return {
          bLoading: r,
          bPublishRequiresValveApproval: Boolean(
            a?.jsonData?.bPublishRequiresValveApproval,
          ),
          bHasSettingForRequiresValveApproval:
            void 0 !== a?.jsonData?.bPublishRequiresValveApproval,
          bRequiresHostDisclaimer: Boolean(
            a?.jsonData?.bRequiresHostDisclaimer,
          ),
          nAccountApproved: a?.jsonData?.nAccountApproved,
          rtApprovalTime: a?.jsonData?.rtApprovalTime,
          fnSetStorePublishingRequiresValveApproval: s,
          fnSetAccountApproved: l,
          fnSetStoreRequireHostDisclaimer: o,
          strExternalSaleEventType:
            a?.jsonData?.strExternalSaleType || "publisher",
          fnSetExternalSaleEventType: m,
          fnSetUserWhoEnabledSalePage: d,
        };
      }
      (0, u.Cg)([g.o], v.prototype, "BIsEventDirty", null),
        (0, u.Cg)([g.o], v.prototype, "DiscardChanges", null),
        (0, u.Cg)([g.o], v.prototype, "SaveDirtyChanges", null);
      var w = a(16676),
        D = a(84811),
        C = a(24655),
        I = a(99637),
        B = a(95695),
        T = a(9154),
        M = (a(738), a(22797));
      a(60746);
      var A = a(61859),
        k = a(32754);
      a(11833), a(71298), a(42569), a(51272), a(26408);
      function R(e) {
        const { clanSteamID: t, gidClanEvent: a } = e,
          { bLoading: n } = b(t.GetAccountID(), a);
        return n
          ? c.createElement(M.t, { string: (0, A.we)("#Loading") })
          : c.createElement(P, { ...e });
      }
      function P(e) {
        const { clanSteamID: t, gidClanEvent: a, fnOkCallbackList: n } = e,
          {
            bPublishRequiresValveApproval: r,
            fnSetStorePublishingRequiresValveApproval: i,
            bRequiresHostDisclaimer: s,
            fnSetStoreRequireHostDisclaimer: l,
            bHasSettingForRequiresValveApproval: o,
            strExternalSaleEventType: m,
            fnSetExternalSaleEventType: d,
          } = b(t.GetAccountID(), a),
          [u, p] = (0, c.useState)(!o || r),
          [_, g] = (0, c.useState)(s);
        return (
          (0, E.hL)(n, () => {
            i(u), l(_);
          }),
          c.createElement(
            c.Fragment,
            null,
            c.createElement(w.Yh, {
              checked: n ? u : !o || r,
              onChange: (e) => {
                p(e), n || i(e);
              },
              label:
                "Require Approval by Valve Admin in order to publish this sales events",
              tooltip:
                "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
            }),
            c.createElement(w.Yh, {
              checked: n ? _ : s,
              onChange: (e) => {
                g(e), n || l(e);
              },
              label: (0, A.we)("#SalePresented_By_Admin"),
              tooltip: (0, A.we)("#SalePresneted_By_Admin_ttip"),
            }),
            "Select event type so that we can show the right documentation to the partner:",
            c.createElement(w.m, {
              rgOptions: [
                {
                  label: "Publisher/Developer Sale",
                  data: "publisher",
                  tooltip:
                    "A developer, publisher or franchise want to showcase their games on a sale page.",
                },
                {
                  label: "Showcase/Festival/Convention",
                  data: "showcase",
                  tooltip:
                    "festivals, convensions, showcases. Typically events with a physical presence, but not always",
                },
                {
                  label: "Regional Sale",
                  data: "region",
                  tooltip: "For Made in XYZ Location events",
                },
                {
                  label: "Themed Sale",
                  data: "theme",
                  tooltip:
                    "For events organized around a particular genre, theme, style",
                },
                {
                  label: "Franchise Sale",
                  data: "franchise",
                  tooltip: "For events organized around a particular franchise",
                },
              ],
              strDropDownClassName: B.DropDownScroll,
              strDropDownMenuCtnClass: B.DropDownScroll,
              strDropDownItemClassName: B.DropDownScrollItem,
              selectedOption: m,
              onChange: (e) => d(e.data),
              contextMenuPositionOptions: { bDisablePopTop: !0 },
            }),
          )
        );
      }
      var N = a(88997),
        G = a(68451),
        O = a(64641),
        F = a(41338),
        L = a(82062);
      const U = (e) => {
          const {
              strLabel: t,
              strToolTip: a,
              fnSetCurator: n,
              bLimitToCreatorHome: i,
            } = e,
            s = (0, c.useRef)(null),
            l = (0, c.useRef)(null),
            o = (0, c.useRef)(0),
            m = (0, c.useRef)();
          (0, c.useEffect)(
            () => () => {
              window.clearTimeout(o.current),
                s.current && s.current("SearchForCurator: unmounting"),
                l.current && l.current.Hide();
            },
            [],
          );
          const u = (0, c.useCallback)(
            async (e) => {
              const t = e.target.value;
              t &&
                0 != t.trim().length &&
                (window.clearTimeout(o.current),
                s.current && s.current("SearchForCurator: new request"),
                (o.current = window.setTimeout(async () => {
                  const e = r().CancelToken.source();
                  s.current = e.cancel;
                  try {
                    const a = await d.pF.SearchCreatorHomeStore(t, i, e);
                    if (e.token.reason) return;
                    l.current = (0, N.lX)(
                      c.createElement(z, { list: a, fnSetCurator: n }),
                      m.current.element,
                      {
                        bOverlapHorizontal: !0,
                        bMatchWidth: !0,
                        bFitToWindow: !0,
                        bDisablePopTop: !0,
                        bNoFocusWhenShown: !0,
                        bSkipFocusWhenReady: !0,
                      },
                    );
                  } catch (t) {
                    if (e.token.reason) return;
                    const a = (0, _.H)(t);
                    console.log(
                      "SearchForCurator.SearchCreatorHomeStore error " +
                        a.strErrorMsg,
                      a,
                    );
                  }
                }, 300)));
            },
            [n, i],
          );
          return c.createElement(
            D.tH,
            null,
            c.createElement(w.pd, {
              type: "text",
              label: t,
              onChange: u,
              onBlur: (e) =>
                setTimeout(() => l.current && l.current.Hide(), 200),
              ref: m,
              tooltip: a,
            }),
          );
        },
        z = (e) => {
          const { list: t, fnSetCurator: a } = e;
          return c.createElement(
            G.tz,
            { className: L.SearchResults },
            t.map((e) =>
              c.createElement(
                G.kt,
                {
                  key: "curatorresult" + e.GetClanAccountID(),
                  onSelected: () => a(e),
                },
                c.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  c.createElement(
                    "div",
                    { className: O.GameImageContainer },
                    c.createElement("img", {
                      src: e.GetAvatarURLFullSize(),
                      className: O.AvatarImage,
                    }),
                  ),
                  (0, F.EK)(e.GetName()),
                ),
              ),
            ),
          );
        };
      var x = a(12155),
        q = a(6286);
      const W = (0, s.PA)((e) => {
          const t = () => e.closeModal && e.closeModal(),
            a = (0, c.useRef)(null),
            [n, s] = (0, c.useState)(null),
            [l, u] = (0, c.useState)(""),
            [p, _] = (0, c.useState)("");
          let g = new Date();
          g.setHours(10), g.setMinutes(0), g.setSeconds(0);
          const [h, E] = (0, c.useState)(Math.floor(g.getTime() / 1e3));
          let y = new Date();
          y.setDate(y.getDate() + 1),
            y.setHours(10),
            y.setMinutes(0),
            y.setSeconds(0);
          const [f, b] = (0, c.useState)(Math.floor(y.getTime() / 1e3)),
            [C, I] = (0, c.useState)(null),
            [B, M] = (0, c.useState)(null),
            [k, R, P] = (function () {
              const e = v.Get();
              return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
            })();
          "dev" == S.TS.WEB_UNIVERSE &&
            (0, c.useEffect)(() => {
              const e = window.location.search;
              if (e && e.length > 0) {
                const t = new URLSearchParams("?" == e[0] ? e.substring(1) : e);
                if (
                  (t.has("eventName") && u(t.get("eventName")),
                  t.has("vanity") && _(t.get("vanity")),
                  t.has("startTime"))
                ) {
                  const e = t.get("startTime");
                  let a = /^\d+$/.test(e)
                    ? o().unix(Number.parseInt(e))
                    : o()(e);
                  E(Math.floor(a.unix()));
                }
                if (t.has("endTime")) {
                  const e = t.get("endTime");
                  let a = /^\d+$/.test(e)
                    ? o().unix(Number.parseInt(e))
                    : o()(e);
                  b(Math.floor(a.unix()));
                }
                if (t.has("clan_account_id")) {
                  const e = r().CancelToken.source();
                  a.current = e.cancel;
                  const n = m.b.InitFromClanID(
                    Number.parseInt(t.get("clan_account_id")),
                  );
                  (async () => {
                    let t = await d.pF.LoadCreatorHome(n, e);
                    e.token.reason || s(t);
                  })();
                }
              }
              return () => {
                a.current &&
                  a.current("NewPartnerEventSalePageDialog: unmounting");
              };
            }, []);
          let N = new Array(),
            G = !1;
          if (null == n)
            N.push(
              c.createElement(
                "div",
                { className: q.MinWidthCtn },
                c.createElement(
                  "div",
                  { className: q.StepOneTitle },
                  (0, A.we)("#Sale_New_ChooseCreator"),
                ),
                c.createElement(U, {
                  key: "SearchForCurator",
                  strLabel: (0, A.we)("#Sale_New_ChooseCreator_Label"),
                  strToolTip: (0, A.we)("#Sale_New_ChooseCreator_ttip"),
                  bLimitToCreatorHome: !0,
                  fnSetCurator: s,
                }),
              ),
            );
          else if (B)
            N.push(c.createElement("div", { key: "failedtocreatevent" }, B));
          else if (C) {
            let e =
              S.TS.COMMUNITY_BASE_URL +
              "gid/" +
              C.clanSteamID.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              C.GID +
              "?tab=sale";
            N.push(
              c.createElement(
                "div",
                { key: "eventcreatedsuccess" },
                c.createElement("p", null, (0, A.we)("#Sale_New_Success")),
                c.createElement(
                  "a",
                  { href: e, target: S.TS.IN_CLIENT ? void 0 : "_blank" },
                  e,
                ),
              ),
            );
          } else if (
            (N.push(
              c.createElement(j, {
                key: "DisplayCreator_" + n.GetClanAccountID(),
                creatorHome: n,
                fnSetCreatorHome: s,
              }),
            ),
            n.BIsPartnerEventEditorEnabled())
          ) {
            N.push(
              c.createElement(
                "div",
                { key: "Verified" },
                (0, A.we)("#Sale_New_Verify_PE_Enabled"),
                c.createElement(
                  "div",
                  { className: q.VerifyCtn },
                  c.createElement(
                    "div",
                    { className: q.VerifyCheck },
                    c.createElement(x.Jlk, null),
                  ),
                ),
              ),
            );
            const e = n.GetClanSteamID();
            N.push(
              c.createElement(V, {
                key: "saleinput",
                strEventName: l,
                fnSetEventName: u,
                strVanity: p,
                fnSetVanity: _,
                rtStartTime: h,
                fnSetRTStartTime: E,
                rtEndTime: f,
                fnSetRTEndTime: b,
                clanSteamID: e,
              }),
            ),
              (G =
                l.trim().length > 0 && p.trim().length > 0 && h > 0 && f > h);
          } else
            N.push(
              c.createElement(H, {
                key: "EnablePartnerInfo_" + n.GetClanAccountID(),
                creatorHome: n,
              }),
            );
          return c.createElement(
            D.tH,
            null,
            c.createElement(
              T.x_,
              { onEscKeypress: t },
              c.createElement(
                w.UC,
                null,
                c.createElement(w.Y9, null, (0, A.we)("#Sale_New_Title")),
                c.createElement(w.nB, null, c.createElement(w.a3, null, N)),
                c.createElement(
                  w.wi,
                  null,
                  c.createElement(w.CB, {
                    onCancel: t,
                    bOKDisabled: !G,
                    strOKText: (0, A.we)("#Sale_New_CreateEvent"),
                    strCancelText: C ? (0, A.we)("#Button_OK") : void 0,
                    onOK: async () => {
                      a.current && a.current();
                      const t = r().CancelToken.source();
                      a.current = t.cancel;
                      let s = await i.c
                        .Get()
                        .CreateSalePartnerEvent(
                          n.GetClanAccountID(),
                          l,
                          p,
                          h,
                          f,
                          t,
                        );
                      if (!t.token.reason)
                        if (s)
                          if (
                            (e.fnSetSalePageInfo &&
                              e.fnSetSalePageInfo(
                                s.GID,
                                s.clanSteamID.GetAccountID(),
                              ),
                            k(null))
                          ) {
                            1 == (await P(s.GID))
                              ? I(s)
                              : M("Failed to Save Private Event Data");
                          } else I(s);
                        else M((0, A.we)("#Sale_New_Errors"));
                    },
                  }),
                ),
              ),
            ),
          );
        }),
        j = (e) => {
          const { creatorHome: t, fnSetCreatorHome: a } = e;
          return c.createElement(
            "div",
            { className: q.MinWidthCtn },
            c.createElement("div", null, (0, A.we)("#Sale_New_ChosenCreator")),
            c.createElement(
              k.he,
              { toolTipContent: (0, A.we)("#Sale_New_ClearCreator_ttip") },
              c.createElement(
                "div",
                {
                  className: "DialogInput_ClearAction",
                  onClick: () => a(null),
                },
                c.createElement(x.sED, null),
              ),
            ),
            c.createElement(C.hA, {
              creatorID: t.GetCreatorHomeIdentifier(),
              bHideCreatorType: !0,
            }),
          );
        },
        H = (e) => {
          const { creatorHome: t } = e,
            [a, n] = (0, c.useState)(!1);
          return c.createElement(
            D.tH,
            null,
            c.createElement(
              "div",
              null,
              (0, A.we)("#Sale_New_Verify_PE_Enabled"),
              c.createElement(
                "div",
                { className: q.FailCheck },
                c.createElement(x.sED, null),
              ),
              c.createElement(
                "div",
                null,
                (0, A.PP)(
                  "#Sale_New_Enable_PartnerEventBeta",
                  c.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Creator+home+and+Partner+Events+Beta",
                      target: "_blank",
                    },
                    (0, A.we)("#EventEmail_Button_ClickForMoreDetails"),
                  ),
                ),
              ),
              c.createElement(
                w.$n,
                {
                  onClick: async () => {
                    n(!0), await t.EnablePartnerEventEditorFlag(), n(!1);
                  },
                },
                (0, A.we)("#Button_Accept"),
              ),
              a && c.createElement(M.t, { size: "small" }),
            ),
          );
        },
        V = (e) => {
          const {
            clanSteamID: t,
            strEventName: a,
            fnSetEventName: n,
            strVanity: r,
            fnSetVanity: i,
            rtStartTime: s,
            fnSetRTStartTime: l,
            rtEndTime: o,
            fnSetRTEndTime: m,
          } = e;
          return c.createElement(
            "div",
            null,
            c.createElement("div", null, (0, A.we)("#Sale_New_SetupEvent")),
            c.createElement(
              "div",
              { className: q.BasicInfoCtn },
              c.createElement(w.pd, {
                type: "text",
                label: (0, A.we)("#Sale_New_EnterEventName"),
                tooltip: (0, A.we)("#Sale_New_EnterEventName_ttip"),
                value: a,
                onChange: (e) => n(e.target.value),
              }),
              c.createElement(w.pd, {
                type: "text",
                label: (0, A.we)("#Sale_New_EnterVanity"),
                tooltip: (0, A.we)("#Sale_New_EnterVanity_ttip"),
                value: r,
                onChange: (e) => i(e.target.value),
              }),
              c.createElement(
                "div",
                { className: q.DateCtn },
                c.createElement(I.K, {
                  strDescription: (0, A.we)("#Sale_New_Start"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => s,
                  fnSetTimeToUpdate: l,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
                c.createElement(I.K, {
                  strDescription: (0, A.we)("#Sale_New_End"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => o,
                  fnSetTimeToUpdate: m,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
              ),
              c.createElement(R, { clanSteamID: t, gidClanEvent: null }),
            ),
          );
        };
    },
    34667: (e, t, a) => {
      "use strict";
      a.d(t, { h: () => B, k: () => I });
      var n = a(4074),
        r = a(75493),
        i = a(90626),
        s = a(64238),
        l = a.n(s),
        o = a(92757),
        c = a(60746),
        m = a(86921),
        d = a(16676),
        u = a(84811),
        p = a(738),
        _ = a(38135),
        g = a(22797),
        h = a(56011),
        E = a(61859),
        S = a(78327),
        y = a(4130),
        v = a(46965),
        f = a(45737),
        b = a.n(f),
        w = a(60202),
        D = a.n(w),
        C = a(10835);
      function I(e) {
        const { publisherid: t } = (0, o.g)(),
          [a, n] = i.useState(!0);
        if (
          (i.useEffect(() => {
            a &&
              (m.O3.Init(),
              y.c.Get(),
              Promise.all([c.KN.InitGlobal()]).then(() => n(!1)));
          }, [a]),
          a)
        )
          return i.createElement(g.t, {
            string: (0, E.we)("#Loading"),
            position: "center",
          });
        const s = (0, S.Tc)("partner_name", "application_config");
        return i.createElement(
          "div",
          { className: l()(D().DashboardCtn, b().AdminPageCtn) },
          i.createElement(
            "div",
            { className: b().PageTitle },
            (0, E.we)("#Sale_Partner_Dashboard") +
              (s?.length > 0 ? ": " + s : ""),
          ),
          i.createElement("hr", null),
          i.createElement(
            "div",
            { className: D().DashboardDesc },
            (0, E.we)("#Sale_Partner_Dashboard_Desc"),
          ),
          i.createElement("br", null),
          i.createElement("br", null),
          i.createElement(
            r.O.Provider,
            { value: Number.parseInt(t) },
            i.createElement(T, null),
          ),
        );
      }
      function B(e) {
        const [t, a] = i.useState(!0);
        i.useEffect(() => {
          t &&
            (m.O3.Init(),
            n.E.Get(),
            y.c.Get(),
            Promise.all([c.KN.InitGlobal()]).then(() => a(!1)));
        }, [t]);
        return t
          ? i.createElement(g.t, {
              string: (0, E.we)("#Loading"),
              position: "center",
            })
          : i.createElement(
              "div",
              { className: D().DashboardCtn },
              i.createElement("h1", null, (0, E.we)("#Sale_DashBoard")),
              i.createElement("hr", null),
              i.createElement(
                "p",
                null,
                (0, E.PP)(
                  "#Sale_DashBoard_Desc",
                  i.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/SteamBiz/New+Sales+Page+Feature+-+How+to+invite+partners",
                      target: "_blank",
                    },
                    (0, E.we)("#Sale_DashBoard_Desc_Link"),
                  ),
                  i.createElement(
                    "a",
                    {
                      href: "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta",
                      target: "_blank",
                    },
                    (0, E.we)("#Sale_DashBoard_Desc_Link2"),
                  ),
                ),
              ),
              i.createElement("hr", null),
              i.createElement(
                d.jn,
                {
                  className: D().CreateNewSaleButton,
                  onClick: (e) => {
                    (0, p.pg)(i.createElement(v.P, null), (0, h.uX)(e));
                  },
                },
                (0, E.we)("#Sale_New_Title"),
              ),
              i.createElement(
                "p",
                null,
                i.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "The best way is for the Partner to create a ticket. Keywords will help them with creating sale page and their sale related questions.",
                ),
              ),
              i.createElement(
                r.O.Provider,
                { value: null },
                i.createElement(T, null),
              ),
            );
      }
      function T(e) {
        const t = (0, r.V)(),
          a = (e) => window.sessionStorage.setItem("saletab", `?tab=${e.key}`),
          n = [
            {
              name: (0, E.we)(
                "#Sale_Summary_Active",
                y.c.Get().GetActiveEvents().length.toLocaleString(),
              ),
              key: "active",
              contents: i.createElement(
                u.tH,
                null,
                i.createElement(
                  "div",
                  { className: D().DashboardSectionActive },
                  i.createElement(C.t4, {
                    saleDescList: y.c.Get().GetActiveEvents(),
                    bShowAppBrowse: !0,
                    bShowFeaturing: !0,
                  }),
                ),
              ),
              onClick: a,
            },
          ];
        return (
          (y.c.Get().GetSeasonFeaturedEvents().length > 0 ||
            y.c.Get().GetSeasonFeaturedHiddenEvents()?.length > 0) &&
            n.push({
              name: (0, E.we)(
                "#Sale_Summary_SeasonalSaleFeatured",
                y.c.Get().GetSeasonFeaturedEvents().length.toLocaleString(),
              ),
              key: "seasonal",
              contents: i.createElement(
                u.tH,
                null,
                i.createElement(
                  "div",
                  { className: D().DashboardSectionFeatured },
                  i.createElement(C.t4, {
                    saleDescList: y.c.Get().GetSeasonFeaturedEvents(),
                    descriptionToken: "#Sale_Summary_SeasonalSaleFeatured_Desc",
                    bShowAppBrowse: !0,
                    hiddenSaleDescList: y.c
                      .Get()
                      .GetSeasonFeaturedHiddenEvents(),
                  }),
                ),
              ),
              onClick: a,
            }),
          n.push({
            name: (0, E.we)(
              "#Sale_Summary_Upcoming",
              y.c.Get().GetUpcomingEvents().length.toLocaleString(),
            ),
            key: "upcoming",
            contents: i.createElement(
              u.tH,
              null,
              i.createElement(C.t4, {
                saleDescList: y.c.Get().GetUpcomingEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(t),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          n.push({
            name: (0, E.we)(
              "#Sale_Summary_Draft",
              y.c.Get().GetDraftEvents().length.toLocaleString(),
            ),
            tooltip: (0, E.we)("#Sale_Summary_Draft_Ttip"),
            key: "draft",
            contents: i.createElement(
              u.tH,
              null,
              i.createElement(C.t4, {
                saleDescList: y.c.Get().GetDraftEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(t),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          y.c.Get().GetOldDraftEvents().length > 0 &&
            n.push({
              name: (0, E.we)(
                "#Sale_Summary_OldDraft",
                y.c.Get().GetOldDraftEvents().length.toLocaleString(),
              ),
              tooltip: (0, E.we)("#Sale_Summary_OldDraft_Ttip"),
              key: "olddraft",
              contents: i.createElement(
                u.tH,
                null,
                i.createElement(C.t4, {
                  saleDescList: y.c.Get().GetOldDraftEvents(),
                  bShowAppBrowse: Boolean(t),
                }),
              ),
              onClick: a,
            }),
          n.push({
            name: (0, E.we)(
              "#Sale_Summary_Archived",
              y.c.Get().GetArchiveEvents().length.toLocaleString(),
            ),
            key: "archived",
            contents: i.createElement(
              u.tH,
              null,
              i.createElement(C.t4, {
                saleDescList: y.c.Get().GetArchiveEvents(),
                bShowAppBrowse: Boolean(t),
              }),
            ),
            onClick: a,
          }),
          i.createElement(_.V, { tabs: n })
        );
      }
    },
    10835: (e, t, a) => {
      "use strict";
      a.d(t, { t4: () => Ot, Wr: () => Lt, GS: () => Ut });
      var n = a(75493),
        r = a(75186),
        i = a(90626),
        s = a(22837),
        l = a(17720),
        o = a(86355),
        c = a(4796),
        m = a(60746),
        d = a(34629),
        u = a(41735),
        p = a.n(u),
        _ = a(78327),
        g = a(14947),
        h = a(68797);
      class E {
        constructor(e) {
          (0, g.Gn)(this),
            (this.m_stats = {
              event_gid: "0",
              library_overview_shown: 0,
              library_overview_read: 0,
              app_details_spotlight_shown: 0,
              app_details_spotlight_read: 0,
              app_details_activity_shown: 0,
              app_details_activity_read: 0,
              store_app_page_shown: 0,
              store_app_page_read: 0,
              store_front_page_shown: 0,
              store_front_page_read: 0,
              community_hub_shown: 0,
              community_hub_read: 0,
              news_hub_shown: 0,
              news_hub_read: 0,
              event_scroller_read: 0,
              ...e,
            }),
            (this.m_stats.total_showm =
              this.m_stats.library_overview_shown +
              this.m_stats.app_details_activity_shown +
              this.m_stats.app_details_spotlight_shown +
              this.m_stats.store_app_page_shown +
              this.m_stats.store_front_page_shown +
              this.m_stats.community_hub_shown +
              this.m_stats.news_hub_shown),
            (this.m_stats.total_read =
              this.m_stats.library_overview_read +
              this.m_stats.app_details_activity_read +
              this.m_stats.app_details_spotlight_read +
              this.m_stats.store_app_page_read +
              this.m_stats.store_front_page_read +
              this.m_stats.community_hub_read +
              this.m_stats.news_hub_read +
              this.m_stats.event_scroller_read),
            (this.m_lastUpdateTime = e ? Math.floor(Date.now() / 1e3) : 0);
        }
        reset(e) {
          (this.m_stats.library_overview_shown = e.library_overview_shown),
            (this.m_stats.library_overview_read = e.library_overview_read),
            (this.m_stats.app_details_spotlight_shown =
              e.app_details_spotlight_shown),
            (this.m_stats.app_details_spotlight_read =
              e.app_details_spotlight_read),
            (this.m_stats.app_details_activity_shown =
              e.app_details_activity_shown),
            (this.m_stats.app_details_activity_read =
              e.app_details_activity_read),
            (this.m_stats.store_app_page_shown = e.store_app_page_shown),
            (this.m_stats.store_app_page_read = e.store_app_page_read),
            (this.m_stats.store_front_page_shown = e.store_front_page_shown),
            (this.m_stats.store_front_page_read = e.store_front_page_read),
            (this.m_stats.community_hub_shown = e.community_hub_shown),
            (this.m_stats.community_hub_read = e.community_hub_read),
            (this.m_stats.news_hub_shown = e.news_hub_shown),
            (this.m_stats.news_hub_read = e.news_hub_read),
            (this.m_stats.event_scroller_read = e.event_scroller_read),
            (this.m_stats.total_showm =
              e.library_overview_shown +
              e.app_details_activity_shown +
              e.app_details_spotlight_shown +
              e.store_app_page_shown +
              e.store_front_page_shown +
              e.community_hub_shown +
              e.news_hub_shown),
            (this.m_stats.total_read =
              e.library_overview_read +
              e.app_details_activity_read +
              e.app_details_spotlight_read +
              e.store_app_page_read +
              e.store_front_page_read +
              e.community_hub_read +
              e.news_hub_read +
              e.event_scroller_read),
            (this.m_lastUpdateTime = Date.now() / 1e3);
        }
        m_stats = void 0;
        m_lastUpdateTime = void 0;
      }
      (0, d.Cg)([g.sH], E.prototype, "m_stats", void 0),
        (0, d.Cg)([g.sH], E.prototype, "m_lastUpdateTime", void 0);
      class S {
        m_mapPerEventStats = new Map();
        m_mapSummaryStats = new Map();
        m_bLoadedFromConfig = !1;
        constructor() {
          (0, g.Gn)(this);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, _.Tc)("trackingdatasummary", "application_config");
            this.ValidateStoreDefault(e) &&
              this.m_mapSummaryStats.set(e.clan_account_id, new E(e));
            let t = (0, _.Tc)("trackingdataevents", "application_config");
            this.ValidateStoreDefaultList(t) &&
              t.forEach((e) => {
                let t = l.b.InitFromClanID(e.clan_account_id),
                  a = this.GetKey(t, e.event_gid);
                this.m_mapPerEventStats.set(a, new E(e));
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !(!t || "object" != typeof t || !t.clan_account_id) &&
            "number" == typeof t.clan_account_id &&
            t.clan_account_id > 0
          );
        }
        ValidateStoreDefaultList(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clan_account_id &&
            t[0].clan_account_id > 0
          );
        }
        GetStatsFor(e, t) {
          this.LazyInit();
          let a = this.GetKey(e, t);
          return (
            this.m_mapPerEventStats.has(a) ||
              this.m_mapPerEventStats.set(a, new E(null)),
            this.m_mapPerEventStats.get(a)
          );
        }
        GetTotalStats(e) {
          return (
            this.LazyInit(),
            this.m_mapSummaryStats.has(e.GetAccountID()) ||
              this.m_mapSummaryStats.set(e.GetAccountID(), new E(null)),
            this.m_mapSummaryStats.get(e.GetAccountID())
          );
        }
        GetKey(e, t) {
          return e.GetAccountID() + "_" + t;
        }
        async LoadStatsForEvents(e, t, a) {
          this.LazyInit();
          let n = Date.now() / 1e3,
            r = t.filter((t) => {
              let a = this.GetKey(e, t),
                r = this.m_mapPerEventStats.get(a);
              return !r || null == r.m_stats || r.m_lastUpdateTime < n - 3600;
            });
          if (!r || 0 == r.length) return !0;
          let i = (0, _.xv)() + "actions/ajaxgetpartnereventsreport",
            s = {
              sessionid: _.TS.SESSIONID,
              clan_account_id: e.GetAccountID(),
              gidlist: r.join(","),
            };
          try {
            let t = await p().get(i, {
              params: s,
              withCredentials: !0,
              cancelToken: a?.token,
            });
            return (
              (0, g.h5)(() => {
                this.m_mapSummaryStats.set(
                  e.GetAccountID(),
                  new E(t.data.summary),
                ),
                  t.data.events_detail.forEach((t) => {
                    let a = this.GetKey(e, t.event_gid);
                    if (this.m_mapPerEventStats.has(a)) {
                      this.m_mapPerEventStats.get(a).reset(t);
                    } else this.m_mapPerEventStats.set(a, new E(t));
                  });
              }),
              !0
            );
          } catch (e) {
            let t = (0, h.H)(e);
            console.error("CPartnerEventReportingStore " + t.strErrorMsg, t);
          }
          return !1;
        }
        BHasEventStats(e, t) {
          let a = l.b.InitFromClanID(e),
            n = this.GetKey(a, t),
            r = this.m_mapPerEventStats.get(n);
          return Boolean(r && r.m_stats);
        }
      }
      (0, d.Cg)([g.sH], S.prototype, "m_mapPerEventStats", void 0),
        (0, d.Cg)([g.sH], S.prototype, "m_mapSummaryStats", void 0),
        (0, d.Cg)([g.XI], S.prototype, "LazyInit", null);
      const y = new S();
      var v = a(86921),
        f = a(82097),
        b = a(55263),
        w = a(16676),
        D = a(84811),
        C = a(95695),
        I = a.n(C),
        B = a(60202),
        T = a.n(B),
        M = a(95821),
        A = a.n(M),
        k = a(45699),
        R = a(76217),
        P = a(75844),
        N = a(57876),
        G = a(77516);
      const O = [
        {
          label: "#Sale_BrowserSortOption_NewAndTrending",
          flavor: "newandtrending",
          tooltip: "#Sale_BrowserSortOption_NewAndTrending_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_TopWishlisted",
          flavor: "topwishlisted",
          tooltip: "#Sale_BrowserSortOption_TopWishlisted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_TrendingWishlisted",
          flavor: "trendingwishlisted",
          tooltip: "#Sale_BrowserSortOption_TrendingWishlisted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularUpcoming",
          flavor: "popularcomingsoon",
          tooltip: "#Sale_BrowserSortOption_PopularUpcoming_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MostPlayedDemo",
          flavor: "mostplayeddemo",
          tooltip: "#Sale_BrowserSortOption_MostPlayedDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_DailyActiveUserDemo",
          flavor: "dailyactiveuserdemo",
          tooltip: "#Sale_BrowserSortOption_DailyActiveUserDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PlayedNowDemo",
          flavor: "playednowdemo",
          tooltip: "#Sale_BrowserSortOption_PlayedNowDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_RecentlyReleased",
          flavor: "recentlyreleased",
          tooltip: "#Sale_BrowserSortOption_RecentlyReleased_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularPurchased",
          flavor: "popularpurchased",
          tooltip: "#Sale_BrowserSortOption_PopularPurchased_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularPurchasedDiscounted",
          flavor: "popularpurchaseddiscounted",
          tooltip: "#Sale_BrowserSortOption_PopularPurchasedDiscounted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_Discounted",
          flavor: "discounted",
          tooltip: "#Sale_BrowserSortOption_Discounted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_Price",
          flavor: "price",
          tooltip: "#Sale_BrowserSortOption_Price_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_All",
          flavor: "all",
          tooltip: "#Sale_BrowserSortOption_All_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_NewAndTrending",
          flavor: "contenthub_newandtrending",
          tooltip: "#Sale_BrowserSortOption_ContentHub_NewAndTrending_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_TopSellers",
          flavor: "contenthub_topsellers",
          tooltip: "#Sale_BrowserSortOption_ContentHub_TopSellers_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_Popular",
          flavor: "contenthub_popular",
          tooltip: "#Sale_BrowserSortOption_ContentHub_Popular_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_TopRated",
          flavor: "contenthub_toprated",
          tooltip: "#Sale_BrowserSortOption_ContentHub_TopRated_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_Upcoming",
          flavor: "contenthub_upcoming",
          tooltip: "#Sale_BrowserSortOption_ContentHub_Upcoming_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_All",
          flavor: "contenthub_all",
          tooltip: "#Sale_BrowserSortOption_ContentHub_All_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MLWishlist",
          flavor: "ml_wishlist_recommender",
          tooltip: "#Sale_BrowserSortOption_MLWishlist_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MLPlaytime",
          flavor: "ml_playtime_recommender",
          tooltip: "#Sale_BrowserSortOption_MLPlaytime_ttip",
        },
      ];
      var F,
        L = a(30894),
        U = a(44332),
        z = a(6144),
        x = a(73745);
      class q {
        m_setInteractions = new Set();
        m_nActiveTabID = -1;
        m_interactionCallback = new z.lu();
        m_bDebugMode = !0;
        GetNewInteractionCallback() {
          return this.m_interactionCallback;
        }
        AddInteraction(e, t) {
          const a = `${this.m_nActiveTabID}_${e}_${t}`,
            n = !this.m_setInteractions.has(a);
          this.m_setInteractions.add(a),
            n &&
              ("dev" == _.TS.WEB_UNIVERSE &&
                this.m_bDebugMode &&
                console.log(
                  "CSaleInteractionStore new: " +
                    a +
                    " count: " +
                    this.m_setInteractions.size,
                ),
              this.m_interactionCallback.Dispatch(
                { tabid: this.m_nActiveTabID, sectionid: e, elementIndex: t },
                this.m_setInteractions,
              ));
        }
        SetActiveTab(e) {
          this.m_nActiveTabID = e;
        }
        static s_Singleton;
        static Get() {
          return (
            q.s_Singleton ||
              ((q.s_Singleton = new q()),
              q.s_Singleton.Init(),
              "dev" == _.TS.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = q.s_Singleton)),
            q.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      !(function (e) {
        (e[(e.k_EDiscoveryAction_Invalid = 0)] = "k_EDiscoveryAction_Invalid"),
          (e[(e.k_EDiscoveryAction_OpenStorePage = 1)] =
            "k_EDiscoveryAction_OpenStorePage"),
          (e[(e.k_EDiscoveryAction_OpenDoor = 2)] =
            "k_EDiscoveryAction_OpenDoor");
      })(F || (F = {}));
      class W {
        m_mapMaterializedInsertion = new Map();
        m_mapInsertCallback = new Map();
        m_rgFutureInsertions = new Array();
        GetMatchingInsertion(e, t) {
          return this.m_mapMaterializedInsertion.get(this.GetKeyFromID(e, t));
        }
        GetChangeCallback(e, t) {
          const a = this.GetKey({ sectionID: e, tabID: t });
          return this.GetChangeCallbackByKey(a);
        }
        GetChangeCallbackByKey(e) {
          return (
            this.m_mapInsertCallback.has(e) ||
              this.m_mapInsertCallback.set(e, new z.lu()),
            this.m_mapInsertCallback.get(e)
          );
        }
        GetKey(e) {
          return e ? e.sectionID + "_" + (e.tabID || "-1") : null;
        }
        GetKeyFromID(e, t) {
          return e + "_" + (t || "-1");
        }
        ReplaceInsertion(e) {
          e.forEach((e) => {
            const t = this.GetKey(e);
            this.m_mapMaterializedInsertion.forEach((e) => {
              const a = this.GetKey(e);
              a && a != t && this.DispatchInsertion(e, !0);
            }),
              this.m_mapMaterializedInsertion.clear(),
              (this.m_rgFutureInsertions = Array()),
              this.AppendInsertion(e);
          });
        }
        AppendInsertion(e) {
          e?.sectionID
            ? (this.m_mapMaterializedInsertion.set(this.GetKey(e), e),
              this.DispatchInsertion(e))
            : this.m_rgFutureInsertions.push(e);
        }
        DispatchInsertion(e, t) {
          e.sectionID &&
            this.GetChangeCallback(e.sectionID, e.tabID).Dispatch(t ? null : e);
        }
        AppCapsuleFound(e) {
          this.m_rgFutureInsertions = this.m_rgFutureInsertions.filter(
            (t) => !(!t.sectionID && t.insertion_requirement && t.appid == e),
          );
        }
        GetAnyNonMaterializedInsertionRequest() {
          const e = this.m_rgFutureInsertions.length;
          return e > 0
            ? this.m_rgFutureInsertions[Math.floor(e * Math.random())]
            : null;
        }
        SaleInteractionCallback(e, t) {
          if (this.m_rgFutureInsertions.length > 0)
            for (let a = 0; a < this.m_rgFutureInsertions.length; ++a)
              if (this.AreWeAllowedToDeploy(this.m_rgFutureInsertions[a], t)) {
                const t = this.DeployCapsuleIfPossible(
                  e,
                  this.m_rgFutureInsertions[a],
                );
                t &&
                  ((0, U.w)(
                    Boolean(t.sectionID),
                    "Expected to have a materialized insertion at this poiunt: " +
                      t.sectionID,
                  ),
                  this.AppendInsertion(t));
              }
        }
        AreWeAllowedToDeploy(e, t) {
          if (
            !e.sectionID &&
            e.insertion_requirement &&
            t.size >= e.insertion_requirement.min_interactions
          ) {
            if (t.size >= e.insertion_requirement.max_interactions) return !0;
            const a =
              e.insertion_requirement.max_interactions -
              e.insertion_requirement.min_interactions;
            return 0 == Math.floor(a * Math.random());
          }
          return !1;
        }
        BIsInsertableSectionType(e) {
          if (e) {
            if ("sale_item_browser" == e.section_type) return !0;
            if ((0, G.ye)(e.section_type))
              return (
                !e.smart_section ||
                ("wishlist" != e.smart_section_type &&
                  "wishlist_onsale" != e.smart_section_type)
              );
          }
          return !1;
        }
        BHasExistingInsertion(e) {
          return Boolean(this.GetMatchingInsertion(e.sectionid, e.tabid));
        }
        DeployCapsuleIfPossible(e, t) {
          if (this.BHasExistingInsertion(e)) return null;
          if (_.P9.ANNOUNCEMENT_GID) {
            const a = v.O3.GetClanEventFromAnnouncementGID(
                _.P9.ANNOUNCEMENT_GID,
              ),
              n = a?.GetSaleSectionByID(e.sectionid);
            if (this.BIsInsertableSectionType(n)) {
              if (
                t.insertion_requirement.additional_adds > 0 &&
                t.insertion_requirement.delta_interactions > 0
              ) {
                const e = { ...t };
                (e.insertion_requirement = { ...t.insertion_requirement }),
                  (e.insertion_requirement.additional_adds -= 1),
                  (e.insertion_requirement.max_interactions +=
                    t.insertion_requirement.delta_interactions),
                  (e.insertion_requirement.min_interactions +=
                    t.insertion_requirement.delta_interactions),
                  this.AppendInsertion(e);
              }
              return (
                (t.sectionID = e.sectionid),
                (t.tabID = e.tabid),
                (t.insertionIndex = e.elementIndex),
                t
              );
            }
          }
          return null;
        }
        static s_Singleton;
        static Get() {
          return (
            W.s_Singleton ||
              ((W.s_Singleton = new W()),
              W.s_Singleton.Init(),
              "dev" == _.TS.WEB_UNIVERSE &&
                (window.g_DynamicCapsuleInsertStore = W.s_Singleton)),
            W.s_Singleton
          );
        }
        constructor() {
          (0, g.Gn)(this);
        }
        Init() {
          const e = (0, _.Fd)("capsuleinsert", "application_config");
          W.ValidateData(e) &&
            (e.sectionID
              ? this.m_mapMaterializedInsertion.set(this.GetKey(e), e)
              : e.insertion_requirement
                ? (this.m_rgFutureInsertions.push(e),
                  e?.appid &&
                    f.A.Get()
                      .QueueAppRequest(e.appid, {
                        include_assets: !0,
                        include_release: !0,
                        include_trailers: !0,
                      })
                      .then(() => {
                        const t = f.A.Get().GetApp(e.appid);
                        !t ||
                          t.GetBestPurchaseOption()?.formatted_final_price
                            ?.length > 0 ||
                          t.ReplaceBestPurchaseOption({
                            packageid: 0,
                            bundleid: 0,
                            formatted_original_price: "CL.0R",
                            formatted_final_price: "TH.4X",
                            discount_pct: 50,
                          });
                      }))
                : "dev" == _.TS.WEB_UNIVERSE &&
                  console.error(
                    "CDynamicCapsuleInsertStore: Payload not material and missing instructions.",
                    e,
                  ),
            "dev" == _.TS.WEB_UNIVERSE &&
              console.log("CDynamicCapsuleInsertStore loaded ", e)),
            q
              .Get()
              .GetNewInteractionCallback()
              .Register(this.SaleInteractionCallback);
        }
        static ValidateData(e) {
          const t = e;
          return (
            t &&
            ("number" == typeof t.sectionID ||
              "object" == typeof t.insertion_requirement) &&
            "number" == typeof t.appid &&
            "number" == typeof t.action
          );
        }
      }
      function j(e, t) {
        return W.Get().GetChangeCallback(e, t);
      }
      (0, d.Cg)([x.oI], W.prototype, "SaleInteractionCallback", null),
        (0, d.Cg)([g.XI], W.prototype, "DeployCapsuleIfPossible", null);
      var H = a(60778),
        V = a(62792);
      const K = new H.wd("SalePage"),
        Y = 50;
      class $ {
        m_mapResults = new Map();
        m_mapPromises = new Map();
        static s_singleton;
        constructor() {}
        static Get() {
          return (
            $.s_singleton ||
              (($.s_singleton = new $()),
              "dev" === _.TS.WEB_UNIVERSE &&
                (window.g_SaleItemBrowserStore = $.s_singleton)),
            $.s_singleton
          );
        }
        async GetItemsSoFar(e, t, a, n, r, i, s, l, o, c) {
          let m;
          if (i === e?.nNextSolrIndex) {
            const d = await this.GetItemsFiltered(t, a, n, r, i, s, l, o, c);
            (m = {
              ...d,
              rgItems: this.DedupeItems(e.rgItems.concat(d.rgItems)),
            }),
              K.Debug(
                `GetItemsSoFar (continuing) start ${i} count ${s} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
              );
          } else
            (m = await this.GetItemsFiltered(t, a, n, r, i, s, l, o, c)),
              K.Debug(
                `GetItemsSoFar (new) start ${i} count ${s} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
              );
          return m;
        }
        async GetItemsFiltered(e, t, a, n, r, i, s, l, o) {
          let c = {
              rgItems: [],
              nMatchCount: 0,
              bMoreAvailable: !1,
              nNextSolrIndex: 0,
            },
            m = r,
            d = i;
          const u = Math.floor(m / Y);
          for (let r = 0; r < 10; ++r) {
            let p = await this.GetItemsPaged(e, t, a, m, d, s, l, o);
            if (
              ((p.rgItems = await this.FilterItems(p.rgItems, n)),
              K.Debug(`iteration ${r} matches ${p.rgItems.length}`),
              (c = { ...p, rgItems: c.rgItems.concat(p.rgItems) }),
              !p.bMoreAvailable)
            )
              break;
            if (c.rgItems.length >= i) break;
            if (Math.floor((m + d - 1) / Y) - u + 1 > 2) break;
            (m = c.nNextSolrIndex), (d = i - c.rgItems.length);
          }
          return (
            K.Debug(
              `GetItemsFiltered start ${r} count ${i} items ${c.rgItems.length} next ${c.nNextSolrIndex}`,
            ),
            c
          );
        }
        async GetItemsPaged(e, t, a, n, r, i, s, l) {
          const o = Math.floor(n / Y),
            c = Math.floor((n + r - 1) / Y),
            m = [];
          for (let n = o; n <= c; ++n)
            m.push(this.GetItems(e, t, a, n * Y, Y, i, s, l));
          const d = await Promise.all(m);
          let u = { ...d[d.length - 1], rgItems: [] },
            p = [];
          for (const e of d) p = p.concat(e.rgItems);
          return (
            (u.rgItems = p.slice(n - o * Y, n + r - o * Y)),
            (u.bMoreAvailable =
              d[d.length - 1].bMoreAvailable || n + r - 1 - o * Y < p.length),
            (u.nNextSolrIndex = n + r),
            K.Debug(
              `GetItemsPaged start ${n} count ${r} items ${u.rgItems.length} next ${u.nNextSolrIndex}`,
            ),
            u
          );
        }
        async GetItems(e, t, a, n, r, i, s, l) {
          const o = this.GetItemBrowserQueryKey(t, a, n, r);
          return (
            this.m_mapResults.has(o) ||
              this.m_mapPromises.has(o) ||
              this.m_mapPromises.set(
                o,
                this.InternalGetItems(e, t, a, n, r, i, s, l),
              ),
            this.m_mapPromises.get(o)
          );
        }
        DedupeItems(e) {
          const t = [],
            a = new Set();
          for (const n of e) {
            const e = `${n.type}_${n.id}`;
            a.has(e) || (t.push(n), a.add(e));
          }
          return t;
        }
        async FilterItems(e, t) {
          return t(this.DedupeItems(e));
        }
        async InternalGetItems(e, t, a, n, r, i, s, l) {
          if (l) return l(e, t, a, n, r, i, s);
          const o = this.GetItemBrowserQueryKeyForConfig(t, a, n, r),
            c = this.GetItemBrowserQueryKey(t, a, n, r);
          K.Debug(c);
          const m = (0, _.Tc)(o, "application_config");
          if (m) {
            const e = [];
            for (const t of m.store_item_keys) {
              const a = t.split("_");
              e.push({ type: (0, V.SW)(a[0]), id: Number(a[1]) });
            }
            return (
              this.m_mapResults.set(c, {
                rgItems: e,
                faceting: m.faceting,
                multifaceting: m.multifaceting,
                nMatchCount: m.match_count,
                bMoreAvailable: m.possible_has_more,
                nNextSolrIndex: n + r,
                strRequest:
                  ("dev" === _.TS.WEB_UNIVERSE && m.request) || void 0,
              }),
              this.m_mapResults.get(c)
            );
          }
          const d = L.Fm.BConfirmedAdultContentAgeGate()
              ? []
              : _.iA.excluded_content_descriptors,
            u =
              _.TS.STORE_BASE_URL +
              (i
                ? "saleaction/ajaxpreviewsaledynamicappquery"
                : "saleaction/ajaxgetsaledynamicappquery"),
            g = {
              cc: _.TS.COUNTRY,
              l: _.TS.LANGUAGE,
              rgExcludedContentDescriptors: d,
              clanAccountID: e?.clanSteamID.GetAccountID() || null,
              clanAnnouncementGID: e?.AnnouncementGID || null,
              flavor: t,
              strFacetFilter: a.facetFilter?.GetQuery(),
              start: n,
              count: r,
              tabuniqueid: a.nTabUniqueID,
              sectionuniqueid: a.nSectionUniqueID,
              return_capsules: !0,
              search: a.strSearch || void 0,
              origin: self.origin,
              strContentHubType: a.contentHub?.type,
              strContentHubCategory: a.contentHub?.category,
              nContentHubTagID: a.contentHub?.tagid,
              bContentHubDiscountedOnly: a.bContentHubDiscountedOnly,
              strTabFilter: a.strTabFilter,
              strSectionFilter: a.strSectionFilter,
              bPrioritizeDiscounts: a.bPrioritizeDiscounts,
              bRequestFacetCounts: a.bRequestFacetCounts,
              prune_list_optin_name:
                e?.jsondata.prune_list_optin_name || void 0,
              optin_tagid: e?.jsondata?.optin_tagid || void 0,
              optin_prune_tagid: e?.jsondata?.optin_prune_tagid || void 0,
              optin_only: e?.jsondata?.optin_only || void 0,
              controller_category: Number(a.eControllerCategory) || void 0,
            };
          let E = null;
          try {
            const e = await p().get(u, {
              params: g,
              withCredentials: i,
              cancelToken: s?.token,
            });
            if (
              200 === e?.status &&
              1 === e.data?.success &&
              e.data.store_item_keys
            ) {
              const t = [];
              for (const a of e.data.store_item_keys) {
                const e = a.split("_");
                t.push({ type: (0, V.SW)(e[0]), id: Number(e[1]) });
              }
              return (
                this.m_mapResults.set(c, {
                  rgItems: t,
                  faceting: e.data.faceting,
                  multifaceting: e.data.multifaceting,
                  nMatchCount: e.data.match_count,
                  bMoreAvailable: e.data.possible_has_more,
                  nNextSolrIndex: n + r,
                  strRequest:
                    ("dev" === _.TS.WEB_UNIVERSE && e.data.request) || void 0,
                }),
                K.Debug(
                  `GetItems start ${n} count ${r} items ${t.length} next ${n + r}`,
                ),
                this.m_mapResults.get(c)
              );
            }
            this.m_mapPromises.delete(c), (E = (0, h.H)(e));
          } catch (e) {
            if (
              (this.m_mapPromises.delete(c), (E = (0, h.H)(e)), p().isCancel(e))
            )
              return (
                console.log(
                  "CSaleItemBrowserStore.InternalGetItems: " + E?.strErrorMsg,
                ),
                null
              );
          }
          return (
            console.error(
              "CSaleItemBrowserStore.InternalGetItems failed: " +
                E?.strErrorMsg,
              E,
            ),
            null
          );
        }
        GetItemBrowserQueryKeyForConfig(e, t, a, n) {
          return `browser_${e}_${a}_${n}_${t.nSectionUniqueID || "*"}_${t.nTabUniqueID || "*"}_${t.facetFilter?.GetURLParam() || "*"}_${t.strSearch || "*"}_${t.eControllerCategory || "*"}`;
        }
        GetItemBrowserQueryKey(e, t, a, n) {
          let r = this.GetItemBrowserQueryKeyForConfig(e, t, a, n);
          return (
            t.contentHub &&
              ((r += "_" + t.contentHub.type),
              "category" === t.contentHub.type
                ? (r += "_" + t.contentHub.category)
                : "tags" === t.contentHub.type &&
                  (r += "_" + t.contentHub.tagid)),
            r
          );
        }
      }
      var J = a(96971),
        X = a(52038),
        Q = a(66285),
        Z = a.n(Q);
      function ee(e) {
        const {
          capsules_per_row: t,
          is_generic: a,
          is_generic_trailer: n,
          is_event_dash_row: r,
          is_trailer_carousel: s,
          is_spotlights: l,
          is_item_browser: o,
          is_maincap: c,
          is_expanded_maincap: m,
          is_expanded_display: d,
        } = e;
        if (!t) return null;
        if (a)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().PlaceholderBox },
              i.createElement("div", { className: Z().ShineCtn }),
            ),
          );
        if (n)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().PlaceholderVideo },
              i.createElement("div", { className: Z().ShineCtn }),
            ),
          );
        if (s)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().TrailerCarouselRow },
              i.createElement(
                "div",
                { className: Z().VideoPlaceholder },
                i.createElement("div", { className: Z().ShineCtn }),
              ),
              i.createElement(
                "div",
                { className: Z().ItemDescPlaceholer },
                i.createElement("div", { className: Z().ShineCtn }),
              ),
            ),
          );
        if (r)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().EventRow },
              i.createElement("div", {
                className: (0, X.A)(
                  Z().PlaceholderGroupImage,
                  Z().PlaceholderCap,
                ),
              }),
              i.createElement(
                "div",
                { className: (0, X.A)(Z().DetailsPlaceholder) },
                i.createElement("div", {
                  className: (0, X.A)(Z().PlaceholderTitle, Z().PlaceholderCap),
                }),
                i.createElement("div", {
                  className: (0, X.A)(
                    Z().PlaceholderSubtitle,
                    Z().PlaceholderCap,
                  ),
                }),
                i.createElement("div", {
                  className: (0, X.A)(
                    Z().PlaceholderButtons,
                    Z().PlaceholderCap,
                  ),
                }),
              ),
            ),
          );
        if (l)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().SpotlightsRow },
              i.createElement("div", { className: Z().PlaceholderCap }),
              i.createElement("div", { className: Z().PlaceholderCap }),
              i.createElement(
                "div",
                { className: Z().DailyDealsColumn },
                i.createElement("div", { className: Z().PlaceholderCap }),
                i.createElement("div", { className: Z().PlaceholderCap }),
              ),
            ),
          );
        if (c)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              {
                className: (0, X.A)({
                  [Z().MainCapRow]: !0,
                  [Z().MainCapRowExpanded]: m,
                }),
              },
              i.createElement("div", { className: Z().PlaceholderCap }),
              i.createElement(
                "div",
                { className: (0, X.A)(Z().DetailsPlaceholder) },
                i.createElement("div", {
                  className: (0, X.A)(Z().PlaceholderTitle, Z().PlaceholderCap),
                }),
                i.createElement("div", {
                  className: (0, X.A)(
                    Z().PlaceholderSubtitle,
                    Z().PlaceholderCap,
                  ),
                }),
                i.createElement("div", {
                  className: (0, X.A)(
                    Z().PlaceholderRelease,
                    Z().PlaceholderCap,
                  ),
                }),
                i.createElement("div", {
                  className: (0, X.A)(
                    Z().PlaceholderReviews,
                    Z().PlaceholderCap,
                  ),
                }),
                i.createElement("div", {
                  className: (0, X.A)(Z().PlaceholderTags, Z().PlaceholderCap),
                }),
              ),
            ),
          );
        if (d)
          return i.createElement(
            "div",
            { className: Z().GhostCtn },
            i.createElement(
              "div",
              { className: Z().ExpandedItemRow },
              i.createElement("div", {
                className: (0, X.A)(Z().CapsulePlaceholder, Z().PlaceholderCap),
              }),
              i.createElement("div", {
                className: (0, X.A)(Z().ItemDefPlaceholder, Z().PlaceholderCap),
              }),
            ),
          );
        if (o) {
          const e = [];
          for (let a = 0; a < t[0]; a++)
            e.push(
              i.createElement(
                "div",
                {
                  key: "item_browse_ghost_" + a,
                  className: Z().ItemBrowserCapsule,
                },
                i.createElement("div", { className: Z().PlaceholderCap }),
              ),
            );
          return i.createElement("div", { className: Z().GhostCtn }, e);
        }
        return 1 == t?.length
          ? 1 == t[0]
            ? i.createElement(
                "div",
                { className: Z().GhostCtn },
                i.createElement(
                  "div",
                  { className: Z().CapsuleRowSuperCapsule },
                  i.createElement("div", { className: Z().PlaceholderCap }),
                ),
              )
            : 4 == t[0]
              ? i.createElement(
                  "div",
                  { className: Z().GhostCtn },
                  i.createElement(
                    "div",
                    { className: Z().CapsuleRow4 },
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                  ),
                )
              : i.createElement(
                  "div",
                  { className: Z().GhostCtn },
                  i.createElement(
                    "div",
                    { className: Z().CapsuleRow3 },
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                  ),
                )
          : 2 == t?.length
            ? 3 == t[0] && 3 == t[1]
              ? i.createElement(
                  "div",
                  { className: Z().GhostCtn },
                  i.createElement(
                    "div",
                    { className: Z().CapsuleRow23 },
                    i.createElement(
                      "div",
                      { className: (0, X.A)(Z().CapRow, Z().Caps3) },
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                    ),
                    i.createElement(
                      "div",
                      { className: (0, X.A)(Z().CapRow, Z().Caps3) },
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                    ),
                  ),
                )
              : i.createElement(
                  "div",
                  { className: Z().GhostCtn },
                  i.createElement(
                    "div",
                    { className: Z().CapsuleRow23 },
                    i.createElement(
                      "div",
                      { className: (0, X.A)(Z().CapRow, Z().Caps2) },
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                    ),
                    i.createElement(
                      "div",
                      { className: (0, X.A)(Z().CapRow, Z().Caps3) },
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                      i.createElement("div", { className: Z().PlaceholderCap }),
                    ),
                  ),
                )
            : i.createElement(
                "div",
                { className: Z().GhostCtn },
                i.createElement(
                  "div",
                  { className: Z().CapsuleRow234 },
                  i.createElement(
                    "div",
                    { className: (0, X.A)(Z().CapRow, Z().Caps2) },
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, X.A)(Z().CapRow, Z().Caps3) },
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                  ),
                  i.createElement(
                    "div",
                    { className: (0, X.A)(Z().CapRow, Z().Caps4) },
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                    i.createElement("div", { className: Z().PlaceholderCap }),
                  ),
                ),
              );
      }
      var te = a(30294),
        ae = a(12155),
        ne = a(32754),
        re = a(61859),
        ie = a(32630),
        se = a(10224),
        le = a(65946);
      function oe(e) {
        const t = { ...e };
        if (!t) return t;
        if (
          t.type === G.EE.k_EStoreFilterClauseTypeOr ||
          t.type === G.EE.k_EStoreFilterClauseTypeAnd
        ) {
          if (!t.rgSubexpressions || 0 === t.rgSubexpressions.length)
            return null;
          if (
            ((t.rgSubexpressions = t.rgSubexpressions.map((e) => oe(e))),
            !t.bNegated && 1 === t.rgSubexpressions.length)
          )
            return t.rgSubexpressions[0];
          if (!t.bNegated) {
            let e = [];
            for (const a of t.rgSubexpressions)
              a.bNegated || a.type !== t.type
                ? e.push(a)
                : (e = e.concat(a.rgSubexpressions));
            t.rgSubexpressions = e;
          }
        }
        return t;
      }
      var ce = a(30470),
        me = a(24484);
      class de {
        m_priceStopInfo = [];
        m_asyncLoader = null;
        GetPriceStops() {
          return this.m_priceStopInfo;
        }
        async LoadPriceStops() {
          return (
            this.m_asyncLoader ||
              (this.m_asyncLoader = this.InternalLoadPriceStops()),
            this.m_asyncLoader
          );
        }
        async InternalLoadPriceStops() {
          if (this.m_priceStopInfo?.length > 0) return;
          const e = ce.TS.STORE_BASE_URL + "saleaction/ajaxgetpricestops";
          let t;
          try {
            if (((t = await p().get(e)), 1 !== t?.data?.success))
              return (
                console.error(
                  "CPriceStopStore: Unable to load price stop data: ",
                  t?.data?.success,
                ),
                null
              );
          } catch (e) {
            return (
              console.error(
                "CPriceStopStore: Unable to load price stop data: ",
                t?.data?.success,
              ),
              null
            );
          }
          (this.m_priceStopInfo = t.data.rgPriceStops),
            (this.m_priceStopInfo[0].price = 0);
        }
        static s_Singleton;
        static Get() {
          return (
            de.s_Singleton ||
              ((de.s_Singleton = new de()),
              de.s_Singleton.Init(),
              "dev" == ce.TS.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = de.s_Singleton)),
            de.s_Singleton
          );
        }
        constructor() {
          (0, g.Gn)(this);
        }
        Init() {
          const e = (0, me.Fd)("pricestops", "application_config");
          e &&
            ((this.m_priceStopInfo = e), (this.m_priceStopInfo[0].price = 0));
        }
      }
      function ue() {
        return de.Get().GetPriceStops();
      }
      (0, d.Cg)([g.sH], de.prototype, "m_priceStopInfo", void 0),
        (0, d.Cg)([g.XI], de.prototype, "LoadPriceStops", null);
      var pe = a(39020),
        _e = a(99032),
        ge = a(1276),
        he = a(88336);
      class Ee {
        m_facets = [];
        m_nFilteredCapsuleCount;
        m_facetCounts;
        m_mapMultiFacetCounts;
        m_bUnboundedScope = !1;
        m_facetSortKey = G.IS.k_ESortFacetsByMatchCount;
        m_language = -1;
        m_bHasHideIgnoredItemsFacetValue;
        m_matchingReferencedCapsules;
        m_strQuery;
        m_strURLParam;
        m_nSelectedOptions;
        m_userPreferences;
        m_prunedFacets;
        m_sortedFacets = [];
        m_setCapsulesRemovedByUserPreferenceFilters;
        m_nSolrMatchCount;
        constructor(e, t, a, n) {
          (0, g.Gn)(this),
            (this.m_facetSortKey = t),
            (this.m_language = a),
            (this.m_bUnboundedScope = n),
            (async function () {
              de.Get().LoadPriceStops();
            })(),
            (this.m_facets = []),
            e.forEach((e) => {
              const t = [];
              e.facetValues.forEach((e) => {
                t.push({
                  facetValue: e,
                  bEnabled: Boolean(e.bEnabledByDefault),
                  nPriceStopIndex: Boolean(ue().length > 0)
                    ? ue().length - 1
                    : void 0,
                  bDeactivated: !1,
                  nMatchingFilteredCapsules: null,
                  bHiddenBySearch: !1,
                });
              }),
                this.m_facets.push({
                  facet: e,
                  facetValues: t,
                  matchingCapsules: null,
                  matchingCapsulesInOtherFacets: null,
                });
            }),
            this.PruneFacets(),
            this.UpdateFilter(),
            (this.m_bHasHideIgnoredItemsFacetValue = e.some((e) =>
              e.facetValues.some(
                (e) =>
                  e.type === G.GE.k_EUserPreference &&
                  e.userPreference === G.yX.k_EHideIgnoredItems,
              ),
            )),
            this.SortFacets();
        }
        BHasHideIgnoredItemsFacetValue() {
          return this.m_bHasHideIgnoredItemsFacetValue;
        }
        GetFacets() {
          return this.m_facets;
        }
        GetQuery() {
          return this.m_strQuery;
        }
        GetURLParam() {
          return this.m_strURLParam;
        }
        GetSelectedOptionsCount() {
          return this.m_nSelectedOptions;
        }
        BIsUserPreferenceEnabled(e) {
          return this.m_userPreferences.has(e);
        }
        BIsAnyUserPreferenceEnabled() {
          return this.m_userPreferences.size > 0;
        }
        GetSortedFacets() {
          return this.m_sortedFacets;
        }
        GetMatchCount() {
          return this.m_nFilteredCapsuleCount;
        }
        Reset() {
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          }),
            this.UpdateFilter();
        }
        SetFromURLParam(e) {
          if (e === this.m_strURLParam) return;
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          });
          (e?.split(",") || []).forEach((e) => {
            const t = e.split(":"),
              a = Number(t[0]);
            t[1].split("|").forEach((e) => {
              if (e.includes("_")) {
                const t = e.split("_");
                (this.m_facets[a].facetValues[Number(t[0])].bEnabled = !0),
                  (this.m_facets[a].facetValues[Number(t[0])].nPriceStopIndex =
                    Number(t[1]));
              } else
                this.m_facets[a].facetValues[Number(e)].bEnabled =
                  !this.m_facets[a].facetValues[Number(e)].facetValue
                    .bEnabledByDefault;
            });
          }),
            this.UpdateFilter();
        }
        SetFacetCounts(e) {
          if (((this.m_facetCounts = new Map()), e))
            for (const t of Object.keys(e))
              this.m_facetCounts.set(Number(t), Number(e[t]));
        }
        SetMultiFacetCounts(e) {
          if (((this.m_mapMultiFacetCounts = new Map()), e))
            for (const t of Object.keys(e)) {
              const a = e[t],
                n = new Map();
              if ("discounted" === t) {
                let e = 0;
                for (const t of Object.keys(a)) e += Number(a[t]);
                n.set("true", e);
              } else for (const e of Object.keys(a)) n.set(e, Number(a[e]));
              this.m_mapMultiFacetCounts.set(t, n);
            }
        }
        FilterCapsules(e) {
          return null == this.m_matchingReferencedCapsules
            ? e
            : e.filter((e) => this.m_matchingReferencedCapsules.has(Me(e)));
        }
        SetSolrMatchCount(e) {
          this.m_nSolrMatchCount = e;
        }
        SetFacetValueSearchString(e, t, a) {
          for (const e of this.m_facets)
            for (const t of e.facetValues) t.bHiddenBySearch = !1;
          if (!e) return;
          const n = e.toLocaleLowerCase().trim();
          if (0 !== n.length)
            for (const e of this.m_facets)
              for (const r of e.facetValues) {
                (
                  be(r.facetValue, t, a)?.toLocaleLowerCase().trim() || ""
                ).includes(n) || (r.bHiddenBySearch = !0);
              }
        }
        UpdateFilter() {
          this.UpdateQuery(),
            this.UpdateURLParam(),
            this.UpdateSelectedOptionsCount(),
            this.UpdateUserPreferenceFilters();
        }
        static BFacetHasEnabledOptTags(e) {
          for (const t of e.facetValues)
            if (t.bEnabled && null != t.facetValue.filter)
              for (const e of t.facetValue.filter.clauses)
                for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
          return !1;
        }
        UpdateQuery() {
          let e = {
            type: G.EE.k_EStoreFilterClauseTypeAnd,
            rgSubexpressions: new Array(),
          };
          this.m_facets.forEach((t) => {
            if (Ee.BFacetHasEnabledOptTags(t)) return;
            const a = {
              type: t.facet.logical_and
                ? G.EE.k_EStoreFilterClauseTypeAnd
                : G.EE.k_EStoreFilterClauseTypeOr,
              rgSubexpressions: new Array(),
            };
            t.facetValues.forEach((e) => {
              if (e.bEnabled && Boolean(e.facetValue.rgStoreTagFilter)) {
                if (e.facetValue.type === G.GE.k_EUserPreference) return;
                const t = { ...e.facetValue.rgStoreTagFilter };
                e.facetValue.type === G.GE.k_EPrice &&
                  (t.value = Boolean(
                    ue().length > 0 &&
                      null != e.nPriceStopIndex &&
                      -1 != e.nPriceStopIndex,
                  )
                    ? ue()[e.nPriceStopIndex].price
                    : void 0),
                  (e.facetValue.type !== G.GE.k_EPrice ||
                    Boolean(ue().length > 0)) &&
                    a.rgSubexpressions.push(t);
              }
            }),
              0 !== a.rgSubexpressions.length && e.rgSubexpressions.push(a);
          }),
            (e = oe(e)),
            (this.m_strQuery = Boolean(e) ? JSON.stringify(e) : "");
        }
        UpdateURLParam() {
          const e = [];
          this.m_facets.forEach((t, a) => {
            const n = [];
            if (
              (t.facetValues.forEach((e, t) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  (e.facetValue.type === G.GE.k_EPrice
                    ? n.push(t + "_" + e.nPriceStopIndex)
                    : n.push(t.toString()));
              }),
              0 === n.length)
            )
              return;
            const r = n.join("|");
            e.push(a + ":" + r);
          }),
            (this.m_strURLParam = e.length > 0 ? e.join(",") : void 0);
        }
        UpdateSelectedOptionsCount() {
          (this.m_nSelectedOptions = 0),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  ++this.m_nSelectedOptions;
              });
            });
        }
        UpdateUserPreferenceFilters() {
          (this.m_userPreferences = new Set()),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.facetValue.type === G.GE.k_EUserPreference &&
                  e.bEnabled &&
                  this.m_userPreferences.add(e.facetValue.userPreference);
              });
            });
        }
        PruneFacets() {
          (this.m_prunedFacets = []),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                (e.bDeactivated = !1), (e.nMatchingFilteredCapsules = null);
              }),
                this.m_prunedFacets.push({
                  facet: e,
                  facetValues: e.facetValues,
                });
            }),
            this.PruneFacetsForCurrentUser();
        }
        PruneFacetsForCurrentUser() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues = e.facetValues.filter((e) =>
              e.facetValue.type === G.GE.k_EContentDescriptor
                ? !L.Fm.Get().BIsLoaded() ||
                  L.Fm.Get().BIncludesContentDescriptor(
                    e.facetValue.contentDescriptor,
                  )
                : e.facetValue.type === G.GE.k_ELanguage
                  ? !L.Fm.Get().BIsLoaded() ||
                    0 === e.facetValue.language ||
                    ((0 !== L.Fm.Get().GetSecondaryLanguages().size ||
                      0 !== L.Fm.Get().GetPrimaryLanguage()) &&
                      (L.Fm.Get().GetPrimaryLanguage() ===
                        e.facetValue.language ||
                        L.Fm.Get()
                          .GetSecondaryLanguages()
                          .has(e.facetValue.language)))
                  : e.facetValue.type !== G.GE.k_EUserPreference ||
                    (_.iA.logged_in && L.Fm.Get().BIsLoaded()),
            );
          }),
            (this.m_prunedFacets = this.m_prunedFacets.filter(
              (e) => e.facetValues.length > 0,
            ));
        }
        UpdateMatchingFilteredCapsuleCounts() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.nMatchingFilteredCapsules = this.GetMatchCountForFacetValue(e);
            });
          });
        }
        GetMatchCountForFacetValue(e) {
          if (this.m_mapMultiFacetCounts) {
            const t = "402",
              a = "401",
              n = "9",
              r = "28",
              i = "18",
              l = "41",
              o = "42",
              c = "43",
              m = "44",
              d = "61",
              u = "37";
            switch (e.facetValue.type) {
              case G.GE.k_ESaleTagFilter:
              case void 0:
                if (
                  e.facetValue.rgStoreTagFilter?.type ===
                    G.EE.k_EStoreFilterClauseTypeStoreTag &&
                  e.facetValue.nAtomicStoreTagID
                )
                  return this.m_mapMultiFacetCounts
                    .get("tagidset")
                    ?.get(e.facetValue.nAtomicStoreTagID.toString());
                if (
                  e.facetValue.rgStoreTagFilter?.type ===
                  G.EE.k_EStoreFilterClauseTypeFeatureTag
                )
                  switch (e.facetValue.rgStoreTagFilter.value) {
                    case "windows":
                      return this.m_mapMultiFacetCounts
                        .get("platform_win")
                        ?.get("true");
                    case "linux":
                      return this.m_mapMultiFacetCounts
                        .get("platform_linux")
                        ?.get("true");
                    case "mac":
                      return this.m_mapMultiFacetCounts
                        .get("platform_mac")
                        ?.get("true");
                    case "vr":
                      return this.m_mapMultiFacetCounts
                        .get("vrsupport")
                        ?.get(t);
                    case "vr only":
                      return this.m_mapMultiFacetCounts
                        .get("vrsupport")
                        ?.get(a);
                    case "full controller":
                      return this.m_mapMultiFacetCounts.get("category")?.get(r);
                    case "any controller":
                      return (
                        this.m_mapMultiFacetCounts.get("category")?.get(r) ||
                        this.m_mapMultiFacetCounts.get("category")?.get(i)
                      );
                    case "remote play":
                      return Math.max(
                        this.m_mapMultiFacetCounts.get("category")?.get(l),
                        this.m_mapMultiFacetCounts.get("category")?.get(o),
                        this.m_mapMultiFacetCounts.get("category")?.get(c),
                        this.m_mapMultiFacetCounts.get("category")?.get(m),
                      );
                    case "remote play together":
                      return this.m_mapMultiFacetCounts.get("category")?.get(m);
                    case "free":
                      return this.m_mapMultiFacetCounts.get("genre")?.get(u);
                    case "discounted":
                      return this.m_mapMultiFacetCounts
                        .get("discounted")
                        ?.get("true");
                    case "coop":
                      return this.m_mapMultiFacetCounts.get("category")?.get(n);
                    case "hdr":
                      return this.m_mapMultiFacetCounts.get("category")?.get(d);
                  }
                break;
              case G.GE.k_EAppType:
                return this.m_mapMultiFacetCounts
                  .get("type")
                  ?.get(e.facetValue.appType);
              case G.GE.k_ELanguage:
                const p = (0, s.Lg)(e.facetValue.language);
                return this.m_mapMultiFacetCounts
                  .get("supportedlang_" + p)
                  ?.get("true");
              case G.GE.k_EContentDescriptor:
                return this.m_mapMultiFacetCounts
                  .get("descids")
                  ?.get(e.facetValue.contentDescriptor.toString());
            }
          } else if (this.m_facetCounts)
            return this.m_facetCounts?.get(e.facetValue.nAtomicStoreTagID);
          return null;
        }
        DeactivateFacetValues() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bDeactivated = !1;
            });
          }),
            this.m_prunedFacets.forEach((e) => {
              const t = ke(e.facet.facet);
              e.facetValues.forEach((e) => {
                let a = e.nMatchingFilteredCapsules;
                e.bDeactivated = !(
                  e.bEnabled ||
                  t ||
                  0 !== a ||
                  e.facetValue.type === G.GE.k_EUserPreference
                );
              });
            });
        }
        SortFacets() {
          this.UpdateMatchingFilteredCapsuleCounts(),
            this.DeactivateFacetValues(),
            (this.m_sortedFacets = []),
            this.m_prunedFacets.forEach((e) => {
              const t = e.facetValues.slice();
              t.sort((e, t) => {
                if (
                  e.facetValue.type === G.GE.k_EPrice &&
                  t.facetValue.type !== G.GE.k_EPrice
                )
                  return 1;
                if (
                  e.facetValue.type !== G.GE.k_EPrice &&
                  t.facetValue.type == G.GE.k_EPrice
                )
                  return -1;
                if (e.bEnabled !== t.bEnabled) return t.bEnabled ? 1 : -1;
                if (e.bDeactivated !== t.bDeactivated)
                  return e.bDeactivated ? 1 : -1;
                if (!e.bEnabled && !e.bDeactivated) {
                  if (
                    e.facetValue.type === G.GE.k_ELanguage &&
                    t.facetValue.type === G.GE.k_ELanguage
                  )
                    return t.facetValue.language ===
                      L.Fm.Get().GetPrimaryLanguage()
                      ? 1
                      : -1;
                  const a = e.nMatchingFilteredCapsules || 0,
                    n = t.nMatchingFilteredCapsules || 0;
                  if (
                    this.m_facetSortKey === G.IS.k_ESortFacetsByMatchCount &&
                    a !== n
                  )
                    return n - a;
                }
                if (this.m_facetSortKey === G.IS.k_ESortFacetsByName) {
                  const a = re.NT.GetWithFallback(
                      e.facetValue.name,
                      this.m_language,
                    ),
                    n = re.NT.GetWithFallback(
                      t.facetValue.name,
                      this.m_language,
                    );
                  return a.localeCompare(n);
                }
                return 0;
              }),
                this.m_sortedFacets.push({ ...e, facetValues: t });
            });
        }
        ApplyOptInFilters(e) {
          return this.m_bUnboundedScope, e;
        }
        async ApplyUserPreferenceFilters(e, t, a) {
          const n = this.BHasHideIgnoredItemsFacetValue(),
            r = this.BIsUserPreferenceEnabled(G.yX.k_EHideOwnedItems),
            i = this.BIsUserPreferenceEnabled(G.yX.k_EHideWishlistedItems),
            s = this.BIsUserPreferenceEnabled(G.yX.k_EHideIgnoredItems);
          let l = [];
          const o = await (0, _e.a9)(e, t, r, i, n, s, l);
          if (
            ((this.m_setCapsulesRemovedByUserPreferenceFilters = new Set(
              l.map(Me),
            )),
            a)
          )
            for (const e of l) a.push(e);
          return o;
        }
        UpdateMatchCount(e, t) {
          e
            ? ((this.m_nFilteredCapsuleCount = this.m_nSolrMatchCount),
              (this.m_nFilteredCapsuleCount -=
                this.m_setCapsulesRemovedByUserPreferenceFilters?.size || 0))
            : (this.m_nFilteredCapsuleCount = t),
            this.SortFacets();
        }
      }
      (0, d.Cg)([g.sH], Ee.prototype, "m_facets", void 0),
        (0, d.Cg)([g.sH], Ee.prototype, "m_sortedFacets", void 0),
        (0, d.Cg)([g.XI], Ee.prototype, "Reset", null),
        (0, d.Cg)([g.XI], Ee.prototype, "SetFromURLParam", null),
        (0, d.Cg)([g.XI], Ee.prototype, "SetFacetCounts", null),
        (0, d.Cg)([g.XI], Ee.prototype, "SetMultiFacetCounts", null),
        (0, d.Cg)([g.XI], Ee.prototype, "SetSolrMatchCount", null),
        (0, d.Cg)([g.XI], Ee.prototype, "SetFacetValueSearchString", null),
        (0, d.Cg)([g.XI], Ee.prototype, "UpdateMatchCount", null);
      const Se = (0, P.PA)((e) => {
          const {
              language: t,
              linkColor: a,
              headingColor: n,
              background: r,
              styleOverrides: l,
              facetFilterState: o,
              fnOnUpdateFilter: c,
              onInitFilter: m,
            } = e,
            [d, u] = (0, i.useState)(""),
            { data: p } = (0, pe.Fv)((0, s.Lg)(t));
          let _, g;
          l?.menu || (_ = { background: r, color: a || "white" }),
            l?.menuTitle ||
              (g = {
                borderBottom: "0px solid " + (a || "white"),
                color: n || "white",
              });
          const h = (0, i.useRef)(null),
            E = () => {
              o.UpdateFilter(), c();
            };
          return (
            i.useEffect(() => {
              !o && m && m();
            }, [o, m]),
            i.useEffect(() => {
              o &&
                e.rgItems &&
                (o.SetFacetCounts(e.faceting),
                o.SetMultiFacetCounts(e.multifaceting),
                o.SetSolrMatchCount(e.nMatchCount),
                o.UpdateMatchCount(e.bMoreAvailable, e.rgItems?.length));
            }, [
              o,
              e.bMoreAvailable,
              e.faceting,
              e.multifaceting,
              e.nMatchCount,
              e.rgItems,
              e.rgItems?.length,
            ]),
            o
              ? i.createElement(
                  "div",
                  {
                    ref: h,
                    className: l?.menu || he.FacetedBrowseControls,
                    style: _,
                  },
                  i.createElement(
                    "div",
                    { className: l?.menuTitle || he.FacetMenuTitle, style: g },
                    (0, re.we)("#FacetedBrowse_Heading"),
                  ),
                  i.createElement(ye, {
                    facets: o?.GetSortedFacets(),
                    onUpdateFilter: E,
                    ...e,
                  }),
                  Boolean(o) &&
                    i.createElement(
                      "div",
                      {
                        className: l?.matchCount || he.FacetedBrowseMatchCount,
                      },
                      null != o.GetMatchCount() &&
                        (0, re.Yp)(
                          "#FacetedBrowse_MatchCount",
                          o.GetMatchCount(),
                        ),
                    ),
                  i.createElement(
                    "div",
                    { className: he.FacetValueSearch },
                    i.createElement(w.pd, {
                      type: "text",
                      value: d,
                      placeholder: (0, re.we)(
                        "#FacetedBrowse_SearchFacetValues",
                      ),
                      onChange: (e) => {
                        u(e.target.value),
                          o.SetFacetValueSearchString(e.target.value, t, p);
                      },
                      bShowClearAction: !0,
                    }),
                  ),
                  i.createElement(
                    "div",
                    { className: he.FacetList },
                    o
                      ?.GetSortedFacets()
                      ?.map((a, n) =>
                        i.createElement(fe, {
                          key:
                            "facet_" +
                            re.NT.GetWithFallback(a.facet.facet.name, t) +
                            "_" +
                            n,
                          facet: a,
                          facetFilterState: o,
                          nFacetIndex: n,
                          language: t,
                          nMaxFacetValues: e.nMaxFacetValues,
                          highlightedFacetColor: e.highlightedFacetColor,
                          linkColor: e.linkColor,
                          headingColor: e.headingColor,
                          fnOnUpdateFilter: E,
                          styleOverrides: l,
                          bSearching: d?.length > 0,
                        }),
                      ),
                  ),
                  i.createElement(
                    "div",
                    { className: l?.reset || he.FacetedBrowseReset },
                    i.createElement(
                      "a",
                      {
                        onClick: (e) => {
                          e.preventDefault();
                          const t =
                            h.current.getBoundingClientRect().top +
                            window.scrollY;
                          window.scrollTo(0, t);
                        },
                      },
                      (0, re.we)("#FacetedBrowse_ReturnToTop"),
                    ),
                  ),
                )
              : null
          );
        }),
        ye = (0, P.PA)((e) => {
          const { facets: t } = e,
            [a, n] = (0, i.useState)([]);
          return (
            (0, i.useEffect)(() => {
              const e = [];
              if (t)
                for (const a of t)
                  for (const t of a.facetValues)
                    t.bEnabled &&
                      t.facetValue.type !== G.GE.k_EPrice &&
                      e.push(t);
              n(e);
            }, [t]),
            a
              ? i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: he.SelectedFacetValuesList },
                    a.map((t, a) =>
                      i.createElement(ve, {
                        key: t.facetValue.unique_id + "_" + a,
                        facetValue: t,
                        ...e,
                      }),
                    ),
                  ),
                )
              : null
          );
        }),
        ve = (0, P.PA)((e) => {
          const { facetValue: t, language: a, onUpdateFilter: n } = e,
            r = we(t.facetValue, a);
          return i.createElement(
            "a",
            {
              className: he.SelectedFacetValueCtn,
              onClick: (e) => {
                e.preventDefault(), (t.bEnabled = !1), n && n();
              },
            },
            i.createElement(ae.i6V, null),
            i.createElement("span", { className: he.SelectedFacetValue }, r),
          );
        }),
        fe = (0, P.PA)((e) => {
          const {
              language: t,
              linkColor: a,
              headingColor: n,
              facet: r,
              nFacetIndex: s,
              styleOverrides: l,
              bSearching: o,
            } = e,
            [c, m] = (0, i.useState)(Boolean(0 !== s)),
            [d, u] = (0, i.useState)(!1);
          if (r.facetValues.every((e) => e.bHiddenBySearch)) return null;
          let p;
          l?.facetName ||
            (p = {
              borderBottom: "0px solid " + (a || "white"),
              color: n || "white",
            });
          const _ = (0, re.we)(
            re.NT.GetWithFallback(r.facet.facet.name, t).trim(),
          );
          let g = e.nMaxFacetValues;
          const h = r.facetValues.reduce(
            (e, t) => e + (t.bDeactivated ? 1 : 0),
            0,
          );
          g = Math.min(g, r.facetValues.length - h);
          const E = r.facetValues.reduce(
              (e, t) =>
                e + (t.bEnabled || t.facetValue.type === G.GE.k_EPrice ? 1 : 0),
              0,
            ),
            S = r.facetValues.some((e) => !e.bEnabled && !e.bDeactivated);
          g = Math.max(g, E + (S ? 1 : 0));
          const y = r.facetValues.length > g;
          let v = !y || d || o ? r.facetValues : r.facetValues.slice(0, g);
          c && !o && (v = v.filter((e) => e.bEnabled));
          const f = v.every(
            (e) =>
              !Boolean(e.facetValue.subtitle) ||
              re.NT.GetWithFallback(e.facetValue.subtitle, t)?.length <= 0,
          );
          return i.createElement(
            "div",
            { className: he.Facet },
            i.createElement(
              "div",
              { className: he.FacetTitleCtn, onClick: () => m(!c) },
              i.createElement(
                "div",
                { className: l?.facetName || he.FacetTitle, style: p },
                _,
              ),
              i.createElement(ae.DK4, { angle: c ? 270 : 0 }),
            ),
            v.map((t, a) =>
              i.createElement(De, {
                key: "facet_" + _ + "_value_" + a,
                facetValue: t,
                styleOverrides: l,
                showMatchCounts: f && !ke(r.facet.facet),
                ...e,
              }),
            ),
            !c &&
              y &&
              !o &&
              i.createElement(
                "div",
                {
                  className: l?.showMore || he.FacetValueShowMore,
                  onClick: () => u(!d),
                },
                d
                  ? (0, re.we)("#Bbcode_Expand_ShowMore_Expanded")
                  : (0, re.we)("#Bbcode_Expand_ShowMore_Collapsed"),
              ),
          );
        });
      function be(e, t, a) {
        const n = e.name;
        if (n?.length > 0 && n[0]?.startsWith("#tagid_")) {
          const e = parseInt(n[0].substring(7));
          if (e > 0) return a && a[e];
        }
        return (0, re.we)(re.NT.GetWithFallback(n, t).trim());
      }
      function we(e, t) {
        const a = e.name;
        let n;
        a?.length > 0 &&
          a[0]?.startsWith("#tagid_") &&
          (n = parseInt(a[0].substring(7)));
        const r = (0, pe.MB)(n, (0, s.Lg)(t));
        return n ? r : (0, re.we)(re.NT.GetWithFallback(a, t).trim());
      }
      const De = (0, P.PA)((e) => {
          const {
              language: t,
              highlightedFacetColor: a,
              linkColor: n,
              facetValue: r,
              facetFilterState: s,
              styleOverrides: l,
              fnOnUpdateFilter: o,
              showMatchCounts: c,
            } = e,
            m = we(r.facetValue, t);
          if (r.facetValue.type === G.GE.k_EPrice && 0 == ue().length)
            return null;
          if (r.bHiddenBySearch) return null;
          const d = r.bEnabled,
            u = r.bDeactivated,
            p = {
              color: a || "darkorange",
              borderLeft: "4px solid " + (a || "darkorange"),
            };
          let _, h;
          l?.facetValue || (_ = d ? p : {}),
            l?.facetValueName || (h = { color: n || "white" });
          const E = (e) => {
              e.preventDefault(),
                (0, g.h5)(() => {
                  u || ((r.bEnabled = !r.bEnabled), o());
                });
            },
            S = (e) => {
              (0, g.h5)(() => {
                r.nPriceStopIndex = Math.floor(e);
              });
            },
            y = () => {
              (0, g.h5)(() => {
                (r.bEnabled = Boolean(r.nPriceStopIndex !== ue().length - 1)),
                  o();
              });
            },
            v = m,
            f = Boolean(r.facetValue.subtitle)
              ? re.NT.GetWithFallback(r.facetValue.subtitle, t)
              : null;
          if (r.facetValue.type === G.GE.k_EPrice) {
            const e =
              null != r.nPriceStopIndex && -1 != r.nPriceStopIndex
                ? r.nPriceStopIndex
                : ue().length - 1;
            return i.createElement(w.Kc, {
              className: he.FacetValuePriceSlider,
              min: 0,
              max: ue().length - 1,
              value: e,
              label: ue()[e].label,
              onChange: S,
              onChangeComplete: y,
            });
          }
          {
            const e = l?.facetValue || he.FacetValue,
              t = l?.facetValueEnabled || he.FacetValueEnabled,
              a = l?.facetValueDeactivated || he.FacetValueDeactivated,
              n = l?.facetValueName || he.FacetValueName;
            return i.createElement(
              "div",
              { className: d ? t : u ? a : e, style: _ },
              i.createElement(
                "a",
                { className: n, style: h, onClick: E, href: "" },
                v,
              ),
              c &&
                !r.bDeactivated &&
                Boolean(r.nMatchingFilteredCapsules) &&
                i.createElement(
                  "div",
                  { className: l?.facetValueDesc || he.FacetValueDescription },
                  r.nMatchingFilteredCapsules,
                ),
              Boolean(f) &&
                i.createElement(
                  "div",
                  { className: l?.facetValueDesc || he.FacetValueDescription },
                  f,
                ),
            );
          }
        }),
        Ce = (0, P.PA)((e) => {
          const {
              background: t,
              labelColor: a,
              headingColor: n,
              buttonColor: r,
              highlightedFacetColor: s,
            } = e,
            [l, o] = (0, i.useState)(!1);
          return i.createElement(
            "div",
            { className: he.FacetedBrowseCtn },
            Be() &&
              i.createElement(Ie, {
                buttonColor: r,
                bShowControls: l,
                fnOnToggleControls: () => {
                  o(!l);
                },
              }),
            i.createElement(
              "div",
              { className: he.FacetedBrowseInnerCtn },
              l || !Be()
                ? i.createElement(Se, {
                    highlightedFacetColor: s,
                    linkColor: a,
                    headingColor: n,
                    background: t,
                    ...e,
                  })
                : null,
              i.createElement(
                "div",
                { className: he.FacetedBrowseItems },
                e.children,
              ),
            ),
          );
        }),
        Ie = (0, P.PA)((e) => {
          const { buttonColor: t, bShowControls: a, fnOnToggleControls: n } = e,
            r = { color: t || "white" };
          return i.createElement(
            "div",
            { className: he.FacetedBrowsePopupCtn, onClick: () => n() },
            a
              ? i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: he.FacetedBrowsePopup, style: r },
                    i.createElement(ae.i6V, null),
                  ),
                  i.createElement(
                    "div",
                    { className: he.FacetedBrowsePopupLabel },
                    (0, re.we)("#Button_Close"),
                  ),
                )
              : i.createElement(
                  i.Fragment,
                  null,
                  i.createElement(
                    "div",
                    { className: he.FacetedBrowsePopup, style: r },
                    i.createElement(ae.dJT, null),
                  ),
                  i.createElement(
                    "div",
                    { className: he.FacetedBrowsePopupLabel },
                    (0, re.we)("#FacetedBrowse_Heading"),
                  ),
                ),
          );
        }),
        Be = () => window.innerWidth < parseInt(he.strMidscreenWidth);
      function Te(e) {
        const { section: t, event: a } = e,
          [n, r, s] = (0, le.q3)(() => [
            t.label_color,
            t.heading_color,
            t.highlighted_facet_color,
          ]),
          l = (0, _.Qn)(),
          o = (0, ge.V)(t, a, l).background;
        return i.createElement(Ce, {
          labelColor: n,
          headingColor: r,
          buttonColor: n,
          highlightedFacetColor: s,
          background: o,
          ...e,
        });
      }
      function Me(e) {
        return e.type + e.id;
      }
      function Ae(e, t) {
        return (
          null != e.jsondata.item_source_type &&
          e.jsondata.item_source_type !== G.w.k_ETaggedItems
        );
      }
      function ke(e) {
        for (const t of e.facetValues)
          if (null != t.filter)
            for (const e of t.filter.clauses)
              for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
        return !1;
      }
      var Re = a(95034),
        Pe = a(52724),
        Ne = a.n(Pe);
      class Ge extends i.Component {
        state = { bInScroll: !1, nStartXPos: 0, nStartScrollLeft: 0 };
        static knDefaultScrollMultiplier = 1;
        static knDefaultMinDragPixels = 20;
        m_hSlider = i.createRef();
        OnPointerDown(e) {
          const t = this.m_hSlider.current;
          t &&
            (t.scrollWidth <= t.clientWidth ||
              (this.setState({
                bInScroll: !1,
                nStartXPos: e.pageX - t.offsetLeft,
                nStartScrollLeft: t.scrollLeft,
              }),
              t.addEventListener("pointerup", this.OnPointerUp),
              t.addEventListener("pointerleave", this.OnPointerUp),
              t.addEventListener("pointercapturelost", this.OnPointerUp),
              t.addEventListener("pointermove", this.OnPointerMove)));
        }
        OnPointerUp(e) {
          const t = this.m_hSlider.current;
          t &&
            (this.state.bInScroll &&
              (t.releasePointerCapture(e.pointerId),
              document.body.classList.remove(
                Ne().HorizontalScrollInDragForceCursor,
              ),
              this.props.dragClassName &&
                t.classList.remove(this.props.dragClassName)),
            t.removeEventListener("pointerup", this.OnPointerUp),
            t.removeEventListener("pointerleave", this.OnPointerUp),
            t.removeEventListener("pointercapturelost", this.OnPointerUp),
            t.removeEventListener("pointermove", this.OnPointerMove));
        }
        OnPointerMove(e) {
          const t = this.m_hSlider.current;
          if (!t) return;
          e.preventDefault();
          const a =
              (e.pageX - t.offsetLeft - this.state.nStartXPos) *
              (this.props.scrollMultiplier || Ge.knDefaultScrollMultiplier),
            n = this.state.nStartScrollLeft - a,
            r = Math.abs(n - this.state.nStartScrollLeft),
            i = this.props.minDragPixels || Ge.knDefaultMinDragPixels;
          !this.state.bInScroll &&
            r >= i &&
            ((t.scrollLeft = n),
            this.setState({ bInScroll: !0 }),
            document.body.classList.add(Ne().HorizontalScrollInDragForceCursor),
            this.props.dragClassName &&
              t.classList.add(this.props.dragClassName),
            t.setPointerCapture(e.pointerId)),
            this.state.bInScroll && (t.scrollLeft = n);
        }
        render() {
          return i.createElement(
            R.Z,
            {
              ref: this.m_hSlider,
              className: this.props.className,
              onPointerDown: this.OnPointerDown,
            },
            this.props.children,
          );
        }
      }
      (0, d.Cg)([x.oI], Ge.prototype, "OnPointerDown", null),
        (0, d.Cg)([x.oI], Ge.prototype, "OnPointerUp", null),
        (0, d.Cg)([x.oI], Ge.prototype, "OnPointerMove", null);
      var Oe = a(52393),
        Fe = a(87736),
        Le = a.n(Fe),
        Ue = a(79849),
        ze = a(18654),
        xe = a.n(ze);
      function qe(e) {
        const { id: t, type: a } = e,
          [n] = (0, b.G6)(t, (0, V.SW)(a), {});
        return i.createElement(
          "div",
          { className: xe().SaleItemBrowserRow },
          i.createElement(Ue.pb, {
            ...e,
            bLoadShortDescription: !0,
            bShowReviewSummary: !0,
            bShowDemoButton: e.bShowDemoButton || 1 == n?.GetAppType(),
            bPreferDemoStorePage: e.bPreferDemoStorePage,
          }),
        );
      }
      var We = a(7716),
        je = a(9154),
        He = a(44165);
      class Ve {
        m_userData;
        m_bLoadedDuringInit = !1;
        m_strLastDoorOpenKey = "video_noneset";
        m_bIsAnyDoorOpened = !1;
        m_nHighestDoorOpened = -1;
        m_initialLoadPromise;
        m_mapDoorOpenPromise = new Map();
        m_mapChangeCallback = new Map();
        m_doorInitializedChangedCallback = new z.lu();
        m_largestDoorChangeCallback = new z.lu();
        m_bIsAnyDoorOpenChangeCallback = new z.lu();
        GetLastDoorOpen() {
          return this.m_strLastDoorOpenKey;
        }
        GetRawDoorData() {
          return this.m_userData;
        }
        BIsDoorOpened(e) {
          return (
            null != e &&
            null != e &&
            !!this.m_userData &&
            Boolean(e < this.m_userData.length && this.m_userData[e].opened)
          );
        }
        BCanUserOpenDoor(e) {
          let t = He.HD.GetTimeNowWithOverride();
          return (
            _.iA.logged_in &&
            this.m_userData &&
            e < this.m_userData.length &&
            t >= this.m_userData[e].rtime_start &&
            t <= this.m_userData[e].rtime_end
          );
        }
        GetDoorCount() {
          return this.m_userData ? this.m_userData.length : 0;
        }
        BIsAnyDoorOpened() {
          return this.m_bIsAnyDoorOpened;
        }
        GetIsAnyDoorOpenChange() {
          return this.m_bIsAnyDoorOpenChangeCallback;
        }
        GetLargestDoorOpenIndex() {
          return this.m_nHighestDoorOpened;
        }
        GetLargestDoorIndexChange() {
          return this.m_largestDoorChangeCallback;
        }
        GetDoorStateChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new z.lu()),
            this.m_mapChangeCallback.get(e)
          );
        }
        GetDoorStateInitializedChangeCallback() {
          return this.m_doorInitializedChangedCallback;
        }
        BIsInitialized() {
          return this.m_bLoadedDuringInit;
        }
        GetMaxDoor() {
          return 7;
        }
        SetInMemoryUpdateDoorOpenUpto(e) {
          for (let t = 0; t < 7; ++t) {
            const a = t <= e;
            this.m_userData[t].opened != a &&
              ((this.m_userData[t].opened = a),
              this.GetDoorStateChangeCallback(t).Dispatch(a));
          }
          this.RecomputeState();
        }
        SetInMemorySpecificDoorState(e, t) {
          e < 7
            ? this.m_userData[e].opened != t &&
              ((this.m_userData[e].opened = t),
              this.GetDoorStateChangeCallback(e).Dispatch(t),
              this.RecomputeState())
            : console.error("CDoorStore: Wrong door being set " + e);
        }
        RecomputeState() {
          let e = -1;
          this.m_userData?.forEach((t) => {
            t.opened && t.day > e && (e = t.day);
          });
          const t = -1 != e;
          t != this.m_bIsAnyDoorOpened &&
            ((this.m_bIsAnyDoorOpened = t),
            this.GetIsAnyDoorOpenChange().Dispatch(t)),
            e != this.m_nHighestDoorOpened &&
              ((this.m_nHighestDoorOpened = e),
              this.GetLargestDoorIndexChange().Dispatch(e));
        }
        async OpenDoor(e, t = !0, a = "", n = !1) {
          return !_.iA.logged_in ||
            !this.m_userData ||
            e > this.m_userData.length ||
            e < 0
            ? ("dev" == _.TS.WEB_UNIVERSE &&
                console.log(
                  "CDoorStore.OpenDoor Early fail settings:",
                  _.iA.logged_in,
                  this.m_userData,
                  e,
                  this.m_userData?.length,
                ),
              null)
            : this.m_mapDoorOpenPromise.has(e)
              ? this.m_mapDoorOpenPromise.get(e)
              : this.m_userData[e].opened == t
                ? {}
                : (this.m_mapDoorOpenPromise.has(e) ||
                    this.m_mapDoorOpenPromise.set(
                      e,
                      this.InternalOpenDoor(e, t, a, n),
                    ),
                  this.m_mapDoorOpenPromise.get(e));
        }
        async InternalOpenDoor(e, t = !0, a, n = !1) {
          let r = _.TS.STORE_BASE_URL + "saleaction/ajaxopendoor";
          const i = new FormData();
          i.append("sessionid", _.TS.SESSIONID),
            a && i.append("datarecord", a),
            n && i.append("fake_open", "" + n),
            i.append("door_index", "" + e),
            i.append("clan_accountid", "" + _.UF.CLANACCOUNTID),
            t || i.append("open_door", "0");
          let s = null;
          try {
            let a = await p().post(r, i, { withCredentials: !0 });
            if (200 == a?.status && 1 == a?.data?.success)
              return (
                (this.m_userData[e].opened = t),
                (this.m_strLastDoorOpenKey = "door_" + (t ? e : e - 1)),
                a.data.capsuleinsert &&
                  ((l = [a.data.capsuleinsert]), W.Get().ReplaceInsertion(l)),
                this.GetDoorStateChangeCallback(e).Dispatch(t),
                this.RecomputeState(),
                a.data
              );
            s = (0, h.H)(a);
          } catch (e) {
            s = (0, h.H)(e);
          }
          var l;
          return (
            this.m_mapDoorOpenPromise.delete(e),
            console.error("OpenDoor hit error: " + s.strErrorMsg, s),
            null
          );
        }
        async LoadDoorData() {
          return this.m_bLoadedDuringInit
            ? this.m_userData
            : (this.m_initialLoadPromise ||
                (this.m_initialLoadPromise = this.InternalLoadDoorData()),
              this.m_initialLoadPromise);
        }
        async InternalLoadDoorData() {
          const e = _.TS.STORE_BASE_URL + "saleaction/ajaxgetopendoor";
          let t = null;
          try {
            const a = await p().get(e, { withCredentials: !0 });
            if (200 == a.status && a.data?.doordata) {
              (this.m_userData = a.data.doordata),
                (this.m_bLoadedDuringInit = !0);
              for (let e = 0; e < 7; ++e)
                this.GetDoorStateChangeCallback(e).Dispatch(
                  this.m_userData[e].opened,
                );
              return (
                this.GetDoorStateInitializedChangeCallback().Dispatch(
                  this.m_bLoadedDuringInit,
                ),
                this.RecomputeState(),
                this.m_userData
              );
            }
            t = (0, h.H)(a);
          } catch (e) {
            t = (0, h.H)(e);
          }
          return (
            console.error(
              "CDoorStore.LoadDoorData failed: " + t?.strErrorMsg,
              t,
            ),
            null
          );
        }
        async CloseAllDoors(e) {
          let t = _.TS.STORE_BASE_URL + "saleaction/ajaxclosealldoor";
          const a = new FormData();
          a.append("sessionid", _.TS.SESSIONID),
            a.append("clan_accountid", "" + e);
          let n = null;
          try {
            let e = await p().post(t, a, { withCredentials: !0 });
            if (200 == e.status && 1 == e?.data?.success) {
              console.log("CDoorStore - closed " + e.data.count);
              for (let e = 0; e < 7; ++e)
                (this.m_userData[e].opened = !1),
                  this.GetDoorStateChangeCallback(e).Dispatch(
                    this.m_userData[e].opened,
                  );
              return this.RecomputeState(), !0;
            }
            n = (0, h.H)(e);
          } catch (e) {
            n = (0, h.H)(e);
          }
          return (
            console.error(
              "CDoorStore.CloseAllDoors failed: " + n?.strErrorMsg,
              n,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Ve.s_Singleton ||
              ((Ve.s_Singleton = new Ve()),
              Ve.s_Singleton.Init(),
              "dev" == _.TS.WEB_UNIVERSE &&
                (window.g_EventDoorStore = Ve.s_Singleton)),
            Ve.s_Singleton
          );
        }
        constructor() {
          (0, g.Gn)(this);
        }
        Init() {
          (this.m_userData = (0, _.Tc)("doorinfo", "application_config")),
            this.m_userData &&
              ((this.m_bLoadedDuringInit = !0),
              this.RecomputeState(),
              "dev" == _.TS.WEB_UNIVERSE &&
                console.log("CDoorStore Loading - ", this.m_userData));
        }
      }
      function Ke() {
        const [e, t] = (0, i.useState)(Ve.Get().BIsInitialized());
        return (
          (0, i.useEffect)(() => {
            e || Ve.Get().LoadDoorData();
          }, [e]),
          (0, x.hL)(Ve.Get().GetDoorStateInitializedChangeCallback(), t),
          e
        );
      }
      (0, d.Cg)([g.sH], Ve.prototype, "m_bIsAnyDoorOpened", void 0),
        (0, d.Cg)([g.sH], Ve.prototype, "m_nHighestDoorOpened", void 0),
        (0, d.Cg)([x.oI], Ve.prototype, "BIsDoorOpened", null),
        (0, d.Cg)([x.oI], Ve.prototype, "OpenDoor", null);
      var Ye = a(22797),
        $e = a(93267),
        Je = a(61336),
        Xe = a(738);
      function Qe(e, t, a) {
        if (t.some((t) => t.id == e.appid && "game" == t.type)) return;
        const n = {
          id: e.appid,
          type: "game",
          overrideNavigation: (t) => {
            var n;
            (n = e.appid),
              W.Get().AppCapsuleFound(n),
              (0, Xe.pg)(
                i.createElement(Ze, {
                  iDoorIndex: e.payload,
                  datarecord: e.datarecord,
                  bPreviewMode: Boolean(a || e.force_preview_mode),
                }),
                window,
              );
          },
        };
        e.insertionIndex
          ? t.splice(e.insertionIndex, 0, n)
          : "dev" == _.TS.WEB_UNIVERSE
            ? t.unshift(n)
            : t.splice(Math.floor(Math.random() * t.length), 0, n);
      }
      function Ze(e) {
        const {
            closeModal: t,
            iDoorIndex: a,
            datarecord: n,
            bPreviewMode: r,
          } = e,
          s = (function (e) {
            const t = Ke(),
              [a, n] = (0, i.useState)(t ? Ve.Get().BIsDoorOpened(e) : void 0);
            return (0, x.hL)(Ve.Get().GetDoorStateChangeCallback(e), n), a;
          })(a),
          { fnOpenDoor: l } = { fnOpenDoor: Ve.Get().OpenDoor },
          [o, c] = (0, i.useState)(!s),
          [m, d] = (0, i.useState)(null),
          [u, g] = (0, i.useState)(!1);
        (0, i.useEffect)(() => {
          const e = p().CancelToken.source();
          return (
            l(a, !0, n, r).then((t) => {
              e.token.reason || (d(t), g(null == t), c(!1));
            }),
            () => e.cancel("unmounting SummerSale2022FoundItem")
          );
        }, [r, n, l, a]);
        const h = Math.floor(5 * Math.random()) + 1;
        return i.createElement(
          je.o0,
          {
            strTitle: (0, re.we)(`#Sale_Minigame_FoundIt_${h}`),
            bDisableBackgroundDismiss: !0,
            closeModal: t,
            strOKButtonText: (0, re.we)("#Sale_Minigame_ContineQuest"),
            bOKDisabled: o,
            strCancelButtonText: (0, re.we)("#Sale_Minigame_ContineShopping"),
            modalClassName: "SummerSale2022",
            onOK: () => {
              window.location.href = `${_.TS.STORE_BASE_URL}sale/clorthax_quest`;
            },
          },
          i.createElement(
            "div",
            { className: We.Ctn },
            i.createElement(
              "div",
              null,
              Boolean(u)
                ? i.createElement(
                    i.Fragment,
                    null,
                    (0, re.we)("#GrantAwardError_Busy"),
                  )
                : i.createElement(
                    i.Fragment,
                    null,
                    Boolean(o)
                      ? i.createElement(
                          "div",
                          null,
                          i.createElement(Ye.t, {
                            size: "small",
                            position: "center",
                          }),
                          i.createElement(
                            "span",
                            null,
                            (0, re.we)("#Sale_Minigame_LoadingReward"),
                          ),
                        )
                      : i.createElement(
                          "div",
                          null,
                          i.createElement(
                            "div",
                            { className: We.DetailText },
                            (0, re.we)("#Sale_Minigame_FoundIt_Earn"),
                          ),
                          Boolean(m?.sale_pg_context_token) &&
                            i.createElement(
                              "div",
                              { className: We.RewardText },
                              (0, re.we)(m.sale_pg_context_token),
                            ),
                          Boolean(
                            m?.sale_pg_background_mp4 &&
                              m?.sale_pg_background_webm,
                          ) &&
                            i.createElement($e.L, {
                              bAutoPlay: !0,
                              bMuted: !0,
                              bLoop: !0,
                              bControls: !1,
                              video: {
                                sPoster: (0, Je.L$)(
                                  m.sale_pg_background_override,
                                ),
                                rgVideoSources: [
                                  {
                                    sURL: (0, Je.L$)(m.sale_pg_background_webm),
                                    sFormat: "video/webm",
                                  },
                                  {
                                    sURL: (0, Je.L$)(m.sale_pg_background_mp4),
                                    sFormat: "video/mp4",
                                  },
                                ],
                              },
                            }),
                          i.createElement(
                            "div",
                            { className: We.PostText },
                            (0, re.we)(
                              a < 10
                                ? "#Summer2022_hunt_quest_return_clue"
                                : "#Summer2022_hunt_quest_return_gift",
                            ),
                          ),
                        ),
                  ),
            ),
          ),
        );
      }
      var et = a(36837),
        tt = a(6419);
      class at {
        m_mapSectionToExistingCapsules = new Map();
        m_mapSectionToExistingClanEventGIDs = new Map();
        m_mapSectionToNewCapsules = new Map();
        m_mapSectionToNewEvents = new Map();
        m_clanSteamID = null;
        m_gidClanEvent = null;
        m_nActiveSectionCount = 0;
        m_timer = new z.LU();
        m_nTimeStartedMS = 0;
        m_nExpirationTime = 45;
        m_rtimeLastServiceCallStarted = 0;
        m_rtimeLastServiceCallComplete = 0;
        m_promise = null;
        m_bTestMode = new Map();
        m_bPreviewMode = !1;
        GetTimerSecondsLeft() {
          const e = Math.floor(
            (this.m_nTimeStartedMS +
              1e3 * this.m_nExpirationTime -
              Date.now()) /
              1e3,
          );
          return this.m_timer.IsScheduled() && e >= 0 ? e : void 0;
        }
        GetNewEventGIDs(e) {
          return this.m_mapSectionToNewEvents.get(e);
        }
        GetNewCapsules(e) {
          return this.m_mapSectionToNewCapsules.get(e);
        }
        GetTimerWaitTimeMS() {
          const e = Math.floor(20 * Math.random());
          return 1e3 * (this.m_nExpirationTime + e);
        }
        IncrementalSectionNeedingReveal(e, t, a) {
          (0, U.w)(
            !this.m_clanSteamID ||
              this.m_clanSteamID.GetAccountID() == e.GetAccountID(),
            "mismatch clan steam id",
          ),
            (0, U.w)(
              !this.m_gidClanEvent || this.m_gidClanEvent == t,
              "Mismatch clan event gid",
            ),
            (this.m_clanSteamID = e),
            (this.m_gidClanEvent = t),
            (this.m_bPreviewMode = a),
            (this.m_nActiveSectionCount += 1),
            this.m_nActiveSectionCount > 0 &&
              !this.m_timer.IsScheduled() &&
              ((this.m_nTimeStartedMS = Date.now()),
              this.m_timer.Schedule(
                this.GetTimerWaitTimeMS(),
                this.TimerAction,
              ));
        }
        DecrementSectionNeedingReveal() {
          (this.m_nActiveSectionCount -= 1),
            this.m_nActiveSectionCount <= 0 && this.m_timer.Cancel();
        }
        AddSaleCapsules(e, t) {
          let a = this.m_mapSectionToExistingCapsules.has(e)
            ? this.m_mapSectionToExistingCapsules.get(e)
            : [];
          t?.forEach((e) => {
            a.findIndex((t) => e.id == t.id && e.type == t.type) < 0 &&
              !(0, _e.sd)(e) &&
              a.push(e);
          }),
            this.m_mapSectionToExistingCapsules.has(e) ||
              this.m_mapSectionToExistingCapsules.set(e, a);
        }
        AddEvents(e, t) {
          let a = this.m_mapSectionToExistingClanEventGIDs.has(e)
            ? this.m_mapSectionToExistingClanEventGIDs.get(e)
            : [];
          t?.forEach((e) => {
            !a.includes(e) && v.O3.BHasClanEventModel(e) && a.push(e);
          }),
            this.m_mapSectionToExistingClanEventGIDs.has(e) ||
              this.m_mapSectionToExistingClanEventGIDs.set(e, a);
        }
        SetTestMode(e, t) {
          "dev" == _.TS.WEBAPI_BASE_URL &&
            console.log(
              `CDynamicRevealStore Test Mode Cur ${this.m_bTestMode.get(e)} setting to ${t}`,
            ),
            this.m_bTestMode.set(e, t),
            this.m_mapSectionToExistingCapsules.has(e) &&
              this.m_mapSectionToExistingCapsules.set(e, []),
            this.m_mapSectionToExistingClanEventGIDs.has(e) &&
              this.m_mapSectionToExistingClanEventGIDs.set(e, []);
        }
        BIsInTestMode(e) {
          return this.m_bTestMode.get(e);
        }
        FireRequestNow() {
          (0, U.w)(
            this.m_bTestMode,
            "We should only use CDynamicRevealStore::FireRequestNow in test mode",
          ),
            this.TimerAction();
        }
        TimerAction() {
          this.m_nActiveSectionCount > 0 &&
            (this.m_timer.Cancel(),
            (this.m_promise = this.LoadRevealedItems(
              this.m_clanSteamID,
              this.m_gidClanEvent,
            )),
            this.m_promise
              .then((e) => {
                e.forEach((e) => {
                  if ("events" == e.section_type && e.events?.length > 0) {
                    const t =
                        this.m_mapSectionToExistingClanEventGIDs.get(
                          e.unique_id,
                        ) || [],
                      a = e.events
                        .filter((e) => !t.includes(e.event_gid))
                        .map((e) => e.event_gid);
                    v.O3.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                      a,
                      null,
                    ).then((t) => {
                      const a = t
                        .map((e) => e.appid)
                        .filter((e) => Boolean(e))
                        .map((e) => ({ id: e, type: "game" }));
                      (0, _e.H2)(a, N.Xh).then(() => {
                        const a = t
                          .filter(
                            (e) =>
                              Boolean(e.appid) &&
                              !(0, _e.sd)({ id: e.appid, type: "game" }),
                          )
                          .map((e) => e.GID);
                        this.m_mapSectionToNewEvents.set(e.unique_id, a);
                      });
                    });
                  }
                  if (
                    "items" == e.section_type &&
                    (e.appids?.length > 0 ||
                      e.packageids?.length > 0 ||
                      e.bundledid?.length > 0)
                  ) {
                    const t = (0, _e.S7)(e.appids, e.packageids, e.bundledid),
                      a =
                        this.m_mapSectionToExistingCapsules.get(e.unique_id) ||
                        [],
                      n = t.filter(
                        (e) =>
                          a.findIndex((t) => t.id == e.id && t.type == e.type) <
                          0,
                      );
                    (0, _e.H2)(n, N.Xh).then(() => {
                      const t = new Array();
                      n.forEach((e) => {
                        (0, _e.sd)(e) || t.push(e);
                      }),
                        this.m_mapSectionToNewCapsules.set(e.unique_id, t);
                    });
                  }
                });
              })
              .finally(() => {
                (this.m_nTimeStartedMS = Date.now()),
                  this.m_timer.Schedule(
                    this.GetTimerWaitTimeMS(),
                    this.TimerAction,
                  );
              }));
        }
        async LoadRevealedItems(e, t) {
          this.m_rtimeLastServiceCallStarted = Date.now();
          try {
            const a = {
                clan_event_gid: t,
                clan_account_id: e.GetAccountID(),
                origin: self.origin,
                testmode: Array.from(this.m_bTestMode.values()).some((e) => e),
              },
              n = this.m_bPreviewMode
                ? _.TS.STORE_BASE_URL +
                  "saleaction/ajaxgetdynamicrevealspreview"
                : _.TS.STORE_BASE_URL + "saleaction/ajaxgetdynamicreveals",
              r = await p().get(n, { params: a });
            if (200 == r?.status && 1 == r?.data?.success)
              return (
                (this.m_nExpirationTime = Math.max(
                  r.data.expiration_time || 45,
                  10,
                )),
                r.data.dynamic_data
              );
          } catch (e) {
            const t = (0, h.H)(e);
            console.error(
              "CDynamicRevealStore.LoadRevealedItems: failed with " +
                t.strErrorMsg,
              t,
            );
          } finally {
            (this.m_rtimeLastServiceCallComplete = Date.now()),
              "dev" == _.TS.WEB_UNIVERSE &&
                console.log(
                  `LoadRevealedItems: started ${Math.floor(this.m_rtimeLastServiceCallStarted / 1e3)} and completed ${Math.floor(this.m_rtimeLastServiceCallComplete / 1e3)} taking ${this.m_rtimeLastServiceCallComplete - this.m_rtimeLastServiceCallStarted} MS`,
                );
          }
          return [];
        }
        static s_Singleton;
        static Get() {
          return (
            at.s_Singleton ||
              ((at.s_Singleton = new at()),
              ("dev" != _.TS.WEB_UNIVERSE && "beta" != _.TS.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = at.s_Singleton)),
            at.s_Singleton
          );
        }
        constructor() {
          (0, g.Gn)(this);
        }
      }
      (0, d.Cg)([g.sH], at.prototype, "m_mapSectionToNewCapsules", void 0),
        (0, d.Cg)([g.sH], at.prototype, "m_mapSectionToNewEvents", void 0),
        (0, d.Cg)([tt.o], at.prototype, "FireRequestNow", null),
        (0, d.Cg)([tt.o], at.prototype, "TimerAction", null);
      a(82807);
      function nt(e, t = null) {
        if (!e || (0, _e.Li)(e)) return !0;
        if (t?.BUsesContentHubForItemSource()) {
          if (
            et.f.Get()?.GetHomeView()?.games_already_in_library &&
            (function (e, t = null) {
              if (t?.BUsesContentHubForItemSource())
                switch (e.GetStoreItemType()) {
                  case 0:
                    if (L.Fm.Get().BIsGameOwned(e.GetAppID())) return !0;
                    break;
                  case 1:
                  case 2:
                    if (
                      e
                        .GetIncludedAppIDs()
                        .every((e) => L.Fm.Get().BIsGameOwned(e))
                    )
                      return !0;
                }
              return !1;
            })(e, t)
          )
            return !0;
          if (
            0 === e.GetStoreItemType() &&
            1 === e.GetAppType() &&
            L.Fm.Get().BIsGameOwned(e.GetParentAppID())
          )
            return !0;
        }
        return !1;
      }
      let rt = class extends i.Component {
        static contextType = J.LD;
        state = {
          currentFlavor: this.GetDefaultTab(),
          bInitialLoadComplete: !1,
          rgCapsules: [],
          nOriginalStartIndex: -1,
          nNumRequestedLastTime: 0,
          bIsMoreAvailable: !1,
          bAwaitingMoreRowsLoading: !1,
          nHiddenCapsules: 0,
          strSearchQuery: "",
          strRawSearch: "",
          bIsNarrowScreen: (0, se.c)(),
          fnUnregisterCallback: null,
          results: null,
        };
        m_timerForChange = new z.LU();
        m_cancelSignal = p().CancelToken.source();
        constructor(e) {
          super(e);
        }
        componentDidMount() {
          window.addEventListener("resize", this.OnResize), this.LoadCapsules();
          const { section: e, activeTab: t } = this.props;
          this.setState({
            fnUnregisterCallback: j(
              e.unique_id,
              t?.GetActiveTabUniqueID(),
            ).Register(this.OnDynamicCapsuleInsert).Unregister,
          });
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel(),
            this.state.fnUnregisterCallback &&
              this.state.fnUnregisterCallback(),
            this.m_cancelSignal.cancel("SaleItemBrowser component unmounted");
        }
        componentDidUpdate(e) {
          const t = this.props.section
            ? (0, Re.f3)(
                this.props.history,
                "facets" + this.props.section?.unique_id,
              )
            : "";
          let a = this.GetDefaultTab();
          if (this.props.section && this.props.browseInfo) {
            const e = (0, Re.f3)(this.props.history, "flavor");
            this.GetFlavorsForActiveTab()?.includes(e) && (a = e);
          }
          if (
            this.props.browseInfo != e.browseInfo ||
            this.props.event != e.event ||
            this.props.section != e.section ||
            this.props.activeTab?.GetActiveTabUniqueID() !=
              e.activeTab?.GetActiveTabUniqueID() ||
            this.state.strFacetUrlParam !== t ||
            this.state.currentFlavor !== a ||
            this.props.controllerCategory !== e.controllerCategory
          ) {
            this.props.section?.enable_faceted_browsing &&
              this.state.facetFilterState &&
              this.state.strFacetUrlParam !== t &&
              this.state.facetFilterState.SetFromURLParam(t);
            const { section: n, activeTab: r } = this.props;
            let i = this.state.fnUnregisterCallback;
            (n.unique_id == e.section.unique_id &&
              r?.GetActiveTabUniqueID() ==
                e.activeTab?.GetActiveTabUniqueID()) ||
              (i && i(),
              (i = j(n.unique_id, r?.GetActiveTabUniqueID()).Register(
                this.OnDynamicCapsuleInsert,
              ).Unregister)),
              this.setState(
                {
                  bInitialLoadComplete: !1,
                  rgCapsules: [],
                  nOriginalStartIndex: -1,
                  results: null,
                  nNumRequestedLastTime: 0,
                  bIsMoreAvailable: !0,
                  bAwaitingMoreRowsLoading: !0,
                  strFacetUrlParam: t,
                  currentFlavor: a,
                  fnUnregisterCallback: i,
                },
                () => this.LoadCapsules(),
              );
          }
        }
        OnDynamicCapsuleInsert(e) {
          const { activeTab: t, section: a } = this.props;
          if (
            e &&
            e.sectionID == a.unique_id &&
            t?.GetActiveTabUniqueID() == e.tabID
          ) {
            const t = this.state.rgCapsules ? [...this.state.rgCapsules] : [];
            Qe(e, t, 2 == this.context.eLocation),
              this.setState({ rgCapsules: t });
          }
        }
        ShowMoreRows() {
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (q
                .Get()
                .AddInteraction(
                  this.props.section.unique_id,
                  this.state.results?.nNextSolrIndex,
                ),
              (0, Re.Bm)(
                this.props.history,
                "offset",
                null == this.state.results?.nNextSolrIndex
                  ? void 0
                  : this.state.results?.nNextSolrIndex.toString(),
              ),
              this.setState({ bAwaitingMoreRowsLoading: !0 }, async () => {
                this.LoadCapsules();
              }));
        }
        async FilterItems(e) {
          const { event: t, section: a, activeTab: n } = this.props,
            { facetFilterState: r } = this.state;
          let i = e.map((e) => ({
            id: e.id,
            type: 0 === e.type ? "game" : (0, V.TM)(e.type),
          }));
          await (0, _e.H2)(i, N.Xh),
            this.state.strSearchQuery ||
              t.BUsesContentHubForItemSource() ||
              (i = i.filter((e) => !n || n.ShouldShowCapsule(e)));
          let s = new Array();
          return (
            a?.enable_faceted_browsing &&
              r &&
              ((i = r.ApplyOptInFilters(i)),
              (i = await r.ApplyUserPreferenceFilters(i, !1, s))),
            (i = await (0, _e.AX)(i, !1, s, (e) => nt(e, t))),
            i.map((e) => ({ id: e.id, type: (0, V.SW)(e.type) }))
          );
        }
        async LoadCapsules() {
          const {
            event: e,
            activeTab: t,
            section: a,
            controllerCategory: n,
          } = this.props;
          let {
            currentFlavor: r,
            rgCapsules: i,
            nHiddenCapsules: s,
            strSearchQuery: l,
            facetFilterState: o,
          } = this.state;
          const c = 2 == this.context.eLocation;
          await Promise.all([L.Fm.Get().HintLoad(), (0, _e.H2)(i, N.Xh)]),
            a.enable_faceted_browsing && o && (0, g.h5)(() => o.PruneFacets());
          const m = parseInt((0, Re.f3)(this.props.history, "offset")) || 0;
          let d,
            u = !0;
          try {
            const s = {
                nSectionUniqueID: a.unique_id,
                strSectionFilter: (0, G.qR)(a),
                nTabUniqueID: Boolean(l) ? void 0 : t?.GetActiveTabUniqueID(),
                strTabFilter: Boolean(l) ? void 0 : t?.GetStoreFilter(),
                facetFilter: o,
                contentHub: e.GetContentHub(),
                bContentHubDiscountedOnly: e.BContentHubDiscountedOnly(),
                strSearch: l,
                bRequestFacetCounts: a.enable_faceted_browsing,
                eControllerCategory: n,
              },
              p = Boolean(l) ? "search" : r;
            let _;
            const g = a.cap_item_count > 12 ? a.cap_item_count : 12;
            (d = await $.Get().GetItemsSoFar(
              this.state.results,
              e,
              p,
              s,
              this.FilterItems,
              m,
              g,
              c,
              this.m_cancelSignal,
              _,
            )),
              (i = d.rgItems?.map((e) => ({
                id: e.id,
                type: 0 === e.type ? "game" : (0, V.TM)(e.type),
              }))),
              (u = d.bMoreAvailable);
          } catch (e) {
            return void (
              this.m_cancelSignal.token.reason ||
              (console.error("Failed to load games for browser;" + e.message),
              this.setState({
                bInitialLoadComplete: !0,
                bAwaitingMoreRowsLoading: !1,
              }))
            );
          }
          if (this.m_cancelSignal.token.reason) return;
          const p =
            ((_ = a.unique_id),
            (h = t?.GetActiveTabUniqueID()),
            W.Get().GetMatchingInsertion(_, h));
          var _, h;
          p && Qe(p, i, 2 == this.context.eLocation),
            this.setState({
              bInitialLoadComplete: !0,
              rgCapsules: i,
              nOriginalStartIndex:
                this.state.nOriginalStartIndex >= 0
                  ? this.state.nOriginalStartIndex
                  : m,
              bIsMoreAvailable: u,
              bAwaitingMoreRowsLoading: !1,
              nHiddenCapsules: s,
              results: d,
            });
        }
        OnFlavorLabelClick(e) {
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (0, Re.ip)(this.props.history, { flavor: e, offset: void 0 });
        }
        GetFlavorsForActiveTab() {
          const { activeTab: e, browseInfo: t } = this.props,
            a = e?.GetActiveTabUniqueID();
          return a && t?.tabs && t?.show_flavor_on_sale_tabs
            ? t.tabs.filter(
                (e) =>
                  !(e in t.show_flavor_on_sale_tabs) ||
                  0 === t.show_flavor_on_sale_tabs[e].length ||
                  t.show_flavor_on_sale_tabs[e].includes(a),
              )
            : t?.tabs;
        }
        GetDefaultTab() {
          const e = this.GetFlavorsForActiveTab();
          if (!e) return null;
          const t = (0, Re.f3)(this.props.history, "flavor");
          if (t && e.includes(t)) return t;
          return e.find((e) => O.find((t) => t.flavor === e)) || null;
        }
        RenderTabHeaders() {
          const { currentFlavor: e, strRawSearch: t } = this.state,
            a = this.GetFlavorsForActiveTab();
          if (!a) return null;
          const n = Boolean(t) ? "search" : e;
          return a
            .map((e) => O.find((t) => t.flavor === e))
            .filter((e) => !!e)
            .map((e) => {
              let t = e.label,
                a = e.tooltip;
              return (
                this.props.event?.BUsesContentHubForItemSource() &&
                  "contenthub_popular" === e.flavor &&
                  ("controller" === this.props.event?.GetContentHubType()
                    ? ((t =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller"),
                      (a =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller_ttip"))
                    : "greatondeck" === this.props.event?.GetContentHubType() &&
                      ((t =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck"),
                      (a =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck_ttip"))),
                i.createElement(
                  ne.he,
                  {
                    key: e.flavor,
                    toolTipContent: a,
                    onClick: () => this.OnFlavorLabelClick(e.flavor),
                    className: (0, X.A)(
                      Le().FlavorLabel,
                      n == e.flavor && Le().SelectedFlavor,
                    ),
                  },
                  (0, re.we)(t),
                )
              );
            });
        }
        OnApplySearch(e) {
          this.m_cancelSignal.token.reason ||
            ((0, Re.Bm)(this.props.history, "offset", void 0),
            this.setState(
              {
                bInitialLoadComplete: !1,
                rgCapsules: [],
                nOriginalStartIndex: -1,
                results: null,
                nNumRequestedLastTime: 0,
                bIsMoreAvailable: !0,
                bAwaitingMoreRowsLoading: !0,
                strSearchQuery: e,
              },
              () => this.LoadCapsules(),
            ));
        }
        OnUpdateSearch(e) {
          if (this.m_cancelSignal.token.reason) return;
          const t = e.target.value && e.target.value.trim().toLocaleLowerCase();
          this.setState({ strRawSearch: e.target.value });
          this.m_timerForChange.Schedule(200, () => this.OnApplySearch(t));
        }
        GetSNRFeature() {
          if (this.state.strRawSearch) return "saleitemsearch";
          if (this.state.currentFlavor) {
            let e = this.state.currentFlavor;
            switch (e) {
              case "contenthub_newandtrending":
                e = "newandtrending";
                break;
              case "contenthub_topsellers":
                e = "topsellers";
                break;
              case "contenthub_popular":
                e = "popularpurchased";
                break;
              case "contenthub_toprated":
                e = "toprated";
                break;
              case "contenthub_upcoming":
                e = "popularcomingsoon";
                break;
              case "contenthub_all":
                e = "all";
            }
            return "salebrowse" + e;
          }
          return "saleitembrowse";
        }
        GetSNRData() {
          const { section: e } = this.props;
          if (e?.enable_faceted_browsing) {
            const e = this.state.facetFilterState?.GetSelectedOptionsCount();
            if (e) return { feature: "salefacetbrowse", depth: e };
          }
          return { feature: this.GetSNRFeature() };
        }
        OnUpdateFacetFilter() {
          this.m_cancelSignal.token.reason ||
            (this.state.facetFilterState &&
              (0, Re.ip)(this.props.history, {
                [`facets${this.props.section?.unique_id}`]:
                  this.state.facetFilterState.GetURLParam(),
                offset: null,
              }));
        }
        OnResize() {
          this.setState({ bIsNarrowScreen: (0, se.c)() });
        }
        render() {
          const {
              browseInfo: e,
              section: t,
              event: a,
              language: n,
              activeTab: r,
            } = this.props,
            {
              bInitialLoadComplete: s,
              rgCapsules: l,
              nOriginalStartIndex: o,
              bIsMoreAvailable: c,
              bAwaitingMoreRowsLoading: m,
              strRawSearch: d,
              nHiddenCapsules: u,
            } = this.state,
            p = Boolean(d),
            g = this.RenderTabHeaders();
          if (!g || 0 == g.length) return null;
          const { feature: h, depth: E } = this.GetSNRData(),
            S =
              o > 0
                ? () => {
                    (0, Re.Bm)(this.props.history, "offset", void 0),
                      this.setState(
                        {
                          bInitialLoadComplete: !1,
                          rgCapsules: [],
                          nOriginalStartIndex: -1,
                          results: null,
                          nNumRequestedLastTime: 0,
                          bIsMoreAvailable: !0,
                          bAwaitingMoreRowsLoading: !0,
                        },
                        () => this.LoadCapsules(),
                      );
                  }
                : void 0;
          let y = i.createElement(
            i.Fragment,
            null,
            Boolean(
              "dev" === _.TS.WEB_UNIVERSE && this.state.results?.strRequest,
            ) &&
              i.createElement(it, { request: this.state.results.strRequest }),
            s &&
              i.createElement(st, {
                browseInfo: e,
                rgCapsules: l,
                fnOnRestartBrowse: S,
                fnBIsPermittedApp: this.props.fnBIsPermittedApp,
                feature: h,
                depth: E,
                activeTab: r,
              }),
            s &&
              0 == l.length &&
              i.createElement(
                "div",
                { className: Le().EmptyResults },
                (0, re.we)("#Sale_EmptySearchResultsOrLoadFailure"),
              ),
            (!s || c) &&
              i.createElement(
                "div",
                {
                  className: (0, X.A)(
                    Le().ShowContentsContainer,
                    !s && Le().Loading,
                  ),
                },
                !s || m
                  ? i.createElement(ee, {
                      capsules_per_row: [12],
                      is_item_browser: !0,
                    })
                  : i.createElement(
                      k.fu,
                      {
                        onClick: this.ShowMoreRows,
                        className: Le().ShowContentsButton,
                      },
                      (0, re.we)("#Sale_ShowMore"),
                    ),
              ),
          );
          return (
            t?.enable_faceted_browsing &&
              (y = i.createElement(
                Te,
                {
                  language: n,
                  section: t,
                  event: a,
                  facetFilterState: this.state.facetFilterState,
                  nMaxFacetValues: t.max_facet_values_for_facet || 100,
                  fnOnUpdateFilter: this.OnUpdateFacetFilter,
                  onInitFilter: () => {
                    this.setState({
                      facetFilterState: new Ee(
                        this.props.section.facets,
                        this.props.section.facet_sort_order ||
                          G.IS.k_ESortFacetsByMatchCount,
                        this.props.language,
                        Ae(this.props.event, this.props.section),
                      ),
                    });
                  },
                  ...this.state.results,
                },
                y,
              )),
            i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                { className: Oe.SaleSectionTitleCtn },
                i.createElement(te.jR, {
                  section: t,
                  event: a,
                  nHiddenCapsules: u,
                  ...this.props,
                }),
              ),
              i.createElement(
                "div",
                { className: Le().SaleItemBrowserContainer },
                i.createElement(
                  Ge,
                  { className: Le().SaleItemBrowserHeaderContainer },
                  i.createElement(
                    R.Z,
                    {
                      "flow-children": "row",
                      className: Le().SaleItemBrowserHeader,
                    },
                    g,
                    e.enable_search &&
                      !this.props.bInGamepadUI &&
                      i.createElement(
                        "div",
                        { className: Le().SuggestContainer },
                        i.createElement(ae.eSy, null),
                        i.createElement(w.pd, {
                          type: "text",
                          onChange: this.OnUpdateSearch,
                          bAlwaysShowClearAction: p,
                          value: d,
                        }),
                      ),
                  ),
                ),
                y,
              ),
            )
          );
        }
      };
      function it(e) {
        const [t, a] = i.useState(),
          [n, r] = i.useState(),
          [s, l] = i.useState(!1);
        return (
          i.useEffect(() => {
            const t = e.request
              .split("&")
              .map((e) => e.split("="))
              .filter((e) => !e[0].startsWith("facet"));
            a(t.map((e) => e.join("=")).join("&")),
              r(
                t.map((e) => [
                  e[0],
                  decodeURIComponent(e[1].replace(/\+/g, " ")),
                ]),
              );
          }, [e.request]),
          "dev" !== _.TS.WEB_UNIVERSE
            ? null
            : t && n
              ? i.createElement(
                  "div",
                  {
                    className: (0, X.A)(
                      Le().SaleItemBrowserDebug,
                      I().ValveOnlyBackground,
                    ),
                  },
                  i.createElement(
                    k.ml,
                    { className: Le().ShowHideLink, onClick: () => l(!s) },
                    s ? "Hide" : "Show",
                    " Solr Query Details",
                  ),
                  s &&
                    i.createElement(
                      i.Fragment,
                      null,
                      Boolean(n) &&
                        n.map((e, t) =>
                          i.createElement(
                            "div",
                            { key: "filter_" + t, className: Le().QueryTerm },
                            i.createElement(
                              "div",
                              { className: Le().Name },
                              e[0],
                            ),
                            i.createElement("div", null, e[1]),
                          ),
                        ),
                      i.createElement(
                        k.Ii,
                        {
                          className: Le().WGTesterLink,
                          target: "_blank",
                          href:
                            "https://local.steam.dev:4443/wg?reqname=QuerySolr&request=" +
                            encodeURIComponent(
                              "['request' => 'QuerySolr', 'core' => 'store', 'query' => '" +
                                t +
                                "']",
                            ),
                        },
                        "Open in WG Tester",
                      ),
                    ),
                )
              : null
        );
      }
      function st(e) {
        const {
            browseInfo: t,
            rgCapsules: a,
            fnBIsPermittedApp: n,
            fnOnRestartBrowse: r,
            feature: s,
            depth: l,
            activeTab: o,
          } = e,
          c = (0, se.c)();
        return i.createElement(
          ie.A,
          { feature: s, depth: l },
          Boolean(r) && i.createElement(lt, { onClick: r }),
          a
            .slice(0)
            .filter(
              (e) => !n || ("sub" != e.type && "bundle" != e.type && n(e.id)),
            )
            .map((e) => {
              let a;
              return (
                !c &&
                  "overrideNavigation" in e &&
                  (a = (t) => (
                    e.overrideNavigation(t),
                    t && (t.preventDefault(), t.stopPropagation()),
                    !1
                  )),
                i.createElement(qe, {
                  key: "saleitem_browser_" + e.type + "_" + e.id,
                  bShowDemoButton:
                    t.show_as_demos || o?.BFilterRequiresFeatureDemo(),
                  bShowDeckCompatibilityDialog:
                    t.show_deck_compability_details ||
                    o?.BFilterRequiresSteamDeckVerifiedOrPlayable(),
                  id: e.id,
                  type: e.type || "game",
                  fnOnClickOverride: a,
                  bPreferDemoStorePage: t.prefer_demo_store_page,
                })
              );
            }),
        );
      }
      function lt(e) {
        const { onClick: t } = e,
          a = i.useRef();
        return (
          i.useEffect(() => {
            a?.current?.scrollIntoView();
          }, []),
          i.createElement(
            k.Ii,
            {
              ref: a,
              className: Le().ResetItemsCtn,
              onClick: (e) => {
                t && t(), e.preventDefault(), e.stopPropagation();
              },
            },
            i.createElement(ae.MvQ, null),
            i.createElement(
              "span",
              { className: Le().ResetItems },
              (0, re.we)("#Sale_ItemBrowser_ShowFromBeginning"),
            ),
          )
        );
      }
      (0, d.Cg)([x.oI], rt.prototype, "OnDynamicCapsuleInsert", null),
        (0, d.Cg)([x.oI], rt.prototype, "ShowMoreRows", null),
        (0, d.Cg)([x.oI], rt.prototype, "FilterItems", null),
        (0, d.Cg)([x.oI], rt.prototype, "OnUpdateSearch", null),
        (0, d.Cg)([x.oI], rt.prototype, "OnUpdateFacetFilter", null),
        (0, d.Cg)([x.oI], rt.prototype, "OnResize", null),
        (rt = (0, d.Cg)([P.PA], rt));
      var ot = a(96236),
        ct = a(4434),
        mt = a(56011),
        dt = a(87529),
        ut = a(91787),
        pt = a(4074),
        _t = a(26142),
        gt = a.n(_t),
        ht = a(52625);
      const Et = (e) => {
        const { event: t } = e,
          a = (0, ht.PI)(t.GetSaleVanity());
        if (t.BHasSaleVanity()) {
          const e = new Array(),
            n = Math.floor(Date.now() / 1e3),
            r = pt.E.Get().GetVanityFeaturing(t.GetSaleVanity());
          r &&
            r.length > 0 &&
            r.forEach((a) => {
              const r = t.GetSaleVanity().toLowerCase(),
                s = a.clusters[0],
                l = s.page_bg_url && -1 != s.page_bg_url.indexOf(r);
              e.push(
                i.createElement(
                  "div",
                  { key: a.cluster_name },
                  i.createElement(
                    "a",
                    {
                      className: l
                        ? gt().FeaturingActive
                        : gt().FeaturingMainCapsule,
                      target: "_blank",
                      href:
                        _.TS.PARTNER_BASE_URL +
                        "admin/store/pageclusteredit/" +
                        a.cluster_name +
                        "/" +
                        a.clusters[0].id +
                        "?activetab=tab_capsules",
                    },
                    Boolean(!s.visible || n < s.startdate) &&
                      i.createElement(
                        "span",
                        { className: gt().FeaturingMissing },
                        (0, re.we)("#Sale_FeaturingHidden"),
                      ),
                    (l ? "" : (0, re.we)("#Sale_CapsuleFeaturing")) +
                      a.cluster_name,
                  ),
                ),
              );
            });
          const s = pt.E.Get().GetVanitySpotlight(t.GetSaleVanity());
          s &&
            e.push(
              i.createElement(
                "div",
                { key: s.id },
                i.createElement(
                  "a",
                  {
                    className: (0, X.A)(gt().FeaturingSpotlight),
                    href:
                      _.TS.PARTNER_BASE_URL + "admin/store/spotlight/" + s.id,
                    target: "_blank",
                  },
                  Boolean(!s.visible || n < s.startdate) &&
                    i.createElement(
                      "span",
                      { className: gt().FeaturingMissing },
                      (0, re.we)("#Sale_FeaturingHidden"),
                    ),
                  (0, re.we)("#Sale_HasSpotlight"),
                ),
              ),
            );
          const l = pt.E.Get().GetVanityIM(t.GetSaleVanity());
          if (
            (l &&
              e.push(
                i.createElement(
                  "div",
                  { key: l.gid },
                  i.createElement(
                    "a",
                    {
                      className: (0, X.A)(gt().FeaturingIM),
                      href:
                        _.TS.PARTNER_BASE_URL + "marketing/message/" + l.gid,
                      target: "_blank",
                    },
                    Boolean(n < l.startdate) &&
                      i.createElement(
                        "span",
                        { className: gt().FeaturingMissing },
                        (0, re.we)("#Sale_FeaturingHidden"),
                      ),
                    (0, re.we)("#Sale_HasIM"),
                  ),
                ),
              ),
            a?.length > 0 &&
              a.forEach((t) => {
                e.push(
                  i.createElement(
                    "div",
                    { key: t.gid },
                    i.createElement(
                      "a",
                      {
                        className: (0, X.A)(gt().FeaturingDailyDeal),
                        href:
                          _.TS.PARTNER_BASE_URL +
                          "admin/store/dailydeal/" +
                          t.gid,
                        target: "_blank",
                      },
                      Boolean(n < t.rtime32_start_time) &&
                        i.createElement(
                          "span",
                          { className: gt().FeaturingMissing },
                          (0, re.we)("#Sale_FeaturingHidden"),
                        ),
                      (0, re.we)("#Sale_DailyDeal"),
                    ),
                  ),
                );
              }),
            t.BHasSaleProductBanners())
          ) {
            const a = i.createElement(
                "div",
                { className: gt().BannerCtn },
                i.createElement(
                  "span",
                  null,
                  (0, re.we)("#Sale_HasProductBanner_ttip"),
                ),
                i.createElement("br", null),
                Boolean(t.GetImageURL("product_banner", 0)) &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(
                      "h2",
                      null,
                      (0, re.we)("#Sale_ArtworkType_product_banner"),
                    ),
                    i.createElement("img", {
                      src: t.GetImageURL("product_banner", 0),
                    }),
                  ),
                i.createElement("br", null),
                i.createElement("br", null),
                Boolean(t.GetImageURL("product_mobile_banner", 0)) &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(
                      "h2",
                      null,
                      (0, re.we)("#Sale_ArtworkType_product_mobile_banner"),
                    ),
                    i.createElement("img", {
                      src: t.GetImageURL("product_mobile_banner", 0),
                    }),
                  ),
              ),
              r = 604800;
            e.push(
              i.createElement(
                "div",
                { key: t.GID + "banner" },
                i.createElement(
                  ne.m9,
                  { toolTipContent: a },
                  i.createElement(
                    "a",
                    {
                      className: gt().FeaturingProductBanner,
                      href:
                        _.TS.COMMUNITY_BASE_URL +
                        "gid/" +
                        t.clanSteamID.ConvertTo64BitString() +
                        "/partnerevents/edit/" +
                        t.GID +
                        "?tab=sale#SalePageEdit_SaleBanner",
                    },
                    Boolean(
                      !t.BIsVisibleEvent() ||
                        n < t.startTime ||
                        t.endTime < n ||
                        t.startTime + r < n,
                    ) &&
                      i.createElement(
                        "span",
                        { className: gt().FeaturingMissing },
                        (0, re.we)("#Sale_FeaturingHidden"),
                      ),
                    (0, re.we)("#Sale_HasProductBanner"),
                  ),
                ),
              ),
            );
          }
          return i.createElement(
            "div",
            { className: gt().Featuring },
            i.createElement(
              "div",
              null,
              (0, re.we)(
                t.BIsVisibleEvent()
                  ? "#Sale_ActiveFeaturing"
                  : "#Sale_UpcomingFeaturing",
              ),
            ),
            Boolean(e?.length > 0) ? e : (0, re.we)("#Sale_NoFeaturing"),
          );
        }
        return i.createElement(
          ne.he,
          { toolTipContent: (0, re.we)("#Sale_NoVanity_ttip") },
          i.createElement(
            "div",
            { className: gt().Featuring },
            i.createElement(
              "span",
              { className: gt().FeaturingMissing },
              (0, re.we)("#Sale_NoVanity"),
            ),
          ),
        );
      };
      function St(e) {
        const { eventModel: t, rgAppIds: a } = e,
          [n, r] = i.useState(a.map((e) => ({ id: e, type: "game" })));
        return i.createElement(
          "div",
          { className: T().SaleItems },
          n.map((e) =>
            i.createElement(Ue.pb, {
              key: e.type + "_" + e.id,
              id: e.id,
              type: e.type || "game",
              bShowDemoButton: !1,
              bLoadShortDescription: !1,
            }),
          ),
        );
      }
      var yt = a(4610),
        vt = a(14446),
        ft = a(76684),
        bt = a(97028),
        wt = a.n(bt);
      function Dt(e) {
        const t = e.event.GetValveAccessLog(),
          { fnHintLoadPartnerUserInfo: a } = (0, vt.Ex)();
        return (
          (0, i.useEffect)(() => {
            t && a(t.map((e) => e.strSteamID));
          }, [t, a]),
          i.createElement(
            "div",
            { className: wt().AccessLog },
            i.createElement(
              "div",
              { className: wt().AccessLogHeader },
              (0, re.we)("#Sale_AccessLogHeader"),
            ),
            t?.length > 0
              ? t
                  .slice()
                  .sort((e, t) => t.rtUpdated - e.rtUpdated)
                  .map((e) =>
                    i.createElement(Ct, {
                      key: "log-" + e.strSteamID + e.rtUpdated,
                      entry: e,
                    }),
                  )
              : (0, re.we)("#Sale_AccessLog_Empty"),
          )
        );
      }
      function Ct(e) {
        const { strSteamID: t, rtUpdated: a, strNotes: n } = e.entry,
          r = t,
          s = (0, vt.fH)(t),
          l = Date.now() / 1e3,
          o = (0, re.Hq)(l - a);
        return i.createElement(
          "div",
          { className: wt().AccessLogEntry },
          i.createElement(
            "div",
            { className: T().Name },
            s
              ? i.createElement(ne.he, { toolTipContent: s.email }, s.persona)
              : r,
          ),
          "-",
          i.createElement(
            ft.gS,
            { className: T().Timestamp, rtFullDate: a, stylesmodule: T() },
            o,
          ),
          Boolean(n) && i.createElement("div", null, n),
        );
      }
      var It = a(93095);
      function Bt(e) {
        const { saleDescList: t, fnSetFilteredSaleDescList: a } = e,
          [n, r] = (0, Re.QD)("search", ""),
          s = i.useRef(void 0);
        return (
          (0, i.useEffect)(() => {
            if (!n) return a(t);
            const e = t.filter(
              (e) =>
                (e.strEventName || "").toLocaleLowerCase().includes(n) ||
                (e.strVanity || "").toLocaleLowerCase().includes(n),
            );
            a(e);
          }, [n, t, a]),
          i.createElement(w.pd, {
            ref: s,
            type: "text",
            label: "Search by Sale Page Name",
            placeholder: "type at least 2 characters..",
            onChange: (e) => {
              const t = String(e.target.value).toLocaleLowerCase();
              (!t || t.trim().length < 2) && r(null), r(t.trim());
            },
          })
        );
      }
      var Tt = a(67165),
        Mt = a(59403),
        At = a(26408),
        kt = a(38964),
        Rt = a(3088),
        Pt = a(66051),
        Nt = a(70452),
        Gt = a.n(Nt);
      const Ot = (e) => {
        const {
            saleDescList: t,
            bShowAppBrowse: a,
            bShowFeaturing: n,
            descriptionToken: r,
            hiddenSaleDescList: s,
            bShowRankView: l,
          } = e,
          [o, c] = (0, i.useState)(() => t);
        return i.createElement(
          "div",
          { className: (0, X.A)(A().SectionContainer) },
          i.createElement(Bt, {
            saleDescList: t,
            fnSetFilteredSaleDescList: c,
          }),
          Boolean(r) &&
            i.createElement(
              "div",
              { className: A().SaleSectionDesc },
              (0, re.we)(r),
            ),
          o.map((e) =>
            i.createElement(
              D.tH,
              { key: e.clanEventGID },
              i.createElement(
                ot.K,
                { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
                i.createElement(Lt, {
                  saleDesc: e,
                  bShowAppBrowse: a,
                  bShowFeaturing: n,
                  bShowRankView: l,
                }),
              ),
            ),
          ),
          Boolean(0 == o.length) &&
            i.createElement(
              "div",
              { className: A().Empty },
              (0, re.we)("#Sale_EventStats_Empty"),
            ),
          Boolean(s?.length > 0) &&
            s.map((e) =>
              i.createElement(
                D.tH,
                { key: e.clanEventGID },
                i.createElement(Ut, {
                  saleDesc: e,
                  message: (0, re.we)("#Sale_InDraftModeHidden"),
                }),
              ),
            ),
        );
      };
      function Ft(e) {
        const { saleDesc: t } = e,
          a = (0, m.Ec)(t.clanAccountID),
          n =
            _.TS.COMMUNITY_BASE_URL +
            "gid/" +
            l.b.InitFromClanID(t.clanAccountID).ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t.clanEventGID;
        return i.createElement(
          "div",
          { className: A().TileContainer },
          i.createElement(
            "div",
            { className: A().Tile },
            (0, re.we)("#Loading"),
            ":",
            i.createElement("br", null),
            (0, re.we)("#Sale_Section_Preload_Name"),
            " ",
            t.strEventName,
            i.createElement("br", null),
            "Community Group Account ID: ",
            t.clanAccountID,
            i.createElement("br", null),
            "EventGID: ",
            t.clanEventGID,
            i.createElement("br", null),
            Boolean(a.can_edit) &&
              i.createElement(
                i.Fragment,
                null,
                (0, re.we)("#Sale_Section_Type_links"),
                ": ",
                i.createElement(
                  "a",
                  { href: n },
                  (0, re.we)("#EventEditor_Edit"),
                ),
              ),
          ),
          i.createElement("div", { className: A().Footer }),
        );
      }
      function Lt(e) {
        const {
            saleDesc: t,
            bShowAppBrowse: a,
            bShowFeaturing: r,
            bShowRankView: m,
            bHidePartnerStats: d,
            bShowWhyAmISeeingThis: u,
          } = e,
          [p, g] = i.useState(!0),
          h = (0, n.V)(),
          [E, S] = i.useState(!1);
        if (
          ((0, i.useEffect)(() => {
            const e = l.b.InitFromClanID(t.clanAccountID),
              a = [
                v.O3.QueueLoadPartnerEvent(t.clanAccountID, t.clanEventGID, !0),
                c.ac.LoadClanInfoForClanSteamID(e),
              ];
            !h &&
              (0, yt.B4)(t) &&
              a.push(
                dt.d
                  .Get()
                  .FetchSalePageDetails(t.clanAccountID, t.clanEventGID),
              ),
              Promise.all(a).then(() => g(!1));
          }, [h, t]),
          p)
        )
          return i.createElement(Ft, {
            saleDesc: t,
            bShowAppBrowse: e.bShowAppBrowse,
            bShowFeaturing: !h,
            bShowWhyAmISeeingThis: u,
          });
        const y = v.O3.GetClanEventModel(t.clanEventGID);
        if (!y)
          return i.createElement(Ut, {
            saleDesc: t,
            message: (0, re.we)("#Sale_InDraftModeHasApp"),
          });
        const f = (0, s.sf)(_.TS.LANGUAGE),
          b = y.GetSaleURL();
        return i.createElement(
          D.tH,
          null,
          i.createElement(
            "div",
            { className: (0, X.A)(A().TileContainer) },
            i.createElement(Yt, {
              clanAccountID: t.clanAccountID,
              primaryContactName: t.strPrimaryContactName,
              primaryContactEmail: t.strPrimaryContactEmail,
            }),
            i.createElement(Kt, {
              saleDesc: t,
              strSaleURL: y.GetSaleURL(),
              strEventName: y.GetNameWithFallback(f),
            }),
            i.createElement(
              "div",
              { className: (0, X.A)(A().EventDetailsCtn) },
              i.createElement(
                ne.he,
                { toolTipContent: y.GetSummaryWithFallback(f) },
                i.createElement(
                  "a",
                  { href: b, target: "_blank" },
                  i.createElement(Rt.c, {
                    className: (0, X.A)(A().CapsuleImg),
                    rgSources: y.GetImageForSizeAsArrayWithFallback(
                      "capsule",
                      f,
                      o.wI.capsule_main,
                    ),
                  }),
                ),
              ),
              i.createElement(
                "div",
                { className: (0, X.A)(A().TopStatsCtn) },
                i.createElement(jt, {
                  saleDesc: t,
                  eventModel: y,
                  bShowAppBrowse: a,
                  bShowRankView: !h && m,
                }),
                Boolean(!d) &&
                  i.createElement(
                    i.Fragment,
                    null,
                    Boolean(y.BIsVisibleEvent() && h) &&
                      i.createElement(zt, { eventModel: y }),
                    Boolean(y.BIsVisibleEvent() && !h) &&
                      i.createElement(xt, { eventModel: y }),
                    Boolean(!h) &&
                      i.createElement(yt.JS, {
                        saleDesc: t,
                        bDetailsAreVisible: E,
                        fnToggleDetails: () => S(!E),
                      }),
                  ),
              ),
              i.createElement(qt, { eventModel: y }),
              i.createElement(Wt, {
                saleDesc: t,
                eventModel: y,
                showWhyAmISeeingThis: u,
              }),
              Boolean(!h && r) && i.createElement(Et, { event: y }),
              Boolean(!h) && i.createElement(Dt, { event: y }),
            ),
            E && i.createElement(yt.K0, { saleDesc: t }),
          ),
        );
      }
      function Ut(e) {
        const { saleDesc: t, message: a } = e,
          n = t.bFeaturedNextSeasonalSale
            ? _.TS.STORE_BASE_URL + "sale/" + t.strVanity
            : _.TS.STORE_BASE_URL +
              "curator/" +
              t.clanAccountID +
              "/sale/" +
              t.strVanity;
        return i.createElement(
          "div",
          { className: (0, X.A)(A().TileContainer) },
          i.createElement(Kt, {
            saleDesc: t,
            strSaleURL: n,
            strEventName: t.strEventName,
          }),
          i.createElement(
            "div",
            { className: (0, X.A)(A().EventDetailsCtn) },
            i.createElement(
              "div",
              { className: (0, X.A)(A().TopStatsCtn) },
              i.createElement(jt, {
                saleDesc: t,
                eventModel: void 0,
                bShowAppBrowse: !0,
                bShowRankView: !1,
              }),
            ),
            i.createElement(
              "div",
              { className: A().NotVisibleDescription },
              i.createElement("div", { className: A().NotVisibleMessage }, a),
              i.createElement($t, { saleDesc: t }),
            ),
          ),
          i.createElement(Yt, {
            clanAccountID: t.clanAccountID,
            primaryContactName: t.strPrimaryContactName,
            primaryContactEmail: t.strPrimaryContactEmail,
          }),
        );
      }
      function zt(e) {
        const { eventModel: t } = e;
        return (0, m.Ec)(t.clanSteamID.GetAccountID()).can_edit
          ? i.createElement(xt, { eventModel: t })
          : null;
      }
      function xt(e) {
        const { eventModel: t } = e,
          a = t.GID,
          n = t.clanSteamID.GetAccountID(),
          [r, s] = i.useState(!y.BHasEventStats(n, a)),
          o = (0, ct.m)("SaleEventRowTile");
        return (
          i.useEffect(() => {
            if (r && v.O3.GetClanEventModel(a).BIsVisibleEvent()) {
              const e = l.b.InitFromClanID(n);
              y.LoadStatsForEvents(e, [a], o).finally(() => s(!1));
            }
            return () => o?.cancel("unloading SaleEventRowTile");
          }, [r, o, n, a]),
          r
            ? i.createElement(Ye.t, { string: (0, re.we)("#Loading") })
            : i.createElement(
                "div",
                { className: A().VisitorCount },
                i.createElement(
                  "div",
                  { className: (0, X.A)(T().BigNumber) },
                  y
                    .GetStatsFor(t.clanSteamID, a)
                    .m_stats.store_app_page_read.toLocaleString(),
                ),
                i.createElement(
                  ne.he,
                  {
                    toolTipContent: (0, re.we)("#Sale_EventStats_Read"),
                    className: (0, X.A)(C.HelperTooltip, T().StatText),
                  },
                  (0, re.we)("#Sale_EventStats_Read_Title"),
                ),
              )
        );
      }
      function qt(e) {
        const { eventModel: t } = e,
          a = t.GetSaleFeaturedAppsCount(),
          n = t.GetSaleFeaturedBundlesCount(),
          r = t.GetSaleFeaturedPackagesCount();
        return i.createElement(
          "div",
          { className: (0, X.A)(A().BasicStatsCtn) },
          Boolean(a) &&
            i.createElement(
              i.Fragment,
              null,
              (0, re.we)("#Sale_Stats_Apps_featured", a),
              i.createElement("br", null),
            ),
          Boolean(n) &&
            i.createElement(
              i.Fragment,
              null,
              (0, re.we)("#Sale_Stats_Bundles", n),
              i.createElement("br", null),
            ),
          Boolean(r) &&
            i.createElement(
              i.Fragment,
              null,
              (0, re.we)("#Sale_Stats_Packages", r),
              i.createElement("br", null),
            ),
        );
      }
      function Wt(e) {
        const { saleDesc: t, eventModel: a, showWhyAmISeeingThis: r } = e,
          s = (0, n.V)(),
          l = (0, m.Ec)(a.clanSteamID.GetAccountID()),
          o = a.clanSteamID.GetAccountID(),
          c = a.GID,
          d = a.GetSaleURL(),
          u =
            _.TS.COMMUNITY_BASE_URL +
            "gid/" +
            a.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            c +
            "?tab=sale",
          p =
            _.TS.COMMUNITY_BASE_URL +
            "gid/" +
            a.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/preview/" +
            c,
          g = new Date(1e3 * a.GetStartTimeAndDateUnixSeconds()),
          h = new Date(1e3 * a.GetEndTimeAndDateUnixSeconds()),
          E =
            _.TS.INTERNAL_STATS_BASE_URL +
            "sales/details/?gid=" +
            c +
            "&clanid=" +
            o +
            "&dateStart=" +
            g.getFullYear() +
            "-" +
            (g.getMonth() + 1) +
            "-" +
            g.getDate() +
            "&dateEnd=" +
            g.getFullYear() +
            "-" +
            (h.getMonth() + 1) +
            "-" +
            h.getDate();
        return i.createElement(
          "div",
          { className: (0, X.A)(A().LinkCtn) },
          Boolean(l.can_edit) &&
            i.createElement(
              "a",
              { href: u, target: "_blank" },
              (0, re.we)("#EventEditor_Edit"),
            ),
          Boolean(!a.BIsVisibleEvent() && l.can_edit) &&
            i.createElement(
              "a",
              { href: p, target: "_blank" },
              (0, re.we)("#Sale_Link_PreviewEvent"),
            ),
          Boolean(a.BIsVisibleEvent()) &&
            i.createElement(
              "a",
              { href: d, target: "_blank" },
              (0, re.we)("#Sale_Link_SalePage"),
            ),
          Boolean(!s) &&
            i.createElement(
              "a",
              { href: E, target: "_blank" },
              (0, re.we)("#Sale_Link_Stats"),
            ),
          i.createElement("div", { className: A().Spacer }),
          Boolean(s && r) && i.createElement($t, { saleDesc: t }),
        );
      }
      function jt(e) {
        const {
            saleDesc: t,
            eventModel: a,
            bShowAppBrowse: r,
            bShowRankView: s,
          } = e,
          l = (0, n.V)(),
          o = i.useMemo(() => new Set(t.rgAppIds), [t.rgAppIds]),
          c = (0, i.useCallback)(
            (e) => {
              (0, Xe.pg)(
                i.createElement(Ht, {
                  nPartnerID: l,
                  eventModel: a,
                  setAppIds: o,
                }),
                (0, mt.uX)(e),
              );
            },
            [a, l, o],
          );
        return i.createElement(
          "div",
          { className: (0, X.A)(A().FeaturedApps) },
          i.createElement(
            "div",
            { className: (0, X.A)(T().BigNumber) },
            o.size,
          ),
          i.createElement(
            "span",
            { className: (0, X.A)(C.HelperTooltip, T().StatText) },
            i.createElement(
              ne.he,
              {
                toolTipContent: (0, re.we)(
                  l ? "#Sale_Stats_Apps_Partner_Ttip" : "#Sale_Stats_Apps_Ttip",
                ),
              },
              i.createElement(
                "span",
                {
                  onClick: r ? c : void 0,
                  className: (0, X.A)(r && A().BrowseLink),
                },
                (0, re.we)(l ? "#Sale_Stats_Apps_Partner" : "#Sale_Stats_Apps"),
              ),
              s &&
                i.createElement(
                  "span",
                  {
                    onClick: (e) => {
                      (0, Xe.pg)(
                        i.createElement(Vt, { eventModel: a }),
                        (0, mt.uX)(e),
                      );
                    },
                    className: (0, X.A)(A().BrowseLink, C.ValveOnlyBackground),
                  },
                  " (Sales Rank)",
                ),
            ),
          ),
        );
      }
      function Ht(e) {
        const { closeModal: t, nPartnerID: a, eventModel: n, setAppIds: r } = e;
        return i.createElement(
          je.eV,
          { bAllowFullSize: !0, closeModal: t },
          i.createElement(
            w.Y9,
            null,
            (0, re.we)("#Sale_DashBoard_ShowLiveData"),
          ),
          i.createElement(
            w.nB,
            null,
            i.createElement(
              D.tH,
              null,
              i.createElement(
                "p",
                null,
                (0, re.we)("#Sale_DashBoard_YourIncludedGames"),
              ),
              i.createElement("br", null),
              i.createElement(
                "div",
                { className: T().QuickViewCtn },
                a
                  ? i.createElement(St, {
                      eventModel: n,
                      rgAppIds: Array.from(r),
                    })
                  : i.createElement(
                      J.Cs,
                      { location: 2 },
                      i.createElement(rt, {
                        key: n.GID,
                        event: n,
                        browseInfo: {
                          enable_search: !0,
                          show_as_demos: !1,
                          tabs: [
                            "popularpurchased",
                            "recentlyreleased",
                            "popularcomingsoon",
                            "topwishlisted",
                            "trendingwishlisted",
                            "mostplayeddemo",
                            "dailyactiveuserdemo",
                            "playednowdemo",
                          ],
                        },
                        language: (0, s.sf)(_.TS.LANGUAGE),
                        activeTab: null,
                        fnBIsPermittedApp: (e) => r.has(e),
                      }),
                    ),
              ),
            ),
          ),
        );
      }
      function Vt(e) {
        const { closeModal: t, eventModel: a } = e,
          n = (0, i.useMemo)(() => Array.from(a.GetSaleFeaturedApps()), [a]),
          s = (0, r.l)(n),
          l = (0, It.F_)(n),
          o = i.useRef(null),
          c = [
            { header: "App ID", cell: ut.yb, accessorKey: "appid", size: 100 },
            { header: "Name", cell: ut.Ci, accessorKey: "name", size: 300 },
            {
              header: "Long Term Sales Rank",
              cell: ut.Dq,
              accessorKey: "long_term_sales_rank",
              size: 120,
            },
            {
              header: "has discount",
              cell: ut.Lv,
              accessorKey: "discount_info",
              size: 450,
            },
          ],
          m = (0, b.zX)(n, { include_release: !0 }),
          d = (0, i.useMemo)(
            () =>
              1 == m || s.bLoading || !l
                ? null
                : n.map((e) => {
                    const t = f.A.Get().GetApp(e);
                    return {
                      appid: e,
                      name: t?.GetName() || "Unknonw",
                      long_term_sales_rank: s.fnbHasSomeLongTermSaleRankForApp(
                        e,
                      )
                        ? s.fnGetLongTermSaleRankForApp(e)
                        : 1e7,
                      discount_info: (0, It.gt)(
                        e,
                        l,
                        a.GetStartTimeAndDateUnixSeconds(),
                        a.GetEndTimeAndDateUnixSeconds(),
                        "dummy_discountid",
                      ),
                    };
                  }),
            [m, s, n, l, a],
          );
        return 1 != m && d && !s.bLoading && l
          ? i.createElement(
              je.eV,
              { bAllowFullSize: !0, closeModal: t },
              i.createElement(
                w.Y9,
                null,
                (0, re.we)("#Sale_DashBoard_ShowLiveData"),
              ),
              i.createElement(
                w.nB,
                null,
                i.createElement(
                  D.tH,
                  null,
                  i.createElement(Pt.k, {
                    ref: o,
                    className: Gt().DefaultFancyTable,
                    stickyHeader: !0,
                    columns: c,
                    data: d,
                    nItemHeight: 32,
                    initialSorting: [{ id: "long_term_sales_rank", desc: !1 }],
                  }),
                  i.createElement("br", null),
                ),
              ),
            )
          : i.createElement(Ye.t, {
              string: (0, re.we)("#Loading"),
              size: "medium",
              position: "center",
            });
      }
      function Kt(e) {
        const { saleDesc: t, strSaleURL: a, strEventName: n } = e;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            { className: (0, X.A)(A().EventNameCtn) },
            i.createElement(
              "a",
              { href: a, target: "_blank", className: A().EventName },
              n,
            ),
          ),
          i.createElement(
            "div",
            { className: (0, X.A)(A().DatesCtn) },
            i.createElement(kt.ek, {
              startTimestamp: t.rtStartTime,
              endTimestamp: t.rtEndTime,
              largeDate: !0,
            }),
          ),
        );
      }
      function Yt(e) {
        const {
            clanAccountID: t,
            primaryContactName: a,
            primaryContactEmail: n,
          } = e,
          [r, s] = (0, c.TB)(t),
          l = {
            clan_account_id: s.clanAccountID,
            name: s.group_name,
            type: "developer",
          },
          o = (0, Tt.FV)(l.clan_account_id),
          m = o?.GetCreatorHomeURL(l.type);
        if (r || !s)
          return i.createElement(
            "div",
            { className: (0, X.A)(A().ClanInfoRow) },
            i.createElement(Ye.t, {
              string: (0, re.we)("#Loading"),
              size: "medium",
              position: "center",
            }),
          );
        const d = a && n;
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(
            "div",
            { className: (0, X.A)(A().ClanInfoRow) },
            (0, re.we)("#Sale_Info_OrganizerEntity"),
            " ",
            i.createElement(
              "div",
              { className: A().ClanInfoName },
              i.createElement(
                Mt.iN,
                { href: m, target: "_blank" },
                s.group_name,
              ),
            ),
            i.createElement(
              Mt.iN,
              { href: m },
              i.createElement("img", {
                className: (0, X.A)(A().Avatar),
                src: s.avatar_full_url,
              }),
            ),
          ),
          d &&
            i.createElement(
              "div",
              { className: (0, X.A)(A().ClanInfoContactInfo) },
              i.createElement(
                "span",
                null,
                (0, re.we)("#Sale_Info_ContactName"),
                " ",
                a,
              ),
              i.createElement(
                "span",
                { className: A().ClanInfoEmail },
                "(",
                i.createElement("a", { href: "mailto:" + n }, n),
                ")",
              ),
            ),
          !d &&
            i.createElement(
              "div",
              { className: (0, X.A)(A().ClanInfoContactInfo) },
              (0, re.we)("#Sale_Info_ContactInfoUnavailable"),
            ),
        );
      }
      function $t(e) {
        const { saleDesc: t } = e,
          a = i.useMemo(() => t.rgAppIds?.length, [t.rgAppIds]);
        return i.createElement(
          "div",
          { className: A().WhyTooltip },
          (0, re.we)("#Sale_Stats_WhyAmISeeingThis"),
          i.createElement(At.o, {
            tooltip: (0, re.Yp)("#Sale_Stats_WhyAmISeeingThis_ttip", a),
          }),
        );
      }
    },
    4610: (e, t, a) => {
      "use strict";
      a.d(t, { B4: () => O, JS: () => C, K0: () => B });
      var n = a(75844),
        r = a(90626),
        i = a(16676),
        s = a(84811),
        l = a(95695),
        o = a(76684),
        c = a(32754),
        m = a(52038),
        d = a(61859),
        u = a(41338),
        p = a(78327),
        _ = a(87529),
        g = a(60202),
        h = a.n(g),
        E = a(95821),
        S = a.n(E),
        y = a(91477),
        v = a.n(y),
        f = a(16666),
        b = a(66051),
        w = a(9161),
        D = a(55263);
      const C = (0, n.PA)((e) => {
          const { saleDesc: t, bDetailsAreVisible: a, fnToggleDetails: n } = e,
            [i, s] = (0, r.useState)(O(t));
          (0, r.useEffect)(() => {
            O(t) &&
              _.d
                .Get()
                .FetchSalePageDetails(t.clanAccountID, t.clanEventGID)
                .then(() => s(!1));
          }, [t]);
          const o = Date.now() / 1e3;
          if (!(t.bVisible && t.rtStartTime < o && !i)) return null;
          const u = _.d.Get().GetSaleDetails(t.clanAccountID, t.clanEventGID),
            p = u && Number(u.grossSalesUSD),
            g = Number.isNaN(p) ? (0, d.we)("#Sale_Stats_NoData") : x(p);
          return r.createElement(
            "div",
            { className: (0, m.A)(S().SaleDetails) },
            r.createElement("div", { className: (0, m.A)(h().BigNumber) }, g),
            r.createElement(
              c.he,
              {
                toolTipContent: (0, d.we)("#Sale_Stats_GrossSales_ttip"),
                className: l.HelperTooltip,
              },
              (0, d.we)("#Sale_Stats_GrossSales"),
            ),
            !Number.isNaN(p) &&
              r.createElement(
                "div",
                { onClick: n, className: v().DetailedStatsButton },
                (0, d.we)(
                  a
                    ? "#Sale_Stats_HideDetailedStatsButton"
                    : "#Sale_Stats_SeeDetailedStatsButton",
                ),
              ),
          );
        }),
        I = (0, f.FB)(),
        B = (0, n.PA)((e) => {
          const t = (0, _.z)(e.saleDesc.clanAccountID, e.saleDesc.clanEventGID);
          if (!t) return null;
          const a = [
            I.accessor("appid", { header: "App ID", cell: R, size: 100 }),
            I.accessor("appid", {
              header: "Name",
              cell: P,
              size: 300,
              id: "appname",
            }),
            I.accessor("gross_sales_usd", {
              header: "Total US$",
              cell: q,
              size: 120,
            }),
            I.accessor("gross_units_sold", {
              header: "Total Units",
              cell: z,
              size: 120,
            }),
            I.accessor("discounts", { header: "Discounts", size: 120 }),
            I.accessor("impressions", {
              header: "Impressions",
              cell: z,
              size: 120,
            }),
            I.accessor("no_impressions", {
              header: "Non-owners",
              cell: z,
              size: 120,
            }),
            I.accessor("views", { header: "Page Visits", cell: z, size: 120 }),
            I.accessor("no_views", {
              header: "Non-owners",
              cell: z,
              size: 120,
            }),
          ];
          let n,
            l = [];
          for (const e in t.rgApps) {
            const a = t.rgNavMetrics[e],
              r =
                Number(a?.total_impressions || 0) -
                Number(a?.owner_total_impressions || 0),
              i =
                Number(t.rgNavMetrics[e]?.total_views || 0) -
                Number(a?.owner_total_views || 0);
            (n = {
              appid: e,
              gross_sales_usd: t.rgAppSaleSummaries[e]?.gross_sales_usd || 0,
              gross_units_sold: t.rgAppSaleSummaries[e]?.gross_units_sold || 0,
              discounts: N(t.rgApps[e], t),
              impressions: a?.total_impressions || "0",
              no_impressions: r,
              views: a?.total_views || "0",
              no_views: i,
            }),
              l.push(n);
          }
          const c = Date.now() / 1e3,
            p = (0, d.Hq)(c - t.rtime_written),
            g = t.totalImpressions - t.ownerTotalImpressions,
            E = t.totalViews - t.ownerTotalViews,
            S = t.rgExplicitPackageIDs
              .slice()
              .sort((e, a) =>
                (0, u.lY)(t.rgPackages[e].name, t.rgPackages[a].name),
              ),
            y = t.rgExplicitBundleIDs
              .slice()
              .sort((e, a) =>
                (0, u.lY)(t.rgBundles[e].name, t.rgBundles[a].name),
              );
          return r.createElement(
            "div",
            { className: v().DetailedStats },
            r.createElement(
              "div",
              { className: v().DetailedStatsTopBar },
              r.createElement(
                T,
                { name: (0, d.we)("#Sale_Stats_GrossSales") },
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_SalesUSD"),
                  value: x(t.grossSalesUSD),
                }),
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_SalesUnits"),
                  value: U(t.grossUnitsSold),
                }),
              ),
              r.createElement(
                T,
                { name: (0, d.we)("#Sale_Stats_DiscountedGrossSales") },
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_SalesUSD"),
                  value: x(t.discountedGrossSalesUSD),
                }),
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_SalesUnits"),
                  value: U(t.discountedGrossUnitsSold),
                }),
              ),
              r.createElement(
                T,
                { name: (0, d.we)("#Sale_Stats_ImpressionCount") },
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_TotalProductCount"),
                  value: U(t.totalImpressions),
                }),
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_NonOwnerProductCount"),
                  value: U(g),
                }),
              ),
              r.createElement(
                T,
                { name: (0, d.we)("#Sale_Stats_ViewCount") },
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_TotalProductCount"),
                  value: U(t.totalViews),
                }),
                r.createElement(M, {
                  name: (0, d.we)("#Sale_Stats_NonOwnerProductCount"),
                  value: U(E),
                }),
              ),
              r.createElement(
                "div",
                { className: v().DetailedStatsTimestamp },
                r.createElement(
                  o.gS,
                  {
                    className: h().Timestamp,
                    rtFullDate: t.rtime_written,
                    stylesmodule: h(),
                  },
                  (0, d.we)("#Sale_Stats_DetailTimestamp", p),
                ),
              ),
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatsRows },
              r.createElement(
                "div",
                { className: v().DetailedStatsSectionHeader },
                r.createElement(
                  "div",
                  { className: v().SectionHeaderName },
                  (0, d.we)("#Sale_Stats_AppDetailsHeader"),
                ),
                r.createElement(
                  "div",
                  { className: v().SectionHeaderDescription },
                  (0, d.we)("#Sale_Stats_AppDetailsDescription"),
                ),
              ),
              r.createElement(
                s.tH,
                null,
                r.createElement(b.k, {
                  columns: a,
                  data: l,
                  className: v().SaleDetailsTable,
                  stickyHeader: !0,
                  height: 500,
                  nItemHeight: 28,
                  initialSorting: [{ id: "gross_sales_usd", desc: !0 }],
                }),
                r.createElement("br", null),
              ),
              r.createElement(
                i.$n,
                {
                  id: "download-csv",
                  onClick: function () {
                    const e = [],
                      t = [];
                    for (const e of a) t.push(e.header);
                    e.push(t);
                    for (const t of l) {
                      const n = [];
                      for (const e of a) n.push(t[e.accessorKey].toString());
                      e.push(n);
                    }
                    w.g.WriteCSVToFile(e, "data.csv");
                  },
                  style: { width: "120px" },
                },
                "Download CSV",
              ),
              r.createElement(
                "div",
                { className: v().DetailedStatsSectionHeader },
                r.createElement(
                  "div",
                  { className: v().SectionHeaderName },
                  (0, d.we)("#Sale_Stats_PackageDetailsHeader"),
                ),
                r.createElement(
                  "div",
                  { className: v().SectionHeaderDescription },
                  (0, d.we)("#Sale_Stats_PackageDetailsDescription"),
                ),
              ),
              r.createElement(
                "div",
                {
                  className: (0, m.A)(
                    v().DetailedStatsRow,
                    v().DetailedStatsRowHeader,
                  ),
                },
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_PackageId"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatLong },
                  (0, d.we)("#Sale_Stats_ItemName"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_ListedAppsHeader"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_SalesUSD"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_SalesUnits"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_DiscountRange"),
                ),
              ),
              S.map((e) =>
                r.createElement(A, {
                  key: `package-${e}`,
                  packageid: e,
                  saleDetails: t,
                }),
              ),
              r.createElement(
                "div",
                { className: v().DetailedStatsSectionHeader },
                r.createElement(
                  "div",
                  { className: v().SectionHeaderName },
                  (0, d.we)("#Sale_Stats_BundleDetailsHeader"),
                ),
                r.createElement(
                  "div",
                  { className: v().SectionHeaderDescription },
                  (0, d.we)("#Sale_Stats_BundleDetailsDescription"),
                ),
              ),
              r.createElement(
                "div",
                {
                  className: (0, m.A)(
                    v().DetailedStatsRow,
                    v().DetailedStatsRowHeader,
                  ),
                },
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_BundleId"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatLong },
                  (0, d.we)("#Sale_Stats_ItemName"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_ListedAppsHeader"),
                ),
                r.createElement(
                  "div",
                  { className: v().DetailedStatShort },
                  (0, d.we)("#Sale_Stats_PackageDetailsHeader"),
                ),
              ),
              y.map((e) =>
                r.createElement(k, {
                  key: `app-${e}`,
                  bundleid: e,
                  saleDetails: t,
                }),
              ),
            ),
          );
        }),
        T = (e) =>
          r.createElement(
            "div",
            { className: v().TopBarSection },
            r.createElement(
              "div",
              { className: v().TopBarSectionName },
              e.name,
            ),
            r.createElement(
              "div",
              { className: v().TopBarSubSections },
              e.children,
            ),
          ),
        M = (e) =>
          r.createElement(
            "div",
            { className: v().TopBarSubSection },
            r.createElement("div", { className: v().SubSectionName }, e.name),
            r.createElement("div", { className: v().SubSectionValue }, e.value),
          ),
        A = (e) => {
          const { packageid: t, saleDetails: a } = e;
          return r.createElement(
            "div",
            { className: v().DetailedStatsRow },
            r.createElement("div", { className: v().DetailedStatShort }, t),
            r.createElement(
              "div",
              { className: v().DetailedStatLong },
              a.rgPackages[t].name,
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              a.rgPackages[t].contains_apps.length,
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              x(a.rgPackageSaleSummaries[t]?.gross_sales_usd),
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              U(a.rgPackageSaleSummaries[t]?.gross_units_sold),
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              r.createElement(G, { rgPackageIds: [t], saleDetails: a }),
            ),
          );
        },
        k = (e) => {
          const { bundleid: t, saleDetails: a } = e;
          return r.createElement(
            "div",
            { className: v().DetailedStatsRow },
            r.createElement("div", { className: v().DetailedStatShort }, t),
            r.createElement(
              "div",
              { className: v().DetailedStatLong },
              a.rgBundles[t].name,
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              a.rgBundles[t].contains_packages.length,
            ),
            r.createElement(
              "div",
              { className: v().DetailedStatShort },
              a.rgBundles[t].contains_apps.length,
            ),
          );
        };
      function R(e) {
        const t = p.TS.PARTNER_BASE_URL + "apps/landing/" + e.getValue();
        return r.createElement(
          "a",
          { style: { fontWeight: "bold" }, target: "_blank", href: t },
          e.getValue(),
        );
      }
      function P(e) {
        const t = Number.parseInt(e.getValue()),
          [a] = (0, D.t7)(t, {});
        return a?.GetName() || "";
      }
      function N(e, t) {
        if (!e) return "unknown";
        let a, n;
        for (const r of e) {
          const e = t.rgPackageDiscounts[Number(r)];
          if (e?.length)
            for (const t of e)
              (void 0 === a || a > t.percentage) && (a = t.percentage),
                (void 0 === n || n < t.percentage) && (n = t.percentage);
        }
        return void 0 === a
          ? (0, d.we)("#Sale_Stats_NoDiscounts")
          : a == n
            ? `${a}%`
            : `${a}%-${n}%`;
      }
      const G = (e) => {
        const { rgPackageIds: t, saleDetails: a } = e;
        return r.createElement("div", null, N(t, a));
      };
      function O(e) {
        const t = Date.now() / 1e3;
        return (
          e.bVisible &&
          e.rtStartTime < t &&
          !_.d.Get().BHasSaleDetails(e.clanAccountID, e.clanEventGID)
        );
      }
      let F, L;
      function U(e) {
        return F || (F = new Intl.NumberFormat("en-US")), F.format(Number(e));
      }
      function z(e) {
        return U(e.getValue());
      }
      function x(e) {
        return (
          L ||
            (L = new Intl.NumberFormat("en-US", {
              style: "currency",
              currency: "USD",
            })),
          L.format(Math.round(Number(e) / 100)).slice(0, -3)
        );
      }
      function q(e) {
        return x(e.getValue());
      }
    },
    94238: (e, t, a) => {
      "use strict";
      a.d(t, {
        Dw: () => u,
        IR: () => h,
        PR: () => o,
        TQ: () => g,
        Zd: () => p,
        ls: () => S,
        oU: () => _,
        oj: () => E,
        po: () => m,
        qc: () => d,
        ve: () => c,
      });
      var n = a(14771),
        r = a(61859),
        i = a(68225),
        s = a(78327);
      const l = a(87937);
      function o(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") && t.notes.length > 0;
        }
        return !1;
      }
      function c(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") ? t.notes : "";
        }
        return "";
      }
      function m(e) {
        return e.appid
          ? { store_item_id: e.appid, store_item_type: 0 }
          : e.bundleid
            ? { store_item_id: e.bundleid, store_item_type: 2 }
            : e.packageid
              ? { store_item_id: e.packageid, store_item_type: 1 }
              : {};
      }
      function d(e) {
        let t = {};
        return (
          0 == e.store_item_type && (t.appid = e.store_item_id),
          2 == e.store_item_type && (t.bundleid = e.store_item_id),
          1 == e.store_item_type && (t.packageid = e.store_item_id),
          t
        );
      }
      function u(e) {
        return 0 == e ? 0 : 2 == e ? 2 : 1 == e ? 1 : -1;
      }
      function p(e) {
        return 0 == e.store_item_type
          ? [e.store_item_id, 0]
          : 2 == e.store_item_type
            ? [e.store_item_id, 2]
            : 1 == e.store_item_type
              ? [e.store_item_id, 1]
              : [0, -1];
      }
      function _(e) {
        const t = l.unix(e).tz("America/Los_Angeles").day();
        return g((e -= n.Kp.PerDay * t));
      }
      function g(e) {
        let t = l.unix(e).tz("America/Los_Angeles");
        return (
          t.set({ hour: 10, minute: 0, second: 0, milliseconds: 0 }),
          t.valueOf() / 1e3
        );
      }
      function h(e) {
        let t = { year: void 0, timeZone: "America/Los_Angeles" };
        return (0, r.$z)(e, t);
      }
      function E(e) {
        return "Daily Deal" + (e?.GetName() ? ` - ${e.GetName()}` : "");
      }
      function S(e, t) {
        return `${s.TS.PARTNER_BASE_URL}promotion/discounts${i.o.DiscountDashboard(e ?? "")}?dd=1${t ? `&de=${t}` : ""}`;
      }
    },
    42780: (e, t, a) => {
      "use strict";
      a.d(t, { K0: () => s, OJ: () => l, R8: () => i });
      var n = a(81393),
        r = a(90626);
      class i {
        reactNodes = [];
        AppendText(e, t = !1) {
          e.length &&
            (t
              ? this.reactNodes.push(
                  r.createElement(
                    "span",
                    {
                      "data-copytext": "",
                      "data-copystyle": "merge-adjacent",
                      "bbcode-text": e,
                    },
                    e,
                  ),
                )
              : this.reactNodes.push(e));
        }
        AppendNode(e) {
          this.reactNodes.push(e);
        }
        GetElements() {
          return this.reactNodes;
        }
      }
      class s {
        m_decoratedAccumulator;
        constructor(e) {
          (0, n.w)(e, "decorated accumulator cannot be null"),
            (this.m_decoratedAccumulator = e);
        }
        AppendText(e, t = !1) {
          this.m_decoratedAccumulator.AppendText(e, t);
        }
        AppendNode(e) {
          this.m_decoratedAccumulator.AppendNode(e);
        }
        GetElements() {
          return this.m_decoratedAccumulator.GetElements();
        }
      }
      class l extends s {
        m_nStartCursor = 1;
        constructor(e, t, a) {
          super(e), (this.m_nStartCursor = void 0 !== t ? t : 1);
        }
        AppendText(e) {
          let t = e;
          const a = [];
          for (
            let e = t.indexOf("\n", this.m_nStartCursor);
            -1 !== e;
            e = t.indexOf("\n")
          )
            a.push(t.substr(0, e)),
              a.push(r.createElement("br")),
              (t = t.substr(e + 1));
          t.length && a.push(t),
            a.forEach((e) => {
              super.AppendNode(e);
            });
        }
      }
    },
    52967: (e, t, a) => {
      "use strict";
      a.d(t, { B: () => l });
      var n = a(22837),
        r = a(90626),
        i = a(42780),
        s = a(49693);
      class l extends s.Al {
        m_renderingLanguage;
        constructor(e, t, a) {
          super(e, t ?? (() => new i.R8())),
            (this.m_renderingLanguage =
              "string" == typeof a ? (0, n.sf)(a) : a);
        }
        UpdateOverrideLanguage(e) {
          this.m_renderingLanguage = e;
        }
        ParseBBCode(e, t, a = !1) {
          let n = 0;
          const i = this.Parse(
            e,
            (e, a, ...i) =>
              r.createElement(
                e,
                {
                  ...a,
                  context: t,
                  language: this.m_renderingLanguage,
                  key: "bbnode_" + n++,
                },
                ...i,
              ),
            a,
          );
          return i.length > 1
            ? r.createElement(r.Fragment, null, ...i)
            : 1 == i.length
              ? i[0]
              : null;
        }
      }
    },
    86318: (e, t, a) => {
      "use strict";
      a.d(t, {
        ZI: () => o,
        fX: () => s,
        q_: () => i,
        tG: () => c,
        tH: () => l,
        xv: () => m,
      });
      const n = new (a(60778).wd)("GR");
      function r(e) {
        return (...t) => {
          const a = `[${(performance.now() / 1e3).toFixed(3)}]`;
          e(a, ...t);
        };
      }
      const i = r(n.Debug),
        s = r(n.Info),
        l = r(n.Warning),
        o = r(n.Error),
        c = i;
      function m() {
        return n.IsDebugEnabled();
      }
    },
    83935: (e, t, a) => {
      "use strict";
      a.d(t, { GB: () => j, a9: () => n, l3: () => L });
      var n,
        r = a(80613),
        i = a.n(r),
        s = a(89068),
        l = a(56545);
      class o extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            o.prototype.steamid || s.Sg(o.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            o.sm_m ||
              (o.sm_m = {
                proto: o,
                fields: {
                  steamid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            o.sm_m
          );
        }
        static MBF() {
          return o.sm_mbf || (o.sm_mbf = s.w0(o.M())), o.sm_mbf;
        }
        toObject(e = !1) {
          return o.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(o.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(o.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new o();
          return o.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(o.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return o.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(o.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return o.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetSummary_Request";
        }
      }
      class c extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            c.prototype.summary || s.Sg(c.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            c.sm_m ||
              (c.sm_m = {
                proto: c,
                fields: {
                  summary: { n: 1, c: m },
                  timestamp_updated: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  auditid_highwater: {
                    n: 3,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                },
              }),
            c.sm_m
          );
        }
        static MBF() {
          return c.sm_mbf || (c.sm_mbf = s.w0(c.M())), c.sm_mbf;
        }
        toObject(e = !1) {
          return c.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(c.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(c.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new c();
          return c.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(c.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(c.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetSummary_Response";
        }
      }
      class m extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.points || s.Sg(m.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  points: {
                    n: 1,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  points_earned: {
                    n: 2,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  points_spent: {
                    n: 3,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = s.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetSummary_Response_Summary";
        }
      }
      class d extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.amount || s.Sg(d.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  amount: {
                    n: 1,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  ecurrency: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = s.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetPointsForSpend_Request";
        }
      }
      class u extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.points || s.Sg(u.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  points: {
                    n: 1,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = s.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetPointsForSpend_Response";
        }
      }
      class p extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.defid || s.Sg(p.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  defid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  expected_points_cost: {
                    n: 2,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = s.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPoints_Request";
        }
      }
      class _ extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.defid || s.Sg(_.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  defid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  num_levels: {
                    n: 2,
                    d: 1,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = s.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsForBadgeLevel_Request";
        }
      }
      class g extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.defid || s.Sg(g.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  defid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  communityitemid: {
                    n: 2,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = s.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsToUpgradeItem_Request";
        }
      }
      class h extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.communityitemid || s.Sg(h.M()),
            r.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  communityitemid: {
                    n: 1,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  bundle_community_item_ids: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint64String,
                    pbr: s.qM.readPackedUint64String,
                    bw: s.gp.writeRepeatedUint64String,
                  },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = s.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPoints_Response";
        }
      }
      class E extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.customization_type || s.Sg(E.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  customization_type: {
                    n: 1,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = s.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsForProfileCustomization_Request";
        }
      }
      class S extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.purchaseid || s.Sg(S.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  purchaseid: {
                    n: 1,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = s.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsForProfileCustomization_Response";
        }
      }
      class y extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.customization_type || s.Sg(y.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  customization_type: {
                    n: 1,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                  new_level: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = s.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsForProfileCustomizationUpgrade_Request";
        }
      }
      class v extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new v();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RedeemPointsForProfileCustomizationUpgrade_Response";
        }
      }
      class f extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.serial_number || s.Sg(f.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  serial_number: {
                    n: 1,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  controller_code: {
                    n: 2,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = s.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RegisterForSteamDeckRewards_Request";
        }
      }
      class b extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.granted_profile_modifier || s.Sg(b.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: {
                  granted_profile_modifier: {
                    n: 1,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = s.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_RegisterForSteamDeckRewards_Response";
        }
      }
      class w extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.target_type || s.Sg(w.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  target_type: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  targetid: {
                    n: 2,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  reactionid: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = s.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_AddReaction_Request";
        }
      }
      class D extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new D();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_AddReaction_Response";
        }
      }
      class C extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.target_type || s.Sg(C.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: {
                  target_type: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  targetid: {
                    n: 2,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = s.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactions_Request";
        }
      }
      class I extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.reactionids || s.Sg(I.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: {
                  reactionids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = s.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactions_Response";
        }
      }
      class B extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.steamid || s.Sg(B.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: {
                  steamid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = s.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new B();
          return B.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionsSummaryForUser_Request";
        }
      }
      class T extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            T.prototype.total || s.Sg(T.M()),
            r.Message.initialize(this, e, 0, -1, [1, 2, 3, 4, 5, 6], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            T.sm_m ||
              (T.sm_m = {
                proto: T,
                fields: {
                  total: { n: 1, c: M, r: !0, q: !0 },
                  user_reviews: { n: 2, c: M, r: !0, q: !0 },
                  ugc: { n: 3, c: M, r: !0, q: !0 },
                  profile: { n: 4, c: M, r: !0, q: !0 },
                  forum_topics: { n: 5, c: M, r: !0, q: !0 },
                  comments: { n: 6, c: M, r: !0, q: !0 },
                  total_given: {
                    n: 7,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  total_received: {
                    n: 8,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  total_points_given: {
                    n: 9,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  total_points_received: {
                    n: 10,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            T.sm_m
          );
        }
        static MBF() {
          return T.sm_mbf || (T.sm_mbf = s.w0(T.M())), T.sm_mbf;
        }
        toObject(e = !1) {
          return T.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(T.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(T.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new T();
          return T.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(T.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(T.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionsSummaryForUser_Response";
        }
      }
      class M extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            M.prototype.reactionid || s.Sg(M.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            M.sm_m ||
              (M.sm_m = {
                proto: M,
                fields: {
                  reactionid: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  given: { n: 2, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  received: { n: 3, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  points_given: {
                    n: 4,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  points_received: {
                    n: 5,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            M.sm_m
          );
        }
        static MBF() {
          return M.sm_mbf || (M.sm_mbf = s.w0(M.M())), M.sm_mbf;
        }
        toObject(e = !1) {
          return M.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(M.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(M.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new M();
          return M.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(M.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(M.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionsSummaryForUser_Response_Breakdown";
        }
      }
      class A extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return A.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new A();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new A();
          return A.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionConfig_Request";
        }
      }
      class k extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            k.prototype.reactions || s.Sg(k.M()),
            r.Message.initialize(this, e, 0, -1, [3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            k.sm_m ||
              (k.sm_m = {
                proto: k,
                fields: { reactions: { n: 3, c: R, r: !0, q: !0 } },
              }),
            k.sm_m
          );
        }
        static MBF() {
          return k.sm_mbf || (k.sm_mbf = s.w0(k.M())), k.sm_mbf;
        }
        toObject(e = !1) {
          return k.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(k.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(k.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new k();
          return k.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(k.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(k.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionConfig_Response";
        }
      }
      class R extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            R.prototype.reactionid || s.Sg(R.M()),
            r.Message.initialize(this, e, 0, -1, [4, 5], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            R.sm_m ||
              (R.sm_m = {
                proto: R,
                fields: {
                  reactionid: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  points_cost: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  points_transferred: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  valid_target_types: {
                    n: 4,
                    r: !0,
                    q: !0,
                    br: s.qM.readEnum,
                    pbr: s.qM.readPackedEnum,
                    bw: s.gp.writeRepeatedEnum,
                  },
                  valid_ugc_types: {
                    n: 5,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                },
              }),
            R.sm_m
          );
        }
        static MBF() {
          return R.sm_mbf || (R.sm_mbf = s.w0(R.M())), R.sm_mbf;
        }
        toObject(e = !1) {
          return R.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(R.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(R.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new R();
          return R.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(R.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(R.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetReactionConfig_Response_ReactionConfig";
        }
      }
      class P extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return P.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new P();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new P();
          return P.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetProfileCustomizationsConfig_Request";
        }
      }
      class N extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            N.prototype.points_cost || s.Sg(N.M()),
            r.Message.initialize(this, e, 0, -1, [3, 4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            N.sm_m ||
              (N.sm_m = {
                proto: N,
                fields: {
                  points_cost: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  upgrade_points_cost: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  purchasable_customization_types: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: s.qM.readEnum,
                    pbr: s.qM.readPackedEnum,
                    bw: s.gp.writeRepeatedEnum,
                  },
                  upgradable_customization_types: {
                    n: 4,
                    r: !0,
                    q: !0,
                    br: s.qM.readEnum,
                    pbr: s.qM.readPackedEnum,
                    bw: s.gp.writeRepeatedEnum,
                  },
                  max_slots_per_type: {
                    n: 5,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  max_upgradable_level: {
                    n: 6,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            N.sm_m
          );
        }
        static MBF() {
          return N.sm_mbf || (N.sm_mbf = s.w0(N.M())), N.sm_mbf;
        }
        toObject(e = !1) {
          return N.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(N.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(N.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new N();
          return N.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(N.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(N.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetProfileCustomizationsConfig_Response";
        }
      }
      class G extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return G.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new G();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new G();
          return G.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetEligibleApps_Request";
        }
      }
      class O extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            O.prototype.apps || s.Sg(O.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            O.sm_m ||
              (O.sm_m = {
                proto: O,
                fields: { apps: { n: 1, c: F, r: !0, q: !0 } },
              }),
            O.sm_m
          );
        }
        static MBF() {
          return O.sm_mbf || (O.sm_mbf = s.w0(O.M())), O.sm_mbf;
        }
        toObject(e = !1) {
          return O.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(O.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(O.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new O();
          return O.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(O.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(O.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetEligibleApps_Response";
        }
      }
      class F extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            F.prototype.appid || s.Sg(F.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            F.sm_m ||
              (F.sm_m = {
                proto: F,
                fields: {
                  appid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  has_items_anyone_can_purchase: {
                    n: 2,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  event_app: { n: 3, br: s.qM.readBool, bw: s.gp.writeBool },
                  hero_carousel_image: {
                    n: 4,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  owned: { n: 5, br: s.qM.readBool, bw: s.gp.writeBool },
                },
              }),
            F.sm_m
          );
        }
        static MBF() {
          return F.sm_mbf || (F.sm_mbf = s.w0(F.M())), F.sm_mbf;
        }
        toObject(e = !1) {
          return F.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(F.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(F.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new F();
          return F.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(F.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(F.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetEligibleApps_Response_EligibleApp";
        }
      }
      class L extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            L.prototype.appid || s.Sg(L.M()),
            r.Message.initialize(this, e, 0, -1, [15], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            L.sm_m ||
              (L.sm_m = {
                proto: L,
                fields: {
                  appid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  defid: { n: 2, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  type: { n: 3, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  community_item_class: {
                    n: 4,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  community_item_type: {
                    n: 5,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  point_cost: {
                    n: 6,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  timestamp_created: {
                    n: 7,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_updated: {
                    n: 8,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_available: {
                    n: 9,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_available_end: {
                    n: 14,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  quantity: {
                    n: 10,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  internal_description: {
                    n: 11,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  active: { n: 12, br: s.qM.readBool, bw: s.gp.writeBool },
                  community_item_data: { n: 13, c: U },
                  bundle_defids: {
                    n: 15,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  usable_duration: {
                    n: 16,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  bundle_discount: {
                    n: 17,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_free_until: {
                    n: 18,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            L.sm_m
          );
        }
        static MBF() {
          return L.sm_mbf || (L.sm_mbf = s.w0(L.M())), L.sm_mbf;
        }
        toObject(e = !1) {
          return L.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(L.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(L.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new L();
          return L.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(L.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(L.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "LoyaltyRewardDefinition";
        }
      }
      class U extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            U.prototype.item_name || s.Sg(U.M()),
            r.Message.initialize(this, e, 0, -1, [9], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            U.sm_m ||
              (U.sm_m = {
                proto: U,
                fields: {
                  item_name: {
                    n: 1,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_title: {
                    n: 2,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_description: {
                    n: 3,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_image_small: {
                    n: 4,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_image_large: {
                    n: 5,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_webm: {
                    n: 6,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_mp4: {
                    n: 7,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_webm_small: {
                    n: 10,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_mp4_small: {
                    n: 11,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  animated: { n: 8, br: s.qM.readBool, bw: s.gp.writeBool },
                  badge_data: { n: 9, c: z, r: !0, q: !0 },
                  profile_theme_id: {
                    n: 12,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  tiled: { n: 13, br: s.qM.readBool, bw: s.gp.writeBool },
                },
              }),
            U.sm_m
          );
        }
        static MBF() {
          return U.sm_mbf || (U.sm_mbf = s.w0(U.M())), U.sm_mbf;
        }
        toObject(e = !1) {
          return U.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(U.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(U.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new U();
          return U.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(U.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(U.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "LoyaltyRewardDefinition_CommunityItemData";
        }
      }
      class z extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            z.prototype.level || s.Sg(z.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            z.sm_m ||
              (z.sm_m = {
                proto: z,
                fields: {
                  level: { n: 1, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  image: { n: 2, br: s.qM.readString, bw: s.gp.writeString },
                },
              }),
            z.sm_m
          );
        }
        static MBF() {
          return z.sm_mbf || (z.sm_mbf = s.w0(z.M())), z.sm_mbf;
        }
        toObject(e = !1) {
          return z.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(z.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new z();
          return z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(z.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "LoyaltyRewardDefinition_BadgeData";
        }
      }
      class x extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            x.prototype.bonusid || s.Sg(x.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            x.sm_m ||
              (x.sm_m = {
                proto: x,
                fields: {
                  bonusid: {
                    n: 1,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  appid: { n: 2, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  active: { n: 3, br: s.qM.readBool, bw: s.gp.writeBool },
                  points: { n: 4, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  timestamp_start: {
                    n: 5,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_end: {
                    n: 6,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  internal_description: {
                    n: 7,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            x.sm_m
          );
        }
        static MBF() {
          return x.sm_mbf || (x.sm_mbf = s.w0(x.M())), x.sm_mbf;
        }
        toObject(e = !1) {
          return x.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(x.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(x.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new x();
          return x.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(x.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(x.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "LoyaltyRewardPurchaseBonus";
        }
      }
      class q extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return q.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new q();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new q();
          return q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetActivePurchaseBonuses_Request";
        }
      }
      class W extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            W.prototype.bonuses || s.Sg(W.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            W.sm_m ||
              (W.sm_m = {
                proto: W,
                fields: { bonuses: { n: 1, c: x, r: !0, q: !0 } },
              }),
            W.sm_m
          );
        }
        static MBF() {
          return W.sm_mbf || (W.sm_mbf = s.w0(W.M())), W.sm_mbf;
        }
        toObject(e = !1) {
          return W.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(W.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(W.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new W();
          return W.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(W.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(W.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetActivePurchaseBonuses_Response";
        }
      }
      class j extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            j.prototype.appids || s.Sg(j.M()),
            r.Message.initialize(
              this,
              e,
              0,
              -1,
              [1, 3, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20],
              null,
            );
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            j.sm_m ||
              (j.sm_m = {
                proto: j,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  time_available: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  community_item_classes: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: s.qM.readInt32,
                    pbr: s.qM.readPackedInt32,
                    bw: s.gp.writeRepeatedInt32,
                  },
                  language: { n: 4, br: s.qM.readString, bw: s.gp.writeString },
                  count: { n: 5, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  cursor: { n: 6, br: s.qM.readString, bw: s.gp.writeString },
                  sort: { n: 7, d: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  sort_descending: {
                    n: 8,
                    d: !0,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  reward_types: {
                    n: 9,
                    r: !0,
                    q: !0,
                    br: s.qM.readEnum,
                    pbr: s.qM.readPackedEnum,
                    bw: s.gp.writeRepeatedEnum,
                  },
                  excluded_community_item_classes: {
                    n: 10,
                    r: !0,
                    q: !0,
                    br: s.qM.readInt32,
                    pbr: s.qM.readPackedInt32,
                    bw: s.gp.writeRepeatedInt32,
                  },
                  definitionids: {
                    n: 11,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  filters: {
                    n: 12,
                    r: !0,
                    q: !0,
                    br: s.qM.readEnum,
                    pbr: s.qM.readPackedEnum,
                    bw: s.gp.writeRepeatedEnum,
                  },
                  filter_match_all_category_tags: {
                    n: 13,
                    r: !0,
                    q: !0,
                    br: s.qM.readString,
                    bw: s.gp.writeRepeatedString,
                  },
                  filter_match_any_category_tags: {
                    n: 14,
                    r: !0,
                    q: !0,
                    br: s.qM.readString,
                    bw: s.gp.writeRepeatedString,
                  },
                  contains_definitionids: {
                    n: 15,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  include_direct_purchase_disabled: {
                    n: 16,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  excluded_content_descriptors: {
                    n: 17,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  excluded_appids: {
                    n: 18,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  excluded_store_tagids: {
                    n: 19,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  store_tagids: {
                    n: 20,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                  search_term: {
                    n: 21,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            j.sm_m
          );
        }
        static MBF() {
          return j.sm_mbf || (j.sm_mbf = s.w0(j.M())), j.sm_mbf;
        }
        toObject(e = !1) {
          return j.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(j.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(j.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new j();
          return j.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(j.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(j.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_QueryRewardItems_Request";
        }
      }
      class H extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            H.prototype.definitions || s.Sg(H.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            H.sm_m ||
              (H.sm_m = {
                proto: H,
                fields: {
                  definitions: { n: 1, c: L, r: !0, q: !0 },
                  total_count: {
                    n: 2,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  count: { n: 3, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  next_cursor: {
                    n: 4,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            H.sm_m
          );
        }
        static MBF() {
          return H.sm_mbf || (H.sm_mbf = s.w0(H.M())), H.sm_mbf;
        }
        toObject(e = !1) {
          return H.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(H.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(H.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new H();
          return H.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(H.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(H.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_QueryRewardItems_Response";
        }
      }
      class V extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            V.prototype.requests || s.Sg(V.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            V.sm_m ||
              (V.sm_m = {
                proto: V,
                fields: { requests: { n: 1, c: j, r: !0, q: !0 } },
              }),
            V.sm_m
          );
        }
        static MBF() {
          return V.sm_mbf || (V.sm_mbf = s.w0(V.M())), V.sm_mbf;
        }
        toObject(e = !1) {
          return V.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(V.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(V.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new V();
          return V.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(V.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(V.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_BatchedQueryRewardItems_Request";
        }
      }
      class K extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            K.prototype.responses || s.Sg(K.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            K.sm_m ||
              (K.sm_m = {
                proto: K,
                fields: { responses: { n: 1, c: Y, r: !0, q: !0 } },
              }),
            K.sm_m
          );
        }
        static MBF() {
          return K.sm_mbf || (K.sm_mbf = s.w0(K.M())), K.sm_mbf;
        }
        toObject(e = !1) {
          return K.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(K.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(K.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new K();
          return K.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(K.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(K.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_BatchedQueryRewardItems_Response";
        }
      }
      class Y extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Y.prototype.eresult || s.Sg(Y.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Y.sm_m ||
              (Y.sm_m = {
                proto: Y,
                fields: {
                  eresult: { n: 1, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  response: { n: 2, c: H },
                },
              }),
            Y.sm_m
          );
        }
        static MBF() {
          return Y.sm_mbf || (Y.sm_mbf = s.w0(Y.M())), Y.sm_mbf;
        }
        toObject(e = !1) {
          return Y.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(Y.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(Y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new Y();
          return Y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(Y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(Y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_BatchedQueryRewardItems_Response_Response";
        }
      }
      class $ extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $.prototype.steamid || s.Sg($.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $.sm_m ||
              ($.sm_m = {
                proto: $,
                fields: {
                  steamid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  language: { n: 2, br: s.qM.readString, bw: s.gp.writeString },
                },
              }),
            $.sm_m
          );
        }
        static MBF() {
          return $.sm_mbf || ($.sm_mbf = s.w0($.M())), $.sm_mbf;
        }
        toObject(e = !1) {
          return $.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT($.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq($.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new $();
          return $.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj($.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0($.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetEquippedProfileItems_Request";
        }
      }
      class J extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            J.prototype.active_definitions || s.Sg(J.M()),
            r.Message.initialize(this, e, 0, -1, [1, 2, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            J.sm_m ||
              (J.sm_m = {
                proto: J,
                fields: {
                  active_definitions: { n: 1, c: L, r: !0, q: !0 },
                  inactive_definitions: { n: 2, c: L, r: !0, q: !0 },
                  bundle_definitions: { n: 3, c: L, r: !0, q: !0 },
                },
              }),
            J.sm_m
          );
        }
        static MBF() {
          return J.sm_mbf || (J.sm_mbf = s.w0(J.M())), J.sm_mbf;
        }
        toObject(e = !1) {
          return J.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(J.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(J.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new J();
          return J.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(J.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(J.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CLoyaltyRewards_GetEquippedProfileItems_Response";
        }
      }
      !(function (e) {
        (e.GetPointsForSpend = function (e, t) {
          return e.SendMsg(
            "LoyaltyRewards.GetPointsForSpend#1",
            (0, l.I8)(d, t),
            u,
            { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
          );
        }),
          (e.GetSummary = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetSummary#1",
              (0, l.I8)(o, t),
              c,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.RedeemPoints = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RedeemPoints#1",
              (0, l.I8)(p, t),
              h,
              { ePrivilege: 1 },
            );
          }),
          (e.RedeemPointsForBadgeLevel = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RedeemPointsForBadgeLevel#1",
              (0, l.I8)(_, t),
              h,
              { ePrivilege: 1 },
            );
          }),
          (e.RedeemPointsToUpgradeItem = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RedeemPointsToUpgradeItem#1",
              (0, l.I8)(g, t),
              h,
              { ePrivilege: 1 },
            );
          }),
          (e.RedeemPointsForProfileCustomization = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RedeemPointsForProfileCustomization#1",
              (0, l.I8)(E, t),
              S,
              { ePrivilege: 1 },
            );
          }),
          (e.RedeemPointsForProfileCustomizationUpgrade = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RedeemPointsForProfileCustomizationUpgrade#1",
              (0, l.I8)(y, t),
              v,
              { ePrivilege: 1 },
            );
          }),
          (e.RegisterForSteamDeckRewards = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.RegisterForSteamDeckRewards#1",
              (0, l.I8)(f, t),
              b,
              { ePrivilege: 1 },
            );
          }),
          (e.AddReaction = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.AddReaction#1",
              (0, l.I8)(w, t),
              D,
              { ePrivilege: 1 },
            );
          }),
          (e.GetReactions = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetReactions#1",
              (0, l.I8)(C, t),
              I,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetReactionsSummaryForUser = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetReactionsSummaryForUser#1",
              (0, l.I8)(B, t),
              T,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetReactionConfig = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetReactionConfig#1",
              (0, l.I8)(A, t),
              k,
              { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetProfileCustomizationsConfig = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetProfileCustomizationsConfig#1",
              (0, l.I8)(P, t),
              N,
              { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetEligibleApps = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetEligibleApps#1",
              (0, l.I8)(G, t),
              O,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetActivePurchaseBonuses = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetActivePurchaseBonuses#1",
              (0, l.I8)(q, t),
              W,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.QueryRewardItems = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.QueryRewardItems#1",
              (0, l.I8)(j, t),
              H,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.BatchedQueryRewardItems = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.BatchedQueryRewardItems#1",
              (0, l.I8)(V, t),
              K,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetEquippedProfileItems = function (e, t) {
            return e.SendMsg(
              "LoyaltyRewards.GetEquippedProfileItems#1",
              (0, l.I8)($, t),
              J,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          });
      })(n || (n = {}));
    },
    5864: (e, t, a) => {
      "use strict";
      a.d(t, {
        $q: () => j,
        CS: () => z,
        EO: () => n,
        JE: () => R,
        LK: () => g,
        MG: () => I,
        NI: () => c,
        QG: () => T,
        S4: () => b,
        ZR: () => A,
        cc: () => V,
        ds: () => N,
        e6: () => v,
        hd: () => F,
        tU: () => p,
      });
      var n,
        r = a(80613),
        i = a.n(r),
        s = a(89068),
        l = a(56545),
        o = a(15161);
      class c extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            c.prototype.gid || s.Sg(c.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            c.sm_m ||
              (c.sm_m = {
                proto: c,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  title: { n: 2, br: s.qM.readString, bw: s.gp.writeString },
                  type: { n: 3, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  visibility: { n: 4, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  priority: { n: 5, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  association_type: {
                    n: 6,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                  associated_id: {
                    n: 7,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  associated_name: {
                    n: 8,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  start_date: {
                    n: 9,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  end_date: {
                    n: 10,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  country_allow: {
                    n: 11,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  country_deny: {
                    n: 12,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  ownership_restrictions_overridden: {
                    n: 13,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  must_own_appid: {
                    n: 14,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  must_not_own_appid: {
                    n: 15,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  must_own_packageid: {
                    n: 16,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  must_not_own_packageid: {
                    n: 17,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  must_have_launched_appid: {
                    n: 18,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  additional_restrictions: {
                    n: 19,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  template_type: {
                    n: 20,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  template_vars: {
                    n: 21,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  flags: { n: 22, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  creator_name: {
                    n: 23,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  template_vars_json: {
                    n: 24,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  additional_restrictions_json: {
                    n: 25,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            c.sm_m
          );
        }
        static MBF() {
          return c.sm_mbf || (c.sm_mbf = s.w0(c.M())), c.sm_mbf;
        }
        toObject(e = !1) {
          return c.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(c.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(c.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new c();
          return c.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(c.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(c.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessageProto";
        }
      }
      class m extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.gid || s.Sg(m.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  title: { n: 2, br: s.qM.readString, bw: s.gp.writeString },
                  type: { n: 3, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  associated_item_id: { n: 4, c: o.O4 },
                  associated_item: { n: 5, c: o.vB },
                  associated_name: {
                    n: 6,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  template_type: {
                    n: 10,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  template_vars_json: {
                    n: 11,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = s.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDisplayMarketingMessage";
        }
      }
      class d extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.country || s.Sg(d.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  country: { n: 1, br: s.qM.readString, bw: s.gp.writeString },
                  anonymous_user: {
                    n: 2,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = s.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetActiveMarketingMessages_Request";
        }
      }
      class u extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.messages || s.Sg(u.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  messages: { n: 1, c, r: !0, q: !0 },
                  time_next_message_age: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = s.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetActiveMarketingMessages_Response";
        }
      }
      class p extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.start_past_days || s.Sg(p.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  start_past_days: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  upto_past_days: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = s.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPastMarketingMessages_Request";
        }
      }
      class _ extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.messages || s.Sg(_.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: { messages: { n: 1, c, r: !0, q: !0 } },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = s.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPastMarketingMessages_Response";
        }
      }
      class g extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.include_seen_messages || s.Sg(g.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  include_seen_messages: {
                    n: 1,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  country_code: {
                    n: 2,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  elanguage: { n: 3, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  operating_system: {
                    n: 4,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  client_package_version: {
                    n: 5,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  context: { n: 6, c: o.TS },
                  data_request: { n: 7, c: o.gn },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = s.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessagesForUser_Request";
        }
      }
      class h extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.messages || s.Sg(h.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: { messages: { n: 1, c: E, r: !0, q: !0 } },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = s.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessagesForUser_Response";
        }
      }
      class E extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.already_seen || s.Sg(E.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  already_seen: { n: 1, br: s.qM.readBool, bw: s.gp.writeBool },
                  message: { n: 2, c: m },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = s.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessagesForUser_Response_MarketingMessageForUser";
        }
      }
      class S extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.country_code || s.Sg(S.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  country_code: {
                    n: 2,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  elanguage: { n: 3, br: s.qM.readInt32, bw: s.gp.writeInt32 },
                  operating_system: {
                    n: 4,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  client_package_version: {
                    n: 5,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = s.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_DoesUserHavePendingMarketingMessages_Request";
        }
      }
      class y extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.has_pending_messages || s.Sg(y.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  has_pending_messages: {
                    n: 1,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                  pending_message_count: {
                    n: 2,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = s.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_DoesUserHavePendingMarketingMessages_Response";
        }
      }
      class v extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.gid || s.Sg(v.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  context: { n: 2, c: o.TS },
                  data_request: { n: 3, c: o.gn },
                },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = s.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetDisplayMarketingMessage_Request";
        }
      }
      class f extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.message || s.Sg(f.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = { proto: f, fields: { message: { n: 1, c: m } } }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = s.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetDisplayMarketingMessage_Response";
        }
      }
      class b extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.gid || s.Sg(b.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  display_index: {
                    n: 2,
                    d: 0,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  template_type: {
                    n: 3,
                    d: 0,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = s.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_MarkMessageSeen_Notification";
        }
      }
      class w extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.gid || s.Sg(w.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  display_index: {
                    n: 2,
                    d: 0,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  template_type: {
                    n: 3,
                    d: 0,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                  click_location: {
                    n: 4,
                    d: 0,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = s.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_MarkMessageClicked_Notification";
        }
      }
      class D extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            D.prototype.gid || s.Sg(D.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            D.sm_m ||
              (D.sm_m = {
                proto: D,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            D.sm_m
          );
        }
        static MBF() {
          return D.sm_mbf || (D.sm_mbf = s.w0(D.M())), D.sm_mbf;
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(D.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(D.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(D.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(D.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessage_Request";
        }
      }
      class C extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.message || s.Sg(C.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m || (C.sm_m = { proto: C, fields: { message: { n: 1, c } } }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = s.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessage_Response";
        }
      }
      class I extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.lookup_type || s.Sg(I.M()),
            r.Message.initialize(this, e, 0, -1, [4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: {
                  lookup_type: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  gid: {
                    n: 2,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  message_type: { n: 3, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  gidlist: {
                    n: 4,
                    r: !0,
                    q: !0,
                    br: s.qM.readFixed64String,
                    pbr: s.qM.readPackedFixed64String,
                    bw: s.gp.writeRepeatedFixed64String,
                  },
                  title: { n: 5, br: s.qM.readString, bw: s.gp.writeString },
                },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = s.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_FindMarketingMessages_Request";
        }
      }
      class B extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.messages || s.Sg(B.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: { messages: { n: 1, c, r: !0, q: !0 } },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = s.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new B();
          return B.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_FindMarketingMessages_Response";
        }
      }
      class T extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            T.prototype.message || s.Sg(T.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            T.sm_m ||
              (T.sm_m = {
                proto: T,
                fields: {
                  message: { n: 1, c },
                  from_json: { n: 2, br: s.qM.readBool, bw: s.gp.writeBool },
                },
              }),
            T.sm_m
          );
        }
        static MBF() {
          return T.sm_mbf || (T.sm_mbf = s.w0(T.M())), T.sm_mbf;
        }
        toObject(e = !1) {
          return T.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(T.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(T.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new T();
          return T.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(T.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(T.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_CreateMarketingMessage_Request";
        }
      }
      class M extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            M.prototype.gid || s.Sg(M.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            M.sm_m ||
              (M.sm_m = {
                proto: M,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            M.sm_m
          );
        }
        static MBF() {
          return M.sm_mbf || (M.sm_mbf = s.w0(M.M())), M.sm_mbf;
        }
        toObject(e = !1) {
          return M.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(M.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(M.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new M();
          return M.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(M.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(M.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_CreateMarketingMessage_Response";
        }
      }
      class A extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            A.prototype.gid || s.Sg(A.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            A.sm_m ||
              (A.sm_m = {
                proto: A,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  message: { n: 2, c },
                  from_json: { n: 3, br: s.qM.readBool, bw: s.gp.writeBool },
                },
              }),
            A.sm_m
          );
        }
        static MBF() {
          return A.sm_mbf || (A.sm_mbf = s.w0(A.M())), A.sm_mbf;
        }
        toObject(e = !1) {
          return A.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(A.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(A.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new A();
          return A.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(A.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(A.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_UpdateMarketingMessage_Request";
        }
      }
      class k extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return k.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new k();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new k();
          return k.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_UpdateMarketingMessage_Response";
        }
      }
      class R extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            R.prototype.gid || s.Sg(R.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            R.sm_m ||
              (R.sm_m = {
                proto: R,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            R.sm_m
          );
        }
        static MBF() {
          return R.sm_mbf || (R.sm_mbf = s.w0(R.M())), R.sm_mbf;
        }
        toObject(e = !1) {
          return R.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(R.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(R.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new R();
          return R.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(R.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(R.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_DeleteMarketingMessage_Request";
        }
      }
      class P extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return P.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new P();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new P();
          return P.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_DeleteMarketingMessage_Response";
        }
      }
      class N extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            N.prototype.gid || s.Sg(N.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            N.sm_m ||
              (N.sm_m = {
                proto: N,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            N.sm_m
          );
        }
        static MBF() {
          return N.sm_mbf || (N.sm_mbf = s.w0(N.M())), N.sm_mbf;
        }
        toObject(e = !1) {
          return N.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(N.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(N.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new N();
          return N.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(N.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(N.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessageViewerStats_Request";
        }
      }
      class G extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            G.prototype.rt_time_hour || s.Sg(G.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            G.sm_m ||
              (G.sm_m = {
                proto: G,
                fields: {
                  rt_time_hour: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  seen_count: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  template_type: {
                    n: 3,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                  display_index: {
                    n: 4,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            G.sm_m
          );
        }
        static MBF() {
          return G.sm_mbf || (G.sm_mbf = s.w0(G.M())), G.sm_mbf;
        }
        toObject(e = !1) {
          return G.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(G.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(G.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new G();
          return G.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(G.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(G.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessageHourlyStats";
        }
      }
      class O extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            O.prototype.stats || s.Sg(O.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            O.sm_m ||
              (O.sm_m = {
                proto: O,
                fields: { stats: { n: 1, c: G, r: !0, q: !0 } },
              }),
            O.sm_m
          );
        }
        static MBF() {
          return O.sm_mbf || (O.sm_mbf = s.w0(O.M())), O.sm_mbf;
        }
        toObject(e = !1) {
          return O.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(O.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(O.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new O();
          return O.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(O.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(O.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessageViewerStats_Response";
        }
      }
      class F extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            F.prototype.rt_start_time || s.Sg(F.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            F.sm_m ||
              (F.sm_m = {
                proto: F,
                fields: {
                  rt_start_time: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  rt_end_time: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            F.sm_m
          );
        }
        static MBF() {
          return F.sm_mbf || (F.sm_mbf = s.w0(F.M())), F.sm_mbf;
        }
        toObject(e = !1) {
          return F.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(F.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(F.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new F();
          return F.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(F.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(F.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessagesViewerRangeStats_Request";
        }
      }
      class L extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            L.prototype.stats || s.Sg(L.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            L.sm_m ||
              (L.sm_m = {
                proto: L,
                fields: { stats: { n: 1, c: G, r: !0, q: !0 } },
              }),
            L.sm_m
          );
        }
        static MBF() {
          return L.sm_mbf || (L.sm_mbf = s.w0(L.M())), L.sm_mbf;
        }
        toObject(e = !1) {
          return L.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(L.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(L.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new L();
          return L.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(L.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(L.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessagesViewerRangeStats_Response";
        }
      }
      class U extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            U.prototype.rt_time_hour || s.Sg(U.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            U.sm_m ||
              (U.sm_m = {
                proto: U,
                fields: {
                  rt_time_hour: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  clicked_count: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  display_index: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  template_type: {
                    n: 4,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                  click_location: {
                    n: 5,
                    br: s.qM.readEnum,
                    bw: s.gp.writeEnum,
                  },
                },
              }),
            U.sm_m
          );
        }
        static MBF() {
          return U.sm_mbf || (U.sm_mbf = s.w0(U.M())), U.sm_mbf;
        }
        toObject(e = !1) {
          return U.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(U.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(U.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new U();
          return U.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(U.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(U.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessageClickedHourlyStats";
        }
      }
      class z extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            z.prototype.gid || s.Sg(z.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            z.sm_m ||
              (z.sm_m = {
                proto: z,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            z.sm_m
          );
        }
        static MBF() {
          return z.sm_mbf || (z.sm_mbf = s.w0(z.M())), z.sm_mbf;
        }
        toObject(e = !1) {
          return z.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(z.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new z();
          return z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(z.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessageClickedStats_Request";
        }
      }
      class x extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            x.prototype.stats || s.Sg(x.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            x.sm_m ||
              (x.sm_m = {
                proto: x,
                fields: { stats: { n: 1, c: U, r: !0, q: !0 } },
              }),
            x.sm_m
          );
        }
        static MBF() {
          return x.sm_mbf || (x.sm_mbf = s.w0(x.M())), x.sm_mbf;
        }
        toObject(e = !1) {
          return x.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(x.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(x.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new x();
          return x.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(x.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(x.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetMarketingMessageClickedStats_Response";
        }
      }
      class q extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            q.prototype.partnerid || s.Sg(q.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            q.sm_m ||
              (q.sm_m = {
                proto: q,
                fields: {
                  partnerid: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            q.sm_m
          );
        }
        static MBF() {
          return q.sm_mbf || (q.sm_mbf = s.w0(q.M())), q.sm_mbf;
        }
        toObject(e = !1) {
          return q.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(q.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(q.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new q();
          return q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(q.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(q.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPartnerReadyToPublishMessages_Request";
        }
      }
      class W extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            W.prototype.messages || s.Sg(W.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            W.sm_m ||
              (W.sm_m = {
                proto: W,
                fields: { messages: { n: 1, c: m, r: !0, q: !0 } },
              }),
            W.sm_m
          );
        }
        static MBF() {
          return W.sm_mbf || (W.sm_mbf = s.w0(W.M())), W.sm_mbf;
        }
        toObject(e = !1) {
          return W.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(W.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(W.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new W();
          return W.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(W.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(W.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPartnerReadyToPublishMessages_Response";
        }
      }
      class j extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            j.prototype.gid || s.Sg(j.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            j.sm_m ||
              (j.sm_m = {
                proto: j,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  partnerid: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            j.sm_m
          );
        }
        static MBF() {
          return j.sm_mbf || (j.sm_mbf = s.w0(j.M())), j.sm_mbf;
        }
        toObject(e = !1) {
          return j.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(j.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(j.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new j();
          return j.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(j.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(j.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_PartnerPublishMessage_Request";
        }
      }
      class H extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return H.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new H();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new H();
          return H.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_PartnerPublishMessage_Response";
        }
      }
      class V extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            V.prototype.gid || s.Sg(V.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            V.sm_m ||
              (V.sm_m = {
                proto: V,
                fields: {
                  gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  partnerid: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            V.sm_m
          );
        }
        static MBF() {
          return V.sm_mbf || (V.sm_mbf = s.w0(V.M())), V.sm_mbf;
        }
        toObject(e = !1) {
          return V.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(V.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(V.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new V();
          return V.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(V.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(V.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPartnerMessagePreview_Request";
        }
      }
      class K extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            K.prototype.message || s.Sg(K.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            K.sm_m || (K.sm_m = { proto: K, fields: { message: { n: 1, c } } }),
            K.sm_m
          );
        }
        static MBF() {
          return K.sm_mbf || (K.sm_mbf = s.w0(K.M())), K.sm_mbf;
        }
        toObject(e = !1) {
          return K.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(K.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(K.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new K();
          return K.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(K.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(K.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessages_GetPartnerMessagePreview_Response";
        }
      }
      class Y extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Y.prototype.appids || s.Sg(Y.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Y.sm_m ||
              (Y.sm_m = {
                proto: Y,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                },
              }),
            Y.sm_m
          );
        }
        static MBF() {
          return Y.sm_mbf || (Y.sm_mbf = s.w0(Y.M())), Y.sm_mbf;
        }
        toObject(e = !1) {
          return Y.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(Y.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(Y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new Y();
          return Y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(Y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(Y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessage_GetMarketingMessagesForApps_Request";
        }
      }
      class $ extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $.prototype.messages || s.Sg($.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $.sm_m ||
              ($.sm_m = {
                proto: $,
                fields: { messages: { n: 1, c, r: !0, q: !0 } },
              }),
            $.sm_m
          );
        }
        static MBF() {
          return $.sm_mbf || ($.sm_mbf = s.w0($.M())), $.sm_mbf;
        }
        toObject(e = !1) {
          return $.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT($.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq($.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new $();
          return $.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj($.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0($.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessage_GetMarketingMessagesForApps_Response";
        }
      }
      class J extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            J.prototype.partnerid || s.Sg(J.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            J.sm_m ||
              (J.sm_m = {
                proto: J,
                fields: {
                  partnerid: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            J.sm_m
          );
        }
        static MBF() {
          return J.sm_mbf || (J.sm_mbf = s.w0(J.M())), J.sm_mbf;
        }
        toObject(e = !1) {
          return J.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(J.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(J.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new J();
          return J.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(J.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(J.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessage_GetMarketingMessagesForPartner_Request";
        }
      }
      class X extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            X.prototype.messages || s.Sg(X.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            X.sm_m ||
              (X.sm_m = {
                proto: X,
                fields: { messages: { n: 1, c, r: !0, q: !0 } },
              }),
            X.sm_m
          );
        }
        static MBF() {
          return X.sm_mbf || (X.sm_mbf = s.w0(X.M())), X.sm_mbf;
        }
        toObject(e = !1) {
          return X.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(X.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(X.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new X();
          return X.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(X.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(X.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMarketingMessage_GetMarketingMessagesForPartner_Response";
        }
      }
      !(function (e) {
        (e.GetActiveMarketingMessages = function (e, t) {
          return e.SendMsg(
            "MarketingMessages.GetActiveMarketingMessages#1",
            (0, l.I8)(d, t),
            u,
            { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
          );
        }),
          (e.GetPastMarketingMessages = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetPastMarketingMessages#1",
              (0, l.I8)(p, t),
              _,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.GetMarketingMessagesForUser = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessagesForUser#1",
              (0, l.I8)(g, t),
              h,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.DoesUserHavePendingMarketingMessages = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.DoesUserHavePendingMarketingMessages#1",
              (0, l.I8)(S, t),
              y,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetDisplayMarketingMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetDisplayMarketingMessage#1",
              (0, l.I8)(v, t),
              f,
              { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetDisplayMarketingMessageForUser = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetDisplayMarketingMessageForUser#1",
              (0, l.I8)(v, t),
              f,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetDisplayMarketingMessageAdmin = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetDisplayMarketingMessageAdmin#1",
              (0, l.I8)(v, t),
              f,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.MarkMessageSeen = function (e, t) {
            return e.SendNotification(
              "MarketingMessages.MarkMessageSeen#1",
              (0, l.I8)(b, t),
              { ePrivilege: 1 },
            );
          }),
          (e.MarkMessageClicked = function (e, t) {
            return e.SendNotification(
              "MarketingMessages.MarkMessageClicked#1",
              (0, l.I8)(w, t),
              { ePrivilege: 1 },
            );
          }),
          (e.GetMarketingMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessage#1",
              (0, l.I8)(D, t),
              C,
              { ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.CreateMarketingMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.CreateMarketingMessage#1",
              (0, l.I8)(T, t),
              M,
              { ePrivilege: 4 },
            );
          }),
          (e.UpdateMarketingMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.UpdateMarketingMessage#1",
              (0, l.I8)(A, t),
              k,
              { ePrivilege: 5 },
            );
          }),
          (e.DeleteMarketingMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.DeleteMarketingMessage#1",
              (0, l.I8)(R, t),
              P,
              { ePrivilege: 4 },
            );
          }),
          (e.FindMarketingMessages = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.FindMarketingMessages#1",
              (0, l.I8)(I, t),
              B,
              { ePrivilege: 5 },
            );
          }),
          (e.GetMarketingMessageViewerStats = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessageViewerStats#1",
              (0, l.I8)(N, t),
              O,
              { ePrivilege: 4 },
            );
          }),
          (e.GetMarketingMessagesViewerRangeStats = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessagesViewerRangeStats#1",
              (0, l.I8)(F, t),
              L,
              { ePrivilege: 4 },
            );
          }),
          (e.GetMarketingMessageClickedStats = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessageClickedStats#1",
              (0, l.I8)(z, t),
              x,
              { ePrivilege: 4 },
            );
          }),
          (e.GetPartnerReadyToPublishMessages = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetPartnerReadyToPublishMessages#1",
              (0, l.I8)(q, t),
              W,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          }),
          (e.PublishPartnerMessage = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.PublishPartnerMessage#1",
              (0, l.I8)(j, t),
              H,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          }),
          (e.GetPartnerMessagePreview = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetPartnerMessagePreview#1",
              (0, l.I8)(V, t),
              K,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          }),
          (e.GetMarketingMessagesForPartner = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessagesForPartner#1",
              (0, l.I8)(J, t),
              X,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          }),
          (e.GetMarketingMessagesForApps = function (e, t) {
            return e.SendMsg(
              "MarketingMessages.GetMarketingMessagesForApps#1",
              (0, l.I8)(Y, t),
              $,
              { ePrivilege: 4 },
            );
          });
      })(n || (n = {}));
    },
    33543: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ar: () => Y,
        Bl: () => se,
        DA: () => Te,
        DY: () => p,
        H_: () => y,
        Hd: () => w,
        OH: () => d,
        Qb: () => fe,
        SN: () => f,
        WZ: () => n,
        Yz: () => i,
        b5: () => H,
        hG: () => ye,
        lO: () => Ie,
        n4: () => r,
        o$: () => me,
        p3: () => Ae,
        rL: () => B,
        si: () => we,
        vy: () => E,
        wH: () => g,
        wn: () => m,
      });
      var n,
        r,
        i,
        s = a(80613),
        l = a.n(s),
        o = a(89068),
        c = a(56545);
      class m extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.promotion_id || o.Sg(m.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  admin_jsondata: {
                    n: 2,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  partner_jsondata: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  input_jsondata: {
                    n: 4,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  partner_readonly_jsondata: {
                    n: 10,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  partner_writable_jsondata: {
                    n: 11,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  assets_readonly_jsondata: {
                    n: 12,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  assets_writable_jsondata: {
                    n: 13,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  rtime32_start_time: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime32_end_time: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  partner_id: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  input_access_key: {
                    n: 8,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  last_update_time: {
                    n: 9,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = o.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan";
        }
      }
      class d extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.plan || o.Sg(d.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m || (d.sm_m = { proto: d, fields: { plan: { n: 1, c: m } } }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = o.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_CreatePlan_Request";
        }
      }
      class u extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.promotion_id || o.Sg(u.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  input_access_key: {
                    n: 2,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = o.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_CreatePlan_Response";
        }
      }
      class p extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.plan || o.Sg(p.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  plan: { n: 1, c: m },
                  promotion_id: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = o.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_UpdatePlan_Request";
        }
      }
      class _ extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new _();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_UpdatePlan_Response";
        }
      }
      class g extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.promotion_id || o.Sg(g.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = o.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlan_Request";
        }
      }
      class h extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.plan || o.Sg(h.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m || (h.sm_m = { proto: h, fields: { plan: { n: 1, c: m } } }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = o.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlan_Response";
        }
      }
      class E extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new E();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllActivePlan_Request";
        }
      }
      class S extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.plan || o.Sg(S.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: { plan: { n: 1, c: m, r: !0, q: !0 } },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = o.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllActivePlan_Response";
        }
      }
      class y extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.oldest_rtime || o.Sg(y.M()),
            s.Message.initialize(this, e, 0, -1, [3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  oldest_rtime: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  newest_rtime: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  promotion_types: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: o.qM.readString,
                    bw: o.gp.writeRepeatedString,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = o.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlanCompletedInDateRange_Request";
        }
      }
      class v extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.plans || o.Sg(v.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: { plans: { n: 1, c: m, r: !0, q: !0 } },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = o.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlanCompletedInDateRange_Response";
        }
      }
      class f extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.rtime || o.Sg(f.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  rtime: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  upto_rtime: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = o.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlansUpdatedSince_Request";
        }
      }
      class b extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.plans || o.Sg(b.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: {
                  plans: { n: 1, c: m, r: !0, q: !0 },
                  deleted_plan_ids: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: o.qM.readFixed64String,
                    pbr: o.qM.readPackedFixed64String,
                    bw: o.gp.writeRepeatedFixed64String,
                  },
                },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = o.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlansUpdatedSince_Response";
        }
      }
      class w extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.promotion_id || o.Sg(w.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = o.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_DeletePlan_Request";
        }
      }
      class D extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new D();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_DeletePlan_Response";
        }
      }
      class C extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.token || o.Sg(C.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: {
                  token: { n: 1, br: o.qM.readString, bw: o.gp.writeString },
                },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = o.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SearchPlan_Request";
        }
      }
      class I extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.plan || o.Sg(I.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: { plan: { n: 1, c: m, r: !0, q: !0 } },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = o.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SearchPlan_Response";
        }
      }
      class B extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.appids || o.Sg(B.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                  exclude_sales: {
                    n: 2,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  exclude_direct_featuring: {
                    n: 3,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = o.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new B();
          return B.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllPlansForApps_Request";
        }
      }
      class T extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            T.prototype.plans || o.Sg(T.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            T.sm_m ||
              (T.sm_m = {
                proto: T,
                fields: {
                  plans: { n: 1, c: m, r: !0, q: !0 },
                  apps_included_in_sales: { n: 2, c: M, r: !0, q: !0 },
                },
              }),
            T.sm_m
          );
        }
        static MBF() {
          return T.sm_mbf || (T.sm_mbf = o.w0(T.M())), T.sm_mbf;
        }
        toObject(e = !1) {
          return T.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(T.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(T.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new T();
          return T.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(T.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(T.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllPlansForApps_Response";
        }
      }
      class M extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            M.prototype.appids || o.Sg(M.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            M.sm_m ||
              (M.sm_m = {
                proto: M,
                fields: {
                  appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                  clan_event_gid: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            M.sm_m
          );
        }
        static MBF() {
          return M.sm_mbf || (M.sm_mbf = o.w0(M.M())), M.sm_mbf;
        }
        toObject(e = !1) {
          return M.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(M.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(M.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new M();
          return M.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(M.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(M.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllPlansForApps_Response_CAppIncludedInSales";
        }
      }
      class A extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            A.prototype.partnerid || o.Sg(A.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            A.sm_m ||
              (A.sm_m = {
                proto: A,
                fields: {
                  partnerid: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  start_date: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  end_date: { n: 6, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  show_hidden: { n: 4, br: o.qM.readBool, bw: o.gp.writeBool },
                },
              }),
            A.sm_m
          );
        }
        static MBF() {
          return A.sm_mbf || (A.sm_mbf = o.w0(A.M())), A.sm_mbf;
        }
        toObject(e = !1) {
          return A.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(A.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(A.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new A();
          return A.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(A.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(A.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllPlansForPartner_Request";
        }
      }
      class k extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            k.prototype.plans || o.Sg(k.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            k.sm_m ||
              (k.sm_m = {
                proto: k,
                fields: { plans: { n: 1, c: m, r: !0, q: !0 } },
              }),
            k.sm_m
          );
        }
        static MBF() {
          return k.sm_mbf || (k.sm_mbf = o.w0(k.M())), k.sm_mbf;
        }
        toObject(e = !1) {
          return k.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(k.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(k.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new k();
          return k.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(k.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(k.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAllPlansForPartner_Response";
        }
      }
      class R extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            R.prototype.input_access_key || o.Sg(R.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            R.sm_m ||
              (R.sm_m = {
                proto: R,
                fields: {
                  input_access_key: {
                    n: 1,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            R.sm_m
          );
        }
        static MBF() {
          return R.sm_mbf || (R.sm_mbf = o.w0(R.M())), R.sm_mbf;
        }
        toObject(e = !1) {
          return R.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(R.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(R.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new R();
          return R.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(R.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(R.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlanByInputAccessKey_Request";
        }
      }
      class P extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            P.prototype.plan || o.Sg(P.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            P.sm_m || (P.sm_m = { proto: P, fields: { plan: { n: 1, c: m } } }),
            P.sm_m
          );
        }
        static MBF() {
          return P.sm_mbf || (P.sm_mbf = o.w0(P.M())), P.sm_mbf;
        }
        toObject(e = !1) {
          return P.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(P.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(P.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new P();
          return P.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(P.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(P.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return P.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPlanByInputAccessKey_Response";
        }
      }
      class N extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            N.prototype.promotion_id || o.Sg(N.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            N.sm_m ||
              (N.sm_m = {
                proto: N,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  value: { n: 2, br: o.qM.readBool, bw: o.gp.writeBool },
                },
              }),
            N.sm_m
          );
        }
        static MBF() {
          return N.sm_mbf || (N.sm_mbf = o.w0(N.M())), N.sm_mbf;
        }
        toObject(e = !1) {
          return N.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(N.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(N.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new N();
          return N.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(N.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(N.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return N.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_MarkLocalizationAssetComplete_Request";
        }
      }
      class G extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return G.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new G();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new G();
          return G.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return G.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_MarkLocalizationAssetComplete_Response";
        }
      }
      class O extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            O.prototype.promotion_id || o.Sg(O.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            O.sm_m ||
              (O.sm_m = {
                proto: O,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  notification_type: {
                    n: 2,
                    br: o.qM.readEnum,
                    bw: o.gp.writeEnum,
                  },
                  only_explicit_email_addresses: {
                    n: 3,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            O.sm_m
          );
        }
        static MBF() {
          return O.sm_mbf || (O.sm_mbf = o.w0(O.M())), O.sm_mbf;
        }
        toObject(e = !1) {
          return O.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(O.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(O.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new O();
          return O.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(O.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(O.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return O.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SendNotification_Request";
        }
      }
      class F extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return F.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new F();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new F();
          return F.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return F.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SendNotification_Response";
        }
      }
      class L extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            L.prototype.promotion_id || o.Sg(L.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            L.sm_m ||
              (L.sm_m = {
                proto: L,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  notification_id: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            L.sm_m
          );
        }
        static MBF() {
          return L.sm_mbf || (L.sm_mbf = o.w0(L.M())), L.sm_mbf;
        }
        toObject(e = !1) {
          return L.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(L.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(L.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new L();
          return L.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(L.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(L.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return L.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSentNotification_Request";
        }
      }
      class U extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            U.prototype.results || o.Sg(U.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            U.sm_m ||
              (U.sm_m = {
                proto: U,
                fields: { results: { n: 1, c: z, r: !0, q: !0 } },
              }),
            U.sm_m
          );
        }
        static MBF() {
          return U.sm_mbf || (U.sm_mbf = o.w0(U.M())), U.sm_mbf;
        }
        toObject(e = !1) {
          return U.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(U.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(U.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new U();
          return U.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(U.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(U.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return U.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSentNotification_Response";
        }
      }
      class z extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            z.prototype.notification_id || o.Sg(z.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            z.sm_m ||
              (z.sm_m = {
                proto: z,
                fields: {
                  notification_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  tracking_id: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  email_address: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  accountid: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  status: { n: 5, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  type: { n: 6, br: o.qM.readEnum, bw: o.gp.writeEnum },
                  rt_send_time: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            z.sm_m
          );
        }
        static MBF() {
          return z.sm_mbf || (z.sm_mbf = o.w0(z.M())), z.sm_mbf;
        }
        toObject(e = !1) {
          return z.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(z.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new z();
          return z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(z.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionNotificationResults";
        }
      }
      class x extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            x.prototype.promotion_id || o.Sg(x.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            x.sm_m ||
              (x.sm_m = {
                proto: x,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  notification_id: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            x.sm_m
          );
        }
        static MBF() {
          return x.sm_mbf || (x.sm_mbf = o.w0(x.M())), x.sm_mbf;
        }
        toObject(e = !1) {
          return x.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(x.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(x.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new x();
          return x.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(x.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(x.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return x.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_ResendNotification_Request";
        }
      }
      class q extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return q.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new q();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new q();
          return q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_ResendNotification_Response";
        }
      }
      class W extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            W.prototype.promotion_id || o.Sg(W.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            W.sm_m ||
              (W.sm_m = {
                proto: W,
                fields: {
                  promotion_id: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  add: { n: 2, br: o.qM.readBool, bw: o.gp.writeBool },
                  email_address: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            W.sm_m
          );
        }
        static MBF() {
          return W.sm_mbf || (W.sm_mbf = o.w0(W.M())), W.sm_mbf;
        }
        toObject(e = !1) {
          return W.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(W.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(W.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new W();
          return W.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(W.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(W.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return W.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SetPromotionEmailTarget_Request";
        }
      }
      class j extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return j.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new j();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new j();
          return j.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return j.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_SetPromotionEmailTarget_Response";
        }
      }
      class H extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            H.prototype.clan_account_id || o.Sg(H.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            H.sm_m ||
              (H.sm_m = {
                proto: H,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  clan_event_gid: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  rtime_sale_start: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_sale_end: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  daily_deal_gid: {
                    n: 5,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  promotion_gid: {
                    n: 6,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  create_asset_request: {
                    n: 7,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  partner_id: {
                    n: 8,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  advertising_appid: {
                    n: 9,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            H.sm_m
          );
        }
        static MBF() {
          return H.sm_mbf || (H.sm_mbf = o.w0(H.M())), H.sm_mbf;
        }
        toObject(e = !1) {
          return H.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(H.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(H.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new H();
          return H.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(H.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(H.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return H.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_CreateSalePageForPromo_Request";
        }
      }
      class V extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            V.prototype.clan_account_id || o.Sg(V.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            V.sm_m ||
              (V.sm_m = {
                proto: V,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  clan_event_gid: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  daily_deal_gid: {
                    n: 3,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  promotion_gid: {
                    n: 4,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  asset_request_gid: {
                    n: 5,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  advertising_appid: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            V.sm_m
          );
        }
        static MBF() {
          return V.sm_mbf || (V.sm_mbf = o.w0(V.M())), V.sm_mbf;
        }
        toObject(e = !1) {
          return V.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(V.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(V.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new V();
          return V.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(V.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(V.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return V.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_CreateSalePageForPromo_Response";
        }
      }
      class K extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            K.prototype.total_gross_sales_usdx100 || o.Sg(K.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            K.sm_m ||
              (K.sm_m = {
                proto: K,
                fields: {
                  total_gross_sales_usdx100: {
                    n: 1,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  total_gross_returns_usdx100: {
                    n: 2,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  total_net_tax_usdx100: {
                    n: 3,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_gross_sales_usdx100: {
                    n: 4,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_gross_returns_usdx100: {
                    n: 5,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_net_tax_usdx100: {
                    n: 6,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  in_game_gross_sales_usdx100: {
                    n: 7,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  in_game_gross_returns_usdx100: {
                    n: 8,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  in_game_net_tax_usdx100: {
                    n: 9,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  total_net_sales_usdx100: {
                    n: 10,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_net_sales_usdx100: {
                    n: 11,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  in_game_net_sales_usdx100: {
                    n: 12,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_gross_units_sold: {
                    n: 13,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  steam_gross_units_returned: {
                    n: 14,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                  gross_units_activated: {
                    n: 15,
                    br: o.qM.readInt64String,
                    bw: o.gp.writeInt64String,
                  },
                },
              }),
            K.sm_m
          );
        }
        static MBF() {
          return K.sm_mbf || (K.sm_mbf = o.w0(K.M())), K.sm_mbf;
        }
        toObject(e = !1) {
          return K.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(K.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(K.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new K();
          return K.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(K.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(K.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return K.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_SummarySaleResult";
        }
      }
      class Y extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Y.prototype.promotionids || o.Sg(Y.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Y.sm_m ||
              (Y.sm_m = {
                proto: Y,
                fields: {
                  promotionids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint64String,
                    pbr: o.qM.readPackedUint64String,
                    bw: o.gp.writeRepeatedUint64String,
                  },
                  partnerid: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            Y.sm_m
          );
        }
        static MBF() {
          return Y.sm_mbf || (Y.sm_mbf = o.w0(Y.M())), Y.sm_mbf;
        }
        toObject(e = !1) {
          return Y.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Y.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Y();
          return Y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_GetPromotionPlanSalesDaily_Request";
        }
      }
      class $ extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $.prototype.sales || o.Sg($.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $.sm_m ||
              ($.sm_m = {
                proto: $,
                fields: {
                  sales: { n: 1, c: Q, r: !0, q: !0 },
                  partial_access: {
                    n: 2,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            $.sm_m
          );
        }
        static MBF() {
          return $.sm_mbf || ($.sm_mbf = o.w0($.M())), $.sm_mbf;
        }
        toObject(e = !1) {
          return $.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT($.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq($.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new $();
          return $.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj($.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0($.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return $.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_GetPromotionPlanSalesDaily_Response";
        }
      }
      class J extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            J.prototype.rtime_date || o.Sg(J.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            J.sm_m ||
              (J.sm_m = {
                proto: J,
                fields: {
                  rtime_date: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  date: { n: 2, br: o.qM.readString, bw: o.gp.writeString },
                  summary_sales: { n: 3, c: K },
                },
              }),
            J.sm_m
          );
        }
        static MBF() {
          return J.sm_mbf || (J.sm_mbf = o.w0(J.M())), J.sm_mbf;
        }
        toObject(e = !1) {
          return J.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(J.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(J.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new J();
          return J.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(J.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(J.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return J.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_GetPromotionPlanSalesDaily_Response_DailyPromotionSales";
        }
      }
      class X extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            X.prototype.appid || o.Sg(X.M()),
            s.Message.initialize(this, e, 0, -1, [5], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            X.sm_m ||
              (X.sm_m = {
                proto: X,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  packageid: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  secondary_product_id: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  summary_sales: { n: 4, c: K },
                  daily_promo_sales: { n: 5, c: J, r: !0, q: !0 },
                  package_billing_type: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            X.sm_m
          );
        }
        static MBF() {
          return X.sm_mbf || (X.sm_mbf = o.w0(X.M())), X.sm_mbf;
        }
        toObject(e = !1) {
          return X.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(X.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(X.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new X();
          return X.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(X.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(X.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return X.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_GetPromotionPlanSalesDaily_Response_Product";
        }
      }
      class Q extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Q.prototype.promotionid || o.Sg(Q.M()),
            s.Message.initialize(this, e, 0, -1, [2, 4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Q.sm_m ||
              (Q.sm_m = {
                proto: Q,
                fields: {
                  promotionid: {
                    n: 1,
                    br: o.qM.readUint64String,
                    bw: o.gp.writeUint64String,
                  },
                  daily_promo_sales: { n: 2, c: J, r: !0, q: !0 },
                  summary_sales: { n: 3, c: K },
                  products: { n: 4, c: X, r: !0, q: !0 },
                },
              }),
            Q.sm_m
          );
        }
        static MBF() {
          return Q.sm_mbf || (Q.sm_mbf = o.w0(Q.M())), Q.sm_mbf;
        }
        toObject(e = !1) {
          return Q.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Q.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Q.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Q();
          return Q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Q.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Q.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlan_GetPromotionPlanSalesDaily_Response_PromotionSaleData";
        }
      }
      class Z extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Z.prototype.request_list || o.Sg(Z.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Z.sm_m ||
              (Z.sm_m = {
                proto: Z,
                fields: { request_list: { n: 1, c: ee, r: !0, q: !0 } },
              }),
            Z.sm_m
          );
        }
        static MBF() {
          return Z.sm_mbf || (Z.sm_mbf = o.w0(Z.M())), Z.sm_mbf;
        }
        toObject(e = !1) {
          return Z.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Z.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Z.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Z();
          return Z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Z.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Z.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPromotionPlanForSalePages_Request";
        }
      }
      class ee extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ee.prototype.clan_account_id || o.Sg(ee.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ee.sm_m ||
              (ee.sm_m = {
                proto: ee,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  gid_clan_event: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            ee.sm_m
          );
        }
        static MBF() {
          return ee.sm_mbf || (ee.sm_mbf = o.w0(ee.M())), ee.sm_mbf;
        }
        toObject(e = !1) {
          return ee.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ee.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ee();
          return ee.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPromotionPlanForSalePages_Request_CSalePage";
        }
      }
      class te extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            te.prototype.plans || o.Sg(te.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            te.sm_m ||
              (te.sm_m = {
                proto: te,
                fields: { plans: { n: 1, c: m, r: !0, q: !0 } },
              }),
            te.sm_m
          );
        }
        static MBF() {
          return te.sm_mbf || (te.sm_mbf = o.w0(te.M())), te.sm_mbf;
        }
        toObject(e = !1) {
          return te.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(te.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(te.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new te();
          return te.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(te.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(te.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetPromotionPlanForSalePages_Response";
        }
      }
      class ae extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ae.prototype.rtstart || o.Sg(ae.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ae.sm_m ||
              (ae.sm_m = {
                proto: ae,
                fields: {
                  rtstart: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  rtend: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  include_packages: {
                    n: 3,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  filter_modified_sales_rank: {
                    n: 4,
                    d: !0,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            ae.sm_m
          );
        }
        static MBF() {
          return ae.sm_mbf || (ae.sm_mbf = o.w0(ae.M())), ae.sm_mbf;
        }
        toObject(e = !1) {
          return ae.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ae.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ae.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ae();
          return ae.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ae.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ae.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetUpcomingScheduledDiscounts_Request";
        }
      }
      class ne extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ne.prototype.package_details || o.Sg(ne.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ne.sm_m ||
              (ne.sm_m = {
                proto: ne,
                fields: {
                  package_details: { n: 1, c: re, r: !0, q: !0 },
                  app_details: { n: 2, c: ie, r: !0, q: !0 },
                },
              }),
            ne.sm_m
          );
        }
        static MBF() {
          return ne.sm_mbf || (ne.sm_mbf = o.w0(ne.M())), ne.sm_mbf;
        }
        toObject(e = !1) {
          return ne.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ne.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ne.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ne();
          return ne.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ne.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ne.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetUpcomingScheduledDiscounts_Response";
        }
      }
      class re extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            re.prototype.package_id || o.Sg(re.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            re.sm_m ||
              (re.sm_m = {
                proto: re,
                fields: {
                  package_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_id: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_name: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  discount_percentage: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  original_price_usd: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_price_usd: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_discount_start: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_discount_end: {
                    n: 8,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            re.sm_m
          );
        }
        static MBF() {
          return re.sm_mbf || (re.sm_mbf = o.w0(re.M())), re.sm_mbf;
        }
        toObject(e = !1) {
          return re.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(re.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(re.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new re();
          return re.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(re.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(re.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetUpcomingScheduledDiscounts_Response_CUpcomingPackageDiscountInfo";
        }
      }
      class ie extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ie.prototype.appid || o.Sg(ie.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ie.sm_m ||
              (ie.sm_m = {
                proto: ie,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  cheapest_package_id: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  cheapest_discount_id: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  cheapest_discount_name: {
                    n: 5,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  package_original_price_usd: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discounted_price_usd: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_percentage: {
                    n: 8,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_discount_start: {
                    n: 9,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_discount_end: {
                    n: 10,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  num_discounted_packages: {
                    n: 11,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  modified_sales_rank: {
                    n: 12,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            ie.sm_m
          );
        }
        static MBF() {
          return ie.sm_mbf || (ie.sm_mbf = o.w0(ie.M())), ie.sm_mbf;
        }
        toObject(e = !1) {
          return ie.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ie.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ie.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ie();
          return ie.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ie.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ie.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetUpcomingScheduledDiscounts_Response_CUpcomingAppDiscountInfo";
        }
      }
      class se extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            se.prototype.account_id || o.Sg(se.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            se.sm_m ||
              (se.sm_m = {
                proto: se,
                fields: {
                  account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  include_published: {
                    n: 2,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            se.sm_m
          );
        }
        static MBF() {
          return se.sm_mbf || (se.sm_mbf = o.w0(se.M())), se.sm_mbf;
        }
        toObject(e = !1) {
          return se.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(se.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(se.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new se();
          return se.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(se.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(se.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSalePageCandidatesForPromo_Request";
        }
      }
      class le extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            le.prototype.clans || o.Sg(le.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            le.sm_m ||
              (le.sm_m = {
                proto: le,
                fields: { clans: { n: 1, c: ce, r: !0, q: !0 } },
              }),
            le.sm_m
          );
        }
        static MBF() {
          return le.sm_mbf || (le.sm_mbf = o.w0(le.M())), le.sm_mbf;
        }
        toObject(e = !1) {
          return le.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(le.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(le.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new le();
          return le.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(le.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return le.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(le.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return le.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSalePageCandidatesForPromo_Response";
        }
      }
      class oe extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            oe.prototype.clan_account_id || o.Sg(oe.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            oe.sm_m ||
              (oe.sm_m = {
                proto: oe,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  gid_clan_event: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  name: { n: 3, br: o.qM.readString, bw: o.gp.writeString },
                  published: { n: 4, br: o.qM.readBool, bw: o.gp.writeBool },
                  start_time: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  end_time: { n: 6, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  external_sale_event_type: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            oe.sm_m
          );
        }
        static MBF() {
          return oe.sm_mbf || (oe.sm_mbf = o.w0(oe.M())), oe.sm_mbf;
        }
        toObject(e = !1) {
          return oe.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(oe.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(oe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new oe();
          return oe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(oe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return oe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(oe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return oe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSalePageCandidatesForPromo_Response_salepage";
        }
      }
      class ce extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ce.prototype.clan_account_id || o.Sg(ce.M()),
            s.Message.initialize(this, e, 0, -1, [4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ce.sm_m ||
              (ce.sm_m = {
                proto: ce,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  clan_name: {
                    n: 2,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  is_creator_home: {
                    n: 3,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  sale_pages: { n: 4, c: oe, r: !0, q: !0 },
                },
              }),
            ce.sm_m
          );
        }
        static MBF() {
          return ce.sm_mbf || (ce.sm_mbf = o.w0(ce.M())), ce.sm_mbf;
        }
        toObject(e = !1) {
          return ce.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ce.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ce.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ce();
          return ce.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ce.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ce.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ce.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ce.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetSalePageCandidatesForPromo_Response_clan";
        }
      }
      class me extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            me.prototype.partner_id || o.Sg(me.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            me.sm_m ||
              (me.sm_m = {
                proto: me,
                fields: {
                  partner_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            me.sm_m
          );
        }
        static MBF() {
          return me.sm_mbf || (me.sm_mbf = o.w0(me.M())), me.sm_mbf;
        }
        toObject(e = !1) {
          return me.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(me.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(me.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new me();
          return me.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(me.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return me.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(me.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return me.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAdvertisingAppsForPartner_Request";
        }
      }
      class de extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            de.prototype.advertising_apps || o.Sg(de.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            de.sm_m ||
              (de.sm_m = {
                proto: de,
                fields: { advertising_apps: { n: 1, c: ue, r: !0, q: !0 } },
              }),
            de.sm_m
          );
        }
        static MBF() {
          return de.sm_mbf || (de.sm_mbf = o.w0(de.M())), de.sm_mbf;
        }
        toObject(e = !1) {
          return de.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(de.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(de.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new de();
          return de.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(de.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return de.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(de.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return de.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAdvertisingAppsForPartner_Response";
        }
      }
      class ue extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ue.prototype.appid || o.Sg(ue.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ue.sm_m ||
              (ue.sm_m = {
                proto: ue,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  app_name: { n: 2, br: o.qM.readString, bw: o.gp.writeString },
                  itemid: { n: 3, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                },
              }),
            ue.sm_m
          );
        }
        static MBF() {
          return ue.sm_mbf || (ue.sm_mbf = o.w0(ue.M())), ue.sm_mbf;
        }
        toObject(e = !1) {
          return ue.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ue.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ue.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ue();
          return ue.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ue.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ue.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ue.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ue.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAdvertisingAppsForPartner_Response_advertising_app";
        }
      }
      class pe extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            pe.prototype.publisherid || o.Sg(pe.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            pe.sm_m ||
              (pe.sm_m = {
                proto: pe,
                fields: {
                  publisherid: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtime_start: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            pe.sm_m
          );
        }
        static MBF() {
          return pe.sm_mbf || (pe.sm_mbf = o.w0(pe.M())), pe.sm_mbf;
        }
        toObject(e = !1) {
          return pe.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(pe.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(pe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new pe();
          return pe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(pe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return pe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(pe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return pe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAvailableWeekSlots_Request";
        }
      }
      class _e extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _e.prototype.rt_weeklong_deals || o.Sg(_e.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _e.sm_m ||
              (_e.sm_m = {
                proto: _e,
                fields: {
                  rt_weeklong_deals: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                  rt_weekend_deals: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                },
              }),
            _e.sm_m
          );
        }
        static MBF() {
          return _e.sm_mbf || (_e.sm_mbf = o.w0(_e.M())), _e.sm_mbf;
        }
        toObject(e = !1) {
          return _e.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(_e.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(_e.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new _e();
          return _e.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(_e.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return _e.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(_e.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return _e.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionPlanning_GetAvailableWeekSlots_Response";
        }
      }
      class ge extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ge.prototype.spotlight_due_date || o.Sg(ge.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ge.sm_m ||
              (ge.sm_m = {
                proto: ge,
                fields: {
                  spotlight_due_date: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  marketing_message_due_date: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_event_due_date: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            ge.sm_m
          );
        }
        static MBF() {
          return ge.sm_mbf || (ge.sm_mbf = o.w0(ge.M())), ge.sm_mbf;
        }
        toObject(e = !1) {
          return ge.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ge.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ge.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ge();
          return ge.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ge.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ge.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ge.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ge.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionRequirements";
        }
      }
      class he extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            he.prototype.inviteid || o.Sg(he.M()),
            s.Message.initialize(this, e, 0, -1, [16], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            he.sm_m ||
              (he.sm_m = {
                proto: he,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  appid: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  invite_account: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtinvitetime: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtexpiretime: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  type: { n: 6, br: o.qM.readEnum, bw: o.gp.writeEnum },
                  accept_account: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtaccepttime: {
                    n: 8,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rtdatechosen: {
                    n: 9,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_eventid: {
                    n: 10,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  packageid: {
                    n: 11,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  bundleid: {
                    n: 12,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  primary_partnerid: {
                    n: 13,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  deadlines: { n: 14, c: ge },
                  notify_partner: {
                    n: 15,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  additional_email: {
                    n: 16,
                    r: !0,
                    q: !0,
                    br: o.qM.readString,
                    bw: o.gp.writeRepeatedString,
                  },
                  promotion_id: {
                    n: 17,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  cancelled: { n: 18, br: o.qM.readBool, bw: o.gp.writeBool },
                  rtime32_cancel_time: {
                    n: 19,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  require_sale_page: {
                    n: 20,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                  require_sale_page_type: {
                    n: 21,
                    br: o.qM.readEnum,
                    bw: o.gp.writeEnum,
                  },
                  admin_notes: {
                    n: 22,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  partner_notes: {
                    n: 23,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            he.sm_m
          );
        }
        static MBF() {
          return he.sm_mbf || (he.sm_mbf = o.w0(he.M())), he.sm_mbf;
        }
        toObject(e = !1) {
          return he.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(he.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(he.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new he();
          return he.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(he.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return he.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(he.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return he.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvitation";
        }
      }
      class Ee extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ee.prototype.invite || o.Sg(Ee.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ee.sm_m ||
              (Ee.sm_m = {
                proto: Ee,
                fields: {
                  invite: { n: 1, c: he },
                  queue_email_to_send: {
                    n: 2,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            Ee.sm_m
          );
        }
        static MBF() {
          return Ee.sm_mbf || (Ee.sm_mbf = o.w0(Ee.M())), Ee.sm_mbf;
        }
        toObject(e = !1) {
          return Ee.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Ee.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Ee();
          return Ee.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_SetInvite_Request";
        }
      }
      class Se extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Se.prototype.inviteid || o.Sg(Se.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Se.sm_m ||
              (Se.sm_m = {
                proto: Se,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            Se.sm_m
          );
        }
        static MBF() {
          return Se.sm_mbf || (Se.sm_mbf = o.w0(Se.M())), Se.sm_mbf;
        }
        toObject(e = !1) {
          return Se.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Se.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Se.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Se();
          return Se.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Se.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Se.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Se.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Se.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_SetInvite_Response";
        }
      }
      class ye extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ye.prototype.inviteid || o.Sg(ye.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ye.sm_m ||
              (ye.sm_m = {
                proto: ye,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  appid: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  packageid: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  bundleid: { n: 4, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  partnerid: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  promotion_id: {
                    n: 6,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            ye.sm_m
          );
        }
        static MBF() {
          return ye.sm_mbf || (ye.sm_mbf = o.w0(ye.M())), ye.sm_mbf;
        }
        toObject(e = !1) {
          return ye.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ye.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ye.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ye();
          return ye.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ye.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ye.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ye.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ye.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_GetInvite_Request";
        }
      }
      class ve extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ve.prototype.invites || o.Sg(ve.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ve.sm_m ||
              (ve.sm_m = {
                proto: ve,
                fields: { invites: { n: 1, c: he, r: !0, q: !0 } },
              }),
            ve.sm_m
          );
        }
        static MBF() {
          return ve.sm_mbf || (ve.sm_mbf = o.w0(ve.M())), ve.sm_mbf;
        }
        toObject(e = !1) {
          return ve.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ve.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ve.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ve();
          return ve.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ve.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ve.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ve.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ve.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_GetInvite_Response";
        }
      }
      class fe extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            fe.prototype.inviteid || o.Sg(fe.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            fe.sm_m ||
              (fe.sm_m = {
                proto: fe,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  only_notify_additional_email: {
                    n: 2,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            fe.sm_m
          );
        }
        static MBF() {
          return fe.sm_mbf || (fe.sm_mbf = o.w0(fe.M())), fe.sm_mbf;
        }
        toObject(e = !1) {
          return fe.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(fe.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(fe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new fe();
          return fe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(fe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return fe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(fe.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return fe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_ResendEmailInvite_Request";
        }
      }
      class be extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return be.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new be();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new be();
          return be.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return be.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return be.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_ResendEmailInvite_Response";
        }
      }
      class we extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            we.prototype.inviteid || o.Sg(we.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            we.sm_m ||
              (we.sm_m = {
                proto: we,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            we.sm_m
          );
        }
        static MBF() {
          return we.sm_mbf || (we.sm_mbf = o.w0(we.M())), we.sm_mbf;
        }
        toObject(e = !1) {
          return we.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(we.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(we.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new we();
          return we.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(we.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return we.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(we.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return we.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_GetEmailTargets_Request";
        }
      }
      class De extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            De.prototype.accountid || o.Sg(De.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            De.sm_m ||
              (De.sm_m = {
                proto: De,
                fields: {
                  accountid: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  partnerid: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  email_address: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            De.sm_m
          );
        }
        static MBF() {
          return De.sm_mbf || (De.sm_mbf = o.w0(De.M())), De.sm_mbf;
        }
        toObject(e = !1) {
          return De.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(De.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(De.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new De();
          return De.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(De.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return De.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(De.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return De.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInviteReceive";
        }
      }
      class Ce extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ce.prototype.targets || o.Sg(Ce.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ce.sm_m ||
              (Ce.sm_m = {
                proto: Ce,
                fields: {
                  targets: { n: 1, c: De, r: !0, q: !0 },
                  additional_email_address: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: o.qM.readString,
                    bw: o.gp.writeRepeatedString,
                  },
                  valve_account_ids: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                  operation_email: {
                    n: 4,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            Ce.sm_m
          );
        }
        static MBF() {
          return Ce.sm_mbf || (Ce.sm_mbf = o.w0(Ce.M())), Ce.sm_mbf;
        }
        toObject(e = !1) {
          return Ce.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Ce.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Ce.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Ce();
          return Ce.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Ce.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Ce.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Ce.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Ce.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_GetEmailTargets_Response";
        }
      }
      class Ie extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ie.prototype.inviteid || o.Sg(Ie.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ie.sm_m ||
              (Ie.sm_m = {
                proto: Ie,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  rtdatechosen: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_days: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  discount_info: {
                    n: 4,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  skip_discount_event: {
                    n: 5,
                    br: o.qM.readBool,
                    bw: o.gp.writeBool,
                  },
                },
              }),
            Ie.sm_m
          );
        }
        static MBF() {
          return Ie.sm_mbf || (Ie.sm_mbf = o.w0(Ie.M())), Ie.sm_mbf;
        }
        toObject(e = !1) {
          return Ie.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Ie.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Ie.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Ie();
          return Ie.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Ie.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Ie.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Ie.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Ie.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_AcceptInvite_Request";
        }
      }
      class Be extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Be.prototype.gid || o.Sg(Be.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Be.sm_m ||
              (Be.sm_m = {
                proto: Be,
                fields: {
                  gid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            Be.sm_m
          );
        }
        static MBF() {
          return Be.sm_mbf || (Be.sm_mbf = o.w0(Be.M())), Be.sm_mbf;
        }
        toObject(e = !1) {
          return Be.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Be.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Be.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Be();
          return Be.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Be.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Be.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Be.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Be.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_AcceptInvite_Response";
        }
      }
      class Te extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Te.prototype.inviteid || o.Sg(Te.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Te.sm_m ||
              (Te.sm_m = {
                proto: Te,
                fields: {
                  inviteid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            Te.sm_m
          );
        }
        static MBF() {
          return Te.sm_mbf || (Te.sm_mbf = o.w0(Te.M())), Te.sm_mbf;
        }
        toObject(e = !1) {
          return Te.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Te.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Te.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Te();
          return Te.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Te.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Te.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Te.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Te.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_CancelInvite_Request";
        }
      }
      class Me extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return Me.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new Me();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Me();
          return Me.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Me.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Me.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionEventInvites_CancelInvite_Response";
        }
      }
      class Ae extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ae.prototype.opt_in_name || o.Sg(Ae.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ae.sm_m ||
              (Ae.sm_m = {
                proto: Ae,
                fields: {
                  opt_in_name: {
                    n: 1,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  partner_id: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            Ae.sm_m
          );
        }
        static MBF() {
          return Ae.sm_mbf || (Ae.sm_mbf = o.w0(Ae.M())), Ae.sm_mbf;
        }
        toObject(e = !1) {
          return Ae.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Ae.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Ae.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Ae();
          return Ae.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Ae.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Ae.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Ae.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Ae.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionStats_GetOptInDemoStats_Request";
        }
      }
      class ke extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ke.prototype.stats || o.Sg(ke.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ke.sm_m ||
              (ke.sm_m = {
                proto: ke,
                fields: {
                  stats: { n: 1, c: Re, r: !0, q: !0 },
                  appid_without_permissions: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                },
              }),
            ke.sm_m
          );
        }
        static MBF() {
          return ke.sm_mbf || (ke.sm_mbf = o.w0(ke.M())), ke.sm_mbf;
        }
        toObject(e = !1) {
          return ke.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(ke.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(ke.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new ke();
          return ke.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(ke.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return ke.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(ke.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return ke.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionStats_GetOptInDemoStats_Response";
        }
      }
      class Re extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Re.prototype.appid || o.Sg(Re.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Re.sm_m ||
              (Re.sm_m = {
                proto: Re,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  demo_appid: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rt_start_time: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rt_end_time: {
                    n: 4,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  demo_player_count: {
                    n: 5,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  wishlist_count: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  player_wishlist_count: {
                    n: 7,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  rt_last_update_time: {
                    n: 9,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            Re.sm_m
          );
        }
        static MBF() {
          return Re.sm_mbf || (Re.sm_mbf = o.w0(Re.M())), Re.sm_mbf;
        }
        toObject(e = !1) {
          return Re.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(Re.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(Re.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new Re();
          return Re.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(Re.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return Re.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(Re.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return Re.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPromotionStats_GetOptInDemoStats_Response_PerAppStats";
        }
      }
      !(function (e) {
        (e.CreatePlan = function (e, t) {
          return e.SendMsg(
            "PromotionPlanning.CreatePlan#1",
            (0, c.I8)(d, t),
            u,
            { ePrivilege: 1 },
          );
        }),
          (e.CreateTentativePlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.CreateTentativePlan#1",
              (0, c.I8)(d, t),
              u,
              { ePrivilege: 1 },
            );
          }),
          (e.UpdatePlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.UpdatePlan#1",
              (0, c.I8)(p, t),
              _,
              { ePrivilege: 1 },
            );
          }),
          (e.UpdatePlanPartnerInfo = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.UpdatePlanPartnerInfo#1",
              (0, c.I8)(p, t),
              _,
              { ePrivilege: 1 },
            );
          }),
          (e.UpdatePlanInputData = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.UpdatePlanInputData#1",
              (0, c.I8)(p, t),
              _,
              { ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.DeletePlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.DeletePlan#1",
              (0, c.I8)(w, t),
              D,
              { ePrivilege: 1 },
            );
          }),
          (e.GetPlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPlan#1",
              (0, c.I8)(g, t),
              h,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetAllActivePlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetAllActivePlan#1",
              (0, c.I8)(E, t),
              S,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetPlanCompletedInDateRange = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPlanCompletedInDateRange#1",
              (0, c.I8)(y, t),
              v,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetPlansUpdatedSince = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPlansUpdatedSince#1",
              (0, c.I8)(f, t),
              b,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.SearchPlan = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.SearchPlan#1",
              (0, c.I8)(C, t),
              I,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetAllPlansForApps = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetAllPlansForApps#1",
              (0, c.I8)(B, t),
              T,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.GetAllPlansForPartner = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetAllPlansForPartner#1",
              (0, c.I8)(A, t),
              k,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetPlanByInputAccessKey = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPlanByInputAccessKey#1",
              (0, c.I8)(R, t),
              P,
              { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.MarkLocalizationAssetComplete = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.MarkLocalizationAssetComplete#1",
              (0, c.I8)(N, t),
              G,
              { ePrivilege: 1 },
            );
          }),
          (e.SendNotification = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.SendNotification#1",
              (0, c.I8)(O, t),
              F,
              { ePrivilege: 2, eWebAPIKeyRequirement: 1 },
            );
          }),
          (e.GetSentNotification = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetSentNotification#1",
              (0, c.I8)(L, t),
              U,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.ResendNotification = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.ResendNotification#1",
              (0, c.I8)(x, t),
              q,
              { ePrivilege: 1 },
            );
          }),
          (e.SetPromotionEmailTarget = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.SetPromotionEmailTarget#1",
              (0, c.I8)(W, t),
              j,
              { ePrivilege: 1 },
            );
          }),
          (e.GetPromotionPlanSalesDaily = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPromotionPlanSalesDaily#1",
              (0, c.I8)(Y, t),
              $,
              { bConstMethod: !0, ePrivilege: 8 },
            );
          }),
          (e.GetPromotionPlanForSalePages = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetPromotionPlanForSalePages#1",
              (0, c.I8)(Z, t),
              te,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.CreateSalePageForPromo = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.CreateSalePageForPromo#1",
              (0, c.I8)(H, t),
              V,
              { ePrivilege: 1 },
            );
          }),
          (e.GetUpcomingScheduledDiscounts = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetUpcomingScheduledDiscounts#1",
              (0, c.I8)(ae, t),
              ne,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.GetSalePageCandidatesForPromo = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetSalePageCandidatesForPromo#1",
              (0, c.I8)(se, t),
              le,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetAdvertisingAppsForPartner = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetAdvertisingAppsForPartner#1",
              (0, c.I8)(me, t),
              de,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetAvailableWeekSlots = function (e, t) {
            return e.SendMsg(
              "PromotionPlanning.GetAvailableWeekSlots#1",
              (0, c.I8)(pe, t),
              _e,
              { bConstMethod: !0, ePrivilege: 8 },
            );
          });
      })(n || (n = {})),
        (function (e) {
          (e.SetInvite = function (e, t) {
            return e.SendMsg(
              "PromotionEventInvites.SetInvite#1",
              (0, c.I8)(Ee, t),
              Se,
              { ePrivilege: 4 },
            );
          }),
            (e.GetInvite = function (e, t) {
              return e.SendMsg(
                "PromotionEventInvites.GetInvite#1",
                (0, c.I8)(ye, t),
                ve,
                { bConstMethod: !0, ePrivilege: 1 },
              );
            }),
            (e.AcceptInvite = function (e, t) {
              return e.SendMsg(
                "PromotionEventInvites.AcceptInvite#1",
                (0, c.I8)(Ie, t),
                Be,
                { ePrivilege: 1 },
              );
            }),
            (e.CancelInvite = function (e, t) {
              return e.SendMsg(
                "PromotionEventInvites.CancelInvite#1",
                (0, c.I8)(Te, t),
                Me,
                { ePrivilege: 4 },
              );
            }),
            (e.ResendEmailInvite = function (e, t) {
              return e.SendMsg(
                "PromotionEventInvites.ResendEmailInvite#1",
                (0, c.I8)(fe, t),
                be,
                { ePrivilege: 4 },
              );
            }),
            (e.GetEmailTargets = function (e, t) {
              return e.SendMsg(
                "PromotionEventInvites.GetEmailTargets#1",
                (0, c.I8)(we, t),
                Ce,
                { ePrivilege: 4 },
              );
            });
        })(r || (r = {})),
        (function (e) {
          e.GetOptInDemoStats = function (e, t) {
            return e.SendMsg(
              "PromotionStats.GetOptInDemoStats#1",
              (0, c.I8)(Ae, t),
              ke,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          };
        })(i || (i = {}));
    },
    58222: (e, t, a) => {
      "use strict";
      a.d(t, { cU: () => m, fp: () => g, uy: () => n });
      var n,
        r = a(80613),
        i = a.n(r),
        s = a(89068),
        l = a(56545);
      class o extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            o.prototype.communityitemid || s.Sg(o.M()),
            r.Message.initialize(this, e, 0, -1, [5], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            o.sm_m ||
              (o.sm_m = {
                proto: o,
                fields: {
                  communityitemid: {
                    n: 1,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  item_type: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  appid: { n: 3, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  owner: { n: 4, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  attributes: { n: 5, c, r: !0, q: !0 },
                  used: { n: 6, br: s.qM.readBool, bw: s.gp.writeBool },
                  owner_origin: {
                    n: 7,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  amount: {
                    n: 8,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                },
              }),
            o.sm_m
          );
        }
        static MBF() {
          return o.sm_mbf || (o.sm_mbf = s.w0(o.M())), o.sm_mbf;
        }
        toObject(e = !1) {
          return o.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(o.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(o.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new o();
          return o.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(o.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return o.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(o.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return o.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_CommunityItem";
        }
      }
      class c extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            c.prototype.attributeid || s.Sg(c.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            c.sm_m ||
              (c.sm_m = {
                proto: c,
                fields: {
                  attributeid: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  value: {
                    n: 2,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                },
              }),
            c.sm_m
          );
        }
        static MBF() {
          return c.sm_mbf || (c.sm_mbf = s.w0(c.M())), c.sm_mbf;
        }
        toObject(e = !1) {
          return c.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(c.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(c.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new c();
          return c.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(c.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(c.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_CommunityItem_Attribute";
        }
      }
      class m extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.filter_appids || s.Sg(m.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  filter_appids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: s.qM.readUint32,
                    pbr: s.qM.readPackedUint32,
                    bw: s.gp.writeRepeatedUint32,
                  },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = s.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetCommunityInventory_Request";
        }
      }
      class d extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.items || s.Sg(d.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: { items: { n: 1, c: o, r: !0, q: !0 } },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = s.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetCommunityInventory_Response";
        }
      }
      class u extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.appid || s.Sg(u.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  appid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  item_type: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  language: { n: 4, br: s.qM.readString, bw: s.gp.writeString },
                  broadcast_channel_id: {
                    n: 5,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  keyvalues_as_json: {
                    n: 6,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = s.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetCommunityItemDefinitions_Request";
        }
      }
      class p extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.item_definitions || s.Sg(p.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: { item_definitions: { n: 1, c: _, r: !0, q: !0 } },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = s.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetCommunityItemDefinitions_Response";
        }
      }
      class _ extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.item_type || s.Sg(_.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  item_type: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  appid: { n: 2, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  item_name: {
                    n: 3,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_title: {
                    n: 4,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_description: {
                    n: 5,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_image_small: {
                    n: 6,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_image_large: {
                    n: 7,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_key_values: {
                    n: 8,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_series: {
                    n: 9,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  item_class: {
                    n: 10,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  editor_accountid: {
                    n: 11,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  active: { n: 12, br: s.qM.readBool, bw: s.gp.writeBool },
                  item_image_composed: {
                    n: 13,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_image_composed_foil: {
                    n: 14,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  deleted: { n: 15, br: s.qM.readBool, bw: s.gp.writeBool },
                  item_last_changed: {
                    n: 16,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  broadcast_channel_id: {
                    n: 17,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  item_movie_webm: {
                    n: 18,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_mp4: {
                    n: 19,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_webm_small: {
                    n: 20,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_movie_mp4_small: {
                    n: 21,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                  item_internal_name: {
                    n: 22,
                    br: s.qM.readString,
                    bw: s.gp.writeString,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = s.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetCommunityItemDefinitions_Response_ItemDefinition";
        }
      }
      class g extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.appid || s.Sg(g.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  appid: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  communityitemid: {
                    n: 2,
                    br: s.qM.readUint64String,
                    bw: s.gp.writeUint64String,
                  },
                  activate: { n: 3, br: s.qM.readBool, bw: s.gp.writeBool },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = s.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_ActivateProfileModifierItem_Request";
        }
      }
      class h extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new h();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_ActivateProfileModifierItem_Response";
        }
      }
      class E extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.timestamp_start || s.Sg(E.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  timestamp_start: {
                    n: 1,
                    d: 0,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  timestamp_end: {
                    n: 2,
                    d: 4294967295,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = s.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetNumTradingCardsEarned_Request";
        }
      }
      class S extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.num_trading_cards || s.Sg(S.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  num_trading_cards: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = s.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_GetNumTradingCardsEarned_Response";
        }
      }
      class y extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.eventid || s.Sg(y.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  eventid: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  include_inactive: {
                    n: 2,
                    br: s.qM.readBool,
                    bw: s.gp.writeBool,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = s.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_VirtualItemRewardDefinition_Request";
        }
      }
      class v extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.eventid || s.Sg(v.M()),
            r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: {
                  eventid: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  item_bucket: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  appid: { n: 3, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  active: { n: 4, br: s.qM.readBool, bw: s.gp.writeBool },
                  rarity: { n: 5, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  package_to_grant: {
                    n: 6,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  game_item_id: {
                    n: 7,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  community_item_class: {
                    n: 8,
                    br: s.qM.readInt32,
                    bw: s.gp.writeInt32,
                  },
                  community_item_type: {
                    n: 9,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  loyalty_point_type: {
                    n: 10,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  amount: {
                    n: 11,
                    br: s.qM.readInt64String,
                    bw: s.gp.writeInt64String,
                  },
                  rtime_time_active: {
                    n: 12,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  loyalty_reward_defid: {
                    n: 13,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  user_badge_to_grant: {
                    n: 14,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  user_badge_level: {
                    n: 15,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  virtual_item_def_id: {
                    n: 16,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = s.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CVirtualItemRewardDefinition";
        }
      }
      class f extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.rewards || s.Sg(f.M()),
            r.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: { rewards: { n: 1, c: v, r: !0, q: !0 } },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = s.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_VirtualItemRewardDefinition_Response";
        }
      }
      class b extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.eventid || s.Sg(b.M()),
            r.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: {
                  eventid: { n: 1, br: s.qM.readEnum, bw: s.gp.writeEnum },
                  itemsdefs: { n: 2, c: v, r: !0, q: !0 },
                  action: { n: 3, br: s.qM.readEnum, bw: s.gp.writeEnum },
                },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = s.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_SetVirtualItemRewardDefinition_Request";
        }
      }
      class w extends r.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), r.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new w();
        }
        static deserializeBinary(e) {
          let t = new (i().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (i().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CQuest_SetVirtualItemRewardDefinition_Response";
        }
      }
      !(function (e) {
        (e.GetCommunityInventory = function (e, t) {
          return e.SendMsg(
            "Quest.GetCommunityInventory#1",
            (0, l.I8)(m, t),
            d,
            { bConstMethod: !0, ePrivilege: 1 },
          );
        }),
          (e.GetCommunityItemDefinitions = function (e, t) {
            return e.SendMsg(
              "Quest.GetCommunityItemDefinitions#1",
              (0, l.I8)(u, t),
              p,
              { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 4 },
            );
          }),
          (e.ActivateProfileModifierItem = function (e, t) {
            return e.SendMsg(
              "Quest.ActivateProfileModifierItem#1",
              (0, l.I8)(g, t),
              h,
              { ePrivilege: 1 },
            );
          }),
          (e.GetNumTradingCardsEarned = function (e, t) {
            return e.SendMsg(
              "Quest.GetNumTradingCardsEarned#1",
              (0, l.I8)(E, t),
              S,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetVirtualItemRewardDefinition = function (e, t) {
            return e.SendMsg(
              "Quest.GetVirtualItemRewardDefinition#1",
              (0, l.I8)(y, t),
              f,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.SetVirtualItemRewardDefinition = function (e, t) {
            return e.SendMsg(
              "Quest.SetVirtualItemRewardDefinition#1",
              (0, l.I8)(b, t),
              w,
              { ePrivilege: 4 },
            );
          });
      })(n || (n = {}));
    },
    13555: (e, t, a) => {
      "use strict";
      a.r(t),
        a.d(t, {
          BroadcastDetails: () => ie,
          LinkOverlay: () => le,
          default: () => Y,
        });
      var n = a(34629),
        r = a(14947),
        i = a(75844),
        s = a(90626),
        l = a(88997),
        o = a(55963),
        c = a(54728),
        m = a(82097),
        d = a(81363),
        u = a(68451),
        p = a(16569),
        _ = a(80724),
        g = a(52038);
      const h = 500;
      class E extends s.Component {
        render() {
          let {
            keyExtractor: e,
            style: t,
            duration: a = h,
            className: n,
            children: r,
            childRef: i,
            ...l
          } = this.props;
          const o = { ...(t || {}), transitionDuration: a / 1e3 + "s" };
          return s.createElement(
            p.A,
            { ...l, className: (0, g.A)("crossfade", n) },
            s.createElement(
              _.A,
              {
                nodeRef: i,
                classNames: "crossfade-anim",
                timeout: a,
                key: e(),
                style: o,
              },
              r,
            ),
          );
        }
      }
      function S(e) {
        const { src: t, ...a } = e,
          n = { backgroundImage: `url(${t})` },
          r = s.useRef(null);
        return s.createElement(
          E,
          { style: n, keyExtractor: () => t, childRef: r, ...a },
          s.createElement("div", { ref: r, className: "crossfade-img" }),
        );
      }
      var y = a(79849),
        v = a(69409),
        f = a(81416),
        b = a(12155),
        w = a(51272),
        D = a(6144),
        C = a(56011),
        I = a(61859),
        B = a(82227),
        T = a(61732),
        M = a(73745),
        A = a(78327),
        k = a(3067),
        R = a(36064),
        P = a(15527),
        N = a.n(P),
        G = a(22797);
      function O() {
        return s.createElement(
          "div",
          { className: "STV_ReplayBanner" },
          (0, I.we)("#DASHPlayerControls_IsReplay"),
        );
      }
      const F = (0, i.PA)((e) => {
        let t = e.video;
        if (t && (t.IsBroadcastClip() || t.IsBroadcastVOD())) return null;
        let a = c.fK.Loading,
          n = "";
        if (t) {
          (a = t.GetBroadcastState()), (n = t.GetBroadcastStateDescription());
          let e = t.IsBuffering();
          a == c.fK.Unlocking && ((a = c.fK.Loading), (n = "")),
            a == c.fK.Ready && e && ((a = c.fK.Loading), (n = ""));
        }
        if (t && a != c.fK.Error && t.GetUserInputNeeded()) return null;
        if (a == c.fK.Ready) return null;
        let r = a == c.fK.Loading;
        return s.createElement(
          "div",
          {
            className: "BroadcastVideoWatchState",
            style: { filter: "hue-rotate(40deg)" },
          },
          r && s.createElement(G.t, null),
          !r &&
            s.createElement(
              "div",
              { className: "BroadcastVideoWatchState_Text" },
              n,
            ),
        );
      });
      class L extends s.Component {
        OnClick() {
          c.es.UserInputClickVideo(this.props.video);
        }
        render() {
          return s.createElement(
            "div",
            {
              className: "BroadcastVideoUserInputNeeded",
              onClick: this.OnClick,
            },
            s.createElement(b.jGG, null),
            s.createElement(
              "span",
              null,
              (0, I.we)("#DASHPlayerControls_ClickToPlay"),
            ),
          );
        }
      }
      (0, n.Cg)([M.oI], L.prototype, "OnClick", null);
      let U = class extends s.Component {
        constructor(e) {
          super(e);
        }
        HideStats() {
          this.props.closeStats && this.props.closeStats();
        }
        render() {
          let e = this.props.stats;
          return s.createElement(
            "div",
            { className: "dash_video_stats" },
            s.createElement(
              "button",
              { className: "dash_stat_close_button", onClick: this.HideStats },
              s.createElement(b.sED, null),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_BufferingResolution"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBufferingResolutionToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_PlaybackResolution"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPlaybackResolutionToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_HtmlResolution"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetHTMLVideoResolutionToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_ContentServer"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetContentServerToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_StallEvents"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetStalledEventsToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_FailedDownloads"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetFailedDownloadsToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_TimeToFirstFrame"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetTimeToFirstFrameToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_PlaybackRate"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPlaybackRateForDisplay(),
              ),
            ),
            s.createElement(z, { stats: e }),
          );
        }
      };
      (0, n.Cg)([M.oI], U.prototype, "HideStats", null),
        (U = (0, n.Cg)([i.PA], U));
      let z = class extends s.Component {
        constructor(e) {
          super(e);
        }
        createBufferedRange(e) {
          let t = this.props.stats,
            a = [],
            n = e ? "vidbuf" : "audbuf",
            r = e
              ? t.GetNumBufferedVideoRanges()
              : t.GetNumBufferedAudioRanges();
          if (r > 0)
            for (let i = 0; i < r; ++i) {
              let r = (0, I.we)(
                  e
                    ? "#DASHPlayerStats_VideoBufferRange"
                    : "#DASHPlayerStats_AudioBufferRange",
                  i,
                ),
                l = e
                  ? t.GetBufferedVideoSegmentForDisplay(i)
                  : t.GetBufferedAudioSegmentForDisplay(i);
              a.push(
                s.createElement(
                  "div",
                  { key: n + i },
                  r,
                  " ",
                  s.createElement("span", { className: "videoStatsValue" }, l),
                ),
              );
            }
          else {
            let t = (0, I.we)(
              e
                ? "#DASHPlayerStats_VideoNoRangeInformation"
                : "#DASHPlayerStats_AudioNoRangeInformation",
            );
            a.push(s.createElement("div", { key: n + "none" }, t));
          }
          return a;
        }
        render() {
          let e = this.props.stats;
          return s.createElement(
            "div",
            { className: "dash_video_quick_stats" },
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_BytesReceived"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBytesReceivedToDisplay(),
              ),
            ),
            this.props.stats.BHasFrameInformation() &&
              s.createElement(
                "div",
                null,
                (0, I.we)("#DASHPlayerStats_DroppedFrames"),
                " ",
                s.createElement(
                  "span",
                  { className: "videoStatsValue" },
                  e.GetDroppedFramesToDisplay(),
                ),
              ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_VideoBuffered"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetVideoBufferedToDisplay(),
                " ",
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_AudioBuffered"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetAudioBufferedToDisplay(),
                " ",
              ),
            ),
            this.createBufferedRange(!0),
            this.createBufferedRange(!1),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_BandwidthRequired"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwidthRequiredToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_BandwidthVideo"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwithVideoToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_BandwidthNums"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetBandwidthStatsToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_DownloadNums"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetDownloadTimeStatsToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_ActiveDownloads"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetActiveDownloadsToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_VideoDownloadProgress"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetVideoDownloadProgressToDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_DroppingFrames"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetPersistentFrameDropsForDisplay(),
              ),
            ),
            s.createElement(
              "div",
              null,
              (0, I.we)("#DASHPlayerStats_CurrentFPS"),
              " ",
              s.createElement(
                "span",
                { className: "videoStatsValue" },
                e.GetCurrentFPSForDisplay(),
              ),
            ),
          );
        }
      };
      z = (0, n.Cg)([i.PA], z);
      var x = a(74872);
      class q extends s.Component {
        m_elSettingsButton;
        m_SettingsButtonPos;
        m_elClickListener;
        m_elSettingsPanel;
        m_elSubtitlesButton = s.createRef();
        m_elSubtitlesPanel = s.createRef();
        m_SubtitlesButtonPos;
        constructor(e) {
          super(e), (this.state = { bSettingsOpen: !1, bSubtitlesOpen: !1 });
        }
        OnVideoControlClick(e) {
          this.setState({ bSettingsOpen: !this.state.bSettingsOpen }),
            (this.m_SettingsButtonPos = [
              this.m_elSettingsButton.offsetLeft,
              this.m_elSettingsButton.offsetTop,
            ]),
            (this.m_elClickListener =
              e.currentTarget.ownerDocument.defaultView),
            this.m_elClickListener.addEventListener(
              "mouseup",
              this.OnMouseUp,
              !0,
            );
        }
        OnSubtitlesClick(e) {
          this.setState({ bSubtitlesOpen: !this.state.bSubtitlesOpen }),
            (this.m_SubtitlesButtonPos = [
              this.m_elSubtitlesButton.current.offsetLeft,
              this.m_elSubtitlesButton.current.offsetTop,
            ]),
            (this.m_elClickListener =
              e.currentTarget.ownerDocument.defaultView),
            this.m_elClickListener.addEventListener(
              "mouseup",
              this.OnMouseUp,
              !0,
            );
        }
        OnMouseUp(e) {
          this.m_elClickListener.removeEventListener(
            "mouseup",
            this.OnMouseUp,
            !0,
          ),
            (0, C.id)(this.m_elSettingsPanel, e.target) ||
              this.setState({ bSettingsOpen: !1 }),
            (0, C.id)(this.m_elSubtitlesPanel.current, e.target) ||
              this.setState({ bSubtitlesOpen: !1 });
        }
        bindSettingsButton(e) {
          this.m_elSettingsButton = e;
        }
        BindSettingsPanel(e) {
          this.m_elSettingsPanel = e;
        }
        OnShowStats(e) {
          this.props.onShowStats(e),
            this.setState({ bSettingsOpen: !this.state.bSettingsOpen });
        }
        render() {
          let e = !1,
            t = !1;
          const { video: a, actions: n } = this.props;
          let r,
            i,
            l = 0,
            o = s.createElement("div", {
              key: "separator",
              className: "settingsMenuSeparator",
            });
          if (
            (this.state.bSettingsOpen &&
              ((e = !0),
              (r = this.props.video.GetVideoRepresentations()),
              (i = r.map((e) =>
                s.createElement(
                  x.n,
                  {
                    key: e.id,
                    onClick: () => {
                      this.props.video.SetVideoRepresentation(e),
                        this.setState({
                          bSettingsOpen: !this.state.bSettingsOpen,
                        });
                    },
                    bChecked: e.selected,
                  },
                  e.displayName,
                ),
              )),
              i.push(o),
              i.push(
                s.createElement(
                  x.D,
                  { key: "statsToggle", onClick: this.OnShowStats },
                  (0, I.we)("#Broadcast_VideoContext_ToggleStats"),
                  "\t",
                ),
              ),
              (l = 0 - (21 * i.length + 32))),
            this.state.bSubtitlesOpen)
          ) {
            (t = !0),
              (i = []),
              i.push(
                s.createElement(
                  x.n,
                  {
                    key: "none",
                    onClick: () => {
                      this.props.video.SetSubtitles(null),
                        this.setState({
                          bSubtitlesOpen: !this.state.bSubtitlesOpen,
                        });
                    },
                    className: "NoSubtitles",
                    bChecked: !1,
                  },
                  (0, I.we)("#Broadcast_None"),
                ),
              );
            for (let e = 0; e < this.props.video.ListSubtitles().length; e++) {
              const t = this.props.video.ListSubtitles()[e];
              i.push(
                s.createElement(
                  x.n,
                  {
                    key: t.language,
                    onClick: () => {
                      this.props.video.SetSubtitles(t.language),
                        this.setState({
                          bSubtitlesOpen: !this.state.bSubtitlesOpen,
                        });
                    },
                    bChecked: "showing" === t.mode,
                  },
                  t.label,
                ),
              );
            }
            l = -292;
          }
          const c =
            this.props.video.BHasPlayer() && this.props.video.BHasTimedText();
          return s.createElement(
            "div",
            { className: "STV_BroadcastSettings" },
            c &&
              s.createElement(
                "div",
                {
                  className:
                    "videoControlButton" + (c ? " ClosedCaptionsActive" : ""),
                  onClick: this.OnSubtitlesClick,
                  ref: this.m_elSubtitlesButton,
                },
                s.createElement(b.N8C, null),
              ),
            s.createElement(
              "div",
              {
                className:
                  "videoControlButton VideoSettings " +
                  (e ? " VideoSettingsOpen" : ""),
                onClick: this.OnVideoControlClick,
                ref: this.bindSettingsButton,
              },
              s.createElement(b.wB_, null),
            ),
            s.createElement(W, { video: a }),
            n &&
              n.map((e) =>
                s.createElement(
                  "div",
                  {
                    key: e.key,
                    className: "videoControlButton videoControlFitWidth",
                  },
                  e,
                ),
              ),
            e &&
              s.createElement(
                "div",
                {
                  ref: this.BindSettingsPanel,
                  className: "STV_BroadcastSettingsPanel",
                  style: {
                    left: this.m_SettingsButtonPos[0],
                    top: this.m_SettingsButtonPos[1],
                    marginTop: l,
                  },
                },
                s.createElement(
                  "div",
                  { className: "STV_BroadcastSettingsMenuItems" },
                  i,
                ),
              ),
            t &&
              s.createElement(
                "div",
                {
                  ref: this.m_elSubtitlesPanel,
                  className: "STV_BroadcastSettingsPanel SubtitlesMenu",
                  style: {
                    maxHeight: "260px",
                    left: this.m_SubtitlesButtonPos[0],
                    top: this.m_SubtitlesButtonPos[1],
                    marginTop: l,
                  },
                },
                s.createElement(
                  "div",
                  { className: "STV_BroadcastSettingsMenuItems" },
                  i,
                ),
              ),
          );
        }
      }
      (0, n.Cg)([M.oI], q.prototype, "OnVideoControlClick", null),
        (0, n.Cg)([M.oI], q.prototype, "OnSubtitlesClick", null),
        (0, n.Cg)([M.oI], q.prototype, "OnMouseUp", null),
        (0, n.Cg)([M.oI], q.prototype, "bindSettingsButton", null),
        (0, n.Cg)([M.oI], q.prototype, "BindSettingsPanel", null),
        (0, n.Cg)([M.oI], q.prototype, "OnShowStats", null);
      let W = class extends s.Component {
        constructor(e) {
          super(e), (0, r.Gn)(this);
        }
        k_nHideSliderTimeout = 1500;
        m_bShowSlider = true;
        m_schHideSlider = new D.LU();
        m_bChildDragging = !1;
        m_bMouseOver = !1;
        componentWillUnmount() {
          this.m_schHideSlider.Cancel();
        }
        ToggleMute() {
          let e = this.props.video,
            t = e.IsMuted();
          e.SetMute(!t), e.GetVolume() < 0.01 && e.SetVolume(0.5);
        }
        OnMouseEnter(e) {
          (this.m_bShowSlider = !0),
            (this.m_bMouseOver = !0),
            this.m_schHideSlider.Cancel();
        }
        OnMouseLeave(e) {
          (this.m_bMouseOver = !1), this.ScheduleHide();
        }
        OnChildDrag(e) {
          (this.m_bChildDragging = e), this.ScheduleHide();
        }
        ScheduleHide() {
          this.m_bMouseOver ||
            this.m_bChildDragging ||
            this.m_schHideSlider.Schedule(
              this.k_nHideSliderTimeout,
              () => (this.m_bShowSlider = true),
            );
        }
        render() {
          let e = this.props.video,
            t = e.IsMuted(),
            a = 100 * e.GetVolume(),
            n = "videoControlButton";
          a > 65
            ? (n += " HighestVolume")
            : a > 45
              ? (n += " HighVolume")
              : a < 46 && a > 24
                ? (n += " MedVolume")
                : a < 25 && (n += " LowVolume");
          let r = "BroadcastVolumeControl";
          return (
            this.m_bShowSlider && (r += " ShowVolumeSlider"),
            t && (r += " muted"),
            s.createElement(
              "div",
              {
                className: r,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
              },
              s.createElement(
                "div",
                { className: "BroadcastVolumeControl_FixedLayout" },
                s.createElement(
                  "div",
                  { className: n, onClick: this.ToggleMute },
                  s.createElement(b.fSs, null),
                ),
                s.createElement(j, { video: e, onDrag: this.OnChildDrag }),
              ),
            )
          );
        }
      };
      (0, n.Cg)([r.sH], W.prototype, "m_bShowSlider", void 0),
        (0, n.Cg)([M.oI], W.prototype, "ToggleMute", null),
        (0, n.Cg)([M.oI], W.prototype, "OnMouseEnter", null),
        (0, n.Cg)([M.oI], W.prototype, "OnMouseLeave", null),
        (0, n.Cg)([M.oI], W.prototype, "OnChildDrag", null),
        (W = (0, n.Cg)([i.PA], W));
      let j = class extends s.Component {
        constructor(e) {
          super(e), (0, r.Gn)(this);
        }
        m_elSlider = null;
        m_nVolumeStartOfDrag = 0;
        OnMouseDown(e) {
          let t = e.currentTarget;
          (this.m_elSlider = t),
            (this.m_nVolumeStartOfDrag = this.props.video.GetVolume()),
            this.SetVolumeWithCoord(t, e.clientX),
            t.ownerDocument.defaultView.addEventListener(
              "mousemove",
              this.OnMouseMove,
            ),
            t.ownerDocument.defaultView.addEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            this.props.onDrag(!0);
        }
        OnMouseMove(e) {
          this.m_elSlider &&
            this.SetVolumeWithCoord(this.m_elSlider, e.clientX);
        }
        OnMouseUp(e) {
          if (!this.m_elSlider) return;
          this.SetVolumeWithCoord(this.m_elSlider, e.clientX);
          let t = this.props.video;
          t.IsMuted() && t.SetVolume(this.m_nVolumeStartOfDrag),
            this.m_elSlider.ownerDocument.defaultView.removeEventListener(
              "mousemove",
              this.OnMouseMove,
            ),
            this.m_elSlider.ownerDocument.defaultView.removeEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            (this.m_nVolumeStartOfDrag = 0),
            (this.m_elSlider = null),
            this.props.onDrag(!1);
        }
        SetVolumeWithCoord(e, t) {
          let a = e.getBoundingClientRect(),
            n = T.Fu(t, a.left, a.right, 0, 1),
            r = T.OQ(n, 0, 1),
            i = this.props.video;
          i.SetMute(n < 0.01), i.SetVolume(r);
        }
        render() {
          let e = this.props.video,
            t = 100 * e.GetVolume();
          e.IsMuted() && (t = 0);
          let a = { left: `${t}%` },
            n = { width: `${t}%` };
          return s.createElement(
            "div",
            {
              className: "BroadcastVolumeSlider",
              onMouseDown: this.OnMouseDown,
            },
            s.createElement("div", {
              className: "BroadcastVolumeSlider_Track",
            }),
            s.createElement("div", {
              className: "BroadcastVolumeSlider_Fill",
              style: n,
            }),
            s.createElement("div", {
              className: "BroadcastVolumeSlider_Thumb",
              style: a,
            }),
          );
        }
      };
      (0, n.Cg)([M.oI], j.prototype, "OnMouseDown", null),
        (0, n.Cg)([M.oI], j.prototype, "OnMouseMove", null),
        (0, n.Cg)([M.oI], j.prototype, "OnMouseUp", null),
        (0, n.Cg)([r.XI], j.prototype, "SetVolumeWithCoord", null),
        (j = (0, n.Cg)([i.PA], j));
      var H = a(15759);
      const V = 15;
      let K = class extends s.Component {
        m_schHideControls = new D.LU();
        m_schUnmountControls = new D.LU();
        m_elVideo = null;
        m_elBroadcastPlayer = null;
        m_bMouseDown = !1;
        m_elMouseDown = null;
        m_listeners = new D.Ji();
        constructor(e) {
          super(e),
            (this.state = {
              bMountControls: !1,
              bControlsVisible: !1,
              bShowStats: !1,
              video: null,
              nResizedHeight: null,
              bFullscreen: !1,
            });
        }
        StopVideo() {
          let e = this.state.video;
          e &&
            (c.es.StopVideo(e),
            this.setState({ video: null }),
            this.props.fnSetBroadcastVideo?.(null));
        }
        IsMuted() {
          let e = this.state.video;
          return !e || e.IsMuted();
        }
        StopPlaybackTillUserInput() {
          let e = this.state.video;
          e && e.StopPlaybackTillUserInput();
        }
        componentDidUpdate(e, t) {
          !t.bMountControls && this.state.bMountControls
            ? setTimeout(() => {
                this.setState((e) => ({ bControlsVisible: e.bMountControls }));
              }, 15)
            : t.bControlsVisible &&
              !this.state.bControlsVisible &&
              this.state.video &&
              !this.state.video.IsPaused() &&
              this.m_schUnmountControls.Schedule(2e3, this.UmountControls),
            this.props.steamIDBroadcast !== e.steamIDBroadcast &&
              this.BindVideoRef(this.m_elVideo),
            !this.props.nAppIDVOD ||
              (void 0 !== t.strInitialCapsuleImageUrl &&
                e.nAppIDVOD == this.props.nAppIDVOD) ||
              m.A.Get()
                .QueueAppRequest(this.props.nAppIDVOD, {
                  include_assets: !0,
                  include_trailers: !0,
                })
                .then(() => {
                  const e = m.A.Get().GetApp(this.props.nAppIDVOD),
                    t = e?.GetAssets().GetMainCapsuleURL() || "";
                  this.setState({ strInitialCapsuleImageUrl: t });
                });
        }
        componentWillUnmount() {
          this.m_listeners.Unregister(),
            this.m_schHideControls.Cancel(),
            this.m_schUnmountControls.Cancel(),
            this.StopVideo();
        }
        BindBroadcastPlayerRef(e) {
          this.m_listeners.Unregister(),
            (this.m_elBroadcastPlayer = e),
            e &&
              (this.m_listeners.AddEventListener(
                e,
                "fullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "mozfullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "webkitfullscreenchange",
                this.OnFullscreenChange,
              ),
              this.m_listeners.AddEventListener(
                e,
                "msfullscreenchange",
                this.OnFullscreenChange,
              ));
        }
        BindVideoRef(e) {
          let t;
          this.StopVideo(),
            this.props.steamIDBroadcast
              ? e &&
                (t = c.es.CreateBroadcastVideo(
                  e,
                  this.props.steamIDBroadcast,
                  this.props.watchLocation,
                  this.props.bWebRTC,
                ))
              : this.props.broadcastClipID
                ? e &&
                  (t = c.es.CreateClipVideo(
                    e,
                    this.props.broadcastClipID,
                    this.props.watchLocation,
                  ))
                : this.props.nAppIDVOD &&
                  e &&
                  ((t = c.es.CreateVODVideo(
                    e,
                    this.props.nAppIDVOD,
                    this.props.watchLocation,
                  )),
                  this.props.fnOnVideoEnd &&
                    t.SetOnVideoCallback(this.props.fnOnVideoEnd)),
            t &&
              (this.props.bStartMuted && t.SetMute(!0),
              this.props.bStartWithSubtitles && t.SetStartWithSubtitles(!0),
              this.props.bStartPaused
                ? t.StopPlaybackTillUserInput()
                : t.Play()),
            this.setState({ video: t }),
            this.props.fnSetBroadcastVideo?.(t),
            (this.m_elVideo = e);
        }
        OnMouseDown(e) {
          (this.m_bMouseDown = !0),
            (this.m_elMouseDown = e.currentTarget),
            this.m_elMouseDown.ownerDocument.defaultView.addEventListener(
              "mouseup",
              this.OnMouseUp,
            );
        }
        OnMouseUp(e) {
          (this.m_bMouseDown = !1),
            this.m_elMouseDown.ownerDocument.defaultView.removeEventListener(
              "mouseup",
              this.OnMouseUp,
            ),
            this.m_schHideControls.Schedule(3200, this.HideControls);
        }
        OnMouseMove(e) {
          this.m_schHideControls.Cancel(),
            this.m_schUnmountControls.Cancel(),
            this.state.bMountControls
              ? this.state.bControlsVisible ||
                this.setState({ bControlsVisible: !0 })
              : this.setState({ bMountControls: !0 }),
            this.m_schHideControls.Schedule(3200, this.HideControls);
        }
        OnMouseLeave(e) {
          this.HideControls();
        }
        HideControls() {
          this.state.bControlsVisible &&
            !this.m_bMouseDown &&
            this.setState({ bControlsVisible: !1 });
        }
        UmountControls() {
          this.setState((e) => {
            if (!e.bControlsVisible && e.bMountControls)
              return { bMountControls: !1 };
          });
        }
        ShowStatsView() {
          let e = this.state.video;
          e &&
            (this.state.bShowStats ||
              (this.setState({ bShowStats: !0 }), e.SetStatsViewIsVisible(!0)));
        }
        OnContextMenu(e) {
          this.state.bFullscreen ||
            ((0, l.lX)(
              s.createElement(u.tz, null, this.GetContextMenuItems()),
              e,
            ),
            e.preventDefault());
        }
        ToggleStatsView(e) {
          let t = !this.state.bShowStats;
          this.setState({ bShowStats: t });
          let a = this.state.video;
          a && a.SetStatsViewIsVisible(t);
        }
        ShowStorePage(e) {
          let t = this.state.video;
          if (!t || !this.props.onOpenLinkInNewWindow) return;
          let a = t.GetBroadcastInfo();
          if (!a) return;
          let n = (0, o.k2)(`${A.TS.STORE_BASE_URL}app/${a.m_strAppId}`);
          this.props.onOpenLinkInNewWindow(e, n), e.stopPropagation();
        }
        GetContextMenuItems() {
          let e = [],
            t = this.state.video;
          if (!t) return e;
          let a = t.GetBroadcastInfo();
          return (
            e.push(
              s.createElement(
                u.IK,
                {
                  key: "togglestats",
                  bChecked: this.state.bShowStats,
                  onSelected: (e) => {
                    this.ToggleStatsView(e);
                  },
                },
                (0, I.we)("#Broadcast_VideoContext_ToggleStats"),
              ),
            ),
            a &&
              "0" != a.m_strAppId &&
              Number.parseInt(a.m_strAppId) != c.fO &&
              e.push(
                s.createElement(
                  u.kt,
                  {
                    key: "visitstore",
                    onSelected: (e) => {
                      this.ShowStorePage(e);
                    },
                  },
                  (0, I.we)("#Broadcast_VideoContext_OpenStore"),
                ),
              ),
            e
          );
        }
        CloseStats() {
          let e = this.state.video;
          e &&
            this.state.bShowStats &&
            (this.setState({ bShowStats: !1 }), e.SetStatsViewIsVisible(!1));
        }
        OnToggleFullscreen() {
          this.m_elBroadcastPlayer &&
            ((0, C.ww)(this.m_elBroadcastPlayer)
              ? (0, C.MS)(this.m_elBroadcastPlayer)
              : (0, C.tl)(this.m_elBroadcastPlayer, this.m_elVideo));
        }
        OnFullscreenChange(e) {
          if (!this.m_elBroadcastPlayer) return;
          let t = (0, C.ww)(this.m_elBroadcastPlayer);
          this.setState({ bFullscreen: t });
        }
        BHideVideoControls() {
          let e = this.state.video;
          return (
            !e ||
            !!e.GetUserInputNeeded() ||
            c.es.GetBroadcastState(e) == c.fK.Error
          );
        }
        render() {
          const e = this.state.video,
            t = e && e.IsPaused(),
            a = e && e.BHasDASHStats() && this.state.bShowStats,
            n = Boolean(e && e.IsReplay()),
            r = this.state.bMountControls,
            i = this.state.bControlsVisible || t,
            l = e && e.GetUserInputNeeded(),
            o =
              e?.IsBroadcastVOD() && l && this.state.strInitialCapsuleImageUrl;
          let c = "videoContainer";
          i || (c += " HidePlayerControls"),
            t && (c += " VideoPaused"),
            this.state.bFullscreen && (c += " fullscreenVideo"),
            this.props.classes && (c += " " + this.props.classes);
          let m = [];
          !this.state.bFullscreen &&
            this.props.actions &&
            (m = m.concat(this.props.actions)),
            !this.state.bFullscreen &&
              this.props.onTheaterMode &&
              m.push(
                s.createElement("div", {
                  key: "ChatPosToggle ChatTheaterToggle",
                  onClick: this.props.onTheaterMode,
                  title: (0, I.we)("#Broadcast_View_Theater"),
                  className: "BroadcastTheaterToggle",
                }),
              ),
            m.push(
              s.createElement("div", {
                key: "FullscreenToggle",
                title: (0, I.we)("#Broadcast_View_Fullscreen"),
                onClick: this.OnToggleFullscreen,
                className: "BroadcastFullscreenToggle",
              }),
            );
          const u = r && !this.BHideVideoControls(),
            p = r && !this.state.bFullscreen,
            _ =
              this.props.fnRenderBroadcastContext &&
              this.props.fnRenderBroadcastContext();
          return s.createElement(
            "div",
            {
              ref: this.BindBroadcastPlayerRef,
              className: c,
              onMouseMove: this.OnMouseMove,
              onClick: this.OnMouseMove,
              onMouseLeave: this.OnMouseLeave,
              onContextMenu: this.OnContextMenu,
              onMouseDown: this.OnMouseDown,
            },
            _ && s.createElement("div", { className: N().BroadcastContext }, _),
            n && s.createElement(O, null),
            this.props.showVideoBackgroundBlur &&
              s.createElement(d.m, {
                className: "videoBlur",
                elementRef: this.m_elVideo,
                updateRate: 33,
                width: 320,
                height: 180,
                reductionFactor: 10,
                blurAmount: 5,
              }),
            s.createElement("video", {
              className: "videoSrc",
              ref: this.BindVideoRef,
              muted: this.props.bMuted ?? !0,
              autoPlay: !0,
              playsInline: !0,
              controls: !1,
              onVolumeChange: this.props.fnVolumeChanged,
              onClick: this.props.fnVideoClick,
            }),
            this.props.linkRegions
              ? s.createElement(le, {
                  linkRegions: this.props.linkRegions,
                  editMode: this.props.editMode,
                  onSaveLinkRegions: this.props.onSaveLinkRegions,
                })
              : null,
            this.props.linkElement,
            o &&
              s.createElement("img", {
                loading: "lazy",
                className: (0, g.A)(
                  N().BroadcastPlaceholderImg,
                  "BroadcastPlaceholderImg",
                ),
                src: this.state.strInitialCapsuleImageUrl,
              }),
            u &&
              s.createElement($, {
                video: e,
                actions: m,
                onOpenLinkInNewWindow: this.props.onOpenLinkInNewWindow,
                onShowStats: this.ToggleStatsView,
                bIncludeClipEditor: this.props.bIncludeClipEditor,
              }),
            p && s.createElement(J, { onClick: this.props.onRequestClose }),
            a &&
              s.createElement(U, {
                stats: e.GetDASHPlayerStats(),
                closeStats: this.CloseStats,
              }),
            s.createElement(F, { video: e }),
            l && s.createElement(L, { video: e }),
          );
        }
      };
      (0, n.Cg)([M.oI], K.prototype, "BindBroadcastPlayerRef", null),
        (0, n.Cg)([M.oI], K.prototype, "BindVideoRef", null),
        (0, n.Cg)([M.oI], K.prototype, "OnMouseDown", null),
        (0, n.Cg)([M.oI], K.prototype, "OnMouseUp", null),
        (0, n.Cg)([M.oI], K.prototype, "OnMouseMove", null),
        (0, n.Cg)([M.oI], K.prototype, "OnMouseLeave", null),
        (0, n.Cg)([M.oI], K.prototype, "HideControls", null),
        (0, n.Cg)([M.oI], K.prototype, "UmountControls", null),
        (0, n.Cg)([M.oI], K.prototype, "ShowStatsView", null),
        (0, n.Cg)([M.oI], K.prototype, "OnContextMenu", null),
        (0, n.Cg)([M.oI], K.prototype, "ToggleStatsView", null),
        (0, n.Cg)([M.oI], K.prototype, "ShowStorePage", null),
        (0, n.Cg)([M.oI], K.prototype, "CloseStats", null),
        (0, n.Cg)([M.oI], K.prototype, "OnToggleFullscreen", null),
        (0, n.Cg)([M.oI], K.prototype, "OnFullscreenChange", null),
        (K = (0, n.Cg)([i.PA], K));
      const Y = K;
      let $ = class extends s.Component {
        render() {
          const { video: e } = this.props;
          if (!e) return null;
          let t = e.has_segments;
          return s.createElement(
            "div",
            { className: "videoControls" },
            s.createElement(ie, {
              steamID: this.props.video.GetBroadcastSteamID(),
              bHideThumbnail: !0,
              bVerticalBroadcastChat: !0,
              onOpenLinkInNewWindow: this.props.onOpenLinkInNewWindow,
            }),
            s.createElement(
              "div",
              { className: "videoControlsBottom" + (t ? "" : " noSegments") },
              s.createElement(re, {
                video: e,
                bIncludeClipEditor: this.props.bIncludeClipEditor,
              }),
              s.createElement(
                "div",
                { className: "STV_BroadcastController" },
                s.createElement("div", {
                  className: "videoControlsButtons LeftSpacer",
                }),
                s.createElement(X, { video: e }),
                s.createElement(Q, { video: e }),
                s.createElement(q, {
                  video: e,
                  actions: this.props.actions,
                  onShowStats: this.props.onShowStats,
                }),
              ),
            ),
          );
        }
      };
      $ = (0, n.Cg)([i.PA], $);
      class J extends s.PureComponent {
        render() {
          return this.props.onClick
            ? s.createElement(
                "div",
                {
                  className: "STV_BroadcastClose",
                  onClick: this.props.onClick,
                },
                s.createElement(b.sED, null),
              )
            : null;
        }
      }
      class X extends s.Component {
        OnJumpBackward() {
          this.props.video.JumpTime(-15);
        }
        OnJumpForward() {
          this.props.video.JumpTime(V);
        }
        render() {
          let e = this.props.video,
            t = e.CanSeek();
          return s.createElement(
            "div",
            { className: "videoControlsButtons PlayControls" },
            s.createElement(ee, { video: e }),
            t &&
              s.createElement(
                "div",
                {
                  className: "videoControlButton videoControlJump controlFlip",
                  onClick: this.OnJumpBackward,
                },
                s.createElement(b.tID, {
                  bHidePostArrow: !0,
                  bHidePreArrow: !0,
                  bShowJumpAheadBox: !0,
                  bFlipHorizontal: !0,
                }),
                s.createElement("div", { className: "jumpAheadValue" }, V),
              ),
            s.createElement(Z, { video: e }),
            t &&
              s.createElement(
                "div",
                {
                  className: "videoControlButton videoControlJump",
                  onClick: this.OnJumpForward,
                },
                s.createElement(b.tID, {
                  bHidePostArrow: !0,
                  bHidePreArrow: !0,
                  bShowJumpAheadBox: !0,
                  bFlipHorizontal: !1,
                }),
                s.createElement("div", { className: "jumpAheadValue" }, V),
              ),
            t && s.createElement(te, { video: e }),
          );
        }
      }
      (0, n.Cg)([M.oI], X.prototype, "OnJumpBackward", null),
        (0, n.Cg)([M.oI], X.prototype, "OnJumpForward", null);
      const Q = (0, i.PA)((e) => {
        if (e.video.IsBroadcastClip() || e.video.IsBroadcastVOD()) return null;
        let t = e.video.IsOnLiveEdge();
        return s.createElement(
          "div",
          { className: "videoControlsButtons GoLive" },
          s.createElement(
            "div",
            {
              className:
                "videoControlButton videoControlGoLive" +
                (t ? " isLiveEdge" : ""),
              onClick: t
                ? null
                : (t) => {
                    e.video.JumpToLiveEdge();
                  },
            },
            s.createElement(b.tID, {
              bHidePreArrow: !0,
              bHidePostArrow: !0,
              bFlipHorizontal: !1,
            }),
            s.createElement(
              "div",
              { className: "jumpGoLive" },
              (0, I.we)(
                t ? "#DASHPlayerControls_IsLive" : "#DASHPlayerControls_GoLive",
              ),
            ),
          ),
        );
      });
      let Z = class extends s.Component {
        OnTogglePlayPause() {
          this.props.video.TogglePlayPause();
        }
        render() {
          let e = this.props.video.IsPaused();
          return s.createElement(
            "div",
            {
              className: "videoControlButton buttonPlayPause",
              onClick: this.OnTogglePlayPause,
            },
            e ? s.createElement(b.jGG, null) : s.createElement(b.vRz, null),
          );
        }
      };
      (0, n.Cg)([M.oI], Z.prototype, "OnTogglePlayPause", null),
        (Z = (0, n.Cg)([i.PA], Z));
      let ee = class extends s.Component {
        constructor(e) {
          super(e), (0, r.Gn)(this), (this.video = e.video);
        }
        componentDidUpdate() {
          this.video = this.props.video;
        }
        video = void 0;
        get has_previous_marker() {
          return void 0 !== this.GetPreviousMarkerTime();
        }
        GetPreviousMarkerTime() {
          if (!this.video.has_markers) return;
          let e = this.video.GetTimelineMarkers(),
            t = this.video.GetPlaybackTime();
          for (let a = e.length - 1; a >= 0; a--)
            if (!(e[a].nTime >= t)) return e[a].nTime;
        }
        OnJumpToPreviousMarkerClicked(e) {
          let t = this.GetPreviousMarkerTime();
          void 0 !== t && this.props.video.Seek(t - 0.2);
        }
        render() {
          let e = this.props.video.BHasMarkersOrSegments();
          return s.createElement(
            "div",
            {
              className:
                "videoControlButton jumpToMarker controlFlip" +
                (e ? "" : " noMarkersOrSegments") +
                (this.has_previous_marker ? "" : " noMarkersInDirection"),
              onClick: this.OnJumpToPreviousMarkerClicked,
            },
            s.createElement(b.tID, { bHidePostArrow: !0, bFlipHorizontal: !0 }),
          );
        }
      };
      (0, n.Cg)([r.sH], ee.prototype, "video", void 0),
        (0, n.Cg)([r.EW], ee.prototype, "has_previous_marker", null),
        (0, n.Cg)([M.oI], ee.prototype, "OnJumpToPreviousMarkerClicked", null),
        (ee = (0, n.Cg)([i.PA], ee));
      let te = class extends s.Component {
        constructor(e) {
          super(e), (0, r.Gn)(this), (this.video = e.video);
        }
        componentDidUpdate() {
          this.video = this.props.video;
        }
        video = void 0;
        get has_next_marker() {
          return void 0 !== this.GetNextMarkerTime();
        }
        GetNextMarkerTime() {
          if (!this.video.has_markers) return;
          let e = this.video.GetTimelineMarkers(),
            t = this.video.GetPlaybackTime();
          for (let a = 0; a < e.length; a++)
            if (!(e[a].nTime <= t)) return e[a].nTime;
        }
        OnJumpToNextMarkerClicked(e) {
          let t = this.GetNextMarkerTime();
          void 0 !== t && this.props.video.Seek(t);
        }
        render() {
          let e = this.props.video.BHasMarkersOrSegments();
          return s.createElement(
            "div",
            {
              className:
                "videoControlButton jumpToMarker" +
                (e ? "" : " noMarkersOrSegments") +
                (this.has_next_marker ? "" : " noMarkersInDirection"),
              onClick: this.OnJumpToNextMarkerClicked,
            },
            s.createElement(b.tID, { bHidePostArrow: !0, bFlipHorizontal: !1 }),
          );
        }
      };
      (0, n.Cg)([r.sH], te.prototype, "video", void 0),
        (0, n.Cg)([r.EW], te.prototype, "has_next_marker", null),
        (0, n.Cg)([M.oI], te.prototype, "OnJumpToNextMarkerClicked", null),
        (te = (0, n.Cg)([i.PA], te));
      const ae = (e) =>
        s.createElement(
          "div",
          {
            className: "timelineMarker",
            title: e.label,
            style: { left: e.pos + "%" },
            onMouseEnter: () => e.onMouseEnter(e.pos),
            onMouseLeave: e.onMouseLeave,
            onMouseDown: e.onMouseDown ? e.onMouseDown : void 0,
          },
          s.createElement(
            "div",
            { className: "timelineMarkerIcon" },
            s.createElement(b.Dp6, null),
          ),
        );
      function ne(e) {
        let t = e.startPos,
          a = e.endPos,
          n = "",
          r = 1;
        return (
          t < 0 && ((r = (a - t) / 10), (t = 0), (n = " hideFront")),
          s.createElement(
            "div",
            {
              className: "STV_timelineSegment" + n,
              style: { left: t + "%", width: a - t + "%", opacity: r },
              onClick: e.onClick,
            },
            s.createElement("div", {
              className: "STV_timelineSegmentFrontFill",
              style: { borderColor: "rgb(" + e.color + ")" },
            }),
            s.createElement(
              "div",
              {
                className: "STV_timelineSegmentLabel",
                style: { color: "rgb(" + e.color + ")" },
              },
              e.label,
            ),
            s.createElement("div", {
              className: "STV_timelineSegmentBackFill",
              style: { borderColor: "rgb(" + e.color + ")" },
            }),
          )
        );
      }
      let re = class extends s.Component {
        m_elSlider = s.createRef();
        m_rectSlider = void 0;
        constructor(e) {
          super(e),
            (this.state = {
              nGrabberMouseDownTime: 0,
              bGrabberMouseDown: !1,
              nHoverValue: void 0,
              hoverX: 0,
              bStartMouseDown: !1,
              bEndMouseDown: !1,
              thumbnailURL: "",
            });
        }
        OnMouseDown(e, t) {
          if (this.m_elSlider) {
            e.persist(),
              (this.m_rectSlider =
                this.m_elSlider.current &&
                this.m_elSlider.current.getBoundingClientRect());
            let a = {};
            "start" === t
              ? ((a = { bStartMouseDown: !0 }), e.stopPropagation())
              : "end" === t
                ? ((a = { bEndMouseDown: !0 }), e.stopPropagation())
                : (a = { bGrabberMouseDown: !0 }),
              this.setState(a, () => this.AdjustSliderForClientX(e.clientX)),
              this.m_elSlider.current.ownerDocument.defaultView.addEventListener(
                "mousemove",
                this.OnMouseMove,
              ),
              this.m_elSlider.current.ownerDocument.defaultView.addEventListener(
                "mouseup",
                this.OnMouseUp,
              );
          }
        }
        OnMouseMove(e) {
          this.AdjustSliderForClientX(e.clientX);
        }
        OnMouseUp(e) {
          this.state.bStartMouseDown
            ? this.setState({ bStartMouseDown: !1 })
            : this.state.bEndMouseDown
              ? this.setState({ bEndMouseDown: !1 })
              : (this.props.video.Seek(this.state.nGrabberMouseDownTime),
                this.setState({
                  bGrabberMouseDown: !1,
                  nGrabberMouseDownTime: 0,
                })),
            this.m_elSlider.current &&
              (this.m_elSlider.current.ownerDocument.defaultView.removeEventListener(
                "mousemove",
                this.OnMouseMove,
              ),
              this.m_elSlider.current.ownerDocument.defaultView.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              ));
        }
        OnKeyDown(e) {
          37 == e.keyCode
            ? (this.props.video.JumpTime(-15), e.preventDefault())
            : 39 == e.keyCode &&
              (this.props.video.JumpTime(15), e.preventDefault());
        }
        AdjustSliderForClientX(e) {
          let t = this.props.video,
            a = t.GetTimelineStartPos(),
            n = t.GetTimelineStartPos() + t.GetTimelineDuration(),
            r = t.GetTimeAtMousePosition(e, this.m_rectSlider, a, n);
          if (this.state.bStartMouseDown) {
            const e = T.OQ(r, a, t.m_editorEndTime - 5);
            t.m_editorStartTime = e;
          } else if (this.state.bEndMouseDown) {
            const e = T.OQ(r, t.m_editorStartTime + 5, n);
            t.m_editorEndTime = e;
          } else
            r != this.state.nGrabberMouseDownTime &&
              this.setState({ nGrabberMouseDownTime: r });
        }
        OnMouseHoverMove(e) {
          this.AdjustHoverForClientX(e.clientX);
        }
        OnMouseHoverLeave(e) {
          this.setState({ hoverX: 0 });
        }
        AdjustHoverForClientX(e) {
          let t = this.props.video,
            a = t.GetTimelineStartPos(),
            n = t.GetTimelineStartPos() + t.GetTimelineDuration();
          this.m_rectSlider =
            this.m_elSlider.current &&
            this.m_elSlider.current.getBoundingClientRect();
          t.GetTimeAtMousePosition(e, this.m_rectSlider, a, n);
        }
        OnSegmentClick(e) {
          this.props.video.Seek(e);
        }
        OnMarkerMouseEnter(e) {
          this.setState({ nHoverValue: e });
        }
        OnMarkerMouseLeave() {
          this.setState({ nHoverValue: void 0 });
        }
        render() {
          let e = this.props.video,
            t = this.state.bGrabberMouseDown,
            a = e.GetPercentOffsetFromTime(
              this.state.nGrabberMouseDownTime,
              c.a0.Timeline,
            ),
            n = e.GetPercentOffsetFromTime(e.GetPlaybackTime(), c.a0.Timeline),
            r = e.GetPercentOffsetFromTime(
              e.GetVideoAvailableStartTime(),
              c.a0.Timeline,
            );
          r < 0.05 && (r = 0);
          let i = T.OQ(a, 0, 100).toFixed(1) + "%",
            l = T.OQ(n, 0, 100).toFixed(1) + "%",
            o = T.OQ(r, 0, 100).toFixed(1) + "%",
            m = {},
            d = {},
            u = {},
            p = {};
          t
            ? ((p.left = i), (m.width = i), (d.width = l), (u.width = o))
            : ((p.left = l), (d.width = l), (u.width = o));
          let _ = (0, R.ap)(e.GetPlaybackTime()),
            g = (0, R.ap)(this.state.nHoverValue),
            h = "STV_timelineContainer";
          this.state.bGrabberMouseDown && (h += " grabberDown"),
            e.IsTimelineMapActive() && (h += " minimapActive");
          let E = "";
          (a = t ? a : n),
            a > 100
              ? (E = " grabberOffScreenRight grabberOffscreen")
              : a < 0 && (E = " grabberOffScreenLeft grabberOffscreen");
          let S = [];
          e.GetTimelineMarkers().forEach((t, a) => {
            let n = e.GetPercentOffsetFromTime(t.nTime, c.a0.Timeline);
            n < 0 ||
              n > 100 ||
              S.push(
                s.createElement(ae, {
                  key: a,
                  pos: n,
                  label: t.strTemplateName,
                  onMouseEnter: this.OnMarkerMouseEnter,
                  onMouseLeave: this.OnMarkerMouseLeave,
                }),
              );
          });
          let y = [];
          e.GetTimelineSegments().forEach((t, a) => {
            let n = e.GetPercentOffsetFromTime(t.nTimeStart, c.a0.Timeline);
            if (n > 100) return;
            let r = e.GetPercentOffsetFromTime(t.nTimeEnd, c.a0.Timeline);
            r < 0 ||
              y.push(
                s.createElement(ne, {
                  key: a,
                  startPos: n,
                  endPos: r,
                  label: t.strTemplateName,
                  color: t.color,
                  onClick: (e) => this.OnSegmentClick(t.nTimeStart),
                }),
              );
          });
          const v = e.GetPercentOffsetFromTime(
              e.m_editorStartTime,
              c.a0.Timeline,
            ),
            f = e.GetPercentOffsetFromTime(e.m_editorEndTime, c.a0.Timeline),
            w = this.props.bIncludeClipEditor
              ? [
                  s.createElement(ae, {
                    key: "start",
                    pos: v,
                    label: (0, I.we)("#DASHPlayerControls_Start"),
                    onMouseEnter: this.OnMarkerMouseEnter,
                    onMouseLeave: this.OnMarkerMouseLeave,
                    onMouseDown: (e) => this.OnMouseDown(e, "start"),
                  }),
                  s.createElement(ae, {
                    key: "end",
                    pos: f,
                    label: (0, I.we)("#DASHPlayerControls_End"),
                    onMouseEnter: this.OnMarkerMouseEnter,
                    onMouseLeave: this.OnMarkerMouseLeave,
                    onMouseDown: (e) => this.OnMouseDown(e, "end"),
                  }),
                ]
              : [];
          return s.createElement(
            "div",
            {
              className: "videoTimelineMain",
              tabIndex: 0,
              onKeyDown: this.OnKeyDown,
            },
            s.createElement(
              "div",
              { className: h },
              s.createElement("div", { className: "DialogLabel" }, _),
              s.createElement(
                "div",
                { className: "STV_timelineSegmentsContainer" },
                y,
              ),
              s.createElement(
                "div",
                {
                  onMouseDown: this.OnMouseDown,
                  onMouseMove: this.OnMouseHoverMove,
                  onMouseLeave: this.OnMouseHoverLeave,
                  ref: this.m_elSlider,
                },
                s.createElement(
                  "div",
                  { className: "VideoTimelineSlider" },
                  s.createElement("div", {
                    className: "STV_timelineValue",
                    style: m,
                  }),
                  s.createElement("div", {
                    className: "STV_timelineGhostValue",
                    style: d,
                  }),
                  s.createElement("div", {
                    className: "STV_timelineNoVideo",
                    style: u,
                  }),
                  S,
                  w,
                  Boolean(this.state.hoverX) &&
                    s.createElement(
                      "div",
                      {
                        key: "grabbertime",
                        style: {
                          position: "absolute",
                          left: this.state.hoverX - 75,
                          bottom: "30px",
                        },
                      },
                      s.createElement(
                        "div",
                        {
                          style: {
                            position: "relative",
                            display: "flex",
                            justifyContent: "center",
                          },
                        },
                        this.state.thumbnailURL &&
                          s.createElement("img", {
                            style: { width: "150px" },
                            src: this.state.thumbnailURL,
                          }),
                        s.createElement(
                          "span",
                          {
                            className: "STV_timelineGrabberValue",
                            style: { position: "absolute", bottom: "4px" },
                          },
                          g,
                        ),
                      ),
                    ),
                  s.createElement(
                    "div",
                    { className: "STV_timelineGrabber_Wrapper", style: p },
                    s.createElement(
                      "div",
                      { className: "STV_timelineGrabber" + E },
                      s.createElement(
                        "div",
                        { className: "STV_timelineGrabberArrow" },
                        s.createElement(b.apU, null),
                      ),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([M.oI], re.prototype, "OnMouseDown", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMouseMove", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMouseUp", null),
        (0, n.Cg)([M.oI], re.prototype, "OnKeyDown", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMouseHoverMove", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMouseHoverLeave", null),
        (0, n.Cg)([M.oI], re.prototype, "AdjustHoverForClientX", null),
        (0, n.Cg)([M.oI], re.prototype, "OnSegmentClick", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMarkerMouseEnter", null),
        (0, n.Cg)([M.oI], re.prototype, "OnMarkerMouseLeave", null),
        (re = (0, n.Cg)([i.PA], re));
      let ie = class extends s.Component {
        state = { info: null };
        static getDerivedStateFromProps(e, t) {
          if (
            (!t.info || t.info.m_steamIDBroadcast !== e.steamID) &&
            (t.info && (c.es.StopInfo(t.info), (t.info = null)), e.steamID)
          ) {
            return { info: c.es.StartInfo(e.steamID) };
          }
          return null;
        }
        componentWillUnmount() {
          this.state.info && c.es.StopInfo(this.state.info);
        }
        RenderStreamSwitcher() {
          const e = this.props.steamID;
          return k.td.stream[e]
            ? s.createElement(se, {
                value: e,
                options: k.td.stream,
                onChange: this.props.onLocalStreamChange,
              })
            : null;
        }
        render() {
          let { info: e } = this.state;
          if (!e) return null;
          let t = "";
          e.m_nViewerCount && (t = (0, B.Dq)(e.m_nViewerCount));
          let a =
              k.td.bValid && k.td.stream && k.td.stream[e.m_steamIDBroadcast],
            n =
              !this.props.bHideThumbnail &&
              this.props.bVerticalBroadcastChat &&
              (parseInt(e.m_strAppId) > 0 || a);
          const r =
            !this.props.bHideThumbnail &&
            this.props.bVerticalBroadcastChat &&
            a &&
            k.td.gidEvent;
          return s.createElement(
            "div",
            { className: "BroadcastDetails" },
            !this.props.bHideThumbnail &&
              s.createElement(S, {
                className: "broadcastDetailsThumbBlur",
                src: e.m_strThumbnailUrl,
                draggable: !1,
                duration: 2500,
              }),
            s.createElement(
              "div",
              { className: "BroadcastDetailsHeader" },
              e &&
                e.m_strAppTitle &&
                s.createElement(
                  "div",
                  { className: "displayColumn" },
                  s.createElement(
                    "div",
                    { className: "Info" },
                    s.createElement(
                      "span",
                      { className: "AppTitle" },
                      e.m_strAppTitle,
                    ),
                    e.m_strTitle &&
                      s.createElement(
                        "span",
                        { className: "BroadcastTitle" },
                        " - ",
                        e.m_strTitle,
                      ),
                    this.props.onLocalStreamChange &&
                      this.RenderStreamSwitcher(),
                  ),
                  t &&
                    s.createElement(
                      "div",
                      { className: "BroadcastDetailsHeader_ViewerCount" },
                      s.createElement(b.y_e, null),
                      (0, I.Yp)("#Broadcast_ViewerCount", t),
                    ),
                ),
              a &&
                this.props.onOpenLinkInNewWindow &&
                s.createElement(
                  "div",
                  { className: "Actions" },
                  s.createElement(
                    "div",
                    {
                      onClick: (e) =>
                        this.props.onOpenLinkInNewWindow(e, k.td.link),
                      className: "BroadcastLink",
                    },
                    k.td.linkName,
                  ),
                ),
            ),
            r && s.createElement(v.m, { gidEvent: k.td.gidEvent }),
            n &&
              s.createElement(y.pb, {
                id:
                  k.td.bValid &&
                  k.td.stream &&
                  k.td.stream[e.m_steamIDBroadcast]
                    ? k.td.appID
                    : parseInt(e.m_strAppId),
                type: "game",
              }),
          );
        }
      };
      ie = (0, n.Cg)([i.PA], ie);
      class se extends s.Component {
        showContextMenu(e) {
          const { options: t, value: a, onChange: n } = this.props,
            r = Object.keys(t).map((e) =>
              s.createElement(
                u.IK,
                { key: e, onSelected: () => n(e), bChecked: e === a },
                (0, I.we)(t[e]),
              ),
            );
          (0, l.lX)(s.createElement(u.tz, null, r), e);
        }
        render() {
          const { value: e, options: t } = this.props,
            a = t[e];
          return s.createElement(
            "div",
            { className: "BroadcastLanguage", onClick: this.showContextMenu },
            s.createElement("span", null, " - ", (0, I.we)(a)),
            s.createElement(
              "div",
              { className: "ContextMenuButton" },
              s.createElement(b.GB9, null),
            ),
          );
        }
      }
      (0, n.Cg)([M.oI], se.prototype, "showContextMenu", null);
      let le = class extends s.Component {
        constructor(e) {
          super(e), (this.state = { sizableRegion: [] });
        }
        async AddLinkRegion() {
          let e = this.state.sizableRegion.length;
          this.state.sizableRegion.push({
            xPosPct: 2.5 + e,
            yPosPct: 2.5 + e,
            widthPct: 20,
            heightPct: 15,
          }),
            this.setState({ sizableRegion: this.state.sizableRegion }, () =>
              this.OnSaveRegions(),
            );
        }
        componentDidUpdate(e) {
          0 == e.linkRegions.length &&
            this.props.linkRegions.forEach((e, t) => {
              this.LoadLinkRegion(e, t);
            });
        }
        async LoadLinkRegion(e, t) {
          this.state.sizableRegion.length;
          this.state.sizableRegion.push({
            xPosPct: e.left,
            yPosPct: e.top,
            widthPct: e.width,
            heightPct: e.height,
            link_url: e.url,
            link_description: e.link_description,
            link_index: e.link_index,
          }),
            await this.setState({ sizableRegion: this.state.sizableRegion });
        }
        OnSaveRegions() {
          let e;
          e = { links: [] };
          for (let t = 0; t < this.state.sizableRegion.length; t++) {
            let a;
            (a = {
              left: Math.floor(100 * this.state.sizableRegion[t].xPosPct),
              top: Math.floor(100 * this.state.sizableRegion[t].yPosPct),
              width: Math.floor(100 * this.state.sizableRegion[t].widthPct),
              height: Math.floor(100 * this.state.sizableRegion[t].heightPct),
              url: this.state.sizableRegion[t].link_url,
              link_description: this.state.sizableRegion[t].link_description,
              link_index: t,
            }),
              e.links.push(a);
          }
          this.props.onSaveLinkRegions(e);
        }
        async DeleteRegion(e) {
          this.state.sizableRegion.splice(e, 1),
            console.log("keys: ", this.state.sizableRegion.keys),
            this.setState({ sizableRegion: this.state.sizableRegion }, () =>
              this.OnSaveRegions(),
            );
        }
        async UpdatePanel(e, t) {
          const a = [...this.state.sizableRegion];
          (a[e] = t),
            this.setState({ sizableRegion: a }, () => this.OnSaveRegions());
        }
        render() {
          return s.createElement(
            "div",
            { className: "LinkOverlayContainer" },
            s.createElement(
              "div",
              { className: "LinkOverlayValidRegion" },
              !this.props.editMode && this.props.linkRegions
                ? this.props.linkRegions.map((e) => {
                    const t = (0, H.p)(e.url);
                    return s.createElement(
                      w.uU,
                      {
                        key: e.link_index,
                        href: e.url,
                        bForceExternal: t,
                        bUseLinkFilter: t,
                      },
                      s.createElement(
                        "div",
                        {
                          className: "LinkRegion",
                          style: {
                            left: e.left + "%",
                            top: e.top + "%",
                            width: e.width + "%",
                            height: e.height + "%",
                          },
                        },
                        s.createElement(
                          "div",
                          { className: "LinkRegionText" },
                          e.link_description,
                          " ",
                        ),
                      ),
                    );
                  })
                : null,
              this.props.editMode &&
                this.state.sizableRegion.map((e, t) =>
                  s.createElement(f.I, {
                    key: 100 * t + e.xPosPct,
                    index: t,
                    deleteFn: this.DeleteRegion,
                    updateFn: this.UpdatePanel,
                    xPosPct: e.xPosPct,
                    yPosPct: e.yPosPct,
                    widthPct: e.widthPct,
                    heightPct: e.heightPct,
                    link_url: e.link_url,
                    link_description: e.link_description,
                  }),
                ),
              this.props.editMode &&
                s.createElement(
                  "div",
                  { className: "AddLinkRegion", onClick: this.AddLinkRegion },
                  (0, I.we)("#SteamTV_AddLinkRegion"),
                ),
            ),
            s.createElement(
              "div",
              { className: "LinkOverlayInvalidRegion" },
              s.createElement(
                "div",
                null,
                (0, I.we)("#SteamTV_LinkRegionReserved"),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([M.oI], le.prototype, "AddLinkRegion", null),
        (0, n.Cg)([M.oI], le.prototype, "LoadLinkRegion", null),
        (0, n.Cg)([M.oI], le.prototype, "OnSaveRegions", null),
        (0, n.Cg)([M.oI], le.prototype, "DeleteRegion", null),
        (0, n.Cg)([M.oI], le.prototype, "UpdatePanel", null),
        (le = (0, n.Cg)([i.PA], le));
    },
    79359: (e, t, a) => {
      "use strict";
      a.d(t, { M: () => l });
      var n = a(90626),
        r = a(6144),
        i = a(73745);
      const s = (e) => null != e;
      function l(e, t) {
        const [a, r] = n.useState(window.localStorage.getItem(e)),
          l = n.useRef(e);
        n.useEffect(() => {
          e != l.current &&
            (r(window.localStorage.getItem(e)), (l.current = e));
        }, [e]);
        const c = e == l.current ? a : window.localStorage.getItem(e);
        let m = t;
        return (
          s(c) &&
            (m = s(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, i.hL)(o.Get().GetLocalStoreChangeCallback(e), r),
          [
            m,
            (t) => {
              const a = s(t) ? String(t) : null;
              window.localStorage.setItem(e, a),
                r(a),
                o.Get().GetLocalStoreChangeCallback(e).Dispatch(a);
            },
          ]
        );
      }
      class o {
        m_mapChangeCallback = new Map();
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new r.lu()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static s_Singleton;
        static Get() {
          return o.s_Singleton || (o.s_Singleton = new o()), o.s_Singleton;
        }
      }
    },
    70995: (e, t, a) => {
      "use strict";
      a.d(t, { XU: () => m });
      const n = 20,
        r = /^.*youtube[^v]+v=(.{11}).*/,
        i = /^.*youtu\.be\/(.{11}).*/,
        s = /^.*youtube.*\/embed\/(.{11}).*/,
        l = /^.*[?&]t=([^&]+)(?:&|$)/,
        o = /^(?:(?:([\d]+)h)?(?:([\d]+)m)?(?:([\d]+)s)?|([\d]+))$/;
      function c(e) {
        const t = e?.length < n ? void 0 : r.exec(e) || i.exec(e) || s.exec(e);
        return t?.[1];
      }
      function m(e) {
        const t = c(e);
        if (!t) return;
        const a = (function (e) {
            const t = l.exec(e);
            return t?.[1];
          })(e),
          n = a
            ? (function (e) {
                const t = o.exec(e);
                if (!(t?.[1] || t?.[2] || t?.[3] || t?.[4])) return;
                if (t?.[4]) return parseInt(t?.[4]);
                let a = 0;
                return (
                  t?.[1] && (a += 3600 * parseInt(t[1])),
                  t?.[2] && (a += 60 * parseInt(t[2])),
                  t?.[3] && (a += parseInt(t[3])),
                  a
                );
              })(a)
            : void 0;
        return { strVideoID: t, nStartSeconds: n };
      }
    },
    75933: (e, t, a) => {
      "use strict";
      a.d(t, { Wn: () => r, a4: () => i });
      a(77516);
      var n = a(90626);
      const r = 940;
      function i(e = r) {
        return (
          (function () {
            const [e, t] = (0, n.useState)(window.innerWidth);
            return (
              (0, n.useEffect)(() => {
                const e = () => {
                  t(window.innerWidth);
                };
                return (
                  window.addEventListener("resize", e),
                  () => window.removeEventListener("resize", e)
                );
              }, []),
              e
            );
          })() >= e
        );
      }
    },
    65739: (e, t, a) => {
      "use strict";
      a.d(t, { s: () => l });
      var n = a(78327),
        r = a(14947),
        i = a(41735),
        s = a.n(i);
      const l = new (class {
        m_mapEmoticonHovers = r.sH.map();
        m_inflightRequests = {};
        Get(e) {
          return this.m_mapEmoticonHovers.has(e) || this.m_inflightRequests[e]
            ? this.m_mapEmoticonHovers.get(e)
            : (this.Load(e), null);
        }
        BLoaded(e) {
          return !!this.m_mapEmoticonHovers.get(e);
        }
        async Load(e) {
          const t = `${n.TS.COMMUNITY_CDN_URL}economy/emoticonhoverjson/${encodeURIComponent(e)}?l=${encodeURIComponent(n.TS.LANGUAGE)}&origin=${(0, n.xv)()}`;
          this.m_inflightRequests[e] = !0;
          try {
            const { data: a } = await s().get(t);
            !(function (e) {
              return (
                e &&
                "object" == typeof e &&
                "number" == typeof e.appid &&
                "string" == typeof e.app_name
              );
            })(a)
              ? this.m_mapEmoticonHovers.set(e, null)
              : this.m_mapEmoticonHovers.set(e, a);
          } catch (t) {
            this.m_mapEmoticonHovers.set(e, null);
          } finally {
            this.m_inflightRequests[e] = !1;
          }
        }
      })();
    },
    26505: (e, t, a) => {
      "use strict";
      a.d(t, { Dv: () => I });
      var n,
        r,
        i = a(68950),
        s = a(23809),
        l = a(20194),
        o = a(56545),
        c = a(17720),
        m = a(80613),
        d = a.n(m),
        u = a(89068);
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      class p extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.bincremental || u.Sg(p.M()),
            m.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  bincremental: { n: 1, br: u.qM.readBool, bw: u.gp.writeBool },
                  friends: { n: 2, c: _, r: !0, q: !0 },
                  max_friend_count: {
                    n: 3,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  active_friend_count: {
                    n: 4,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  friends_limit_hit: {
                    n: 5,
                    br: u.qM.readBool,
                    bw: u.gp.writeBool,
                  },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = u.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMsgClientFriendsList";
        }
      }
      class _ extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.ulfriendid || u.Sg(_.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  ulfriendid: {
                    n: 1,
                    br: u.qM.readFixed64String,
                    bw: u.gp.writeFixed64String,
                  },
                  efriendrelationship: {
                    n: 2,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = u.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CMsgClientFriendsList_Friend";
        }
      }
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      m.Message;
      class g extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.groupid || u.Sg(g.M()),
            m.Message.initialize(this, e, 0, -1, [3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  groupid: { n: 1, br: u.qM.readUint32, bw: u.gp.writeUint32 },
                  name: { n: 2, br: u.qM.readString, bw: u.gp.writeString },
                  accountid_members: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: u.qM.readUint32,
                    pbr: u.qM.readPackedUint32,
                    bw: u.gp.writeRepeatedUint32,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = u.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsListCategory";
        }
      }
      class h extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new h();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetCategories_Request";
        }
      }
      class E extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.categories || u.Sg(E.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: { categories: { n: 1, c: g, r: !0, q: !0 } },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = u.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetCategories_Response";
        }
      }
      class S extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.accountid || u.Sg(S.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  accountid: {
                    n: 1,
                    br: u.qM.readUint32,
                    bw: u.gp.writeUint32,
                  },
                  clanid: { n: 2, br: u.qM.readUint32, bw: u.gp.writeUint32 },
                  chat_group_id: {
                    n: 3,
                    br: u.qM.readUint64String,
                    bw: u.gp.writeUint64String,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = u.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsListFavoriteEntry";
        }
      }
      class y extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new y();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetFavorites_Request";
        }
      }
      class v extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.favorites || u.Sg(v.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: { favorites: { n: 1, c: S, r: !0, q: !0 } },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = u.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetFavorites_Response";
        }
      }
      class f extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.favorites || u.Sg(f.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: { favorites: { n: 1, c: S, r: !0, q: !0 } },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = u.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_SetFavorites_Request";
        }
      }
      class b extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new b();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_SetFavorites_Response";
        }
      }
      class w extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.favorites || u.Sg(w.M()),
            m.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: { favorites: { n: 1, c: S, r: !0, q: !0 } },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = u.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_FavoritesChanged_Notification";
        }
      }
      class D extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new D();
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetFriendsList_Request";
        }
      }
      class C extends m.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.friendslist || u.Sg(C.M()),
            m.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = { proto: C, fields: { friendslist: { n: 1, c: p } } }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = u.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return u.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return u.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (d().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return u.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (d().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          u.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (d().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CFriendsList_GetFriendsList_Response";
        }
      }
      !(function (e) {
        (e.GetCategories = function (e, t) {
          return e.SendMsg("FriendsList.GetCategories#1", (0, o.I8)(h, t), E, {
            bConstMethod: !0,
            ePrivilege: 1,
          });
        }),
          (e.GetFriendsList = function (e, t) {
            return e.SendMsg(
              "FriendsList.GetFriendsList#1",
              (0, o.I8)(D, t),
              C,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetFavorites = function (e, t) {
            return e.SendMsg("FriendsList.GetFavorites#1", (0, o.I8)(y, t), v, {
              bConstMethod: !0,
              ePrivilege: 1,
            });
          }),
          (e.SetFavorites = function (e, t) {
            return e.SendMsg("FriendsList.SetFavorites#1", (0, o.I8)(f, t), b, {
              ePrivilege: 1,
            });
          });
      })(n || (n = {})),
        (function (e) {
          e.FavoritesChangedHandler = {
            name: "FriendsListClient.FavoritesChanged#1",
            request: w,
          };
        })(r || (r = {}));
      a(37735), a(14336);
      function I() {
        const e = (0, s.KV)(),
          t = (0, i.LH)();
        return (0, l.I)(B(e, t));
      }
      function B(e, t) {
        return {
          queryKey: ["GetFriendsList", t],
          queryFn: async () => {
            const t = o.w.Init(D),
              a = await n.GetFriendsList(e, t);
            return a
              .Body()
              .friendslist()
              ?.friends()
              ?.filter((e) => {
                const t = new c.b(e.ulfriendid());
                return (
                  (3 == e.efriendrelationship() ||
                    6 == e.efriendrelationship()) &&
                  t.BIsIndividualAccount()
                );
              })
              .map((e) => e.ulfriendid());
          },
        };
      }
    },
    56186: (e, t, a) => {
      "use strict";
      a.d(t, {
        $I: () => y,
        Wq: () => g,
        Zi: () => v,
        c2: () => _,
        fL: () => S,
      });
      var n = a(34629),
        r = (a(90626), a(22837)),
        i = a(56545),
        s = a(5864),
        l = a(78327),
        o = a(72839),
        c = a(44332),
        m = a(14947),
        d = a(82097),
        u = a(61859);
      class p {
        m_SteamInterface;
        m_SteamInterfacePromotions;
        m_setMessagesSeen = new Set();
        static sm_DefaultDataRequest = {
          include_release: !0,
          include_assets: !0,
        };
        constructor(e) {
          this.m_SteamInterface = e;
        }
        static sm_Instance;
        static Init(e) {
          p.sm_Instance = new p(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, c.w)(p.sm_Instance, "MarketingMessages store not initialized"),
            p.sm_Instance
          );
        }
        async GetMessageList(e, t = !1) {
          if (!l.iA.logged_in) return [];
          const a = i.w.Init(s.LK);
          a.Body().set_country_code(l.TS.COUNTRY),
            a.Body().set_elanguage((0, r.sf)(l.TS.LANGUAGE)),
            a.Body().set_client_package_version(e.nClientPackageVersion),
            a.Body().set_operating_system(e.eOSType),
            t && a.Body().set_include_seen_messages(!0),
            (0, o.rV)(a),
            (0, o.Bn)(a, p.sm_DefaultDataRequest);
          const n = await s.EO.GetMarketingMessagesForUser(
            this.m_SteamInterface.GetServiceTransport(),
            a,
          );
          if (1 != n.GetEResult())
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          if (t)
            for (const e of n.Body().messages())
              e.already_seen() && this.m_setMessagesSeen.add(e.message().gid());
          return n.Body().messages();
        }
        async GetSingleMessage(e, t) {
          const a = i.w.Init(s.e6);
          let n;
          if (
            (a.Body().set_gid(e),
            (0, o.rV)(a),
            (0, o.Bn)(a, p.sm_DefaultDataRequest),
            (n =
              t || l.iA.logged_in
                ? await s.EO.GetDisplayMarketingMessageForUser(
                    this.m_SteamInterface.GetServiceTransport(),
                    a,
                  )
                : await s.EO.GetDisplayMarketingMessage(
                    this.m_SteamInterface.GetAnonymousServiceTransport(),
                    a,
                  )),
            1 != n.GetEResult())
          )
            throw `Error loading marketing messages: ${n.GetEResult()}`;
          return n.Body().message();
        }
        MarkMessageSeen(e, t, a) {
          if (this.m_setMessagesSeen.has(e)) return;
          const n = i.w.Init(s.S4);
          n.Body().set_gid(e),
            n.Body().set_display_index(t),
            n.Body().set_template_type(a),
            s.EO.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      function _(e) {
        if (!e) return null;
        try {
          const t = JSON.parse(e);
          return (
            t.use_additional_fields &&
              (t.use_additional_fields =
                "true" === t.use_additional_fields ||
                1 === t.use_additional_fields),
            t.use_custom_legal_text &&
              (t.use_custom_legal_text =
                "true" === t.use_custom_legal_text ||
                1 === t.use_custom_legal_text),
            t.last_asset_mtime &&
              (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
            (t.ll_image = t.ll_image || {}),
            t
          );
        } catch (e) {
          "dev" == l.TS.WEB_UNIVERSE &&
            console.error(
              "MarketingMessageReadAndParseTemplateVars: Failed to prase",
              e,
            );
        }
        return null;
      }
      function g(e) {
        return `© ${(new Date()).getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`;
      }
      class h {
        m_message;
        m_templateVars = void 0;
        m_item;
        constructor(e) {
          (0, m.Gn)(this),
            (this.m_message = e),
            e.associated_item(!1) &&
              (this.m_item = d.A.Get().ReadItem(
                e.associated_item(),
                p.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = _(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        static GetTypeAsLocalizedString(e) {
          switch (e) {
            case 2:
              return (0, u.we)("#spotlight_weekend_deal");
            case 11:
              return (0, u.we)("#spotlight_midweek_madness");
            case 12:
              return (0, u.we)("#spotlight_daily_deal");
            case 1:
              return (0, u.we)("#msg_available_everywhere");
            case 3:
              return (0, u.we)("#msg_prepurchase_now");
            case 4:
              return (0, u.we)("#msg_play_now");
            case 5:
              return (0, u.we)("#label_pre_load_now");
            case 10:
              return (0, u.we)("#label_just_updated");
            case 13:
              return (0, u.we)("#label_new_dlc_available");
            case 14:
              return (0, u.we)("#label_free_weekend");
            case 15:
              return (0, u.we)("#msg_on_sale_now");
            case 16:
              return (0, u.we)("#msg_play_beta_now");
          }
          return null;
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          if (
            this.GetTemplateVars().custom_display &&
            this.GetTemplateVars().custom_display.startsWith("replay")
          )
            return 5;
          switch (this.GetTemplateVars().custom_display) {
            case "dlc_override":
              return 4;
            case "mm_auto_render":
              return 7;
            case "partner_event":
              return 6;
            case "featured_video":
              return 3;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[l.TS.LANGUAGE],
            t = (0, r.sf)(l.TS.LANGUAGE);
          return (
            e ||
              l.TS.LANGUAGE != (0, r.Lg)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[l.TS.LANGUAGE],
            t = (0, r.sf)(l.TS.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetFeaturedVideoAutoPlay() {
          return this.m_templateVars.featured_video_autoplay;
        }
        GetFeaturedVideoLoop() {
          return this.m_templateVars.featured_video_loop;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[l.TS.LANGUAGE],
            t = (0, r.sf)(l.TS.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [e?.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        GetAutoRenderWithoutAssetOverrides() {
          return Boolean(
            this.m_templateVars.autorender_assets_without_overrides,
          );
        }
        GetGID() {
          return this.m_message.gid();
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, r.Lg)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          const t = (0, r.Lg)(e);
          return this.m_templateVars.webm[t]?.path;
        }
        GetTemplateMP4(e) {
          const t = (0, r.Lg)(e);
          return this.m_templateVars.mp4[t]?.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : g(this.GetTemplateVars().partner);
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, n.Cg)([m.sH], h.prototype, "m_templateVars", void 0);
      const E = "^(replay)([0-9]{4})";
      function S(e) {
        const t = e.match(E);
        return t?.[2];
      }
      function y(e) {
        if (e) {
          const t = e.match(E);
          return t?.[2] && !isNaN(Number(t?.[2]));
        }
        return !1;
      }
      function v(e) {
        return "mm_auto_render" == e;
      }
    },
    3173: (e, t, a) => {
      "use strict";
      a.d(t, { o5: () => E });
      var n = a(41735),
        r = a.n(n),
        i = a(90626),
        s = a(22837),
        l = a(56545),
        o = (a(77516), a(96059)),
        c = a(17690),
        m = a(15161),
        d = a(75487),
        u = a(68797),
        p = a(78327),
        _ = a(30894),
        g = a(44165);
      class h {
        m_serviceTransport;
        m_anonymousServiceTransport;
        m_mapPlaytime;
        m_playtimePromise;
        m_mapOwnedApps = new Map();
        m_mapOwnedAppsPromise = new Map();
        m_mapDLC = new Map();
        m_mapDLCPromise = new Map();
        m_mapDLCForApp = new Map();
        m_mapDLCForAppPromise = new Map();
        m_mapPopularDLCByApp = new Map();
        m_mapPopularDLCByAppPromise = new Map();
        m_dlcStats;
        m_dlcStatsPromise;
        static s_singleton;
        BIsPlaytimeLoaded() {
          return Boolean(this.m_mapPlaytime);
        }
        GetPlaytime() {
          return this.m_mapPlaytime;
        }
        async LoadPlaytime() {
          return (
            this.m_playtimePromise ||
              (this.m_playtimePromise = this.InternalLoadPlaytime()),
            this.m_playtimePromise
          );
        }
        async InternalLoadPlaytime() {
          const e = new Map();
          let t = null;
          try {
            const a = `${p.TS.STORE_BASE_URL}contenthub/ajaxgetdlcforyouplaytime`,
              n = {
                origin: self.origin,
                forsteamid: (0, p.Tc)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              i = await r().get(a, { params: n, withCredentials: !0 });
            if (200 === i.status && 1 === i.data.success) {
              if (i.data.playtime)
                for (const t of i.data.playtime)
                  e.set(t.appid, {
                    playtime: t.playtime,
                    last_played: t.last_played,
                  });
            } else t = (0, u.H)(i);
          } catch (e) {
            t = (0, u.H)(e);
          }
          (this.m_mapPlaytime = e),
            t &&
              console.error(
                "CDLCForYouStore.LoadPlaytime failed: " + t.strErrorMsg,
                t,
              );
        }
        GetSortKey(e, t, a) {
          return `${e}_${t || "*"}_${a || "*"}`;
        }
        BIsOwnedAppsLoaded(e, t, a) {
          return this.m_mapOwnedApps.has(this.GetSortKey(e, t, a));
        }
        GetOwnedApps(e, t, a) {
          return this.m_mapOwnedApps.get(this.GetSortKey(e, t, a));
        }
        async LoadOwnedApps(e, t, a) {
          const n = this.GetSortKey(e, t, a);
          return (
            this.m_mapOwnedAppsPromise.has(n) ||
              this.m_mapOwnedAppsPromise.set(
                n,
                this.InternalLoadOwnedApps(e, t, a),
              ),
            this.m_mapOwnedAppsPromise.get(n)
          );
        }
        async InternalLoadOwnedApps(e, t, a) {
          let n = [],
            r = null;
          try {
            await Promise.all([this.LoadPlaytime(), _.Fm.Get().HintLoad()]),
              (n = Array.from(this.m_mapPlaytime.keys())),
              (n = n.filter((e) => _.Fm.Get().BIsGameOwned(e)));
            let r = [],
              i = [];
            t &&
              ((r = n.filter(
                (e) => this.m_mapPlaytime.get(e).playtime < 60 * t,
              )),
              (n = n.filter(
                (e) => this.m_mapPlaytime.get(e).playtime >= 60 * t,
              ))),
              a &&
                ((i = n.filter(
                  (e) =>
                    this.m_mapPlaytime.get(e).last_played <
                    (0, g.sB)() - 31 * a * 24 * 60 * 60,
                )),
                (n = n.filter(
                  (e) =>
                    this.m_mapPlaytime.get(e).last_played >=
                    (0, g.sB)() - 31 * a * 24 * 60 * 60,
                ))),
              "playtime" === e
                ? (i.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ),
                  r.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ),
                  n.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).playtime -
                      this.m_mapPlaytime.get(e).playtime,
                  ))
                : "last_played" === e &&
                  (i.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  ),
                  r.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  ),
                  n.sort(
                    (e, t) =>
                      this.m_mapPlaytime.get(t).last_played -
                      this.m_mapPlaytime.get(e).last_played,
                  )),
              (n = n.concat(i).concat(r));
          } catch (e) {
            r = (0, u.H)(e);
          }
          this.m_mapOwnedApps.set(this.GetSortKey(e, t, a), n),
            r &&
              console.error(
                "CDLCForYouStore.InternalLoadOwnedApps failed: " +
                  r.strErrorMsg,
                r,
              );
        }
        BIsDLCLoaded(e) {
          return this.m_mapDLC.has(JSON.stringify(e));
        }
        GetDLC(e) {
          return this.m_mapDLC.get(JSON.stringify(e));
        }
        async LoadDLC(e) {
          const t = JSON.stringify(e);
          return (
            this.m_mapDLCPromise.has(t) ||
              this.m_mapDLCPromise.set(t, this.InternalLoadDLC(e)),
            this.m_mapDLCPromise.get(t)
          );
        }
        async InternalLoadDLC(e) {
          if (
            ("popular" === e.strFlavor || "discounted" === e.strFlavor) &&
            !Boolean((0, p.Tc)("dlcforyou_forsteamid", "application_config"))
          )
            return this.InternalLoadDLCFromDiscoveryQueue(e);
          let t = [],
            a = null;
          try {
            await _.Fm.Get().HintLoad();
            const n = `${p.TS.STORE_BASE_URL}contenthub/ajaxgetdlcforyoupopular`,
              i = {
                origin: self.origin,
                flavor: e.strFlavor || "popular",
                count: e.nCount || 50,
                hubtype: e.strHubType,
                category: e.strCategory,
                tagid: e.nTagID,
                tabid: e.nTabID,
                tabfilter: e.strTabFilter,
                sectionid: e.nSectionID,
                sectionfilter: e.strSectionFilter,
                facetcount: e.nFacetCount,
                facetkey: e.strFacetURLParam,
                facetfilter: e.strFacetFilter,
                forsteamid: (0, p.Tc)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              s = await r().get(n, { params: i, withCredentials: !0 });
            if (200 === s.status && 1 === s.data.success) {
              if (s.data.dlc_appids)
                for (const e of s.data.dlc_appids)
                  _.Fm.Get().BOwnsApp(e) || t.push(Number(e));
            } else a = (0, u.H)(s);
          } catch (e) {
            a = (0, u.H)(e);
          }
          this.m_mapDLC.set(JSON.stringify(e), t),
            a &&
              console.error(
                "CDLCForYouStore.InternalLoadDLC failed: " + a.strErrorMsg,
                a,
              );
        }
        async InternalLoadDLCFromDiscoveryQueue(e) {
          let t = [],
            a = null;
          try {
            await _.Fm.Get().HintLoad();
            const n = l.w.Init(d.BL);
            if (
              (n.Body().set_queue_type("discounted" === e.strFlavor ? 8 : 7),
              n.Body().set_country_code(p.TS.COUNTRY || "US"),
              n.Body().set_rebuild_queue_if_stale(!0),
              e.strHubType)
            ) {
              if (
                (n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_type(e.strHubType),
                n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_category(e.strCategory),
                n
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_tagid(e.nTagID),
                e.nTabID && e.strTabFilter)
              ) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strTabFilter),
                  t.set_cache_key(e.nTabID.toString());
              }
              if (e.nSectionID && e.strSectionFilter) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strSectionFilter),
                  t.set_cache_key(e.nSectionID.toString());
              }
              if (e.nFacetCount && e.strFacetURLParam && e.strFacetFilter) {
                const t = n.Body().store_page_filter().add_store_filters();
                t.set_filter_json(e.strFacetFilter),
                  t.set_cache_key(e.strFacetURLParam);
              }
            } else
              e.nSaleTagID &&
                n
                  .Body()
                  .store_page_filter()
                  .sale_filter()
                  .set_sale_tagid(e.nSaleTagID);
            const r = await d.nd.GetDiscoveryQueue(this.m_serviceTransport, n);
            if (1 === r.GetEResult()) {
              if (r.Body().appids()?.length > 0)
                for (const e of r.Body().appids())
                  _.Fm.Get().BOwnsApp(e) || t.push(e);
            } else a = (0, u.H)(r);
          } catch (e) {
            a = (0, u.H)(e);
          }
          this.m_mapDLC.set(JSON.stringify(e), t),
            a &&
              console.error(
                "CDLCForYouStore.InternalLoadDLC failed: " + a.strErrorMsg,
                a,
              );
        }
        GetAppKey(e, t) {
          return JSON.stringify(e) + "_" + t;
        }
        BIsDLCForAppsLoaded(e, t) {
          for (const a of e) {
            const e = this.GetAppKey(t, a);
            if (!this.m_mapDLCForApp.has(e)) return !1;
          }
          return !0;
        }
        GetDLCForApps(e, t) {
          const a = new Map();
          for (const n of e) {
            const e = this.GetAppKey(t, n),
              r = this.m_mapDLCForApp.get(e);
            r && a.set(n, r);
          }
          return a;
        }
        async LoadDLCForApps(e, t) {
          const a = e.filter(
            (e) => !this.m_mapDLCForAppPromise.has(this.GetAppKey(t, e)),
          );
          if (a.length > 0) {
            const e = this.InternalLoadDLCForApps(a, t);
            for (const n of a)
              this.m_mapDLCForAppPromise.set(this.GetAppKey(t, n), e);
          }
          await Promise.all(
            e.map((e) => this.m_mapDLCForAppPromise.get(this.GetAppKey(t, e))),
          );
        }
        async InternalLoadDLCForApps(e, t) {
          const a = new Map();
          for (const t of e) a.set(t, []);
          let n = null;
          try {
            await _.Fm.Get().HintLoad();
            const r = l.w.Init(m.Qv);
            r.Body().context().set_language(p.TS.LANGUAGE),
              r
                .Body()
                .context()
                .set_elanguage((0, s.sf)(p.TS.LANGUAGE)),
              r.Body().context().set_country_code(p.TS.COUNTRY),
              r.Body().context().set_steam_realm(p.TS.EREALM);
            for (const t of e) r.Body().add_appids(t);
            if (
              (r.Body().set_flavor(t.strFlavor || "popular"),
              r.Body().set_count(t.nCount || 20),
              t.strHubType)
            ) {
              if (
                (r
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_type(t.strHubType),
                r
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_category(t.strCategory),
                r
                  .Body()
                  .store_page_filter()
                  .content_hub_filter()
                  .set_hub_tagid(t.nTagID),
                t.nTabID && t.strTabFilter)
              ) {
                const e = r.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strTabFilter),
                  e.set_cache_key(t.nTabID.toString());
              }
              if (t.nSectionID && t.strSectionFilter) {
                const e = r.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strSectionFilter),
                  e.set_cache_key(t.nSectionID.toString());
              }
              if (t.nFacetCount && t.strFacetURLParam && t.strFacetFilter) {
                const e = r.Body().store_page_filter().add_store_filters();
                e.set_filter_json(t.strFacetFilter),
                  e.set_cache_key(t.strFacetURLParam);
              }
            }
            const i = await m.$4.GetDLCForAppsSolr(
              this.m_anonymousServiceTransport,
              r,
            );
            if (1 === i.GetEResult()) {
              if (i.Body().dlc_lists().length > 0)
                for (const e of i.Body().dlc_lists()) {
                  const t = e.parent_appid();
                  for (const n of e.dlc_appids())
                    _.Fm.Get().BOwnsApp(n) || a.get(t).push(n);
                }
            } else n = (0, u.H)(i);
          } catch (e) {
            n = (0, u.H)(e);
          }
          for (const n of e)
            this.m_mapDLCForApp.set(this.GetAppKey(t, n), a.get(n));
          n &&
            console.error(
              "CDLCForYouStore.InternalLoadDLCForApps failed: " + n.strErrorMsg,
              n,
            );
        }
        async LoadDLCForAppsFiltered(e, t, a) {
          await this.LoadOwnedApps(
            t.parent_app_sort,
            t.min_playtime,
            t.max_last_played,
          );
          const n = this.GetOwnedApps(
            t.parent_app_sort,
            t.min_playtime,
            t.max_last_played,
          );
          let r = [],
            i = !1;
          for (let t = 0; t < n.length; ++t) {
            t % 10 == 0 && (await this.LoadDLCForApps(n.slice(t, t + 10), e));
            const s = this.GetAppKey(e, n[t]);
            if (
              (this.m_mapDLCForApp.get(s)?.length > 0 &&
                r.push(this.m_mapDLCForApp.get(s)),
              r.length === a)
            ) {
              t < n.length - 1 && (i = !0);
              break;
            }
          }
          return { rgDLC: r, bMoreAvailable: i };
        }
        BIsPopularDLCByAppLoaded(e) {
          return this.m_mapPopularDLCByApp.has(JSON.stringify(e));
        }
        GetPopularDLCByApp(e) {
          return this.m_mapPopularDLCByApp.get(JSON.stringify(e));
        }
        async LoadPopularDLCByApp(e, t, a) {
          const n = JSON.stringify(e);
          return (
            this.m_mapPopularDLCByAppPromise.has(n) ||
              this.m_mapPopularDLCByAppPromise.set(
                n,
                this.InternalLoadPopularDLCByApp(e, t, a),
              ),
            this.m_mapPopularDLCByAppPromise.get(n)
          );
        }
        async InternalLoadPopularDLCByApp(e, t, a) {
          let n = [],
            i = null;
          try {
            await _.Fm.Get().HintLoad();
            const e = `${p.TS.STORE_BASE_URL}contenthub/ajaxgetdlcforyoumaincapsule`,
              t = {
                origin: self.origin,
                count: 5e3,
                forsteamid: (0, p.Tc)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              a = await r().get(e, { params: t, withCredentials: !0 });
            if (200 === a.status && 1 === a.data.success) {
              if (a.data.dlc_appids && a.data.parent_appids)
                for (const e of a.data.parent_appids) {
                  const t = Number(e);
                  _.Fm.Get().BIsGameOwned(t) &&
                    n.push(a.data.dlc_appids[t].map((e) => Number(e)));
                }
            } else i = (0, u.H)(a);
          } catch (e) {
            i = (0, u.H)(e);
          }
          this.m_mapPopularDLCByApp.set(JSON.stringify(e), n),
            i &&
              console.error(
                "CDLCForYouStore.InternalLoadPopularDLCByApp failed: " +
                  i.strErrorMsg,
                i,
              );
        }
        BIsDLCStatsLoaded() {
          return Boolean(this.m_dlcStats);
        }
        GetDLCStats() {
          return this.m_dlcStats;
        }
        async LoadDLCStats() {
          return (
            this.m_dlcStatsPromise ||
              (this.m_dlcStatsPromise = this.InternalLoadDLCStats()),
            this.m_dlcStatsPromise
          );
        }
        async InternalLoadDLCStats() {
          const e = {};
          let t = null;
          try {
            const a = `${p.TS.STORE_BASE_URL}contenthub/ajaxgetdlcstatsforuser`,
              n = {
                origin: self.origin,
                forsteamid: (0, p.Tc)(
                  "dlcforyou_forsteamid",
                  "application_config",
                ),
              },
              i = await r().get(a, { params: n, withCredentials: !0 });
            200 === i.status && 1 === i.data.success
              ? ((e.nGamesOwned = Number(i.data.games_owned)),
                (e.nDLCOwned = Number(i.data.dlc_owned)),
                (e.nDLCNotOwned = Number(i.data.dlc_not_owned)))
              : (t = (0, u.H)(i));
          } catch (e) {
            t = (0, u.H)(e);
          }
          (this.m_dlcStats = e),
            t &&
              console.error(
                "CDLCForYouStore.LoadDLCStats failed: " + t.strErrorMsg,
                t,
              );
        }
        constructor() {
          if (!this.m_serviceTransport) {
            const e = (0, p.Tc)("loyalty_webapi_token", "application_config"),
              t = new o.D(p.TS.WEBAPI_BASE_URL, e || void 0);
            (this.m_serviceTransport = t.GetServiceTransport()),
              (this.m_anonymousServiceTransport =
                t.GetAnonymousServiceTransport());
          }
          "dev" === p.TS.WEB_UNIVERSE && (window.g_dlcForYouStore = this);
        }
        static Get() {
          return h.s_singleton || (h.s_singleton = new h()), h.s_singleton;
        }
      }
      function E(e, t = 20) {
        const [a, n] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e && e != c.sc)
              if ("dev" == p.TS.WEB_UNIVERSE && 782330 == e)
                n([1749103, 1749101, 1749102, 1098300]);
              else {
                const a = { nCount: t, strFlavor: "popular" };
                h.Get()
                  .LoadDLCForApps([e], a)
                  .then(() => {
                    const t = h.Get().GetDLCForApps([e], a);
                    n(t.get(e));
                  });
              }
          }, [e, t]),
          a
        );
      }
    },
    73022: (e, t, a) => {
      "use strict";
      a.d(t, { Q: () => p, h: () => u });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(90626),
        l = a(68797),
        o = a(6144),
        c = a(73745),
        m = a(78327);
      class d {
        m_mapRegistrations = new Map();
        m_mapLoadPromises = new Map();
        m_mapCreatePromises = new Map();
        m_listChangeCallback = new Map();
        GetRegistration(e) {
          return this.m_mapRegistrations.get(e);
        }
        GetRegistrationChangeCallback(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new o.lu()),
            this.m_listChangeCallback.get(e)
          );
        }
        async LoadRegistration(e) {
          return (
            this.m_mapLoadPromises.has(e) ||
              this.m_mapLoadPromises.set(e, this.InternalLoadRegistration(e)),
            this.m_mapLoadPromises.get(e)
          );
        }
        async InternalLoadRegistration(e) {
          let t = null;
          try {
            const a =
                m.TS.STORE_BASE_URL +
                "saleaction/ajaxgetusergiveawayregistration",
              n = { giveaway_name: e, sessionid: m.TS.SESSIONID },
              r = await i().get(a, { params: n, withCredentials: !0 });
            if (
              200 == r?.status &&
              1 == r?.data?.success &&
              r?.data?.registration
            )
              return (
                this.m_mapRegistrations.set(e, r?.data?.registration),
                this.GetRegistrationChangeCallback(e).Dispatch(
                  r?.data?.registration,
                ),
                r?.data?.registration
              );
            t = (0, l.H)(r);
          } catch (e) {
            t = (0, l.H)(e);
          }
          return (
            console.error(
              "CGiveawayRegistrationStore.InternalLoadRegistration failed: on giveawayName " +
                e +
                " error: " +
                t?.strErrorMsg,
              t,
            ),
            { registered: !1 }
          );
        }
        CreateRegistration(e) {
          return (
            this.m_mapCreatePromises.has(e) ||
              this.m_mapCreatePromises.set(
                e,
                this.InternalCreateRegistration(e),
              ),
            this.m_mapCreatePromises.get(e)
          );
        }
        async InternalCreateRegistration(e) {
          let t = null;
          try {
            const a =
                m.TS.STORE_BASE_URL +
                "saleaction/ajaxupdateusergiveawayregistration",
              n = { giveaway_name: e, sessionid: m.TS.SESSIONID },
              r = await i().get(a, { params: n, withCredentials: !0 });
            if (
              200 == r?.status &&
              1 == r?.data?.success &&
              r?.data?.registration
            )
              return (
                this.m_mapRegistrations.set(e, r?.data?.registration),
                this.GetRegistrationChangeCallback(e).Dispatch(
                  r?.data?.registration,
                ),
                r?.data?.registration
              );
            t = (0, l.H)(r);
          } catch (e) {
            t = (0, l.H)(e);
          }
          return (
            console.error(
              "CGiveawayRegistrationStore.InternalCreateRegistration failed: on giveawayName " +
                e +
                " error: " +
                t?.strErrorMsg,
              t,
            ),
            { registered: !1 }
          );
        }
        static s_Singleton;
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.TS.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      function u(e) {
        const [t, a] = (0, s.useState)(d.Get().GetRegistration(e));
        return (
          (0, s.useEffect)(() => {
            void 0 === t && d.Get().LoadRegistration(e).then(a);
          }, [e, t]),
          (0, c.hL)(d.Get().GetRegistrationChangeCallback(e), a),
          t
        );
      }
      function p() {
        return { fnCreateRegistration: d.Get().CreateRegistration };
      }
      (0, n.Cg)([c.oI], d.prototype, "CreateRegistration", null);
    },
    60854: (e, t, a) => {
      "use strict";
      a.d(t, { ns: () => L, CC: () => F, Oz: () => O });
      var n,
        r = a(34629),
        i = a(56545),
        s = a(96059),
        l = a(80613),
        o = a.n(l),
        c = a(89068),
        m = a(83935);
      class d extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.item_type || c.Sg(d.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  item_type: {
                    n: 1,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  appid: { n: 2, br: c.qM.readUint32, bw: c.gp.writeUint32 },
                  item_name: {
                    n: 3,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_title: {
                    n: 4,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_description: {
                    n: 5,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_image_small: {
                    n: 6,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_image_large: {
                    n: 7,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_key_values: {
                    n: 8,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_series: {
                    n: 9,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  item_class: {
                    n: 10,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  editor_accountid: {
                    n: 11,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  active: { n: 12, br: c.qM.readBool, bw: c.gp.writeBool },
                  item_image_composed: {
                    n: 13,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_image_composed_foil: {
                    n: 14,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  deleted: { n: 15, br: c.qM.readBool, bw: c.gp.writeBool },
                  item_last_changed: {
                    n: 16,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  broadcast_channel_id: {
                    n: 17,
                    br: c.qM.readUint64String,
                    bw: c.gp.writeUint64String,
                  },
                  item_movie_webm: {
                    n: 18,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_movie_mp4: {
                    n: 19,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_movie_webm_small: {
                    n: 20,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_movie_mp4_small: {
                    n: 21,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                  item_internal_name: {
                    n: 22,
                    br: c.qM.readString,
                    bw: c.gp.writeString,
                  },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = c.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CommunityItemDefinition";
        }
      }
      class u extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.appid || c.Sg(u.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  appid: { n: 1, br: c.qM.readUint32, bw: c.gp.writeUint32 },
                  community_item_type: {
                    n: 2,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  community_item_class: {
                    n: 3,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  community_definition: { n: 4, c: d },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = c.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "SaleReward_ItemDefinition";
        }
      }
      class p extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.communityitemid || c.Sg(p.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  communityitemid: {
                    n: 1,
                    br: c.qM.readUint64String,
                    bw: c.gp.writeUint64String,
                  },
                  time_granted: {
                    n: 2,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  item_definition: { n: 3, c: u },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = c.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "SaleItemRewardGrant";
        }
      }
      class _ extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.language || c.Sg(_.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  language: { n: 1, br: c.qM.readString, bw: c.gp.writeString },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = c.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_ClaimItem_Request";
        }
      }
      class g extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.communityitemid || c.Sg(g.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  communityitemid: {
                    n: 1,
                    br: c.qM.readUint64String,
                    bw: c.gp.writeUint64String,
                  },
                  next_claim_time: {
                    n: 2,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  reward_item: { n: 3, c: m.l3 },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = c.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_ClaimItem_Response";
        }
      }
      class h extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.language || c.Sg(h.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  language: { n: 1, br: c.qM.readString, bw: c.gp.writeString },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = c.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_CanClaimItem_Request";
        }
      }
      class E extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.can_claim || c.Sg(E.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: {
                  can_claim: { n: 1, br: c.qM.readBool, bw: c.gp.writeBool },
                  next_claim_time: {
                    n: 2,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  reward_item: { n: 3, c: m.l3 },
                },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = c.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_CanClaimItem_Response";
        }
      }
      class S extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.sale_reward_def_id || c.Sg(S.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  sale_reward_def_id: {
                    n: 1,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  appid: { n: 2, br: c.qM.readUint32, bw: c.gp.writeUint32 },
                  virtual_item_reward_event_id: {
                    n: 3,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  rtime_start_time: {
                    n: 4,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  rtime_end_time: {
                    n: 5,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  num_items_per_def: {
                    n: 6,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                  reward_def_type: {
                    n: 7,
                    br: c.qM.readEnum,
                    bw: c.gp.writeEnum,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = c.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamItemRewardDefinition";
        }
      }
      class y extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.virtual_item_reward_event_id || c.Sg(y.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  virtual_item_reward_event_id: {
                    n: 1,
                    br: c.qM.readUint32,
                    bw: c.gp.writeUint32,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = c.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetRewardDefinitions_Request";
        }
      }
      class v extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.definitions || c.Sg(v.M()),
            l.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: { definitions: { n: 1, c: S, r: !0, q: !0 } },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = c.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetRewardDefinitions_Response";
        }
      }
      class f extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.definitions || c.Sg(f.M()),
            l.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  definitions: { n: 1, c: S, r: !0, q: !0 },
                  action: { n: 2, br: c.qM.readEnum, bw: c.gp.writeEnum },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = c.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_SetRewardDefinitions_Request";
        }
      }
      class b extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.definitions || c.Sg(b.M()),
            l.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: { definitions: { n: 1, c: S, r: !0, q: !0 } },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = c.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_SetRewardDefinitions_Response";
        }
      }
      class w extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.sale_def_type || c.Sg(w.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  sale_def_type: {
                    n: 1,
                    br: c.qM.readEnum,
                    bw: c.gp.writeEnum,
                  },
                  language: { n: 2, br: c.qM.readString, bw: c.gp.writeString },
                  include_community_item_def: {
                    n: 3,
                    br: c.qM.readBool,
                    bw: c.gp.writeBool,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = c.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetClaimedSaleRewards_Request";
        }
      }
      class D extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            D.prototype.num_items_granted || c.Sg(D.M()),
            l.Message.initialize(this, e, 0, -1, [4], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            D.sm_m ||
              (D.sm_m = {
                proto: D,
                fields: {
                  num_items_granted: {
                    n: 1,
                    br: c.qM.readInt32,
                    bw: c.gp.writeInt32,
                  },
                  num_items_earned: {
                    n: 2,
                    br: c.qM.readInt32,
                    bw: c.gp.writeInt32,
                  },
                  current_def: { n: 3, c: S },
                  reward_items: { n: 4, c: p, r: !0, q: !0 },
                },
              }),
            D.sm_m
          );
        }
        static MBF() {
          return D.sm_mbf || (D.sm_mbf = c.w0(D.M())), D.sm_mbf;
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(D.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(D.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(D.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(D.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetClaimedSaleRewards_Response";
        }
      }
      class C extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.sale_def_type || c.Sg(C.M()),
            l.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: {
                  sale_def_type: {
                    n: 1,
                    br: c.qM.readEnum,
                    bw: c.gp.writeEnum,
                  },
                  language: { n: 2, br: c.qM.readString, bw: c.gp.writeString },
                  include_community_item_def: {
                    n: 3,
                    br: c.qM.readBool,
                    bw: c.gp.writeBool,
                  },
                },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = c.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetCurrentDefinition_Request";
        }
      }
      class I extends l.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.definition || c.Sg(I.M()),
            l.Message.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: {
                  definition: { n: 1, c: S },
                  reward_items: { n: 2, c: u, r: !0, q: !0 },
                },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = c.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return c.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return c.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (o().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return c.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (o().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          c.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (o().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSaleItemRewards_GetCurrentDefinition_Response";
        }
      }
      !(function (e) {
        (e.ClaimItem = function (e, t) {
          return e.SendMsg("SaleItemRewards.ClaimItem#1", (0, i.I8)(_, t), g, {
            ePrivilege: 1,
          });
        }),
          (e.CanClaimItem = function (e, t) {
            return e.SendMsg(
              "SaleItemRewards.CanClaimItem#1",
              (0, i.I8)(h, t),
              E,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetRewardDefinitions = function (e, t) {
            return e.SendMsg(
              "SaleItemRewards.GetRewardDefinitions#1",
              (0, i.I8)(y, t),
              v,
              { bConstMethod: !0, ePrivilege: 4 },
            );
          }),
          (e.SetRewardDefinitions = function (e, t) {
            return e.SendMsg(
              "SaleItemRewards.SetRewardDefinitions#1",
              (0, i.I8)(f, t),
              b,
              { ePrivilege: 4 },
            );
          }),
          (e.GetClaimedSaleRewards = function (e, t) {
            return e.SendMsg(
              "SaleItemRewards.GetClaimedSaleRewards#1",
              (0, i.I8)(w, t),
              D,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetCurrentDefinition = function (e, t) {
            return e.SendMsg(
              "SaleItemRewards.GetCurrentDefinition#1",
              (0, i.I8)(C, t),
              I,
              { bConstMethod: !0, ePrivilege: 0, eWebAPIKeyRequirement: 1 },
            );
          });
      })(n || (n = {}));
      var B = a(44332),
        T = a(78327),
        M = a(90626),
        A = a(68797),
        k = a(6144),
        R = a(73745),
        P = a(14947),
        N = a(58222);
      class G {
        m_claimState = { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 };
        m_claimedFreeItemDef;
        m_rtNextClaimTime;
        m_claimTimer;
        m_SteamInterface = null;
        m_canClaimPromise = null;
        m_claimPromise = null;
        m_claimStateChangeCallback = new k.lu();
        m_testNextClaimFakeResponse = null;
        m_bInTestMode = !1;
        GetClaimItemState() {
          return this.m_claimState;
        }
        GetClaimStateChangeCallback() {
          return this.m_claimStateChangeCallback;
        }
        GetClaimedSaleRewardItemDef() {
          return this.m_claimedFreeItemDef;
        }
        GetNextClaimTime() {
          if (!this.m_rtNextClaimTime) return null;
          return new Date(1e3 * this.m_rtNextClaimTime);
        }
        TEST_OverrideClaimState(e) {
          (this.m_bInTestMode = !0),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            e.bCanClaimNewItem
              ? (this.m_testNextClaimFakeResponse = {
                  bAlreadyClaimedCurrentItem: !0,
                  bCanClaimNewItem: !1,
                  rtNextClaimTime: Math.floor(Date.now() / 1e3) + 3600,
                  appid: 2243810,
                  community_item_type: 2,
                  community_item_class: 11,
                })
              : (this.m_testNextClaimFakeResponse = null),
            (this.m_claimState = e),
            this.GetClaimStateChangeCallback().Dispatch(this.m_claimState);
        }
        async ActivateProfileModifier(e) {
          const t = i.w.Init(N.fp);
          t.Body().set_communityitemid(e.communityitemid),
            t.Body().set_appid(e.appid),
            t.Body().set_activate(!0);
          const a = await N.uy.ActivateProfileModifierItem(
            this.m_SteamInterface.GetServiceTransport(),
            t,
          );
          return (
            1 != a.GetEResult() &&
              console.error(
                `Error when calling QuestService.ActivateProfileModifierItem: EResult=${a.GetEResult()}`,
              ),
            a.GetEResult()
          );
        }
        async LoadCanUserClaimItem() {
          return this.m_bInTestMode
            ? this.m_claimState
            : (this.m_canClaimPromise ||
                (this.m_canClaimPromise = this.InternalLoadCanUserClaimItem()),
              this.m_canClaimPromise);
        }
        async InternalLoadCanUserClaimItem() {
          (0, B.w)(
            T.iA.logged_in,
            "User must be logged to use CSaleItemClaimableRewardsStore",
          );
          const e = i.w.Init(h);
          e.Body().set_language(T.TS.LANGUAGE);
          let t = null;
          try {
            const a = await n.CanClaimItem(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                (this.m_claimedFreeItemDef = Boolean(
                  a.Body().reward_item()?.defid(),
                )
                  ? a.Body().reward_item().toObject()
                  : null),
                (this.m_claimState = {
                  bCanClaimNewItem: a.Body().can_claim(),
                  bAlreadyClaimedCurrentItem: Boolean(
                    this.m_claimedFreeItemDef,
                  ),
                  appid: this.m_claimedFreeItemDef?.appid,
                  community_item_type:
                    this.m_claimedFreeItemDef?.community_item_type,
                  community_item_class:
                    this.m_claimedFreeItemDef?.community_item_class,
                  rtNextClaimTime:
                    a.Body().next_claim_time() > 0
                      ? a.Body().next_claim_time()
                      : void 0,
                }),
                (this.m_rtNextClaimTime = a.Body().next_claim_time()),
                this.SetClaimTimer(),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                this.m_claimState
              );
            t = (0, A.H)(a);
          } catch (e) {
            t = (0, A.H)(e);
          }
          return (
            console.error(
              "CSaleItemClaimableRewardsStore.InternalLoadCanUserClaimItem failed: error: " +
                t?.strErrorMsg,
              t,
            ),
            { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
          );
        }
        async UserClaimItem() {
          return (
            this.m_testNextClaimFakeResponse &&
              (console.log(
                "CSaleItemClaimableRewardsStore - testing, pretending claim action succeeded",
                (0, P.HO)(this.m_testNextClaimFakeResponse),
              ),
              (this.m_claimState = this.m_testNextClaimFakeResponse),
              this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
              (this.m_rtNextClaimTime = this.m_claimState.rtNextClaimTime),
              this.SetClaimTimer(),
              (this.m_testNextClaimFakeResponse = null)),
            this.m_bInTestMode
              ? this.m_claimState
              : (this.m_claimPromise ||
                  (this.m_claimPromise = this.InternalUserClaimItem()),
                this.m_claimPromise)
          );
        }
        async InternalUserClaimItem() {
          (0, B.w)(
            T.iA.logged_in,
            "User must be logged to use CSaleItemClaimableRewardsStore",
          ),
            (0, B.w)(
              this.m_claimState.bCanClaimNewItem,
              "Only should be called when we previously verified you can claim something. ",
            );
          const e = i.w.Init(_);
          e.Body().set_language(T.TS.LANGUAGE);
          let t = null;
          try {
            const a = await n.ClaimItem(
              this.m_SteamInterface.GetServiceTransport(),
              e,
            );
            if (1 == a.GetEResult())
              return (
                (this.m_claimedFreeItemDef = a.Body().reward_item().toObject()),
                (this.m_claimState = {
                  bCanClaimNewItem: !1,
                  bAlreadyClaimedCurrentItem: Boolean(
                    this.m_claimedFreeItemDef,
                  ),
                  appid: this.m_claimedFreeItemDef.appid,
                  community_item_type:
                    this.m_claimedFreeItemDef.community_item_type,
                  community_item_class:
                    this.m_claimedFreeItemDef.community_item_class,
                  rtNextClaimTime:
                    a.Body().next_claim_time() > 0
                      ? a.Body().next_claim_time()
                      : void 0,
                }),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                (this.m_rtNextClaimTime = a.Body().next_claim_time()),
                this.SetClaimTimer(),
                this.m_claimState
              );
            if (29 == a.GetEResult())
              return (
                (this.m_canClaimPromise = this.InternalLoadCanUserClaimItem()),
                this.m_canClaimPromise
              );
            t = (0, A.H)(a);
          } catch (e) {
            t = (0, A.H)(e);
          }
          return (
            console.error(
              "CSaleItemClaimableRewardsStore.InternalUserClaimItem failed: error: " +
                t?.strErrorMsg,
              t,
            ),
            { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
          );
        }
        SetClaimTimer() {
          if (this.m_claimTimer) return;
          if (!this.m_rtNextClaimTime) return;
          const e = Date.now();
          let t = new Date(1e3 * this.m_rtNextClaimTime);
          const a = Math.max(0, Math.min(1, t.getTime() - e));
          this.m_claimTimer = window.setTimeout(
            () => {
              (this.m_claimTimer = void 0),
                Date.now() > t.getTime()
                  ? ((this.m_canClaimPromise = null),
                    (this.m_claimPromise = null),
                    (this.m_claimedFreeItemDef = null),
                    (this.m_claimState = {
                      bCanClaimNewItem: !0,
                      bAlreadyClaimedCurrentItem: !1,
                      rtNextClaimTime: void 0,
                    }),
                    this.GetClaimStateChangeCallback().Dispatch(
                      this.m_claimState,
                    ))
                  : this.SetClaimTimer();
            },
            a > 3e5 ? a / 2 : a,
          );
        }
        static s_Singleton;
        static Get() {
          return (
            G.s_Singleton ||
              ((G.s_Singleton = new G()),
              G.s_Singleton.Init(),
              "dev" == T.TS.WEB_UNIVERSE &&
                (window.g_SaleItemClaimableRewardsStore = G.s_Singleton)),
            G.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, T.Tc)("loyalty_webapi_token", "application_config");
          (0, B.w)(
            e,
            "CQuestCommunityInventoryStore: missing loyalty_webapi_token oauth permission",
          ),
            (this.m_SteamInterface = new s.D(T.TS.WEBAPI_BASE_URL, e));
        }
      }
      function O() {
        const [e, t] = (0, M.useState)(G.Get().GetClaimItemState()),
          [a, n] = (0, M.useState)(!0);
        return (
          (0, M.useEffect)(() => {
            G.Get()
              .LoadCanUserClaimItem()
              .then(t)
              .finally(() => n(!1));
          }, []),
          (0, R.hL)(G.Get().GetClaimStateChangeCallback(), t),
          { ...e, bLoading: a }
        );
      }
      function F() {
        return { fnClaimItem: G.Get().UserClaimItem };
      }
      async function L(e) {
        return G.Get().ActivateProfileModifier(e);
      }
      (0, r.Cg)([R.oI], G.prototype, "TEST_OverrideClaimState", null),
        (0, r.Cg)([R.oI], G.prototype, "UserClaimItem", null);
    },
    36148: (e, t, a) => {
      "use strict";
      a.d(t, { Jo: () => q, Vz: () => j, $d: () => V });
      var n,
        r,
        i = a(56545),
        s = (a(37735), a(80613)),
        l = a.n(s),
        o = a(89068);
      class c extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            c.prototype.voteid || o.Sg(c.M()),
            s.Message.initialize(this, e, 0, -1, [5, 7], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            c.sm_m ||
              (c.sm_m = {
                proto: c,
                fields: {
                  voteid: { n: 1, br: o.qM.readInt32, bw: o.gp.writeInt32 },
                  active: { n: 2, br: o.qM.readBool, bw: o.gp.writeBool },
                  start_time: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  end_time: { n: 4, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  app_discounts: { n: 5, c: m, r: !0, q: !0 },
                  grouped_vote_options: {
                    n: 6,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  groups: { n: 7, c: d, r: !0, q: !0 },
                  internal_name: {
                    n: 8,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  localization: { n: 9, c: u },
                  reveal_time: {
                    n: 10,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  release_date_min: {
                    n: 11,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  winner_appid: {
                    n: 12,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  flag: { n: 13, br: o.qM.readEnum, bw: o.gp.writeEnum },
                  release_date_max: {
                    n: 14,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  item_type: {
                    n: 15,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            c.sm_m
          );
        }
        static MBF() {
          return c.sm_mbf || (c.sm_mbf = o.w0(c.M())), c.sm_mbf;
        }
        toObject(e = !1) {
          return c.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(c.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(c.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new c();
          return c.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(c.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(c.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return c.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_VoteDefinition";
        }
      }
      class m extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.appid || o.Sg(m.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  discount: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = o.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_VoteDefinition_AppDefinition";
        }
      }
      class d extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.groupid || o.Sg(d.M()),
            s.Message.initialize(this, e, 0, -1, [3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  groupid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  group_name: {
                    n: 2,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  app_discounts: { n: 3, c: m, r: !0, q: !0 },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = o.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_VoteDefinition_GroupDefinition";
        }
      }
      class u extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.title || o.Sg(u.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  title: { n: 1, br: o.qM.readString, bw: o.gp.writeString },
                  title_linebreak: {
                    n: 2,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  title_award: {
                    n: 3,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                  award_description: {
                    n: 4,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = o.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_VoteDefinition_Localization";
        }
      }
      class p extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.language || o.Sg(p.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: {
                  language: { n: 1, br: o.qM.readString, bw: o.gp.writeString },
                  sale_appid: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = o.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_GetVoteDefinitions_Request";
        }
      }
      class _ extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.votes || o.Sg(_.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  votes: { n: 1, c, r: !0, q: !0 },
                  labor_of_love_winners: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: o.qM.readUint32,
                    pbr: o.qM.readPackedUint32,
                    bw: o.gp.writeRepeatedUint32,
                  },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = o.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_GetVoteDefinitions_Response";
        }
      }
      class g extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.voteid || o.Sg(g.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  voteid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  appid: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  communityitemid: {
                    n: 3,
                    br: o.qM.readUint64String,
                    bw: o.gp.writeUint64String,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = o.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "SteamAwardsUserVote";
        }
      }
      class h extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.sale_appid || o.Sg(h.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  sale_appid: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = o.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_GetUserVotes_Request";
        }
      }
      class E extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            E.prototype.user_votes || o.Sg(E.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            E.sm_m ||
              (E.sm_m = {
                proto: E,
                fields: { user_votes: { n: 1, c: g, r: !0, q: !0 } },
              }),
            E.sm_m
          );
        }
        static MBF() {
          return E.sm_mbf || (E.sm_mbf = o.w0(E.M())), E.sm_mbf;
        }
        toObject(e = !1) {
          return E.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(E.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(E.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new E();
          return E.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(E.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(E.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return E.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_GetUserVotes_Response";
        }
      }
      class S extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            S.prototype.voteid || o.Sg(S.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            S.sm_m ||
              (S.sm_m = {
                proto: S,
                fields: {
                  voteid: { n: 1, br: o.qM.readInt32, bw: o.gp.writeInt32 },
                  appid: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  sale_appid: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            S.sm_m
          );
        }
        static MBF() {
          return S.sm_mbf || (S.sm_mbf = o.w0(S.M())), S.sm_mbf;
        }
        toObject(e = !1) {
          return S.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(S.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(S.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new S();
          return S.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(S.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(S.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return S.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_SetVote_Request";
        }
      }
      class y extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.user_votes || o.Sg(y.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: { user_votes: { n: 1, c: g, r: !0, q: !0 } },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = o.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStore_SetVote_Response";
        }
      }
      class v extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            v.prototype.category_id || o.Sg(v.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            v.sm_m ||
              (v.sm_m = {
                proto: v,
                fields: {
                  category_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  appid: { n: 2, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  last_updated: {
                    n: 3,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            v.sm_m
          );
        }
        static MBF() {
          return v.sm_mbf || (v.sm_mbf = o.w0(v.M())), v.sm_mbf;
        }
        toObject(e = !1) {
          return v.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(v.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(v.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new v();
          return v.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(v.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(v.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return v.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwardsNomination";
        }
      }
      class f extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new f();
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetUserNominations_Request";
        }
      }
      class b extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.nominations || o.Sg(b.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: { nominations: { n: 1, c: v, r: !0, q: !0 } },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = o.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetUserNominations_Response";
        }
      }
      class w extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            w.prototype.steamid || o.Sg(w.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            w.sm_m ||
              (w.sm_m = {
                proto: w,
                fields: {
                  steamid: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                  code: {
                    n: 2,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            w.sm_m
          );
        }
        static MBF() {
          return w.sm_mbf || (w.sm_mbf = o.w0(w.M())), w.sm_mbf;
        }
        toObject(e = !1) {
          return w.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(w.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(w.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new w();
          return w.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(w.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(w.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return w.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetOtherUserNominations_Request";
        }
      }
      class D extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            D.prototype.category_id || o.Sg(D.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            D.sm_m ||
              (D.sm_m = {
                proto: D,
                fields: {
                  category_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  nominated_id: {
                    n: 2,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                  source: { n: 3, br: o.qM.readEnum, bw: o.gp.writeEnum },
                },
              }),
            D.sm_m
          );
        }
        static MBF() {
          return D.sm_mbf || (D.sm_mbf = o.w0(D.M())), D.sm_mbf;
        }
        toObject(e = !1) {
          return D.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(D.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(D.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new D();
          return D.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(D.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(D.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return D.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_Nominate_Request";
        }
      }
      class C extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            C.prototype.nominations || o.Sg(C.M()),
            s.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            C.sm_m ||
              (C.sm_m = {
                proto: C,
                fields: { nominations: { n: 1, c: v, r: !0, q: !0 } },
              }),
            C.sm_m
          );
        }
        static MBF() {
          return C.sm_mbf || (C.sm_mbf = o.w0(C.M())), C.sm_mbf;
        }
        toObject(e = !1) {
          return C.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(C.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(C.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new C();
          return C.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(C.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(C.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return C.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_Nominate_Response";
        }
      }
      class I extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            I.prototype.category_id || o.Sg(I.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            I.sm_m ||
              (I.sm_m = {
                proto: I,
                fields: {
                  category_id: {
                    n: 1,
                    br: o.qM.readUint32,
                    bw: o.gp.writeUint32,
                  },
                },
              }),
            I.sm_m
          );
        }
        static MBF() {
          return I.sm_mbf || (I.sm_mbf = o.w0(I.M())), I.sm_mbf;
        }
        toObject(e = !1) {
          return I.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(I.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(I.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new I();
          return I.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(I.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(I.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return I.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationRecommendations_Request";
        }
      }
      class B extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            B.prototype.played_app || o.Sg(B.M()),
            s.Message.initialize(this, e, 0, -1, [1, 2, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            B.sm_m ||
              (B.sm_m = {
                proto: B,
                fields: {
                  played_app: { n: 1, c: T, r: !0, q: !0 },
                  suggested_events: { n: 2, c: M, r: !0, q: !0 },
                  suggested_apps: { n: 3, c: A, r: !0, q: !0 },
                  debug_query: {
                    n: 4,
                    br: o.qM.readString,
                    bw: o.gp.writeString,
                  },
                },
              }),
            B.sm_m
          );
        }
        static MBF() {
          return B.sm_mbf || (B.sm_mbf = o.w0(B.M())), B.sm_mbf;
        }
        toObject(e = !1) {
          return B.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(B.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(B.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new B();
          return B.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(B.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(B.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return B.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationRecommendations_Response";
        }
      }
      class T extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            T.prototype.appid || o.Sg(T.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            T.sm_m ||
              (T.sm_m = {
                proto: T,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  playtime: { n: 2, br: o.qM.readInt32, bw: o.gp.writeInt32 },
                },
              }),
            T.sm_m
          );
        }
        static MBF() {
          return T.sm_mbf || (T.sm_mbf = o.w0(T.M())), T.sm_mbf;
        }
        toObject(e = !1) {
          return T.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(T.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(T.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new T();
          return T.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(T.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(T.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return T.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationRecommendations_Response_PlayedApps";
        }
      }
      class M extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            M.prototype.clanid || o.Sg(M.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            M.sm_m ||
              (M.sm_m = {
                proto: M,
                fields: {
                  clanid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                  event_gid: {
                    n: 2,
                    br: o.qM.readUint64String,
                    bw: o.gp.writeUint64String,
                  },
                  appid: { n: 3, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                },
              }),
            M.sm_m
          );
        }
        static MBF() {
          return M.sm_mbf || (M.sm_mbf = o.w0(M.M())), M.sm_mbf;
        }
        toObject(e = !1) {
          return M.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(M.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(M.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new M();
          return M.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(M.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(M.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return M.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationRecommendations_Response_SuggestedEvent";
        }
      }
      class A extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            A.prototype.appid || o.Sg(A.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            A.sm_m ||
              (A.sm_m = {
                proto: A,
                fields: {
                  appid: { n: 1, br: o.qM.readUint32, bw: o.gp.writeUint32 },
                },
              }),
            A.sm_m
          );
        }
        static MBF() {
          return A.sm_mbf || (A.sm_mbf = o.w0(A.M())), A.sm_mbf;
        }
        toObject(e = !1) {
          return A.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(A.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(A.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new A();
          return A.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(A.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(A.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return A.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationRecommendations_Response_SuggestedApp";
        }
      }
      class k extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            k.prototype.generate_new || o.Sg(k.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            k.sm_m ||
              (k.sm_m = {
                proto: k,
                fields: {
                  generate_new: { n: 1, br: o.qM.readBool, bw: o.gp.writeBool },
                },
              }),
            k.sm_m
          );
        }
        static MBF() {
          return k.sm_mbf || (k.sm_mbf = o.w0(k.M())), k.sm_mbf;
        }
        toObject(e = !1) {
          return k.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(k.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(k.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new k();
          return k.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(k.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(k.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return k.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationShareLink_Request";
        }
      }
      class R extends s.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            R.prototype.code || o.Sg(R.M()),
            s.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            R.sm_m ||
              (R.sm_m = {
                proto: R,
                fields: {
                  code: {
                    n: 1,
                    br: o.qM.readFixed64String,
                    bw: o.gp.writeFixed64String,
                  },
                },
              }),
            R.sm_m
          );
        }
        static MBF() {
          return R.sm_mbf || (R.sm_mbf = o.w0(R.M())), R.sm_mbf;
        }
        toObject(e = !1) {
          return R.toObject(e, this);
        }
        static toObject(e, t) {
          return o.BT(R.M(), e, t);
        }
        static fromObject(e) {
          return o.Uq(R.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (l().BinaryReader)(e),
            a = new R();
          return R.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return o.zj(R.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (l().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          o.i0(R.M(), e, t);
        }
        serializeBase64String() {
          var e = new (l().BinaryWriter)();
          return R.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CSteamAwards_GetNominationShareLink_Response";
        }
      }
      !(function (e) {
        (e.GetVoteDefinitions = function (e, t) {
          return e.SendMsg(
            "StoreSales.GetVoteDefinitions#1",
            (0, i.I8)(p, t),
            _,
            { bConstMethod: !0, ePrivilege: 2, eWebAPIKeyRequirement: 1 },
          );
        }),
          (e.SetVote = function (e, t) {
            return e.SendMsg("StoreSales.SetVote#1", (0, i.I8)(S, t), y, {
              ePrivilege: 1,
            });
          }),
          (e.GetUserVotes = function (e, t) {
            return e.SendMsg("StoreSales.GetUserVotes#1", (0, i.I8)(h, t), E, {
              bConstMethod: !0,
              ePrivilege: 1,
            });
          });
      })(n || (n = {})),
        (function (e) {
          (e.GetUserNominations = function (e, t) {
            return e.SendMsg(
              "SteamAwards.GetUserNominations#1",
              (0, i.I8)(f, t),
              b,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
            (e.GetOtherUserNominations = function (e, t) {
              return e.SendMsg(
                "SteamAwards.GetOtherUserNominations#1",
                (0, i.I8)(w, t),
                b,
                { bConstMethod: !0, ePrivilege: 2 },
              );
            }),
            (e.Nominate = function (e, t) {
              return e.SendMsg("SteamAwards.Nominate#1", (0, i.I8)(D, t), C, {
                bConstMethod: !0,
                ePrivilege: 1,
              });
            }),
            (e.GetNominationRecommendations = function (e, t) {
              return e.SendMsg(
                "SteamAwards.GetNominationRecommendations#1",
                (0, i.I8)(I, t),
                B,
                { bConstMethod: !0, ePrivilege: 1 },
              );
            }),
            (e.GetNominationShareLink = function (e, t) {
              return e.SendMsg(
                "SteamAwards.GetNominationShareLink#1",
                (0, i.I8)(k, t),
                R,
                { ePrivilege: 1 },
              );
            });
        })(r || (r = {}));
      var P = a(20194),
        N = a(75233),
        G = a(51614),
        O = a(23809),
        F = a(30470),
        L = a(24484),
        U = (a(30894), a(41735), a(90626));
      a(58222);
      let z;
      function x() {
        return (
          z || (z = (0, L.Fd)("steam_awards_config", "application_config")), z
        );
      }
      U.createContext(null);
      function q(e) {
        const t = (0, O.KV)();
        return (0, P.I)({
          queryKey: [`SteamAwardDefs_${e}`],
          queryFn: async () => {
            const a = i.w.Init(p);
            a.Body().set_sale_appid(e), a.Body().set_language(F.TS.LANGUAGE);
            return (await n.GetVoteDefinitions(t, a)).Body().toObject();
          },
          initialData: () => x()?.definitions,
          enabled: e > 0,
        });
      }
      function W() {
        const e = (0, O.KV)();
        return (0, P.I)({
          queryKey: [`SteamAwardNominations_${F.iA.accountid}`],
          queryFn: async () => {
            const t = i.w.Init(f),
              a = await r.GetUserNominations(e, t);
            return a.Body().toObject()?.nominations;
          },
          initialData: () => x()?.user_nominations?.nominations,
          enabled: F.iA.logged_in,
        });
      }
      function j(e) {
        const t = W();
        return t.isLoading
          ? { bLoadingNominationForCategory: !0 }
          : {
              currentNomination: t.data?.find((t) => t.category_id == e),
              bLoadingNominationForCategory: !1,
            };
      }
      function H() {
        return [`SteamAwardBadgeProgress_${F.iA.accountid}`];
      }
      function V(e, t, a, n) {
        const s = (0, O.KV)(),
          l = (0, N.jE)();
        return (0, G.n)({
          mutationFn: () =>
            (async function (e, t, a, n) {
              const s = i.w.Init(D);
              s.Body().set_category_id(a),
                s.Body().set_source(n),
                s.Body().set_nominated_id(t);
              const l = await r.Nominate(e, s);
              return (
                l.BSuccess() ||
                  console.warn(`Failed to nominate app: ${l.GetEResult()}`),
                [l.GetEResult(), l.Body().toObject()]
              );
            })(s, e, t, a),
          onSuccess: ([e, t]) => {
            1 == e
              ? (!(function (e, t) {
                  e.setQueryData(
                    [`SteamAwardNominations_${F.iA.accountid}`],
                    t,
                  );
                })(l, t.nominations),
                window.setTimeout(
                  () => l.invalidateQueries({ queryKey: H() }),
                  1e3,
                ))
              : n && n(e);
          },
          onError: () => {
            n && n();
          },
        });
      }
    },
    79645: (e, t, a) => {
      "use strict";
      a.d(t, { S: () => m, c: () => c });
      var n = a(41735),
        r = a.n(n),
        i = a(20194),
        s = a(68797),
        l = a(30470),
        o = a(78327);
      function c(e) {
        const { data: t, isLoading: a } = (0, i.I)({
          queryKey: ["PartnerInfoList", e],
          queryFn: () =>
            (async function (e) {
              const t = { accountid: e, origin: self.origin };
              let a = `${l.TS.COMMUNITY_BASE_URL}actions/ajaxgetuserpartnerinfo`;
              "partnerweb" == (0, o.yK)() &&
                (a = `${l.TS.PARTNER_BASE_URL}actions/ajaxgetuserpartnerinfo`);
              const n = await r().get(a, { params: t, withCredentials: !0 });
              if (
                !n ||
                200 != n.status ||
                1 != n.data?.success ||
                !n.data?.partners
              )
                throw `Load single user partner info failed ${((0, s.H))(n).strErrorMsg}`;
              return n.data.partners;
            })(e),
        });
        return a ? null : t;
      }
      function m(e, t) {
        const a = c(e);
        return a?.find((e) => e.partnerid === t);
      }
    },
    42569: (e, t, a) => {
      "use strict";
      a.d(t, { m: () => s });
      var n = a(90626),
        r = a(79645),
        i = a(16676);
      function s(e) {
        const {
            accountID: t,
            partnerID: a,
            fnSetPartnerID: s,
            strLabel: l,
            strTooltip: o,
          } = e,
          c = (0, r.c)(t),
          m = (0, n.useMemo)(
            () =>
              c?.length > 0
                ? c.map((e) => ({ label: e.partner_name, data: e.partnerid }))
                : null,
            [c],
          );
        return null == m
          ? null
          : n.createElement(i.m, {
              label: l,
              tooltip: o,
              rgOptions: m,
              selectedOption: a,
              onChange: (e) => s(e.data),
            });
      }
    },
    6205: (e, t, a) => {
      "use strict";
      a.d(t, { I: () => ge });
      var n = a(34629),
        r = a(41735),
        i = a.n(r),
        s = a(75844),
        l = a(90626),
        o = a(79821),
        c = a(88997),
        m = a(70995),
        d = a(17720),
        u = a(27666),
        p = a(86355),
        _ = a(65739),
        g = a(73745),
        h = a(31698),
        E = a(14947),
        S = a(77700),
        y = a.n(S),
        v = a(52038);
      class f extends l.Component {
        m_strLastSearch;
        m_rgCurrentMatches = [];
        m_mapMatchByKey = new Map();
        containerRef = l.createRef();
        constructor(e) {
          super(e),
            (this.m_hMobxSearchDisposer = (0, E.fm)(async () => {
              await this.UpdateSearchResults(this.props.strSearch),
                this.forceUpdate();
            })),
            (this.state = { selectedIndex: void 0 });
        }
        OnKeyDown(e) {
          this.BHandleKeyPress(e.keyCode) && e.preventDefault();
        }
        BHandleKeyPress(e) {
          switch (e) {
            case 38:
              this.SetSelectedIndexDelta(-1);
              break;
            case 40:
              this.SetSelectedIndexDelta(1);
              break;
            case 36:
              this.SetSelectedIndex(0);
              break;
            case 33:
              this.SetSelectedIndexDelta(-this.GetPageSize());
              break;
            case 35:
              this.SetSelectedIndex(-1);
              break;
            case 34:
              this.SetSelectedIndexDelta(this.GetPageSize());
              break;
            case 13:
            case 9:
              if (void 0 === this.state.selectedIndex)
                return (
                  this.props.onSuggestionSelected(this.props.strSearch), !1
                );
              this.ChooseSuggestion(
                this.m_rgCurrentMatches[this.state.selectedIndex],
              );
              break;
            case 27:
              this.props.onSuggestionSelected(this.props.strSearch);
              break;
            default:
              return !1;
          }
          return !0;
        }
        GetPageSize() {
          let e = this.containerRef.current,
            t = e && e.firstElementChild,
            a = this.m_rgCurrentMatches.length;
          if (
            (a > this.getMaxMatches() && (a = this.getMaxMatches()), t && a)
          ) {
            let e = t.scrollHeight / a,
              n = t.clientHeight / e;
            return Math.max(1, Math.floor(n));
          }
          return 5;
        }
        ChooseSuggestion(e) {
          this.props.onSuggestionSelected(
            this.props.strSearch,
            e ? this.getSelection(e) : void 0,
          );
        }
        SetSelectedIndexDelta(e) {
          void 0 !== this.state.selectedIndex
            ? this.SetSelectedIndex(this.state.selectedIndex + e)
            : this.SetSelectedIndex(1 === e ? 0 : e);
        }
        SetSelectedIndex(e) {
          if (!this.m_rgCurrentMatches.length) return;
          let t = this.m_rgCurrentMatches.length;
          t > this.getMaxMatches() && (t = this.getMaxMatches()),
            (e %= t) < 0 && (e += t),
            this.setState({ selectedIndex: e });
        }
        FindKeyIndex(e) {
          if (!this.m_mapMatchByKey.size && this.m_rgCurrentMatches.length)
            for (let e = 0; e < this.m_rgCurrentMatches.length; e++)
              this.m_mapMatchByKey.set(
                this.getKey(this.m_rgCurrentMatches[e]),
                e,
              );
          return this.m_mapMatchByKey.get(e);
        }
        OnClickSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.ChooseSuggestion(this.m_rgCurrentMatches[t]);
        }
        OnMouseOverSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.SetSelectedIndex(t);
        }
        BindSelectedElement(e) {
          if (!e) return;
          let t = this.containerRef.current,
            a = e.containerRef.current,
            n = t && t.firstElementChild;
          a &&
            n &&
            (n.scrollTop + n.clientHeight < a.offsetTop ||
              a.offsetTop < n.scrollTop) &&
            a.scrollIntoView();
        }
        async UpdateSearchResults(e) {
          (this.m_rgCurrentMatches = await this.performSearch(e)),
            (this.m_strLastSearch = e),
            this.m_mapMatchByKey.clear(),
            this.m_rgCurrentMatches.length
              ? this.state && void 0 !== this.state.selectedIndex
                ? this.state.selectedIndex >= this.m_rgCurrentMatches.length &&
                  this.setState({ selectedIndex: 0 })
                : (void 0 ===
                    this.props.nMinimumSearchLengthBeforeAutoSelection ||
                    e.length >=
                      this.props.nMinimumSearchLengthBeforeAutoSelection) &&
                  this.setState({ selectedIndex: 0 })
              : this.state &&
                void 0 !== this.state.selectedIndex &&
                this.setState({ selectedIndex: void 0 });
        }
        m_hMobxSearchDisposer;
        componentWillUnmount() {
          this.m_hMobxSearchDisposer &&
            (this.m_hMobxSearchDisposer(),
            (this.m_hMobxSearchDisposer = void 0));
        }
        async componentDidUpdate(e) {
          this.m_strLastSearch != this.props.strSearch &&
            (await this.UpdateSearchResults(this.props.strSearch),
            this.forceUpdate());
        }
        render() {
          let e = [];
          if (this.m_rgCurrentMatches.length) {
            let t = this.getMaxMatches();
            for (
              let a = 0;
              a < Math.min(t, this.m_rgCurrentMatches.length);
              a++
            ) {
              let t = this.m_rgCurrentMatches[a],
                n = this.getKey(t),
                r = a === this.state.selectedIndex;
              e.push(
                l.createElement(
                  b,
                  {
                    key: n,
                    matchKey: n,
                    fnOnClick: this.OnClickSuggestion,
                    fnOnMouseOver: this.OnMouseOverSuggestion,
                    bIsSelected: r,
                    ref: r ? this.BindSelectedElement : void 0,
                  },
                  this.renderMatch(t),
                ),
              );
            }
            this.m_rgCurrentMatches.length > t &&
              e.push(
                this.renderTooManyMatchesMessage(
                  this.m_rgCurrentMatches.length - t,
                ),
              );
          } else {
            let t = this.renderNoMatchMessage();
            if (!t) return null;
            e.push(t);
          }
          return l.createElement(
            "div",
            { className: y().mentionDialogPosition, ref: this.containerRef },
            l.createElement(
              "div",
              {
                className: y().mentionDialog,
                tabIndex: 0,
                onKeyDown: this.OnKeyDown,
              },
              this.renderHeader(),
              e,
            ),
          );
        }
      }
      (0, n.Cg)([g.oI], f.prototype, "OnKeyDown", null),
        (0, n.Cg)([g.oI], f.prototype, "OnClickSuggestion", null),
        (0, n.Cg)([g.oI], f.prototype, "OnMouseOverSuggestion", null),
        (0, n.Cg)([g.oI], f.prototype, "BindSelectedElement", null);
      class b extends l.PureComponent {
        containerRef = l.createRef();
        OnMouseOver(e) {
          this.props.fnOnMouseOver(this.props.matchKey);
        }
        OnClick(e) {
          this.props.fnOnClick(this.props.matchKey);
        }
        render() {
          return l.createElement(
            "div",
            {
              className: (0, v.A)(
                y().suggestOption,
                y().mentionSearchOption,
                this.props.bIsSelected ? y().selected : "",
              ),
              onMouseEnter: this.OnMouseOver,
              onClick: this.OnClick,
              ref: this.containerRef,
            },
            this.props.children,
          );
        }
      }
      (0, n.Cg)([g.oI], b.prototype, "OnMouseOver", null),
        (0, n.Cg)([g.oI], b.prototype, "OnClick", null);
      const w = f;
      var D = a(79786),
        C = a.n(D);
      const I = class extends w {
        performSearch(e) {
          return this.props.emoticonStore.SearchEmoticons(e, 10, !1);
        }
        getSelection(e) {
          return e.name;
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return l.createElement(
            "div",
            {
              className: (0, v.A)(
                C().EmoticonSuggestion,
                e.recent ? "Recent" : "",
              ),
            },
            l.createElement(
              "div",
              { className: C().Emoticon },
              l.createElement(h.nl, {
                emoticon: e.name,
                emoticonHoverStore: this.props.emoticonHoverStore,
              }),
              e.new && l.createElement(h.iD, null),
            ),
            ":",
            e.name,
            ":",
          );
        }
        renderNoMatchMessage() {
          return null;
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      };
      var B = a(34510),
        T = a.n(B),
        M = a(61859);
      class A extends w {
        performSearch(e) {
          let t = Array();
          return (
            this.props.supportBBCodes.forEach((a) => {
              a.indexOf(e) >= 0 && t.push({ name: a });
            }),
            t
          );
        }
        getSelection(e) {
          return "[" + e.name + "][/" + e.name + "]";
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return l.createElement(
            "div",
            { key: e.name, className: (0, v.A)(T().BBCodeSuggestion) },
            l.createElement("div", { className: T().BBCode }, e.name),
            "[",
            e.name,
            "]...[/",
            e.name,
            "]",
          );
        }
        renderNoMatchMessage() {
          return l.createElement(
            "div",
            {
              key: "nomatches",
              className: (0, v.A)(y().mentionSearchOption, y().noMatches),
            },
            (0, M.we)("#Bbcode_No_Match"),
          );
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      }
      class k extends l.Component {
        descTextAreaRef = l.createRef();
        m_MentionDialog;
        m_bDisabled = !0;
        m_iMentionSearchStartOffset;
        m_iMentionSearchCancelledOffset;
        constructor(e) {
          super(e),
            (this.state = {
              mentionSearch: void 0,
              activeSuggestSearchType: void 0,
            });
        }
        BindMentionDialog(e) {
          this.m_MentionDialog = e;
        }
        OnKeyDown(e) {
          this.state.activeSuggestSearchType &&
          this.m_MentionDialog &&
          !e.shiftKey &&
          !e.ctrlKey &&
          this.m_MentionDialog.BHandleKeyPress(e.keyCode)
            ? e.preventDefault()
            : (8 != e.keyCode && 46 != e.keyCode) ||
              (this.m_iMentionSearchCancelledOffset = void 0);
        }
        FindMatchOpener(e, t, a) {
          for (let n = a - 1; n >= 0; n--) {
            if (t[n] == e) return n;
            if (" " == t[n] || "\n" == t[n]) break;
          }
        }
        ReplaceSuggestedText(e, t) {
          let a = this.descTextAreaRef.current.selectionStart,
            n = this.descTextAreaRef.current.value,
            r = this.FindMatchOpener(e, n, a);
          if (
            (void 0 === r && "@" == e && (r = this.FindMatchOpener("＠", n, a)),
            void 0 !== r)
          ) {
            let e = n.substr(0, r);
            (e += t), (a >= n.length || " " != n[a]) && (e += " ");
            let i = e.length;
            (e += n.substr(a)),
              (this.descTextAreaRef.current.value = e),
              (this.descTextAreaRef.current.selectionStart =
                this.descTextAreaRef.current.selectionEnd =
                  i),
              this.props.fnSetText(e),
              this.FocusTextInput();
          }
        }
        OnFocus(e) {
          this.UpdateAutoSearchState();
        }
        OnKeyPress(e) {
          this.UpdateAutoSearchState();
        }
        OnClick(e) {
          this.UpdateAutoSearchState();
        }
        ClearMentionSearchState() {
          (this.m_iMentionSearchStartOffset = void 0),
            this.state.activeSuggestSearchType &&
              this.setState({
                activeSuggestSearchType: void 0,
                mentionSearch: void 0,
              });
        }
        OnEmoticonSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText(":", ":" + t + ":"),
            this.ClearMentionSearchState();
        }
        OnBBCodeSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText("[", t), this.ClearMentionSearchState();
        }
        FocusTextInput() {
          this.descTextAreaRef.current && this.descTextAreaRef.current.focus();
        }
        UpdateAutoSearchState() {
          let e = this.descTextAreaRef.current;
          if (!e || this.m_bDisabled) return;
          if (e.selectionStart != e.selectionEnd || !e.selectionStart)
            return void this.ClearMentionSearchState();
          let t,
            a,
            n = e.selectionStart,
            r = e.value;
          for (let e = n - 1; e >= 0; e--) {
            let n = e > 0 ? r[e - 1] : void 0;
            if (this.props.emoticonStore && ":" == r[e] && r.length > 2) {
              (n && " " != n && "\n" != n && ":" != n) ||
                ((t = e), (a = "Emoticon"));
              break;
            }
            if ("[" == r[e] && (e + 1 > r.length || "/" != r[e + 1])) {
              (n && " " != n && "\n" != n && "]" != n) ||
                ((t = e), (a = "BBCode"));
              break;
            }
            if (" " == r[e] || "\n" == r[e]) break;
          }
          if (void 0 === t || t === this.m_iMentionSearchCancelledOffset)
            return void this.ClearMentionSearchState();
          let i = r.substr(t + 1, n - t - 1);
          (this.m_iMentionSearchStartOffset = t),
            this.setState({ activeSuggestSearchType: a, mentionSearch: i });
        }
        GetTextAreaRef() {
          return this.descTextAreaRef;
        }
        GetTextAreaCurrent() {
          return this.descTextAreaRef.current;
        }
        render() {
          let e,
            {
              emoticonStore: t,
              supportBBCodes: a,
              fnSetText: n,
              ...r
            } = this.props;
          switch (this.state.activeSuggestSearchType) {
            case "Emoticon":
              e = l.createElement(I, {
                emoticonStore: t,
                emoticonHoverStore: _.s,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnEmoticonSuggestionSelected,
                ref: this.BindMentionDialog,
              });
              break;
            case "BBCode":
              e = l.createElement(A, {
                supportBBCodes: a,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnBBCodeSuggestionSelected,
                ref: this.BindMentionDialog,
              });
          }
          return l.createElement(
            l.Fragment,
            null,
            e,
            l.createElement("textarea", {
              ...r,
              ref: this.descTextAreaRef,
              onKeyDown: this.OnKeyDown,
              onKeyUp: this.OnKeyPress,
              onFocus: this.OnFocus,
              onClick: this.OnClick,
            }),
          );
        }
      }
      (0, n.Cg)([g.oI], k.prototype, "BindMentionDialog", null),
        (0, n.Cg)([g.oI], k.prototype, "OnKeyDown", null),
        (0, n.Cg)([g.oI], k.prototype, "OnFocus", null),
        (0, n.Cg)([g.oI], k.prototype, "OnKeyPress", null),
        (0, n.Cg)([g.oI], k.prototype, "OnClick", null),
        (0, n.Cg)([g.oI], k.prototype, "OnEmoticonSuggestionSelected", null),
        (0, n.Cg)([g.oI], k.prototype, "OnBBCodeSuggestionSelected", null),
        (0, n.Cg)([g.oI], k.prototype, "FocusTextInput", null),
        (0, n.Cg)([g.oI], k.prototype, "GetTextAreaRef", null),
        (0, n.Cg)([g.oI], k.prototype, "GetTextAreaCurrent", null);
      var R = a(16676),
        P = a(283),
        N = a(95695),
        G = a.n(N),
        O = a(9154),
        F = a(738),
        L = a(41609),
        U = a.n(L),
        z = a(56011),
        x = a(78327);
      var q = a(26505),
        W = a(14336),
        j = a(68451),
        H = a(1456),
        V = a(22797),
        K = a(32754),
        Y = a(99312),
        $ = a.n(Y),
        J = a(65946),
        X = a(44332),
        Q = a(66331),
        Z = a(84811),
        ee = a(17618);
      const te = (e) => {
          const { clanSteamID: t, fnImageSelectCallBack: a } = e,
            [n, r] = (0, l.useState)(""),
            i = (0, p.mr)(e.clanSteamID.GetAccountID()),
            s = () => e.closeModal && e.closeModal(),
            o = p.pU.GetFilteredClanImages(t, n),
            c = (e) => {
              a(e), s();
            };
          return l.createElement(
            Z.tH,
            null,
            l.createElement(
              O.x_,
              { onEscKeypress: s },
              l.createElement(
                R.UC,
                null,
                l.createElement(
                  R.Y9,
                  null,
                  (0, M.we)("#ClanImageChooser_Title"),
                ),
                l.createElement(
                  R.nB,
                  null,
                  l.createElement(
                    R.a3,
                    null,
                    l.createElement(
                      "p",
                      null,
                      (0, M.we)("#ClanImageChooser_Desc"),
                    ),
                    l.createElement(R.pd, {
                      placeholder: (0, M.we)("#ClanImageChooser_Search"),
                      value: n,
                      onChange: (e) => r(e.currentTarget.value),
                    }),
                    l.createElement(
                      "div",
                      { className: ee.ImagesOuterContainer },
                      i
                        ? l.createElement(V.t, {
                            size: "medium",
                            string: (0, M.we)("#Loading"),
                          })
                        : Boolean(o.length > 0)
                          ? o.map((e) =>
                              l.createElement(ae, {
                                key: "ci" + e.image_hash,
                                clanImage: e,
                                searchStringHilight: n,
                                fnImageClick: c,
                              }),
                            )
                          : Boolean(0 == n.trim().length)
                            ? l.createElement(
                                "div",
                                null,
                                (0, M.we)("#ClanImageChooser_None"),
                              )
                            : l.createElement(
                                "div",
                                null,
                                (0, M.we)(
                                  "#EventCalendar_GameSearch_NoneFound",
                                ),
                              ),
                    ),
                  ),
                ),
                l.createElement(
                  R.wi,
                  null,
                  l.createElement(
                    R.$n,
                    { onClick: s },
                    (0, M.we)("#Button_Cancel"),
                  ),
                ),
              ),
            ),
          );
        },
        ae = (e) => {
          const { clanImage: t, searchStringHilight: a, fnImageClick: n } = e;
          let r = t.file_name ? t.file_name : "",
            i = (function (e, t, a, n) {
              let r = [];
              if (e.length > 0) {
                let i = t.toLocaleLowerCase();
                for (let s = 0; s < t.length; ) {
                  let o = i.indexOf(e, s);
                  if (o < 0) {
                    r.push(
                      l.createElement(
                        "span",
                        { key: a + "_" + String(s) },
                        t.substring(s),
                      ),
                    );
                    break;
                  }
                  s < o &&
                    r.push(
                      l.createElement(
                        "span",
                        { key: a + "_" + String(s) },
                        t.substring(s, o),
                      ),
                    ),
                    r.push(
                      l.createElement(
                        "span",
                        { key: a + "_" + String(s), className: n },
                        t.substr(o, e.length),
                      ),
                    ),
                    (s = o + e.length);
                }
              } else r.push(l.createElement("span", { key: a + "_null" }, t));
              return r;
            })(a, r, String(t.imageid), ee.Hilight);
          return l.createElement(
            "div",
            { className: ee.ImageContainer },
            l.createElement("div", {
              className: ee.Image,
              style: { backgroundImage: `url( '${t.thumb_url}' )` },
              onDoubleClick: () => n(t),
            }),
            l.createElement(
              "div",
              { className: ee.ImageFilename, title: r },
              i,
            ),
          );
        };
      var ne = a(64233),
        re = a(28954),
        ie = a(63556),
        se = a(2160);
      const le = (0, s.PA)((e) => {
        const {
            clanSteamID: t,
            inputClanImage: a,
            nWidth: n,
            nHeight: r,
            setImage: i,
          } = e,
          s = l.useMemo(() => ["sale_header"], []),
          o = l.useMemo(() => ({ width: n, height: r }), [n, r]),
          [c, m] = l.useState(void 0),
          [_, g] = l.useState(Boolean(a)),
          [h, E] = l.useState(!1),
          [S] = (0, J.q3)(() => [ie.O.Get().GetCurEditLanguage()]),
          y = l.useMemo(() => new re.V(t), [t.ConvertTo64BitString()]),
          v = l.useCallback(
            async (e) => {
              if (
                (y.ClearImages(),
                e && (g(!0), await y.AddExistingClanImage(e, 0, s)))
              ) {
                m(e);
                const t = y.GetUploadImages()[0].IsValidAssetType(s, o);
                0 != t.error.length ||
                  t.needsCrop ||
                  (a && a.image_hash == e.image_hash) ||
                  i(e);
              }
              g(!1);
            },
            [y, a, i, s, o],
          );
        l.useEffect(() => {
          v(a);
        }, [v, a]);
        let f,
          b = "",
          w = !1;
        if (y && y.GetFilesToUpload().length > 0) {
          f = y.GetUploadImages()[0];
          const e = f.IsValidAssetType(s, o);
          (b = e.error), (w = e.needsCrop);
        }
        return l.createElement(
          l.Fragment,
          null,
          _
            ? l.createElement(V.t, {
                size: "medium",
                string: (0, M.we)("#Loading"),
              })
            : Boolean(c) &&
                l.createElement("div", {
                  className: ne.Image,
                  style: {
                    backgroundImage: `url( '${f ? f.dataUrl : c.url}' )`,
                    height: `${r}px`,
                    width: `${n}px`,
                  },
                }),
          Boolean(b) && l.createElement("p", null, b),
          w &&
            l.createElement(
              R.$n,
              {
                onClick: (e) => {
                  const t = (0, z.uX)(e);
                  let a = y.GetUploadImages()[0];
                  (0, F.pg)(
                    l.createElement(Q.q, {
                      ownerWin: t,
                      uploadFile: a,
                      forceResolution: { width: n, height: r },
                      fileType: 3,
                    }),
                    t,
                  );
                },
              },
              (0, M.we)("#BBCode_ResizeImage"),
            ),
          Boolean(f && f.bCropped) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                null,
                (0, M.we)("#ClanImagePickAndResize_UploadStatus", f.status),
              ),
              h
                ? l.createElement(V.t, {
                    string: (0, M.we)("#Uploading"),
                    size: "small",
                  })
                : l.createElement(
                    R.$n,
                    {
                      onClick: async () => {
                        E(!0);
                        try {
                          const e = await y.UploadAllImages(
                              [se.TU.k_ESteamRealmGlobal],
                              S,
                              s,
                              o,
                            ),
                            a = Object.values(e);
                          if (
                            a &&
                            a.length > 0 &&
                            ((0, X.w)(
                              1 == a.length,
                              "ClanImagePickForCertainSize expected size 1, got " +
                                a.length,
                            ),
                            1 == a[0].success)
                          ) {
                            const e = a[0],
                              n = (0, u.mJ)() + t.GetAccountID() + "/",
                              r = p.i6.GetExtensionStringForFileType(
                                e.file_type,
                              ),
                              s = n + e.image_hash + r,
                              l = n + e.thumbnail_hash + r,
                              o = {
                                imageid: -11231412,
                                image_hash: e.image_hash,
                                thumbnail_hash: e.thumbnail_hash,
                                file_type: e.file_type,
                                file_name: e.file_name,
                                clanAccountID: t.GetAccountID(),
                                url: s,
                                thumb_url: l,
                                uploaded_time: Date.now() / 1e3,
                                loc_languages: void 0,
                                is_loc_group: !1,
                              };
                            m(o), i(o);
                          }
                        } finally {
                          E(!1);
                        }
                      },
                    },
                    (0, M.we)("#ClanImagePickAndResize_UploadImage"),
                  ),
            ),
          l.createElement(
            R.$n,
            {
              onClick: (e) => {
                const t = new d.b(x.UF.CLANSTEAMID);
                (0, F.pg)(
                  l.createElement(te, {
                    clanSteamID: t,
                    fnImageSelectCallBack: (e) => v(e),
                  }),
                  (0, z.uX)(e),
                );
              },
            },
            (0, M.we)("#BBCode_ChooseImage", n, r),
          ),
        );
      });
      var oe,
        ce = a(68797);
      let me = class extends l.Component {
        static {
          oe = this;
        }
        m_cancelSignal = i().CancelToken.source();
        static s_formattingHelp = new Map();
        constructor(e) {
          super(e),
            (this.state = {
              formattingHelp: {
                __html: oe.s_formattingHelp.has(e.formatType)
                  ? oe.s_formattingHelp.get(e.formatType)
                  : "",
              },
            });
        }
        componentDidMount() {
          this.AjaxGetFormattingHelp().catch((e) => {
            this.setState((0, ce.H)(e));
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "FormattingHelpWidget component unmounted",
          );
        }
        static GetHelpURL(e, t) {
          return (
            x.TS.COMMUNITY_BASE_URL +
            "comment/" +
            e +
            "/formattinghelp" +
            (t ? "?ajax=1" : "")
          );
        }
        async AjaxGetFormattingHelp() {
          if ("" == this.state.formattingHelp.__html) {
            let e,
              t = { sessionid: x.TS.SESSIONID };
            (e = await i().get(oe.GetHelpURL(this.props.formatType, !0), {
              params: t,
              cancelToken: this.m_cancelSignal.token,
            })),
              oe.s_formattingHelp.set(this.props.formatType, e.data),
              this.setState({ formattingHelp: { __html: e.data } });
          }
        }
        render() {
          return this.state.strErrorMsg
            ? l.createElement(
                "div",
                null,
                this.state.strErrorMsg,
                l.createElement("br", null),
                this.state.errorCode,
              )
            : "" == this.state.formattingHelp.__html
              ? l.createElement(V.t, null)
              : l.createElement(
                  O.o0,
                  {
                    strTitle: (0, M.we)(
                      "#EventEditor_FormattingHelp_GetHelpLink",
                    ),
                    strDescription: "",
                    closeModal: this.props.closeModal,
                    onOK: this.props.closeModal,
                    onCancel: this.props.closeModal,
                    bAlertDialog: !0,
                    className: "ModernBBStyles",
                  },
                  l.createElement("div", {
                    dangerouslySetInnerHTML: this.state.formattingHelp,
                  }),
                );
        }
      };
      me = oe = (0, n.Cg)([s.PA], me);
      var de,
        ue = a(12611),
        pe = a(74410),
        _e = a(26408);
      let ge = class extends l.Component {
        descAutoTextAreaRef = l.createRef();
        constructor(e) {
          super(e), (this.state = { bShowDragTarget: !1 });
        }
        componentDidMount() {
          p.pU.AddClanImageDragListener(this.ClanImageDragListener);
        }
        componentWillUnmount() {
          p.pU.RemoveClanImageDragListener(this.ClanImageDragListener);
        }
        ClanImageDragListener(e, t) {
          this.state.bShowDragTarget != t &&
            this.setState({ bShowDragTarget: t });
        }
        onFocus(e) {
          e && e.target.select();
        }
        InsertText(e) {
          he.replaceSelection(this.GetTextAreaRef().current, e);
        }
        OnTextAreaDropListener(e) {
          if (
            (e.preventDefault(),
            e.stopPropagation(),
            e.dataTransfer.items && e.dataTransfer.items[0])
          ) {
            let t = e.dataTransfer.getData("text");
            if (t && t.length > 0) {
              let e = (0, u.mJ)();
              if (t.startsWith(e)) {
                let a = "[img]" + ue.lw + "/" + t.substr(e.length) + "[/img]";
                he.replaceSelection(this.GetTextAreaRef().current, a);
              }
            }
          }
        }
        GetTextAreaRef() {
          return this.descAutoTextAreaRef && this.descAutoTextAreaRef.current
            ? this.descAutoTextAreaRef.current.GetTextAreaRef()
            : void 0;
        }
        render() {
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(Ee, {
              pathToImages:
                x.TS.COMMUNITY_CDN_URL + "public/images/sharedfiles/guides/",
              fnTextareaRef: this.GetTextAreaRef,
              emoticonStore: this.props.emoticonStore,
              supportBBCodes: this.props.limitBBCode
                ? this.props.limitBBCode
                : o.Kl,
              bSupportHTMLImport: this.props.bSupportHTMLImport,
              showFormatHelp: this.props.showFormatHelp,
              bEmbeddedInDialog: this.props.bEmbeddedInDialog,
              clanSteamID: this.props.clanSteamID,
            }),
            l.createElement(
              "div",
              {
                className: (0, v.A)(
                  $().DescriptionCtn,
                  $().BBCodeEditorInputStyles,
                  this.state.bShowDragTarget ? $().DragTarget : "",
                ),
              },
              l.createElement(k, {
                cols: 90,
                rows: this.props.nOverridesRows || 22,
                maxLength: 64e3,
                className: (0, v.A)(
                  $().DefaultEditor,
                  this.props.classNameForTextArea
                    ? this.props.classNameForTextArea
                    : "",
                ),
                placeholder: this.props.strPlaceholder,
                ref: this.descAutoTextAreaRef,
                value: this.props.fnGetCurText(),
                onChange: this.props.fnOnTextChange,
                onDrop: this.OnTextAreaDropListener,
                emoticonStore: this.props.emoticonStore,
                fnSetText: this.props.fnSetText,
                supportBBCodes: this.props.limitBBCode
                  ? this.props.limitBBCode
                  : o.Kl,
              }),
            ),
          );
        }
      };
      (0, n.Cg)([g.oI], ge.prototype, "ClanImageDragListener", null),
        (0, n.Cg)([g.oI], ge.prototype, "onFocus", null),
        (0, n.Cg)([g.oI], ge.prototype, "OnTextAreaDropListener", null),
        (0, n.Cg)([g.oI], ge.prototype, "GetTextAreaRef", null),
        (ge = (0, n.Cg)([s.PA], ge));
      class he {
        static BIsFireFox() {
          return Boolean(
            new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(
              navigator.userAgent,
            ),
          );
        }
        static replaceSelection(e, t) {
          let a = e.selectionStart;
          e.focus(),
            he.InsertTextAtSelect(t, e),
            e.setSelectionRange(a, a + t.length);
        }
        static getSelectedString(e) {
          return e.value.substr(
            e.selectionStart,
            e.selectionEnd - e.selectionStart,
          );
        }
        static wrapBBCode(e, t, a) {
          let n = he.getSelectedString(a),
            r = "";
          (r =
            0 == n.indexOf(e) && n.lastIndexOf(t) == n.length - t.length
              ? n.substr(e.length, n.length - e.length - t.length)
              : e + n + t),
            he.replaceSelection(a, r);
        }
        static append(e, t) {
          t &&
            (t.focus(),
            t.setSelectionRange(t.value.length, t.value.length),
            he.InsertTextAtSelect(e, t));
        }
        static ClearTextArea(e) {
          if (e) {
            e.focus();
            const t = 0,
              a = e.value.length;
            if (t !== a) {
              e.setRangeText
                ? e.setRangeText("", t, a, "preserve")
                : (e.value = "");
              const n = new Event("input", { bubbles: !0 });
              e.dispatchEvent(n);
            }
            e.focus();
          }
        }
        static overwrite(e, t) {
          t && (he.ClearTextArea(t), he.InsertTextAtSelect(e, t));
        }
        static InsertTextAtSelect(e, t) {
          const a = t.selectionStart,
            n = t.selectionEnd;
          if (null !== a && null !== n) {
            t.setRangeText
              ? t.setRangeText(e, a, n, "preserve")
              : (t.value = t.value.slice(0, a) + e + t.value.slice(n));
            const r = new Event("input", { bubbles: !0 });
            t.dispatchEvent(r),
              (t.selectionStart = t.selectionEnd = a + e.length);
          }
          t.focus();
        }
      }
      let Ee = class extends l.Component {
        m_linkPopupRef = l.createRef();
        onBold() {
          he.wrapBBCode("[b]", "[/b]", this.props.fnTextareaRef().current);
        }
        onItalics() {
          he.wrapBBCode("[i]", "[/i]", this.props.fnTextareaRef().current);
        }
        onUnderline() {
          he.wrapBBCode("[u]", "[/u]", this.props.fnTextareaRef().current);
        }
        onStrikeThrough() {
          he.wrapBBCode(
            "[strike]",
            "[/strike]",
            this.props.fnTextareaRef().current,
          );
        }
        onHeader() {
          he.wrapBBCode("[h1]", "[/h1]", this.props.fnTextareaRef().current);
        }
        onHeader2() {
          he.wrapBBCode("[h2]", "[/h2]", this.props.fnTextareaRef().current);
        }
        onHeader3() {
          he.wrapBBCode("[h3]", "[/h3]", this.props.fnTextareaRef().current);
        }
        onUnorderedList() {
          this.handleList("list");
        }
        onOrderedList() {
          this.handleList("olist");
        }
        handleList(e) {
          let t = this.props.fnTextareaRef().current,
            a = "[" + e + "]\n",
            n = "[/" + e + "]";
          if (t.selectionStart == t.selectionEnd)
            he.wrapBBCode(a + "[*]", "\n" + n, t);
          else {
            let e =
              a +
              he
                .getSelectedString(t)
                .split("\n")
                .map((e) => (e.match(/\*+\s/) ? "[*]" : "[*] ") + e)
                .join("\n") +
              "\n" +
              n;
            he.replaceSelection(t, e);
          }
        }
        OnAddLink(e) {
          (0, F.HT)(
            l.createElement(ve, { textareaRef: this.props.fnTextareaRef() }),
            (0, z.uX)(e),
          );
        }
        ShowHelpDialog(e) {
          this.props.showFormatHelp &&
            (0, F.HT)(
              l.createElement(me, { formatType: this.props.showFormatHelp }),
              (0, z.uX)(e),
            );
        }
        OnConvertHTMLToBBCodeDialog(e) {
          const t = (0, z.uX)(e);
          (0, F.HT)(
            l.createElement(Ce, {
              ownerWindow: t,
              textareaRef: this.props.fnTextareaRef(),
            }),
            t,
          );
        }
        OnOpenYoutubeDialog(e) {
          let t = x.TS.IMG_URL + "applications/community/";
          (0, F.HT)(
            l.createElement(ye, {
              textareaRef: this.props.fnTextareaRef(),
              pathToImages: t,
            }),
            (0, z.uX)(e),
          );
        }
        OnOpenImageDialog(e) {
          (0, F.HT)(
            l.createElement(fe, { textareaRef: this.props.fnTextareaRef() }),
            (0, z.uX)(e),
          );
        }
        OnOpenSpeakerDialog(e) {
          (0, F.pg)(
            l.createElement(be, {
              clanSteamID: this.props.clanSteamID,
              textareaRef: this.props.fnTextareaRef(),
            }),
            (0, z.uX)(e),
          );
        }
        OnEmoticonSelected(e, t = !1) {
          let a = `ː${e}ː`;
          he.replaceSelection(this.props.fnTextareaRef().current, a),
            this.props.fnTextareaRef().current.focus();
        }
        BSupports(e) {
          return this.props.supportBBCodes.findIndex((t) => t == e) >= 0;
        }
        render() {
          const {
            showFormatHelp: e,
            bEmbeddedInDialog: t,
            bSupportHTMLImport: a,
            pathToImages: n,
          } = this.props;
          let r;
          return (
            e &&
              (r = t
                ? l.createElement(
                    "span",
                    { className: (0, v.A)("ttip", $().ActionGetHelp) },
                    l.createElement(
                      K.he,
                      {
                        toolTipContent: (0, M.we)(
                          "#EventEditor_FormattingHelp_GetHelpLink",
                        ),
                      },
                      l.createElement(
                        "a",
                        {
                          href: me.GetHelpURL(this.props.showFormatHelp, !1),
                          target: x.TS.IN_CLIENT ? void 0 : "_blank",
                        },
                        l.createElement("img", { src: n + "/action_help.png" }),
                        " ",
                        (0, M.we)("#EventEditor_FormattingHelp_GetHelpLink"),
                      ),
                    ),
                  )
                : l.createElement(
                    "span",
                    {
                      onClick: this.ShowHelpDialog,
                      className: (0, v.A)("ttip", $().ActionGetHelp),
                    },
                    l.createElement(
                      K.he,
                      {
                        toolTipContent: (0, M.we)(
                          "#EventEditor_FormattingHelp_GetHelpLink",
                        ),
                      },
                      l.createElement("img", { src: n + "/action_help.png" }),
                      " ",
                      (0, M.we)("#EventEditor_FormattingHelp_GetHelpLink"),
                    ),
                  )),
            l.createElement(
              "div",
              { className: $().TextEditorToolBarContainer },
              this.BSupports("b") &&
                l.createElement(Se, {
                  onClick: this.onBold,
                  tooltip: (0, M.we)("#Editor_Bold"),
                  imgURL: this.props.pathToImages + "/format_bold.png",
                }),
              this.BSupports("u") &&
                l.createElement(Se, {
                  onClick: this.onUnderline,
                  tooltip: (0, M.we)("#Editor_Underline"),
                  imgURL: this.props.pathToImages + "/format_underline.png",
                }),
              this.BSupports("i") &&
                l.createElement(Se, {
                  onClick: this.onItalics,
                  tooltip: (0, M.we)("#Editor_Italics"),
                  imgURL: this.props.pathToImages + "/format_italic.png",
                }),
              this.BSupports("strike") &&
                l.createElement(Se, {
                  onClick: this.onStrikeThrough,
                  tooltip: (0, M.we)("#Editor_StrikeThrough"),
                  imgURL: this.props.pathToImages + "/format_strike.png",
                }),
              Boolean(this.BSupports("url") && !t) &&
                l.createElement(Se, {
                  onClick: this.OnAddLink,
                  tooltip: (0, M.we)("#Editor_Link"),
                  imgURL: this.props.pathToImages + "/format_link.png",
                }),
              this.BSupports("list") &&
                l.createElement(Se, {
                  onClick: this.onUnorderedList,
                  tooltip: (0, M.we)("#Editor_Unordered"),
                  imgURL: this.props.pathToImages + "/format_bullet.png",
                }),
              this.BSupports("olist") &&
                l.createElement(Se, {
                  onClick: this.onOrderedList,
                  tooltip: (0, M.we)("#Editor_Ordered"),
                  imgURL: this.props.pathToImages + "/format_numbered.png",
                }),
              this.BSupports("h1") &&
                l.createElement(Se, {
                  onClick: this.onHeader,
                  tooltip: (0, M.we)("#Editor_Header"),
                  imgURL: this.props.pathToImages + "/format_header1.png",
                }),
              this.BSupports("h2") &&
                l.createElement(Se, {
                  onClick: this.onHeader2,
                  tooltip: (0, M.we)("#Editor_Header2"),
                  imgURL: this.props.pathToImages + "/format_header2.png",
                }),
              this.BSupports("h3") &&
                l.createElement(Se, {
                  onClick: this.onHeader3,
                  tooltip: (0, M.we)("#Editor_Header3"),
                  imgURL: this.props.pathToImages + "/format_header3.png",
                }),
              this.BSupports("previewyoutube") &&
                l.createElement(Se, {
                  onClick: this.OnOpenYoutubeDialog,
                  tooltip: (0, M.we)("#EventEditor_InsertYouTube"),
                  imgURL:
                    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg==",
                }),
              l.createElement(
                "span",
                { className: "ttip" },
                this.props.emoticonStore &&
                  l.createElement(
                    K.he,
                    { toolTipContent: (0, M.we)("#Editor_Emoticon") },
                    l.createElement(P.A, {
                      title: " ",
                      className: (0, v.A)($().EmoteOuter),
                      disabled: !1,
                      OnEmoticonSelected: this.OnEmoticonSelected,
                      rtLastAckedNewEmoticons: Number.MAX_VALUE,
                      emoticonStore: this.props.emoticonStore,
                      emoticonHoverStore: _.s,
                      useImg: this.props.pathToImages + "/format_emote.png",
                      contextOptions: {
                        bOverlapHorizontal: !0,
                        bDisablePopTop: !0,
                      },
                    }),
                  ),
              ),
              Boolean(this.BSupports("img") && !t) &&
                l.createElement(Se, {
                  onClick: this.OnOpenImageDialog,
                  tooltip: (0, M.we)("#EventEditor_InsertImage"),
                  imgURL: this.props.pathToImages + "/insert_img.png",
                }),
              Boolean(
                x.iA.is_support &&
                  this.props.clanSteamID &&
                  this.BSupports("speaker"),
              ) &&
                l.createElement(Se, {
                  onClick: this.OnOpenSpeakerDialog,
                  tooltip: (0, M.we)("#EventEditor_AddSpeaker"),
                  imgURL: this.props.pathToImages + "/insert_img.png",
                }),
              Boolean(a && !t) &&
                l.createElement(
                  Se,
                  {
                    onClick: this.OnConvertHTMLToBBCodeDialog,
                    className: $().ActionImportHTML,
                    tooltip: (0, M.we)("#EventEditor_ImportFromHTML_ttip"),
                  },
                  (0, M.we)("#EventEditor_ImportHTML"),
                ),
              r,
            )
          );
        }
      };
      function Se(e) {
        return l.createElement(
          "span",
          { onClick: e.onClick, className: e.className },
          l.createElement(
            K.he,
            { toolTipContent: e.tooltip, className: "ttip" },
            Boolean(e.imgURL) && l.createElement("img", { src: e.imgURL }),
            e.children,
          ),
        );
      }
      (0, n.Cg)([g.oI], Ee.prototype, "onBold", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onItalics", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onUnderline", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onStrikeThrough", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onHeader", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onHeader2", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onHeader3", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onUnorderedList", null),
        (0, n.Cg)([g.oI], Ee.prototype, "onOrderedList", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnAddLink", null),
        (0, n.Cg)([g.oI], Ee.prototype, "ShowHelpDialog", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnConvertHTMLToBBCodeDialog", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnOpenYoutubeDialog", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnOpenImageDialog", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnOpenSpeakerDialog", null),
        (0, n.Cg)([g.oI], Ee.prototype, "OnEmoticonSelected", null),
        (Ee = (0, n.Cg)([s.PA], Ee));
      let ye = class extends l.Component {
        state = { youtubeInput: "", alignment: pe.V2.left };
        OnYoutubeInsertLink() {
          const e =
            this.state.youtubeInput && (0, m.XU)(this.state.youtubeInput);
          if (e) {
            if (this.state.alignment == pe.V2.summary) {
              const t =
                "https://www.youtube.com/watch?v=" +
                e.strVideoID +
                (e.nStartSeconds ? "&t=" + e.nStartSeconds : "");
              he.wrapBBCode(t, "", this.props.textareaRef.current);
            } else {
              let t =
                "[previewyoutube=" +
                e.strVideoID +
                ";" +
                this.state.alignment +
                "]";
              he.wrapBBCode(
                t,
                "[/previewyoutube]",
                this.props.textareaRef.current,
              );
            }
            this.setState({ youtubeInput: "", alignment: pe.V2.left });
          } else alert((0, M.we)("#EventEditor_InsertYouTube_NoURL"));
        }
        OnUrlChange(e) {
          this.state.youtubeInput != e.target.value &&
            this.setState({ youtubeInput: e.target.value });
        }
        OnLeftSelected() {
          this.setState({ alignment: pe.V2.left });
        }
        OnRightSelected() {
          this.setState({ alignment: pe.V2.right });
        }
        OnFullSelected() {
          this.setState({ alignment: pe.V2.full });
        }
        OnSummarySelected() {
          this.setState({ alignment: pe.V2.summary });
        }
        OnOuterDivClickPassDown(e) {}
        render() {
          return l.createElement(
            O.o0,
            {
              strTitle: (0, M.we)("#EventEditor_InsertYouTube"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnYoutubeInsertLink,
              strOKButtonText: (0, M.we)("#EventEditor_InsertYouTube"),
              className: $().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: $().YouTubeInput },
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, M.we)("#EventEditor_InsertYouTube_URL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      ref: (e) => e && e.focus(),
                      type: "text",
                      value: this.state.youtubeInput,
                      onChange: this.OnUrlChange,
                      placeholder: (0, M.we)(
                        "#EventEditor_InsertYouTube_Placholder",
                      ),
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "div",
                  { className: "DialogLabel" },
                  (0, M.we)("#EventEditor_InsertYouTube_Position"),
                ),
                l.createElement(
                  "div",
                  {
                    className: $().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: pe.V2.left,
                    value: pe.V2.left,
                    checked: this.state.alignment == pe.V2.left,
                    onChange: this.OnLeftSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: pe.V2.left },
                    l.createElement(
                      "span",
                      null,
                      (0, M.we)("#EventEditor_InsertYouTube_Left"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: $().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: pe.V2.right,
                    value: pe.V2.right,
                    checked: this.state.alignment == pe.V2.right,
                    onChange: this.OnRightSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: pe.V2.right },
                    l.createElement(
                      "span",
                      null,
                      (0, M.we)("#EventEditor_InsertYouTube_Right"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: $().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: pe.V2.full,
                    value: pe.V2.full,
                    checked: this.state.alignment == pe.V2.full,
                    onChange: this.OnFullSelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: pe.V2.full },
                    l.createElement(
                      "span",
                      null,
                      (0, M.we)("#EventEditor_InsertYouTube_Full"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: $().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  l.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: pe.V2.summary,
                    value: pe.V2.summary,
                    checked: this.state.alignment == pe.V2.summary,
                    onChange: this.OnSummarySelected,
                  }),
                  l.createElement(
                    "label",
                    { htmlFor: pe.V2.summary },
                    l.createElement(
                      "span",
                      null,
                      (0, M.we)("#EventEditor_InsertYouTube_Summary"),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([g.oI], ye.prototype, "OnYoutubeInsertLink", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnUrlChange", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnLeftSelected", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnRightSelected", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnFullSelected", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnSummarySelected", null),
        (0, n.Cg)([g.oI], ye.prototype, "OnOuterDivClickPassDown", null),
        (ye = (0, n.Cg)([s.PA], ye));
      let ve = class extends l.Component {
        static {
          de = this;
        }
        state = { textToDisplay: "", strURL: "" };
        static m_regExp = new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i);
        LoadFromTextArea() {
          const { textareaRef: e } = this.props;
          if (e && e.current) {
            let t = he.getSelectedString(e.current),
              a = de.m_regExp.exec(t);
            a
              ? this.setState({ strURL: a[1], textToDisplay: a[2] })
              : this.setState({ textToDisplay: t });
          }
        }
        componentDidMount() {
          this.LoadFromTextArea();
        }
        onLinkTitleUpdate(e) {
          this.setState({ textToDisplay: e.target.value });
        }
        onLinkURLUpdate(e) {
          this.setState({ strURL: e.target.value });
        }
        onInsertLink() {
          const { strURL: e, textToDisplay: t } = this.state;
          let a = "[url=" + e + "]" + t + "[/url]";
          he.replaceSelection(this.props.textareaRef.current, a);
        }
        render() {
          return l.createElement(
            O.o0,
            {
              strTitle: (0, M.we)("#Editor_Link"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onOK: this.onInsertLink,
              onCancel: this.props.closeModal,
              strOKButtonText: (0, M.we)("#EventEditor_InsertLinkURL"),
              className: $().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: $().EventEditorLinkInput },
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, M.we)("#EventEditor_LinkDescription"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      type: "text",
                      onChange: this.onLinkTitleUpdate,
                      value: this.state.textToDisplay,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, M.we)("#EventEditor_LinkURL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      type: "text",
                      onChange: this.onLinkURLUpdate,
                      value: this.state.strURL,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([g.oI], ve.prototype, "onLinkTitleUpdate", null),
        (0, n.Cg)([g.oI], ve.prototype, "onLinkURLUpdate", null),
        (0, n.Cg)([g.oI], ve.prototype, "onInsertLink", null),
        (ve = de = (0, n.Cg)([s.PA], ve));
      let fe = class extends l.Component {
        refFirstInput;
        state = { imgURL: "", anchorURL: "" };
        componentDidMount() {
          this.refFirstInput && this.refFirstInput.current.focus();
        }
        OnImageInsert() {
          const { anchorURL: e, imgURL: t } = this.state;
          let a = "",
            n = "";
          e && e.length > 0 && ((a += "[url=" + e + "]"), (n = "[/url]" + n)),
            (a += "[img]" + t),
            (n = "[/img]" + n),
            he.wrapBBCode(a, n, this.props.textareaRef.current);
        }
        OnImageURLChange(e) {
          this.state.imgURL != e.target.value &&
            this.setState({ imgURL: e.target.value });
        }
        OnAnchorURLChange(e) {
          this.state.anchorURL != e.target.value &&
            this.setState({ anchorURL: e.target.value });
        }
        render() {
          const { imgURL: e, anchorURL: t } = this.state;
          return l.createElement(
            O.o0,
            {
              strTitle: (0, M.we)("#EventEditor_InsertImage_Title"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnImageInsert,
              strOKButtonText: (0, M.we)("#EventEditor_InsertImage_Title"),
              className: $().BBCodeEditorInputStyles,
            },
            l.createElement(
              "div",
              { className: $().EventEditorLinkInput },
              l.createElement(
                "p",
                null,
                (0, M.we)("#EventEditor_InsertImage_Desc"),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, M.we)("#EventEditor_InsertImage_URL"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: e,
                      onChange: this.OnImageURLChange,
                      placeholder: (0, M.we)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                      ref: this.refFirstInput,
                    }),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                l.createElement(
                  "label",
                  null,
                  l.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, M.we)("#EventEditor_InsertImage_Anchor"),
                  ),
                  l.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    l.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: t,
                      onChange: this.OnAnchorURLChange,
                      placeholder: (0, M.we)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, n.Cg)([g.oI], fe.prototype, "OnImageInsert", null),
        (0, n.Cg)([g.oI], fe.prototype, "OnImageURLChange", null),
        (0, n.Cg)([g.oI], fe.prototype, "OnAnchorURLChange", null),
        (fe = (0, n.Cg)([s.PA], fe));
      const be = (e) => {
        const [t, a] = l.useState(""),
          [n, r] = l.useState(""),
          [i, s] = l.useState(""),
          [o, m] = l.useState(""),
          [u, _] = l.useState(void 0),
          [g, h] = l.useState(void 0),
          { data: E } = (0, q.Dv)(),
          { isLoading: S, data: y } = (0, W.js)(g?.GetAccountID()),
          v = 0 != t.trim().length && 0 != o.trim().length;
        return l.createElement(
          O.o0,
          {
            strTitle: (0, M.we)("#EventEditor_AddSpeaker"),
            strDescription: (0, M.we)("#EventEditor_AddSpeaker_Desc"),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            bOKDisabled: !v,
            onOK: () => {
              let a = `[speaker name="${t.trim()}"`;
              if (
                (n.trim().length > 0 && (a += ` title="${n}"`),
                i.trim().length > 0 && (a += ` company="${i}"`),
                u)
              ) {
                a += ` photo="${ue.lw + "/" + u.clanAccountID + "/" + p.i6.GetHashAndExt(u)}"`;
              }
              g && (a += ` steamid="${g.ConvertTo64BitString()}"`),
                (a += `]${o}[/speaker]`),
                he.replaceSelection(e.textareaRef.current, a);
            },
            className: $().BBCodeEditorInputStyles,
          },
          l.createElement(
            "div",
            { className: $().InsertSpeakerCtn },
            l.createElement(R.pd, {
              type: "text",
              label: (0, M.we)("#EventEditor_AddSpeaker_Name"),
              value: t,
              onChange: (e) => a(e.target.value),
              focusOnMount: !0,
            }),
            l.createElement(
              "div",
              { className: $().TitleGroup },
              l.createElement(R.pd, {
                type: "text",
                label: (0, M.we)("#EventEditor_AddSpeaker_Title"),
                value: n,
                onChange: (e) => r(e.target.value),
              }),
              l.createElement(R.pd, {
                type: "text",
                label: (0, M.we)("#EventEditor_AddSpeaker_Company"),
                value: i,
                onChange: (e) => s(e.target.value),
              }),
            ),
            l.createElement(
              K.he,
              {
                toolTipContent: (0, M.we)(
                  "#EventEditor_AssociateSteamAccount_ttip",
                ),
              },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, M.we)("#EventEditor_AssociateSteamAccount"),
                " (?)",
              ),
            ),
            l.createElement(
              "div",
              null,
              S &&
                l.createElement(V.t, {
                  string: (0, M.we)("#Loading"),
                  size: "small",
                }),
              Boolean(y) &&
                l.createElement(
                  "a",
                  {
                    href:
                      x.TS.COMMUNITY_BASE_URL +
                      "profiles/" +
                      g.ConvertTo64BitString(),
                    target: "_blank",
                  },
                  y
                    ? l.createElement("img", {
                        style: { marginRight: "8px" },
                        src: y.avatar_url,
                      })
                    : null,
                  y ? y.m_strPlayerName : null,
                ),
              l.createElement(
                "div",
                { className: $().AssociateRowCtn },
                l.createElement(
                  R.$n,
                  { onClick: () => h(new d.b(x.iA.steamid)) },
                  (0, M.we)("#EventEditor_SteamAccount_addme"),
                ),
                l.createElement(
                  R.$n,
                  {
                    onClick: (e) =>
                      (0, c.lX)(
                        l.createElement(we, { friends: E, setSteamID: h }),
                        e,
                      ),
                  },
                  (0, M.we)("#EventEditor_SteamAccount_addfriend"),
                ),
                l.createElement(
                  R.$n,
                  { onClick: () => h(void 0) },
                  (0, M.we)("#EventEditor_SteamAccount_clear"),
                ),
              ),
            ),
            l.createElement(
              "div",
              { className: $().PhotoCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, M.we)("#EventEditor_ChoosePhoto"),
              ),
              l.createElement(le, {
                clanSteamID: e.clanSteamID,
                inputClanImage: u,
                setImage: _,
                nWidth: 184,
                nHeight: 184,
              }),
            ),
            l.createElement(
              "div",
              { className: $().AboutCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, M.we)("#EventEditor_AddSpeaker_About"),
              ),
              l.createElement(R.Cl, {
                value: o,
                onChange: (e) => m(e.target.value),
                rows: 8,
                cols: 80,
                nMinHeight: 40,
                placeholder: (0, M.we)(
                  "#EventEditor_AddSpeaker_About_Placeholder",
                ),
              }),
            ),
            l.createElement(
              "div",
              { className: $().PreviewCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, M.we)("#Button_Preview"),
              ),
              l.createElement(H.$k, {
                company: i,
                name: t,
                title: n,
                bioString: o,
                photo: u ? u.url : void 0,
              }),
            ),
          ),
        );
      };
      function we(e) {
        const { friends: t, setSteamID: a } = e;
        return l.createElement(
          "div",
          { className: $().DropDownScroll },
          t.map((e) =>
            l.createElement(De, { key: e, steamid: e, setSteamID: a }),
          ),
        );
      }
      function De(e) {
        const { steamid: t, setSteamID: a } = e,
          { data: n } = (0, W.js)(t);
        return l.createElement(
          j.kt,
          { onSelected: () => a(new d.b(t)) },
          l.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            n &&
              l.createElement("img", {
                className: U().WhitelistAvatar,
                src: n.avatar_url,
              }),
            n?.m_strPlayerName,
          ),
        );
      }
      let Ce = class extends l.Component {
        m_isMounted = !1;
        m_bAppend = !1;
        constructor(e) {
          super(e), (this.state = { bPreserveNewLines: !1, strHTMLData: "" });
        }
        componentDidMount() {
          this.m_isMounted = !0;
        }
        componentWillUnmount() {
          this.m_isMounted = !1;
        }
        OnConvertAndOverriteHTML() {
          (this.m_bAppend = !1), this.ConvertBBCode();
        }
        OnConvertAndAppendHTML() {
          (this.m_bAppend = !0), this.ConvertBBCode();
        }
        async ConvertHtmlToBBCode(e, t) {
          let a = new URLSearchParams();
          a.append("content", e), a.append("preserve_newlines", t ? "1" : "0");
          let n = null;
          return (
            (n = await i().post(
              x.TS.COMMUNITY_BASE_URL + "/actions/ConvertHTMLToBBCode",
              a,
            )),
            n.data.content
          );
        }
        ConvertBBCode() {
          this.setState({ bConverting: !0 }),
            this.ConvertHtmlToBBCode(
              this.state.strHTMLData,
              this.state.bPreserveNewLines,
            )
              .then((e) => {
                this.m_isMounted &&
                  (this.m_bAppend
                    ? he.append(e, this.props.textareaRef.current)
                    : he.overwrite(e, this.props.textareaRef.current),
                  this.setState({ bConverting: !1, bFinishedConverting: !0 }));
              })
              .catch((e) => {
                (0, F.pg)(
                  l.createElement(O.KG, {
                    strTitle: (0, M.we)("#EventEditor_ConvertHTML_Error"),
                    strDescription: (0, M.we)(
                      "#EventEditor_ConvertHTML_Error_Desc",
                      e.response && e.response.data ? e.response.data.msg : e,
                    ),
                    bAlertDialog: !0,
                    bDestructiveWarning: !0,
                  }),
                  this.props.ownerWindow,
                  { strTitle: (0, M.we)("#EventEditor_ConvertHTML_Error") },
                );
              });
        }
        OnCheckboxChange(e) {
          let t = e.target.checked;
          t != this.state.bPreserveNewLines &&
            this.setState({ bPreserveNewLines: t });
        }
        OnTextAreaChange(e) {
          this.setState({ strHTMLData: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return this.state.bConverting
            ? l.createElement(
                O.o0,
                {
                  strTitle: (0, M.we)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, M.we)(
                    "#EventEditor_ImportFromHTML_ConversionInProgress",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                },
                l.createElement(V.t, null),
              )
            : this.state.bFinishedConverting
              ? l.createElement(O.o0, {
                  strTitle: (0, M.we)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, M.we)(
                    "#EventEditor_ImportFromHTML_ConvertFinished",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                })
              : l.createElement(
                  O.eV,
                  {
                    onOK: this.OnConvertAndOverriteHTML,
                    onCancel: e,
                    className: $().BBCodeEditorInputStyles,
                  },
                  l.createElement(
                    R.Y9,
                    null,
                    " ",
                    (0, M.we)("#EventEditor_ImportFromHTML"),
                    " ",
                  ),
                  l.createElement(
                    R.nB,
                    null,
                    l.createElement(
                      R.a3,
                      null,
                      l.createElement(
                        "div",
                        {
                          className: (0, v.A)(
                            G().FlexColumnContainer,
                            $().ImportHTMLCtn,
                          ),
                        },
                        l.createElement(
                          "div",
                          { className: G().FlexColumnContainer },
                          (0, M.PP)(
                            "#EventEditor_ImportFromHTML_ConvertDescription",
                            l.createElement(
                              "a",
                              {
                                target: x.TS.IN_CLIENT ? void 0 : "_blank",
                                href: "https://partner.steamgames.com/doc/marketing/event_tools/import",
                              },
                              (0, M.we)(
                                "#EventEditor_ImportFromHTML_ConvertLearn",
                              ),
                            ),
                          ),
                        ),
                        l.createElement("textarea", {
                          value: this.state.strHTMLData,
                          placeholder: (0, M.we)(
                            "#EventEditor_ImportFromHTML_Instruction",
                          ),
                          className: $().ImportHTMLTextArea,
                          onChange: this.OnTextAreaChange,
                          ref: (e) => e && e.focus(),
                        }),
                        l.createElement(
                          "div",
                          { className: $().ImportHTMLCheckBoxLine },
                          l.createElement("input", {
                            id: "ImportFromHTMLNewLines",
                            type: "checkbox",
                            checked: this.state.bPreserveNewLines,
                            onChange: this.OnCheckboxChange,
                          }),
                          l.createElement(
                            "label",
                            { htmlFor: "ImportFromHTMLNewLines" },
                            (0, M.we)(
                              "#EventEditor_ImportFromHTML_PreserveNewlines",
                            ),
                            l.createElement(_e.o, {
                              tooltip: (0, M.we)(
                                "#EventEditor_ImportFromHTML_PreserveNewlines_Hint",
                              ),
                            }),
                          ),
                        ),
                        l.createElement(
                          "div",
                          null,
                          (0, M.we)(
                            "#EventEditor_ImportFromHTML_ConvertToBBCode",
                          ),
                        ),
                      ),
                    ),
                    l.createElement(
                      R.wi,
                      null,
                      l.createElement(R.VQ, {
                        onCancel: e,
                        strOKText: (0, M.we)("#Button_Overwrite"),
                        onUpdate: this.OnConvertAndAppendHTML,
                        strUpdateText: (0, M.we)("#Button_Append"),
                      }),
                    ),
                  ),
                );
        }
      };
      (0, n.Cg)([g.oI], Ce.prototype, "OnConvertAndOverriteHTML", null),
        (0, n.Cg)([g.oI], Ce.prototype, "OnConvertAndAppendHTML", null),
        (0, n.Cg)([g.oI], Ce.prototype, "OnCheckboxChange", null),
        (0, n.Cg)([g.oI], Ce.prototype, "OnTextAreaChange", null),
        (Ce = (0, n.Cg)([s.PA], Ce));
    },
    81363: (e, t, a) => {
      "use strict";
      a.d(t, { m: () => l });
      var n = a(34629),
        r = a(90626),
        i = a(73745),
        s = a(6144);
      class l extends r.Component {
        m_elCanvas;
        m_Context;
        m_schUpdate = new s.LU();
        m_bSetupComplete = !1;
        componentDidMount() {
          0 == this.props.updateRate && this.updateCanvas();
        }
        componentWillUnmount() {
          this.m_schUpdate.Cancel();
        }
        componentDidUpdate() {
          this.updateCanvas();
        }
        BindCanvasRef(e) {
          this.m_elCanvas = e;
        }
        updateCanvas() {
          if (
            null == this.props.elementRef ||
            null == this.m_elCanvas ||
            this.m_bSetupComplete
          )
            return;
          let e = this.props.scaleFactor || [1, 1],
            t = this.props.elementRef,
            a = this.props.updateRate;
          this.m_Context = this.m_elCanvas.getContext("2d");
          let n = Math.floor(
              this.m_elCanvas.clientWidth / this.props.reductionFactor,
            ),
            r = Math.floor(
              this.m_elCanvas.clientHeight / this.props.reductionFactor,
            );
          (this.m_elCanvas.width = n),
            (this.m_elCanvas.height = r),
            this.props.blurAmount > 0 &&
              (this.m_Context.filter = "blur(" + this.props.blurAmount + "px)");
          let i = () => {
            this.m_Context.drawImage(t, 0, 0, n * e[0], r * e[1]),
              a > 0 && this.m_schUpdate.Schedule(a, i);
          };
          i(), (this.m_bSetupComplete = !0);
        }
        render() {
          return r.createElement("canvas", {
            id: this.props.id,
            className: this.props.className,
            ref: this.BindCanvasRef,
            width: this.props.width,
            height: this.props.height,
          });
        }
      }
      (0, n.Cg)([i.oI], l.prototype, "BindCanvasRef", null),
        (0, n.Cg)([i.oI], l.prototype, "updateCanvas", null);
    },
    32625: (e, t, a) => {
      "use strict";
      a.d(t, { U: () => L });
      var n = a(90626),
        r = a(65946),
        i = a(75844),
        s = a(22837),
        l = a(2160),
        o = a(73744),
        c = a(64953),
        m = a(69343),
        d = a(63556),
        u = a(16676),
        p = a(52038),
        _ = a(61859),
        g = a(27650),
        h = a(71647),
        E = a.n(h);
      function S(e) {
        const {
            onDropFiles: t,
            renderDesciption: a,
            elAdditonalButtons: r,
            strOverrideDragAndDropText: i,
          } = e,
          [s, l] = (0, g.hk)(t),
          [o, c] = (0, g.Ss)(t, {
            accept: "image/png, image/jpeg, image/gif, image/webp",
            multiple: !0,
          });
        return n.createElement(
          "div",
          {
            ...s,
            className: (0, p.A)(
              l ? E().DragAndDropContainerDragging : E().DragAndDropContainer,
              "DragAndDropContainer",
            ),
          },
          Boolean(a) && a(),
          n.createElement(
            "div",
            null,
            i || (0, _.we)("#ImagePicker_DragAndDrop"),
          ),
          n.createElement(
            "div",
            { className: E().ImageUploadBar },
            o,
            n.createElement(
              "label",
              { onClick: c },
              n.createElement(
                "span",
                null,
                (0, _.we)("#ImagePicker_OrBrowse"),
                " ",
              ),
              n.createElement(
                "span",
                { className: E().SelectImageButton },
                (0, _.we)("#selectimage_select_file"),
              ),
            ),
          ),
          r,
          e.children,
        );
      }
      var y = a(95695),
        v = a.n(y),
        f = a(9154),
        b = a(738),
        w = a(64641),
        D = a.n(w),
        C = a(12155),
        I = a(22797),
        B = a(68797),
        T = a(56011),
        M = a(66331),
        A = a(92543),
        k = a.n(A);
      function R(e) {
        const {
            imageUploader: t,
            rgSupportArtwork: a,
            strOverrideDragAndDropText: i,
            forceResolution: s,
            localizedPrimaryImage: l,
            elAdditonalButtons: o,
            rgRealmList: c,
          } = e,
          [u, p] = (0, r.q3)(() => [
            t.GetUploadImages(),
            d.O.Get().GetCurEditLanguage(),
          ]),
          g = n.useCallback(
            async (e) => {
              let r = Array.from(e),
                i = !0;
              for (let e = 0; e < r.length; e++) {
                const s = r[e],
                  o = (0, m.j)(s?.name, p);
                try {
                  const r = (0, m.P)(o, p, c);
                  (i = await t.AddImageForLanguage(s, r, a, l)),
                    i ||
                      (console.error(
                        "ArtworkUploader.OnDropFiles: failed on i=" +
                          e +
                          " file=" +
                          s.name,
                      ),
                      (0, b.pg)(
                        n.createElement(f.KG, {
                          strDescription: (0, _.we)(
                            "#ImagePicker_Error",
                            s.name,
                          ),
                        }),
                        window,
                      ));
                } catch (e) {
                  let t = (0, B.H)(e);
                  console.error(
                    "ArtworkUploader.OnDropFiles: " + t.strErrorMsg,
                    t,
                  ),
                    (0, b.pg)(
                      n.createElement(f.KG, {
                        strDescription: (0, _.we)(
                          "#EventError_Code",
                          t.strErrorMsg,
                        ),
                      }),
                      window,
                    );
                }
              }
              return i;
            },
            [p, t, l, c, a],
          );
        return n.createElement(
          S,
          {
            onDropFiles: g,
            elAdditonalButtons: o,
            strOverrideDragAndDropText: i,
          },
          n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "div",
              { className: k().UploadPreviewCtn },
              u.map((e) =>
                n.createElement(N, {
                  key: "arttabupload_" + e.file + "_" + e.uploadTime,
                  asset: e,
                  supported: a,
                  forceResolution: s,
                  forceFileType: l && l.file_type,
                  fnOnRemove: () => t.DeleteUploadImage(e),
                  languageRealms: c,
                }),
              ),
            ),
          ),
          n.createElement(P, {
            imageUploader: t,
            fnOnUploadImageRequested: async () => {
              await t.UploadAllImages(c, p, a, s, l && l.file_type);
            },
          }),
        );
      }
      function P(e) {
        const { imageUploader: t, fnOnUploadImageRequested: a } = e,
          [i] = (0, r.q3)(() => [t.GetUploadImages()]);
        return n.createElement(
          "div",
          {
            style: { display: "flex" },
            className: k().UploadPreviewButtonsCtn,
          },
          Boolean(i.length) &&
            n.createElement(
              u.$n,
              { style: { margin: "8px" }, onClick: a },
              (0, _.we)("#ImageUpload_Upload"),
            ),
          Boolean(i.length) &&
            n.createElement(
              u.$n,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              (0, _.we)("#ImageUpload_Clear"),
            ),
        );
      }
      const N = (0, i.PA)((e) => {
        const { asset: t, fnOnRemove: a, supported: r, languageRealms: i } = e,
          m = r.map((e) => {
            let a = (0, _.we)("#EventEditor_ArtworkType_" + e);
            "spotlight" == e &&
              (a = (0, _.we)("#EventEditor_ArtworkType_store_spotlight"));
            const n = o.Fj[e];
            let r;
            n &&
              !n.bDisableEnforceDimensions &&
              (a += ` - ${n.width}x${n.height}`),
              (t.BIsOriginalMinimumDimensions(e) && (0, o.N_)(t.fileType, e)) ||
                (r = k().ArtworkDimensionTooSmall);
            return { label: a, data: e, strOptionClass: r };
          }),
          d = {
            pending: (0, _.we)("#ImageUpload_Pending"),
            uploading: (0, _.we)("#ImageUpload_Uploading"),
            success: (0, _.we)("#ImageUpload_SuccessCard"),
            failed: (0, _.we)("#ImageUpload_Failed"),
          },
          g = new Array(),
          h = _.A0.GetLanguageListForRealms(i || [l.TU.k_ESteamRealmGlobal]);
        for (const e of h) {
          if (25 == e) continue;
          const t = (0, _.we)("#Language_" + (0, s.Lg)(e));
          g.push({ label: t, data: e });
        }
        g.sort((e, t) => e.label.localeCompare(t.label));
        const E = [];
        g.forEach((e) => E.push({ label: e.label, data: e.data }));
        const S = t.IsValidAssetType(
            e.supported,
            e.forceResolution,
            e.forceFileType,
          ),
          y = S.needsCrop
            ? (0, _.we)("#ImageUpload_NeedsCrop")
            : S.error
              ? (0, _.we)("#ImageUpload_Invalid")
              : d[t.status];
        return n.createElement(
          "div",
          { className: k().UploadPreview },
          n.createElement(
            "div",
            { className: k().UploadPreviewDelete, onClick: () => a(t) },
            n.createElement(C.sED, null),
          ),
          n.createElement(G, { asset: t }),
          n.createElement(u.m, {
            strDropDownClassName: v().DropDownScroll,
            rgOptions: E,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(m.length > 1) &&
            n.createElement(u.m, {
              rgOptions: m.filter((e) => "hero" !== e.data),
              selectedOption: t.type || m[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          n.createElement(
            "div",
            { className: (0, p.A)(v().FlexColumnContainer) },
            y,
            Boolean("uploading" == y) &&
              n.createElement(
                "div",
                { className: D().FlexCenter },
                n.createElement(I.t, { size: "small" }),
              ),
          ),
          n.createElement(
            "div",
            { className: k().UploadPreviewError },
            t.message,
          ),
          S.error &&
            n.createElement(
              "div",
              { className: k().UploadPreviewError },
              S.error,
            ),
          S.needsCrop &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                u.jn,
                {
                  onClick: () =>
                    ((t) => {
                      if (t instanceof c.i9) {
                        t.ResetImage();
                        const a = window,
                          r = n.createElement(M.q, {
                            ownerWin: a,
                            uploadFile: t,
                            forceResolution: e.forceResolution,
                            fileType: e.forceFileType || 3,
                          });
                        (0, b.HT)(r, a, "CropModal", {
                          strTitle: (0, _.we)("#ImageUpload_CropModalTitle"),
                        });
                      }
                      console.log(
                        "ArtworkUploadEmbeddedDialog trying to crop non image",
                        t.fileType,
                        t.type,
                      );
                    })(t),
                },
                (0, _.we)("#ImageUpload_OpenEditor"),
              ),
            ),
        );
      });
      function G(e) {
        const { asset: t } = e;
        return o.Ho.includes(t.fileType)
          ? n.createElement(
              "div",
              {
                className: k().PreviewImgCtn,
                onClick: (e) =>
                  (0, b.pg)(n.createElement(O, { asset: t }), (0, T.uX)(e)),
              },
              n.createElement(
                "span",
                { className: k().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
              n.createElement(
                "video",
                {
                  height: 120,
                  controls: !1,
                  autoPlay: !0,
                  loop: !0,
                  muted: !0,
                },
                n.createElement("source", { src: t.dataUrl }),
              ),
            )
          : n.createElement(
              "div",
              {
                className: k().PreviewImgCtn,
                style: { backgroundImage: `url(${t.dataUrl})` },
              },
              n.createElement(
                "span",
                { className: k().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
            );
      }
      function O(e) {
        const { asset: t, closeModal: a } = e;
        return n.createElement(
          f.o0,
          { bAlertDialog: !0, closeModal: a },
          n.createElement(
            "video",
            { controls: !0, autoPlay: !0, loop: !0, muted: !0 },
            n.createElement("source", { src: t.dataUrl }),
          ),
        );
      }
      var F = a(56004);
      function L(e) {
        const {
            strUploadAjaxURL: t,
            fnOnUploadSuccess: a,
            bSynchronousUpload: r,
          } = e,
          [i] = (0, n.useState)(new F.IK(t, a, r ?? !1));
        return (
          (0, n.useEffect)(() => {
            i.GetFnOnUploadSuccess() != a && i.SetFnOnUploadSuccess(a),
              i.GetUploadPath() != t && i.SetUploadPath(t);
          }, [i, a, t]),
          n.createElement(R, { ...e, imageUploader: i })
        );
      }
    },
    42508: (e, t, a) => {
      "use strict";
      a.d(t, { z: () => h });
      var n = a(41735),
        r = a.n(n),
        i = a(90626),
        s = a(22837),
        l = a(73744),
        o = a(82705),
        c = a(63556),
        m = a(45737),
        d = a.n(m),
        u = a(12155),
        p = a(61859),
        _ = a(8743),
        g = a.n(_);
      function h(e) {
        const {
            rgAssetLangs: t,
            fnGetAssetUrl: a,
            fnDeletAssetLang: n,
            imageClassname: r,
            fnDeleteAllAssets: l,
          } = e,
          [o, m] = (0, i.useState)(c.O.Get().GetCurEditLanguage()),
          [_, g] = (0, i.useState)(a(o));
        return (
          (0, i.useEffect)(() => {
            const e = a(o);
            e ? g(e) : t.length > 0 ? m(t[0]) : g(null);
          }, [o, a, t]),
          i.createElement(
            "div",
            { className: d().UploadedImageDisplayCtn },
            i.createElement(
              "div",
              { className: d().UploaderLeftCol },
              i.createElement(E, { curAssetURL: _, imageClassname: r }),
            ),
            i.createElement(
              "div",
              { className: d().UploaderRightCol },
              i.createElement(
                "div",
                { className: d().SectionCtn },
                i.createElement(
                  "div",
                  { className: d().LangCountTitle },
                  t.length,
                  " Localized Assets",
                ),
                i.createElement(
                  "div",
                  { className: d().LangSelectCtn },
                  t.map((e) => {
                    const t = (0, s.Lg)(e);
                    return i.createElement(
                      "div",
                      { className: d().UploaderImgLang, key: "image" + t },
                      i.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), m(e), g(a(e));
                          },
                        },
                        Boolean(e === o)
                          ? i.createElement(
                              "span",
                              { className: d().LangSelected },
                              "" + t,
                            )
                          : i.createElement("span", null, "" + t),
                      ),
                      i.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), n(e);
                          },
                        },
                        i.createElement(u.X, null),
                      ),
                    );
                  }),
                ),
                Boolean(t.length) &&
                  i.createElement(
                    "a",
                    {
                      href: "#",
                      className: d().DeleteAll,
                      onClick: (e) => {
                        l ? l() : t.forEach((e) => n(e));
                      },
                    },
                    (0, p.we)("#Button_DeleteAll"),
                  ),
              ),
            ),
          )
        );
      }
      function E(e) {
        const { curAssetURL: t, imageClassname: a } = e;
        if (!t)
          return i.createElement(
            "div",
            { className: g().ArtNoArt },
            (0, p.we)("#ImageDisplay_NoAssetUploaded"),
          );
        const n = (0, o.yh)(t);
        return l.Ho.includes(n)
          ? i.createElement(S, { ...e })
          : l.x.includes(n)
            ? i.createElement(y, {
                className: a || g().ArtPreview,
                strTextURL: t,
              })
            : i.createElement("img", {
                className: a || g().ArtPreview,
                src: t,
              });
      }
      function S(e) {
        const { curAssetURL: t, imageClassname: a } = e,
          n = (0, i.useRef)();
        return (
          (0, i.useEffect)(() => {
            n.current && (n.current.load(), n.current.play());
          }, [t]),
          i.createElement(
            "video",
            {
              ref: n,
              className: a || g().ArtPreview,
              autoPlay: !0,
              loop: !0,
              controls: !0,
              muted: !0,
            },
            i.createElement("source", { src: t }),
          )
        );
      }
      function y(e) {
        const { strTextURL: t, className: a } = e,
          [n, s] = (0, i.useState)("");
        return (
          (0, i.useEffect)(() => {
            r()
              .get(t)
              .then((e) => {
                s(e.data);
              })
              .catch((e) => {
                console.error(e);
              });
          }, [t]),
          i.createElement("textarea", {
            className: a,
            value: n,
            readOnly: !0,
            rows: 20,
          })
        );
      }
    },
    31698: (e, t, a) => {
      "use strict";
      a.d(t, {
        Q4: () => z,
        nl: () => N,
        iY: () => q,
        CE: () => W,
        iD: () => ae,
      });
      var n = a(34629),
        r = a(14947),
        i = a(75844),
        s = a(90626),
        l = a(6336),
        o = a(30193),
        c = a(55263);
      function m(e) {
        const { text: t = "", style: a, children: n } = e;
        if (null == t) return s.createElement(s.Fragment, null, n);
        let r;
        if (
          ((r =
            t instanceof Array
              ? t
                  .map((e) => (e ? e.toString() : ""))
                  .filter((e) => e.length > 0)
                  .join("\n")
              : t.toString()),
          1 == s.Children.count(n))
        ) {
          let e = s.Children.only(n);
          return s.cloneElement(e, { "data-copystyle": a, "data-copytext": r });
        }
        return (
          console.log(
            `Error: CopyableText must be the parent of exactly one child:\n\tcopystyle=${a} copytext=${r}`,
          ),
          s.createElement(s.Fragment, null, n)
        );
      }
      var d = a(68451),
        u = a(52038),
        p = a(61859),
        _ = a(73745);
      function g(e, t) {
        return e + "economy/sticker/" + encodeURIComponent(t);
      }
      var h = a(78327),
        E = a(16676),
        S = a(76217),
        y = a(88006),
        v = a(19418);
      class f extends s.Component {
        constructor(e) {
          super(e), (this.state = { activeIndex: e.initialActiveIndex || 0 });
        }
        render() {
          const { config: e } = this.props,
            { activeIndex: t } = this.state,
            a = e[t] && e[t].renderContent ? e[t].renderContent() : null,
            n = e.length > 1,
            r = n
              ? ({ detail: { button: t } }) => {
                  t === y.pR.BUMPER_LEFT
                    ? this.setState({
                        activeIndex: Math.max(0, this.state.activeIndex - 1),
                      })
                    : t === y.pR.BUMPER_RIGHT &&
                      this.setState({
                        activeIndex: Math.min(
                          e.length - 1,
                          this.state.activeIndex + 1,
                        ),
                      });
                }
              : void 0;
          return s.createElement(
            S.Z,
            { className: v.Picker, onButtonDown: r },
            n && s.createElement(b, null, this.RenderTabs()),
            a,
          );
        }
        RenderTabs() {
          return this.props.config.map(({ renderTab: e }, t) => {
            const a = this.state.activeIndex === t;
            return s.createElement(
              D,
              {
                key: t,
                active: a,
                onClick: () => this.setState({ activeIndex: t }),
              },
              e(a),
            );
          });
        }
      }
      function b(e) {
        return s.createElement(
          S.Z,
          { className: v.Tabs, "flow-children": "row" },
          e.children,
        );
      }
      function w(e) {
        return s.createElement("div", { className: v.Content }, e.children);
      }
      function D(e) {
        const { active: t, children: a, onClick: n } = e;
        return s.createElement(
          S.Z,
          {
            className: (0, u.A)(v.Tab, t && v.Active),
            focusClassName: v.Focus,
            onActivate: n,
          },
          s.createElement(
            "div",
            { className: (0, u.A)(v.TabContent, t && v.Active) },
            a,
          ),
        );
      }
      function C(e) {
        const {
          items: t,
          renderItem: a,
          onItemSelect: n,
          keyExtractor: r,
          renderEmpty: i,
        } = e;
        let l = t.map((e, i) =>
          s.createElement(
            S.Z,
            {
              key: r(e),
              className: v.Item,
              onActivate: () => n(t[i]),
              autoFocus: 0 === i,
              focusClassName: v.Focus,
            },
            a(t[i]),
          ),
        );
        return (
          0 === t.length && i && (l = i()),
          s.createElement(
            S.Z,
            { "flow-children": "grid", className: v.ItemList },
            l,
          )
        );
      }
      function I(e) {
        const { title: t, onFilterChange: a, filter: n, onSubmit: r, ...i } = e;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            w,
            null,
            s.createElement(T, { title: t }, s.createElement(C, { ...i })),
          ),
          s.createElement(M, { value: n, onChange: a, onSubmit: r }),
        );
      }
      function B(e) {
        const { onFilterChange: t, filter: a, sections: n, title: r } = e;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            w,
            null,
            r && s.createElement("div", { className: v.SectionedPageTitle }, r),
            n.map(({ title: e, ...t }) =>
              s.createElement(
                T,
                { title: e, key: e },
                s.createElement(C, { ...t }),
              ),
            ),
          ),
          s.createElement(M, { value: a, onChange: t }),
        );
      }
      function T(e) {
        return s.createElement(
          "div",
          { className: v.Section },
          s.createElement("div", { className: v.SectionTitle }, e.title),
          s.createElement("div", { className: v.SectionContent }, e.children),
        );
      }
      function M(e) {
        const { value: t, onChange: a, onSubmit: n } = e;
        return s.createElement(
          "div",
          { className: v.FilterInputContainer },
          s.createElement(E.pd, {
            type: "text",
            placeholder: "Search...",
            className: v.FilterInput,
            value: t,
            onChange: (e) => a(e.target.value),
            onSubmit: n,
          }),
        );
      }
      function A(e) {
        const { className: t, ...a } = e;
        return s.createElement("div", {
          className: (0, u.A)(t, v.AddonPickerMessage),
          ...a,
        });
      }
      var k = a(70646),
        R = a.n(k),
        P = a(51272);
      class N extends s.PureComponent {
        state = { showHover: !1 };
        m_ref = s.createRef();
        OnMouseEnter(e) {
          this.setState({ showHover: !0 });
        }
        OnMouseLeave(e) {
          this.setState({ showHover: !1 });
        }
        render() {
          const { emoticon: e, large: t, emoticonHoverStore: a } = this.props,
            n = `:${e}:`,
            r = t && a.BLoaded(e) ? a.Get(e).url : o.p.GetEmoticonURL(e, t);
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              m,
              { text: n, style: "merge-adjacent" },
              s.createElement("img", {
                src: r,
                className: (0, u.A)(R().emoticon, t ? R().large : void 0),
                "data-emoticon": e,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
                ref: this.m_ref,
              }),
            ),
            this.state.showHover &&
              s.createElement(G, {
                target: this.m_ref.current,
                store: a,
                emoticon: e,
              }),
          );
        }
      }
      (0, n.Cg)([_.oI], N.prototype, "OnMouseEnter", null),
        (0, n.Cg)([_.oI], N.prototype, "OnMouseLeave", null);
      const G = (0, i.PA)((e) => {
          const { target: t, store: a, emoticon: n } = e,
            r = a.Get(n);
          return s.createElement(
            O,
            {
              target: t,
              title: `:${n}:`,
              subtitle: r && r.app_name ? r.app_name : void 0,
            },
            s.createElement(N, {
              emoticon: n,
              emoticonHoverStore: a,
              large: !0,
            }),
          );
        }),
        O = ({ target: e, title: t, subtitle: a, children: n }) =>
          s.createElement(
            l.g,
            {
              target: e,
              style: { zIndex: 1700 },
              className: R().EmoticonHover,
            },
            n,
            s.createElement(
              "div",
              { className: R().Info },
              s.createElement(
                "div",
                { className: R().Name },
                t || s.createElement("span", null, " "),
              ),
              s.createElement(
                "div",
                { className: R().AppName },
                a || s.createElement("span", null, " "),
              ),
            ),
          );
      function F(e) {
        return e.recent_emoticons;
      }
      function L(e) {
        return e.recent_stickers;
      }
      function U(e) {
        return F(e).length + L(e).length > 0;
      }
      const z = (0, i.PA)((e) => {
        const {
          emoticonStore: t,
          emoticonHoverStore: a,
          roomEffectSettings: n,
          strFlairGroupID: i,
          onEmoticonSelected: l,
          onRoomEffectSelected: o,
          onStickerSelected: c,
        } = e;
        !(function (e) {
          const [t, a] = (0, s.useState)(e.is_initialized);
          (0, s.useEffect)(() => {
            if (!e.is_initialized) {
              e.UpdateEmoticonList();
              const t = (0, r.z7)(
                () => e.is_initialized,
                () => a(e.is_initialized),
              );
              return () => t();
            }
            return () => {};
          }, [e]);
        })(t);
        const m = [];
        return (
          U(t) &&
            m.push({
              renderTab: (e) =>
                s.createElement(
                  "span",
                  {
                    title: (0, p.we)("#AddonPicker_RecentlyUsed"),
                    className: (0, u.A)(
                      R().PickerTab,
                      R().Clock,
                      e && R().ActiveTab,
                    ),
                  },
                  s.createElement(se, null),
                ),
              renderContent: () =>
                s.createElement(j, {
                  store: t,
                  hoverStore: a,
                  onEmoticonSelect: (e) => l(e.name),
                  onStickerSelect: (e) => c(e.name),
                  flairGroupID: i,
                }),
            }),
          s.createElement(
            d.tz,
            null,
            s.createElement(f, {
              config: [
                ...m,
                {
                  renderTab: (e) =>
                    s.createElement(
                      "span",
                      {
                        title: (0, p.we)("#AddonPicker_Emoticons"),
                        className: (0, u.A)(R().PickerTab, e && R().ActiveTab),
                      },
                      s.createElement(re, null),
                    ),
                  renderContent: () =>
                    s.createElement(H, {
                      store: t,
                      hoverStore: a,
                      onItemSelect: (e) => l(e.name),
                      flairGroupID: i,
                    }),
                },
                {
                  renderTab: (e) =>
                    s.createElement(
                      "span",
                      {
                        title: (0, p.we)("#AddonPicker_Stickers"),
                        className: (0, u.A)(R().PickerTab, e && R().ActiveTab),
                      },
                      s.createElement(ne, null),
                    ),
                  renderContent: () =>
                    s.createElement(K, {
                      store: t,
                      onItemSelect: (e) => c(e.name),
                    }),
                },
                {
                  renderTab: (e) =>
                    s.createElement(
                      "span",
                      {
                        title: (0, p.we)("#AddonPicker_RoomEffects"),
                        className: (0, u.A)(R().PickerTab, e && R().ActiveTab),
                      },
                      s.createElement(ie, null),
                    ),
                  renderContent: () =>
                    s.createElement(Y, {
                      store: t,
                      effectSettings: n,
                      onItemSelect: (e) => o(e.name),
                    }),
                },
              ],
            }),
          )
        );
      });
      let x = class extends s.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, r.z7)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          const {
              emoticonStore: e,
              emoticonHoverStore: t,
              onEmoticonSelected: a,
              onStickerSelected: n,
              strFlairGroupID: r,
            } = this.props,
            i = [];
          return (
            U(e) &&
              i.push({
                renderTab: (e) =>
                  s.createElement(
                    "span",
                    {
                      title: (0, p.we)("#AddonPicker_RecentlyUsed"),
                      className: (0, u.A)(
                        R().PickerTab,
                        R().Clock,
                        e && R().ActiveTab,
                      ),
                    },
                    s.createElement(se, null),
                  ),
                renderContent: () =>
                  s.createElement(j, {
                    store: e,
                    hoverStore: t,
                    onEmoticonSelect: (e) => a(e.name),
                    onStickerSelect: (e) => n(e.name),
                    flairGroupID: r,
                  }),
              }),
            s.createElement(
              d.tz,
              null,
              s.createElement(f, {
                config: [
                  ...i,
                  {
                    renderTab: (e) =>
                      s.createElement(
                        "span",
                        {
                          title: (0, p.we)("#AddonPicker_Emoticons"),
                          className: (0, u.A)(
                            R().PickerTab,
                            e && R().ActiveTab,
                          ),
                        },
                        s.createElement(re, null),
                      ),
                    renderContent: () =>
                      s.createElement(H, {
                        store: e,
                        hoverStore: t,
                        onItemSelect: (e) => a(e.name),
                        flairGroupID: r,
                      }),
                  },
                  {
                    renderTab: (e) =>
                      s.createElement(
                        "span",
                        {
                          title: (0, p.we)("#AddonPicker_Stickers"),
                          className: (0, u.A)(
                            R().PickerTab,
                            e && R().ActiveTab,
                          ),
                        },
                        s.createElement(ne, null),
                      ),
                    renderContent: () =>
                      s.createElement(K, {
                        store: e,
                        onItemSelect: (e) => n(e.name),
                      }),
                  },
                ],
              }),
            )
          );
        }
      };
      x = (0, n.Cg)([i.PA], x);
      class q extends s.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, r.z7)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return s.createElement(
            d.tz,
            null,
            s.createElement(f, {
              config: [
                {
                  renderTab: () =>
                    s.createElement(
                      "span",
                      {
                        title: (0, p.we)("#AddonPicker_Emoticons"),
                        className: R().PickerTab,
                      },
                      s.createElement(re, null),
                    ),
                  renderContent: () =>
                    s.createElement($, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class W extends s.Component {
        m_disposeEmoticonStore;
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, r.z7)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return s.createElement(
            d.tz,
            null,
            s.createElement(f, {
              config: [
                {
                  renderTab: () =>
                    s.createElement(
                      "span",
                      {
                        title: (0, p.we)("#AddonPicker_Emoticons"),
                        className: R().PickerTab,
                      },
                      s.createElement(re, null),
                    ),
                  renderContent: () =>
                    s.createElement(J, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class j extends s.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onEmoticonSelect: a,
              onStickerSelect: n,
            } = this.props,
            { filter: r } = this.state,
            i = [];
          return (
            F(e) &&
              i.push({
                title: (0, p.we)("#AddonPicker_RecentEmoticons"),
                items: o.p.FilterEmoticons(F(e), r),
                onItemSelect: a,
                renderItem: (e) =>
                  s.createElement(X, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  s.createElement(
                    A,
                    null,
                    r
                      ? (0, p.we)("#AddonPicker_NoResults")
                      : (0, p.we)(
                          "#AddonPicker_NoRecent",
                          (0, p.we)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            L(e).length &&
              i.push({
                title: (0, p.we)("#AddonPicker_RecentStickers"),
                items: o.p.FilterStickers(L(e), r),
                onItemSelect: n,
                renderItem: (e) => s.createElement(Q, { sticker: e }),
                keyExtractor: ({ name: e }) => e,
                renderEmpty: () =>
                  s.createElement(
                    A,
                    null,
                    r
                      ? (0, p.we)("#AddonPicker_NoResults")
                      : (0, p.we)(
                          "#AddonPicker_NoRecent",
                          (0, p.we)("#AddonPicker_Stickers"),
                        ),
                  ),
              }),
            s.createElement(B, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: r,
              sections: i,
            })
          );
        }
      }
      class H extends s.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: r } = this.state,
            i = !r && n ? e.GetFlairListByGroupID(n) : e.emoticon_list,
            l = o.p.FilterEmoticons(i, r).slice(0, 1e3);
          return s.createElement(I, {
            title: (0, p.we)("#AddonPicker_Emoticons"),
            items: l,
            onItemSelect: a,
            renderItem: (e) =>
              s.createElement(X, { emoticon: e, emoticonHoverStore: t }),
            keyExtractor: (e) => e.name,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: r,
            onSubmit: () => a(l[0]),
            renderEmpty: () =>
              r
                ? s.createElement(A, null, (0, p.we)("#AddonPicker_NoResults"))
                : s.createElement(V, null),
          });
        }
      }
      function V() {
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            A,
            null,
            (0, p.we)(
              "#AddonPicker_NoneOwned",
              (0, p.we)("#AddonPicker_Emoticons"),
            ),
          ),
          s.createElement(
            A,
            null,
            (0, p.PP)(
              "#AddonPicker_AcquireAtPointsShopOrMarket",
              s.createElement(
                P.uU,
                { href: `${h.TS.STORE_BASE_URL}points/shop/c/emoticons` },
                (0, p.we)("#AddonPicker_AcquireAtPointsShop_Link"),
              ),
              s.createElement(
                P.uU,
                { href: `${h.TS.COMMUNITY_BASE_URL}market` },
                (0, p.we)("#AddonPicker_AcquireAtPointsShopOrMarket_Link"),
              ),
            ),
          ),
        );
      }
      class K extends s.Component {
        state = { filter: "" };
        render() {
          const { store: e, onItemSelect: t } = this.props,
            { filter: a } = this.state,
            n = o.p.FilterStickers(e.GetStickerList(), a);
          return s.createElement(I, {
            title: (0, p.we)("#EmoticonPicker_StickerHeading"),
            items: n,
            onItemSelect: t,
            renderItem: (e) => s.createElement(Q, { sticker: e }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: a,
            onSubmit: () => t(n[0]),
            renderEmpty: () =>
              a
                ? s.createElement(A, null, (0, p.we)("#AddonPicker_NoResults"))
                : s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      A,
                      null,
                      (0, p.we)(
                        "#AddonPicker_NoneOwned",
                        (0, p.we)("#AddonPicker_Stickers"),
                      ),
                    ),
                    s.createElement(
                      A,
                      null,
                      (0, p.PP)(
                        "#AddonPicker_AcquireAtPointsShop",
                        s.createElement(
                          P.uU,
                          {
                            href: `${h.TS.STORE_BASE_URL}points/shop/c/stickers`,
                          },
                          (0, p.we)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      class Y extends s.Component {
        state = { filter: "" };
        render() {
          const { store: e, effectSettings: t, onItemSelect: a } = this.props,
            { filter: n } = this.state,
            r = e.GetEffectList().filter(({ name: e }) => e.indexOf(n) > -1);
          return s.createElement(I, {
            title: (0, p.we)("#EmoticonPicker_EffectHeading"),
            items: r,
            onItemSelect: a,
            renderItem: (e) =>
              s.createElement(ee, { effect: e, roomEffectSettings: t }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: n,
            onSubmit: () => a(r[0]),
            renderEmpty: () =>
              n
                ? s.createElement(A, null, (0, p.we)("#AddonPicker_NoResults"))
                : s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      A,
                      null,
                      (0, p.we)(
                        "#AddonPicker_NoneOwned",
                        (0, p.we)("#AddonPicker_RoomEffects"),
                      ),
                    ),
                    s.createElement(
                      A,
                      null,
                      (0, p.PP)(
                        "#AddonPicker_AcquireAtPointsShop",
                        s.createElement(
                          P.uU,
                          {
                            href: `${h.TS.STORE_BASE_URL}points/shop/c/chateffects`,
                          },
                          (0, p.we)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      let $ = class extends s.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: r } = this.state,
            i = [];
          return (
            F(e).length &&
              i.push({
                title: (0, p.we)("#AddonPicker_RecentEmoticons"),
                items: o.p.FilterEmoticons(F(e), r),
                onItemSelect: a,
                renderItem: (e) =>
                  s.createElement(X, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  s.createElement(
                    A,
                    null,
                    r
                      ? (0, p.we)("#AddonPicker_NoResults")
                      : (0, p.we)(
                          "#AddonPicker_NoRecent",
                          (0, p.we)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            s.createElement(B, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: r,
              sections: [
                ...i,
                {
                  title: (0, p.we)("#AddonPicker_AllEmoticons"),
                  items: o.p.FilterStickers(e.emoticon_list, r).slice(0, 1e3),
                  onItemSelect: a,
                  renderItem: (e) =>
                    s.createElement(X, { emoticon: e, emoticonHoverStore: t }),
                  keyExtractor: (e) => e.name,
                  renderEmpty: () =>
                    r
                      ? s.createElement(
                          A,
                          null,
                          (0, p.we)("#AddonPicker_NoResults"),
                        )
                      : s.createElement(V, null),
                },
              ],
            })
          );
        }
      };
      $ = (0, n.Cg)([i.PA], $);
      let J = class extends s.Component {
        state = { filter: "" };
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: a,
              flairGroupID: n,
            } = this.props,
            { filter: r } = this.state;
          return s.createElement(B, {
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: r,
            sections: [
              {
                title: (0, p.we)("#ChatEntryButton_Flair"),
                items: o.p.FilterStickers(e.GetFlairListByGroupID(n), r),
                onItemSelect: a,
                renderItem: (e) =>
                  s.createElement(X, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  r
                    ? s.createElement(
                        A,
                        null,
                        (0, p.we)("#AddonPicker_NoResults"),
                      )
                    : s.createElement(V, null),
              },
            ],
          });
        }
      };
      J = (0, n.Cg)([i.PA], J);
      const X = (e) => {
        const { emoticon: t, emoticonHoverStore: a, large: n } = e,
          r = !t.last_used && t.time_received;
        return s.createElement(
          "div",
          { className: R().EmoticonItem },
          s.createElement(N, {
            emoticon: t.name,
            emoticonHoverStore: a,
            large: n,
          }),
          r && s.createElement(ae, null),
        );
      };
      class Q extends s.Component {
        state = { showHover: !1 };
        m_ref = s.createRef();
        render() {
          const { sticker: e, className: t, ...a } = this.props,
            n = g(h.TS.COMMUNITY_CDN_URL, e.name);
          return s.createElement(
            "div",
            {
              ref: this.m_ref,
              className: (0, u.A)(t, R().StickerButton),
              onMouseOver: () => this.setState({ showHover: !0 }),
              onFocus: () => this.setState({ showHover: !0 }),
              onMouseLeave: () => this.setState({ showHover: !1 }),
              onBlur: () => this.setState({ showHover: !1 }),
              ...a,
            },
            s.createElement("img", { style: { width: "100%" }, src: n }),
            this.state.showHover &&
              s.createElement(Z, { target: this.m_ref.current, sticker: e }),
          );
        }
      }
      const Z = (0, i.PA)((e) => {
        const {
            target: t,
            sticker: { name: a, appid: n },
          } = e,
          [r] = (0, c.t7)(n, {});
        return s.createElement(
          O,
          { target: t, title: a, subtitle: r?.GetName() },
          s.createElement("img", {
            src: g(h.TS.COMMUNITY_CDN_URL, a),
            className: R().StickerHoverSticker,
          }),
        );
      });
      class ee extends s.Component {
        state = { showHover: !1 };
        m_ref = s.createRef();
        render() {
          const {
              effect: e,
              roomEffectSettings: t,
              className: a,
              ...n
            } = this.props,
            r = t[e.name];
          return s.createElement(
            "div",
            {
              ref: this.m_ref,
              onMouseOver: () => this.setState({ showHover: !0 }),
              onFocus: () => this.setState({ showHover: !0 }),
              onMouseLeave: () => this.setState({ showHover: !1 }),
              onBlur: () => this.setState({ showHover: !1 }),
              className: (0, u.A)(a, R().EffectButton),
              ...n,
            },
            r.renderEffectIcon(),
            this.state.showHover &&
              s.createElement(te, {
                target: this.m_ref.current,
                effect: e,
                roomEffectSettings: t,
              }),
          );
        }
      }
      const te = (0, i.PA)((e) => {
        const {
            target: t,
            effect: { name: a, appid: n },
            roomEffectSettings: r,
          } = e,
          i = r[a],
          [l] = (0, c.t7)(n, {});
        return s.createElement(
          O,
          { target: t, title: a, subtitle: l?.GetName() },
          s.createElement(
            "div",
            { className: R().EffectHoverEffect },
            i.renderEffectIcon(),
          ),
        );
      });
      function ae() {
        return s.createElement(
          "div",
          { className: R().NewEmoticonIndicator },
          s.createElement("div", { className: R().NewEmoticonCircle }),
        );
      }
      function ne(e) {
        return s.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          s.createElement("path", {
            fill: "currentColor",
            d: "M8 4C5.79086 4 4 5.79086 4 8V27C4 29.2091 5.79086 31 8 31H13V20C13 16.134 16.134 13 20 13H31V8C31 5.79086 29.2091 4 27 4H8Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M16 20C16 17.7909 17.7909 16 20 16H31L16 31V20Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M29 24.0625V25C29 25.2671 28.9738 25.5282 28.9239 25.7806L30.8858 26.1688C30.9609 25.7892 31 25.3982 31 25V24.0625H29Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M28.3263 27.2225C28.0342 27.6587 27.6587 28.0342 27.2225 28.3263L28.3351 29.9882C28.9885 29.5507 29.5507 28.9885 29.9882 28.3351L28.3263 27.2225Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M21 29H22.1875V31H19L21 29Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M24.0625 29H25C25.2671 29 25.5282 28.9738 25.7806 28.9239L26.1688 30.8858C25.7892 30.9609 25.3982 31 25 31H24.0625V29Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M29 22.1875V21L31 19V22.1875H29Z",
          }),
        );
      }
      function re(e) {
        return s.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          s.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M18 3C15.0333 3 12.1332 3.87973 9.66645 5.52796C7.19972 7.17618 5.27713 9.51886 4.14181 12.2597C3.0065 15.0006 2.70945 18.0166 3.28823 20.9264C3.86701 23.8361 5.29562 26.5088 7.3934 28.6066C9.49119 30.7044 12.1639 32.133 15.0737 32.7118C17.9834 33.2906 20.9994 32.9935 23.7403 31.8582C26.4811 30.7229 28.8238 28.8003 30.472 26.3336C32.1203 23.8668 33 20.9667 33 18C33 16.0302 32.612 14.0796 31.8582 12.2597C31.1044 10.4399 29.9995 8.78628 28.6066 7.3934C27.2137 6.00052 25.5601 4.89563 23.7403 4.14181C21.9204 3.38799 19.9698 3 18 3ZM9.00001 15C9.00001 14.4067 9.17595 13.8266 9.5056 13.3333C9.83524 12.8399 10.3038 12.4554 10.852 12.2284C11.4001 12.0013 12.0033 11.9419 12.5853 12.0576C13.1672 12.1734 13.7018 12.4591 14.1213 12.8787C14.5409 13.2982 14.8266 13.8328 14.9424 14.4147C15.0581 14.9967 14.9987 15.5999 14.7716 16.1481C14.5446 16.6962 14.1601 17.1648 13.6667 17.4944C13.1734 17.8241 12.5934 18 12 18C11.2044 18 10.4413 17.6839 9.87869 17.1213C9.31608 16.5587 9.00001 15.7956 9.00001 15ZM24 18C23.4067 18 22.8266 17.8241 22.3333 17.4944C21.8399 17.1648 21.4554 16.6962 21.2284 16.1481C21.0013 15.5999 20.9419 14.9967 21.0576 14.4147C21.1734 13.8328 21.4591 13.2982 21.8787 12.8787C22.2982 12.4591 22.8328 12.1734 23.4147 12.0576C23.9967 11.9419 24.5999 12.0013 25.1481 12.2284C25.6962 12.4554 26.1648 12.8399 26.4944 13.3333C26.8241 13.8266 27 14.4067 27 15C27 15.7956 26.6839 16.5587 26.1213 17.1213C25.5587 17.6839 24.7957 18 24 18ZM26.3149 23.6788C26.7672 22.8295 27 21.9193 27 21H18H9C9 21.9193 9.23279 22.8295 9.68508 23.6788C10.1374 24.5281 10.8003 25.2997 11.636 25.9497C12.4718 26.5998 13.4639 27.1154 14.5558 27.4672C15.6478 27.8189 16.8181 28 18 28C19.1819 28 20.3522 27.8189 21.4442 27.4672C22.5361 27.1154 23.5282 26.5998 24.364 25.9497C25.1997 25.2997 25.8626 24.5281 26.3149 23.6788Z",
          }),
        );
      }
      function ie(e) {
        return s.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 36 36",
            fill: "none",
            ...e,
          },
          s.createElement("path", {
            fill: "currentColor",
            d: "M14.7163 7.6875L17.2476 15.5344C17.564 16.6102 18.4499 17.4328 19.5257 17.8125L27.3726 20.3438L19.5257 22.875C18.4499 23.1914 17.6273 24.0773 17.2476 25.1531L14.7163 33L12.1851 25.1531C11.8687 24.0773 10.9827 23.2547 9.90696 22.875L2.06009 20.3438L9.90696 17.8125C10.9827 17.4961 11.8054 16.6102 12.1851 15.5344L14.7163 7.6875Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M24.488 3L25.7861 7.06499C25.9591 7.63321 26.3918 8.07031 26.9543 8.24514L30.9784 9.55643L26.9543 10.8677C26.3918 11.0426 25.9591 11.4796 25.7861 12.0479L24.488 16.1129L23.1899 12.0479C23.0168 11.4796 22.5841 11.0426 22.0216 10.8677L17.9976 9.55643L22.0216 8.24514C22.5841 8.07031 23.0168 7.63321 23.1899 7.06499L24.488 3Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M8.11778 3.9375L8.76682 5.99185C8.85336 6.25411 9.0697 6.47265 9.32932 6.56007L11.363 7.21571L9.32932 7.87136C9.0697 7.95878 8.85336 8.17732 8.76682 8.43958L8.11778 10.4939L7.46874 8.43958C7.3822 8.17732 7.16586 7.95878 6.90624 7.87136L4.87259 7.21571L6.90624 6.56007C7.16586 6.47265 7.3822 6.25411 7.46874 5.99185L8.11778 3.9375Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M30.6178 12.375L31.2668 14.4293C31.3534 14.6916 31.5697 14.9102 31.8293 14.9976L33.863 15.6532L31.8293 16.3089C31.5697 16.3963 31.3534 16.6148 31.2668 16.8771L30.6178 18.9314L29.9687 16.8771C29.8822 16.6148 29.6659 16.3963 29.4062 16.3089L27.3726 15.6532L29.4062 14.9976C29.6659 14.9102 29.8822 14.6916 29.9687 14.4293L30.6178 12.375Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M25.9303 24.5625L26.5793 26.6168C26.6659 26.8791 26.8822 27.0977 27.1418 27.1851L29.1755 27.8407L27.1418 28.4964C26.8822 28.5838 26.6659 28.8023 26.5793 29.0646L25.9303 31.1189L25.2812 29.0646C25.1947 28.8023 24.9784 28.5838 24.7187 28.4964L22.6851 27.8407L24.7187 27.1851C24.9784 27.0977 25.1947 26.8791 25.2812 26.6168L25.9303 24.5625Z",
          }),
        );
      }
      function se(e) {
        const { className: t, ...a } = e;
        return s.createElement(
          "svg",
          {
            className: (0, u.A)("SVGIcon_Button SVGIcon_Clock", t),
            version: "1.1",
            x: "0px",
            y: "0px",
            width: "20px",
            height: "20px",
            viewBox: "0 0 24 24",
            ...a,
          },
          s.createElement("path", {
            d: "M15.999 15c-.15 0-.303-.034-.446-.105l-4-2A1.001 1.001 0 0111 12V5a1 1 0 012 0v6.382l3.447 1.724A1 1 0 0115.999 15zM12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-22C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2z",
          }),
        );
      }
    },
    283: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => y });
      var n = a(34629),
        r = a(90626),
        i = a(75844),
        s = a(73745),
        l = a(45699),
        o = a(76217),
        c = a(88997),
        m = a(31698),
        d = a(61859),
        u = a(52038),
        p = a(90024),
        _ = a.n(p),
        g = a(97232),
        h = a(32754);
      const E = 1576780700;
      let S = class extends r.Component {
        OnEmoticonClick(e) {
          const {
            emoticonStore: t,
            strFlairGroupID: a,
            SetUIDisplayPref: n,
            contextOptions: i,
            bShowChatAddons: s,
          } = this.props;
          let l = null;
          if (
            ((l = s
              ? r.createElement(m.Q4, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  onEmoticonSelected: (e) =>
                    this.props.OnEmoticonSelected(e, !1),
                  roomEffectSettings: this.props.roomEffectSettings,
                  onRoomEffectSelected: this.props.onRoomEffectSelected,
                  onStickerSelected: this.props.onStickerSelected,
                })
              : a && t.flair_list && t.GetFlairListByGroupID(a)?.length > 0
                ? r.createElement(m.CE, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })
                : r.createElement(m.iY, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })),
            (0, c.lX)(
              l,
              e,
              i || {
                bOverlapHorizontal: !0,
                bPreferPopLeft: !0,
                bPreferPopTop: !0,
              },
            ),
            this.BHaveUnseenEmoticons() && n)
          ) {
            let e = this.GetNewestIndicatorTime();
            (!e || e < E) && (e = E), n("rtLastAckedNewEmoticons", e);
          }
        }
        GetNewestIndicatorTime() {
          let e = this.props.emoticonStore,
            t = Number.MIN_SAFE_INTEGER,
            a = e.GetTimeReceivedNewestEmoticon();
          a && (t = a);
          let n = e.GetTimeReceivedForStickerOrEffect();
          return (t = Math.max(n, t)), t > Number.MIN_SAFE_INTEGER ? t : void 0;
        }
        BHaveUnseenEmoticons() {
          const { rtLastAckedNewEmoticons: e } = this.props;
          let t = this.GetNewestIndicatorTime();
          return !e || e < E || (t && (!e || e < t));
        }
        render() {
          const { disabled: e, className: t, ttip: a, useImg: n } = this.props;
          let i = [t],
            s = !1;
          return (
            e ? i.push("disabled") : this.BHaveUnseenEmoticons() && (s = !0),
            a && i.push("ttip"),
            n
              ? r.createElement(
                  o.Z,
                  {
                    onClick: this.OnEmoticonClick,
                    onOKActionDescription: (0, d.we)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    focusable: !0,
                  },
                  r.createElement(
                    h.he,
                    { toolTipContent: a },
                    r.createElement("img", {
                      src: this.props.useImg,
                      className: (0, u.A)(...i),
                      title:
                        this.props.title ||
                        (0, d.we)("#ChatEntryButton_Emoticon"),
                    }),
                  ),
                )
              : (i.push(_().chatSubmitButton, _().EmoticonPickerButton),
                r.createElement(
                  l.fu,
                  {
                    className: (0, u.A)(...i),
                    onOKActionDescription: (0, d.we)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    type: "button",
                    onClick: this.OnEmoticonClick,
                    title:
                      this.props.title ||
                      (0, d.we)("#ChatEntryButton_Emoticon"),
                    disabled: e,
                  },
                  r.createElement(
                    h.he,
                    { toolTipContent: a },
                    this.props.buttonIcon || r.createElement(g.nl, null),
                    s && r.createElement(m.iD, null),
                  ),
                ))
          );
        }
      };
      (0, n.Cg)([s.oI], S.prototype, "OnEmoticonClick", null),
        (S = (0, n.Cg)([i.PA], S));
      const y = S;
    },
    72811: (e, t, a) => {
      "use strict";
      a.d(t, { f: () => Zt });
      var n = a(34629),
        r = a(52967),
        i = a(42780),
        s = a(90626),
        l = a(59952),
        o = a(65739),
        c = a(31698),
        m = a(61336),
        d = a(6866),
        u = a(26205);
      class p extends i.K0 {
        m_LinkFilter = u.O;
        m_parentNode = void 0;
        m_mapHostToComponent;
        m_globalStoreLink;
        constructor(e, t, a, n) {
          super(e),
            (this.m_parentNode = t),
            (this.m_mapHostToComponent = a),
            (this.m_globalStoreLink = n);
        }
        AppendText(e, t = !1) {
          let a = e;
          if (
            (t || "*" == this.m_parentNode?.tag) &&
            (null == this.m_parentNode || "img" != this.m_parentNode.tag)
          ) {
            let e = this.m_LinkFilter.exec(a);
            for (; e; ) {
              if (e.index > 0) {
                let a = e.input.substring(0, e.index);
                super.AppendText(a, t);
              }
              let n = e[0],
                r = !1;
              if (this.m_mapHostToComponent)
                for (let e = 0; e < this.m_mapHostToComponent.length; ++e)
                  if (this.m_mapHostToComponent[e].urlRegExp.exec(n)) {
                    (r = !0),
                      super.AppendNode(
                        this.m_mapHostToComponent[e].fnBBComponent(
                          n,
                          this.m_globalStoreLink,
                        ),
                      );
                    break;
                  }
              r || super.AppendNode((0, d.Pm)(n)),
                (a = e.input.substring(e.index + n.length)),
                (e = this.m_LinkFilter.exec(a));
            }
          }
          a.length > 0 && super.AppendText(a, t);
        }
      }
      class _ extends i.K0 {
        m_EmoteRegex = new RegExp("[ː:]([a-zA-Z0-9_]+)[ː:]");
        AppendText(e, t = !1) {
          let a = e;
          if (e.length >= 3) {
            let e = this.m_EmoteRegex.exec(a);
            for (; e; ) {
              if (e.index > 0) {
                let a = e.input.substring(0, e.index);
                super.AppendText(a, t);
              }
              let n = e[1];
              super.AppendNode(
                s.createElement(
                  c.nl,
                  { emoticonHoverStore: o.s, emoticon: n },
                  [],
                ),
              ),
                (a = e.input.substring(e.index + n.length + 2)),
                (e = this.m_EmoteRegex.exec(a));
            }
          }
          a.length > 0 && super.AppendText(a, t);
        }
      }
      class g extends i.K0 {
        m_parentNode = void 0;
        constructor(e, t) {
          super(e), (this.m_parentNode = t);
        }
        AppendText(e, t = !1) {
          let a = e;
          this.m_parentNode &&
            "img" == this.m_parentNode.tag &&
            (a = (0, m.L$)(a)),
            super.AppendText(a, t);
        }
      }
      var h = a(77516),
        E = a(41735),
        S = a.n(E),
        y = a(14947),
        v = a(44332),
        f = a(61859),
        b = a(78327);
      class w {
        constructor() {
          (0, y.Gn)(this);
        }
        exportFn = void 0;
        file = void 0;
        dataURL = void 0;
        uploadFileName;
        displayFileName;
        sha1;
        hmac;
        timestamp = 0;
        imageWidth = 0;
        imageHeight = 0;
        fileInfo;
        uploadInfo;
        eUploadState = 0;
        uploadProgress = 0;
        strErrorDescription = void 0;
      }
      (0, n.Cg)([y.sH], w.prototype, "file", void 0),
        (0, n.Cg)([y.sH], w.prototype, "dataURL", void 0),
        (0, n.Cg)([y.sH], w.prototype, "imageWidth", void 0),
        (0, n.Cg)([y.sH], w.prototype, "imageHeight", void 0),
        (0, n.Cg)([y.sH], w.prototype, "eUploadState", void 0),
        (0, n.Cg)([y.sH], w.prototype, "uploadProgress", void 0),
        (0, n.Cg)([y.sH], w.prototype, "strErrorDescription", void 0);
      class D {
        m_Callbacks;
        m_fileUploadProps = new w();
        m_onComplete;
        constructor(e) {
          (0, y.Gn)(this), (this.m_Callbacks = e);
        }
        get file_upload_props() {
          return this.m_fileUploadProps;
        }
        get file_upload_data_url() {
          return this.m_fileUploadProps.dataURL;
        }
        get file() {
          return this.m_fileUploadProps.file;
        }
        LogFileUploadMessage(e) {
          this.m_Callbacks.LogFileUploadMessage &&
            this.m_Callbacks.LogFileUploadMessage(e);
        }
        SetUploadFileError(e, t) {
          (this.m_fileUploadProps.eUploadState = e),
            (this.m_fileUploadProps.strErrorDescription = t),
            (this.m_fileUploadProps.displayFileName = null);
        }
        async StartFileExportToUpload(e, t = {}) {
          const { displayFilename: a, info: n, onComplete: r } = t;
          (this.m_fileUploadProps.eUploadState = 7),
            (this.m_fileUploadProps.uploadProgress = 0),
            (this.m_onComplete = r),
            (this.m_fileUploadProps.fileInfo = n),
            this.SetFileToUpload(e),
            (this.m_fileUploadProps.displayFileName = a);
        }
        async SetImageFileToUpload(e, t = {}) {
          const { processor: a = C, info: n } = t;
          if (!e) return void this.SetFileToUpload(null);
          this.m_fileUploadProps.fileInfo = n;
          const r = this.m_Callbacks.GetFileNameOverride?.() ?? e.name;
          if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
            return void this.SetUploadFileError(
              4,
              (0, f.we)(
                "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                r,
                this.m_Callbacks.GetMaxFileSizeMB(),
              ),
            );
          let i = e.name.split(".").pop().toLowerCase();
          if (
            -1 ==
            [
              "jpg",
              "jpeg",
              "png",
              "gif",
              "webm",
              "mpg",
              "mp4",
              "mpeg",
              "ogv",
            ].indexOf(i)
          )
            return void this.SetUploadFileError(
              5,
              (0, f.we)("#Chat_Settings_Error_ChatFileTypeNotSupported", r),
            );
          const s = await a(e);
          this.SetFileToUpload(s.file),
            (this.m_fileUploadProps.imageHeight = s.height),
            (this.m_fileUploadProps.imageWidth = s.width);
        }
        async SetOtherFileToUpload(e, t = {}) {
          if (!e) return void this.SetFileToUpload(null);
          this.m_fileUploadProps.fileInfo = t.info;
          const a = this.m_Callbacks.GetFileNameOverride?.() ?? e.name;
          if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
            return void this.SetUploadFileError(
              4,
              (0, f.we)(
                "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                a,
                this.m_Callbacks.GetMaxFileSizeMB(),
              ),
            );
          let n = e.name.split(".").pop().toLowerCase();
          -1 != ["zip"].indexOf(n)
            ? this.SetFileToUpload(e)
            : this.SetUploadFileError(
                5,
                (0, f.we)("#Chat_Settings_Error_ChatFileTypeNotSupported", a),
              );
        }
        SetFileToUpload(e) {
          if (
            ((this.m_fileUploadProps.file = null),
            (this.m_fileUploadProps.dataURL = null),
            (this.m_fileUploadProps.hmac = null),
            (this.m_fileUploadProps.sha1 = null),
            (this.m_fileUploadProps.imageWidth = 0),
            (this.m_fileUploadProps.imageHeight = 0),
            (this.m_fileUploadProps.displayFileName = null),
            !e)
          )
            return void (this.m_fileUploadProps.eUploadState = 0);
          let t = "";
          if ("function" == typeof e)
            (this.m_fileUploadProps.file = null),
              (this.m_fileUploadProps.exportFn = e);
          else {
            (this.m_fileUploadProps.file = e),
              (this.m_fileUploadProps.exportFn = null);
            try {
              t = URL.createObjectURL(e);
            } catch (e) {
              console.error(`Failed to created object URL from file: ${e}`);
            }
            (this.m_fileUploadProps.displayFileName =
              this.m_fileUploadProps.file.name),
              (this.m_fileUploadProps.uploadFileName =
                window.performance.now() +
                "_" +
                this.m_fileUploadProps.file.name);
          }
          this.m_fileUploadProps.eUploadState = 1;
          let a = "";
          for (; a.length < 40; )
            a += Math.floor(16 * Math.random()).toString(16);
          (this.m_fileUploadProps.dataURL = t),
            (this.m_fileUploadProps.sha1 = a),
            (this.m_fileUploadProps.hmac = ""),
            (this.m_fileUploadProps.timestamp = 0);
        }
        async RetryFileUpload() {
          return this.BeginFileUpload();
        }
        async BeginFileUpload(e) {
          if (
            ((this.m_fileUploadProps.uploadProgress = 0),
            this.m_fileUploadProps.exportFn)
          ) {
            this.m_fileUploadProps.eUploadState = 7;
            const { eResult: e, file: t } =
              await this.m_fileUploadProps.exportFn((e) => {
                (0, y.h5)(() => {
                  this.m_fileUploadProps.uploadProgress = 0.5 * e;
                });
              });
            if (1 != e || !t)
              return (
                this.SetUploadFileError(
                  3,
                  (0, f.we)("#Chat_Settings_Error_ExportFailed"),
                ),
                new Response()
              );
            (this.m_fileUploadProps.file = t),
              (this.m_fileUploadProps.uploadFileName =
                window.performance.now() + "_" + t.name);
          }
          let t = this.m_fileUploadProps.file;
          if (!t)
            throw (
              ((0, v.w)(
                !1,
                "Must SetImageFileToUpload before calling BeginFileUpload",
              ),
              new Error("Invalid State"))
            );
          (this.m_fileUploadProps.eUploadState = 2),
            (this.m_fileUploadProps.uploadInfo = e);
          let a = new FormData();
          a.append("sessionid", b.TS.SESSIONID),
            a.append("l", b.TS.LANGUAGE),
            a.append("file_size", t.size.toString()),
            a.append("file_name", this.m_fileUploadProps.uploadFileName),
            a.append("file_sha", this.m_fileUploadProps.sha1),
            a.append(
              "file_image_width",
              this.m_fileUploadProps.imageWidth.toString(),
            ),
            a.append(
              "file_image_height",
              this.m_fileUploadProps.imageHeight.toString(),
            ),
            a.append("file_type", t.type),
            this.m_Callbacks.PopulateBeginFileUploadFormData &&
              this.m_Callbacks.PopulateBeginFileUploadFormData(
                a,
                this.file_upload_props.uploadInfo,
                this.file_upload_props.fileInfo,
              );
          try {
            let e,
              t = await fetch(
                this.m_Callbacks.GetBeginFileUploadURL() +
                  `?l=${b.TS.LANGUAGE}`,
                { method: "POST", body: a, credentials: "include" },
              );
            try {
              e = await t.json();
            } catch (e) {}
            if (!t.ok) {
              let a = null;
              throw (
                ((0, y.h5)(() => {
                  (this.m_fileUploadProps.eUploadState = 3),
                    this.LogFileUploadMessage(t),
                    (a = e?.message
                      ? e?.message
                      : (0, f.we)("#Chat_Settings_Error_ServerError")),
                    (this.m_fileUploadProps.strErrorDescription = (0, f.we)(
                      "#Chat_Upload_ErrorStart",
                      a,
                    ));
                }),
                a)
              );
            }
            if (!e || !e.result) throw new Error();
            return (
              (this.m_fileUploadProps.timestamp = e.timestamp),
              (this.m_fileUploadProps.hmac = e.hmac),
              this.DoFileUpload(e.result)
            );
          } catch (e) {
            let t = e || (0, f.we)("#ConnectionTrouble_FailedToConnect");
            throw (
              ((0, y.h5)(() => {
                (this.m_fileUploadProps.eUploadState = 3),
                  (this.m_fileUploadProps.strErrorDescription = (0, f.we)(
                    "#Chat_Upload_ErrorStart",
                    t,
                  ));
              }),
              t)
            );
          }
        }
        async DoFileUpload(e) {
          let t = this.m_fileUploadProps.file,
            a = e.use_https ? "https://" : "http://";
          a += e.url_host + e.url_path;
          let n = {
            onUploadProgress: (e) => {
              const t = !!this.m_fileUploadProps.exportFn,
                a = t ? 50 : 100,
                n = (t ? 50 : 0) + (e.loaded / e.total) * a;
              n > this.m_fileUploadProps.uploadProgress &&
                (0, y.h5)(() => {
                  this.m_fileUploadProps.uploadProgress = n;
                });
            },
            headers: {},
            transformRequest: [(e) => e],
          };
          for (let t = 0; t < e.request_headers.length; ++t) {
            let a = e.request_headers[t];
            "Content-Length" != a.name &&
              "Host" != a.name &&
              (n.headers[a.name] = a.value);
          }
          try {
            return await S().put(a, t, n), this.CommitFileUpload(!0, e.ugcid);
          } catch (t) {
            throw (
              (this.LogFileUploadMessage(t.response),
              (0, y.h5)(() => {
                (this.m_fileUploadProps.strErrorDescription = (0, f.we)(
                  "#Chat_Upload_ErrorCloud",
                )),
                  (this.m_fileUploadProps.eUploadState = 3),
                  (this.m_fileUploadProps.uploadProgress = 0);
              }),
              this.CommitFileUpload(!1, e.ugcid),
              this.m_fileUploadProps.strErrorDescription)
            );
          }
        }
        async CommitFileUpload(e, t) {
          let a = this.m_fileUploadProps.file,
            n = this.m_fileUploadProps.sha1,
            r = new FormData();
          r.append("sessionid", b.TS.SESSIONID),
            r.append("l", b.TS.LANGUAGE),
            r.append("file_name", this.m_fileUploadProps.uploadFileName),
            r.append("file_sha", n),
            r.append("success", e ? "1" : "0"),
            r.append("ugcid", t),
            r.append("file_type", a.type),
            r.append(
              "file_image_width",
              this.m_fileUploadProps.imageWidth.toString(),
            ),
            r.append(
              "file_image_height",
              this.m_fileUploadProps.imageHeight.toString(),
            ),
            r.append("timestamp", this.m_fileUploadProps.timestamp.toString()),
            r.append("hmac", this.m_fileUploadProps.hmac),
            this.m_Callbacks.PopulateCommitFileUploadFormData(
              r,
              this.file_upload_props.uploadInfo,
              this.file_upload_props.fileInfo,
            );
          try {
            let t = await fetch(this.m_Callbacks.GetCommitFileUploadURL(), {
              method: "POST",
              body: r,
              credentials: "include",
            });
            return (
              e
                ? ((this.m_fileUploadProps.uploadProgress = 0),
                  (this.m_fileUploadProps.eUploadState = 6),
                  this.m_onComplete && this.m_onComplete(1, a.size))
                : ((this.m_fileUploadProps.eUploadState = 3),
                  this.m_onComplete && this.m_onComplete(2, a.size)),
              t
            );
          } catch (t) {
            if (!e) return null;
            let n = null;
            throw (
              ((0, y.h5)(() => {
                if (
                  (this.LogFileUploadMessage(t),
                  (this.m_fileUploadProps.uploadProgress = 0),
                  (this.m_fileUploadProps.eUploadState = 3),
                  t.response)
                ) {
                  let e = t.response.data;
                  t.response.status, e && e.success;
                  n = e.message
                    ? e.message
                    : (0, f.we)("#Chat_Settings_Error_ServerError");
                } else n = (0, f.we)("#ConnectionTrouble_FailedToConnect");
                (this.m_fileUploadProps.strErrorDescription = `Failed to commit upload: ${n}`),
                  this.m_onComplete && this.m_onComplete(2, a.size);
              }),
              n)
            );
          }
        }
        ClearFileUploadError() {
          (3 != this.m_fileUploadProps.eUploadState &&
            4 != this.m_fileUploadProps.eUploadState &&
            5 != this.m_fileUploadProps.eUploadState) ||
            this.Reset();
        }
        Reset() {
          this.SetFileToUpload(null);
        }
      }
      function C(e) {
        return new Promise((t) => {
          let a = new FileReader();
          (a.onload = () => {
            let n = e,
              r = (function (e) {
                let t = new DataView(e),
                  a = 0,
                  n = 0,
                  r = [],
                  i = 0;
                if (65496 == t.getUint16(a)) {
                  a += 2;
                  let s = t.getUint16(a);
                  for (a += 2; a < t.byteLength && a < 131072; ) {
                    if (65505 == s)
                      (r[i] = { recess: n, offset: a - 2 }),
                        (n = a + t.getUint16(a)),
                        i++;
                    else if (65498 == s) break;
                    (a += t.getUint16(a)), (s = t.getUint16(a)), (a += 2);
                  }
                  let l = e.byteLength - n;
                  if (
                    (r.forEach((e) => {
                      l += e.offset - e.recess;
                    }),
                    l === e.byteLength)
                  )
                    return e;
                  const o = new Uint8Array(l);
                  if (r.length > 0) {
                    let t = 0;
                    r.forEach((a) => {
                      let n = a.offset - a.recess;
                      o.set(new Uint8Array(e.slice(a.recess, a.offset)), t),
                        (t += n);
                    }),
                      o.set(new Uint8Array(e.slice(n)), t);
                  }
                  return o.buffer;
                }
                return e;
              })(a.result),
              i = new Blob([r], { type: e.type });
            if (i) {
              let t = i;
              (t.lastModifiedDate = new Date(e.lastModified)),
                (t.name = e.name),
                (n = t);
            }
            if (0 == e.type.indexOf("image")) {
              let a = new Image();
              (a.src = URL.createObjectURL(e)),
                (a.onload = (e) => {
                  t({ file: n, width: a.width, height: a.height });
                });
            } else t({ file: n, width: 0, height: 0 });
          }),
            a.readAsArrayBuffer(e);
        });
      }
      (0, n.Cg)([y.XI], D.prototype, "SetUploadFileError", null),
        (0, n.Cg)([y.XI], D.prototype, "StartFileExportToUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "SetImageFileToUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "SetOtherFileToUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "SetFileToUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "RetryFileUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "BeginFileUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "DoFileUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "CommitFileUpload", null),
        (0, n.Cg)([y.XI], D.prototype, "ClearFileUploadError", null),
        (0, n.Cg)([y.XI], D.prototype, "Reset", null);
      var I = a(73022),
        B = a(82097),
        T = a(55263),
        M = a(74410),
        A = a(16676),
        k = a(44736),
        R = a(6878),
        P = a.n(R),
        N = a(51272),
        G = a(52038);
      function O(e) {
        let t = (0, l.j$)(e.args) || (0, l.j$)(e.args, "href");
        const a = (0, l.j$)(e.args, "style"),
          n = (0, l.j$)(e.args, "id"),
          r = (function (e) {
            return "button" === e
              ? (0, G.A)(R.LinkButton, "LinkButton")
              : (0, G.A)(R.Link, "Link");
          })(a);
        e.context.event;
        if (void 0 === t) return e.children || "";
        if ("string" == typeof t && t.length > 0) {
          const a = l._D(t, e.language, e.context.event?.rtime32_last_modified);
          t = "string" == typeof a ? a : a[1];
        }
        return (
          "dev" == b.TS.WEB_UNIVERSE &&
            "store" == (0, b.yK)() &&
            "store.steampowered.com" == (0, m.wm)(t) &&
            (t = t.replace(
              "https://store.steampowered.com/",
              b.TS.STORE_BASE_URL,
            )),
          "string" == typeof t && t.length > 0 && "#" == t[0]
            ? s.createElement("a", { className: r, href: t }, e.children)
            : "steam://settings/account" == t
              ? s.createElement(
                  N.uU,
                  { className: r, href: "steam://settings/account" },
                  e.children,
                )
              : s.createElement(
                  d.d$,
                  { className: r, url: t, event: e.context.event, id: n },
                  e.children,
                )
        );
      }
      var F = a(1456),
        L = a(93267),
        U = a(67523),
        z = a.n(U),
        x = a(22797);
      const q = (e) => {
        const [t, a] = (0, s.useState)(!0),
          [n, r] = (0, s.useState)(null);
        if (
          ((0, s.useEffect)(() => {
            if (0 == e.appid || 0 == e.trailerBaseID)
              return void r((0, f.we)("#TrailerPlayer_ID_NotProvided"));
            (async () => {
              if (
                (await B.A.Get().QueueAppRequest(e.appid, {
                  include_trailers: !0,
                }),
                B.A.Get().BHasApp(e.appid))
              ) {
                B.A.Get()
                  .GetApp(e.appid)
                  .GetAllTrailers()
                  .GetTrailerByID(e.trailerBaseID) ||
                  (console.error(
                    "Trailer " +
                      e.trailerBaseID +
                      " doesn't existed within appid " +
                      e.appid,
                  ),
                  r(
                    (0, f.we)(
                      "#TrailerPlayer_CouldNotLoad",
                      e.appid,
                      e.trailerBaseID,
                    ),
                  )),
                  a(!1);
              } else
                r(
                  (0, f.we)(
                    "#TrailerPlayer_CouldNotLoad",
                    e.appid,
                    e.trailerBaseID,
                  ),
                );
            })();
          }, [e.appid, e.trailerBaseID]),
          n)
        )
          return e.bIsPreviewMode
            ? s.createElement("div", { className: z().ErrorDiv }, n)
            : null;
        if (t)
          return s.createElement(x.t, {
            string: (0, f.we)("#Loading"),
            size: "small",
          });
        const i = B.A.Get()
            .GetApp(e.appid)
            .GetAllTrailers()
            .GetTrailerByID(e.trailerBaseID),
          l = i.GetTrailerMax(),
          o = {
            sPoster: i.GetScreenshot(),
            rgVideoSources: [
              { sURL: l.strWebMURL, sFormat: "video/webm" },
              { sURL: l.strMP4URL, sFormat: "video/mp4" },
            ],
          };
        return s.createElement(L.L, {
          bControls: !0,
          bAutoPlay: !1,
          bLoop: !1,
          video: o,
        });
      };
      var W = a(19432),
        j = a(6469),
        H = a(84811);
      const V = s.lazy(() => a.e(8396).then(a.bind(a, 13555))),
        K = (e) => {
          const t = (0, s.useRef)(null),
            [a, n] = (0, s.useState)(j.K.Get().GetVODForAppID(e.appid)),
            [r, i] = (0, s.useState)(
              !Boolean(j.K.Get().GetVODForAppID(e.appid)),
            );
          return (
            (0, s.useEffect)(
              () => () => t.current && t.current("VODPlayer: unmounting"),
            ),
            (0, s.useEffect)(() => {
              let r = a;
              if (
                (a &&
                  a.appid != e.appid &&
                  (r = j.K.Get().GetVODForAppID(e.appid)),
                !r)
              ) {
                const a = async () => {
                  t.current && t.current();
                  const a = S().CancelToken.source();
                  (t.current = a.cancel),
                    (r = await j.K.Get().LoadVODForAppID(e.appid)),
                    a.token.reason || n(r),
                    i(!1);
                };
                i(!0), a();
              }
              a != r && n(r);
            }, [e.appid, a]),
            !a && e.bPreviewMode
              ? s.createElement(
                  "div",
                  null,
                  (0, f.we)(
                    r ? "#VODPlayer_Loading" : "#VODPlayer_ErrorLoading",
                    e.appid,
                  ),
                )
              : s.createElement(
                  "div",
                  { className: W.BroadcastCtn },
                  s.createElement(
                    H.tH,
                    null,
                    s.createElement(
                      s.Suspense,
                      { fallback: null },
                      s.createElement(V, {
                        nAppIDVOD: e.appid,
                        watchLocation: 9,
                        bStartPaused: !0,
                      }),
                    ),
                  ),
                )
          );
        };
      var Y = a(26296),
        $ = a(3088),
        J = a(56011),
        X = a(45699),
        Q = a(12155),
        Z = a(39362);
      function ee(e) {
        const { fileUploadManager: t } = e,
          a = (0, s.useRef)();
        return s.createElement(
          "div",
          { className: Z.Ctn },
          s.createElement("input", {
            type: "file",
            accept: ".jpg,.jpeg,.png,.gif,.webm,.mpg,.mpeg,.ogv,.mp4",
            style: { display: "none" },
            name: "fileupload",
            ref: a,
            onChange: (e) => {
              e.currentTarget?.files?.length > 0 &&
                (t.SetImageFileToUpload(e.currentTarget.files[0]),
                (e.currentTarget.value = ""));
            },
          }),
          s.createElement(
            X.fu,
            {
              type: "button",
              title: (0, f.we)("#Button_Upload"),
              onOKActionDescription: (0, f.we)("#Button_Upload"),
              onClick: () => a.current.click(),
            },
            s.createElement(Q.xv8, null),
          ),
        );
      }
      var te = a(65946),
        ae = a(49333);
      function ne(e) {
        const { fileUploadManager: t } = e,
          a = (0, te.q3)(() => t.file_upload_props.eUploadState);
        return 1 == a
          ? s.createElement(re, { fileUploadManager: t })
          : 3 == a || 5 == a || 4 == a
            ? s.createElement(se, { fileUploadManager: t })
            : 0 != a
              ? s.createElement(ie, { fileUploadManager: t })
              : null;
      }
      function re(e) {
        const { fileUploadManager: t } = e,
          a = t.file;
        return s.createElement(
          "div",
          { className: ae.UploadPreviewContainer },
          Boolean(-1 != a.type.indexOf("image")) &&
            s.createElement("img", {
              className: ae.UploadPreview,
              src: t.file_upload_data_url,
            }),
          Boolean(-1 != a.type.indexOf("video")) &&
            s.createElement(Q.CeX, null),
          s.createElement(
            "div",
            { className: ae.FileUploadFileName },
            "'",
            a.name,
            "'",
          ),
          s.createElement(
            "div",
            { className: ae.FileUploadCancel, onClick: () => t.Reset() },
            s.createElement(Q.sED, null),
          ),
          s.createElement(
            A.jn,
            {
              className: ae.FileUploadBtn,
              onClick: async () => {
                await t.BeginFileUpload(), t.Reset();
              },
            },
            (0, f.we)("#Button_Upload"),
          ),
        );
      }
      function ie(e) {
        const { fileUploadManager: t } = e,
          [a, n, r] = (0, te.q3)(() => [
            t.file_upload_props.file,
            t.file_upload_props.displayFileName,
            t.file_upload_props.uploadProgress,
          ]),
          i = a ? (0, f.we)("#Uploading_Item", n) : "",
          l = { width: r + "%" };
        return s.createElement(
          "div",
          { className: ae.FileUploadProgressContainer },
          s.createElement("div", { className: ae.FileUploadProgressName }, i),
          s.createElement(
            "div",
            {
              className: (0, G.A)(
                ae.FileUploadProgressBarContainer,
                "DialogProgressBar_ProgressBarContainer",
              ),
            },
            s.createElement("div", {
              className: "DialogProgressBar_Value",
              style: l,
            }),
          ),
        );
      }
      function se(e) {
        const { fileUploadManager: t } = e,
          [a, n, r] = (0, te.q3)(() => [
            t.file_upload_props.strErrorDescription,
            t.file_upload_props.displayFileName,
            t.file_upload_props.eUploadState,
          ]),
          i = n ? (0, f.we)("#Uploading_Item", n) : "",
          l = a || (0, f.we)("#Chat_Upload_ErrorCloud");
        return s.createElement(
          "div",
          { className: ae.FileUploadProgressContainer },
          s.createElement("div", { className: ae.FileUploadProgressName }, i),
          s.createElement(
            "div",
            { className: ae.FileUploadErrorDescription },
            l,
          ),
          s.createElement(
            "div",
            { className: ae.FileUploadActions },
            s.createElement(
              A.dR,
              { className: "DialogLayout_NoMinWidth" },
              Boolean(3 == r) &&
                s.createElement(
                  A.jn,
                  {
                    onClick: async () => {
                      await t.RetryFileUpload(), t.Reset();
                    },
                  },
                  (0, f.we)("#Chat_Upload_ErrorAction_Retry"),
                ),
              s.createElement(
                A.$n,
                { onClick: () => t.ClearFileUploadError() },
                (0, f.we)("#Chat_Upload_ErrorAction_Close"),
              ),
            ),
          ),
        );
      }
      var le = a(56681),
        oe = a(9154),
        ce = a(738),
        me = a(75933),
        de = a(1596);
      function ue(e) {
        const t = (0, b.Qn)(),
          a = (0, me.a4)(me.Wn),
          n = "true" === String((0, l.j$)(e.args, "autoadvance")).toLowerCase();
        return s.createElement(
          de.F,
          {
            hideArrows: !a,
            hidePips: t,
            visibleElements: 1,
            useTestScrollbar: !1,
            bLazyRenderChildren: !0,
            screenIsWide: a,
            bAutoAdvance: n,
            className: P().ScreenshotCarousel,
          },
          e.children,
        );
      }
      var pe = a(82477),
        _e = a(56545),
        ge = a(96059),
        he = a(58222),
        Ee = a(68797),
        Se = a(6144),
        ye = a(73745);
      class ve {
        m_mapInventoryByApp = new Map();
        m_mapPromises = new Map();
        m_listChangeCallback = new Map();
        m_SteamInterface = null;
        GetInventoryForApp(e) {
          return this.m_mapInventoryByApp.get(e);
        }
        GetItemDefsChangeForAppID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new Se.lu()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestAppCommunityItems(e, t) {
          this.m_mapInventoryByApp.set(e, t),
            this.GetItemDefsChangeForAppID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        async LoadCommunityInventory(e) {
          return e
            ? (this.m_mapPromises.has(e) ||
                this.m_mapPromises.set(
                  e,
                  this.InternalLoadCommunityInventory(e),
                ),
              this.m_mapPromises.get(e))
            : 2;
        }
        async InternalLoadCommunityInventory(e) {
          const t = _e.w.Init(he.cU);
          t.Body().set_filter_appids([e]);
          let a = null;
          try {
            const n = await he.uy.GetCommunityInventory(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult()) {
              const t = new Array();
              return (
                n
                  .Body()
                  .items()
                  .forEach((e) => t.push(e.toObject())),
                this.m_mapInventoryByApp.set(e, t),
                this.GetItemDefsChangeForAppID(e).Dispatch(t),
                1
              );
            }
            a = (0, Ee.H)(n);
          } catch (e) {
            a = (0, Ee.H)(e);
          }
          return (
            console.error(
              "CQuestCommunityInventoryStore.InternalLoadCommunityInventory failed: on appid " +
                e +
                " error: " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            ve.s_Singleton ||
              ((ve.s_Singleton = new ve()),
              ve.s_Singleton.Init(),
              "dev" == b.TS.WEB_UNIVERSE &&
                (window.g_QuestCommunityInventoryStore = ve.s_Singleton)),
            ve.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, b.Tc)("read_inventory_token", "application_config");
          (0, v.w)(
            e,
            "CQuestCommunityInventoryStore: missing read_inventory:steam oauth permission",
          ),
            (this.m_SteamInterface = new ge.D(b.TS.WEBAPI_BASE_URL, e));
        }
      }
      function fe(e) {
        const [t, a] = (0, s.useState)(ve.Get().GetInventoryForApp(e));
        return (
          (0, s.useEffect)(() => {
            e &&
              !ve.Get().BHasLoadedDef(e) &&
              ve.Get().LoadCommunityInventory(e);
          }, [e]),
          (0, ye.hL)(ve.Get().GetItemDefsChangeForAppID(e), a),
          t
        );
      }
      (0, n.Cg)([ye.oI], ve.prototype, "SetTestAppCommunityItems", null);
      var be = a(60854),
        we = a(71298),
        De = a(37341);
      class Ce {
        m_mapAppToDefs = new Map();
        m_mapPromises = new Map();
        m_listChangeCallback = new Map();
        GetItemDefForAppID(e) {
          return this.m_mapAppToDefs.get(e);
        }
        GetItemDefsChangeForEventID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new Se.lu()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestItemDefs(e, t) {
          this.m_mapAppToDefs.set(e, t),
            this.GetItemDefsChangeForEventID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        async LoadAppCommunityItems(e, t) {
          return e
            ? (this.m_mapPromises.has(e) ||
                this.m_mapPromises.set(
                  e,
                  this.InternalLoadAppCommunityItems(e, t),
                ),
              this.m_mapPromises.get(e))
            : 2;
        }
        async InternalLoadAppCommunityItems(e, t) {
          let a = null;
          try {
            const n =
                b.TS.COMMUNITY_BASE_URL +
                (t
                  ? "minigame/ajaxgetgameitemdefsforeditor"
                  : "minigame/ajaxgetgameitemdefs"),
              r = {
                appid: e,
                origin: self.origin,
                l: b.TS.LANGUAGE,
                sessionid: t ? b.TS.SESSIONID : void 0,
              },
              i = await S().get(n, { params: r, withCredentials: t });
            if (
              200 == i?.status &&
              1 == i?.data?.success &&
              i?.data?.item_definitions
            )
              return (
                this.m_mapAppToDefs.set(e, i.data.item_definitions),
                this.GetItemDefsChangeForEventID(e).Dispatch(
                  i.data.item_definitions,
                ),
                1
              );
            a = (0, Ee.H)(i);
          } catch (e) {
            a = (0, Ee.H)(e);
          }
          return (
            console.error(
              "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                e +
                " edit? " +
                t +
                " error: " +
                a?.strErrorMsg,
              a,
            ),
            2
          );
        }
        static s_Singleton;
        static Get() {
          return (
            Ce.s_Singleton ||
              ((Ce.s_Singleton = new Ce()),
              Ce.s_Singleton.Init(),
              "dev" == b.TS.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = Ce.s_Singleton)),
            Ce.s_Singleton
          );
        }
        constructor() {}
        Init() {}
      }
      function Ie(e, t, a) {
        const n = (function (e, t) {
            const [a, n] = (0, s.useState)(Ce.Get().GetItemDefForAppID(e));
            return (
              (0, s.useEffect)(() => {
                e &&
                  !Ce.Get().BHasLoadedDef(e) &&
                  Ce.Get().LoadAppCommunityItems(e, t);
              }, [e, t]),
              (0, ye.hL)(Ce.Get().GetItemDefsChangeForEventID(e), n),
              a
            );
          })(e, a),
          [r, i] = (0, s.useState)(null);
        return (
          (0, s.useEffect)(() => {
            if (e && n && null == r) {
              const r = n.find(
                (n) => (a || n.active) && n.appid == e && n.item_type == t,
              );
              r && i(r);
            }
          }, [r, n, e, t, a]),
          r
        );
      }
      var Be = a(56330);
      function Te(e) {
        const {
          appid: t,
          item_image_small: a,
          item_image_large: n,
          item_movie_mp4: r,
          item_movie_webm: i,
          item_title: l,
        } = e;
        if (r?.length > 0 && i?.length > 0) {
          const n = `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${a}`,
            l = `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${i}`,
            o = `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${r}`;
          return s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "video",
              {
                muted: !0,
                controls: !1,
                autoPlay: !0,
                loop: !0,
                poster: n,
                className: e.videoClassName,
              },
              s.createElement("source", { src: l, type: "video/webm" }),
              Boolean(!b.TS.IN_CLIENT) &&
                s.createElement("source", { src: o, type: "video/mp4" }),
            ),
          );
        }
        {
          const r = `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${a || n}`;
          return s.createElement("img", {
            className: e.className,
            src: r,
            alt: l,
          });
        }
      }
      function Me(e) {
        const { appid: t, community_item_type: a, bForEdit: n } = e,
          r = Ie(t, a, n),
          i =
            r && !r.active
              ? s.createElement(
                  "div",
                  { className: Be.WarningStylesBackground },
                  (0, f.we)("#Sale_Section_RewardShelf_ItemInActiveWarning"),
                )
              : void 0;
        return r
          ? s.createElement(s.Fragment, null, s.createElement(Te, { ...r }), i)
          : s.createElement(x.t, {
              size: "small",
              string: (0, f.we)("#Loading"),
            });
      }
      function Ae(e) {
        const t = (0, be.Oz)(),
          { bLoading: a } = t,
          { className: n, bPreviewMode: r, rewardType: i } = e;
        return s.createElement(
          A.$n,
          {
            className: (0, G.A)("CSSClaimItemButton", n),
            onClick: (e) => {
              t.bCanClaimNewItem
                ? (0, ce.pg)(
                    s.createElement(Re, { rewardType: i }),
                    (0, J.uX)(e),
                  )
                : ("dev" == b.TS.WEB_UNIVERSE ||
                    "beta" == b.TS.WEB_UNIVERSE ||
                    r) &&
                  ((0, ce.pg)(
                    s.createElement(Re, { rewardType: i }),
                    (0, J.uX)(e),
                  ),
                  console.log(
                    "Show dialog for debugging, since already claimed: ",
                    (0, y.HO)(t),
                  ));
            },
            disabled: a,
          },
          Boolean(a)
            ? s.createElement(x.t, {
                string: (0, f.we)("#Loading"),
                size: "small",
              })
            : s.createElement(ke, { claimState: t }),
        );
      }
      function ke(e) {
        const { claimState: t, strButtonOverride: a, rewardType: n } = e;
        if (t.bAlreadyClaimedCurrentItem)
          return s.createElement(
            "div",
            { className: (0, G.A)(De.CheckMark, "CSSClaimedState") },
            s.createElement(Q.Jlk, null),
            s.createElement(
              "span",
              null,
              " ",
              a?.length > 0
                ? a
                : (0, f.we)("#Sale_ClaimableReward_AlreadyClaimed"),
            ),
          );
        let r = (0, f.we)("#Sale_ClaimableReward_generic");
        switch (t?.community_item_class || n) {
          case 11:
            r = (0, f.we)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            r = (0, f.we)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            r = (0, f.we)("#Sale_ClaimableReward_animatedavatar");
        }
        return s.createElement("span", { className: "CSSUnclaimedState" }, r);
      }
      function Re(e) {
        const { closeModal: t, rewardType: a } = e,
          { fnClaimItem: n } = (0, be.CC)(),
          r = (0, we.vs)(),
          [i, l] = s.useState(null);
        s.useEffect(() => {
          r.bLoading ||
            (r.fnSetLoading(!0),
            n()
              .then((e) => {
                if (
                  (l(e), console.log("claim response", (0, y.HO)(e)), e.appid)
                ) {
                  let t = (0, f.we)("#Sale_ClaimableReward_completed_generic");
                  const n = i?.community_item_class || a;
                  switch (n) {
                    case 11:
                      t = (0, f.we)("#Sale_ClaimableReward_completed_sticker");
                      break;
                    case 8:
                      t = (0, f.we)(
                        "#Sale_ClaimableReward_completed_profilemodifier",
                      );
                      break;
                    case 15:
                      t = (0, f.we)(
                        "#Sale_ClaimableReward_completed_animatedavatar",
                      );
                  }
                  r.fnSetStrSuccess("   "),
                    r.fnSetElSuccess(
                      s.createElement(
                        "div",
                        { className: De.DialogCtn },
                        s.createElement("span", null, t),
                        s.createElement(Pe, {
                          appid: e.appid,
                          community_item_type: e.community_item_type,
                          rewardType: n,
                        }),
                      ),
                    );
                } else r.fnSetStrError((0, f.we)("#Sale_ClaimableReward_Busy"));
              })
              .catch((e) =>
                r.fnSetStrError((0, f.we)("#Sale_ClaimableReward_Busy")),
              ));
        }, [i?.community_item_class, r, n, a]);
        let o = (0, f.we)("#Sale_ClaimableReward_generic");
        switch (i?.community_item_class || a) {
          case 11:
            o = (0, f.we)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            o = (0, f.we)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            o = (0, f.we)("#Sale_ClaimableReward_animatedavatar");
        }
        return s.createElement(we.Hh, {
          state: r,
          strDialogTitle: o,
          closeModal: t,
        });
      }
      function Pe(e) {
        const { appid: t, community_item_type: a, rewardType: n } = e;
        return t && a
          ? s.createElement(
              s.Fragment,
              null,
              s.createElement(Me, { appid: t, community_item_type: a }),
              Boolean(8 == n) &&
                s.createElement(Ne, { appid: t, community_item_type: a }),
            )
          : null;
      }
      function Ne(e) {
        const { appid: t, community_item_type: a } = e,
          n = fe(t),
          [r, i] = s.useState(!1);
        if (!n) return null;
        const l = n.find((e) => e.item_type == a);
        return l
          ? s.createElement(
              "div",
              { className: De.EquipCtn },
              Boolean(r)
                ? s.createElement(
                    "div",
                    null,
                    (0, f.we)(
                      "#Sale_ClaimableReward_profilemodifier_apply_success",
                    ),
                  )
                : s.createElement(
                    A.$n,
                    {
                      onClick: (e) => {
                        (0, be.ns)(l).then((e) => {
                          1 == e && i(!0);
                        });
                      },
                    },
                    (0, f.we)("#Sale_ClaimableReward_profilemodifier_apply"),
                  ),
              s.createElement(
                X.Ii,
                { href: `${b.TS.COMMUNITY_BASE_URL}profiles/${b.iA.steamid}` },
                (0, f.we)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            )
          : s.createElement(
              "div",
              null,
              s.createElement(
                X.Ii,
                {
                  href: `${b.TS.COMMUNITY_BASE_URL}profiles/${b.iA.steamid}/edit/goldenprofile`,
                },
                (0, f.we)("#Sale_ClaimableReward_profilemodifier_choose"),
              ),
              s.createElement(
                X.Ii,
                { href: `${b.TS.COMMUNITY_BASE_URL}profiles/${b.iA.steamid}` },
                (0, f.we)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            );
      }
      let Ge = null;
      function Oe() {
        return (
          null == Ge &&
            (Ge = new Map([
              ["url", { Constructor: O, autocloses: !1 }],
              [
                "h1",
                {
                  Constructor: l.Tu(l.Zb, R.Header1),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h2",
                {
                  Constructor: l.Tu(l.Sz, R.Header2),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h3",
                {
                  Constructor: l.Tu(l.ZS, R.Header3),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "quote",
                { Constructor: l.Tu(l.Pk, R.BlockQuote), autocloses: !1 },
              ],
              [
                "list",
                {
                  Constructor: l.Tu(l.B8, R.UnorderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "olist",
                {
                  Constructor: l.Tu(l._J, R.OrderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "*",
                { Constructor: l.ck, autocloses: !0, skipInternalNewline: !0 },
              ],
              ["img", { Constructor: Fe, autocloses: !1 }],
              ["previewyoutube", { Constructor: M.gH, autocloses: !1 }],
              ["looping_media", { Constructor: l.$A, autocloses: !1 }],
              ["video", { Constructor: l.UT, autocloses: !1 }],
              ["youtubeorvideo", { Constructor: M.Eo, autocloses: !1 }],
              ["trailer", { Constructor: Ue, autocloses: !0 }],
              ["vod", { Constructor: ze, autocloses: !1 }],
              [
                "speaker",
                {
                  Constructor: xe,
                  autocloses: !1,
                  skipInternalNewline: !0,
                  allowWrapTextForCopying: !0,
                },
              ],
              ["giveawayeligible", { Constructor: We, autocloses: !1 }],
              ["claimitem", { Constructor: je, autocloses: !0 }],
              ["packagepurchaseable", { Constructor: He, autocloses: !1 }],
              ["actiondialog", { Constructor: Ke, autocloses: !1 }],
              ["uploadfilebutton", { Constructor: $e, autocloses: !0 }],
              ["docimg", { Constructor: Le, autocloses: !1 }],
              ["carousel", { Constructor: ue, autocloses: !1 }],
              ["meetsteamsessiongroup", { Constructor: k.ac, autocloses: !1 }],
            ])),
          Ge
        );
      }
      function Fe(e) {
        const { showErrorInfo: t, event: a } = e.context;
        let n = (0, l.j$)(e.args, "src") || e.children?.toString();
        if (!n && ((n = (0, l.j$)(e.args)), null == !n)) return null;
        const r = l._D(n, e.language, a?.rtime32_last_modified);
        if ("string" == typeof r) {
          let e;
          return (
            (n = r),
            (e = (!a || !a.BHasTag("auto_rssfeed")) && !(0, m.ZF)(n)),
            t || (n = (0, m.L$)(n)),
            t
              ? s.createElement(Y.i, {
                  src: n,
                  crossOrigin: e ? "anonymous" : void 0,
                })
              : s.createElement(le.o, {
                  src: n,
                  crossOrigin: e ? "anonymous" : void 0,
                })
          );
        }
        return s.createElement($.c, { rgSources: r });
      }
      function Le(e) {
        const t = (0, l.j$)(e.args);
        if (null == t || null == t || 0 == t.length) return "";
        const a = e && e.children && e.children.toString(),
          n = new Array();
        return (
          n.push(
            `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/${b.TS.LANGUAGE}/${t}`,
          ),
          "english" != b.TS.LANGUAGE &&
            n.push(
              `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/english/${t}`,
            ),
          s.createElement($.c, { rgSources: n, alt: a })
        );
      }
      function Ue(e) {
        const t = qe(
            e.args,
            "appid",
            e.context.event.appid ? e.context.event.appid : 0,
          ),
          a = qe(e.args, "trailerid", 0);
        return s.createElement(q, {
          appid: t,
          trailerBaseID: a,
          bIsPreviewMode: e.context.showErrorInfo,
        });
      }
      function ze(e) {
        const t = qe(e.args, "appid", 0);
        return s.createElement(K, {
          appid: t,
          bPreviewMode: e.context.showErrorInfo,
        });
      }
      function xe(e) {
        const t = (0, l.j$)(e.args, "name"),
          a = (0, l.j$)(e.args, "title"),
          n = (0, l.j$)(e.args, "company"),
          r = (0, l.j$)(e.args, "photo");
        return e.context.bShowShortSpeakerInfo
          ? s.createElement(F.S8, {
              name: t,
              title: a,
              company: n,
              photo: r,
              bio: e.children,
            })
          : s.createElement(F.$k, {
              name: t,
              title: a,
              company: n,
              photo: r,
              bio: e.children,
            });
      }
      function qe(e, t, a) {
        const n = (0, l.j$)(e, t);
        return void 0 === n || null == n ? a : Number.parseInt(n);
      }
      function We(e) {
        const t = (0, l.j$)(e.args, "name"),
          a =
            "true" === ((0, l.j$)(e.args, "visible") || "false").toLowerCase(),
          n = (0, I.h)(t);
        if (!t) {
          return e.context.showErrorInfo
            ? s.createElement("div", null, "Failed to provide giveaway name")
            : null;
        }
        return n && n.registered && ((n.eligible && a) || (!n.eligible && !a))
          ? e.children
          : null;
      }
      function je(e) {
        const t = e.context.showErrorInfo;
        if (!b.iA.logged_in)
          return s.createElement(
            A.$n,
            { onClick: pe.vg, className: "CSSClaimItemLoginButton" },
            (0, f.we)("#Sale_ClaimableReward_Login"),
          );
        const a = (0, l.j$)(e.args, "type");
        let n;
        if (a)
          switch (a) {
            case "profilemodifier":
              n = 8;
              break;
            case "sticker":
              n = 11;
          }
        return s.createElement(Ae, { bPreviewMode: t, rewardType: n });
      }
      function He(e) {
        const t = Number.parseInt((0, l.j$)(e.args, "id")) || 0,
          a =
            "true" === ((0, l.j$)(e.args, "visible") || "false").toLowerCase(),
          n = e.context.showErrorInfo,
          [r, i] = (0, T.Gg)(t, {});
        if (!t || 1 == i)
          return !t && n
            ? s.createElement("div", null, "Error: PackageID Not Set")
            : null;
        let o = !1;
        return (
          (o = B.A.Get().BHasStoreItem(t, 1)
            ? Boolean(r.GetBestPurchaseOption())
            : !B.A.Get().BIsPackageUnavailableDueToCountryRestriction(t)),
          (!o && !a) || (o && a) ? e.children : null
        );
      }
      function Ve(e) {
        if ("GameAwardDrop2022" === e) {
          const t = (0, I.h)(e),
            a = (0, I.Q)();
          return t
            ? t.registered
              ? {
                  bInitialState: !1,
                  bSuccessState: t.eligible,
                  bFailedState: !t.eligible,
                  fnAction: t.eligible
                    ? void 0
                    : async () => {
                        await a.fnCreateRegistration(e);
                      },
                }
              : {
                  bInitialState: !0,
                  fnAction: async () => {
                    await a.fnCreateRegistration(e);
                  },
                }
            : { bInitialState: !0 };
        }
        return { bInitialState: !0 };
      }
      function Ke(e) {
        const t = (0, l.j$)(e.args, "action"),
          a = (0, l.j$)(e.args, "initialToken"),
          n = (0, l.j$)(e.args, "successToken"),
          r = (0, l.j$)(e.args, "failToken"),
          i = Ve(t);
        if (!(t && a && n && r)) {
          return e.context.showErrorInfo
            ? s.createElement(
                "div",
                null,
                "Failed to provide all tokens. Dialog will not appear",
              )
            : null;
        }
        return b.iA.logged_in || "test" == t || "nologinrequired" == t
          ? s.createElement(
              A.$n,
              {
                className: "CSSActionDialogButton",
                onClick: (i) => {
                  (0, ce.pg)(
                    s.createElement(
                      Ye,
                      {
                        strAction: t,
                        strInitialToken: a,
                        strSuccessToken: n,
                        strFailToken: r,
                      },
                      e.children,
                    ),
                    (0, J.uX)(i),
                  );
                },
              },
              Boolean(i.bInitialState) && (0, f.we)(a),
              Boolean(i.bSuccessState) && (0, f.we)(n),
              Boolean(i.bFailedState) && (0, f.we)(r),
            )
          : s.createElement(
              A.$n,
              { className: "CSSActionDialogButton", onClick: pe.vg },
              (0, f.we)("#Login_SignIn"),
            );
      }
      function Ye(e) {
        const {
            strAction: t,
            children: a,
            closeModal: n,
            strInitialToken: r,
            strSuccessToken: i,
            strFailToken: l,
          } = e,
          o = Ve(t),
          [c, m] = s.useState(Boolean(o.fnAction));
        return (
          s.useEffect(() => {
            o.fnAction && (m(!0), o.fnAction().finally(() => m(!1)));
          }, [o]),
          s.createElement(
            oe.eV,
            {
              bDisableBackgroundDismiss: !0,
              closeModal: n,
              onCancel: n,
              className: "CSSActionDialogDialog",
            },
            s.createElement(
              A.Y9,
              null,
              Boolean(o.bInitialState) && (0, f.we)(r),
              Boolean(o.bSuccessState) && (0, f.we)(i),
              Boolean(o.bFailedState) && (0, f.we)(l),
            ),
            s.createElement(
              A.nB,
              null,
              s.createElement(
                A.a3,
                null,
                c
                  ? s.createElement(x.t, {
                      size: "medium",
                      position: "center",
                      string: (0, f.we)("#Loading"),
                    })
                  : a,
              ),
            ),
          )
        );
      }
      function $e(e) {
        const { showErrorInfo: t, event: a } = e.context,
          n = a.clanSteamID.GetAccountID(),
          [r] = s.useState(
            new D(
              (function (e) {
                const t = {
                  PopulateBeginFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  PopulateCommitFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  GetBeginFileUploadURL: () =>
                    b.TS.STORE_BASE_URL + "saleaction/ajaxbeginfileupload",
                  GetCommitFileUploadURL: () =>
                    b.TS.STORE_BASE_URL + "saleaction/ajaxcommitfileupload",
                  LogFileUploadMessage: (e) => {
                    console.log("UploadFileButton: ", e);
                  },
                  GetMaxFileSizeMB: () => 100,
                };
                return t;
              })(n),
            ),
          );
        return n == h.GU ||
          n == h.bv ||
          (2 == b.TS.EUNIVERSE && n == h.mW) ||
          (1 == b.TS.EUNIVERSE && n == h.Kd)
          ? s.createElement(
              "div",
              null,
              s.createElement(ee, { fileUploadManager: r }),
              s.createElement(ne, { fileUploadManager: r }),
            )
          : t
            ? s.createElement("div", null, (0, f.we)("#CloudUpload_NotSupport"))
            : null;
      }
      var Je = a(70995),
        Xe = a(17720),
        Qe = a(43070),
        Ze = a(73662),
        et = a.n(Ze),
        tt = a(13699),
        at = a(4434);
      const nt = (e) => /^\d+$/.test(e);
      function rt(e) {
        const { sharedFileID: t } = e,
          a = (0, at.m)("SharedFileSnippet"),
          [n, r] = (0, s.useState)(!1),
          [i, l] = (0, s.useState)(() => ({
            sharedfileid: t,
            title: (0, f.we)("#Loading"),
            description: "",
            type: "",
            previewurl: "",
            appid: 0,
            url: b.TS.COMMUNITY_BASE_URL + "sharedfiles/filedetails/?id=" + t,
          }));
        (0, s.useEffect)(() => {
          (async () => {
            try {
              const e = await tt.R.LoadSharedFileDynamicData([t], a);
              if (!a.token.reason && e.length > 0) {
                const t = e[0];
                nt(t.url) &&
                  (t.url =
                    b.TS.COMMUNITY_BASE_URL +
                    "sharedfiles/filedetails/?id=" +
                    t.url),
                  l(t),
                  console.log(e[0]),
                  r(!0);
              }
            } catch (e) {
              const t = (0, Ee.H)(e);
              console.error("SharedFileSnippet: " + t.strErrorMsg, t);
            }
          })();
        }, [a, t]);
        let o = void 0 !== i.personnaname && i.personnaname.length > 0;
        return s.createElement(
          "a",
          {
            href: i.url,
            className: et().DynamicLinkBox,
            "data-modal-content-sizetofit": !!i.bSizeToFit,
            "data-appid": i.appid,
            "data-publishedfileid": t,
          },
          s.createElement("img", {
            className: et().DynamicLink_Preview,
            src: i.previewurl,
          }),
          s.createElement(
            "div",
            { className: et().DynamicLink_Content },
            s.createElement(
              "div",
              { className: et().DynamicLink_Name },
              i.title,
            ),
            s.createElement(
              "div",
              null,
              s.createElement(
                "span",
                { className: et().DynamicLink_Type },
                i.type,
              ),
            ),
            o &&
              s.createElement(
                "div",
                { className: et().DynamicLink_Author },
                (0, f.PP)(
                  "#EventEditor_Author",
                  s.createElement(
                    "span",
                    { className: et().DynamicLink_AuthorName },
                    i.personnaname,
                  ),
                ),
              ),
            s.createElement(
              "div",
              { className: et().DynamicLink_Description },
              i.description,
            ),
          ),
        );
      }
      var it = a(75844),
        st = a(22837),
        lt = a(86355),
        ot = a(4796),
        ct = a(86921),
        mt = a(3919);
      let dt = class extends s.Component {
        state = {
          bLoading: this.props.announcementGID
            ? !ct.O3.BHasClanAnnouncementGID(this.props.announcementGID)
            : !ct.O3.BHasClanAnnouncementGID(this.props.eventGID),
          bFailedLoad: !1,
        };
        m_cancelSignal = S().CancelToken.source();
        componentDidMount() {
          this.HandleLoadEventInfo();
        }
        async HandleLoadEventInfo() {
          const {
            appid: e,
            strVanity: t,
            announcementGID: a,
            eventGID: n,
            strGroupVanity: r,
          } = this.props;
          let i = this.props.clanSteamID;
          try {
            if (this.state.bLoading) {
              if (void 0 !== t) {
                i = (await ot.ac.LoadOGGClanInfoForIdentifier(t)).clanSteamID;
              } else if (void 0 !== r) {
                i = (await ot.ac.LoadOGGClanInfoForGroupVanity(r)).clanSteamID;
              }
              const s = ct.O3.LoadPartnerEventGeneric(i, e, n, a, 0);
              let l = await s;
              await Promise.all([
                B.A.Get().QueueAppRequest(l.appid, {
                  include_assets: !0,
                  include_basic_info: !0,
                  include_release: !0,
                }),
              ]),
                this.setState({ bFailedLoad: !1, bLoading: !1 });
            }
          } catch (e) {
            this.HandleError(e);
          }
        }
        HandleError(e) {
          let t = (0, Ee.H)(e);
          const {
            eventGID: a,
            announcementGID: n,
            strGroupVanity: r,
            strVanity: i,
          } = this.props;
          console.error(
            "EventSnippet hit error on announceGID " +
              n +
              " eventGID " +
              a +
              " strVanity " +
              i +
              " strGroupVanity " +
              r +
              " error: " +
              t.strErrorMsg,
          ),
            this.setState({ bFailedLoad: !0 });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted");
        }
        render() {
          const {
            appid: e,
            announcementGID: t,
            eventGID: a,
            strURL: n,
            fnFilterImageURLsForKnownFailures: r,
            fnImageFailureCallback: i,
          } = this.props;
          if (this.state.bFailedLoad) return (0, d.Pm)(n);
          if (this.state.bLoading) return s.createElement(x.t, null);
          let l =
            void 0 !== t
              ? ct.O3.GetClanEventFromAnnouncementGID(t)
              : ct.O3.GetClanEventModel(a);
          if (null == l) return (0, d.Pm)(n);
          let o = (0, st.sf)(b.TS.LANGUAGE),
            c = l.GetImageForSizeAsArrayWithFallback(
              "capsule",
              o,
              lt.wI.capsule_main,
            );
          r && (c = r(c));
          let m = l.GetNameWithFallback(o),
            u = l.GetSubTitleWithSummaryFallback(o),
            p = B.A.Get().GetApp(e)?.GetName(),
            _ = (0, f.TW)(l.GetStartTimeAndDateUnixSeconds());
          return s.createElement(
            mt.tj,
            {
              eventModel: l,
              route: mt.PH.k_eView,
              className: et().DynamicLinkBox,
              "data-modal-content-sizetofit": !0,
              "data-appid": e,
            },
            s.createElement($.c, {
              className: et().DynamicLink_Preview,
              rgSources: c,
              onIncrementalError: (e, t, a) => i && i(t),
            }),
            s.createElement(
              "div",
              { className: et().DynamicLink_Content },
              s.createElement(
                "div",
                { className: et().DynamicLink_Author },
                (0, f.we)(
                  28 == l.type
                    ? "#EventDisplay_Share_Announcement"
                    : "#EventDisplay_Share_Event",
                  p,
                ),
                s.createElement(
                  "span",
                  { className: et().DynamicLink_Date },
                  _,
                ),
              ),
              s.createElement(
                "div",
                { className: et().DynamicLink_Name },
                s.createElement("div", { className: et().DynamicLink_Type }, m),
              ),
              s.createElement(
                "div",
                { className: et().DynamicLink_Description },
                u,
              ),
            ),
          );
        }
      };
      dt = (0, n.Cg)([it.PA], dt);
      var ut = a(39978),
        pt = a.n(ut);
      let _t = class extends s.Component {
        state = { bSummaryMode: !0, bLoadedMetaData: !1 };
        async componentDidMount() {
          let e =
            "https://sketchfab.com/oembed?url=https://sketchfab.com/models/" +
            this.props.modelID;
          try {
            let t = await S().get(e);
            this.setState({ bLoadedMetaData: !0, data: t.data });
          } catch (e) {
            this.setState({ bError: !0 }),
              console.error(
                "SketchFabEmbed failed to load: " + (0, Ee.H)(e).strErrorMsg,
              );
          }
        }
        OnSketchFabClick() {
          this.state.bLoadedMetaData && this.setState({ bSummaryMode: !1 });
        }
        render() {
          const { modelID: e } = this.props;
          return this.state.bError
            ? s.createElement(
                "div",
                {
                  className: pt().dynamiclink_box,
                  onClick: this.OnSketchFabClick,
                },
                s.createElement("span", null, e),
                s.createElement(
                  "span",
                  null,
                  (0, f.we)("#EventDisplay_SketchFab_Error_Network"),
                ),
              )
            : this.state.bSummaryMode
              ? s.createElement(
                  "div",
                  {
                    className: pt().dynamiclink_box,
                    onClick: this.OnSketchFabClick,
                  },
                  Boolean(this.state.bLoadedMetaData)
                    ? s.createElement(
                        s.Fragment,
                        null,
                        s.createElement("img", {
                          className: pt().dynamiclink_preview,
                          src: this.state.data.thumbnail_url,
                        }),
                        s.createElement("img", {
                          className: pt().sketchfab_play_overlay_image,
                        }),
                        s.createElement(
                          "div",
                          { className: pt().dynamiclink_content },
                          s.createElement(
                            "div",
                            { className: pt().dynamiclink_name },
                            s.createElement(
                              "span",
                              { className: pt().dynamiclink_type },
                              (0, f.we)("#EventDisplay_Sketchfab"),
                            ),
                            s.createElement(
                              "div",
                              null,
                              this.state.data.title,
                              " ",
                            ),
                          ),
                          s.createElement(
                            "div",
                            { className: pt().dynamiclink_author },
                            this.state.data.author_name,
                          ),
                        ),
                      )
                    : s.createElement(x.t, { size: "medium" }),
                )
              : s.createElement(
                  "div",
                  { className: pt().sketchfabmodelembedded },
                  s.createElement("iframe", {
                    className: pt().sketchfabmodelembedded,
                    src:
                      "https://sketchfab.com/models/" +
                      this.props.modelID +
                      "/embed?autostart=1",
                    frameBorder: 0,
                    allowFullScreen: !0,
                  }),
                );
        }
      };
      (0, n.Cg)([ye.oI], _t.prototype, "OnSketchFabClick", null),
        (_t = (0, n.Cg)([it.PA], _t));
      var gt = a(83935);
      class ht {
        m_mapDefIDtoDefinition = new Map();
        m_mapDefIDToPromise = new Map();
        m_defChangeCallback = new Map();
        m_mapCategoryAndClassToItems = new Map();
        m_mapCategoryAndClassToPromise = new Map();
        m_defCategoryAndClassToChangeCallback = new Map();
        m_SteamInterface = null;
        GetItem(e) {
          return this.m_mapDefIDtoDefinition.get(e);
        }
        GetItemChangeCallback(e) {
          return (
            this.m_defChangeCallback.has(e) ||
              this.m_defChangeCallback.set(e, new Se.lu()),
            this.m_defChangeCallback.get(e)
          );
        }
        GetKeyCategoryAndClass(e, t) {
          return e + "_" + t;
        }
        GetItemsByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return this.m_mapCategoryAndClassToItems.get(a);
        }
        GetItemsByCategoryAndClassCallback(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_defCategoryAndClassToChangeCallback.has(a) ||
              this.m_defCategoryAndClassToChangeCallback.set(a, new Se.lu()),
            this.m_defCategoryAndClassToChangeCallback.get(a)
          );
        }
        async LoadRewardDefinition(e) {
          return (
            this.m_mapDefIDToPromise.has(e) ||
              this.m_mapDefIDToPromise.set(
                e,
                this.InternalLoadRewardDefinition(e),
              ),
            this.m_mapDefIDToPromise.get(e)
          );
        }
        async InternalLoadRewardDefinition(e) {
          if (this.m_mapDefIDtoDefinition.has(e))
            return this.m_mapDefIDtoDefinition.get(e);
          const t = _e.w.Init(gt.GB);
          t.Body().set_definitionids([e]);
          let a = null;
          try {
            const n = await gt.a9.QueryRewardItems(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            if (1 == n.GetEResult() && n.Body().definitions()?.length > 0) {
              (0, v.w)(
                1 == n.Body().definitions()?.length,
                `Requested definition ID ${e} and receive # ${n.Body().definitions()?.length}, expecting exactly one.`,
              );
              const t = n.Body().definitions()[0].toObject();
              return (
                this.m_mapDefIDtoDefinition.set(e, t),
                this.GetItemChangeCallback(e).Dispatch(t),
                t
              );
            }
            a = (0, Ee.H)(n);
          } catch (e) {
            a = (0, Ee.H)(e);
          }
          return (
            console.error(
              "CLoyaltyRewardDefinitionStore.LoadRewardDefinition failed: " +
                a?.strErrorMsg,
              a,
            ),
            null
          );
        }
        async LoadRewardDefinitionByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_mapCategoryAndClassToPromise.has(a) ||
              this.m_mapCategoryAndClassToPromise.set(
                a,
                this.InternalLoadRewardDefinitionByCategoryAndClass(e, t),
              ),
            this.m_mapCategoryAndClassToPromise.get(a)
          );
        }
        async InternalLoadRewardDefinitionByCategoryAndClass(e, t) {
          const a = this.GetKeyCategoryAndClass(e, t);
          if (this.m_mapCategoryAndClassToItems.has(a))
            return this.m_mapCategoryAndClassToItems.get(a);
          const n = _e.w.Init(gt.GB);
          n.Body().set_community_item_classes([t]),
            n.Body().set_filter_match_any_category_tags([e]);
          let r = null;
          try {
            const i = await gt.a9.QueryRewardItems(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            );
            if (1 == i.GetEResult() && i.Body().definitions()?.length > 0) {
              const n = i
                .Body()
                .definitions()
                .map((e) => e.toObject());
              return (
                n.forEach((e) => {
                  this.m_mapDefIDtoDefinition.has(e.defid) ||
                    (this.m_mapDefIDtoDefinition.set(e.defid, e),
                    this.GetItemChangeCallback(e.defid).Dispatch(e));
                }),
                this.m_mapCategoryAndClassToItems.set(a, n),
                this.GetItemsByCategoryAndClassCallback(e, t).Dispatch(n),
                ("dev" != b.TS.WEB_UNIVERSE && "beta" != b.TS.WEB_UNIVERSE) ||
                  console.log(
                    "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass loaded " +
                      n.length,
                  ),
                n
              );
            }
            r = (0, Ee.H)(i);
          } catch (e) {
            r = (0, Ee.H)(e);
          }
          return (
            console.error(
              "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass failed: " +
                r?.strErrorMsg,
              r,
            ),
            null
          );
        }
        static s_Singleton;
        static Get() {
          return (
            ht.s_Singleton ||
              ((ht.s_Singleton = new ht()),
              ht.s_Singleton.Init(),
              "dev" == b.TS.WEB_UNIVERSE &&
                (window.g_LoyaltyRewardDefinitionStore = ht.s_Singleton)),
            ht.s_Singleton
          );
        }
        constructor() {}
        Init() {
          this.m_SteamInterface = new ge.D(b.TS.WEBAPI_BASE_URL);
        }
      }
      var Et = a(32754),
        St = a(65835),
        yt = a.n(St);
      function vt(e) {
        const { defid: t, url: a } = e,
          n = (function (e) {
            const [t, a] = (0, s.useState)(ht.Get().GetItem(e));
            return (
              (0, s.useEffect)(() => {
                t || ht.Get().LoadRewardDefinition(e);
              }, [e, t]),
              (0, ye.hL)(ht.Get().GetItemChangeCallback(e), a),
              t
            );
          })(t);
        if (!n || !n.community_item_data) return null;
        const r = n.appid,
          i = n.community_item_data.item_image_large,
          l = `${b.TS.MEDIA_CDN_COMMUNITY_URL}images/items/${r}/${i}`;
        return (
          "dev" == b.TS.WEB_UNIVERSE &&
            console.log("reward itemdef", (0, y.HO)(n)),
          s.createElement(
            "div",
            { className: yt().Ctn },
            s.createElement(
              Et.he,
              { toolTipContent: n.community_item_data.item_description },
              s.createElement("img", {
                src: l,
                alt: n.community_item_data.item_title,
              }),
            ),
          )
        );
      }
      var ft = a(79849),
        bt = a(64502),
        wt = a(62792);
      function Dt(e) {
        const { inputType: t, id: a } = e,
          [n] = (0, T.G6)(a, (0, wt.SW)(t), {});
        let r = "bundle" == t ? "bundle" : "sub" == t ? "sub" : "game";
        return s.createElement(
          "div",
          {
            className: (0, G.A)(bt.AppSummaryWidgetCtn, "AppSummaryWidgetCtn"),
          },
          s.createElement(ft.pb, {
            id: a,
            type: r,
            bShowDemoButton: 1 == n?.GetAppType(),
            bAllowTwoLinesForHeader: !0,
          }),
        );
      }
      const Ct =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|store\.steamchina\.com)\/(app|bundle|sub)\/(\d+)/i,
        It =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,
        Bt =
          /(?:steamcommunity\.com|valve\.org\/community|community\.\S+\.steam\.dev|steam\.dev\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,
        Tt =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|steam\.dev\/store|store\.steamchina\.com)\/(?:news|newshub)\/(group|app)\/(\w+)\/view\/(\d+)/i,
        Mt = /:\/\/medal.tv\/(?:clip|clips)\/([a-z0-9]+)/i,
        At = /sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,
        kt = /twitter\.com\/(\w+)(\/?)$/i,
        Rt = /twitter\.com\/hashtag\/(\w+)(\/?)$/i,
        Pt = /twitch\.tv\/(\w+)(\/?)$/i,
        Nt =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/id\/(\w+)(\/?)$/i,
        Gt =
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store|store\.steamchina\.com)\/points\/shop\/.*reward\/(\d+)$/i;
      let Ot = null;
      function Ft(e, t) {
        if ((0, b.Y2)()) return null;
        const a = (0, Je.XU)(e);
        return void 0 !== a?.strVideoID
          ? s.createElement(Qe.A, {
              videoID: a.strVideoID,
              nStartSeconds: a.nStartSeconds,
              classNameAlign: "",
              classNameSize: et().sizeFull,
              bShowVideoImmediately: !1,
            })
          : (0, d.Pm)(e, t?.event);
      }
      function Lt(e, t) {
        if ((0, b.Y2)()) return null;
        const a = new RegExp(Mt).exec(e);
        if (a && a.length > 1) {
          const e = a[1];
          if (e?.length > 0) {
            let a =
              "https://medal.tv/clip/" +
              e +
              "/?autoplay=0&donate=0" +
              (t && t.event ? "&steamappid=" + t.event.appid : "");
            return s.createElement("iframe", {
              className: R.MedalTVWidget,
              src: a,
              frameBorder: 0,
              allow: "autoplay",
            });
          }
        }
        return (0, d.Pm)(e, t?.event);
      }
      function Ut(e, t) {
        let a = new RegExp(At).exec(e);
        if (a && a.length > 1) {
          let e = a[1];
          if (e && e.length > 1) return s.createElement(_t, { modelID: e });
        }
        return (0, d.Pm)(e, t?.event);
      }
      function zt(e, t) {
        const a = e.split("?");
        let n;
        if (2 == a.length) {
          const e = new URLSearchParams(a[1]);
          e.has("id") && (n = e.get("id"));
        }
        return void 0 !== n
          ? s.createElement(rt, { sharedFileID: n })
          : (0, d.Pm)(e, t?.event);
      }
      function xt(e) {
        let t = (0, m.wm)(e).toLocaleLowerCase(),
          a = (0, m.wm)(b.TS.STORE_BASE_URL),
          n = (0, m.wm)(b.TS.COMMUNITY_BASE_URL);
        const r =
          "dev" === b.TS.WEB_UNIVERSE ||
          (0, m.wm)(b.TS.STORE_BASE_URL).endsWith(".steam.dev");
        return (
          t == a ||
          t == n ||
          (r &&
            (t.includes("steampowered.com") ||
              t.includes("steamcommunity.com") ||
              t.includes("steamchina.com")))
        );
      }
      function qt(e, t) {
        if (xt(e)) {
          let t = new RegExp(Ct).exec(e);
          if (t && t.length > 2) {
            let e = t[1],
              a = Number(t[2]);
            if (a > 0) return s.createElement(Dt, { id: a, inputType: e });
          }
        }
        return (0, d.Pm)(e, t?.event);
      }
      function Wt(e, t) {
        if (xt(e)) {
          const t = new RegExp(Gt).exec(e);
          if (t && t.length > 1) {
            const a = Number(t[1]);
            if (a > 0)
              return s.createElement(
                "div",
                { className: (0, G.A)(R.LoyaltyRewardCtn) },
                s.createElement(vt, { defid: a, url: e }),
              );
          }
        }
        return (0, d.Pm)(e, t?.event);
      }
      function jt(e, t) {
        if (xt(e)) {
          let t = new RegExp(It).exec(e);
          if (t && t.length > 2) {
            let a, n, r, i;
            "gid" == t[1]
              ? (n = new Xe.b(t[2]))
              : "groups" == t[1]
                ? (i = t[2])
                : isNaN(+t[2])
                  ? (r = t[2])
                  : (a = Number(t[2]));
            let l = t[3];
            if (
              ((void 0 !== a && a > 0) ||
                void 0 !== r ||
                void 0 !== i ||
                void 0 !== n) &&
              null != l &&
              l.length > 0
            )
              return s.createElement(dt, {
                appid: a,
                clanSteamID: n,
                strVanity: r,
                strGroupVanity: i,
                announcementGID: l,
                strURL: e,
              });
          }
        }
        return (0, d.Pm)(e, t?.event);
      }
      function Ht(e, t) {
        return Qt(Tt, e, t);
      }
      function Vt(e, t) {
        return Qt(Bt, e, t);
      }
      function Kt(e, t) {
        return (0, b.Y2)() ? null : Xt(e, s.createElement(Q.KKS, null), "@", t);
      }
      function Yt(e, t) {
        return (0, b.Y2)() ? null : Xt(e, s.createElement(Q.KKS, null), "#", t);
      }
      function $t(e, t) {
        return (0, b.Y2)()
          ? null
          : Xt(e, s.createElement(Q.qcc, null), void 0, t);
      }
      function Jt(e, t) {
        return Xt(e, s.createElement(Q.Qte, null), void 0, t);
      }
      function Xt(e, t, a, n) {
        let r;
        const i = e.endsWith("/") ? e.length - 1 : e.length,
          l = e.lastIndexOf("/", i - 1);
        -1 != l && l + 1 < e.length && (r = e.substring(l + 1, i)),
          a && r && (r = a + r);
        const o = (0, d.Pm)(e, n?.event, r ?? e);
        return s.createElement(
          "div",
          { className: R.SocialLink },
          s.createElement("div", { className: R.SocialIcon }, t),
          o,
        );
      }
      function Qt(e, t, a) {
        if (xt(t)) {
          let a = new RegExp(e).exec(t);
          if (a && a.length > 2) {
            let e, n, r, i;
            "gid" == a[1]
              ? (n = new Xe.b(a[2]))
              : "group" == a[1]
                ? (n = Xe.b.InitFromClanID(Number.parseInt(a[2])))
                : "groups" == a[1]
                  ? (i = a[2])
                  : isNaN(+a[2])
                    ? (r = a[2])
                    : (e = Number(a[2]));
            const l = a[3];
            if (
              ((void 0 !== e && e > 0) ||
                void 0 !== r ||
                void 0 !== i ||
                void 0 !== n) &&
              null != l &&
              l.length > 0
            )
              return s.createElement(dt, {
                appid: e,
                clanSteamID: n,
                strVanity: r,
                strGroupVanity: i,
                eventGID: l,
                strURL: t,
              });
          }
        }
        return (0, d.Pm)(t, a?.event);
      }
      class Zt extends s.Component {
        m_parser;
        constructor(e) {
          super(e),
            (this.m_parser = new r.B(
              Zt.sm_BBCodeDictionary,
              this.ElementAccumulator,
              e.languageOverride,
            ));
        }
        ElementAccumulator(e) {
          return new g(
            new _(
              new p(
                new i.OJ(new i.R8(), 0),
                e,
                (null == Ot &&
                  (Ot = (0, b.Y2)()
                    ? [
                        { urlRegExp: new RegExp(Ct), fnBBComponent: qt },
                        { urlRegExp: new RegExp(Bt), fnBBComponent: Vt },
                        { urlRegExp: new RegExp(Tt), fnBBComponent: Ht },
                        { urlRegExp: new RegExp(It), fnBBComponent: jt },
                        { urlRegExp: new RegExp(Nt), fnBBComponent: Jt },
                      ]
                    : [
                        {
                          urlRegExp: new RegExp(/youtu.be|youtube.com/i),
                          fnBBComponent: Ft,
                        },
                        {
                          urlRegExp: new RegExp(
                            /community.+sharedfiles\/filedetails\/\?id=\d+/i,
                          ),
                          fnBBComponent: zt,
                        },
                        { urlRegExp: new RegExp(Ct), fnBBComponent: qt },
                        { urlRegExp: new RegExp(Bt), fnBBComponent: Vt },
                        { urlRegExp: new RegExp(Tt), fnBBComponent: Ht },
                        { urlRegExp: new RegExp(It), fnBBComponent: jt },
                        { urlRegExp: new RegExp(Mt), fnBBComponent: Lt },
                        { urlRegExp: new RegExp(At), fnBBComponent: Ut },
                        { urlRegExp: new RegExp(kt), fnBBComponent: Kt },
                        { urlRegExp: new RegExp(Rt), fnBBComponent: Yt },
                        { urlRegExp: new RegExp(Pt), fnBBComponent: $t },
                        { urlRegExp: new RegExp(Nt), fnBBComponent: Jt },
                        { urlRegExp: new RegExp(Gt), fnBBComponent: Wt },
                      ]),
                Ot),
                {
                  partnerEventStore: this.props.partnerEventStore,
                  event: this.props.event,
                },
              ),
            ),
            e,
          );
        }
        static sm_BBCodeDictionary = new Map([
          ...Array.from(l.W4.entries()),
          ...Array.from(Oe().entries()),
        ]);
        static AddDictionary(e) {
          Zt.sm_BBCodeDictionary = new Map([
            ...Array.from(Zt.sm_BBCodeDictionary.entries()),
            ...Array.from(e.entries()),
          ]);
        }
        render() {
          return (
            this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),
            this.m_parser.ParseBBCode(this.props.text, {
              showErrorInfo: this.props.showErrorInfo,
              event: this.props.event,
              bShowShortSpeakerInfo: this.props.bShowShortSpeakerInfo,
            })
          );
        }
      }
      (0, n.Cg)([ye.oI], Zt.prototype, "ElementAccumulator", null);
    },
    96971: (e, t, a) => {
      "use strict";
      a.d(t, { Cs: () => s, LD: () => i, yD: () => l });
      var n = a(90626);
      const r = { eLocation: 0 },
        i = n.createContext(r);
      function s(e) {
        const { children: t, location: a } = e;
        return n.createElement(
          i.Provider,
          { value: { ...r, eLocation: a } },
          t,
        );
      }
      function l() {
        return n.useContext(i);
      }
    },
    1456: (e, t, a) => {
      "use strict";
      a.d(t, { $k: () => S, fI: () => y, S8: () => v });
      var n = a(34629),
        r = a(75844),
        i = a(90626),
        s = a(59952),
        l = a(22837),
        o = a(49771),
        c = a(6336),
        m = (a(32754), a(73745)),
        d = a(78327),
        u = a(52967),
        p = a(42780);
      function _(e) {
        return new p.OJ(new p.R8(), 0);
      }
      function g(e) {
        const { text: t, languageOverride: a } = e,
          [n] = (0, i.useState)(
            new u.B(new Map([...Array.from(s.W4.entries())]), _, a),
          );
        return i.createElement(i.Fragment, null, n.ParseBBCode(t, {}));
      }
      var h = a(3246),
        E = a.n(h);
      const S = (0, r.PA)((e) => {
        const t = e.photo ? (0, s._D)(e.photo, (0, l.sf)(d.TS.LANGUAGE)) : null,
          a = e.photo ? ("string" == typeof t ? t : t[1]) : null,
          n = Boolean(e.title),
          r = Boolean(e.company);
        return i.createElement(
          "div",
          { className: E().SpeakerPopup, onMouseLeave: e.fnClose },
          i.createElement(
            "div",
            { className: E().SpeakerInfoOuter },
            e.photo && i.createElement("img", { src: a }),
            i.createElement(
              "div",
              { className: E().SpeakerInfoInner },
              i.createElement("div", null, e.name),
              (n || r) &&
                i.createElement(
                  "div",
                  null,
                  n &&
                    i.createElement(
                      "span",
                      { className: E().SpeakerTitle },
                      e.title,
                    ),
                  n && r && i.createElement("span", null, ", "),
                  r && i.createElement("span", null, e.company),
                ),
            ),
          ),
          e.bio &&
            i.createElement(
              "div",
              { className: E().SpeakerBio },
              e.bio,
              e.bioString && i.createElement(g, { text: e.bioString }),
            ),
        );
      });
      class y extends i.Component {
        static sm_embeddedElements = new o.MX(
          "presenter-hover-source-elements",
        );
        m_refAnchor = i.createRef();
        m_fnHidePopup;
        m_nScrollPosAtHoverStart;
        ClosePopup() {
          this.m_fnHidePopup &&
            (this.m_fnHidePopup(),
            (this.m_fnHidePopup = null),
            window.removeEventListener("scroll", this.OnScroll));
        }
        componentWillUnmount() {
          this.ClosePopup();
        }
        OnScroll() {
          Math.abs(window.scrollY - this.m_nScrollPosAtHoverStart) > 50 &&
            this.ClosePopup();
        }
        OnHover(e) {
          const t = this.m_refAnchor.current;
          if (!t) return;
          const a = {
              direction: "right",
              bEnablePointerEvents: !0,
              style: { maxWidth: 640, minHeight: t.clientHeight },
              target: t,
            },
            n = "presenter-hover-" + Math.floor(1e8 * Math.random());
          (this.m_fnHidePopup = () =>
            y.sm_embeddedElements.HideElement(t.ownerDocument, n)),
            window.addEventListener("scroll", this.OnScroll),
            (this.m_nScrollPosAtHoverStart = window.scrollY);
          y.sm_embeddedElements.ShowElementDelayed(
            t.ownerDocument,
            150,
            i.createElement(
              c.g,
              { ...a },
              i.createElement(S, { ...this.props, fnClose: this.OnLeave }),
            ),
            n,
          );
        }
        OnLeave(e) {
          this.ClosePopup();
        }
        render() {
          return i.createElement(
            "div",
            {
              className: E().SpeakerHover,
              ref: this.m_refAnchor,
              onMouseEnter: this.OnHover,
              onFocus: this.OnHover,
              onMouseLeave: this.OnLeave,
              onBlur: this.OnLeave,
            },
            this.props.children,
          );
        }
      }
      (0, n.Cg)([m.oI], y.prototype, "ClosePopup", null),
        (0, n.Cg)([m.oI], y.prototype, "OnScroll", null),
        (0, n.Cg)([m.oI], y.prototype, "OnHover", null),
        (0, n.Cg)([m.oI], y.prototype, "OnLeave", null);
      class v extends i.Component {
        render() {
          const e = this.props.photo
              ? (0, s._D)(this.props.photo, (0, l.sf)(d.TS.LANGUAGE))
              : null,
            t =
              this.props.photo && !this.props.hidePhotoInCompactView
                ? "string" == typeof e
                  ? e
                  : e[1]
                : null,
            a = Boolean(this.props.title),
            n = Boolean(this.props.company);
          return i.createElement(
            "div",
            { className: E().SpeakerOuter },
            i.createElement(
              y,
              { ...this.props },
              i.createElement(
                "div",
                { className: E().Speaker },
                i.createElement(
                  "div",
                  { className: E().SpeakerInfoOuter },
                  !!t && i.createElement("img", { src: t }),
                  i.createElement(
                    "div",
                    { className: E().SpeakerInfoInner },
                    i.createElement("div", null, this.props.name),
                    (a || n) &&
                      i.createElement(
                        "div",
                        null,
                        a &&
                          i.createElement(
                            "span",
                            { className: E().SpeakerTitle },
                            this.props.title,
                          ),
                        a && n && i.createElement("span", null, ", "),
                        n && i.createElement("span", null, this.props.company),
                      ),
                  ),
                ),
              ),
            ),
          );
        }
      }
    },
    82807: (e, t, a) => {
      "use strict";
      a.d(t, { yO: () => pe, CP: () => _e });
      var n = a(77516),
        r = a(17720),
        i = a(67165),
        s = a(61859),
        l = a(34629),
        o = a(56545),
        c = a(94601),
        m = a(14947),
        d = a(96059),
        u = a(90626),
        p = (a(75933), a(8114)),
        _ = a(75487),
        g = a(6144),
        h = (a(73745), a(78327));
      function E(e, t) {
        const a = t?.nSaleTagID,
          n = t?.strContentHubType,
          r = t?.strContentHubCategory,
          i = t?.nContentHubTagID,
          s = t?.bDiscountsOnly,
          l = t?.bPrioritizeDiscounts,
          o = t?.strOptInName,
          c = t?.nOptInTagID,
          m = t?.nPruneTagID;
        let d = e.toString();
        return (
          a
            ? (d += "_" + a)
            : n &&
              ((d += "_" + n),
              "category" === n && r
                ? (d += "_" + r)
                : "tags" === n && i && (d += "_" + i),
              s ? (d += "_d") : l && (d += "_p"),
              o && c && m && (d += "_" + o)),
          d
        );
      }
      function S(e) {
        const t = e?.nSaleTagID,
          a = e?.strContentHubType,
          n = e?.strContentHubCategory,
          r = e?.nContentHubTagID,
          i = e?.bDiscountsOnly,
          s = e?.bPrioritizeDiscounts,
          l = e?.strOptInName,
          o = e?.nOptInTagID,
          c = e?.nPruneTagID,
          m = e?.bOptInOnly,
          d = new p.S7();
        if (t) {
          const e = new p.hw();
          e.set_sale_tagid(t), d.set_sale_filter(e);
        } else if (a) {
          const e = new p.rd();
          if (
            (e.set_hub_type(a),
            "category" === a
              ? e.set_hub_category(n)
              : "tags" === a && e.set_hub_tagid(r),
            i ? e.set_discount_filter(1) : s && e.set_discount_filter(2),
            l)
          ) {
            const t = new p.Q7();
            t.set_name(l),
              t.set_optin_tagid(o),
              t.set_prune_tagid(c),
              t.set_optin_only(m),
              e.set_optin(t);
          }
          d.set_content_hub_filter(e);
        }
        return d;
      }
      class y {
        m_transport;
        m_mapDiscoveryQueues = new Map();
        m_mapSkippedApps = new Map();
        m_mapSkippedAppCount = new Map();
        m_mapInClientCompleted = new Map();
        m_mapInClientCompletedCallback = new Map();
        m_setExhuasted = new Set();
        m_mapExhuastedCallback = new Map();
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const a = E(e, t);
          return this.m_mapDiscoveryQueues.get(a).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const a = E(e, t);
          return this.m_mapSkippedAppCount.get(a) || 0;
        }
        GetSkippedAppKey(e, t, a) {
          return `${e}_${E(t, a)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const a = E(e, t);
          return this.m_mapInClientCompleted.get(a) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const a = E(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(a) ||
              this.m_mapInClientCompletedCallback.set(a, new g.lu()),
            this.m_mapInClientCompletedCallback.get(a)
          );
        }
        GetExhaustedCallback(e, t) {
          const a = E(e, t);
          return (
            this.m_mapExhuastedCallback.has(a) ||
              this.m_mapExhuastedCallback.set(a, (0, g.Jc)(!1)),
            this.m_mapExhuastedCallback.get(a)
          );
        }
        BIsExhausted(e, t) {
          const a = E(e, t);
          return this.m_setExhuasted.has(a);
        }
        async LoadDiscoveryQueue(e, t, a) {
          const n = E(e, a),
            r = o.w.Init(_.BL);
          r.Body().set_queue_type(e),
            r.Body().set_country_code(h.TS.COUNTRY || "US"),
            r.Body().set_rebuild_queue(t),
            r.Body().set_rebuild_queue_if_stale(!0),
            (1 !== e && 9 !== e) ||
              r.Body().settings().set_include_coming_soon(!0),
            (Boolean(a?.nSaleTagID) || Boolean(a?.strContentHubType)) &&
              r.Body().set_store_page_filter(S(a));
          const i = await _.nd.GetDiscoveryQueue(this.m_transport, r),
            s = i.GetEResult();
          if (1 == s) {
            const t = i.Body().toObject();
            this.m_mapDiscoveryQueues.set(n, t),
              t.exhausted
                ? (this.m_setExhuasted.add(n),
                  this.GetExhaustedCallback(e, a).Set(!0))
                : (this.m_setExhuasted.delete(n),
                  this.GetExhaustedCallback(e, a).Set(!1)),
              this.m_mapSkippedAppCount.set(n, t.skipped || 0);
          } else
            console.warn(
              "Error",
              s,
              "failed to get discovery queue type",
              e,
              "key",
              n,
            );
          return s;
        }
        async GetDiscoveryQueueAppsOfType(e, t, a) {
          const n = E(e, a);
          return (
            (!t && this.m_mapDiscoveryQueues.has(n)) ||
              (await this.LoadDiscoveryQueue(e, t, a)),
            {
              appids: this.m_mapDiscoveryQueues.get(n).appids,
              exhausted: this.m_mapDiscoveryQueues.get(n).exhausted,
            }
          );
        }
        async SkipDiscoveryQueueItem(e, t, a) {
          E(t, a);
          const n = this.GetSkippedAppKey(e, t, a);
          if (!this.m_mapSkippedApps.has(n)) {
            const r = E(t, a),
              i = this.m_mapDiscoveryQueues.get(r).appids,
              s = i[i.length - 1] == e;
            this.m_mapSkippedApps.set(n, !0),
              this.m_mapSkippedAppCount.set(
                r,
                (this.m_mapSkippedAppCount.get(r) || 0) + 1,
              );
            const l = o.w.Init(_.fe);
            l.Body().set_appid(e),
              l.Body().set_queue_type(t),
              (Boolean(a?.nSaleTagID) || Boolean(a?.strContentHubType)) &&
                l.Body().set_store_page_filter(S(a));
            const c = (
              await _.nd.SkipDiscoveryQueueItem(this.m_transport, l)
            ).GetEResult();
            1 != c && 29 != c
              ? (console.warn("Error", c, "failed to skip appid ", e),
                this.m_mapSkippedApps.delete(n))
              : s && this.MarkDiscoveryQueueCompleted(t, a);
          }
          return Promise.resolve();
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const a = E(e, t);
          if (this.m_mapInClientCompleted.has(a)) {
            const n = this.m_mapInClientCompleted.get(a) + 1;
            this.m_mapInClientCompleted.set(a, n),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(n);
          } else
            this.m_mapInClientCompleted.set(a, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        async LoadSkippedApps(e, t) {
          E(e, t);
          const a = o.w.Init(_.pS);
          a.Body().set_steamid(h.iA.steamid),
            a.Body().set_queue_type(e),
            (Boolean(t?.nSaleTagID) || Boolean(t?.strContentHubType)) &&
              a.Body().set_store_page_filter(S(t));
          const n = await _.nd.GetDiscoveryQueueSkippedApps(
            this.m_transport,
            a,
          );
          return 1 === n.GetEResult()
            ? n.Body().appids() || []
            : (console.warn(
                "Failed to retrieve skipped apps for discovery queue.",
                e,
                t,
                n.GetEResult(),
              ),
              []);
        }
        static s_DiscoveryQueueStore = null;
        static Init(e) {
          y.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(y.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new y()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (0, m.Gn)(this);
        }
      }
      (0, l.Cg)([m.sH], y.prototype, "m_mapDiscoveryQueues", void 0);
      a(96236), a(6878), a(1276), a(30894), a(82097), a(55263);
      var v = a(72839);
      u.createContext({});
      a(13871), a(60854), a(9154);
      var f = a(12155),
        b = (a(32630), a(4434), a(60778));
      a(44691), a(40594);
      a(22797),
        a(10224),
        a(62792),
        a(29863),
        a(94095),
        a(44986),
        a(32754),
        a(20713),
        a(44467);
      var w = a(75844),
        D = a(88241),
        C = a(52038),
        I = a(3088);
      const B =
          "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gODAK/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxobIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgAQABAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8Inmk8+T94/3j/EfWmedJ/z0f/vo0T/6+T/eP86ZQA/zpP8Ano//AH0aPOk/56P/AN9GmVo6Loeq65M0Wj6ddXrr94QRF9v1I6fjQBR86T/no/8A30aPOk/56P8A99GtHW/Dus6GV/tjS7yyD8K00RVW+h6GsugB/nSf89H/AO+jT4JpPPj/AHj/AHh/EfWoafB/r4/94fzoAJ/9fJ/vH+dMp8/+vk/3j/OmUAXdE099W1mw06Jgsl3PHApPYswUH9a+qPF3iHSPhF4S0+003TxK0hMcEAbZvIA3SO2OvIz6k18nW88ttcRz28jxTRMHSRGKsrA5BBHQg1b1TWdT1fy/7V1G8vfLzs+0TNJtz1xknHQUAfUXw+8c6Z8UdN1HS9V0xIpUTM1s7eYkiE43KcAgg/lxg180+NtEHhzxZqmkqxdLWcojHqUPK598EV9CfBbwpF4G8J3fiLxA4trm5hEsnmceRCOQD/tHqR9B1r568a63/wAJH4r1TVghRLqYuinqE6KD74AoAxafB/r4/wDeH86ZT4P9fH/vD+dABP8A6+T/AHj/ADplPn/18n+8f50ygArt/gtpltq/xK0e2vYxJArPMUYZDFEZhn2yBXEV0/w203VNX8YWdloOoHTtQkWQx3IZl2gISeV55AI/GgD1H9pvxPdi/s/DcDGOz8pbqfHWRizBQfYbc/U+1eD12PxW0fWtE8Tpa+I9UOqXpt0cTl2bCEthctz1B/OuOoAKfB/r4/8AeH86ZT4P9fH/ALw/nQAT/wCvk/3j/OmVNPDJ58n7t/vH+E+tM8mT/nm//fJoAZV7Q9Xv9C1KLUNJuGtryMEJIoBIyCD1BHQmqnkyf883/wC+TR5Mn/PN/wDvk0AaHiHXtT8RX4vdau2u7oIIxIygHaCSBwB6msyn+TJ/zzf/AL5NHkyf883/AO+TQAynwf6+P/eH86PJk/55v/3yafBDJ58f7t/vD+E+tAH/2Q==",
        T =
          a.p +
          "images/applications/appmgmt/avatar_default_full.jpg?v=valveisgoodatcaching";
      var M = a(43047),
        A = a.n(M),
        k = a(81393);
      const R = u.memo(function (e) {
        const {
            strAvatarURL: t,
            size: a = "Medium",
            className: n,
            statusStyle: r,
            statusPosition: i,
            children: s,
            ...l
          } = e,
          o = u.useMemo(() => {
            const e = [];
            return (
              t && e.push(t),
              e.push(
                (function (e) {
                  switch (e) {
                    case "X-Small":
                    case "Small":
                      return "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A/P4mW5nmllmeSR3LMzMSSc1a07R73V72KzsILi9u5TiOC2RpJHPoFGSarQ/ef6n+de4fAn9oaL4D+DfGX9i6Uf8AhO9XSKDT9eZY3WxiDZcBGByTkn0JCZBxQB41qeiX+iXslnqNtdWF3H9+3uo2jkX6q2CKpgy208MsUzxyI4ZWViCDmvsr9rrUdT1j9nb4T6h8RBbH4qXUs0zMsSxXJ04hivnKoAU5MPGBg7uM7q+NpvvJ9R/OgAh+8/1P867T4POI/iz4Mc6U+u7NZtG/suPbuu8TKfKG4hct93njnmuKIltp5opYXjkRyrKykEHNWbDVbvSr63vbKaezvLeRZYbi3ZkkidTlWVhyCCMgjpQB6l+1F411nx58dPFWpa5a3mnXaXP2ZNOvXVpLKNBhYflJUY5PB5JJ6k15LN95PqP51a1PWr7WtQnvtRuLm/vrhzJNc3TtJLIx6lmbJJ9zVQCW5nhiiheSR3CqqqSSc0Af/9k=";
                    case "Medium":
                    case "MediumLarge":
                      return B;
                    case "Large":
                    case "X-Large":
                    case "FillArea":
                      return T;
                    default:
                      return (0, k.z)(e, `Unhandled size ${e}`), B;
                  }
                })(a),
              ),
              e
            );
          }, [t, a]);
        return u.createElement(
          "div",
          {
            className: (0, C.A)(
              A().avatarHolder,
              "avatarHolder",
              "no-drag",
              a,
              n,
            ),
            ...l,
          },
          u.createElement("div", {
            className: (0, C.A)(A().avatarStatus, "avatarStatus", i),
            style: r,
          }),
          u.createElement(I.c, {
            className: (0, C.A)(A().avatar, "avatar"),
            rgSources: o,
            draggable: !1,
          }),
          s,
        );
      });
      let P = class extends u.Component {
        render() {
          const {
            persona: e,
            size: t = "Medium",
            animatedAvatar: a,
            className: n,
            ...r
          } = this.props;
          let i = "";
          return (
            a && a.image_small && 0 != a.image_small.length
              ? (i = h.TS.MEDIA_CDN_COMMUNITY_URL + "images/" + a.image_small)
              : e &&
                ((i = e.avatar_url_medium),
                "Small" == t || "X-Small" == t
                  ? (i = e.avatar_url)
                  : ("Large" != t && "X-Large" != t && "FillArea" != t) ||
                    (i = e.avatar_url_full)),
            u.createElement(R, {
              strAvatarURL: i,
              size: t,
              className: (0, C.A)((0, D.rO)(e), n),
              ...r,
            })
          );
        }
      };
      P = (0, l.Cg)([w.PA], P);
      const N = (0, w.PA)((e) => {
        const { profileItem: t, className: a, bDisableAnimation: n, ...r } = e;
        if (!t || !t.image_small || 0 == t.image_small.length) return null;
        let i = n ? t.image_large : t.image_small;
        return (
          i || (i = t.image_small),
          i.startsWith("https://") ||
            (i = h.TS.MEDIA_CDN_COMMUNITY_URL + "images/" + i),
          u.createElement(
            "div",
            { className: (0, C.A)(A().avatarFrame, a, "avatarFrame"), ...r },
            u.createElement("img", { className: A().avatarFrameImg, src: i }),
          )
        );
      });
      let G = class extends u.Component {
        m_timer;
        constructor(e) {
          super(e),
            (this.state = { bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = 0);
        }
        componentDidMount() {
          this.props.bParentHovered || this.SetupAnimationTimer();
        }
        SetupAnimationTimer() {
          let e = 0;
          switch (this.props.loopDuration) {
            case "Short":
              e = 2500;
              break;
            case "Medium":
              e = 5e3;
              break;
            case "Long":
              e = 1e4;
          }
          0 != e &&
            (this.setState({ bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = window.setTimeout(
              () => this.setState({ bAnimate: !1 }),
              e,
            )));
        }
        StopAnimationTimer() {
          this.m_timer &&
            (window.clearTimeout(this.m_timer), (this.m_timer = 0));
        }
        onHover() {
          this.SetupAnimationTimer();
        }
        componentWillUnmount() {
          this.StopAnimationTimer();
        }
        componentDidUpdate(e) {
          this.props.loopDuration != e.loopDuration &&
            ("None" == this.props.loopDuration
              ? (this.setState({ bAnimate: !1 }), this.StopAnimationTimer())
              : "Infinite" == this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : (this.setState({ bAnimate: !0 }),
                  this.SetupAnimationTimer())),
            this.props.bParentHovered != e.bParentHovered &&
              (this.props.bParentHovered &&
              "None" != this.props.loopDuration &&
              "Infinite" != this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : this.state.bAnimate && this.SetupAnimationTimer());
        }
        render() {
          let {
            loopDuration: e,
            animatedAvatar: t,
            avatarFrame: a,
            children: n,
            style: r,
            bLimitProfileFrameAnimationTime: i,
            bParentHovered: s,
            ...l
          } = this.props;
          return (
            l.onClick && (r = { ...r, cursor: "pointer" }),
            this.state.bAnimate || (t = null),
            u.createElement(
              "div",
              {
                onMouseEnter: () =>
                  this.setState({
                    bAnimate: "None" != this.props.loopDuration,
                  }),
                onMouseLeave: () => this.SetupAnimationTimer(),
              },
              u.createElement(
                P,
                { animatedAvatar: t, ...l },
                n,
                u.createElement(N, {
                  profileItem: a,
                  bDisableAnimation: i && !this.state.bAnimate,
                }),
              ),
            )
          );
        }
      };
      G = (0, l.Cg)([w.PA], G);
      var O = a(22837),
        F = a(56420),
        L = a.n(F);
      let U = class extends u.Component {
        static get hoverClass() {
          return L().hoverParent;
        }
        render() {
          const {
            persona: e,
            animating: t,
            className: a,
            size: n,
            dim: r,
            ...i
          } = this.props;
          let s = "";
          return (
            "medium" == n ? (s = L().Medium) : "large" == n && (s = L().Large),
            u.createElement(
              "div",
              {
                className: (0, C.A)(
                  L().SnoozeContainer,
                  e.online_state,
                  a,
                  t && L().animating,
                  s,
                  r && L().Dim,
                ),
                ...i,
              },
              u.createElement(
                "div",
                { "data-text": "Z", className: (0, C.A)(L().SnoozeZ, L().Z1) },
                "Z",
              ),
              u.createElement(
                "div",
                { "data-text": "Z", className: (0, C.A)(L().SnoozeZ, L().Z2) },
                "Z",
              ),
              u.createElement(
                "div",
                { "data-text": "Z", className: (0, C.A)(L().SnoozeZ, L().Z3) },
                "Z",
              ),
            )
          );
        }
      };
      U = (0, l.Cg)([w.PA], U);
      var z = a(70342),
        x = a.n(z),
        q = a(97232);
      const W = (0, w.PA)((e) => {
        const { persona: t, className: a, ...n } = e;
        if (!t) return null;
        if (!t.is_online) return null;
        const r = t.HasStateFlag(512),
          i = t.HasStateFlag(2048),
          l = t.IsOnSteamDeck(),
          o = !l && !i && t.HasStateFlag(1024);
        return u.createElement(
          u.Fragment,
          null,
          r &&
            u.createElement(
              "div",
              {
                className: (0, C.A)(
                  a,
                  x().PersonaStatusIcon,
                  x().MobilePhoneIcon,
                  (0, D.rO)(t),
                ),
                title: (0, s.we)("#Platform_Hint_Mobile"),
                ...n,
              },
              u.createElement(q.rf, null),
            ),
          i &&
            u.createElement(
              "div",
              {
                className: (0, C.A)(
                  a,
                  x().PersonaStatusIcon,
                  x().VRIcon,
                  (0, D.rO)(t),
                ),
                title: (0, s.we)("#Platform_Hint_VR"),
                ...n,
              },
              u.createElement(f.MUh, null),
            ),
          o &&
            u.createElement(
              "div",
              {
                className: (0, C.A)(
                  a,
                  x().PersonaStatusIcon,
                  x().BigPictureIcon,
                  (0, D.rO)(t),
                ),
                title: (0, s.we)("#Platform_Hint_BigPicture"),
                ...n,
              },
              u.createElement(f.bPr, null),
            ),
          l &&
            u.createElement(
              "div",
              {
                className: (0, C.A)(
                  a,
                  x().PersonaStatusIcon,
                  x().SteamDeckIcon,
                  (0, D.rO)(t),
                ),
                title: (0, s.we)("#Platform_Hint_SteamDeck"),
                ...n,
              },
              u.createElement(f.DQe, null),
            ),
        );
      });
      var j = a(18828),
        H = a.n(j);
      function V(e) {
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "span",
            { className: H().partyBeaconJoin },
            (0, s.we)("#User_WantsToPlay"),
          ),
          " – ",
          e.persona.GetCurrentGameName(),
        );
      }
      let K = class extends u.Component {
        render() {
          const {
            className: e,
            onContextMenu: t,
            persona: a,
            eFriendRelationship: n,
            bIsSelf: r,
            bParenthesizeNicknames: i,
            strNickname: l,
            bCompactView: o,
            bHideGameName: c,
            bHideEnhancedRichPresenceLabel: m,
            bHideSnooze: d,
            bHideStatus: p,
            renderStatus: _,
            renderRichPresence: g,
            bHidePersona: E,
            bDNDSet: S,
            bHasPartyBeacon: y,
            bHasGamePrivacy: v,
            bNoMask: b,
            ...w
          } = this.props;
          let I = null,
            B = null,
            T = null,
            M = [
              e,
              H().personaNameAndStatusLabel,
              (0, D.rO)(a),
              o && H().compactView,
              b && H().NoMask,
            ];
          y || a.has_public_party_beacon
            ? (B = u.createElement(V, { persona: a }))
            : (0, O.aP)(n)
              ? ((B = (0, s.we)("#PersonaStateBlocked")), M.push(H().blocked))
              : a.is_ingame
                ? ((B =
                    !a.is_in_nonsteam_game || r || (0, O.S$)(n)
                      ? a.GetCurrentGameName()
                      : (0, s.we)("#PersonaStateInNonSteamGame")),
                  r || E
                    ? r &&
                      a.is_awayOrSnooze &&
                      (T = (0, s.we)("#PersonaStateAway"))
                    : (T = a.GetCurrentGameRichPresence()))
                : a.m_broadcastAccountId &&
                  (B = (0, s.we)("#PersonaStateWatchingBroadcast")),
            B || (B = a.GetLocalizedOnlineStatus()),
            _ && (B = _());
          let A = !E && !d;
          !1 === d && (A = !0),
            a.is_awayOrSnooze && A && (I = u.createElement(U, { persona: a }));
          let k = null;
          t
            ? (k = u.createElement(
                "div",
                { className: "ContextMenuButton", onClick: t },
                u.createElement(f.GB9, null),
              ))
            : M.push(H().noContextMenu),
            E && M.push(H().hidePersona),
            g && (T = g()),
            (!c && T) || M.push(H().twoLine);
          const R = !a.is_ingame && !p,
            P = !m && T,
            N = B && (!c || !P),
            G = (0, O.ID)(h.TS.LAUNCHER_TYPE);
          let F = l && !i,
            L = F ? l : a.m_strPlayerName,
            z = !E && (N || R) && P;
          return u.createElement(
            "div",
            { ...w, className: (0, C.A)(...M), onContextMenu: t },
            u.createElement(
              "div",
              { className: (0, C.A)(H().statusAndName, z && H().threeLines) },
              u.createElement(
                "div",
                { className: H().playerName },
                L || " ",
                i &&
                  l &&
                  u.createElement(
                    "span",
                    { className: H().playerNickname },
                    "(",
                    l,
                    ")",
                  ),
              ),
              S &&
                u.createElement(
                  "div",
                  {
                    className: H().DNDContainer,
                    title: (0, s.we)("#User_ToggleDoNotDisturb"),
                  },
                  u.createElement(f.Aj0, null),
                ),
              F &&
                u.createElement(
                  "span",
                  {
                    className: H().playerNicknameBracket,
                    title: (0, s.we)("#isNickname"),
                  },
                  " *",
                ),
              u.createElement(W, { persona: a }),
              I,
              (a.m_bPlayerNamePending || a.m_bAvatarPending) &&
                G &&
                u.createElement(
                  "div",
                  {
                    className: H().PendingPersona,
                    title: (0, s.we)("#SteamChina_PendingPersonaName"),
                  },
                  u.createElement(f.zD7, null),
                ),
              k,
            ),
            !E &&
              u.createElement(
                "div",
                { className: H().richPresenceContainer },
                (N || R) &&
                  u.createElement(
                    "div",
                    {
                      className: (0, C.A)(
                        H().gameName,
                        z && H().threeLines,
                        H().richPresenceLabel,
                        "no-drag",
                      ),
                    },
                    v &&
                      u.createElement(
                        "div",
                        {
                          className: H().gameIsPrivateIcon,
                          title: (0, s.we)("#User_GameInfoHidden"),
                        },
                        u.createElement(f.jZl, null),
                      ),
                    B,
                  ),
                P &&
                  u.createElement(
                    "div",
                    { className: (0, C.A)(H().richPresenceLabel, "no-drag") },
                    T,
                    " ",
                  ),
              ),
          );
        }
      };
      K = (0, l.Cg)([w.PA], K);
      (0, w.PA)((e) => {
        const {
          persona: t,
          bParenthesizeNicknames: a,
          strNickname: n,
          bIgnorePersonaStatus: r,
          bDisableColoring: i,
          className: s,
          ...l
        } = e;
        let o = n && !a ? n : t.m_strPlayerName;
        return u.createElement(
          "span",
          {
            ...l,
            className: (0, C.A)(
              s,
              i && H().DisableColoring,
              !r && (0, D.rO)(t),
            ),
          },
          u.createElement(
            "span",
            { className: H().playerName },
            o || " ",
            a &&
              n &&
              u.createElement(
                "span",
                { className: H().playerNickname },
                "(",
                n,
                ")",
              ),
          ),
        );
      });
      a(4796);
      var Y,
        $ = a(80613),
        J = a.n($),
        X = a(89068);
      class Q extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Q.prototype.recommendationid || X.Sg(Q.M()),
            $.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Q.sm_m ||
              (Q.sm_m = {
                proto: Q,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  review_text: {
                    n: 2,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  voted_up: { n: 3, br: X.qM.readBool, bw: X.gp.writeBool },
                  is_public: { n: 4, br: X.qM.readBool, bw: X.gp.writeBool },
                  language: { n: 5, br: X.qM.readString, bw: X.gp.writeString },
                  is_in_early_access: {
                    n: 6,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  received_compensation: {
                    n: 7,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  comments_disabled: {
                    n: 8,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  hide_in_steam_china: {
                    n: 9,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                },
              }),
            Q.sm_m
          );
        }
        static MBF() {
          return Q.sm_mbf || (Q.sm_mbf = X.w0(Q.M())), Q.sm_mbf;
        }
        toObject(e = !1) {
          return Q.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(Q.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(Q.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new Q();
          return Q.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(Q.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(Q.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return Q.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Request";
        }
      }
      class Z extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), $.Message.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return Z.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new Z();
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new Z();
          return Z.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return Z.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Update_Response";
        }
      }
      class ee extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ee.prototype.reaction_type || X.Sg(ee.M()),
            $.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ee.sm_m ||
              (ee.sm_m = {
                proto: ee,
                fields: {
                  reaction_type: {
                    n: 1,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  count: { n: 2, br: X.qM.readUint32, bw: X.gp.writeUint32 },
                },
              }),
            ee.sm_m
          );
        }
        static MBF() {
          return ee.sm_mbf || (ee.sm_mbf = X.w0(ee.M())), ee.sm_mbf;
        }
        toObject(e = !1) {
          return ee.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(ee.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(ee.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new ee();
          return ee.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(ee.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(ee.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return ee.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_Recommendation_LoyaltyReaction";
        }
      }
      class te extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            te.prototype.recommendationid || X.Sg(te.M()),
            $.Message.initialize(this, e, 0, -1, [27, 40], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            te.sm_m ||
              (te.sm_m = {
                proto: te,
                fields: {
                  recommendationid: {
                    n: 1,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  steamid: {
                    n: 2,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  appid: { n: 3, br: X.qM.readUint32, bw: X.gp.writeUint32 },
                  review: { n: 4, br: X.qM.readString, bw: X.gp.writeString },
                  time_created: {
                    n: 5,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  time_updated: {
                    n: 6,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  votes_up: { n: 7, br: X.qM.readUint32, bw: X.gp.writeUint32 },
                  votes_down: {
                    n: 8,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  vote_score: { n: 9, br: X.qM.readFloat, bw: X.gp.writeFloat },
                  language: {
                    n: 10,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  comment_count: {
                    n: 11,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  voted_up: { n: 12, br: X.qM.readBool, bw: X.gp.writeBool },
                  is_public: { n: 13, br: X.qM.readBool, bw: X.gp.writeBool },
                  moderator_hidden: {
                    n: 14,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  flagged_by_developer: {
                    n: 15,
                    br: X.qM.readEnum,
                    bw: X.gp.writeEnum,
                  },
                  report_score: {
                    n: 16,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  steamid_moderator: {
                    n: 17,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  steamid_developer: {
                    n: 18,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  steamid_dev_responder: {
                    n: 19,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  developer_response: {
                    n: 20,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  time_developer_responded: {
                    n: 21,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  developer_flag_cleared: {
                    n: 22,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  written_during_early_access: {
                    n: 23,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  votes_funny: {
                    n: 24,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  received_compensation: {
                    n: 25,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  unverified_purchase: {
                    n: 26,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  review_qualities: {
                    n: 27,
                    r: !0,
                    q: !0,
                    br: X.qM.readEnum,
                    pbr: X.qM.readPackedEnum,
                    bw: X.gp.writeRepeatedEnum,
                  },
                  weighted_vote_score: {
                    n: 28,
                    br: X.qM.readFloat,
                    bw: X.gp.writeFloat,
                  },
                  moderation_note: {
                    n: 29,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  payment_method: {
                    n: 30,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  playtime_2weeks: {
                    n: 31,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  playtime_forever: {
                    n: 32,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  last_playtime: {
                    n: 33,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  comments_disabled: {
                    n: 34,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  playtime_at_review: {
                    n: 35,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  approved_for_china: {
                    n: 36,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  ban_check_result: {
                    n: 37,
                    br: X.qM.readEnum,
                    bw: X.gp.writeEnum,
                  },
                  refunded: { n: 38, br: X.qM.readBool, bw: X.gp.writeBool },
                  account_score_spend: {
                    n: 39,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                  reactions: { n: 40, c: ee, r: !0, q: !0 },
                  ipaddress: {
                    n: 41,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  hidden_in_steam_china: {
                    n: 42,
                    br: X.qM.readBool,
                    bw: X.gp.writeBool,
                  },
                  steam_china_location: {
                    n: 43,
                    br: X.qM.readString,
                    bw: X.gp.writeString,
                  },
                  category_ascii_pct: {
                    n: 44,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  category_meme_pct: {
                    n: 45,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  category_offtopic_pct: {
                    n: 46,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  category_uninformative_pct: {
                    n: 47,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  category_votefarming_pct: {
                    n: 48,
                    br: X.qM.readUint32,
                    bw: X.gp.writeUint32,
                  },
                  deck_playtime_at_review: {
                    n: 49,
                    br: X.qM.readInt32,
                    bw: X.gp.writeInt32,
                  },
                },
              }),
            te.sm_m
          );
        }
        static MBF() {
          return te.sm_mbf || (te.sm_mbf = X.w0(te.M())), te.sm_mbf;
        }
        toObject(e = !1) {
          return te.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(te.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(te.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new te();
          return te.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(te.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(te.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return te.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "RecommendationDetails";
        }
      }
      class ae extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ae.prototype.appid || X.Sg(ae.M()),
            $.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ae.sm_m ||
              (ae.sm_m = {
                proto: ae,
                fields: {
                  appid: { n: 1, br: X.qM.readUint32, bw: X.gp.writeUint32 },
                },
              }),
            ae.sm_m
          );
        }
        static MBF() {
          return ae.sm_mbf || (ae.sm_mbf = X.w0(ae.M())), ae.sm_mbf;
        }
        toObject(e = !1) {
          return ae.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(ae.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(ae.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new ae();
          return ae.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(ae.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(ae.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return ae.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Request";
        }
      }
      class ne extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ne.prototype.accountids_recommended || X.Sg(ne.M()),
            $.Message.initialize(this, e, 0, -1, [1, 3], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ne.sm_m ||
              (ne.sm_m = {
                proto: ne,
                fields: {
                  accountids_recommended: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: X.qM.readUint32,
                    pbr: X.qM.readPackedUint32,
                    bw: X.gp.writeRepeatedUint32,
                  },
                  accountids_not_recommended: {
                    n: 3,
                    r: !0,
                    q: !0,
                    br: X.qM.readUint32,
                    pbr: X.qM.readPackedUint32,
                    bw: X.gp.writeRepeatedUint32,
                  },
                },
              }),
            ne.sm_m
          );
        }
        static MBF() {
          return ne.sm_mbf || (ne.sm_mbf = X.w0(ne.M())), ne.sm_mbf;
        }
        toObject(e = !1) {
          return ne.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(ne.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(ne.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new ne();
          return ne.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(ne.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(ne.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return ne.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetFriendsRecommendedApp_Response";
        }
      }
      class re extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            re.prototype.requests || X.Sg(re.M()),
            $.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            re.sm_m ||
              (re.sm_m = {
                proto: re,
                fields: { requests: { n: 1, c: ie, r: !0, q: !0 } },
              }),
            re.sm_m
          );
        }
        static MBF() {
          return re.sm_mbf || (re.sm_mbf = X.w0(re.M())), re.sm_mbf;
        }
        toObject(e = !1) {
          return re.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(re.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(re.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new re();
          return re.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(re.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(re.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return re.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request";
        }
      }
      class ie extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            ie.prototype.steamid || X.Sg(ie.M()),
            $.Message.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            ie.sm_m ||
              (ie.sm_m = {
                proto: ie,
                fields: {
                  steamid: {
                    n: 1,
                    br: X.qM.readUint64String,
                    bw: X.gp.writeUint64String,
                  },
                  appid: { n: 2, br: X.qM.readUint32, bw: X.gp.writeUint32 },
                },
              }),
            ie.sm_m
          );
        }
        static MBF() {
          return ie.sm_mbf || (ie.sm_mbf = X.w0(ie.M())), ie.sm_mbf;
        }
        toObject(e = !1) {
          return ie.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(ie.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(ie.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new ie();
          return ie.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(ie.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(ie.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return ie.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Request_RecommendationRequest";
        }
      }
      class se extends $.Message {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            se.prototype.recommendations || X.Sg(se.M()),
            $.Message.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            se.sm_m ||
              (se.sm_m = {
                proto: se,
                fields: { recommendations: { n: 1, c: te, r: !0, q: !0 } },
              }),
            se.sm_m
          );
        }
        static MBF() {
          return se.sm_mbf || (se.sm_mbf = X.w0(se.M())), se.sm_mbf;
        }
        toObject(e = !1) {
          return se.toObject(e, this);
        }
        static toObject(e, t) {
          return X.BT(se.M(), e, t);
        }
        static fromObject(e) {
          return X.Uq(se.M(), e);
        }
        static deserializeBinary(e) {
          let t = new (J().BinaryReader)(e),
            a = new se();
          return se.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return X.zj(se.MBF(), e, t);
        }
        serializeBinary() {
          var e = new (J().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          X.i0(se.M(), e, t);
        }
        serializeBase64String() {
          var e = new (J().BinaryWriter)();
          return se.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CUserReviews_GetIndividualRecommendations_Response";
        }
      }
      !(function (e) {
        (e.Update = function (e, t) {
          return e.SendMsg("UserReviews.Update#1", (0, o.I8)(Q, t), Z, {
            ePrivilege: 3,
          });
        }),
          (e.GetFriendsRecommendedApp = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetFriendsRecommendedApp#1",
              (0, o.I8)(ae, t),
              ne,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetIndividualRecommendations = function (e, t) {
            return e.SendMsg(
              "UserReviews.GetIndividualRecommendations#1",
              (0, o.I8)(re, t),
              se,
              { bConstMethod: !0, ePrivilege: 1, eWebAPIKeyRequirement: 2 },
            );
          });
      })(Y || (Y = {}));
      a(41735);
      a(57834), a(14336), a(26505);
      new b.wd("AppRelevance").Debug;
      a(12037), a(91822), a(61088), a(16676), a(79359), a(13555), a(828);
      new b.wd("TrailerAppVideo");
      new b.wd("DiscoveryQueueApp").Debug;
      a(25599);
      new b.wd("DiscoveryQueueWizard").Debug;
      a(30470);
      a(60383), a(71477), a(4869);
      a(52393), a(26323), a(68797);
      a(61336);
      function le(e, t) {
        return {
          nSaleTagID: !e.BUsesContentHubForItemSource() && e.featured_app_tagid,
          strContentHubType: e.GetContentHubType(),
          strContentHubCategory: e.GetContentHubCategory(),
          nContentHubTagID: e.GetContentHubTag(),
          bDiscountsOnly: e.BContentHubDiscountedOnly(),
          bPrioritizeDiscounts: t || !1,
          strOptInName: e.jsondata.prune_list_optin_name,
          nOptInTagID: e.jsondata.optin_tagid,
          nPruneTagID: e.jsondata.optin_prune_tagid,
          bOptInOnly: e.jsondata.optin_only,
        };
      }
      class oe {
        m_serviceTransport;
        m_loadPromise = new Map();
        m_mapLoadedData = new Map();
        constructor() {
          (0, m.Gn)(this);
          const e = (0, h.Tc)("loyalty_webapi_token", "application_config"),
            t = new d.D(h.TS.WEBAPI_BASE_URL, e || void 0);
          this.m_serviceTransport = t.GetServiceTransport();
        }
        static GetRelevantSections(e) {
          return e
            .GetSaleSections()
            .filter(
              (e) =>
                (0, n.ye)(e.section_type) &&
                "personalized_carousel" == e.smart_section_type,
            );
        }
        static GetSectionIndex(e, t) {
          return oe
            .GetRelevantSections(t)
            .findIndex((t) => t.unique_id == e.unique_id);
        }
        GetTagNameForSaleSection(e, t) {
          const a = oe.GetSectionIndex(e, t),
            n = this.m_mapLoadedData.get(t.GID);
          return n
            ? n[a]?.sTagName
            : (this.GetCapsulesForSaleSection(e, t), null);
        }
        async GetCapsulesForSaleSection(e, t) {
          const a = oe.GetSectionIndex(e, t);
          if (this.m_loadPromise.has(t.GID)) {
            return (await this.m_loadPromise.get(t.GID))[a];
          }
          const n = this.LoadData(t);
          this.m_loadPromise.set(t.GID, n);
          const r = await n;
          return this.m_mapLoadedData.set(t.GID, r), r[a];
        }
        async LoadData(e) {
          const t = o.w.Init(c.um),
            a = oe.GetRelevantSections(e);
          for (const e of a) {
            const a = t.Body().add_sections();
            a.set_sort(e.smart_section_personalized_carousel_sort ?? 13),
              a.set_min_items(
                e.smart_section_personalized_carousel_min_items ?? 4,
              ),
              a.set_randomize(e.smart_section_personalized_carousel_randomize);
          }
          const r = le(e, Boolean(a[0].prioritize_discounts));
          if (
            (t.Body().set_context((0, v.hS)(!1)),
            t.Body().set_filters(S(r)),
            a[0].store_filter)
          ) {
            const e = t.Body().filters().add_store_filters();
            e.set_filter_json((0, n.qR)(a[0])),
              e.set_cache_key(a[0].unique_id.toString());
          }
          const i = await c.Fs.GetItemsByUserRecommendedTags(
            this.m_serviceTransport,
            t,
          );
          if (1 != i.GetEResult())
            return (
              console.error(
                "GetItemsByUserRecommendedTags failed with error" +
                  i.GetEResult(),
              ),
              null
            );
          return i
            .Body()
            .sections()
            .map((e) => ({
              sTagName: e.tag_name(),
              rgCapsules: e.store_item_ids().flatMap((e) => {
                const t = oe.ConvertStoreItemIDToAppType(e);
                return t ? [t] : [];
              }),
            }));
        }
        static ConvertStoreItemIDToAppType(e) {
          return e.appid()
            ? { id: e.appid(), type: "game" }
            : e.bundleid()
              ? { id: e.bundleid(), type: "bundle" }
              : e.packageid()
                ? { id: e.tagid(), type: "sub" }
                : void 0;
        }
        async LoadTestData() {
          await new Promise((e) => setTimeout(e, 3e3));
          const e = [];
          return (
            e.push({
              sTagName: "Foo",
              rgCapsules: [
                { type: "game", id: 1817230 },
                { type: "game", id: 977950 },
                { type: "game", id: 1585220 },
                { type: "game", id: 1122720 },
              ],
            }),
            e.push({
              sTagName: "Bar",
              rgCapsules: [
                { type: "game", id: 268910 },
                { type: "game", id: 2321470 },
              ],
            }),
            e.push(void 0),
            e.push({
              sTagName: "Baz",
              rgCapsules: [
                { type: "game", id: 2066020 },
                { type: "game", id: 1778820 },
                { type: "game", id: 2138710 },
                { type: "game", id: 502500 },
                { type: "game", id: 630 },
                { type: "game", id: 692890 },
                { type: "game", id: 394510 },
                { type: "game", id: 1971870 },
                { type: "game", id: 1384160 },
              ],
            }),
            e
          );
        }
        static s_Singleton;
        static Get() {
          return (
            oe.s_Singleton ||
              ((oe.s_Singleton = new oe()),
              ("dev" != h.TS.WEB_UNIVERSE && "beta" != h.TS.WEB_UNIVERSE) ||
                (window.g_PersonalizedCarouselStore = oe.s_Singleton)),
            oe.s_Singleton
          );
        }
      }
      (0, l.Cg)([m.sH], oe.prototype, "m_mapLoadedData", void 0);
      var ce = a(86921),
        me = a(27666);
      function de(e, t) {
        const a = t
          .GetSaleSections()
          .filter(
            (e) =>
              (0, n.ye)(e.section_type) &&
              "personalized_carousel" == e.smart_section_type,
          );
        if (!a || 0 == a.length) return { nNumSections: 0, nSectionIndex: -1 };
        const r = a.findIndex((t) => t.unique_id == e.unique_id);
        return { nNumSections: a.length, nSectionIndex: r };
      }
      function ue(e, t, a) {
        const n = (function (e, t, a) {
          if ("items" === e.section_type)
            switch (e.smart_section_type) {
              case "wishlist":
                return "#Sale_default_label_OnYourWishlist";
              case "interactive_recommender":
              case "tag_recommender":
                return "#Sale_default_label_RecommendedForYou";
              case "deck_topplayed":
                return "#Sale_TopPlayedOnDeckSection";
              case "personalized_carousel":
                if (1 == a || 3 == a || 4 == a) {
                  const { nSectionIndex: a, nNumSections: n } = de(e, t);
                  return (0, s.we)(
                    "#Sale_PersonalizedCarousel_Section_Editor_title",
                    a + 1,
                    n,
                  );
                }
                const n = oe.Get().GetTagNameForSaleSection(e, t);
                if (!n && 2 == a) {
                  const { nSectionIndex: a, nNumSections: n } = de(e, t);
                  return (0, s.we)(
                    "#Sale_PersonalizedCarousel_Section_Editor_title",
                    a + 1,
                    n,
                  );
                }
                return n
                  ? (0, s.we)("#Sale_PersonalizedCarousel_Section_title", n)
                  : null;
            }
          if ("tabs" === e.section_type) return "";
          if ("curator" === e.section_type) {
            if (e.curator_clan_id) {
              let t = r.b.InitFromClanID(e.curator_clan_id),
                a = i.pF.GetCreatorHome(t);
              if (a) return (0, s.we)("#Sale_CuratorSection_Name", a.GetName());
            }
            return "#Sale_CuratorSection";
          }
          return "event_schedule" === e.section_type
            ? "#Sale_EventSchedule"
            : "curator_recommendation" === e.section_type
              ? "#Sale_CuratorRecommendation_title"
              : "discoveryqueue" === e.section_type
                ? "#DiscoveryQueue_Title"
                : "sale_events" === e.section_type
                  ? "#Sale_SaleEvent_Section"
                  : "crosspromotesalepage" === e.section_type && 1 == a
                    ? "#Sale_CrossPromoSale_DefaultSectionTitle"
                    : null;
        })(e, t, a);
        return null !== n ? (n && n.startsWith("#") ? (0, s.we)(n) : n) : null;
      }
      function pe(e, t, a, n, r, i) {
        if (!e) return "";
        const l = ue(e, t, r);
        if (null !== l) return l;
        if ("crosspromotesalepage" === e.section_type) {
          const t = ce.O3.GetClanEventModel(e.sale_page_cross_promo_event_gid);
          return t
            ? (0, s.we)(
                "#Sale_CrossPromoSale_SectionTitle",
                t.GetNameWithFallback(a),
              )
            : (0, s.we)("#Sale_CrossPromoSale_DefaultSectionTitle");
        }
        if (3 == r && Boolean(e.internal_section_title))
          return e.internal_section_title;
        const o =
            s.NT.GetWithFallback(e.localized_label, a) ||
            ("#Sale_default_label" === e.default_label
              ? ""
              : (0, s.we)(e.default_label)),
          c = s.NT.GetWithFallback(e.localized_label_image, a);
        if (!i && c) {
          const e = `${(0, me.mJ)()}${n}/${c}`;
          return u.createElement("img", { loading: "lazy", src: e, alt: o });
        }
        return o;
      }
      function _e(e, t, a) {
        const r = (function (e, t) {
          if (
            (0, n.ye)(e.section_type) &&
            "personalized_carousel" == e.smart_section_type
          ) {
            const a = oe.Get().GetTagNameForSaleSection(e, t);
            return a
              ? (0, s.we)("#Sale_PersonalizedCarousel_Section_subtitle", a)
              : null;
          }
          return null;
        })(e, t);
        if (null !== r) return r && r.startsWith("#") ? (0, s.we)(r) : r;
        return (
          s.NT.GetWithFallback(e.localized_subtitle, a) ||
          (e.default_subtitle && "#Sale_default_subtitle" !== e.default_subtitle
            ? (0, s.we)(e.default_subtitle)
            : "")
        );
      }
    },
    69409: (e, t, a) => {
      "use strict";
      a.d(t, { m: () => u });
      var n = a(90626),
        r = a(22837),
        i = a(38390),
        s = a(27666),
        l = a(52038),
        o = a(61859),
        c = a(61336),
        m = a(78327),
        d = a(15392);
      function u(e) {
        const { gidEvent: t } = e,
          a = (0, i.RR)(t),
          [u, p] = (0, n.useMemo)(() => {
            if (
              a?.jsondata?.localized_sale_product_banner?.length > 0 &&
              a?.jsondata?.localized_sale_product_mobile_banner?.length > 0
            ) {
              const e = (0, r.sf)(m.TS.LANGUAGE),
                t = o.NT.GetWithFallback(
                  a.jsondata.localized_sale_product_banner,
                  e,
                ),
                n = o.NT.GetWithFallback(
                  a.jsondata.localized_sale_product_mobile_banner,
                  e,
                );
              if (t?.length > 0 && n?.length > 0) {
                const e = a.clanSteamID.GetAccountID();
                return [`${(0, s.mJ)()}${e}/${t}`, `${(0, s.mJ)()}${e}/${n}`];
              }
            }
            return [null, null];
          }, [a]);
        return u?.length > 0 && p?.length > 0
          ? n.createElement(
              "a",
              { href: (0, c.k2)(a.GetSaleURL()), className: d.Link },
              n.createElement("img", {
                src: u,
                className: (0, l.A)(d.Banner, d.Big),
              }),
              n.createElement("img", {
                src: p,
                className: (0, l.A)(d.Banner, d.Mobile),
              }),
            )
          : null;
      }
    },
    30294: (e, t, a) => {
      "use strict";
      a.d(t, { jR: () => v, ue: () => y });
      var n = a(75844),
        r = a(90626),
        i = a(77516),
        s = a(38390),
        l = a(96971),
        o = a(95695),
        c = a.n(o),
        m = a(52393),
        d = a(90595),
        u = a(32754),
        p = a(10224),
        _ = a(52038),
        g = a(61859),
        h = a(78327),
        E = a(82807),
        S = a(46745);
      function y(e, t) {
        return (
          g.NT.GetWithFallback(e.localized_label, t) ||
          ("#Sale_default_label" === e.default_label
            ? ""
            : (0, g.we)(e.default_label))
        );
      }
      const v = (0, n.PA)((e) => {
        const {
            section: t,
            event: a,
            language: n,
            nHiddenCapsules: o,
            title: y,
            subtitle: v,
          } = e,
          w = (0, l.yD)(),
          D = (0, p.z)(),
          { eventModel: C } = (0, s.B9)(
            t.sale_page_cross_promo_clan_account_id,
            t.sale_page_cross_promo_event_gid,
            !1,
          ),
          I =
            y || (0, E.yO)(t, a, n, a.clanSteamID.GetAccountID(), w.eLocation);
        if (!I) return null;
        const B = v || (0, E.CP)(t, a, n);
        let T = r.createElement(
            "div",
            {
              className: (0, _.A)(c().SaleSectionHeader, "SaleSectionHeader"),
              style: f(t, a, n),
            },
            C?.BHasSomeImage("product_banner")
              ? r.createElement(
                  "div",
                  { className: c().SaleImageCtn },
                  r.createElement("div", { className: c().SaleImageHelper }, I),
                  r.createElement("img", {
                    src: C.GetImageURLWithFallback(
                      D ? "product_mobile_banner" : "product_banner",
                      n,
                    ),
                    alt: I,
                  }),
                )
              : I,
          ),
          M = r.createElement(
            "div",
            {
              className: (0, _.A)(
                c().SaleSectionHeader,
                c().SaleSectionSubtitle,
                "SaleSectionSubtitle",
              ),
              style: b(t, a, n),
            },
            B,
          );
        const A =
          e.link ||
          (function (e) {
            return (0, i.ye)(e.section_type) &&
              "deck_topplayed" === e.smart_section_type
              ? h.TS.STORE_BASE_URL + "charts/steamdecktopplayed"
              : e.label_link;
          })(t) ||
          C?.GetSaleURL();
        let k = null;
        return (
          A?.length > 0 &&
            ((T = r.createElement(d.q, { url: A }, T)),
            (k = (function (e, t) {
              let a = null;
              if ("browseall" === e.label_link_style) {
                const e = (0, g.we)("#Sale_SectionLink_BrowseAll");
                a = r.createElement(
                  d.q,
                  {
                    className: (0, _.A)(
                      S.SectionLabelLinkButton,
                      "SaleSectionLabelLinkButton",
                    ),
                    url: t,
                  },
                  e,
                );
              } else if ("deck_topplayed" === e.smart_section_type) {
                const e = (0, g.we)("#EventBrowse_MoreEventsBtn");
                a = r.createElement(
                  d.q,
                  {
                    className: (0, _.A)(
                      c().EventSectionMoreBtn,
                      "SaleSectionLabelLinkButton",
                    ),
                    url: t,
                  },
                  e,
                );
              }
              return a;
            })(t, A))),
          r.createElement(
            "div",
            { className: (0, _.A)(S.SectionLabelCtn, "SaleSectionLabelCtn") },
            r.createElement(
              "div",
              { className: S.SectionTitleInnerCtn },
              T,
              Boolean(B) && M,
            ),
            r.createElement(
              "div",
              { className: S.SectionLabelRight },
              !!o &&
                r.createElement(
                  u.he,
                  {
                    className: m.SaleSectionSubtext,
                    toolTipContent: "#Sale_HiddenItem_Tooltip",
                  },
                  r.createElement(
                    "a",
                    { href: h.TS.STORE_BASE_URL + "account/preferences" },
                    (0, g.PP)(
                      1 == o
                        ? "#Sale_HiddenItem_Single_Short"
                        : "#Sale_HiddenItems_Short",
                      o,
                    ),
                  ),
                ),
              k,
            ),
          )
        );
      });
      function f(e, t, a) {
        return {
          fontFamily: w(t.jsondata.sale_font, a),
          fontWeight: t.jsondata.sale_font_weight,
          fontSize: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
        };
      }
      function b(e, t, a) {
        return {
          fontFamily: w(t.jsondata.sale_font, a),
          fontWeight: 300,
          fontSize: `${t.jsondata.sale_section_font_size && t.jsondata.sale_section_font_size - 3}px`,
          letterSpacing: 0,
          lineHeight: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
          opacity: "50%",
        };
      }
      function w(e, t) {
        return (
          (e = e || ""),
          12 === t
            ? e.replace("Jolly Lodger", "New Rocker")
            : 23 === t ||
                19 === t ||
                24 === t ||
                18 === t ||
                8 === t ||
                26 === t
              ? e.replace("Sigmar One", "Play")
              : 6 === t
                ? e.replace("Sigmar One", "Noto Serif SC")
                : 7 === t
                  ? e.replace("Sigmar One", "Noto Serif TC")
                  : 10 === t
                    ? e.replace("Sigmar One", "M PLUS Rounded 1c")
                    : 4 === t
                      ? e.replace("Sigmar One", "Black Han Sans")
                      : 9 === t
                        ? e.replace("Sigmar One", "Prompt")
                        : e
        );
      }
    },
    1276: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => r });
      var n = a(86355);
      function r(e, t, a) {
        if (e.disable_background && !a)
          return { paddingLeft: 0, paddingRight: 0 };
        let r = "";
        if (e.background_image) {
          r += `,url(${n.i6.GenerateArtworkURLFromHashAndExtensions(t.clanSteamID, e.background_image)})`;
        }
        return e.background_gradient_bottom ||
          e.background_gradient_top ||
          r.length > 0 ||
          e.background_repeat ||
          e.border_color ||
          e.border_width
          ? {
              background:
                `linear-gradient(0deg, ${e.background_gradient_bottom || "transparent"} 0%, ${e.background_gradient_top || "transparent"} 100%)` +
                r,
              backgroundRepeat: e.background_repeat,
              outlineStyle: e.border_color && e.border_width ? "solid" : void 0,
              outlineColor: e.border_color,
              outlineWidth: e.border_width ? `${e.border_width}px` : void 0,
            }
          : {};
      }
    },
    97232: (e, t, a) => {
      "use strict";
      a.d(t, { nl: () => o, rf: () => l });
      var n = a(90626),
        r = a(12155),
        i = a(4869),
        s = a(78327);
      function l() {
        return n.createElement(r.rfv, null);
      }
      function o() {
        return (0, s.Qn)()
          ? n.createElement(i.nl, null)
          : n.createElement(r.jZW, null);
      }
    },
    91693: (e, t, a) => {
      "use strict";
      a.d(t, { T: () => r });
      var n = a(30470);
      function r(e, t, a, r) {
        if (!r || !r.path) return null;
        const i = a ? "?t=" + a : "";
        return r.path.startsWith("images")
          ? `${n.TS.MEDIA_CDN_URL}steam/marketing/${e}/${r.path}${i}`
          : `${n.TS.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${r.path}${i}`;
      }
    },
    81416: (e, t, a) => {
      "use strict";
      a.d(t, { I: () => g });
      var n,
        r = a(34629),
        i = a(90626),
        s = a(73745),
        l = a(75844),
        o = a(6144),
        c = a(61859),
        m = a(16676),
        d = a(12155),
        u = a(81315),
        p = a.n(u),
        _ = a(61732);
      !(function (e) {
        (e.topleft = "topleft"),
          (e.top = "top"),
          (e.topright = "topright"),
          (e.left = "left"),
          (e.middle = "middle"),
          (e.right = "right"),
          (e.bottomleft = "bottomleft"),
          (e.bottom = "bottom"),
          (e.bottomright = "bottomright");
      })(n || (n = {}));
      let g = class extends i.Component {
        m_rectLinkRegion;
        m_elLinkRegionBox;
        m_nLocalOffsetXPct;
        m_nLocalOffsetYPct;
        m_fnMouseUp = null;
        m_fnMouseMove = null;
        m_listeners = new o.Ji();
        m_strDescription = "";
        m_aspectRatio = 1;
        componentWillUnmount() {
          this.m_listeners.Unregister();
        }
        constructor(e) {
          super(e),
            (this.state = {
              curLeftPosPct: this.props.xPosPct,
              curTopPosPct: this.props.yPosPct,
              curRightPosPct: 100 - (this.props.widthPct + this.props.xPosPct),
              curBottomPosPct:
                100 - (this.props.yPosPct + this.props.heightPct),
              curWidthPct: this.props.widthPct,
              curHeightPct: this.props.heightPct,
              EdgeDown: null,
              text_link_url: this.props.link_url,
              text_link_description: this.props.link_description,
              bEditingLink: !1,
              valid_link: this.validateUrl(this.props.link_url),
            }),
            (this.m_strDescription = this.props.link_description),
            (this.m_aspectRatio =
              this.props.heightPct > 0 && this.props.widthPct > 0
                ? this.props.widthPct / this.props.heightPct
                : 1);
        }
        LinkRegionBoxRef(e) {
          this.m_elLinkRegionBox = e;
        }
        OnMouseDown(e, t) {
          (this.m_fnMouseUp = (e) => {
            this.OnMouseUp(e, t);
          }),
            (this.m_fnMouseMove = (e) => {
              this.OnMouseMove(e, t);
            }),
            this.setState({ EdgeDown: t }),
            (this.m_rectLinkRegion =
              this.m_elLinkRegionBox.parentElement.getBoundingClientRect()),
            (this.m_nLocalOffsetXPct =
              ((e.clientX - this.m_rectLinkRegion.left) /
                (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
                100 -
              this.state.curLeftPosPct),
            (this.m_nLocalOffsetYPct =
              ((e.clientY - this.m_rectLinkRegion.top) /
                (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
                100 -
              this.state.curTopPosPct),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mousemove",
              this.m_fnMouseMove,
            ),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mouseup",
              this.m_fnMouseUp,
            ),
            e.preventDefault(),
            e.stopPropagation();
        }
        OnMouseMove(e, t) {
          if (void 0 !== this.state.EdgeDown) {
            switch ((e.shiftKey && this.m_fnMouseUp(), t)) {
              case n.left:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case n.right:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case n.top:
                this.UpdateState({ curTopPosPct: this.CalcTopEdge(e.clientY) });
                break;
              case n.bottom:
                this.UpdateState({
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.topleft:
                this.UpdateState({
                  curTopPosPct: this.CalcBottomEdge(e.clientY),
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case n.topright:
                this.UpdateState({
                  curTopPosPct: this.CalcTopEdge(e.clientY),
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case n.bottomleft:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.bottomright:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case n.middle: {
                const t = (0, _.OQ)(
                    this.CalcLeftEdge(e.clientX),
                    0,
                    100 - this.state.curWidthPct,
                  ),
                  a = 100 - (t + this.state.curWidthPct),
                  n = (0, _.OQ)(
                    this.CalcTopEdge(e.clientY),
                    0,
                    100 - this.state.curHeightPct,
                  ),
                  r = {
                    curLeftPosPct: t,
                    curRightPosPct: a,
                    curTopPosPct: n,
                    curBottomPosPct: 100 - (n + this.state.curHeightPct),
                  };
                this.setState(r);
                break;
              }
            }
            e.preventDefault(), e.stopPropagation();
          }
        }
        IsValidPct(e) {
          return e >= 0 && e <= 100;
        }
        UpdateState(e) {
          let t =
              void 0 !== e.curTopPosPct
                ? e.curTopPosPct
                : this.state.curTopPosPct,
            a =
              void 0 !== e.curBottomPosPct
                ? e.curBottomPosPct
                : this.state.curBottomPosPct,
            n =
              void 0 !== e.curLeftPosPct
                ? e.curLeftPosPct
                : this.state.curLeftPosPct,
            r =
              void 0 !== e.curRightPosPct
                ? e.curRightPosPct
                : this.state.curRightPosPct,
            i = (0, _.OQ)(
              100 - r - n,
              this.props.widthMinPct || 0,
              this.props.widthMaxPct || 100,
            ),
            s = (0, _.OQ)(
              100 - a - t,
              this.props.heightMinPct || 0,
              this.props.heightMaxPct || 100,
            );
          this.props.bLockAspectRatio &&
            (void 0 !== e.curLeftPosPct || void 0 !== e.curRightPosPct
              ? (s = i / this.m_aspectRatio)
              : (i = s * this.m_aspectRatio)),
            void 0 !== e.curLeftPosPct
              ? (n = 100 - r - i)
              : (r = 100 - (n + i)),
            void 0 !== e.curTopPosPct ? (t = 100 - a - s) : (a = 100 - (t + s));
          const l = 100 - r - n,
            o = 100 - a - t;
          this.IsValidPct(n) &&
            this.IsValidPct(r) &&
            this.IsValidPct(t) &&
            this.IsValidPct(a) &&
            this.IsValidPct(l) &&
            this.IsValidPct(o) &&
            this.setState({
              curLeftPosPct: n,
              curRightPosPct: r,
              curTopPosPct: t,
              curBottomPosPct: a,
            });
        }
        GetXPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.left) /
              (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
              100 -
            this.m_nLocalOffsetXPct
          );
        }
        GetYPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.top) /
              (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
              100 -
            this.m_nLocalOffsetYPct
          );
        }
        CalcLeftEdge(e) {
          return (0, _.OQ)(this.GetXPercent(e), 0, 100);
        }
        CalcRightEdge(e) {
          return (0, _.OQ)(
            100 - (this.GetXPercent(e) + this.state.curWidthPct),
            0,
            100,
          );
        }
        CalcTopEdge(e) {
          return (0, _.OQ)(this.GetYPercent(e), 0, 100);
        }
        CalcBottomEdge(e) {
          return (0, _.OQ)(
            100 - (this.GetYPercent(e) + this.state.curHeightPct),
            0,
            100,
          );
        }
        OnMouseUp(e, t) {
          this.setState({
            curWidthPct:
              100 - this.state.curRightPosPct - this.state.curLeftPosPct,
          }),
            this.setState({
              curHeightPct:
                100 - this.state.curBottomPosPct - this.state.curTopPosPct,
            }),
            this.setState({ EdgeDown: void 0 }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            }),
            this.m_listeners.Unregister();
        }
        async HandleDelete() {
          this.props.deleteFn && this.props.deleteFn(this.props.index);
        }
        OnSetLinkURLChange(e) {
          this.setState({
            text_link_url: e.target.value,
            valid_link: this.validateUrl(e.target.value),
          });
        }
        OnSetLinkDescriptionChange(e) {
          this.setState({ text_link_description: e.target.value });
        }
        validateUrl(e) {
          return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(
            e,
          );
        }
        OnSaveLink() {
          (this.m_strDescription = this.state.text_link_description),
            this.setState({ bEditingLink: !this.state.bEditingLink }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            });
        }
        OnEditLink() {
          this.setState({ bEditingLink: !this.state.bEditingLink });
        }
        render() {
          let e = {
              left: this.state.curLeftPosPct + "%",
              top: this.state.curTopPosPct + "%",
              right: this.state.curRightPosPct + "%",
              bottom: this.state.curBottomPosPct + "%",
            },
            t = p().LinkRegionDragBox;
          return (
            null !== this.state.EdgeDown &&
              (t += ` ${p().EdgeDown} ` + p()[this.state.EdgeDown]),
            i.createElement(
              "div",
              {
                className: t,
                style: e,
                ref: this.LinkRegionBoxRef,
                draggable: !1,
              },
              i.createElement(
                "div",
                { className: p().LinkRegionGridBox },
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.topleft);
                  },
                  draggable: !1,
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Top}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.top);
                  },
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.topright);
                  },
                  draggable: !1,
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Left}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.left);
                  },
                  draggable: !1,
                }),
                i.createElement(
                  "div",
                  {
                    className: `${p().LinkRegionEdge} ${p().Middle}`,
                    onMouseDown: (e) => {
                      this.OnMouseDown(e, n.middle);
                    },
                    draggable: !1,
                  },
                  this.props.deleteFn &&
                    i.createElement(
                      "div",
                      {
                        className: p().LinkRegionDelete,
                        onClick: this.HandleDelete,
                      },
                      i.createElement(d.sED, null),
                    ),
                  !this.props.bDisableLink &&
                    i.createElement(
                      "div",
                      {
                        className: p().LinkRegionSettings,
                        onClick: this.OnEditLink,
                      },
                      i.createElement(d.xv8, null),
                    ),
                  i.createElement(
                    "div",
                    { className: p().LinkText },
                    " ",
                    this.m_strDescription,
                    " ",
                  ),
                ),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Right}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.right);
                  },
                  draggable: !1,
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottomleft);
                  },
                  draggable: !1,
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Bottom}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottom);
                  },
                  draggable: !1,
                }),
                i.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, n.bottomright);
                  },
                  draggable: !1,
                }),
              ),
              this.state.bEditingLink &&
                i.createElement(
                  "div",
                  { className: p().LinkRegionInfo },
                  i.createElement(m.pd, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_url",
                    value: this.state.text_link_url,
                    label: (0, c.we)("#SteamTV_LinkURL"),
                    placeholder: "https://www.example.com",
                    onChange: this.OnSetLinkURLChange,
                    mustBeURL: !0,
                  }),
                  i.createElement(m.pd, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_description",
                    value: this.state.text_link_description,
                    label: (0, c.we)("#SteamTV_LinkDescription"),
                    placeholder: (0, c.we)(
                      "#SteamTV_LinkDescription_Placeholder",
                    ),
                    onChange: this.OnSetLinkDescriptionChange,
                  }),
                  i.createElement(
                    "div",
                    { className: p().LinkRegionButtonContainer },
                    i.createElement(
                      m.$n,
                      {
                        disabled: !this.state.valid_link,
                        onClick: this.OnSaveLink,
                      },
                      " ",
                      (0, c.we)("#Button_OK"),
                      " ",
                    ),
                    i.createElement(
                      m.$n,
                      { onClick: this.OnEditLink },
                      " ",
                      (0, c.we)("#Button_Cancel"),
                    ),
                  ),
                ),
            )
          );
        }
      };
      (0, r.Cg)([s.oI], g.prototype, "LinkRegionBoxRef", null),
        (0, r.Cg)([s.oI], g.prototype, "OnMouseDown", null),
        (0, r.Cg)([s.oI], g.prototype, "OnMouseMove", null),
        (0, r.Cg)([s.oI], g.prototype, "OnMouseUp", null),
        (0, r.Cg)([s.oI], g.prototype, "HandleDelete", null),
        (0, r.Cg)([s.oI], g.prototype, "OnSetLinkURLChange", null),
        (0, r.Cg)([s.oI], g.prototype, "OnSetLinkDescriptionChange", null),
        (0, r.Cg)([s.oI], g.prototype, "OnSaveLink", null),
        (0, r.Cg)([s.oI], g.prototype, "OnEditLink", null),
        (g = (0, r.Cg)([l.PA], g));
    },
    25228: (e, t, a) => {
      "use strict";
      a.d(t, { Yg: () => v, t3: () => f, zZ: () => b });
      var n = a(40323),
        r = a.n(n),
        i = a(90626),
        s = a(22837),
        l = a(2160),
        o = a(69343),
        c = a(16676),
        m = a(95695),
        d = a(9154),
        u = a(738),
        p = a(22797),
        _ = a(68797),
        g = a(52038),
        h = a(61859),
        E = a(87669),
        S = a(32754),
        y = a(96471);
      const v = (e) => {
          const t = (t, a) => {
            t.preventDefault();
            const {
                fnGetLocData: n,
                closeModal: r,
                strFileNamePrefix: i,
                lang: l,
              } = e,
              o = n(),
              c = new E.s();
            let m = i ? i + "_localization" : "localization";
            switch (a) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(o, m + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(o, m + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  o,
                  m + ".csv",
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  o,
                  l,
                  m + "_" + (0, s.x6)((0, s.Lg)(l)) + ".xml",
                );
            }
            r && r();
          };
          return i.createElement(
            i.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  c.jn,
                  { onClick: (e) => t(e, "csv_row") },
                  (0, h.we)("#Localization_Export_Btn_RowLanguages"),
                ),
                i.createElement(
                  c.jn,
                  { onClick: (e) => t(e, "csv_column") },
                  (0, h.we)("#Localization_Export_Btn_ColumnLanguages"),
                ),
                i.createElement(
                  c.jn,
                  { onClick: (e) => t(e, "csv_token") },
                  (0, h.we)("#Localization_Export_Btn_TokenLanguages"),
                ),
              ),
            Boolean(e.bShowXML) &&
              i.createElement(
                c.jn,
                { onClick: (e) => t(e, "xml") },
                (0, h.we)("#Localization_Export_Btn_XML"),
              ),
          );
        },
        f = (e) => {
          const [t, a] = (0, i.useState)(!1),
            n = (e, t) => {
              a(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e,
                ),
                (0, u.pg)(
                  i.createElement(
                    d.KG,
                    null,
                    i.createElement(
                      "div",
                      null,
                      i.createElement(
                        "p",
                        null,
                        (0, h.we)("#Localization_Error_Input"),
                      ),
                      i.createElement("p", null, e.message),
                    ),
                  ),
                  window,
                );
            },
            c = (e) => {
              a(!1);
              let t = "";
              e.forEach((e) => {
                t.length > 0 && (t += ", "),
                  (t += (0, h.we)("#Language_" + (0, s.Lg)(e)));
              }),
                (0, u.pg)(
                  i.createElement(
                    d.o0,
                    {
                      strTitle: (0, h.we)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    i.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? (0, h.we)(
                            "#Localization_Success_ImportComplete_NoChange",
                          )
                        : (0, h.we)("#Localization_Success_ImportComplete", t),
                    ),
                  ),
                  window,
                );
            },
            v = async (t) => {
              let i = t.target.files;
              if (i && i.length > 0) {
                a(!0);
                let t = new Array(),
                  s = new E.s();
                for (let a = 0; a < i.length; ++a)
                  if (i[a]) {
                    if (i[a].name.toLocaleLowerCase().endsWith(".csv"))
                      return void r().parse(i[0], {
                        header: !0,
                        complete: (t) => {
                          let a = new E.s().DetectAndFormatCSV(t);
                          if (!a)
                            return void n({
                              code: "",
                              message: "",
                              row: 0,
                              type: "filenameerror",
                            });
                          const r = h.A0.GetLanguageListForRealms([
                              l.TU.k_ESteamRealmGlobal,
                            ]),
                            i = e.fnOnImportLocData(a, r);
                          c(i);
                        },
                        error: n,
                      });
                    if (i[a].name.toLocaleLowerCase().endsWith(".xml")) {
                      let r = (0, o.j)(i[a].name, -1);
                      if (null == r || -1 == r)
                        return void n({
                          code: "",
                          message: (0, h.we)(
                            "#Localization_Error_FileLangauage",
                            i[a].name,
                          ),
                          row: 0,
                          type: "filenameerror",
                        });
                      try {
                        const n =
                          await s.ReadLocalizationData_XML_SingleLanguage(
                            i[a],
                            r,
                          );
                        e.fnOnImportLocData(n, [r]).forEach((e) => {
                          -1 == t.indexOf(e) && t.push(e);
                        });
                      } catch (e) {
                        let t = (0, _.H)(e);
                        return void n({
                          code: "",
                          message: (0, h.we)(
                            "#Localization_Error_XMLParseError",
                            t.strErrorMsg,
                          ),
                          row: 0,
                          type: "parseerror",
                        });
                      }
                    } else
                      n({
                        code: "",
                        message: (0, h.we)(
                          "#Localization_Error_FileExtention",
                          i[a].name,
                        ),
                        row: 0,
                        type: "filenameerror",
                      });
                  }
                c(t);
              }
            };
          return i.createElement(
            S.he,
            {
              className: (0, g.A)(
                e.className ? e.className : m.EditPreviewButton,
              ),
              toolTipContent: e.strToolTip,
            },
            i.createElement(
              "label",
              { className: y.ImportButton, htmlFor: "importlocalization" },
              t && i.createElement(p.t, { size: "small" }),
              i.createElement(
                "div",
                { className: y.Label },
                (0, h.we)(e.strLabel ? e.strLabel : "#Localization_Import_Btn"),
              ),
              i.createElement("input", {
                id: "importlocalization",
                className: y.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: v,
                onChange: v,
                multiple: !0,
              }),
            ),
          );
        },
        b = (e) => {
          const {
              fnOnImportLocData: t,
              closeModal: a,
              sampleLocData: n,
              sampleFilename: r,
            } = e,
            s = new E.s();
          return i.createElement(
            d.eV,
            { onCancel: a, closeModal: a },
            i.createElement(c.Y9, null, (0, h.we)("#ImportLoc_Title")),
            i.createElement(
              c.nB,
              null,
              i.createElement("div", null, (0, h.we)("#ImportLoc_Description")),
              i.createElement(
                "div",
                { className: y.ImportLocSampleButtonCtn },
                i.createElement(
                  "div",
                  { className: y.SampleTitle },
                  (0, h.we)("#ImportLoc_SampleTitle"),
                ),
                i.createElement(
                  c.$n,
                  {
                    onClick: () =>
                      s.WriteLocalizationData_CSV_LanguageRows(
                        n,
                        r + "_row.csv",
                      ),
                  },
                  (0, h.we)("#ImportLoc_CSVLangPerRow"),
                ),
                i.createElement(
                  c.$n,
                  {
                    onClick: () =>
                      s.WriteLocalizationData_CSV_LanguageColumns(
                        n,
                        r + "_col.csv",
                      ),
                  },
                  (0, h.we)("#ImportLoc_CSVLangPerCol"),
                ),
                i.createElement(
                  c.$n,
                  {
                    onClick: () =>
                      s.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                        n,
                        r + "_token.csv",
                      ),
                  },
                  (0, h.we)("#ImportLoc_CSVTokenLang"),
                ),
                i.createElement(
                  c.$n,
                  {
                    onClick: () =>
                      s.WriteLocalizationData_XML_SingleLanguage(
                        n,
                        0,
                        r + "xml",
                      ),
                  },
                  (0, h.we)("#ImportLoc_XML"),
                ),
              ),
            ),
            i.createElement(
              c.wi,
              null,
              i.createElement(f, {
                strLabel: (0, h.we)("#BuildNotes_ImportLocalization"),
                fnOnImportLocData: (e, n) => {
                  const r = t(e, n);
                  return a(), r;
                },
              }),
            ),
          );
        };
    },
    3088: (e, t, a) => {
      "use strict";
      a.d(t, { c: () => s });
      var n = a(34629),
        r = a(90626),
        i = a(73745);
      class s extends r.Component {
        m_refImage = r.createRef();
        constructor(e) {
          super(e), (this.state = { nImage: 0 });
        }
        componentDidUpdate(e) {
          JSON.stringify(this.props.rgSources) != JSON.stringify(e.rgSources) &&
            this.setState({ nImage: 0 });
        }
        get src() {
          let e = "";
          return (
            this.props.rgSources &&
              this.props.rgSources.length > this.state.nImage &&
              (e = this.props.rgSources[this.state.nImage]),
            e ||
              (console.warn(
                "MultiSourceImage created with no image src",
                this.props,
                this.state.nImage,
              ),
              (e =
                "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")),
            e
          );
        }
        get imgRef() {
          return this.m_refImage;
        }
        OnImageError(e) {
          this.props.onIncrementalError &&
            this.props.onIncrementalError(
              e,
              this.props.rgSources[this.state.nImage],
              this.state.nImage,
            );
          let t = this.state.nImage + 1;
          t >= this.props.rgSources.length &&
            this.props.onError &&
            this.props.onError(e),
            t < this.props.rgSources.length && this.setState({ nImage: t });
        }
        render() {
          const {
              rgSources: e,
              onIncrementalError: t,
              onError: a,
              ...n
            } = this.props,
            i = this.src;
          return r.createElement("img", {
            ref: this.m_refImage,
            ...n,
            src: i,
            onError: this.OnImageError,
          });
        }
      }
      (0, n.Cg)([i.oI], s.prototype, "OnImageError", null);
    },
    65: (e, t, a) => {
      "use strict";
      function n(e) {
        const t = new Date(e.getTime());
        return t.setHours(0, 0, 0, 0), t;
      }
      function r(e) {
        const t = new Date(e.getTime());
        return t.setDate(1), t.setHours(0, 0, 0, 0), t;
      }
      function i(e, t) {
        const a = new Date(e);
        return a.setDate(e.getDate() + t), a;
      }
      function s(e, t) {
        return e.reduce((e, a) => {
          const n = t(a),
            r = Math.floor(n.getTime() / 1e3),
            i = e.get(r) || [];
          return e.set(r, [...i, a]), e;
        }, new Map());
      }
      a.d(t, { J2: () => r, bv: () => s, kO: () => i, xi: () => n });
    },
    66331: (e, t, a) => {
      "use strict";
      a.d(t, { q: () => p });
      var n = a(34629),
        r = a(90626),
        i = a(73744),
        s = a(16676),
        l = a(81416),
        o = a(9154),
        c = a(52038),
        m = a(61859),
        d = a(73745),
        u = a(50666);
      class p extends r.Component {
        state = {
          region: {
            xPosPct: 0,
            yPosPct: 0,
            widthPct: (this.GetDestWidth() / this.props.uploadFile.width) * 100,
            heightPct:
              (this.GetDestHeight() / this.props.uploadFile.height) * 100,
          },
        };
        async OnCrop() {
          await this.props.uploadFile.CropImage(
            (this.state.region.xPosPct / 100) * this.props.uploadFile.width,
            (this.state.region.yPosPct / 100) * this.props.uploadFile.height,
            (this.state.region.widthPct / 100) * this.props.uploadFile.width,
            (this.state.region.heightPct / 100) * this.props.uploadFile.height,
            this.GetDestWidth(),
            this.GetDestHeight(),
            this.props.fileType,
          ),
            this.props.closeModal();
        }
        UpdateCrop(e, t) {
          this.setState({ region: t });
        }
        GetDestWidth() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.width : i.Fj[e.type].width;
        }
        GetDestHeight() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.height : i.Fj[e.type].height;
        }
        GetLargestBoxThatFits(e, t, a, n) {
          let r = a,
            i = (r * t) / Math.max(e, 1);
          return (
            i > n && ((i = n), (r = (i * e) / Math.max(t, 1))),
            { width: r, height: i }
          );
        }
        GetPreviewWindowStyle() {
          const { region: e } = this.state,
            t = this.GetLargestBoxThatFits(
              this.GetDestWidth(),
              this.GetDestHeight(),
              500,
              150,
            ),
            a = t.width,
            n = t.height,
            r = 1 / Math.max(e.widthPct / 100, 1e-4),
            i = 1 / Math.max(e.heightPct / 100, 1e-4),
            s = (this.props.uploadFile.width * e.xPosPct) / 100,
            l = (this.props.uploadFile.height * e.yPosPct) / 100;
          return {
            width: a,
            height: n,
            backgroundPosition: `${-s * ((a * r) / this.props.uploadFile.width)}px ${-l * ((n * i) / this.props.uploadFile.height)}px`,
            backgroundSize: `${100 * r}% ${100 * i}%`,
            backgroundImage: `url(${this.props.uploadFile.dataUrl})`,
          };
        }
        render() {
          const e = (this.GetDestWidth() / this.props.uploadFile.width) * 100,
            t = (this.GetDestHeight() / this.props.uploadFile.height) * 100,
            a = this.GetLargestBoxThatFits(
              this.props.uploadFile.width,
              this.props.uploadFile.height,
              800,
              500,
            );
          return r.createElement(
            o.x_,
            {
              onEscKeypress: this.props.closeModal,
              bDisableBackgroundDismiss: !0,
            },
            r.createElement(
              "div",
              {
                className: (0, c.A)("DialogContent", "_DialogCenterVertically"),
              },
              r.createElement(
                s.iK,
                null,
                (0, m.we)(
                  "#ImageUpload_CropModalTitleDims",
                  this.GetDestWidth(),
                  this.GetDestHeight(),
                ),
              ),
              r.createElement(
                "div",
                { className: (0, c.A)("DialogBodyText") },
                (0, m.we)("#ImageUpload_CropModalDescription"),
              ),
              r.createElement(
                "div",
                {
                  className: u.CropImage,
                  style: { width: a.width, height: a.height },
                },
                r.createElement("img", {
                  style: {
                    maxWidth: "100%",
                    maxHeight: "100%",
                    objectFit: "contain",
                  },
                  src: this.props.uploadFile.dataUrl,
                }),
                r.createElement(l.I, {
                  bLockAspectRatio: !0,
                  bDisableLink: !0,
                  index: 0,
                  updateFn: this.UpdateCrop,
                  xPosPct: 0,
                  yPosPct: 0,
                  widthMinPct: e,
                  heightMinPct: t,
                  widthPct: e,
                  heightPct: t,
                }),
              ),
              r.createElement(
                "div",
                { className: u.CropPreviewGroup },
                r.createElement(
                  "div",
                  { className: u.CropPreviewLabel },
                  (0, m.we)("#ImageUpload_CropPreview"),
                ),
                r.createElement("div", { style: this.GetPreviewWindowStyle() }),
              ),
              r.createElement(
                s.jn,
                { onClick: this.OnCrop },
                (0, m.we)("#ImageUpload_CropAndContinue"),
              ),
            ),
          );
        }
      }
      (0, n.Cg)([d.oI], p.prototype, "OnCrop", null),
        (0, n.Cg)([d.oI], p.prototype, "UpdateCrop", null);
    },
    87669: (e, t, a) => {
      "use strict";
      a.d(t, { G: () => o, s: () => c });
      var n = a(22837),
        r = a(2160),
        i = a(62490),
        s = a(9161),
        l = a(61859);
      class o {
        m_mapTokens = new Map();
        GetLocalization(e, t) {
          const a = this.m_mapTokens.get(e);
          if (a && a[t]) return a[t];
        }
        SetLocalization(e, t, a) {
          let n = this.m_mapTokens.get(e);
          n || ((n = (0, i.$Y)([], 31, null)), this.m_mapTokens.set(e, n)),
            (n[t] = a);
        }
        GetSortedTokenList() {
          let e = [];
          return (
            this.m_mapTokens.forEach((t, a) => e.push(a)),
            e.sort((e, t) => e.localeCompare(t)),
            e
          );
        }
        GetLanguagesWithTokens() {
          let e = new Map();
          this.m_mapTokens.forEach((t) => {
            for (let a = 0; a < t.length; ++a)
              !e.has(a) &&
                null !== t[a] &&
                void 0 !== t[a] &&
                t[a].trim().length > 0 &&
                e.set(a, !0);
          });
          let t = new Array();
          return (
            e.forEach((e, a) => {
              e && t.push(a);
            }),
            t
          );
        }
        ClearLanguagesTokens(e) {
          e.forEach((e) => {
            this.m_mapTokens.forEach((t, a) => {
              e < t.length && null !== t[e] && (t[e] = null);
            });
          });
        }
        DebugPrintData() {
          const e = new Array();
          return (
            this.m_mapTokens.forEach((t, a) => e.push(`${a}=${t.join(",")}`)),
            e.join("\n")
          );
        }
      }
      class c {
        DetectAndFormatCSV(e) {
          let t = null;
          return (
            e?.meta?.fields?.length >= 3 &&
            "field" === e.meta.fields[0] &&
            "language" === e.meta.fields[1] &&
            "value" === e.meta.fields[2]
              ? (t = this.ReadLocalizationData_CSV_TokenLanguageList(e))
              : e?.meta?.fields?.length >= 2 &&
                  "field" === e.meta.fields[0] &&
                  -1 != (0, n.sf)(e.meta.fields[1], -1)
                ? (t = this.ReadLocalizationData_CSV_LanguageColumns(e))
                : e?.meta?.fields?.length >= 2 &&
                  "language" === e.meta.fields[0] &&
                  (t = this.ReadLocalizationData_CSV_LanguageRows(e)),
            t
          );
        }
        async ReadLocalizationData_XML_SingleLanguage(e, t) {
          let a = new o(),
            n = new DOMParser(),
            r = await s.g.ReadFile(e),
            i = n.parseFromString(r.toString(), "application/xml");
          for (let e = 0; e < i.documentElement.children.length; ++e) {
            const n = i.documentElement.children.item(e),
              r = n.getAttribute("id").toLocaleLowerCase(),
              s = n.textContent;
            a.SetLocalization(r, t, s);
          }
          return a;
        }
        ReadLocalizationData_CSV_TokenLanguageList(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = e.field,
                r = (0, n.sf)(e.language);
              t.SetLocalization(a, r, e.value);
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageColumns(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = e.field;
              for (let r = 0; r < 31; ++r) {
                const i = (0, n.x6)((0, n.Lg)(r));
                t.SetLocalization(a, r, e[i]);
              }
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageRows(e) {
          const t = new o();
          return (
            e.data.forEach((e) => {
              const a = (0, n.sf)(e.language, 31);
              if (31 !== a)
                for (const [n, r] of Object.entries(e))
                  "language" !== n &&
                    "string" == typeof r &&
                    t.SetLocalization(n, a, r);
            }),
            t
          );
        }
        GetExportLanguages() {
          return l.A0.GetLanguageListForRealms([r.TU.k_ESteamRealmGlobal]);
        }
        WriteLocalizationData_CSV_TokenAndLanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            for (const r of this.GetExportLanguages()) {
              let i = { field: t };
              (i.language = (0, n.x6)((0, n.Lg)(r))),
                (i.value = e.GetLocalization(t, r)),
                a.push(i);
            }
          }),
            s.g.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageColumns(e, t) {
          let a = new Array();
          e.GetSortedTokenList().forEach((t) => {
            let r = { field: t };
            for (const a of this.GetExportLanguages())
              r[(0, n.x6)((0, n.Lg)(a))] = e.GetLocalization(t, a);
            a.push(r);
          }),
            s.g.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_CSV_LanguageRows(e, t) {
          let a = new Array();
          for (const e of this.GetExportLanguages())
            a.length <= e - 1 && a.push({ language: "" }),
              a.push({ language: (0, n.x6)((0, n.Lg)(e)) });
          e.GetSortedTokenList().forEach((t) => {
            for (const n of this.GetExportLanguages()) {
              const r = e.GetLocalization(t, n);
              a[n][t] = r;
            }
          }),
            s.g.WriteCSVToFile(a, t);
        }
        WriteLocalizationData_XML_SingleLanguage(e, t, a) {
          let n = document.implementation.createDocument(null, "content", null);
          e.GetSortedTokenList().forEach((a) => {
            let r = n.createElement("string");
            r.setAttribute("id", a),
              r.appendChild(n.createTextNode(e.GetLocalization(a, t) || "")),
              n.documentElement.append(r);
          }),
            s.g.WriteXMLToFile(n, a);
        }
      }
    },
  },
]);
