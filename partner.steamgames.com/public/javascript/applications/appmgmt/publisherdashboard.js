/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [8523],
  {
    38666: (e) => {
      e.exports = { ButtonDailyDealDashboard: "IJS5RTzyM-kkF_NerVv-h" };
    },
    28325: (e) => {
      e.exports = {
        AppTileContainer: "_1MNwvHXvTQh_nlTEGVL-9G",
        NoRecentApps: "l73IMu5N0BMAEv5-wk3NU",
        ViewAppsContainer: "_3bhAuHTe2QDmn7qVPrbhTn",
        ViewAppsLink: "_1DXsI6kGhs4saDdMEB5Zhp",
        AppTile: "_1ET9Is2SXz9L6oBuMGkhyc",
        AppTileImage: "_2ib4C2NrFHUrt3df5FaIkA",
        AppTileImagePlaceholder: "_1v97yYXETM1gTfYqCF1MYJ",
        AppLabels: "_1gCoNWQfTPQf4Oo6uJLX9",
        AppType: "_2ZrhAQm3GQlhhKkqzdGwsF",
        DLC: "_3joD2YzY0xQ4OQFjl8vTK1",
        AppRelease: "_1XsM2jNRjoVa7SfxlYIXAb",
      };
    },
    6853: (e) => {
      e.exports = {
        Section: "_1FrGxLLJNyWZswyE9TGS3N",
        Title: "f3pCBilbcCpf8q3EUD2fp",
        Body: "_1CaApUvC8ichAOgldt6XZm",
        BetaCallout: "_3F09B-c90Mi_ABQSFt8qlI",
        Header: "WnpaUxHTbHM6dHV4JNyog",
      };
    },
    60784: (e) => {
      e.exports = {
        ItemContainer: "_1sCXlT55_hE5R_DYWs2qzj",
        ItemNameInfoContainer: "_3sqg0fMDMr7OmDzXzE57W-",
        PageVisible: "_2c0_UJn4Tpz1GL_J-ChdHP",
        ItemImage: "_22wo1MvrX6TPgkDRtkW9sx",
        ItemImageUnavailable: "_2yeWc4Vfpz2Mx_uozaEsss",
        ItemName: "_3_C_TA37Za9oeBg5-B5yEP",
        ReleaseInfoCtn: "_15I1frVfoeLkSS-KNd_Xne",
        ReleaseInfoRow: "_3LQgQmiovxLjDjOcUrMzm2",
        AdvancedAccess: "_1yRUq_xJKMHeOhEcJ-BXJR",
        ReleaseDateLabel: "_3I6UZDLKqv2wS3o6gw2YZ8",
        ReleaseDateText: "_27pclW_hEblq7v3PFdu3fV",
        ItemReleaseInfoContainer: "_16Qw0iB0ORV7o-6_BVm3uq",
        ItemReleaseStatusCtn: "_2NRgF3rgP--686UrLJK65n",
        ItemReleaseStatusLabel: "_1M_-mbiZxdn4NqhpFoKw9f",
        ItemReleaseStatusText: "_2Q5EbM0lY7L2ibqu4FL_qt",
        Released: "_1Sbpo45i_svDxpXZsCF5-K",
        Prerelease: "_387XqcrvQwvpzEA1vJ1wlB",
      };
    },
    46735: (e) => {
      e.exports = {
        SectionContainer: "_1OBXzq4UPq3-gsMTLeYfY9",
        CalendarContainer: "pLKmGv4Xj5TT4QzAiqJbl",
        CalendarMovingRegion: "_3M8uv7MOpPLlcTKvrQA-YQ",
        Sticky: "_31mu_yCc2H6TQWT3IQuIJx",
        ListArea: "c0Fj6iwnP09NGMqTBw4pb",
        FilterHeader: "_2RyNxJKxciWQh10nv4yPI9",
        FilterOptionsContainer: "_2KsBRVIM9YVuX85lpPiW2G",
        FilterOption: "LC92P2CoEQ1R_wdDs3XtN",
        Highlighted: "xNA0kFRoJXVNY7ccgZ6Bb",
        FilterTextArea: "_1ddIHj3KWI6Wpfn2kYMaHW",
        FilterTextInput: "_2_igLJj1mqpdpW15ec_8Tx",
        FilterTextIcon: "_2bk4MK0dTL2BVrzvl9yr9w",
        FilterTextClearButton: "_1n8veXnv5oBHfjG0l5I8-Y",
        ListContainer: "_1sKgklaDRNP7rHtE_6Yff9",
        List: "_1VsjyvH_Qjf3r0bxpSfx3V",
        Overflows: "moY4QzLn4xaOpu2clsn6r",
        Expanded: "_1aIkESy0vIWk6irYOhJ8aZ",
        ListMonthContainer: "_2rUzIpgQG6FxSVIBdtk0xY",
        ListMonthCalendar: "_1PgBwG06u7lkqBrHh0lGdh",
        Hidden: "_3OVNqEWqvhOhrjsR5SgOQ3",
        ListMonth: "_2gBsUSd4zPyGk451opeP1k",
        EmptyMonth: "t0HFAd2sLXoZpJD27XfaA",
        ListDay: "_10JRf2tdkaLJebvk26APzf",
        ListDayGroup: "_37Eyc9YlZkzAWqhVsDHiFv",
        ListEvent: "_2OvrUC8yEPw0y-ETj60eRx",
        Dimmed: "_384GPMgcGpGAZupvxEFWks",
        BackgroundImage: "_3Yf1aBV0kEJOFF9_9v_Ok1",
        ListEventHeader: "_2JVkFc02Z_gli3Wk58ZdCn",
        ValveOnly: "_1PWl9VImc2pIq7OdlNtrVN",
        Edit: "_34znTi9--bnqLmasQq4rQk",
        Spacer: "_2zxwZ2e2RgdQAfI0y0_6wh",
        Dismiss: "_16vFdl_KejY4AT34jnVI-O",
        ListDayNumber: "_3XINnjVCEbWVyB05BBYltE",
        Deadline: "_1OK2i1Q0ALzwEnym_uD5VY",
        DeadlineUrgent: "_1icgqDPNBrXFNdLBAlZjCX",
        DLCRelease: "_3jXjUb7DXWNKPXwurmiTv8",
        GameRelease: "_11NSMBASE97ju6HmiLlFbg",
        Event: "_2jrTKty-CD5SCc0FFcsuW-",
        ListEventType: "_1VxkAwTIvWU2gB-71xXUDP",
        NoDate: "wQNhOW92EGSW0_tW7f75e",
        ListEventEventSection: "_2L_1oiBHK2dz3vQ1TBnm9j",
        ListEventEventGutter: "_2MFv3aBQVR1hmBkGRLxdis",
        ListEventEventElement: "_2PfCWxjyYRpd6lTgvrlAIZ",
        ListEventEventTimeFlag: "_21CkHr7CK9bP8AjyR5MJvW",
        Live: "_1En5AyFQguGHFvrW6V_e5s",
        Past: "_25cJpdFfm1cUmPTGSnTRPy",
        ListEventEventLiveText: "_3BgVvQ0ke3leKWytDJD2kI",
        ListEventEventPastText: "_3RFd47ESPVVtgpLbmNsySx",
        ExpandButton: "_3BVPhbdEe8mENSA5TF3znJ",
        AllEventsFiltered: "wht6Ll659zz-0QG1UFCu4",
      };
    },
    2489: (e) => {
      e.exports = {
        DateDesc: "_2IwYDga9iYYwbum4A4SDAk",
        StatusItemRow: "_1mPwifGHLjllbWO-jXx2Xk",
        StatusIndicatorSection: "_3LRM1vGyM8U3JmLBsvqUi6",
        StatusIndicator: "_3IcPPQyEVDA2m_7lVl8FSC",
        Complete: "_3bAI2ClpwR3fc3CF1Bq_Ew",
        StatusItemCheck: "lxcxV2q25sBapYk9lvWHJ",
        StatusItemLabel: "vQWBbodTnHdHThVaucNIG",
        StatusItemBox: "nsqkY8Ib7VaJLBFOTgiZQ",
        StatusItemDueBy: "_ifrPqUjkCPRCZjQW71wh",
        StatusItemBoxButton: "_39qgUEX9q9d0KiJpbEoUPj",
      };
    },
    87874: (e) => {
      e.exports = {
        DeadlineWarning: "KJBbOCy-N47ZdyXKj82el",
        DeadlineWarningUrgent: "_1dMX7vWFF-yQ7CzRaOEooa",
      };
    },
    1030: (e) => {
      e.exports = {
        ItemContainer: "VXok7mKJpXFIBjQBLIvh-",
        HasImage: "_3pWi_px3yJX0azhLcPr_LN",
        ItemNameInfoContainer: "_1n53rAYRtJXXRA-lRajbXF",
        SeasonalSale: "_1yzO7XD_gqqLhc_RcqM5y6",
        BackgroundImage: "_1grQoVDvG8Nr4_coXHDlAv",
        ItemName: "_2VZKTMQCK5Kt-lgquMVK81",
        ItemImage: "_1HOWqt0TzoT_xyD3HtOGgB",
        Dimmed: "EvG8rJmTM1CzkeuqkLFJp",
        ItemInfoHeader: "_33ZlQAMhN22Aw902Omlocy",
        InlineDate: "_3dNRuRCyAmnE8DAurBSqFq",
        Light: "h3XM6aXEdSIHNQJkYpJFX",
        ItemDeadlineHeaderText: "zjHNbIk0sNUO47ZDiM6M-",
        Urgent: "_3efxp9Lg45sZ6BN771Ir53",
        ItemWarning: "_3OEQpFpCnwLcs6fDU_N1G7",
        StatusItemBoxContainer: "_31fMYhZb6aTXkVQ030Krza",
        StatusItemBox: "_25vZ86EFjtg3d_5IrgrL-C",
        Hidden: "_898pR7849_yT8ZWFOtC6",
        StatusItemBoxLabel: "_1bBXZX6xtzkudUBnU93lPo",
        StatusItemBoxText: "bSHqtzfCtCAu7QELTy2-t",
        OptInGamesToolTipContainer: "_1aQ19lVLLxNItGzt-UlQ6C",
        OptInGamesToolTipRegistered: "_2FRaD4wbK4aUqJm1pPEfRR",
        LinkButtonContainer: "_1Pd9CgAQME29cQKbCd9qfN",
        LinkButton: "_3qIPl-2rtghu5e6FOR9lV_",
        AssetRequestDateLabel: "_2M_ShTFVade7EwhUk5-irN",
        AssetRequestDate: "_3G-O4ejlDgEhRIwpTIA9wq",
        DeadlineFeaturedStatusContainer: "_1kpWLFBdYvZfyPw1wyaebV",
        DeadlineFeaturedStatusText: "pVJq0fFCOHX1_B5kbeNPM",
        Incomplete: "_21ej1fGCE1FNIrxF2wlpKA",
        IncompleteUrgent: "_1d1_uAgqTmGsz8nTENjM7Z",
        DeadlineFeaturedTodoContainer: "oB3xsfo33DAd6ONoyRxGd",
        RecapItemContainer: "_3_yMxSFo_FV_uDWmUpaCVG",
        RecapItemImage: "_1nzSYFLPNZWtfiJ3JISUpZ",
        RecapTextSection: "_3VEB7K-A4zr6x8UvAyuE4K",
        RecapTextHeader: "i27ZA_0pHGVJkLkqXYBFs",
        RecapTextSummary: "Qktd7uuG_8VLv2m3nzcsK",
        RecapTextGameDescription: "_3fkqqnlhHRzeVp5gMVBrxh",
        RecapTextGameCount: "hh50Ajalf3yxh76nsG4Ht",
        RecapTextGameAdditionalCount: "_2L7-K-pqupMVURy7IrfPq1",
        RecapTextFullSummaryButton: "_4KHdcJt3RtSJUO7so87l7",
        RecapBox: "_2xhQ5R6gZi6A_ee4dFJQdI",
        Plays: "_188q7zqbiczjVV2L_2YKDc",
        Wishlists: "_3IbUeotTzDjOQqJjtswjCr",
        Conversions: "_2nsl8MveEcxV2oZC8QJbXe",
        RecapBoxDesc: "X-UQBnpHbbCzMbru9T2jV",
        RecapBoxCount: "_56xXUFLURs5vRhJrnUZb6",
        RecapSurveyArea: "MVkifzSa7pcESWfsDO669",
        RecapSurveyText: "tqPXCHQvuepud8G2QtQxH",
        RecapSurveyButton: "Y1x0siKsXP81_zC9T5VAu",
      };
    },
    61318: (e) => {
      e.exports = {
        MonthPickerContainer: "_3RPpq_xpBk5aqnkSKWVHVs",
        MonthPickerToday: "_3Z1nRXcAXthFz1XwG4CG6_",
        Inactive: "_2wy3c-dsJGU8oH5Mc6NMBM",
        MonthPickerDate: "_3lblbnrG1uWyf8ojK1KAf9",
        Week: "KTqepp4E9ikcTpO5fCimg",
        DayName: "_19XW3yoje51USmF5O_vlm6",
        Day: "UsC29fNWjFaEowXT-tS0_",
        OtherMonth: "_2yLjZFQdmMnBeACk4bW4Es",
        Note: "jAqjN_z3kEcEHKRIk2_NF",
        Today: "_2tUBbw1tOXkA3VpPyrjwdM",
        Event: "_3hw9L-H1pFlrOzQgoSCNM8",
        Hovered: "rFU9Cu_E_GnoyNN1jVaas",
        DayTooltipContainer: "PNwYvjONfVxOKzAJtrCr-",
        DayTooltipDate: "_1LCnP6v7YPgx3OAgTx_nO1",
        DayTooltipEvent: "_337ZibrUsfSdN8cl0VELZe",
      };
    },
    68080: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => $t });
      var n = a(90626),
        s = a(78327),
        r = a(38666),
        i = a(61859),
        l = a(7068),
        o = a(6853);
      const c = n.forwardRef((e, t) => {
        const {
          title: a,
          description: s,
          children: r,
          beta: l,
          headerElement: c,
        } = e;
        return n.createElement(
          "div",
          { className: o.Section, ref: t },
          n.createElement(
            "div",
            { className: o.Header },
            n.createElement(
              "div",
              { className: o.Title },
              a,
              " ",
              l &&
                n.createElement(
                  "span",
                  { className: o.BetaCallout },
                  (0, i.we)("#NewToolTitleSuffix_Beta"),
                ),
            ),
            c,
          ),
          s && n.createElement("div", { className: o.Body }, s),
          r,
        );
      });
      function m() {
        const e = (0, s.Tc)("rgDailyDealInvitations", "application_config");
        if (!e || 0 == e.length) return;
        return n.createElement(
          c,
          {
            title: (0, i.we)("#DailyDeals_PartnerDashboard_Title"),
            description: (0, i.we)("#DailyDeals_PartnerDashboard_Invite_Body"),
          },
          n.createElement(
            l.$n,
            {
              className: r.ButtonDailyDealDashboard,
              onClick: () => {
                window.location.assign(
                  `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/dashboard`,
                );
              },
            },
            (0, i.we)("#DailyDeals_Dashboard"),
          ),
        );
      }
      var d,
        p = a(46735),
        _ = a(95821),
        u = a(52038),
        g = a(60784),
        v = a(55263),
        E = a(91675),
        D = a(88704);
      function h(e) {
        const { app: t } = e,
          [a] = (0, v.G6)(t.appid, 0, {
            include_assets: !0,
            include_release: !0,
          }),
          s = !!a?.GetName();
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(y, { app: t, storeItem: a, hasStoreItem: s }),
          n.createElement(T, { app: t, hasStoreItem: s }),
        );
      }
      function y(e) {
        const { app: t, storeItem: a, hasStoreItem: r } = e,
          l = s.TS.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          o = r ? a.GetName() : t.name;
        return n.createElement(
          "div",
          { className: (0, u.A)(g.ItemContainer, r && g.PageVisible) },
          r &&
            n.createElement(
              "a",
              { href: l, target: "_blank" },
              n.createElement(
                "div",
                { className: g.ItemImage },
                n.createElement("img", { src: a?.GetAssets().GetHeaderURL() }),
              ),
            ),
          n.createElement(
            "div",
            { className: g.ItemNameInfoContainer },
            n.createElement(
              "a",
              { className: g.ItemName, href: l, target: "_blank" },
              o,
            ),
            n.createElement(
              "div",
              { className: g.ReleaseInfoCtn },
              t.releaserequest &&
                n.createElement(
                  "div",
                  { className: g.ReleaseInfoRow },
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, i.we)("#App_Landing_SpecifiedReleaseDate"),
                  ),
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    f(t.releaserequest.release_date),
                  ),
                ),
              r &&
                n.createElement(
                  "div",
                  { className: g.ReleaseInfoRow },
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, i.we)("#App_Landing_CustomersSeeReleaseDate"),
                  ),
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    a.GetFormattedSteamReleaseDate(),
                  ),
                ),
              t.earliestadvancedaccessdate > 0 &&
                n.createElement(
                  "div",
                  { className: (0, u.A)(g.ReleaseInfoRow, g.AdvancedAccess) },
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateLabel },
                    (0, i.we)("#App_Landing_AdvancedAccessDate"),
                    n.createElement(
                      "span",
                      {
                        "data-tooltip-text": (0, i.we)(
                          "#App_Landing_AdvancedAccessDate_ttip",
                        ),
                      },
                      " (?)",
                    ),
                  ),
                  n.createElement(
                    "span",
                    { className: g.ReleaseDateText },
                    f(t.earliestadvancedaccessdate),
                  ),
                ),
            ),
          ),
        );
      }
      function f(e) {
        return e
          ? `${(0, i.$z)(e)} ${(0, E.KC)(e, {}, { timeZoneName: "short" })}`
          : (0, i.we)("#App_Landing_UnsetReleaseDate");
      }
      function T(e) {
        const { app: t, hasStoreItem: a } = e,
          s = (0, D.pc)(t.releasestate, a),
          r = (0, u.A)(
            g.ItemReleaseStatusText,
            "prerelease" == t.releasestate && g.Prerelease,
            "released" == t.releasestate && g.Released,
          );
        return n.createElement(
          "div",
          { className: g.ItemReleaseInfoContainer },
          n.createElement(
            "div",
            { className: g.ItemReleaseStatusCtn },
            n.createElement(
              "div",
              { className: g.ItemReleaseStatusLabel },
              (0, i.we)("#Dashboard_UpcomingEvents_ReleaseStatusLabel"),
            ),
            n.createElement(
              "div",
              null,
              n.createElement("span", { className: r }, s.sText),
              s.sTooltip &&
                n.createElement(
                  "span",
                  { "data-tooltip-text": s.sTooltip },
                  " (?)",
                ),
            ),
          ),
        );
      }
      !(function (e) {
        (e[(e.BuildReview = 0)] = "BuildReview"),
          (e[(e.StorePageReview = 1)] = "StorePageReview"),
          (e[(e.SteamChina_BuildReview = 2)] = "SteamChina_BuildReview"),
          (e[(e.SteamChina_StorePageReview = 3)] =
            "SteamChina_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_StorePageReview = 4)] =
            "SteamChinaPlatformOperator_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_BuildReview = 5)] =
            "SteamChinaPlatformOperator_BuildReview"),
          (e[(e.SteamDeckCompatibilityReview = 6)] =
            "SteamDeckCompatibilityReview");
      })(d || (d = {}));
      var w = a(34629),
        b = a(56093),
        I = a(1030),
        N = a(67239),
        R = a(22837),
        S = a(32754),
        B = a(93095),
        A = a(32011),
        C = a(38390),
        U = a(86355),
        F = a(51240),
        M = a(14771);
      class x {
        m_rgOptIns;
        m_rgOptInComputed = new Map();
        static s_Singleton;
        static Get() {
          return (
            x.s_Singleton ||
              ((x.s_Singleton = new x()),
              x.s_Singleton.Init(),
              "dev" == s.TS.WEB_UNIVERSE &&
                (window.g_UpcomingEventsOptInStore = x.s_Singleton)),
            x.s_Singleton
          );
        }
        Init() {
          (this.m_rgOptIns = (0, s.Tc)("rgOptIns", "application_config")),
            this.m_rgOptIns && x.ExtractOptInDefinitions(this.m_rgOptIns);
        }
        static ExtractOptInDefinitions(e) {
          for (const t of Object.keys(e)) {
            const a = e[t].description,
              n = (0, D.ap)(a?.jsondata);
            delete a?.jsondata, n && (e[t].description.definition = n);
          }
        }
        GetInfo(e) {
          if (!e) return;
          if (this.m_rgOptInComputed.has(e))
            return this.m_rgOptInComputed.get(e);
          const t = this.m_rgOptIns?.[e];
          if (!t) return void this.m_rgOptInComputed.set(e, void 0);
          const a = new Set(t.invited_appids),
            n = t.description.definition.invitation_only
              ? t.summary?.apps_eligible.filter((e) => a.has(e.appid))
              : t.summary?.apps_eligible,
            s = {
              description: t.description,
              rgEligibleApps: n,
              rgRegisteredApps: t.summary?.apps_in,
              rgFeaturedApps: t.featured_appids,
            };
          return this.m_rgOptInComputed.set(e, s), s;
        }
      }
      var P = a(3358),
        k = a(38149),
        L = a(22797),
        G = a(44332),
        O = a(95034),
        z = a(62490);
      function W(e) {
        const t = n.useMemo(() => {
            const t = (0, s.Tc)("rgPartnerPromotions", "application_config"),
              a = t?.rgPlans
                .map((e) => (0, D.ap)(e.partner_readonly_jsondata))
                .filter((e) => e && e.id),
              n = t?.rgPlans
                .map((e) => ({ plan: e, input: (0, D.ap)(e.input_jsondata) }))
                .filter((e) => !!e.input)
                .reduce(
                  (e, t) => e.set(t.plan.promotion_id, t.input),
                  new Map(),
                ),
              r = new Set(t?.rgHiddenPlanIDs ?? []);
            return (
              a
                ?.map((t) => {
                  if (!t.start_date) return null;
                  if (new Date(1e3 * t.end_date) < new Date() && !H(t))
                    return null;
                  const a = x.Get().GetInfo(t.opt_in_id),
                    s = n.get(t.id);
                  let i =
                    r.has(t.id) ||
                    (("nextfest" == t.type || "themesale" == t.type) && !a);
                  const l =
                    "seasonalsale" != t.type &&
                    a &&
                    a.rgEligibleApps &&
                    0 == a.rgEligibleApps.length &&
                    a.rgRegisteredApps &&
                    0 == a.rgRegisteredApps.length;
                  return new j(
                    t.id,
                    e,
                    i,
                    t,
                    s,
                    a,
                    new Date(1e3 * t.start_date),
                    new Date(1e3 * t.end_date),
                    "event",
                    q(t),
                    l,
                    V,
                  );
                })
                .filter((e) => !!e) ?? []
            );
          }, [e]),
          a = (function (e) {
            const [t] = (0, O.QD)("recap"),
              a = n.useMemo(() => {
                if (!t) return [];
                const [a, n] = t.substring(14).split("_"),
                  s = new Date(`${a} 1, ${n}`),
                  r = {
                    id: `fakerecap_${t}`,
                    name: t,
                    opt_in_id: t,
                    type: "nextfest",
                    sale_clan_account: 39049601,
                    sale_clan_event_gid: "4148451028995460854",
                    start_date: s.getTime() / 1e3,
                    end_date: s.getTime() / 1e3 + 3 * M.Kp.PerDay,
                  },
                  i = {
                    description: {
                      opt_in_name: t,
                      type: 0,
                      active: !0,
                      start_date: r.start_date,
                      end_date: r.end_date,
                      definition: {},
                    },
                    rgEligibleApps: {},
                    rgRegisteredApps: {},
                    rgFeaturedApps: [],
                  },
                  l = new j(
                    r.id,
                    e,
                    !1,
                    r,
                    null,
                    i,
                    new Date(1e3 * i.description.start_date),
                    new Date(1e3 * i.description.end_date),
                    "event",
                    q(r),
                    !1,
                    V,
                  );
                return (0, G.w)(H(r), ""), [l];
              }, [e, t]);
            return a;
          })(e);
        return n.useMemo(() => [...t, ...a], [t, a]);
      }
      class j {
        m_changedCallbacks = new F.lu();
        m_partnerId;
        m_plan;
        m_assetInput;
        m_optIn;
        id;
        title;
        startDate;
        endDate;
        eventType;
        eventTypeName;
        valveOnly;
        editURL;
        dimmed = !1;
        getElement;
        constructor(e, t, a, n, r, i, l, o, c, m, d, p) {
          (this.m_partnerId = t),
            (this.valveOnly = a),
            (this.m_plan = n),
            (this.m_assetInput = r),
            (this.m_optIn = i),
            (this.id = e),
            (this.title =
              i?.description?.definition?.event_title?.[s.TS.LANGUAGE] ??
              (function (e) {
                const t = [
                  "takeover",
                  "takeunder",
                  "midweek",
                  "midweek deal",
                  "weekend deal",
                ];
                for (const a of t)
                  e = e.replace(new RegExp("^" + a + "\\s*[:-]\\s*", "i"), "");
                return e;
              })(n.name)),
            (this.startDate = l),
            (this.endDate = o),
            (this.eventType = c),
            (this.eventTypeName = m),
            (this.editURL = `${s.TS.PARTNER_BASE_URL}promotion/planning/edit/${this.m_plan.id}`),
            (this.dimmed = d),
            (this.getElement = () => p({ eventData: this }));
        }
        passesFilter = (e) => 1 == e;
        dataChanged() {
          this.m_changedCallbacks.Dispatch();
        }
        registerForChange(e) {
          return this.m_changedCallbacks.Register(e);
        }
        clone(e, t, a, n, s) {
          const r = Object.assign(
            Object.create(Object.getPrototypeOf(this)),
            this,
          );
          return (
            (r.m_changedCallbacks = new F.lu()),
            (r.id = e),
            (r.startDate = t),
            (r.endDate = a),
            (r.eventType = n),
            (r.eventTypeName = s),
            r
          );
        }
      }
      function q(e) {
        if (H(e))
          return (0, i.we)(
            "#Dashboard_UpcomingEvents_EventType_PromotionPlan_recap",
          );
        switch (e.type) {
          case "midweek":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_midweek",
            );
          case "weekenddeal":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_weekenddeal",
            );
          case "saleevent":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_saleevent",
            );
          case "themesale":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_themesale",
            );
          case "nextfest":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_nextfest",
            );
          case "seasonalsale":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_seasonalsale",
            );
          case "informational":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_informational",
            );
          case "dailydeal":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_dailydeal",
            );
          case "vacation":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_vacation",
            );
          case "important":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_important",
            );
          case "preload":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_preload",
            );
          case "assetrequest":
            return (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest",
            );
        }
      }
      function H(e) {
        return (
          "nextfest" == e.type &&
          new Date(1e3 * e.end_date).getTime() < new Date().getTime()
        );
      }
      function V(e) {
        const { eventData: t } = e;
        return H(t.m_plan) && "nextfest" == t.m_plan.type
          ? n.createElement(J, { eventData: t })
          : "nextfest" == t.m_plan.type || "themesale" === t.m_plan.type
            ? n.createElement(Q, { eventData: t })
            : n.createElement($, { eventData: t });
      }
      function $(e) {
        const { eventData: t } = e,
          a = t.m_plan,
          [r] = (0, v.G6)(a.store_item_id, a.store_item_type, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          [l] = (0, v.G6)(a.advertising_appid, 0, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          o = r ?? l,
          c = "seasonalsale" == t.m_plan.type;
        X(t);
        let m =
            "seasonalsale" == a.type
              ? `${s.TS.PARTNER_BASE_URL}doc/marketing/discounts/seasonalsales`
              : void 0,
          d = o?.GetAssets().GetHeaderURL();
        m ??= o ? s.TS.PARTNER_BASE_URL + "apps/landing/" + o.GetAppID() : null;
        const _ = (0, R.sf)(s.TS.LANGUAGE),
          { eventModel: g, bLoading: E } = (0, C.B9)(
            a.sale_clan_account,
            a.sale_clan_event_gid,
          );
        (d ??= !E && g?.GetImageURL("capsule", _, U.wI.capsule_main)),
          (m ??= !E && g?.GetSaleURL());
        const D = [];
        t.valveOnly &&
          ("seasonalsale" == a.type ||
            !t.m_partnerId ||
            t.m_plan.store_item_id ||
            t.m_plan.discount_event_id ||
            D.push(
              "In order to be visible to partners, plans must have access through a linked store item or a discount event.",
            ));
        const h =
            a.discount_event_id && !t.m_assetInput?.enable_input
              ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${a.discount_event_id}`
              : void 0,
          y = n.createElement(
            n.Fragment,
            null,
            h &&
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(h, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
            c &&
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(m, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                ),
              ),
            a.asset_kit_url?.length > 0 &&
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(a.asset_kit_url, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_AssetKit",
                ),
              ),
          );
        return n.createElement(
          "div",
          {
            className: (0, u.A)(
              I.ItemContainer,
              I.HasImage,
              c && I.SeasonalSale,
            ),
          },
          d &&
            c &&
            n.createElement("img", {
              className: (0, u.A)(I.BackgroundImage, p.BackgroundImage),
              src: d,
            }),
          n.createElement(K, {
            warnings: D,
            eventName: t.title,
            startTime: a.start_date,
            endTime: a.end_date,
            eventUrl: m,
            imageUrl: d,
            additionalButtons: y,
          }),
          n.createElement(Y, { eventData: t }),
        );
      }
      function Q(e) {
        const { eventData: t } = e,
          a = (0, R.sf)(s.TS.LANGUAGE),
          r = t.m_plan,
          l = t.m_optIn,
          o = r.opt_in_id
            ? `${s.TS.PARTNER_BASE_URL}optin/sale/${r.opt_in_id?.replace("sale_", "")}`
            : void 0,
          c = [];
        let m;
        if (
          (t.valveOnly &&
            ((r.sale_clan_account && r.sale_clan_event_gid) ||
              c.push("no sale event"),
            r.opt_in_id || c.push("no opt-in")),
          "nextfest" == r.type && "deadline" == t.eventType)
        ) {
          const e = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(
            new Date(
              1e3 * t.m_optIn.description.definition.optin_deadline_date,
            ),
          );
          m = n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "div",
              { className: I.ItemDeadlineHeaderText },
              (0, i.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses",
                e,
              ),
            ),
            n.createElement(
              "div",
              null,
              (0, i.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses_Description",
              ),
            ),
          );
        }
        !(function (e) {
          const t = lt();
          n.useEffect(() => {
            let a;
            if (
              !e.id.endsWith("_nextfestDeadline") &&
              "nextfest" == e.m_plan.type &&
              e.m_optIn?.description.definition.optin_deadline_date &&
              e.m_optIn.rgEligibleApps?.length > 0 &&
              e.m_optIn.rgRegisteredApps
            ) {
              const s = new Date(
                1e3 * e.m_optIn.description.definition.optin_deadline_date,
              );
              if (s && s > new Date()) {
                const r = e.clone(
                  e.id + "_nextfestDeadline",
                  s,
                  s,
                  "deadline",
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_EventType_PromotionPlan_registration_reminder",
                  ),
                );
                (r.getElement = () => n.createElement(Q, { eventData: r })),
                  (a = t.AddAdditionalEvent(r));
              }
            }
            return a;
          }, [t, e]);
        })(t),
          X(t);
        const d = l?.description.start_date ?? r.start_date,
          _ = l?.description.end_date ?? r.end_date,
          g =
            l?.description?.definition?.localized_optin_banner?.[s.TS.LANGUAGE],
          v =
            l?.description.opt_in_name &&
            g &&
            (0, A.Yi)(l?.description.opt_in_name, a, g);
        return n.createElement(
          "div",
          { className: I.ItemContainer },
          v &&
            n.createElement("img", {
              className: (0, u.A)(I.BackgroundImage, p.BackgroundImage),
              src: v,
            }),
          n.createElement(K, {
            warnings: c,
            eventName: t.title,
            eventDescription: m,
            startTime: d,
            endTime: _,
            eventUrl: o,
            inlineDate: !0,
          }),
          l && n.createElement(Z, { eventData: t, eventUrl: o, optIn: l }),
        );
      }
      function X(e) {
        const t = lt(),
          a =
            ("seasonalsale" == e.m_plan.type || "themesale" == e.m_plan.type) &&
            "deadline" != e.eventType &&
            "deadline-urgent" != e.eventType &&
            e.m_optIn?.description?.opt_in_name &&
            e.m_optIn.rgEligibleApps &&
            e.m_optIn.rgRegisteredApps &&
            e.m_optIn.rgFeaturedApps &&
            e.m_optIn.description.definition
              .additional_featuring_section_enabled,
          s = ne(
            e.m_partnerId,
            e.m_optIn?.rgRegisteredApps,
            e.m_plan.start_date,
            e.m_plan.end_date,
          ),
          r = it().setManageDiscountsAppIDs;
        n.useEffect(() => {
          if (!(a && e.m_optIn?.rgFeaturedApps?.length > 0)) return;
          const l = [];
          for (const a of (0, D.Gx)(
            e.m_optIn.rgEligibleApps,
            e.m_optIn.rgRegisteredApps,
          )) {
            if (!e.m_optIn?.rgFeaturedApps.includes(a.appid)) continue;
            if (!r?.has(a.appid)) continue;
            const o = e.m_optIn.rgRegisteredApps?.some(
                (e) => e.appid == a.appid,
              ),
              c = s?.some((e) => e.appid == a.appid);
            if (o) {
              if (!c && "seasonalsale" == e.m_plan.type) {
                const s = new Date(
                    1e3 * e.m_optIn.description.definition.optin_deadline_date,
                  ),
                  r = new Date(1e3 * e.m_plan.start_date);
                if (s > new Date() && r > new Date()) {
                  const o = e.clone(
                    e.m_plan.id + "_featuredDiscountDeadline_" + a.appid,
                    r,
                    r,
                    "deadline-urgent",
                    (0, i.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Header",
                    ),
                  );
                  (o.getElement = () =>
                    n.createElement(ae, {
                      eventData: o,
                      appId: a.appid,
                      registerByDate: s,
                      registrationType: "discount",
                    })),
                    l.push(t.AddAdditionalEvent(o));
                }
              }
            } else {
              if (
                e.m_optIn.description.definition.collect_trailer_permissions
              ) {
                const s = new Date(
                  1e3 * e.m_optIn.description.definition.collect_demo_deadline,
                );
                if (s > new Date()) {
                  const r = e.clone(
                    e.m_plan.id + "_featuredTrailerDeadline_" + a.appid,
                    s,
                    s,
                    "deadline",
                    (0, i.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailer_Header",
                    ),
                  );
                  (r.getElement = () =>
                    n.createElement(ae, {
                      eventData: r,
                      appId: a.appid,
                      registerByDate: s,
                      registrationType:
                        "seasonalsale" == e.m_plan.type
                          ? "trailer-seasonalsale"
                          : "trailer-themesale",
                    })),
                    l.push(t.AddAdditionalEvent(r));
                }
              }
              if ("seasonalsale" == e.m_plan.type) {
                const s = new Date(
                  1e3 * e.m_optIn.description.definition.optin_deadline_date,
                );
                if (s > new Date()) {
                  const r = e.clone(
                    e.m_plan.id + "_featuredRegistrationDeadline_" + a.appid,
                    s,
                    s,
                    "deadline-urgent",
                    (0, i.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Header",
                    ),
                  );
                  (r.getElement = () =>
                    n.createElement(ae, {
                      eventData: r,
                      appId: a.appid,
                      registerByDate: s,
                      registrationType: "registration",
                    })),
                    l.push(t.AddAdditionalEvent(r));
                }
              }
            }
          }
          return l.length > 0 ? () => l.forEach((e) => e()) : void 0;
        }, [t, a, e, e.m_optIn?.rgFeaturedApps, s, r]);
      }
      function J(e) {
        const { eventData: t } = e,
          a = (0, R.sf)(s.TS.LANGUAGE),
          r = t.m_plan,
          { eventModel: l, bLoading: o } = (0, C.B9)(
            r.sale_clan_account,
            r.sale_clan_event_gid,
          ),
          c = (0, k.S)(r.opt_in_id, t.m_partnerId),
          m = !o && l?.GetImageURL("capsule", a, U.wI.capsule_main),
          d = !o && l?.GetSaleURL(),
          p = r.opt_in_id?.startsWith("sale_nextfest_")
            ? `${s.TS.PARTNER_BASE_URL}recap/nextfest/${r.opt_in_id.substring(14)}/${t.m_partnerId}`
            : void 0,
          _ = lt(),
          g = x.Get().GetInfo(r.opt_in_id),
          v = n.useMemo(
            () => z.Ew(c.data?.appIdsWithoutPermissions ?? []),
            [c.data?.appIdsWithoutPermissions],
          ),
          E = n.useMemo(() => {
            if (c.isLoading || !c.isSuccess) return null;
            const e = c.data.stats?.reduce(
              (e, t) => (t.rt_last_update_time > e ? t.rt_last_update_time : e),
              0,
            );
            if (!e || e < r.end_date) return null;
            const t =
                c.data.stats?.filter(
                  (t) => 0 != e && t.rt_last_update_time == e,
                ) ?? [],
              a = t.reduce((e, t) => e + t.demo_player_count, 0),
              n = t.reduce((e, t) => e + t.wishlist_count, 0),
              s = t.reduce((e, t) => e + t.player_wishlist_count, 0),
              i = t.reduce(
                (e, t) =>
                  t.demo_player_count >= e.count
                    ? { count: t.demo_player_count, appId: t.appid }
                    : e,
                { count: 0, appId: 0 },
              ).appId;
            return {
              nGamesWithStatsCount: t.length,
              nDemoPlayers: a,
              nWishlists: n,
              nConversions: s,
              nMostPopularAppId: i,
            };
          }, [r.end_date, c.data, c.isLoading, c.isSuccess]),
          h =
            E?.nMostPopularAppId > 0
              ? E.nMostPopularAppId
              : v.length > 0
                ? Math.max(...v)
                : 0,
          y = g?.rgRegisteredApps?.find((e) => e.appid == h)?.jsondata,
          f = y && JSON.parse(y),
          T =
            f && !f.survey_response?.some((e) => e.accountid == s.iA.accountid),
          w = (E?.nGamesWithStatsCount ?? 0) + v.length;
        if (
          (n.useEffect(() => {
            c.isLoading ||
              (c.isSuccess && (0 != w || T)) ||
              _.SetHidden(r.id, !0);
          }, [_, T, w, r.id, c.isLoading, c.isSuccess]),
          c.isLoading)
        )
          return n.createElement(L.t, null);
        if (0 == w && !T) return;
        const b = `${s.TS.PARTNER_BASE_URL}optin/survey/${r.opt_in_id}/${h}`,
          N = new Intl.NumberFormat((0, i.l4)()),
          S = n.createElement(
            "a",
            {
              href: `${s.TS.PARTNER_BASE_URL}doc/gettingstarted/managing_users`,
            },
            (0, i.we)(
              "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_ViewFinancials",
            ),
          );
        return n.createElement(
          "div",
          { className: I.RecapItemContainer },
          E &&
            n.createElement(
              n.Fragment,
              null,
              m &&
                n.createElement(
                  "div",
                  { className: I.RecapItemImage },
                  n.createElement(
                    D.iN,
                    { href: d, target: "_blank" },
                    n.createElement("img", { src: m }),
                  ),
                ),
              n.createElement(
                "div",
                { className: I.RecapTextSection },
                n.createElement(
                  "div",
                  { className: I.RecapTextHeader },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_TextHeader",
                  ),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapTextSummary },
                  n.createElement(
                    "div",
                    { className: I.RecapTextGameDescription },
                    n.createElement(
                      "div",
                      { className: I.RecapTextGameCount },
                      (0, i.um)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextGameCount",
                        w,
                        n.createElement("b", null),
                      ),
                    ),
                    v.length > 0 &&
                      n.createElement(
                        "div",
                        { className: I.RecapTextGameAdditionalCount },
                        (0, i.TG)(
                          "#Dashboard_UpcomingEvents_RecapNextFest_PartialStats_TextGameCount",
                          v.length,
                          S,
                        ),
                      ),
                  ),
                  p &&
                    n.createElement(
                      "button",
                      {
                        className: I.RecapTextFullSummaryButton,
                        onClick: () => window.open(p, "_blank"),
                      },
                      (0, i.we)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextFullSummary",
                      ),
                    ),
                ),
              ),
              n.createElement(
                "div",
                {
                  className: (0, u.A)(I.RecapBox, I.Plays),
                  "data-tooltip-text": (0, i.we)(
                    "#Recap_NextFest_TotalPlayers_ttip",
                  ),
                },
                n.createElement(
                  "div",
                  { className: I.RecapBoxCount },
                  N.format(E.nDemoPlayers),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapBoxDesc },
                  (0, i.we)("#Recap_NextFest_TotalPlayers"),
                ),
              ),
              n.createElement(
                "div",
                {
                  className: (0, u.A)(I.RecapBox, I.Conversions),
                  "data-tooltip-text": (0, i.we)(
                    "#Recap_NextFest_PlayerWishlist_ttip",
                  ),
                },
                n.createElement(
                  "div",
                  { className: I.RecapBoxCount },
                  N.format(E.nConversions),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapBoxDesc },
                  (0, i.we)("#Recap_NextFest_PlayerWishlist"),
                ),
              ),
              n.createElement(
                "div",
                {
                  className: (0, u.A)(I.RecapBox, I.Wishlists),
                  "data-tooltip-text": (0, i.we)(
                    "#Recap_NextFest_TotalWishlist_ttip",
                  ),
                },
                n.createElement(
                  "div",
                  { className: I.RecapBoxCount },
                  N.format(E.nWishlists),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapBoxDesc },
                  (0, i.we)("#Recap_NextFest_TotalWishlist"),
                ),
              ),
            ),
          !E &&
            n.createElement(
              n.Fragment,
              null,
              m &&
                n.createElement(
                  "div",
                  { className: I.RecapItemImage },
                  n.createElement(
                    D.iN,
                    { href: d, target: "_blank" },
                    n.createElement("img", { src: m }),
                  ),
                ),
              n.createElement(
                "div",
                { className: I.RecapTextSection },
                n.createElement(
                  "div",
                  { className: I.RecapTextHeader },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextHeader",
                  ),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapTextSummary },
                  n.createElement(
                    "div",
                    { className: I.RecapTextGameDescription },
                    n.createElement(
                      "div",
                      { className: I.RecapTextGameCount },
                      (0, i.um)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextGameCount",
                        w,
                        n.createElement("b", null),
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: I.RecapTextGameAdditionalCount },
                      (0, i.PP)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_NeedPermission",
                        S,
                      ),
                    ),
                  ),
                  p &&
                    n.createElement(
                      "button",
                      {
                        className: I.RecapTextFullSummaryButton,
                        onClick: () => window.open(p, "_blank"),
                      },
                      (0, i.we)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextFullSummary",
                      ),
                    ),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, u.A)(I.RecapBox, I.Plays) },
                n.createElement(
                  "div",
                  { className: I.RecapBoxCount },
                  N.format(w),
                ),
                n.createElement(
                  "div",
                  { className: I.RecapBoxDesc },
                  (0, i.we)("#Recap_NextFest_Apps"),
                ),
              ),
            ),
          T &&
            n.createElement(
              "div",
              { className: I.RecapSurveyArea },
              n.createElement(
                "div",
                { className: I.RecapSurveyText },
                (0, i.we)("#Dashboard_UpcomingEvents_RecapNextFest_SurveyText"),
              ),
              n.createElement(
                "button",
                {
                  className: I.RecapSurveyButton,
                  onClick: () => window.open(b, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_RecapNextFest_SurveyButton",
                ),
              ),
            ),
        );
      }
      function K(e) {
        const {
          eventName: t,
          eventDescription: a,
          eventUrl: s,
          startTime: r,
          endTime: i,
          warnings: l,
          imageUrl: o,
          additionalButtons: c,
          inlineDate: m,
        } = e;
        return n.createElement(
          n.Fragment,
          null,
          o &&
            n.createElement(
              "div",
              { className: I.ItemImage },
              n.createElement(
                D.iN,
                { href: s, target: "_blank" },
                n.createElement("img", { src: o }),
              ),
            ),
          n.createElement(
            "div",
            { className: I.ItemNameInfoContainer },
            n.createElement(
              "div",
              { className: (0, u.A)(I.ItemInfoHeader, m && I.InlineDate) },
              n.createElement(
                "span",
                { className: I.ItemName },
                n.createElement(D.iN, { href: s, target: "_blank" }, t),
              ),
              n.createElement(
                "div",
                null,
                n.createElement(P.e, {
                  startTimestamp: r,
                  endTimestamp: i,
                  largeDate: m,
                }),
              ),
            ),
            a,
            l?.length > 0 &&
              n.createElement(
                "div",
                { className: I.ItemWarning },
                l.join(", "),
              ),
          ),
          c && n.createElement("div", { className: I.LinkButtonContainer }, c),
        );
      }
      function Y(e) {
        const { eventData: t } = e;
        if (!t.m_assetInput?.enable_input) return;
        const a = t.m_plan.id
            ? `${s.TS.PARTNER_BASE_URL}promotion/assetportal/request/${t.m_plan.id}`
            : void 0,
          r = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          l =
            t.m_plan.start_date && r.format(1e3 * (t.m_plan.start_date - N.lF));
        return n.createElement(
          "div",
          { className: I.LinkButtonContainer },
          l &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: I.AssetRequestDateLabel },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_duedate",
                ),
              ),
              n.createElement("div", { className: I.AssetRequestDate }, l),
            ),
          a &&
            n.createElement(
              "button",
              {
                className: (0, u.A)(I.LinkButton),
                onClick: () => window.open(a, "_blank"),
              },
              (0, i.we)(
                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
              ),
            ),
        );
      }
      function Z(e) {
        const { eventData: t, eventUrl: a, optIn: r } = e,
          l = t.m_plan,
          o = (e, t) => e?.map((e) => ({ details: e, bRegistered: t })) ?? [],
          c = n.useMemo(
            () => (0, D.Gx)(o(r.rgEligibleApps, !1), o(r.rgRegisteredApps, !0)),
            [r.rgEligibleApps, r.rgRegisteredApps],
          ),
          m = ne(t.m_partnerId, r.rgRegisteredApps, l.start_date, l.end_date),
          d = n.useMemo(
            () =>
              m?.length &&
              n.createElement(
                "div",
                { className: I.OptInGamesToolTipContainer },
                m
                  .sort((e, t) => e.appName.localeCompare(t.appName))
                  .map((e) =>
                    n.createElement(
                      "div",
                      { key: e.appid },
                      `${e.appName} (${(function (e) {
                        const t = new Intl.DateTimeFormat(navigator.language, {
                          month: "numeric",
                          day: "numeric",
                          year: "2-digit",
                        });
                        return (0, D.sq)(
                          e,
                          (e) => `${e.rtStartDate}_${e.rtEndDate}`,
                        )
                          .map(
                            (e) =>
                              `${t.format(new Date(1e3 * e.rtStartDate))} - ${t.format(new Date(1e3 * e.rtEndDate))}`,
                          )
                          .join(", ");
                      })(e.discountsDuring)})`,
                    ),
                  ),
              ),
            [m],
          ),
          p = c?.length > 0,
          _ = it().setManageDiscountsAppIDs,
          g = c?.some((e) => _.has(e.details.appid)),
          v =
            l.discount_event_id && g
              ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${l.discount_event_id}`
              : void 0,
          E = v && m,
          h = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          y =
            "deadline" != t.eventType &&
            r.description.definition.optin_deadline_date &&
            r.description.definition.event_start_date -
              r.description.definition.optin_deadline_date >
              M.Kp.PerDay &&
            h.format(1e3 * r.description.definition.optin_deadline_date);
        return n.createElement(
          n.Fragment,
          null,
          p &&
            n.createElement(
              "div",
              { className: I.StatusItemBoxContainer },
              n.createElement(ee, {
                text: (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_EligibleGames",
                ),
                count: c.length,
                tooltip: n.createElement(te, { apps: c }),
              }),
              n.createElement(ee, {
                text: (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_RegisteredGames",
                ),
                count: r.rgRegisteredApps?.length ?? 0,
                tooltip: n.createElement(te, {
                  apps: o(r.rgRegisteredApps, !1),
                }),
              }),
              n.createElement(ee, {
                text: (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Discounted",
                ),
                count: m?.length ?? 0,
                tooltip: d,
                hidden: !E,
              }),
            ),
          n.createElement(
            "div",
            { className: I.LinkButtonContainer },
            y &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: I.AssetRequestDateLabel },
                  (0, i.we)("#Dashboard_UpcomingEvents_Events_OptIn_Deadline"),
                ),
                n.createElement("div", { className: I.AssetRequestDate }, y),
              ),
            a &&
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(a, "_blank"),
                },
                p
                  ? (0, i.we)(
                      "#Dashboard_UpcomingEvents_Events_OptIn_Button_EligibleGames",
                    )
                  : (0, i.we)(
                      "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                    ),
              ),
            v &&
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(v, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
          ),
        );
      }
      function ee(e) {
        const { text: t, count: a, tooltip: s, hidden: r } = e;
        return n.createElement(
          S.he,
          { toolTipContent: s },
          n.createElement(
            "div",
            { className: (0, u.A)(I.StatusItemBox, r && I.Hidden) },
            n.createElement("div", { className: I.StatusItemBoxLabel }, t),
            n.createElement("div", { className: I.StatusItemBoxText }, a),
          ),
        );
      }
      function te(e) {
        const { apps: t } = e;
        if (!t?.length) return;
        const a = t.sort((e, t) =>
          e.details.app_name.localeCompare(t.details.app_name),
        );
        return n.createElement(
          "div",
          { className: I.OptInGamesToolTipContainer },
          a.map((e) =>
            n.createElement(
              "div",
              { key: e.details.appid },
              e.bRegistered
                ? (0, i.PP)(
                    "#Dashboard_UpcomingEvents_Events_OptIn_GameRegistered",
                    e.details.app_name,
                    n.createElement(
                      "span",
                      { className: I.OptInGamesToolTipRegistered },
                      (0, i.we)(
                        "#Dashboard_UpcomingEvents_Events_OptIn_GameRegisteredText",
                      ),
                    ),
                  )
                : e.details.app_name,
            ),
          ),
        );
      }
      function ae(e) {
        const {
            eventData: t,
            appId: a,
            registerByDate: r,
            registrationType: l,
          } = e,
          o = (0, R.sf)(s.TS.LANGUAGE),
          c = t.m_plan,
          m = t.m_optIn,
          [d] = (0, v.G6)(a, 0, { include_basic_info: !0, include_assets: !0 }),
          p = d?.GetAssets().GetHeaderURL(),
          _ = d ? s.TS.PARTNER_BASE_URL + "apps/landing/" + d.GetAppID() : null,
          g = `${s.TS.PARTNER_BASE_URL}optin/sale/${c.opt_in_id?.replace("sale_", "")}`,
          E = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }),
          h = E.format(r),
          y =
            "trailer-seasonalsale" == l || "trailer-themesale" == l
              ? h
              : E.format(new Date(1e3 * m?.description.start_date)),
          f = n.useMemo(() => {
            const e = t.m_optIn.rgRegisteredApps.find((e) => e.appid == a);
            return e ? [e] : [];
          }, [t.m_optIn.rgRegisteredApps, a]),
          T = f?.length > 0,
          w = c.discount_event_id
            ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${c.discount_event_id}`
            : void 0,
          b = ne(t.m_partnerId, f, c.start_date, c.end_date),
          N = b?.length > 0,
          S =
            m?.description?.definition?.localized_optin_banner?.[s.TS.LANGUAGE],
          B =
            m?.description.opt_in_name &&
            S &&
            (0, A.Yi)(m?.description.opt_in_name, o, S),
          C = T && N,
          U = "deadline-urgent" == t.eventType;
        let F = null,
          M = null,
          x = null;
        switch (l) {
          case "trailer-seasonalsale":
            (F =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Title"),
              (M =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Body"),
              (x =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Action");
            break;
          case "trailer-themesale":
            (F =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Title"),
              (M =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Body"),
              (x =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Action");
            break;
          case "registration":
            (F =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Title"),
              (M =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Body"),
              (x =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
            break;
          case "discount":
            (F =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Title"),
              (M =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Body"),
              (x =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
        }
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(
            "div",
            { className: (0, u.A)(I.ItemContainer, p && I.HasImage) },
            B &&
              n.createElement("img", {
                className: (0, u.A)(I.BackgroundImage, I.Dimmed),
                src: B,
              }),
            p &&
              n.createElement(
                "div",
                { className: I.ItemImage },
                n.createElement(
                  D.iN,
                  { href: _, target: "_blank" },
                  n.createElement("img", { src: p }),
                ),
              ),
            n.createElement(
              "div",
              { className: I.ItemNameInfoContainer },
              n.createElement(
                "div",
                { className: (0, u.A)(I.ItemName, I.Light) },
                (0, i.we)(F, t.title),
              ),
              n.createElement(
                "div",
                {
                  className: (0, u.A)(I.ItemDeadlineHeaderText, U && I.Urgent),
                },
                (0, i.we)(M, h),
              ),
            ),
          ),
          n.createElement(
            "div",
            { className: I.StatusItemBoxContainer },
            n.createElement(
              "div",
              { className: I.DeadlineFeaturedStatusContainer },
              (0, i.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Status",
              ),
              !C &&
                n.createElement(
                  "span",
                  {
                    className: (0, u.A)(
                      I.DeadlineFeaturedStatusText,
                      U && I.IncompleteUrgent,
                      !U && I.Incomplete,
                    ),
                  },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Incomplete",
                  ),
                ),
              C &&
                n.createElement(
                  "span",
                  { className: I.DeadlineFeaturedStatusText },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Complete",
                  ),
                ),
            ),
            n.createElement(
              "div",
              { className: I.DeadlineFeaturedTodoContainer },
              n.createElement(
                "span",
                null,
                T
                  ? (0, i.we)("#Dashboard_UpcomingEvents_Checked")
                  : (0, i.we)("#Dashboard_UpcomingEvents_Unchecked"),
                " ",
                (0, i.we)(x, h),
              ),
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(g, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Register_Button",
                ),
              ),
            ),
            n.createElement(
              "div",
              { className: I.DeadlineFeaturedTodoContainer },
              n.createElement(
                "span",
                null,
                N
                  ? (0, i.we)("#Dashboard_UpcomingEvents_Checked")
                  : (0, i.we)("#Dashboard_UpcomingEvents_Unchecked"),
                " ",
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Action",
                  y,
                ),
              ),
              n.createElement(
                "button",
                {
                  className: (0, u.A)(I.LinkButton),
                  onClick: () => window.open(w, "_blank"),
                },
                (0, i.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
              ),
            ),
          ),
        );
      }
      function ne(e, t, a, s) {
        const r = n.useMemo(
            () =>
              t?.map((e) => ({
                appid: e.appid,
                appName: e.app_name,
                startDate: a,
                endDate: s,
              })) ?? [],
            [t, a, s],
          ),
          i = n.useMemo(() => t?.map((e) => e.appid) ?? [], [t]),
          l = (0, B.F_)(i, { nPartnerID: e });
        return n.useMemo(() => {
          const e = r?.reduce((e, t) => e.set(t.appid, t), new Map()),
            t =
              l && e
                ? Array.from(l)
                    .map(([t, a]) => ({
                      appid: t,
                      discountsDuring: a?.discounts?.filter(
                        (a) =>
                          e.get(t).startDate &&
                          e.get(t).startDate <= a.rtEndDate &&
                          e.get(t).endDate &&
                          a.rtStartDate <= e.get(t).endDate,
                      ),
                    }))
                    .filter((e) => e.discountsDuring?.length)
                : void 0,
            a = t?.map(({ appid: t, discountsDuring: a }) => ({
              appid: t,
              appName: e?.get(t).appName,
              discountsDuring: a,
            }));
          return a;
        }, [r, l]);
      }
      function se(e) {
        switch (e) {
          case "deadline":
          case "deadline-urgent":
            return (
              (0, i.we)("#Dashboard_UpcomingEvents_EventType_Deadline") +
              " (Generated)"
            );
          case "release-game":
            return (
              (0, i.we)("#Dashboard_UpcomingEvents_EventType_Release") +
              " (Generated)"
            );
          case "release-dlc":
            return (
              (0, i.we)("#Dashboard_UpcomingEvents_EventType_Release_DLC") +
              " (Generated)"
            );
          case "event":
            return (
              (0, i.we)("#Dashboard_UpcomingEvents_EventType_Event_Unknown") +
              " (Generated)"
            );
        }
      }
      (0, w.Cg)([b.oI], j.prototype, "dataChanged", null);
      var re = a(87874),
        ie = a(10698);
      function le(e) {
        const t = new Date(e.getTime());
        return t.setHours(0, 0, 0, 0), t;
      }
      function oe(e) {
        const t = new Date(e.getTime());
        return t.setDate(1), t.setHours(0, 0, 0, 0), t;
      }
      function ce(e, t) {
        const a = new Date(e);
        return a.setDate(e.getDate() + t), a;
      }
      function me(e, t) {
        return e.reduce((e, a) => {
          const n = t(a.startDate),
            s = e.get(n.getTime()) || [];
          return e.set(n.getTime(), [...s, a]), e;
        }, new Map());
      }
      function de() {
        return n.useMemo(() => {
          const e = (function (e) {
              return e
                ? Object.keys(e).reduce((t, a) => t.set(a, e[a]), new Map())
                : void 0;
            })((0, s.Tc)("rgDeadlines", "application_config")),
            t = (e ? Array.from(e.entries()) : []).reduce((e, [t, a]) => {
              const n = le(new Date(1e3 * a.due_date)),
                s = (function (e) {
                  switch (e) {
                    case 4:
                    case 5:
                      return !0;
                  }
                  return !1;
                })(a.type),
                r = s ? "group" : t,
                i = `${n.getTime()}_${a.type}_${r}`,
                l = e.has(i) ? e.get(i).deadlines : [];
              return (
                e.set(i, {
                  dueDate: n,
                  bSupportsGrouping: s,
                  deadlines: [...l, a],
                }),
                e
              );
            }, new Map()),
            a = Array.from(t.entries()).flatMap(([e, t]) => {
              const { dueDate: a, bSupportsGrouping: n, deadlines: s } = t,
                r = [];
              return (
                n
                  ? r.push(
                      (function (e) {
                        switch (e[0].type) {
                          case 4:
                          case 5:
                            return pe(e[0]);
                        }
                        return;
                      })(s),
                    )
                  : r.push(...s.map((e) => pe(e))),
                r
                  .filter((e) => !!e)
                  .map((t) => ({
                    title: t.sTitle,
                    startDate: a,
                    endDate: a,
                    eventType: t.bUrgent ? "deadline-urgent" : "deadline",
                    id: e,
                    eventTypeName: t.sHeader,
                    getElement: () => t.element,
                    passesFilter: (e) => 1 == e,
                    registerForChange: void 0,
                  }))
              );
            });
          return a ?? [];
        }, []);
      }
      function pe(e) {
        const t = e.description_jsondata
          ? JSON.parse(e.description_jsondata)
          : void 0;
        switch (e.type) {
          case 1:
            return {
              sHeader: "Action Required",
              sTitle: "Test 1",
              bUrgent: !0,
              element: n.createElement(_e, { deadline: e, json: t }),
            };
          case 3:
            return {
              sHeader: (0, i.we)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, i.we)(
                "#PartnerDeadline_DailyDeal_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: n.createElement(ue, { deadline: e, json: t }),
            };
          case 4: {
            const a = x.Get().GetInfo(t?.opt_in_name).description.definition
              .event_title[s.TS.LANGUAGE];
            return a
              ? {
                  sHeader: (0, i.we)(
                    "#PartnerDeadline_NextFest_PressPreview_Title",
                  ),
                  sTitle: (0, i.we)(
                    "#Deadlines_CombinedTitle",
                    (0, i.we)("#PartnerDeadline_NextFest_PressPreview_Title"),
                    a,
                  ),
                  element: n.createElement(ve, { deadline: e, json: t }),
                }
              : void 0;
          }
          case 5: {
            const a = x.Get().GetInfo(t?.opt_in_name).description.definition
              .event_title[s.TS.LANGUAGE];
            return a
              ? {
                  sHeader: (0, i.we)(
                    "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                  ),
                  sTitle: (0, i.we)(
                    "#Deadlines_CombinedTitle",
                    (0, i.we)(
                      "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                    ),
                    a,
                  ),
                  bUrgent: !0,
                  element: n.createElement(Ee, { deadline: e, json: t }),
                }
              : void 0;
          }
          case 6:
            return {
              sHeader: (0, i.we)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, i.we)(
                "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: n.createElement(ge, { deadline: e, json: t }),
            };
        }
      }
      function _e(e) {
        const { deadline: t, json: a } = e,
          s = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(new Date(1e3 * t.due_date));
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("div", null, "Name: ", a.name),
          n.createElement("div", null, "Due date: ", s),
        );
      }
      function ue(e) {
        const { deadline: t } = e,
          [a] = (0, v.G6)(t?.store_item_id, t?.store_item_type, {
            include_assets: !0,
          }),
          r = `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/invite/${t.gid}`,
          l = (0, ie.FN)(t?.due_date);
        return n.createElement(De, {
          urgent: !0,
          urlImage: a?.GetAssets().GetSmallCapsuleURL(),
          strTitle: (0, i.we)(
            "#PartnerDeadline_DailyDeal_InviteExpiring_Title",
          ),
          strBody: (0, i.we)("#PartnerDeadline_InviteExpiring_Body", l),
          url: r,
          strImageTooltip: a?.GetName(),
          rightCol: n.createElement(
            "button",
            {
              className: I.LinkButton,
              onClick: () => {
                window.open(r, "_blank");
              },
            },
            (0, i.we)("#DailyDeals_PickDate"),
          ),
        });
      }
      function ge(e) {
        const { deadline: t } = e,
          [a] = (0, v.G6)(t?.store_item_id, t?.store_item_type, {
            include_assets: !0,
          }),
          r = `${s.TS.PARTNER_BASE_URL}promotion/assetportal/request/${t.gid}`,
          l = (0, ie.FN)(t?.due_date);
        return n.createElement(De, {
          urgent: !0,
          urlImage: a?.GetAssets().GetSmallCapsuleURL(),
          strTitle: (0, i.we)(
            "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
          ),
          strBody: (0, i.we)("#PartnerDeadline_InviteExpiring_Body", l),
          url: r,
          strImageTooltip: a?.GetName(),
          rightCol: n.createElement(
            "button",
            {
              className: I.LinkButton,
              onClick: () => {
                window.open(r, "_blank");
              },
            },
            (0, i.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
            ),
          ),
        });
      }
      function ve(e) {
        const { deadline: t, json: a } = e,
          r = x.Get().GetInfo(a.opt_in_name),
          l = `${s.TS.PARTNER_BASE_URL}optin/sale/${a.opt_in_name.replace("sale_", "")}`;
        return n.createElement(De, {
          strTitle: r.description.definition.event_title[s.TS.LANGUAGE],
          strBody: (0, i.we)("#PartnerDeadline_NextFest_PressPreview_Body"),
          rightCol: n.createElement(
            "button",
            {
              className: I.LinkButton,
              onClick: () => window.open(l, "_blank"),
            },
            (0, i.we)("#PartnerDeadline_NextFest_View_Registration"),
          ),
        });
      }
      function Ee(e) {
        const { deadline: t, json: a } = e,
          r = x.Get().GetInfo(a.opt_in_name),
          l = `${s.TS.PARTNER_BASE_URL}optin/sale/${a.opt_in_name.replace("sale_", "")}`;
        return n.createElement(De, {
          urgent: !0,
          strTitle: r.description.definition.event_title[s.TS.LANGUAGE],
          strBody: (0, i.we)("#PartnerDeadline_NextFest_DemoBuildReview_Body"),
          rightCol: n.createElement(
            "button",
            {
              className: I.LinkButton,
              onClick: () => window.open(l, "_blank"),
            },
            (0, i.we)("#PartnerDeadline_NextFest_View_Registration"),
          ),
        });
      }
      function De(e) {
        const {
          urlImage: t,
          strTitle: a,
          strBody: s,
          strImageTooltip: r,
          url: i,
          rightCol: l,
          urgent: o,
        } = e;
        return n.createElement(
          "div",
          { className: (0, u.A)(I.ItemContainer, t && I.HasImage) },
          t &&
            n.createElement(
              S.he,
              { toolTipContent: r },
              t &&
                n.createElement(
                  "div",
                  { className: I.ItemImage },
                  n.createElement(
                    D.iN,
                    { href: i, target: "_blank" },
                    n.createElement("img", { src: t }),
                  ),
                ),
            ),
          n.createElement(
            "div",
            { className: I.ItemNameInfoContainer },
            n.createElement("div", { className: I.ItemName }, a),
            n.createElement(
              "div",
              { className: o ? re.DeadlineWarningUrgent : re.DeadlineWarning },
              s,
            ),
          ),
          l && n.createElement("div", { className: I.LinkButtonContainer }, l),
        );
      }
      var he = a(61318),
        ye = a(73437);
      function fe(e) {
        const { viewDate: t } = e,
          a = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "short",
          }).format(t);
        return n.createElement(
          "div",
          { className: he.MonthPickerContainer },
          n.createElement("div", { className: he.MonthPickerDate }, a),
        );
      }
      function Te(e) {
        const {
            viewDate: t,
            events: a,
            filterVisibleEventIds: s,
            bShowPreceedingWeeks: r,
            bShowFollowingWeeks: i,
            fnScrollToDay: l,
            hoverEvent: o,
            compareEvents: c,
            colorPriority: m,
          } = e,
          d = le(new Date()),
          p = me(a, le),
          _ = ce(t, -t.getDay()),
          g = new Date(t.getFullYear(), t.getMonth() + 1, 0).getDate(),
          v =
            (g +
              t.getDay() +
              ((t.getDay() + g) % 7 != 0 ? 7 - ((t.getDay() + g) % 7) : 0)) /
            7,
          E = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "long",
            day: "numeric",
          }),
          D = n.useMemo(
            () =>
              Array.from({ length: 7 * v }, (e, t) => t).map(() =>
                n.createRef(),
              ),
            [v],
          );
        n.useEffect(() => {
          for (let e = 0; e < v; e++) {
            const t = ce(_, 7 * e);
            for (let a = 0; a < 7; a++) {
              const n = le(ce(t, a)),
                s = p.get(n.getTime())?.sort(m);
              let r, i, l;
              if (s) {
                const e = s.find((e) => e.note);
                r = e ? e.color : void 0;
                const t = s.filter((e) => !e.note);
                i = t.length > 0 ? t[0].color : void 0;
                const a = t.filter((e) => e.color != i);
                l = a.length > 0 ? a[0].color : void 0;
              }
              r
                ? D[7 * e + a].current?.style.setProperty("--note-color", r)
                : D[7 * e + a].current?.style.removeProperty("--note-color"),
                i
                  ? D[7 * e + a].current?.style.setProperty("--day-color1", i)
                  : D[7 * e + a].current?.style.removeProperty("--day-color1"),
                l ?? i
                  ? D[7 * e + a].current?.style.setProperty(
                      "--day-color2",
                      l ?? i,
                    )
                  : D[7 * e + a].current?.style.removeProperty("--day-color2");
            }
          }
        }, [m, p, _, v, D]);
        const h = [];
        for (let e = 0; e < v; e++) {
          const a = [],
            m = ce(_, 7 * e);
          for (let _ = 0; _ < 7; _++) {
            const g = ce(m, _),
              v = le(g),
              h = t.getMonth() === g.getMonth(),
              y =
                t.getMonth() === g.getMonth() || (r && g <= t) || (i && g >= t),
              f = v.getTime() === d.getTime(),
              T = p.get(v.getTime())?.sort(c),
              w = T?.every((e) => s.has(e.id)),
              b = T?.some((e) => e.note),
              I =
                o &&
                v.getTime() >= le(o.startDate).getTime() &&
                v.getTime() <= le(o.endDate).getTime(),
              N = (0, u.A)(
                he.Day,
                !h && !I && he.OtherMonth,
                !y && he.Inactive,
                f && he.Today,
                b && w && he.Note,
                !b && w && he.Event,
                I && y && he.Hovered,
              );
            a.push(
              n.createElement(
                we,
                { key: _, date: g, daysEvents: T, tooltipDateFormat: E },
                n.createElement(
                  "div",
                  { className: N, onClick: () => l(g), ref: D[7 * e + _] },
                  g.getDate(),
                ),
              ),
            );
          }
          h.push(n.createElement("div", { key: e, className: he.Week }, a));
        }
        return n.createElement(n.Fragment, null, h);
      }
      function we(e) {
        const { date: t, daysEvents: a, tooltipDateFormat: s, children: r } = e;
        if (!a) return n.createElement(n.Fragment, null, r);
        const i = n.createElement(
          "div",
          { className: he.DayTooltipContainer },
          n.createElement("div", { className: he.DayTooltipDate }, s.format(t)),
          a.map((e) => n.createElement(be, { key: e.id, event: e })),
        );
        return n.createElement(S.he, { toolTipContent: i }, r);
      }
      function be(e) {
        const { event: t } = e;
        !(function (e) {
          const t = (0, ye.CH)();
          n.useEffect(() => {
            const a = e.registerForChange?.(() => t());
            return () => a?.Unregister();
          }, [e, t]);
        })(t);
        const a = n.useRef();
        return (
          n.useEffect(() => {
            a.current?.style.setProperty("--event-color", t.color);
          }, [t.color]),
          n.createElement(
            "div",
            { className: he.DayTooltipEvent, ref: a },
            t.title,
            t.valveOnly &&
              n.createElement("span", { className: he.ValveOnly }, " (VO)"),
          )
        );
      }
      function Ie(e) {
        const t = new Intl.DateTimeFormat(navigator.language, {
            weekday: "short",
          }),
          a = [...Array(7).keys()].map((e) =>
            t.format(new Date(2024, 0, e + 7)),
          );
        return n.createElement(
          "div",
          { className: he.Week },
          a.map((e) =>
            n.createElement("div", { key: e, className: he.DayName }, e),
          ),
        );
      }
      var Ne = a(24484),
        Re = a(2489),
        Se = a(94238),
        Be = a(18509),
        Ae = a(68225),
        Ce = a(52625);
      function Ue(e) {
        const { partnerId: t, deal: a } = e,
          r = (0, Se.Dw)(a.store_item_type),
          [l] = (0, v.G6)(a.store_item_id, r, { include_assets: !0 }),
          o = l?.GetAssets().GetSmallCapsuleURL();
        let c = null;
        0 == r && l
          ? (c = s.TS.PARTNER_BASE_URL + "apps/landing/" + l.GetAppID())
          : 2 == r && l
            ? (c = s.TS.PARTNER_BASE_URL + "bundles/view/" + l.GetID())
            : 1 == r &&
              l &&
              (c = s.TS.PARTNER_BASE_URL + "store/packagelanding/" + l.GetID());
        const m = a.rtime32_start_time + 82800,
          {
            nDiscountPercentHigh: d,
            dtDiscountStart: p,
            dtDiscountEnd: _,
          } = (0, Ce.Y4)(a),
          g = n.useMemo(() => (0, Ce.Dt)(a, d), [a, d]) >= Ce.of.DealReady,
          E = g,
          h = `${s.TS.PARTNER_BASE_URL}promotion/discounts${Ae.o.DiscountDashboard(0 != t ? t.toString() : "")}?de=${a.discount_event_id}&dd=1`,
          y = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }).format(new Date(1e3 * a.rtime32_start_time));
        return n.createElement(
          "div",
          { className: (0, u.A)(I.ItemContainer, o && I.HasImage) },
          o &&
            n.createElement(
              S.he,
              { toolTipContent: a.store_item_name },
              o &&
                n.createElement(
                  "div",
                  { className: I.ItemImage },
                  n.createElement(
                    D.iN,
                    { href: c, target: "_blank" },
                    n.createElement("img", { src: o }),
                  ),
                ),
            ),
          n.createElement(
            "div",
            { className: I.ItemNameInfoContainer },
            n.createElement(
              "div",
              { className: I.ItemName },
              a.store_item_name,
            ),
            n.createElement(
              "div",
              null,
              n.createElement(
                "span",
                { className: Re.DateDesc },
                (0, i.we)("#Dashboard_UpcomingEvents_DailyDeal_Dates"),
              ),
              n.createElement(P.e, {
                startTimestamp: a.rtime32_start_time,
                endTimestamp: m,
              }),
            ),
            g &&
              n.createElement(
                "div",
                null,
                n.createElement(
                  "span",
                  { className: Re.DateDesc },
                  (0, i.we)("#Dashboard_UpcomingEvents_DailyDeal_Discounted"),
                ),
                n.createElement(P.e, { startTimestamp: p, endTimestamp: _ }),
              ),
          ),
          n.createElement(
            "div",
            { className: (0, u.A)(I.StatusItemBoxContainer, Re.StatusItemRow) },
            n.createElement(
              "div",
              { className: Re.StatusIndicatorSection },
              n.createElement(
                "div",
                null,
                (0, i.we)("#Dashboard_UpcomingEvents_DailyDeal_StatusLabel"),
              ),
              E &&
                n.createElement(
                  "div",
                  { className: (0, u.A)(Re.StatusIndicator, Re.Complete) },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusComplete",
                  ),
                ),
              !E &&
                n.createElement(
                  "div",
                  { className: (0, u.A)(Re.StatusIndicator) },
                  (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusIncomplete",
                  ),
                ),
            ),
            g &&
              n.createElement(
                Fe,
                {
                  complete: !0,
                  label: (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                  ),
                  buttonLabel: (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_EditDiscount",
                  ),
                  sUrl: h,
                },
                n.createElement(Be.b4, { oDailyDeal: a }),
              ),
            !g &&
              n.createElement(
                Fe,
                {
                  complete: !1,
                  label: (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                  ),
                  buttonLabel: (0, i.we)(
                    "#Dashboard_UpcomingEvents_DailyDeal_EnterDiscount",
                  ),
                  sUrl: h,
                },
                n.createElement(
                  "span",
                  { className: Re.StatusItemDueBy },
                  (0, i.we)("#Dashboard_UpcomingEvents_DailyDeal_DueBy", y),
                ),
              ),
          ),
        );
      }
      function Fe(e) {
        const {
          complete: t,
          label: a,
          buttonLabel: s,
          sUrl: r,
          children: i,
        } = e;
        return n.createElement(
          "div",
          { className: Re.StatusItemBox },
          n.createElement(
            "div",
            null,
            n.createElement(
              "div",
              { className: Re.StatusItemLabel },
              n.createElement(
                "span",
                { className: (0, u.A)(Re.StatusItemCheck, t && Re.Complete) },
                t ? "✔ " : "☐ ",
              ),
              n.createElement("span", null, a),
            ),
            i,
          ),
          r &&
            s &&
            n.createElement(
              "button",
              {
                className: Re.StatusItemBoxButton,
                onClick: () => window.open(r, "_blank"),
              },
              s,
            ),
        );
      }
      class Me {
        m_eventsChanged = new F.lu();
        m_rgHiddenIds = new Set();
        m_rgAdditionalEvents = new Map();
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetHiddenIds() {
          return this.m_rgHiddenIds;
        }
        SetHidden(e, t) {
          t ? this.m_rgHiddenIds.add(e) : this.m_rgHiddenIds.delete(e),
            this.m_eventsChanged.Dispatch();
        }
        GetAdditionalEvents() {
          return Array.from(this.m_rgAdditionalEvents.values());
        }
        AddAdditionalEvent(e) {
          return (
            this.m_rgAdditionalEvents.set(e.id, e),
            this.m_eventsChanged.Dispatch(),
            () => this.RemoveAdditionalEvent(e.id)
          );
        }
        RemoveAdditionalEvent(e) {
          this.m_rgAdditionalEvents.delete(e), this.m_eventsChanged.Dispatch();
        }
      }
      var xe = a(4130),
        Pe = a(80886);
      function ke(e) {
        const { saleEvent: t } = e;
        return n.createElement(Pe.W, {
          saleDesc: t,
          bShowAppBrowse: !0,
          bHidePartnerStats: !0,
          bShowWhyAmISeeingThis: !0,
        });
      }
      var Le = a(84811),
        Ge = a(80613),
        Oe = a(89068),
        ze = a(56545);
      const We = Ge.Message;
      class je extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            je.prototype.partnerid || Oe.Sg(je.M()),
            We.initialize(this, e, 0, -1, [5], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            je.sm_m ||
              (je.sm_m = {
                proto: je,
                fields: {
                  partnerid: {
                    n: 1,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  type: { n: 2, br: Oe.qM.readEnum, bw: Oe.gp.writeEnum },
                  status: { n: 3, br: Oe.qM.readEnum, bw: Oe.gp.writeEnum },
                  due_date: {
                    n: 4,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  email_days_before_due: {
                    n: 5,
                    r: !0,
                    q: !0,
                    br: Oe.qM.readUint32,
                    pbr: Oe.qM.readPackedUint32,
                    bw: Oe.gp.writeRepeatedUint32,
                  },
                  gid: {
                    n: 6,
                    br: Oe.qM.readFixed64String,
                    bw: Oe.gp.writeFixed64String,
                  },
                  store_item_type: {
                    n: 7,
                    br: Oe.qM.readEnum,
                    bw: Oe.gp.writeEnum,
                  },
                  store_item_id: {
                    n: 8,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  discount_event_id: {
                    n: 9,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  required_rights: {
                    n: 11,
                    br: Oe.qM.readUint64String,
                    bw: Oe.gp.writeUint64String,
                  },
                  description_jsondata: {
                    n: 10,
                    br: Oe.qM.readString,
                    bw: Oe.gp.writeString,
                  },
                },
              }),
            je.sm_m
          );
        }
        static MBF() {
          return je.sm_mbf || (je.sm_mbf = Oe.w0(je.M())), je.sm_mbf;
        }
        toObject(e = !1) {
          return je.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(je.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(je.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new je();
          return je.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(je.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return je.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(je.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return je.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDeadline";
        }
      }
      class qe extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            qe.prototype.partnerid || Oe.Sg(qe.M()),
            We.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            qe.sm_m ||
              (qe.sm_m = {
                proto: qe,
                fields: {
                  partnerid: {
                    n: 1,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  start_date: {
                    n: 2,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  end_date: {
                    n: 3,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  include_complete: {
                    n: 4,
                    br: Oe.qM.readBool,
                    bw: Oe.gp.writeBool,
                  },
                },
              }),
            qe.sm_m
          );
        }
        static MBF() {
          return qe.sm_mbf || (qe.sm_mbf = Oe.w0(qe.M())), qe.sm_mbf;
        }
        toObject(e = !1) {
          return qe.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(qe.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(qe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new qe();
          return qe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(qe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return qe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(qe.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return qe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDeadline_GetDeadlinesForPartner_Request";
        }
      }
      class He extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            He.prototype.deadlines || Oe.Sg(He.M()),
            We.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            He.sm_m ||
              (He.sm_m = {
                proto: He,
                fields: { deadlines: { n: 1, c: Ve, r: !0, q: !0 } },
              }),
            He.sm_m
          );
        }
        static MBF() {
          return He.sm_mbf || (He.sm_mbf = Oe.w0(He.M())), He.sm_mbf;
        }
        toObject(e = !1) {
          return He.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(He.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(He.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new He();
          return He.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(He.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return He.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(He.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return He.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDeadline_GetDeadlinesForPartner_Response";
        }
      }
      class Ve extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ve.prototype.deadlineid || Oe.Sg(Ve.M()),
            We.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ve.sm_m ||
              (Ve.sm_m = {
                proto: Ve,
                fields: {
                  deadlineid: {
                    n: 1,
                    br: Oe.qM.readFixed64String,
                    bw: Oe.gp.writeFixed64String,
                  },
                  data: { n: 2, c: je },
                },
              }),
            Ve.sm_m
          );
        }
        static MBF() {
          return Ve.sm_mbf || (Ve.sm_mbf = Oe.w0(Ve.M())), Ve.sm_mbf;
        }
        toObject(e = !1) {
          return Ve.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Ve.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Ve.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Ve();
          return Ve.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Ve.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Ve.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Ve.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Ve.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDeadline_GetDeadlinesForPartner_Response_Result";
        }
      }
      class $e extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            $e.prototype.state || Oe.Sg($e.M()),
            We.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            $e.sm_m ||
              ($e.sm_m = {
                proto: $e,
                fields: {
                  state: { n: 1, br: Oe.qM.readEnum, bw: Oe.gp.writeEnum },
                  accountid: {
                    n: 2,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  key_json: {
                    n: 3,
                    br: Oe.qM.readString,
                    bw: Oe.gp.writeString,
                  },
                  partnerid: {
                    n: 4,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  rtime_create: {
                    n: 5,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  rtime_validity: {
                    n: 6,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  dismiss_id: {
                    n: 7,
                    br: Oe.qM.readFixed64String,
                    bw: Oe.gp.writeFixed64String,
                  },
                },
              }),
            $e.sm_m
          );
        }
        static MBF() {
          return $e.sm_mbf || ($e.sm_mbf = Oe.w0($e.M())), $e.sm_mbf;
        }
        toObject(e = !1) {
          return $e.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT($e.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq($e.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new $e();
          return $e.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj($e.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return $e.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0($e.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return $e.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDismissPinData";
        }
      }
      class Qe extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Qe.prototype.dismiss_list || Oe.Sg(Qe.M()),
            We.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Qe.sm_m ||
              (Qe.sm_m = {
                proto: Qe,
                fields: { dismiss_list: { n: 1, c: $e, r: !0, q: !0 } },
              }),
            Qe.sm_m
          );
        }
        static MBF() {
          return Qe.sm_mbf || (Qe.sm_mbf = Oe.w0(Qe.M())), Qe.sm_mbf;
        }
        toObject(e = !1) {
          return Qe.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Qe.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Qe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Qe();
          return Qe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Qe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Qe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Qe.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Qe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_CreateDismiss_Request";
        }
      }
      class Xe extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Xe.prototype.dismiss_list || Oe.Sg(Xe.M()),
            We.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Xe.sm_m ||
              (Xe.sm_m = {
                proto: Xe,
                fields: { dismiss_list: { n: 1, c: $e, r: !0, q: !0 } },
              }),
            Xe.sm_m
          );
        }
        static MBF() {
          return Xe.sm_mbf || (Xe.sm_mbf = Oe.w0(Xe.M())), Xe.sm_mbf;
        }
        toObject(e = !1) {
          return Xe.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Xe.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Xe.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Xe();
          return Xe.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Xe.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Xe.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Xe.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Xe.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_CreateDismiss_Response";
        }
      }
      class Je extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Je.prototype.partnerid || Oe.Sg(Je.M()),
            We.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Je.sm_m ||
              (Je.sm_m = {
                proto: Je,
                fields: {
                  partnerid: {
                    n: 1,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  accountid: {
                    n: 2,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                  rtime_after: {
                    n: 3,
                    br: Oe.qM.readUint32,
                    bw: Oe.gp.writeUint32,
                  },
                },
              }),
            Je.sm_m
          );
        }
        static MBF() {
          return Je.sm_mbf || (Je.sm_mbf = Oe.w0(Je.M())), Je.sm_mbf;
        }
        toObject(e = !1) {
          return Je.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Je.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Je.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Je();
          return Je.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Je.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Je.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Je.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Je.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_GetDismissTimeRange_Request";
        }
      }
      class Ke extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ke.prototype.dismiss_list || Oe.Sg(Ke.M()),
            We.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ke.sm_m ||
              (Ke.sm_m = {
                proto: Ke,
                fields: { dismiss_list: { n: 1, c: $e, r: !0, q: !0 } },
              }),
            Ke.sm_m
          );
        }
        static MBF() {
          return Ke.sm_mbf || (Ke.sm_mbf = Oe.w0(Ke.M())), Ke.sm_mbf;
        }
        toObject(e = !1) {
          return Ke.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Ke.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Ke.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Ke();
          return Ke.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Ke.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Ke.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Ke.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Ke.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_GetDismissTimeRange_Response";
        }
      }
      class Ye extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            Ye.prototype.dismiss_id || Oe.Sg(Ye.M()),
            We.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            Ye.sm_m ||
              (Ye.sm_m = {
                proto: Ye,
                fields: {
                  dismiss_id: {
                    n: 7,
                    br: Oe.qM.readFixed64String,
                    bw: Oe.gp.writeFixed64String,
                  },
                },
              }),
            Ye.sm_m
          );
        }
        static MBF() {
          return Ye.sm_mbf || (Ye.sm_mbf = Oe.w0(Ye.M())), Ye.sm_mbf;
        }
        toObject(e = !1) {
          return Ye.toObject(e, this);
        }
        static toObject(e, t) {
          return Oe.BT(Ye.M(), e, t);
        }
        static fromObject(e) {
          return Oe.Uq(Ye.M(), e);
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Ye();
          return Ye.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return Oe.zj(Ye.MBF(), e, t);
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Ye.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          Oe.i0(Ye.M(), e, t);
        }
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Ye.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_DeleteDismiss_Request";
        }
      }
      class Ze extends We {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), We.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return Ze.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new Ze();
        }
        static deserializeBinary(e) {
          let t = new Ge.BinaryReader(e),
            a = new Ze();
          return Ze.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new Ge.BinaryWriter();
          return Ze.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new Ge.BinaryWriter();
          return Ze.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerDismiss_DeleteDismiss_Response";
        }
      }
      var et, tt;
      !(function (e) {
        e.GetDeadlinesForPartner = function (e, t) {
          return e.SendMsg(
            "PartnerDeadline.GetDeadlinesForPartner#1",
            (0, ze.I8)(qe, t),
            He,
            { bConstMethod: !0, ePrivilege: 8 },
          );
        };
      })(et || (et = {})),
        (function (e) {
          (e.CreateDismiss = function (e, t) {
            return e.SendMsg(
              "PartnerDismiss.CreateDismiss#1",
              (0, ze.I8)(Qe, t),
              Xe,
              { ePrivilege: 1 },
            );
          }),
            (e.GetDismissTimeRange = function (e, t) {
              return e.SendMsg(
                "PartnerDismiss.GetDismissTimeRange#1",
                (0, ze.I8)(Je, t),
                Ke,
                { bConstMethod: !0, ePrivilege: 1 },
              );
            }),
            (e.DeleteDismiss = function (e, t) {
              return e.SendMsg(
                "PartnerDismiss.DeleteDismiss#1",
                (0, ze.I8)(Ye, t),
                Ze,
                { ePrivilege: 1 },
              );
            });
        })(tt || (tt = {}));
      var at = a(14408),
        nt = a(81393);
      class st {
        m_accountId;
        m_partnerId;
        m_serviceTransport;
        m_eventsChanged = new F.lu();
        m_rgDismisses = new Map();
        m_setDismisses = new Set();
        static s_Singleton;
        static Get() {
          return (
            st.s_Singleton ||
              ((st.s_Singleton = new st()),
              "dev" == s.TS.WEB_UNIVERSE &&
                (window.g_PartnerDismissStore = st.s_Singleton)),
            st.s_Singleton
          );
        }
        async Init(e, t) {
          (this.m_accountId = e),
            (this.m_partnerId = t),
            (this.m_serviceTransport = at.z
              .Get()
              .GetPromotionTransport()
              .GetServiceTransport());
          const a = ze.w.Init(Je);
          a.Body().set_accountid(this.m_accountId),
            a.Body().set_partnerid(this.m_partnerId),
            a
              .Body()
              .set_rtime_after(
                Math.floor(new Date().getTime() / 1e3 - 14 * M.Kp.PerDay),
              );
          const n = await tt.GetDismissTimeRange(this.m_serviceTransport, a);
          if (n.BSuccess()) {
            for (const e of n.Body().dismiss_list())
              if (1 == e.state()) {
                const t = this.m_rgDismisses.get(e.key_json()) ?? [];
                t.push(e.dismiss_id()), this.m_rgDismisses.set(e.key_json(), t);
              }
            this.DismissesUpdated();
          }
        }
        DismissesUpdated() {
          (this.m_setDismisses = new Set(
            Array.from(this.m_rgDismisses).map(([e, t]) => e),
          )),
            this.m_eventsChanged.Dispatch();
        }
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetDismissedEvents() {
          return (
            (0, nt.w)(this.m_serviceTransport, "Must call Init first"),
            this.m_setDismisses
          );
        }
        GetDismissState(e) {
          return this.m_rgDismisses.get(e)?.length > 0;
        }
        async SetDismiss(e, t) {
          (0, nt.w)(this.m_serviceTransport, "Must call Init first");
          const a = this.m_rgDismisses.get(e) ?? [];
          a.push(null), this.m_rgDismisses.set(e, a), this.DismissesUpdated();
          const n = ze.w.Init(Qe),
            s = new $e();
          s.set_accountid(this.m_accountId),
            s.set_partnerid(this.m_partnerId),
            s.set_key_json(e),
            s.set_state(1),
            s.set_rtime_create(Math.floor(new Date().getTime() / 1e3)),
            s.set_rtime_validity(Math.floor(t.getTime() / 1e3)),
            n.Body().add_dismiss_list(s);
          const r = await tt.CreateDismiss(this.m_serviceTransport, n);
          if (r.BSuccess() && r.Body().dismiss_list().length > 0) {
            const t = (this.m_rgDismisses.get(e) ?? []).filter(
              (e) => null !== e,
            );
            t.push(r.Body().dismiss_list()[0].dismiss_id()),
              this.m_rgDismisses.set(e, t);
          }
        }
        async ClearDismiss(e) {
          (0, nt.w)(this.m_serviceTransport, "Must call Init first");
          const t = this.m_rgDismisses.get(e);
          if ((this.m_rgDismisses.delete(e), this.DismissesUpdated(), t))
            for (const e of t) {
              const t = ze.w.Init(Ye);
              t.Body().set_dismiss_id(e),
                await tt.DeleteDismiss(this.m_serviceTransport, t);
            }
        }
      }
      const rt = n.createContext({
        bShowWarnings: !1,
        bExpanded: !1,
        additionalEventStore: void 0,
        setManageDiscountsAppIDs: void 0,
      });
      function it() {
        return n.useContext(rt);
      }
      function lt() {
        return n.useContext(rt).additionalEventStore;
      }
      function ot(e) {
        const { partnerId: t, showWarnings: a, testData: r } = e,
          l = n.useMemo(
            () => (0, Ne.Tc)("sEventIds", "application_config")?.split(","),
            [],
          ),
          o = n.useMemo(
            () =>
              new Set(
                Object.values(
                  (0, Ne.Tc)("rgManageDiscountsAppIDs", "application_config"),
                )?.map((e) => Number(e)) ?? [],
              ),
            [],
          ),
          [m, d] = n.useState(""),
          [_, u] = n.useState(0),
          g = n.useCallback(() => {
            u(0), d("");
          }, []),
          v = n.useMemo(() => new Me(), []),
          E = n.useMemo(() => {
            const e = new Date();
            e.setHours(0, 0, 0, 0);
            const t = (t) => {
                const a = new Date();
                return a.setDate(e.getDate() + t), a;
              },
              a = [
                {
                  title: "Team Fortress 2",
                  startDate: t(-1),
                  eventType: "release-game",
                },
                { title: "Dota 2", startDate: t(0), eventType: "event" },
                {
                  title: "Weekend Deal - Portal 2",
                  startDate: t(0),
                  eventType: "deadline",
                },
                {
                  title: "Half Life 2 - Episode One",
                  startDate: t(0),
                  eventType: "release-dlc",
                },
                {
                  title: "Capitalism and Economy Fest",
                  startDate: t(1),
                  eventType: "deadline",
                },
                {
                  title: "Dota Underlords",
                  startDate: t(9),
                  eventType: "release-game",
                },
                {
                  title: "Counter Strike 2",
                  startDate: t(36),
                  eventType: "event",
                },
                {
                  title: "Steam Next Fest June Edition",
                  startDate: t(36),
                  eventType: "event",
                },
                { title: "The Lab", startDate: t(36), eventType: "event" },
              ].map((e) => ({
                ...e,
                id: "fake_" + e.title,
                endDate: e.startDate,
                eventTypeName: se(e.eventType),
                getElement: () => n.createElement("div", null, e.title),
              }));
            let s = 40;
            for (let e = 0; e < 50; e++) {
              let r;
              switch (Math.floor(4 * Math.random())) {
                case 0:
                  r = "deadline";
                  break;
                case 1:
                  r = "deadline-urgent";
                  break;
                case 2:
                  r = "release-game";
                  break;
                case 3:
                  r = "release-dlc";
                  break;
                case 4:
                  r = "event";
              }
              s += 3 * Math.random();
              const i = {
                title: "Generated event" + e,
                startDate: t(s),
                endDate: t(s),
                eventType: r,
                id: "fake_" + e.toString(),
                eventTypeName: se(r),
                getElement: () =>
                  n.createElement("div", null, "Generated event" + e),
                registerForChange: void 0,
                dimmed: Math.random() > 0.9,
              };
              a.push(i);
            }
            return a;
          }, []),
          D = W(t),
          y = n.useMemo(() => {
            const e = (0, s.Tc)("rgUpcomingReleaseApps", "application_config"),
              t = e?.map((e) => {
                const t = new Date(1e3 * e.releaserequest.release_date),
                  a = "DLC" == e.type,
                  s = a ? "release-dlc" : "release-game";
                return {
                  title: e.name,
                  startDate: t,
                  endDate: t,
                  eventType: s,
                  id: e.appid.toString(),
                  eventTypeName: a
                    ? (0, i.we)(
                        "#Dashboard_UpcomingEvents_EventType_Release_DLC",
                      )
                    : (0, i.we)("#Dashboard_UpcomingEvents_EventType_Release"),
                  eventTypeSortWeight: a ? 10 : 0,
                  getElement: () => n.createElement(h, { app: e }),
                  passesFilter: (e) => 2 == e,
                  registerForChange: void 0,
                };
              });
            return t ?? [];
          }, []),
          f = de(),
          T = (function (e) {
            const t = n.useMemo(
              () => (0, s.Tc)("rgDailyDeals", "application_config") ?? [],
              [],
            );
            return n.useMemo(
              () =>
                t.flatMap((t) =>
                  t.cancelled
                    ? []
                    : {
                        title: t.store_item_name,
                        startDate: new Date(1e3 * t.rtime32_start_time),
                        endDate: new Date(1e3 * t.rtime32_start_time),
                        eventType: "event",
                        id: t.gid,
                        eventTypeName: (0, i.we)(
                          "#Dashboard_UpcomingEvents_EventType_DailyDeal",
                        ),
                        getElement: () =>
                          n.createElement(Ue, { partnerId: e, deal: t }),
                        passesFilter: (e) => 1 == e,
                        editURL: `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                      },
                ) ?? [],
              [e, t],
            );
          })(t),
          w = n.useMemo(() => {
            const e = xe.c.Get().GetActiveEvents(),
              t = xe.c.Get().GetUpcomingEvents(),
              a = xe.c.Get().GetDraftEvents(),
              s = (e, t) => ({
                title: e.strEventName,
                startDate: new Date(1e3 * e.rtStartTime),
                endDate: new Date(1e3 * e.rtEndTime),
                eventType: "event",
                id: e.clanEventGID,
                eventTypeName: t,
                getElement: () => n.createElement(ke, { saleEvent: e }),
                passesFilter: (e) => 1 == e,
                registerForChange: void 0,
              });
            return [
              ...e.map((e) =>
                s(
                  e,
                  (0, i.we)("#Dashboard_UpcomingEvents_PartnerEvents_Active"),
                ),
              ),
              ...t.map((e) =>
                s(
                  e,
                  (0, i.we)("#Dashboard_UpcomingEvents_PartnerEvents_Upcoming"),
                ),
              ),
              ...a.map((e) =>
                s(
                  e,
                  (0, i.we)("#Dashboard_UpcomingEvents_PartnerEvents_Draft"),
                ),
              ),
            ];
          }, []),
          I = (function (e) {
            const [t, a] = n.useState([]),
              [s, r] = n.useState(0);
            return (
              (0, b.hL)(e.EventsChanged(), () => {
                a(e.GetAdditionalEvents()), r((e) => e + 1);
              }),
              t
            );
          })(v),
          N = (function (e) {
            const [t, a] = n.useState(new Set()),
              [s, r] = n.useState(0);
            return (
              (0, b.hL)(e.EventsChanged(), () => {
                a(e.GetHiddenIds()), r((e) => e + 1);
              }),
              t
            );
          })(v),
          R = (function () {
            const [e, t] = n.useState(st.Get().GetDismissedEvents()),
              [a, s] = n.useState(0);
            return (
              (0, b.hL)(st.Get().EventsChanged(), () => {
                t(st.Get().GetDismissedEvents()), s((e) => e + 1);
              }),
              e
            );
          })(),
          S = n.useMemo(
            () =>
              D.concat(y, f, T, w, I, r ? E : []).filter((e) =>
                (function (e, t, a, n, s, r) {
                  return (
                    !(e.valveOnly && !r) &&
                    !(t?.length > 0 && !t.includes(e.id)) &&
                    !a.has(e.id) &&
                    !(e.dimmed && new Date() >= e.startDate) &&
                    (3 == s) == n.has(ct(e))
                  );
                })(e, l, N, R, _, a),
              ),
            [y, f, T, w, I, r, E, N, R, l, D, _, a],
          ),
          B = n.useMemo(
            () =>
              S.filter((e) =>
                (function (e, t, a) {
                  if (
                    t &&
                    t.trim().length > 0 &&
                    ((t = t.trim()),
                    !e.title
                      .toLocaleLowerCase()
                      .includes(t.toLocaleLowerCase()) &&
                      !e.eventTypeName
                        .toLocaleLowerCase()
                        .includes(t.toLocaleLowerCase()))
                  )
                    return !1;
                  if (
                    !(0 == a || 3 == a || (e.passesFilter && e.passesFilter(a)))
                  )
                    return !1;
                  return !0;
                })(e, m, _),
              ),
            [S, m, _],
          ),
          A =
            ((C = S),
            (U = B),
            n.useMemo(() => {
              const e = new Set(U.map((e) => e.id));
              return new Set(C.filter((t) => e.has(t.id)).map((e) => e.id));
            }, [C, U]));
        var C, U;
        const F = 0 != _ || (m && m.trim().length > 0),
          M = n.useMemo(() => new Map(), []),
          [x, P] = n.useState(!1),
          k = n.useCallback((e) => {
            P(e), !e && L.current.scrollIntoView();
          }, []),
          L = n.useRef(),
          G = (function (e, t) {
            const a = n.useRef(),
              s = n.useCallback(
                (n) => {
                  e ? n.scrollIntoView() : (t(!0), (a.current = n));
                },
                [e, t],
              );
            return (
              n.useEffect(() => {
                e &&
                  a.current &&
                  (a.current.scrollIntoView(), (a.current = void 0));
              }, [e]),
              s
            );
          })(x, P),
          O = n.useCallback(
            (e) => {
              if (le(e).getTime() == le(new Date()).getTime())
                return void L.current.scrollIntoView();
              const t = M?.get(le(e).getTime());
              t && G(t.element);
            },
            [M, G],
          ),
          [z, j] = n.useState();
        n.useEffect(() => j(void 0), [S]);
        const q = n.useMemo(
            () =>
              n.createElement(
                "div",
                { className: p.FilterHeader },
                n.createElement(dt, { filterType: _, setFilterType: u }),
                n.createElement(mt, { filterText: m, setFilterText: d }),
              ),
            [m, _],
          ),
          H = n.useMemo(
            () => ({
              bShowWarnings: a,
              bExpanded: x,
              additionalEventStore: v,
              setManageDiscountsAppIDs: o,
            }),
            [a, x, v, o],
          );
        return (
          (D?.length > 0 || y?.length > 0 || f?.length > 0) &&
          n.createElement(
            rt.Provider,
            { value: H },
            n.createElement(
              c,
              {
                title: (0, i.we)("#Dashboard_UpcomingEvents_Title"),
                ref: L,
                beta: !0,
                headerElement: q,
              },
              n.createElement(
                "div",
                { className: p.SectionContainer },
                n.createElement(
                  "div",
                  { className: p.ListArea },
                  n.createElement(pt, {
                    events: B,
                    filterVisibleEventIds: A,
                    dayRefsToScrollTo: M,
                    fnScrollToDay: O,
                    refSection: L,
                    isExpanded: x,
                    fnSetExpanded: k,
                    filterEnabled: F,
                    filterType: _,
                    clearAllFilters: g,
                    hoverEvent: z,
                    setHoverEvent: j,
                  }),
                ),
              ),
            ),
          )
        );
      }
      function ct(e) {
        return JSON.stringify({ usage: "dashboard", eventId: e.id });
      }
      function mt(e) {
        const { filterText: t, setFilterText: a } = e;
        return n.createElement(
          "div",
          { className: p.FilterTextArea },
          n.createElement("input", {
            className: p.FilterTextInput,
            type: "text",
            value: t,
            onChange: (e) => a(e.target.value),
            placeholder: (0, i.we)(
              "#Dashboard_UpcomingEvents_Events_FilterEmpty",
            ),
          }),
          n.createElement(
            "button",
            { className: p.FilterTextClearButton, onClick: () => a("") },
            "✖",
          ),
          n.createElement("span", { className: p.FilterTextIcon }, "🔍"),
        );
      }
      function dt(e) {
        const { filterType: t, setFilterType: a } = e,
          s = n.useMemo(
            () => [
              {
                type: 0,
                text: (0, i.we)("#Dashboard_UpcomingEvents_Filter_All"),
              },
              {
                type: 1,
                text: (0, i.we)("#Dashboard_UpcomingEvents_Filter_Events"),
              },
              {
                type: 2,
                text: (0, i.we)("#Dashboard_UpcomingEvents_Filter_Releases"),
              },
              {
                type: 3,
                text: (0, i.we)("#Dashboard_UpcomingEvents_Filter_Dismissed"),
              },
            ],
            [],
          );
        return n.createElement(
          "div",
          { className: p.FilterOptionsContainer },
          s.map((e) =>
            n.createElement(
              "div",
              {
                key: e.type,
                className: (0, u.A)(
                  p.FilterOption,
                  t == e.type && p.Highlighted,
                ),
                onClick: () => a(e.type),
              },
              e.text,
            ),
          ),
        );
      }
      function pt(e) {
        const {
            events: t,
            filterVisibleEventIds: a,
            dayRefsToScrollTo: s,
            fnScrollToDay: r,
            filterEnabled: l,
            filterType: o,
            clearAllFilters: c,
            isExpanded: m,
            fnSetExpanded: d,
            hoverEvent: _,
            setHoverEvent: g,
          } = e,
          v = (e, t) =>
            Array.from(
              (function (e) {
                const t = Math.min(...e.keys()),
                  a = Math.max(...e.keys());
                let n = new Date(t);
                n.setMonth(n.getMonth() + 1);
                for (; n.getTime() < a; )
                  e.has(n.getTime()) || e.set(n.getTime(), []),
                    (n = new Date(n)),
                    n.setMonth(n.getMonth() + 1);
                return e;
              })(
                me(
                  e.filter((e) => t(e.endDate)),
                  oe,
                ),
              ),
            ).sort(Dt),
          E = n.useMemo(() => new Date(), []),
          D = n.useMemo(() => v(t, (e) => e < E), [t, E]),
          h = n.useMemo(() => v(t, (e) => e >= E), [t, E]),
          [y, f] = n.useState(!1),
          T = n.useRef();
        n.useLayoutEffect(() => {
          const e = () => {
            if (T.current) {
              const e = T.current.scrollHeight > T.current.offsetHeight;
              f(e);
            }
          };
          return (
            e(),
            window.addEventListener("resize", e),
            () => window.removeEventListener("resize", e)
          );
        });
        const w = (e, t, i) =>
          e.map(([e, l], o) =>
            n.createElement(_t, {
              key: `${t ? t + "_" : ""}${e}`,
              date: new Date(e),
              events: l,
              filterVisibleEventIds: a,
              dayRefsToScrollTo: s,
              fnScrollToDay: r,
              firstMonth: 0 == o,
              lastMonth: o == h.length - 1,
              hoverEvent: _,
              setHoverEvent: g,
              showHeader: i,
            }),
          );
        return n.createElement(
          "div",
          { className: p.ListContainer },
          n.createElement(
            "div",
            {
              className: (0, u.A)(p.List, m && p.Expanded, y && p.Overflows),
              ref: T,
            },
            w(D, "recap", !1),
            w(h, void 0, !0),
            l &&
              0 == t.length &&
              n.createElement(
                "div",
                { className: p.AllEventsFiltered },
                (0, i.PP)(
                  3 != o
                    ? "#Dashboard_UpcomingEvents_Filter_NoEvents"
                    : "#Dashboard_UpcomingEvents_Filter_DismissedNoEvents",
                  n.createElement(
                    "a",
                    { onClick: () => c() },
                    (0, i.we)(
                      "#Dashboard_UpcomingEvents_Filter_NoEvents_LinkText",
                    ),
                  ),
                ),
              ),
          ),
          y &&
            !m &&
            t.length > 0 &&
            n.createElement(
              "button",
              { className: p.ExpandButton, onClick: () => d(!0) },
              (0, i.we)("#Dashboard_UpcomingEvents_ShowMore"),
            ),
          m &&
            t.length > 0 &&
            n.createElement(
              "button",
              { className: p.ExpandButton, onClick: () => d(!1) },
              (0, i.we)("#Dashboard_UpcomingEvents_ShowLess"),
            ),
        );
      }
      function _t(e) {
        const {
            date: t,
            events: a,
            showHeader: s,
            filterVisibleEventIds: r,
            dayRefsToScrollTo: l,
            fnScrollToDay: o,
            firstMonth: c,
            lastMonth: m,
            hoverEvent: d,
            setHoverEvent: _,
          } = e,
          g = n.useMemo(
            () =>
              new Date().getFullYear() == t.getFullYear()
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "long",
                  }).format(t)
                : new Intl.DateTimeFormat(navigator.language, {
                    year: "numeric",
                    month: "long",
                  }).format(t),
            [t],
          ),
          v = n.useMemo(() => Array.from(me(a, le)).sort(Dt), [a]),
          E = n.useRef(),
          D = n.useMemo(
            () =>
              v.reduce(
                (e, [t]) =>
                  e.set(t, (e) => l.set(t, { element: e, header: E.current })),
                new Map(),
              ),
            [v, l],
          ),
          h = n.useMemo(
            () =>
              v.map(([e, t]) =>
                n.createElement(gt, {
                  key: e,
                  events: t,
                  showDateInHeader: s,
                  refScrollTo: D.get(e),
                  setHoverEvent: _,
                }),
              ),
            [v, D, _, s],
          ),
          y = n.useMemo(() => a.map((e) => [e, ut(e)]), [a]),
          f = n.useMemo(
            () => y.reduce((e, t) => e.set(t[1], t[0]), new Map()),
            [y],
          ),
          T = n.useMemo(() => y.map((e) => e[1]), [y]),
          w = n.useCallback((e, t) => ht(f.get(e), f.get(t)), [f]),
          b = n.useCallback(
            (e, t) =>
              (function (e, t) {
                const a = (e) => {
                  switch (e) {
                    case "deadline":
                      return 4;
                    case "deadline-urgent":
                      return 3;
                    case "release-game":
                      return 0;
                    case "release-dlc":
                      return 1;
                    case "event":
                      return 2;
                  }
                };
                return a(e.eventType) < a(t.eventType)
                  ? -1
                  : a(e.eventType) > a(t.eventType)
                    ? 1
                    : e.id < t.id
                      ? -1
                      : e.id > t.id
                        ? 1
                        : 0;
              })(f.get(e), f.get(t)),
            [f],
          );
        return n.createElement(
          "div",
          { className: p.ListMonthContainer },
          a.length > 0 &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: (0, u.A)(p.ListMonthCalendar, !s && p.Hidden) },
                n.createElement(fe, { viewDate: t }),
                n.createElement(Ie, null),
                n.createElement(Te, {
                  viewDate: t,
                  events: T,
                  filterVisibleEventIds: r,
                  fnScrollToDay: o,
                  hoverEvent: ut(d),
                  bShowPreceedingWeeks: c,
                  bShowFollowingWeeks: m,
                  compareEvents: w,
                  colorPriority: b,
                }),
              ),
              n.createElement("div", { className: p.ListMonth }, h),
            ),
          0 == a.length &&
            n.createElement(
              "div",
              { className: p.EmptyMonth },
              (0, i.we)("#Dashboard_UpcomingEvents_NoEventsInMonth", g),
            ),
        );
      }
      function ut(e) {
        if (!e) return;
        let t,
          a = !1;
        switch (e.eventType) {
          case "deadline":
            (t = "#cf980c"), (a = !0);
            break;
          case "deadline-urgent":
            (t = "#cf520c"), (a = !0);
            break;
          case "release-game":
            t = "#426283";
            break;
          case "release-dlc":
            t = "#a655b2";
            break;
          case "event":
            t = "#657f2d";
        }
        return { ...e, note: a, color: t };
      }
      function gt(e) {
        const {
            events: t,
            showDateInHeader: a,
            refScrollTo: s,
            setHoverEvent: r,
          } = e,
          i = n.useMemo(() => {
            const e = t.reduce((e, t) => {
              const a = `${t.eventType}_${t.eventTypeName}`,
                n = e.get(a) || [];
              return e.set(a, [...n, t]), e;
            }, new Map());
            for (const t of e.values()) t.sort(ht);
            return Array.from(e).sort(([e, t], [a, n]) =>
              (t[0].eventTypeSortWeight ?? 0) != (n[0].eventTypeSortWeight ?? 0)
                ? (t[0].eventTypeSortWeight ?? 0) -
                  (n[0].eventTypeSortWeight ?? 0)
                : e.localeCompare(a),
            );
          }, [t]),
          l = n.useMemo(
            () =>
              i.map(([e, t]) =>
                n.createElement(vt, {
                  key: e,
                  events: t,
                  showDateInHeader: a,
                  refScrollTo: s,
                  setHoverEvent: r,
                }),
              ),
            [i, s, r, a],
          );
        return n.createElement("div", { ref: s, className: p.ListDay }, l);
      }
      function vt(e) {
        const {
            events: t,
            showDateInHeader: a,
            refScrollTo: s,
            setHoverEvent: r,
          } = e,
          i = n.useMemo(
            () =>
              t.map((e, t) =>
                n.createElement(Et, {
                  key: e.id,
                  event: e,
                  setHoverEvent: r,
                  showHeader: 0 == t,
                  showDateInHeader: a,
                }),
              ),
            [t, r, a],
          );
        return n.createElement("div", { ref: s, className: p.ListDayGroup }, i);
      }
      function Et(e) {
        const {
            event: t,
            showHeader: a,
            showDateInHeader: s,
            setHoverEvent: r,
          } = e,
          l = it();
        !(function (e) {
          const t = (0, b.CH)();
          n.useEffect(() => {
            const a = e.registerForChange?.(() => t());
            return () => a?.Unregister();
          }, [e, t]);
        })(t);
        const o = "deadline" == t.eventType,
          c = "deadline-urgent" == t.eventType,
          m = "release-game" == t.eventType,
          d = "release-dlc" == t.eventType,
          g = "event" == t.eventType,
          v = n.useMemo(() => new Date(), []),
          E = v >= t.startDate && v <= t.endDate,
          D = v > t.endDate,
          h = (0, u.A)(
            p.ListDayNumber,
            o && p.Deadline,
            c && p.DeadlineUrgent,
            m && p.GameRelease,
            d && p.DLCRelease,
            g && p.Event,
          ),
          y = (0, u.A)(
            p.ListEventType,
            o && p.Deadline,
            c && p.DeadlineUrgent,
            m && p.GameRelease,
            d && p.DLCRelease,
            g && p.Event,
          ),
          f = t.getElement(),
          T = ct(t),
          w = st.Get().GetDismissState(T),
          I = n.useCallback(
            (e) =>
              e ? st.Get().SetDismiss(T, t.endDate) : st.Get().ClearDismiss(T),
            [t.endDate, T],
          );
        return (
          f &&
          n.createElement(
            "div",
            {
              className: (0, u.A)(p.ListEvent, t.dimmed && p.Dimmed),
              onPointerEnter: () => r(t),
              onPointerLeave: () => r(void 0),
            },
            a &&
              n.createElement(
                "div",
                { className: p.ListEventHeader },
                s &&
                  n.createElement(
                    "div",
                    { className: h },
                    s ? t.startDate.getDate() : "",
                  ),
                n.createElement(
                  "div",
                  { className: y },
                  n.createElement(
                    "span",
                    { className: (0, u.A)(!s && p.NoDate) },
                    t.eventTypeName,
                  ),
                  t.valveOnly &&
                    n.createElement("span", { className: p.ValveOnly }, "(VO)"),
                  n.createElement("span", { className: p.Spacer }),
                  l.bShowWarnings &&
                    t.editURL &&
                    n.createElement(
                      "span",
                      { className: p.Edit },
                      n.createElement(
                        "a",
                        { href: t.editURL, target: "_blank" },
                        "edit",
                      ),
                      " (VO)",
                    ),
                  !w &&
                    n.createElement(
                      "span",
                      {
                        className: p.Dismiss,
                        onClick: () => I(!0),
                        "data-tooltip-text": (0, i.we)(
                          "#Dashboard_UpcomingEvents_Dismiss_ttip",
                        ),
                      },
                      (0, i.we)("#Dashboard_UpcomingEvents_Dismiss"),
                    ),
                  w &&
                    n.createElement(
                      "span",
                      { className: p.Dismiss, onClick: () => I(!1) },
                      (0, i.we)("#Dashboard_UpcomingEvents_Undismiss"),
                    ),
                ),
              ),
            n.createElement(
              "div",
              {
                className: (0, u.A)(
                  p.ListEventEventSection,
                  _.ListEventEventSection,
                ),
              },
              n.createElement(
                "div",
                { className: p.ListEventEventGutter },
                E &&
                  n.createElement(
                    "div",
                    { className: (0, u.A)(p.ListEventEventTimeFlag, p.Live) },
                    n.createElement(
                      "div",
                      { className: p.ListEventEventLiveText },
                      (0, i.we)("#Dashboard_UpcomingEvents_EventIsActive"),
                    ),
                  ),
                D &&
                  n.createElement(
                    "div",
                    { className: (0, u.A)(p.ListEventEventTimeFlag, p.Past) },
                    n.createElement(
                      "div",
                      { className: p.ListEventEventPastText },
                      (0, i.we)("#Dashboard_UpcomingEvents_EventIsPast"),
                    ),
                  ),
              ),
              n.createElement(
                "div",
                { className: p.ListEventEventElement },
                n.createElement(Le.tH, null, f),
              ),
            ),
          )
        );
      }
      function Dt(e, t) {
        return e[0] - t[0];
      }
      function ht(e, t) {
        return e.startDate.getTime() < t.startDate.getTime()
          ? -1
          : e.startDate.getTime() > t.startDate.getTime()
            ? 1
            : e.eventType < t.eventType
              ? -1
              : e.eventType > t.eventType
                ? 1
                : e?.id < t?.id
                  ? -1
                  : e?.id > t?.id
                    ? 1
                    : 0;
      }
      var yt = a(11577),
        ft = a(28325),
        Tt = a(31380),
        wt = a(78205),
        bt = a(15161);
      function It(e) {
        return "appid" in e
          ? `app_${e.appid}`
          : "packageid" in e
            ? `package_${e.packageid}`
            : "bundleid" in e
              ? `bundle_${e.bundleid}`
              : "tagid" in e
                ? `tag_${e.tagid}`
                : "creatorid" in e
                  ? `creator_${e.creatorid}`
                  : "hubcategoryid" in e
                    ? `hubcategory_${e.hubcategoryid}`
                    : ((0, nt.z)(e, "Unknown store item id type"), "");
      }
      const Nt = /^(app|package|bundle|mtx|tag|creator|hubcategory)_(\d*)$/;
      function Rt(e) {
        const t = e.match(Nt);
        if (t)
          switch (t[1]) {
            case "app":
              return { item_type: 0, id: parseInt(t[2]) };
            case "package":
              return { item_type: 1, id: parseInt(t[2]) };
            case "bundle":
              return { item_type: 2, id: parseInt(t[2]) };
            case "tag":
              return { item_type: 4, id: parseInt(t[2]) };
            case "creator":
              return { item_type: 5, id: parseInt(t[2]) };
            case "hubcategory":
              return { item_type: 6, id: parseInt(t[2]) };
          }
        return { item_type: -1, id: t ? parseInt(t[2]) : 0 };
      }
      var St = a(58632),
        Bt = a.n(St),
        At = a(2160);
      a(94601);
      function Ct(e, t) {
        t.Body().set_context(
          (function (e) {
            let t = new bt.TS();
            e.bUsePartnerAPI || t.set_country_code(e.country);
            t.set_language(e.language),
              e.realm != At.TU.k_ESteamRealmUnknown &&
                t.set_steam_realm(e.realm);
            return t;
          })(e),
        );
      }
      function Ut(e, t, a) {
        return new (Bt())(async (a) => {
          const n = new Set(),
            s = {};
          if (
            (a.forEach((e) => {
              const [t, a] = ((r = "|"), e.split(r));
              var r;
              n.add(t),
                "top_tags" == a ? (s.include_tag_count = 10) : a && (s[a] = !0);
            }),
            s.include_included_items)
          ) {
            const { include_included_items: e, ...t } = s;
            s.included_item_data_request = t;
          }
          const r = ze.w.Init(bt.eE);
          Ct(t, r),
            (function (e, t) {
              e.Body().set_data_request(bt.gn.fromObject(t));
            })(r, s),
            n.forEach((e) => {
              const t = (function (e) {
                const t = e.match(Nt);
                if (t)
                  switch (t[1]) {
                    case "app":
                      return { appid: parseInt(t[2]) };
                    case "package":
                      return { packageid: parseInt(t[2]) };
                    case "bundle":
                      return { bundleid: parseInt(t[2]) };
                    case "tag":
                      return { tagid: parseInt(t[2]) };
                    case "creator":
                      return { creatorid: parseInt(t[2]) };
                    case "hubcategory":
                      return { hubcategoryid: parseInt(t[2]) };
                  }
                (0, nt.w)(!1, `Failed to parse StoreItemID ${e}`);
              })(e);
              t && r.Body().add_ids(bt.O4.fromObject(t));
            });
          const i = await bt.$4.GetItems(e, r),
            l = new Map();
          return (
            i
              .Body()
              .store_items()
              .forEach((e) => {
                l.set(
                  (function (e, t) {
                    switch (e) {
                      case 0:
                        return `app_${t}`;
                      case 1:
                        return `package_${t}`;
                      case 2:
                        return `bundle_${t}`;
                      case 4:
                        return `tag_${t}`;
                      case 5:
                        return `creator_${t}`;
                      case 6:
                        return `hubcategory_${t}`;
                      case 3:
                      case -1:
                        return "";
                      default:
                        return (
                          (0, nt.z)(
                            e,
                            `Unknown EStoreItemType ${e} ${(0, bt.md)(e)} `,
                          ),
                          ""
                        );
                    }
                  })(e.item_type(), e.id()),
                  e.toObject(),
                );
              }),
            a.map((e) => {
              const t = e.split("|")[0],
                a = l.get(t);
              return a || { ...Rt(t), success: 2 };
            })
          );
        }, a);
      }
      var Ft = a(30470);
      function Mt(e, t) {
        return ["StoreItem", It(e), t || "basic"];
      }
      let xt;
      async function Pt(e, t, a, n) {
        xt ||
          (xt = Ut(
            e,
            {
              country: Ft.TS.COUNTRY,
              language: Ft.TS.LANGUAGE,
              realm: Ft.TS.EREALM,
            },
            { cache: !1 },
          ));
        const s = await xt.load(`${It(t)}|${n || ""}`);
        return a && a.setQueryData(Mt(t), s), s;
      }
      function kt(e) {
        const t = n.useMemo(
            () =>
              (function () {
                const e = (0, s.Tc)("rgRecentApps", "application_config"),
                  t = e ? Object.keys(e).map((t) => e[t]) : [],
                  a = (0, s.Tc)("rgRecentUnreleasedApps", "application_config"),
                  n = a ? Object.keys(a).map((e) => a[e]) : [],
                  r = (0, D.Gx)(t, n);
                return r.sort((e, t) => e.nOrder - t.nOrder), r;
              })(),
            [],
          ),
          { bIsLoading: a, rgStoreItems: r } = (function (e, t = {}) {
            const a = (0, wt.rW)(),
              n = (0, Tt.useQueries)(
                e.map((e) => ({
                  queryKey: Mt(e),
                  queryFn: async () => await Pt(a, e),
                  staleTime: 3e5,
                  ...t,
                })),
              );
            return {
              bIsLoading: n.some((e) => e.isLoading),
              rgStoreItems: n.map((e) => {
                if (e.isSuccess) return e.data;
              }),
            };
          })(t.map((e) => ({ appid: e.appid }))),
          l = r.filter((e) => !!e).length > 0;
        return n.createElement(
          c,
          {
            title: (0, i.we)("#Dashboard_RecentApps_Title"),
            headerElement: n.createElement(Gt, null),
          },
          n.createElement(
            "div",
            { className: ft.AppTileContainer },
            !a && !l && n.createElement(Lt, null),
            t.map((e) => n.createElement(Ot, { key: e.appid, app: e })),
          ),
        );
      }
      function Lt(e) {
        const t = s.TS.PARTNER_BASE_URL + "apps/";
        return n.createElement(
          "div",
          { className: ft.NoRecentApps },
          (0, i.we)("#Dashboard_RecentApps_NoRecent"),
          " ",
          n.createElement(
            "a",
            { href: t, target: "_blank" },
            " ",
            (0, i.we)("#Dashboard_RecentApps_ViewAll"),
          ),
        );
      }
      function Gt(e) {
        const t = s.TS.PARTNER_BASE_URL + "apps/";
        return n.createElement(
          "div",
          { className: ft.ViewAppsContainer },
          n.createElement(
            "div",
            { className: ft.ViewAppsLink },
            n.createElement(
              "a",
              { href: t },
              (0, i.we)("#Dashboard_RecentApps_ViewAllShort"),
            ),
          ),
        );
      }
      function Ot(e) {
        const { app: t } = e,
          [a] = (0, v.G6)(t.appid, 0, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          r = s.TS.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          i = a?.GetAssets().GetHeaderURL();
        return n.createElement(
          "div",
          { className: ft.AppTile },
          i &&
            n.createElement(
              S.he,
              { toolTipContent: t.name },
              n.createElement(
                "div",
                { className: ft.AppTileImage },
                n.createElement(
                  "a",
                  { href: r, target: "_blank" },
                  n.createElement("img", { src: i }),
                ),
              ),
            ),
          !i &&
            n.createElement(
              "div",
              { className: ft.AppTileImagePlaceholder },
              n.createElement("a", { href: r, target: "_blank" }, t.name),
            ),
          n.createElement(
            "div",
            { className: ft.AppLabels },
            n.createElement(zt, { appType: t.type }),
            n.createElement(Wt, {
              releaseState: t.releasestate,
              hasStoreItem: !!a,
            }),
          ),
        );
      }
      function zt(e) {
        const { appType: t } = e,
          a = "Game" == t,
          s = "DLC" == t,
          r = a
            ? (0, i.we)("#Dashboard_RecentApps_Game")
            : (0, i.we)("#Dashboard_RecentApps_DLC");
        return (
          (a || s) &&
          n.createElement(
            "div",
            { className: (0, u.A)(ft.AppType, s && ft.DLC) },
            r,
          )
        );
      }
      function Wt(e) {
        const { releaseState: t, hasStoreItem: a } = e,
          s = (0, D.pc)(t, a);
        return (
          "released" != t &&
          n.createElement(
            "div",
            { className: (0, u.A)(ft.AppRelease) },
            s.sText,
          )
        );
      }
      var jt = a(7517),
        qt = a(75493),
        Ht = a(20587),
        Vt = a(60746);
      function $t(e) {
        const t = (0, yt.d)(),
          a = (0, qt.V)(),
          r = (0, s.Tc)("bShowWarnings", "application_config"),
          i = (0, s.Tc)("bTestData", "application_config"),
          l = (function (e) {
            const [t, a] = n.useState(!0);
            return (
              n.useEffect(() => {
                Ht.O3.Init(), xe.c.Get();
                (async () => {
                  const t = st
                    .Get()
                    .Init(s.iA.accountid, Number.isNaN(e) ? 0 : e);
                  await Promise.all([Vt.KN.InitGlobal(), t]), a(!1);
                })();
              }, [e]),
              t
            );
          })(a);
        return !t || l
          ? null
          : n.createElement(
              n.Fragment,
              null,
              n.createElement(jt.$, { nPartnerID: a }),
              n.createElement(kt, null),
              n.createElement(m, null),
              n.createElement(ot, {
                partnerId: a,
                showWarnings: r,
                testData: i,
              }),
            );
      }
    },
    7517: (e, t, a) => {
      "use strict";
      a.d(t, { $: () => w });
      var n = a(41735),
        s = a.n(n),
        r = a(31380),
        i = a(30470);
      var l = a(90626),
        o = a(69235),
        c = a(56555),
        m = a(49953),
        d = a(55241),
        p = a(85010),
        _ = a(62059),
        u = a(36058),
        g = a(55263),
        v = a(7068),
        E = a(84811),
        D = a(32754),
        h = a(52038),
        y = a(61859),
        f = a(27429),
        T = a(19976);
      function w(e) {
        const { nPartnerID: t, nAppID: a } = e;
        return i.iA.is_support
          ? l.createElement(b, { nPartnerID: t, nAppID: a })
          : null;
      }
      function b(e) {
        const { nPartnerID: t, nAppID: a } = e,
          [n, o] = (0, l.useState)(7),
          c = (function (e, t, a) {
            const { isLoading: n, data: l } = (0, r.useQuery)({
              queryKey: ["usePartnerFinancialDailySummary", e, t, a],
              queryFn: async () => {
                const n = { partnerid: e, pastdays: t, appid: a },
                  r = `${i.TS.PARTNER_BASE_URL}financial/ajaxgetpartnersummary`,
                  l = await s().get(r, { params: n, withCredentials: !0 });
                return 1 != l?.data?.success
                  ? { daily_sales: [], summary_sales: {} }
                  : l.data.data;
              },
              enabled: !!e && t >= 1,
            });
            return n ? null : l;
          })(t, n, a);
        return c && 0 != c.daily_sales?.length
          ? l.createElement(
              "div",
              null,
              l.createElement(N, { nDaysInThePast: n, fnUpdateDaysInPast: o }),
              l.createElement(S, { stats: c }),
              l.createElement(B, { stats: c }),
            )
          : null;
      }
      const I = [
        { label: (0, y.we)("#PartnerStats_DayWeek"), data: 7 },
        { label: (0, y.we)("#PartnerStats_DayMonth"), data: 30 },
        { label: (0, y.we)("#PartnerStats_DayPeriod"), data: 90 },
      ];
      function N(e) {
        const { nDaysInThePast: t, fnUpdateDaysInPast: a } = e;
        return l.createElement(
          "div",
          { className: T.ModuleCtn },
          l.createElement(
            "div",
            { className: T.LeftAlign },
            l.createElement(
              "div",
              { className: T.ModuleTitle },
              (0, y.we)("#PartnerStats_DayLabel"),
            ),
            l.createElement(v.m, {
              layout: "inline",
              label: null,
              rgOptions: I,
              selectedOption: t,
              onChange: (e) => a(e.data),
            }),
          ),
          l.createElement(
            "div",
            { className: T.ViewDetailLink },
            l.createElement(
              "a",
              { href: "#" },
              (0, y.we)("#PartnerStats_ViewDetail"),
            ),
          ),
        );
      }
      const R = new Intl.NumberFormat("en-US", {
        style: "currency",
        currency: "USD",
        maximumFractionDigits: 0,
        minimumFractionDigits: 0,
      });
      function S(e) {
        const { stats: t } = e;
        return l.createElement(
          "div",
          { className: T.HeaderCtn },
          l.createElement(
            "div",
            { className: T.StatGroup },
            l.createElement(
              "div",
              { className: T.Header },
              (0, y.we)("#PartnerStats_Header_Revenue"),
            ),
            l.createElement(
              "div",
              { className: T.Numerals },
              (function (...e) {
                let t = 0;
                return (
                  e.forEach((e) => {
                    t += Number.parseInt(e || "0") / 1e4;
                  }),
                  R.format(t)
                );
              })(
                t.summary_sales.total_gross_sales_usdx100,
                t.summary_sales.in_game_gross_sales_usdx100,
              ),
            ),
          ),
          l.createElement(
            "div",
            { className: T.StatGroup },
            l.createElement(
              "div",
              { className: T.Header },
              (0, y.we)("#PartnerStats_Header_Units"),
            ),
            l.createElement(
              "div",
              { className: T.Numerals },
              Number.parseInt(
                t.summary_sales.total_units_activated || "0",
              ).toLocaleString(),
            ),
          ),
        );
      }
      function B(e) {
        const { stats: t } = e,
          a = "total_gross_sales_usdx100",
          [n, s, r] = (0, l.useMemo)(() => {
            if (!t || 0 == t.daily_sales?.length) return [0, 0, []];
            const e = (function (e, t) {
              const a = new Map();
              return (
                e.forEach((e) => {
                  const n = e.rtime_date,
                    s = Number.parseInt(e.daily_summary_sales[t]);
                  s &&
                    a.set(n, {
                      partner_stats_value: t.includes("usd") ? s / 1e4 : s,
                      rtime: n,
                      top_app_sales: e.top_app_sales,
                    });
                }),
                Array.from(a.values())
              );
            })(t.daily_sales, a);
            let n = 0,
              s = 0;
            return (
              e.forEach((e) => {
                e.partner_stats_value > n && (n = e.partner_stats_value),
                  (s += e.partner_stats_value);
              }),
              [n, s, e.sort((e, t) => e.rtime - t.rtime)]
            );
          }, [t, a]);
        return t && 0 != r.length
          ? l.createElement(
              "div",
              { className: T.DashStatsContainer },
              l.createElement(
                "div",
                { className: T.Chart },
                l.createElement(
                  E.tH,
                  null,
                  l.createElement(A, { Data: r, nPeak: n }),
                ),
              ),
            )
          : null;
      }
      const A = l.memo((e) => {
        const { Data: t, nPeak: a } = e,
          n = (0, l.useCallback)(
            (e, a) =>
              t.length > 20
                ? t[a]?.partner_stats_value && a % 7 == 0
                  ? (0, y.TW)(t[a].rtime, !0)
                  : ""
                : t[a]?.partner_stats_value
                  ? (0, y.TW)(t[a].rtime, !0)
                  : "",
            [t],
          );
        return l.createElement(
          o.u,
          { width: "100%", height: "100%" },
          l.createElement(
            c.X,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            l.createElement(
              "defs",
              null,
              l.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                l.createElement("stop", { stopColor: "#1A9FFF" }),
                l.createElement("stop", {
                  offset: "1",
                  stopColor: "#1A9FFF",
                  stopOpacity: "1",
                }),
              ),
            ),
            l.createElement(m.d, { vertical: !1, stroke: "#a0aab6" }),
            l.createElement(d.h, {
              tickFormatter: f.Z2,
              tick: { fill: "white" },
              axisLine: !1,
              orientation: "right",
            }),
            l.createElement(p.m, { content: l.createElement(U, null) }),
            l.createElement(_.y, {
              dataKey: "partner_stats_value",
              fill: "url( #bar_linear )",
            }),
            l.createElement(u.W, {
              interval: 0,
              tick: l.createElement(C, null),
              tickFormatter: n,
            }),
          ),
        );
      });
      function C(e) {
        const { x: t, y: a, payload: n } = e,
          s = e.tickFormatter(n.value, n.index);
        return l.createElement(
          "g",
          { transform: `translate(${t},${a})` },
          l.createElement(
            "text",
            {
              x: 0,
              y: 0,
              dy: 16,
              textAnchor: "middle",
              fill: "#FFFFFF",
              transform: "rotate(0)",
              fontSize: "11px",
            },
            s,
          ),
        );
      }
      function U({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload,
            a = e.partner_stats_value;
          let n = a;
          return (
            e.top_app_sales.forEach((e) => {
              n -=
                Number.parseInt(e.app_summary_sales.total_gross_sales_usdx100) /
                1e4;
            }),
            l.createElement(
              D.t1,
              { className: T.TooltipPartnerSummary },
              l.createElement(
                "div",
                null,
                (0, y.we)("#PartnerStats_Tooltip_Date", (0, y.TW)(e.rtime)),
              ),
              l.createElement(
                "div",
                { className: T.LineItemsCtn },
                l.createElement(
                  "div",
                  { className: T.ToolTipTable },
                  e.top_app_sales.map((e) => {
                    const t =
                      (Number.parseInt(
                        e.app_summary_sales.total_gross_sales_usdx100,
                      ) /
                        1e4 /
                        a) *
                      100;
                    return l.createElement(F, {
                      key: "app" + e.appid,
                      appid: e.appid,
                      usdRevenue:
                        Number.parseInt(
                          e.app_summary_sales.total_gross_sales_usdx100,
                        ) / 1e4,
                      nPercentage: t,
                    });
                  }),
                  Boolean(n > 2) &&
                    l.createElement(
                      "div",
                      { className: T.ToolTipTableRow },
                      l.createElement(
                        "div",
                        { className: T.ToolTipTableCell },
                        (0, y.we)("#PartnerStats_Tooltip_Remaining"),
                      ),
                      l.createElement(
                        "div",
                        { className: T.ToolTipTableCell },
                        (0, f.Z2)(n),
                      ),
                      l.createElement(
                        "div",
                        { className: T.ToolTipTableCell },
                        Math.round((n / a) * 100),
                        "%",
                      ),
                    ),
                  l.createElement(
                    "div",
                    { className: (0, h.A)(T.ToolTipTableRow, T.TotalRow) },
                    l.createElement(
                      "div",
                      { className: T.ToolTipTableCell },
                      (0, y.we)("#PartnerStats_Tooltip_Total"),
                    ),
                    l.createElement(
                      "div",
                      { className: T.ToolTipTableCell },
                      (0, f.Z2)(a),
                    ),
                    l.createElement("div", { className: T.ToolTipTableCell }),
                  ),
                ),
              ),
            )
          );
        }
        return null;
      }
      function F(e) {
        const { appid: t, usdRevenue: a, nPercentage: n } = e,
          [s] = (0, g.t7)(t, {});
        return l.createElement(
          "div",
          { className: T.ToolTipTableRow },
          l.createElement(
            "div",
            { className: T.ToolTipTableCell },
            s?.GetName() || t,
          ),
          l.createElement(
            "div",
            { className: T.ToolTipTableCell },
            (0, f.Z2)(a),
          ),
          l.createElement(
            "div",
            { className: T.ToolTipTableCell },
            Math.round(n),
            "%",
          ),
        );
      }
    },
  },
]);
