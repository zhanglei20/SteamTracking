/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [2012],
  {
    33645: (e) => {
      e.exports = {
        Bold: "_3cln317VYhwhE1fSeMCG48",
        Italic: "_3TPGDj4kc0QGKvO8FJmGz8",
        Paragraph: "_3lnqGBzYap-Z2T81XBiBUU",
        Header1: "_2LYsFAwy8wdRJQTNJOUcsT",
        Header2: "_6-VR2WCBCDupCcUN5INQM",
        Header3: "_1sGnlGwCeaGUp63h4Lx-pU",
        Header4: "_3VHY5vmO07MFpoOgTB9eOi",
        Header5: "_1Vk-9-C_y-lBA5ucPl6t8X",
        CenterSpan: "zCnp-VELUMybbfxOD-ze9",
        SmallText: "WBzrd438Bd8Z3J-j_iglW",
        Underline: "GrhFWtBdrSZP611s1UqqT",
        Strike: "_3pK7sh9FYdigMXxcUVI4DY",
        Spoiler: "_3kRr4bh8twnlt_7wcEFZr3",
        Revealed: "_3g1-8c9NBcNDwW4-6x1pM6",
        SpoilerText: "_3r66KOH_Vckmfps3XUOVrY",
        DisabledMouseEvents: "_1O62-3Y03GsnA0709QyJ_O",
        BlockQuote: "_3MQ0Cuf_h-nZ81xIubg8rh",
        QuoteAuthor: "_1MzmaZcQPMRfrTHs3k0fIZ",
        PullQuote: "_2kA0eAmv8ifh0zphoq4ntM",
        Code: "_2ODaX8lO7DKLKke76c2Wya",
        CodeBlock: "_1I3OP84ayrCIMuBrCrkosi",
        List: "_3Y-LRoi5aeZ9-3ujWjXuG3",
        OrderedList: "DojPxwyYpx3hwuPIaJPCq",
        ListItem: "_1iXxYKOlzzXiVr02E7n2Fe",
        HR: "-xPK0REpludHjRG8xQfih",
        Table: "_2CAsiFd9UHbUOqzd0e7ioe",
        NoBorder: "_1rO4D9vLxJRWz9sW4-ahSY",
        TableRow: "_3FJk0y6E6I8nSYfCIqGP8",
        TableData: "_1PCHOM5zSRFfeHzwDmEukB",
        TableHeader: "_1NpENNz7rvObsTC99AQFda",
        EqualCells: "_1CtoyG6UPAlYp7PCGLXx8L",
        ExpandSectionBlock: "_2cmZMzZlRrszDBF97Di0cD",
        ExpandSectionHeader: "uAvfe31kBh5TZrse069d1",
        EmbedArrow: "_3tVf4GSoWxEOZrxL_PQ4iA",
        ExpandSectionBody: "_33CTl_a7XYxFIng-fm4A5K",
        ExpandSection_WithTitle: "_1dfVJUq9KmDOuhyOZ7lcXv",
        LinkButton: "_3TN0uESBGJ-kUDPWWX2YWz",
        Image: "_3K0NuxYUYncdQ-cNK7udMn",
        PreservedUnsupportedTag: "_3YMzBRWJTOo7eai1uFGV7i",
        Tag: "_3SEDw4GZynd3ZmTQWlyOcS",
        CalendarEventContainer: "S-ElBHomDkV0L3K4XChxt",
        CalendarEventLink: "_106tp5gLWBvoekGEC8HXQ",
      };
    },
    45737: (e) => {
      e.exports = {
        AdminPageCtn: "wC3_c2yhq3ppKA9AKQoTy",
        WidePageCtn: "uHgjQHyNygSKukDngfNQO",
        PageTitleFlexCtn: "_3uPTh_ikegl-PIq12cfjJg",
        PageTitle: "_2RxJB5bupbx0mkW8dYJQRE",
        Beta: "_1YBhTKSlOER8bOnp0BU4Wj",
        PageSubTitle: "okuL_y7hLnZUD5P4ACqUN",
        ValveOnlyTitle: "_3skaXOiv1_vtHc_pGOPNsc",
        ValveOnlyBackground: "_2FESGwA28dH3EVAa7uTsUX",
        ColumnCtn: "_1bjwXvgQa-kJBMijOLS8X5",
        LeftCol: "_1AqrivbzwCs57BXiugqpeA",
        ColHeader: "_3m2-TXBKQenlqzPUBuhbaD",
        Blue: "J7iYYml2Jf_PcaACW1hEr",
        ColHeaderImg: "_1VFkxNTzCFO2uCcle_nAJk",
        SectionCtn: "_1eWwNe3G6T8EcVRg0R5Ftj",
        Bright: "_3ZqV0CAeVnd0rruF6TVKQz",
        ActionBar: "ilVbVkb6hkO_s6E_kiiSd",
        SectionIntroRequirements: "_3TKZIwYk2f5dd3MR5909Uz",
        warning: "_2HiNh3o5cgMEbzFKYBUjAy",
        IntroText: "_1WWL_09T_-Jq--HSJRhKtH",
        RightCol: "_3kaQhRnhNh_awrnNX90rui",
        NoSticky: "JQNb8bHftBTAYpCXTx52v",
        SmallText: "_3ltg5fPzb-WsRyzI41vAv_",
        Button: "_3L1DFwM1lpsRwZ-AaMx9ie",
        TitleSmall: "_3DyXNd5UgceEG9fcCKinvw",
        DefaultSectionCtn: "Pupnokb21glaosRjxBjAm",
        Indent: "_7PV326-4cpZdmTCEdgC2l",
        DashLink: "_2NH_FlbsKA0jN2jPG4Rn9A",
        FlexRow: "_3rz6jzCvvOGt8N0XaPIdzg",
        MarginBottom: "_2Bw2oyBgXlb8EZ4HHbE8Ye",
        StatusLineItemCtn: "_2h8s6LCid-ECW3NhDIBaFX",
        StatusIcon: "_3dYtRWTacFdf4BVwqGSgcd",
        StatusIconDone: "_1tiAc3o7NUJsBdgLS6vCl_",
        UploadedImageDisplayCtn: "_1_JRuj6yAJovBDZE8IMSob",
        UploaderLeftCol: "_3KQhw0sa1q_h62e4yaFgbw",
        MarketingMessage: "_2pCvRF734J5gLxMMHW7LIb",
        BannerPreview: "_1x4unTauuLCbMkThgRpsXc",
        UploaderRightCol: "_3jcvvtnLhiQBvAebO2eI4Z",
        LangCountTitle: "_1tPNH9hTWnMUsbdob5i93a",
        LangSelectCtn: "_3tHzJ-eCQIlg-4XjTN0bNU",
        UploaderImgLang: "_1jJThBArHevzcJ93kx4WhR",
        LangSelected: "_1sUrnQsBw06ZqTIbMeE9tT",
        DeleteAll: "rYuknI3K1VFknv90GNUTc",
        EditCtn: "_1g5X3AT4HwD0ya2e2t2WTO",
        StatusBtn: "_1MGZHxsnyQPrLXwl-8Fium",
        HalfWidthBtnCtn: "fGJIpDJEvYkHmhWFP39BX",
        StatReportCtn: "_1J3v1KGOhdSGz77c2rLxWy",
        Stat: "_3OYQbVCq1yBuEx1XcDzG06",
        BigStat: "lYYwDDss378Sm0FKPBxPh",
        IncreaseRateInfo: "_2yY3XT7VPyYBZS3FCEGgRS",
      };
    },
    73662: (e) => {
      e.exports = {
        DynamicLinkBox: "_1IGURymjmwZOxJLS-9BWKA",
        DynamicLink_Preview: "_3ZK9RP26kmOzqRdQKxWxsM",
        DynamicLink_Author: "_3z0n0rpIPJRdV1QY5n0KaR",
        DynamicLink_Description: "eMdGA7SU6zikUSu6rf7Pr",
        DynamicLink_Content: "_2FhVXotuJg4O0NN4qA07vU",
        DynamicLink_Name: "_1R7Ngck7T0RkTPGRUaq6Gr",
        DynamicLink_YoutubeViews: "_3clz2a9swd9PcLG0xSDhHt",
        Dynamiclink_Content: "_1EYgVQdGSl6VonVuGGfDuy",
        DynamicLink_URL: "_3otyzgmxRyTsMj5ALOf07p",
        DynamicLink_AuthorName: "_2DML9COLsaSXjOzYcbtFXP",
        DynamicLink_Date: "_281DhmZR9c9ZDwpNqPc5_3",
        PreviewYouTubeVideo: "rUASsQgg0rvqoACIDRygZ",
        sizeThumb: "_3dy3KtMG10uNhU2HRfwx3A",
        sizeFull: "_14CxWorQ1RNkZvdhXYWAh-",
        PlaceholderImg: "LILNdsmSgG52f0MP1f2O3",
        floatLeft: "_2OWxr5tZIjB4gTfA3vE2Gc",
        floatRight: "om0Rs75g2ScLGnDWC76IQ",
      };
    },
    34542: (e) => {
      e.exports = {
        ctn: "_1cSWcRFDwYRb9UhccslP3s",
        ctn_registered: "_19SNKkP9Oo8jIyAEBx-Zu0",
        row: "Fw43Qs_sCjPjTkr0n9Si7",
        day: "_1wcqDkNgAA7ZRjmuIS-6Jn",
        time: "_2ublGw_Y7Tyr5UObu9RWeY",
        max: "_2v16tDXmm123Y5NGJmig3p",
        Registered: "_1D1F4nOnNKanKGRqRk3pWr",
      };
    },
    6878: (e) => {
      e.exports = {
        Header1: "SPYFj8pCLpNmnuQJEDobC",
        Header2: "QuKtTJ4LCPUlQeWYfLNyX",
        Header3: "_3s7cUqglDds9wzcWb7OLz6",
        Link: "_29bMZB6BOQfTQ_3za-w60I",
        LinkHost: "_16eO9LHnJuheylkB3Fdrpn",
        LinkButton: "_2HnDgHQT_3ehcs4WgskKG5",
        UnorderedList: "_2FoSxA1yCqpvxdOJnu8N8Z",
        OrderedList: "vV4IwOV-RuzelptiRQ_ZS",
        StoreWidget: "_36Y-loIMvxDKY9RIVxecCp",
        MedalTVWidget: "_1j2vixiqbbe8GqxA-cmlhA",
        LoyaltyRewardCtn: "_14p7R6qC1Kkyg4Qal1UJZu",
        SaleSectionCtn: "_39HWXhhjsbML7K9sme9ItV",
        SaleTextCtn: "_2Tqq0UDtuHw6otaE2Ww46g",
        ReminderCtn: "_25AZkxZYa3ROp8PHchCq-k",
        BlockQuote: "_2cY7bYMGmnuPPhM3aMQMfa",
        SocialLink: "_2LAnc-M7XILk5D72Qy7V6q",
        SocialIcon: "dDjYNUHT-jcb_B0VGK6CP",
        LocalizeBlock: "_1oBceu_yGnJHhqsA8fmA7P",
        CheckMark: "_24AtTon5otxGQGBY3P6ATR",
        ScreenshotCarousel: "_3uA0hv9La9Do6XtRycM0RX",
      };
    },
    1078: (e) => {
      e.exports = {
        FlexColumnContainer: "_15ufNax9QUSW3N7J3t5TmY",
        FullStartTime: "_1YLHWZHuAxRYOyv0nq0a3Z",
        ReminderDialog: "_3YUEYUcuh0PTxYsV6Fecqq",
        ReminderOptions: "_1Tp8K4gynWBOBpC9tS_xXV",
        ReminderBackground: "TNf9_B9OYDQXSleTS1gAS",
        ReminderExpandsLeft: "_38Xly-p-GTyBu1lVv1KF79",
        ReminderOption: "_26nnhy-kEQVG1EJvwt-YOG",
        Unverified: "_1dcmAZnqCMpEs3PXIajJIN",
        CheckboxWrapper: "_1xuKEdr0rNMBRK_vYraObm",
        ReminderCheckBox: "vPo2jxLA9iAVrt49Ic3c1",
        IconMode: "_1YjsRp8XbwoXVWYYvWD7iv",
        RemindBell: "_3-_M2IUSKHovaZaejfEH3E",
        RemindCheck: "_2qaPrk1hI1cvMDPYnXO-kj",
        ReminderDefault: "_19p2Qdr48bduJICtjBoXVv",
        TextMode: "_553rCUt4qxX8_S5jBNMrv",
        ReminderCheck: "_3fMhCIg2SQlEWyw9rHKGCe",
        ReminderOpennedOptions: "vBuhkIZJzVjB-gDKqhho8",
        ReminderOptionsHeader: "_2oOZCpUHJOjdt7D5zkx0Ed",
        ReminderCalendarOptions: "VO6FStOkQjIXr-aZW1JBx",
        ReminderSettings: "_2Pn59J0keCBE-RnAuaUUVx",
        ReminderNotes: "_3qE0wUvpzn1HTPrT3R_wOv",
        RpcThrobber: "_3F3aByA4Tw1mRbNiiVtXP-",
      };
    },
    39256: (e) => {
      e.exports = { ErrorDiv: "XeZExtCZ_zIcbkPRCqsnV" };
    },
    55351: (e) => {
      e.exports = {
        DateAndTime: "_2V6GLdiU4guy4ND3n4Usgg",
        DateAndTimeInline: "HZ6b2d4r4EFnT_1BeU5vo",
        At: "Fn5EUtWkwSAw_gbbiySKN",
        ActiveEvent: "rT7EkJjqw27KBB7HxAAWk",
        ActiveEventCallOut: "_2pJftSRjT_UngZZ4BJimwg",
        RightSideTitles: "_4LAnPYKRPeF-QDReu_VGm",
        DateToolTip: "_2E5LHvnVEF3dSVV3wrDflm",
        ShortDateAndTime: "MBkkhT4wei3tWetnWbiqn",
        ShortDateRange: "_3CN6I3krBRNzD7kCuKQ_w7",
      };
    },
    79821: (e, t, a) => {
      "use strict";
      a.d(t, { Kl: () => n, Yj: () => i, iH: () => r, zV: () => o });
      const n = [
          "h1",
          "h2",
          "h3",
          "h4",
          "h5",
          "smalltext",
          "b",
          "u",
          "hr",
          "i",
          "img",
          "strike",
          "spoiler",
          "noparse",
          "url",
          "list",
          "olist",
          "quote",
          "pullquote",
          "code",
          "table",
          "tr",
          "td",
          "th",
          "previewyoutube",
          "looping_media",
          "roomeffect",
          "sticker",
          "price",
          "pricesavings",
          "trailer",
          "speaker",
          "doclink",
          "video",
          "vod",
          "youtubeorvideo",
          "giveawayeligible",
          "claimitem",
          "packagepurchaseable",
          "actiondialog",
          "uploadfilebutton",
          "docimg",
          "meetsteamsessiongroup",
        ],
        r = [
          "h1",
          "h2",
          "h3",
          "b",
          "u",
          "i",
          "strike",
          "spoiler",
          "noparse",
          "url",
        ],
        s = [
          "img",
          "previewyoutube",
          "looping_media",
          "roomeffect",
          "video",
          "vod",
          "trailer",
          "youtubeorvideo",
          "docimg",
        ];
      n.filter((e) => -1 == s.indexOf(e));
      function i(e, t = null, a = " ") {
        let r = t?.join("|");
        r || (r = n.join("|") + "|\\*");
        const s = new RegExp("\\[(" + r + ")\\b[^\\]]*\\].*?\\[/\\1\\]", "gi");
        return e.replace(s, a);
      }
      function o(e, t = null, a = "") {
        let r = t?.join("|");
        r || (r = n.join("|") + "|\\*");
        const s = "\\[\\/?(?:" + r + "){1,}.*?]";
        return e.replace(new RegExp(s, "gi"), a);
      }
    },
    26205: (e, t, a) => {
      "use strict";
      a.d(t, { O: () => n, S: () => s });
      const n =
          /((?:(?:https?:)|(?:www[.,])|(?:[!#-;=?-Z\\\^-~]+[\.,](?:(?:[a-zA-Z]{2,4}[\.?]*[\/\\\?#])|(?:(?:biz|com|gallery|in|name|net|online|org|tech|trade|xyz)(?=\W|$)))))(?:[^ː\s"<>\[\]]*[^\\s"<>\[\],.ː:])?)/,
        r = /^(steam|ftp|https?):\/\//;
      function s(e) {
        return r.test(e) ? e : "https://" + e;
      }
    },
    66418: (e, t, a) => {
      "use strict";
      a.d(t, { T: () => r, i: () => s });
      var n = a(30470);
      const r = window.Config ?? n.TS,
        s = window.UserConfig ?? n.iA;
      window.Config && Object.assign(n.TS, window.Config),
        window.UserConfig && Object.assign(s, window.UserConfig);
    },
    3578: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => s });
      var n = a(26205);
      const r = JSON.parse(
        '{"unknown":0,"store.steampowered.com":1,"steamcommunity.com":2,"global":3,"default":4,"application":5,"subscription":6,"search":7,"cart":8,"app":9,"global-nav":10,"global-account":11,"storemenu":12,"search-suggestion":13,"about":14,"suggest":15,"dlc":16,"storemenu-recommendedtags":17,"creator":18,"footer-genre-dropdown":20,"footer-category-dropdown":21,"footer-about-dropdown":22,"footer-help-dropdown":23,"footer-publisher-catalogs":24,"wishlist":25,"spotlight":40,"message":41,"marketing-message":42,"daily-deal":43,"footer":44,"header":45,"name":46,"more-details":47,"notification":48,"category":49,"steamdeck":50,"login":60,"prompt":61,"join-steam":62,"successful-login":63,"successful-joinsteam":64,"main-cluster":100,"featured-win-games":101,"featured-mac-games":102,"tab-NewReleases":103,"tab-TopSellers":104,"tab-ComingSoon":105,"tab-Discounts":106,"smallcap-videos":107,"smallcap-demos":108,"home-headlines":109,"community-activity":110,"home-underten":111,"home-specials":112,"home-partners":113,"home-steam-install":114,"community-activity-recentlyplayed":115,"community-activity-recentlybought":116,"promo-banner":117,"promo-takeover":118,"featured-linux-games":119,"updated-games":120,"featured-updated-games":121,"discovery-queue":122,"new-on-steam":123,"curated-app":124,"home-gutter":125,"upcoming-queue":126,"home-specials-under10":127,"main-cluster-recommended":128,"main-cluster-topseller":129,"main-cluster-newonsteam":130,"recommended-spotlight":131,"hardware-promo":132,"popular-new-on-steam":133,"main-cluster-recommended-byfriends":134,"main-cluster-recommended-bycurators":135,"main-cluster-recenttopseller":136,"home-under10":137,"friends-trending":138,"spotlight-specials":139,"curator-recommended":140,"best-selling-vr":141,"creator-recommendations":142,"live-broadcast":143,"main-cluster-followed-creator":144,"tab-PopularNewReleases":145,"home-big-blue-buttons":146,"home-banner":147,"top-new-releases":148,"curated-main-app":149,"search-results":150,"query":151,"search-share":152,"genre":200,"large-cluster":201,"find-more":202,"friend-activity":203,"specials":2300,"breadcrumbs":205,"freestuff":220,"demos":1900,"tab-NewDemos":222,"tab-TopDemos":223,"browse-demos":224,"videos":100002,"popular-videos":226,"tab-NewVideos":227,"browse":230,"mac":231,"under10":232,"under5":233,"publisher":234,"publishers":235,"publisher-listing":236,"tag":237,"gettaggames":238,"explore":239,"browse-tags":240,"tags":241,"content-hub-carousel":242,"Action":250,"Adventure":251,"Strategy":252,"RPG":253,"Indie":254,"Massively Multiplayer":255,"Casual":256,"Family":257,"Simulation":258,"Racing":259,"Sports":260,"recommended":300,"recommendation-main":301,"friend-recommendations":302,"recommended-friendplaytime":303,"recommended-recentlyviewed":304,"recommended-morerecentlyviewed":305,"recommended-genrehighlights":306,"morelike":307,"morelike-mainitem":308,"friendactivity.js":309,"friendactivity-wishlist-spotlight":310,"friendactivity-purchases":311,"friendactivity-playedandwanted":312,"byafriend":313,"friend-recommendation":314,"ajaxgetfriendactivity":315,"recommend-franchise":316,"more-from-franchise":317,"wishlist-capsule":318,"game-highlights":400,"recommend-game":401,"view-own-recommendation":402,"game-purchase":403,"game-purchase-guide":404,"game-purchase-dlc":405,"game-friend-recommendations":406,"game-add-to-wishlist":407,"game-details":408,"game-highlight-tags":409,"game-tags-dialog":410,"game-tags-yours":411,"bundle-component-preview":412,"dlc-parent-app-link":413,"similar-recent-apps":414,"package-purchase":420,"package-contents":421,"package-details":422,"category-list":423,"bundle":430,"bundle-contents":431,"cart-remove-item":500,"cart-items":501,"cart-continue-shopping":502,"cart-purchase":503,"checkout-logo-abandon":504,"checkout-success":505,"checkout":506,"gift":507,"self":508,"checkout-complete-return":509,"checkout-complete-logo":510,"purchaserequest":511,"display":512,"initial":513,"gifts":514,"upsell-recommended":520,"upsell-specials":521,"external-site":550,"facebook":551,"twitter":552,"referral":553,"summersale":600,"prizebooth":610,"activity-game-link":611,"activity-game-discount":612,"prize-info":613,"promotion":614,"sale":615,"sale-item":616,"sale-dailydeals":617,"sale-publishers":618,"sale-genres":619,"email":620,"cart-icon":621,"sale-category-links":622,"sale-notification-callout":623,"sale-yesterdaydeals":624,"sale-flashsales":625,"sale-fromyourwishlist":626,"closed-beta-access":627,"sale-tag-bucket":628,"sale-hero":629,"sale-franchises":630,"sale-dlcforyou":631,"sale-recommended-by-steam-labs":632,"sale-recommended-by-deep-dive":633,"sale-dailydeals-tier2":634,"sale-deep-discounts":635,"sale-deck-mostplayed":636,"home-chart-deckmostplayed":637,"home-deck-banner":638,"sale-tag-bucket-top":639,"sale-dailydeals-none":640,"sale-dailydeals-tags":641,"sale-dailydeals-ir":642,"sale-dailydeals-tier2-none":645,"sale-dailydeals-tier2-tags":646,"sale-dailydeals-tier2-ir":647,"sale-hero-none":650,"sale-hero-tags":651,"sale-hero-ir":652,"autumnsale":660,"wintersale":661,"yearinreview":662,"springsale":663,"mobileapp":700,"summary":701,"mobilestorefront":702,"home":703,"winter2012-today-square":800,"winter2012-today-square-button":801,"winter2012-hires":802,"winter2012-hires-button":803,"winter2012-yesterday-square":804,"winter2012-yesterday-square-button":805,"winter2012-flash":806,"winter2012-flash-button":807,"winter2012-pack":808,"winter2012-pack-button":809,"winter2012-topsellers":810,"winter2012-topsellers-button":811,"winter2012-vote-winner":812,"winter2012-vote-winner-button":821,"winter2012-vote-option-voting":813,"winter2012-vote-option-voted":814,"winter2012-nav":815,"winter2012-500-callout":816,"winter2012-500-callout-button":820,"winter2012-featured":817,"winter2012-lower-nav":822,"winter2012-vote-option-vote-results":823,"fall2014-48":850,"fall2014-24":851,"fall2014-TopSellers":852,"fall2014-Upcoming":853,"fall2014-Under10":854,"fall2014-Under5":855,"fall2014-PopularNewReleases":856,"fall2014-specials-more":857,"fall2014-recommend-wishlist":858,"fall2014-recommend-contentforyourgames":859,"renderspecials":860,"recommend":861,"recommended-ranked-played":862,"redeem-wallet-complete-return":900,"redeem-wallet-complete-return-app":901,"updated":1000,"curators":1050,"curatorrecommendations":1051,"ajaxgetcuratorrecommendations":1052,"curatorscombinedrecommendations":1053,"ajaxgetcombinedrecommendations":1054,"curatorlist":1055,"curator":1056,"curatorfeaturedlist":1057,"curator_featured_list":1057,"mycuratorsreviewing":1058,"creatorfeaturedrecs":1059,"new_dlc":1060,"browse-dlc":1061,"curatorlistcapsule":1062,"widget":1100,"appvisibilitystats":1101,"render":1200,"recommendationfeed-single-friends":1210,"recommendationfeed-single-curators":1211,"recommendationfeed-single-recent":1212,"recommendationfeed-single-wishlist":1213,"recommendationfeed-single-played":1214,"recommendationfeed-two":1250,"recommendationfeed-four":1251,"winter2014-featured":1300,"winter2014-yesterday":1301,"winter2014-flash":1302,"winter2014-flash2":1303,"winter2014-vote":1304,"winter2014-specials-more":1305,"winter2014-recommend-wishlist":1306,"winter2014-frontpage-wishlist":1307,"winter2014-TopSellers":1308,"winter2014-Upcoming":1309,"winter2014-Under10":1310,"winter2014-Under5":1311,"winter2014-PopularNewReleases":1312,"winter2017-FeaturedBanner":1313,"summer2018-standardview-curated":1314,"summer2018-standardview-recommend-basic":1315,"summer2018-standardview-recommend-neural":1316,"summer2018-mergedview-curated":1317,"summer2018-mergedview-recommend-neural":1318,"summer2018-salien-giveaway":1319,"summer2018-creator-recommend":1320,"summer2018-live-stream":1321,"sale-vr":1322,"sale-moddable":1323,"discovery-queue-0":1324,"wishlist-onsale":1400,"wishlist-newrelease":1401,"greenlight-newrelease":1402,"sales-event-enhanced":1403,"creator-newrelease":1404,"generic-onsale":1405,"topsellers-onsale":1406,"recommended-onsale":1407,"demo-newrelease":1408,"Free to Play":1420,"tab-mostplayednewreleases":1421,"tab-mostplayed":1422,"tab-comingsoon":1423,"tab-discounts":1424,"tab-ConcurrentUsers":1454,"vr":1453,"hub-vr-recommended":1455,"hub-vr-specials":1459,"hub-vr-featured":1463,"hub-vr-takeover":1467,"games":1452,"hub-games-recommended":1456,"hub-games-specials":1460,"hub-games-featured":1464,"hub-games-takeover":1468,"software":1451,"hub-software-recommended":1457,"hub-software-specials":1461,"hub-software-featured":1465,"hub-software-takeover":1469,"hub-videos-recommended":1458,"hub-videos-specials":1462,"hub-videos-featured":1466,"hub-videos-takeover":1470,"macos":1480,"hub-macos-recommended":1481,"hub-macos-specials":1482,"hub-macos-featured":1483,"hub-macos-takeover":1484,"linux":1490,"hub-linux-recommended":1491,"hub-linux-specials":1492,"hub-linux-featured":1493,"hub-linux-takeover":1494,"controller":1500,"hub-controller-recommended":1501,"hub-controller-specials":1502,"hub-controller-featured":1503,"hub-controller-takeover":1504,"freetoplay":1510,"hub-freetoplay-recommended":1511,"hub-freetoplay-specials":1512,"hub-freetoplay-featured":1513,"hub-freetoplay-takeover":1514,"earlyaccess":1520,"hub-earlyaccess-recommended":1521,"hub-earlyaccess-specials":1522,"hub-earlyaccess-featured":1523,"hub-earlyaccess-takeover":1524,"pccafe":1530,"hub-pccafe-recommended":1531,"hub-pccafe-specials":1532,"hub-pccafe-featured":1533,"hub-pccafe-takeover":1534,"remoteplayphone":1540,"hub-remoteplayphone-recommended":1541,"hub-remoteplayphone-specials":1542,"hub-remoteplayphone-featured":1543,"hub-remoteplayphone-takeover":1544,"remoteplaytablet":1550,"hub-remoteplaytablet-recommended":1551,"hub-remoteplaytablet-specials":1552,"hub-remoteplaytablet-featured":1553,"hub-remoteplaytablet-takeover":1554,"remoteplaytv":1560,"hub-remoteplaytv-recommended":1561,"hub-remoteplaytv-specials":1562,"hub-remoteplaytv-featured":1563,"hub-remoteplaytv-takeover":1564,"remoteplaytogether":1570,"hub-remoteplaytogether-recommended":1571,"hub-remoteplaytogether-specials":1572,"hub-remoteplaytogether-featured":1573,"hub-remoteplaytogether-takeover":1574,"remote-play-about":1580,"remoteplay":1581,"turnbasedrpg":1582,"arcaderhythm":1583,"greatondeck":1584,"remoteplaylanding":1585,"fightingmartialarts":1586,"actionfps":1587,"hackandslash":1588,"actionrunjump":1589,"shmup":1590,"adventure":1591,"action":1592,"adventurerpg":1593,"hiddenobject":1594,"metroidvania":1595,"puzzlematching":1596,"storyrich":1597,"visualnovel":1598,"casual":1559,"querypaginated":1600,"n_section":1601,"rpgjrpg":1602,"rpgpartybased":1603,"roguelikeroguelite":1604,"rpgaction":1605,"rpg":1606,"rpgstrategytactics":1607,"rpgturnbased":1608,"simulation":1609,"simbuildingautomation":1610,"simdating":1611,"simfarmingcrafting":1612,"simhobbysim":1613,"simlife":1614,"simphysicssandbox":1615,"simspaceflight":1616,"strategy":1617,"strategycardboard":1618,"strategycitiessettlements":1619,"soundtracks":1620,"hub-soundtracks-recommended":1621,"hub-soundtracks-specials":1622,"hub-soundtracks-featured":1623,"hub-soundtracks-takeover":1624,"strategygrand4x":1625,"strategymilitary":1626,"strategyrealtime":1627,"towerdefense":1628,"strategyturnbased":1629,"sportsandracing":1630,"sports":1631,"sportsfishinghunting":1632,"sportsindividual":1633,"racing":1634,"racingsim":1635,"sportssim":1636,"sportsteam":1637,"anime":1638,"horror":1639,"mysterydetective":1640,"explorationopenworld":1641,"sciencefiction":1642,"space":1643,"survival":1644,"multiplayercoop":1645,"multiplayerlan":1646,"multiplayerlocalparty":1647,"multiplayermmo":1648,"multiplayer":1649,"multiplayeronlinecompetitive":1650,"singleplayer":1651,"upcoming":1700,"comingsoon-recommendedcomingsoon":1701,"comingsoon-popularwishlist":1702,"comingsoon-newdlc":1703,"comingsoon-followedcreator":1704,"comingsoon-mywishlist":1705,"comingsoon-largecap":1706,"tab-PopularUpcoming":1707,"tab-AllUpcoming":1708,"in-library-game-event-update":1800,"on-wishlist-game-event-update":1801,"in-library-game-remind-me":1802,"hub-demos-recommended":1901,"hub-demos-specials":1902,"hub-demos-featured":1903,"hub-demos-takeover":1904,"creator-home-product-page":2000,"franchise-home-link":2001,"ajaxgetappinfoforcap":2100,"partner-events":2101,"library-partner-events":2102,"store-partner-events":2103,"steamtv-partner-events":2104,"community-partner-events":2105,"partnerweb-partner-events":2106,"store-calendar-partner-events":2107,"events":2108,"subscriptions":2109,"ea":2110,"subscriptionplansea":2111,"download_event":2112,"reminder":2113,"steamtv":2200,"hub-specials-recommended":2301,"hub-specials-specials":2302,"hub-specials-featured":2303,"hub-specials-takeover":2304,"recommender":2400,"recommended-by-steam-labs":2401,"labs":2500,"automaticshow":2501,"microtrailers":2502,"now-playing":2503,"deepdive":2504,"game-add-to-wishlist-deepdive":2505,"dbdetailsmulti":2506,"dbgetlinkparam":2507,"recommended-by-deep-dive":2508,"recommended-by-deep-dive-carousel":2509,"recommended-by-deep-dive-carousel_default":2510,"recommended-by-deep-dive-carousel_cluster_recent":2511,"recommended-by-deep-dive-carousel_cluster_games":2512,"recommended-by-deep-dive-carousel_cluster_playtime":2513,"recommended-by-deep-dive-carousel-default":2514,"recommended-by-deep-dive-carousel-cluster-recent":2515,"recommended-by-deep-dive-carousel-cluster-games":2516,"recommended-by-deep-dive-carousel-cluster-playtime":2517,"trendingreviews":2600,"ajaxgetrecentreviews":2601,"community-recommendations":2602,"lunarnewyear2020":2700,"lunarnewyear":2701,"lunarnewyearmarket":2702,"steam-logo":2750,"sale-banner":2751,"sale-button-top":2752,"sale-button-bottom":2753,"wishlist-button-bottom":2754,"footer-steam-logo":2755,"steamclient":5000,"library":5100,"friendsui":5200,"friendcontextmenu":5201,"nextfest":6000,"topsellers":7000,"steamcharts":7001,"weeklytopsellers":7002,"topchartlist":7003,"overview":7004,"mostplayed":7005,"salesmartdailyactiveuserdemo":7006,"salesmartmostplayeddemo":7007,"salesmartdecktopplayed":7008,"salesmartcategory":7009,"vrhardwarelanding":7010,"apphome":100000,"images":100001,"allnews":100003,"news":100004,"announcements":100005,"discussions":100006,"reporteddiscussions":100007,"tradingforum":100008,"guides":100009,"reviews":100010,"positivereviews":100011,"negativereviews":100012,"workshop":100013,"broadcasts":100014,"eventcomments":100015,"sharedfiles":100100,"filedetails":100101,"screenshot":100102,"workshopitem":100103,"mtxitem":100104,"collection":100105,"guide":100106,"integratedguide":100107,"merch":100108,"artwork":100109,"video":100110,"topicsearch":100201,"singletopic":100202,"profiles":100300,"review":100301,"profileshowcase":100302,"broadcast":100400,"watch":100401,"friendactivityfeed":100500,"announcement":100501,"curatorreview":100502,"friendpurchase":100503,"workshopitempublished":100504,"artworkpublished":100505,"screenshotpublished":100506,"guidepublished":100507,"collectionpublished":100508,"itemfavorited":100509,"userreviewpublished":100510,"partner.steamgames.com":100600,"help.steampowered.com":100601,"salecreatorhome":100700,"saleitembrowse":100701,"salefacetbrowse":100702,"salesection":100703,"saletabsection":100704,"salebroadcast":100705,"salecuratorrec":100706,"saleeventsched":100707,"salesubscription":100708,"saleitemsearch":100709,"salesmartwishlist":100710,"salesmartir":100711,"salesmartdlc":100712,"salesmarttagrec":100713,"salebrowsetopwishlisted":100714,"salebrowsetrendingwishlisted":100715,"salebrowsepopularcomingsoon":100716,"salebrowsemostplayeddemo":100717,"salebrowsedailyactiveuserdemo":100718,"salebrowseplayednowdemo":100719,"salebrowserecentlyreleased":100720,"salebrowsepopularpurchased":100721,"salebrowsepopularpurchaseddiscounted":100722,"salebrowsediscounted":100723,"salebrowseprice":100724,"salebrowsenewandtrending":100725,"salebrowsetopsellers":100726,"salebrowsetoprated":100727,"discoveryqueue2022":100728,"saleeventsection":100729,"salesectionlinks":100730,"salesectionrewards":100731,"salesectiontext":100732,"salesectioneventschedule":100733,"salesmartpersonalizedcarousel":100734,"promo-takeunder":100735,"salesmartwr":100736,"salesmartwishlist_allsale":100737,"salesmartir_allsale":100738,"autopopulatetag":100739,"autopopulatecategory":100740,"salesmartrecentevents":100741}',
      );
      class s {
        static InstrumentLink(e, t, a = null) {
          const n = s.GetLinkParam(t, a);
          return s.AddNavParamToURL(e, n);
        }
        static ParseSNR(e) {
          const t = e.split("_") || [];
          return {
            domain: s.DecodeEventComponent(t[0]),
            controller: s.DecodeEventComponent(t[1]),
            method: s.DecodeEventComponent(t[2]),
            submethod: s.DecodeEventComponent(t[3]),
            feature: s.DecodeEventComponent(t[4]),
            depth: t[5] ? Number(t[5]) : void 0,
          };
        }
        static GetLinkParam(e, t = null) {
          let a = s.ComputeLinkPrefix(
            e.domain,
            e.controller,
            e.method,
            e.submethod,
          );
          t = t ?? e.depth ?? null;
          const n = s.EncodeEventComponent(e.feature);
          return n && ((a += "_" + n), t && (a += "_" + t)), a;
        }
        static AddNavParamToURL(e, t) {
          try {
            const a = new URL((0, n.S)(e)),
              r = new URLSearchParams(a.search);
            return (
              r.set("snr", encodeURIComponent(t ?? "")),
              a.origin + a.pathname + "?" + r.toString() + a.hash
            );
          } catch (t) {
            return console.error(e, t), e;
          }
        }
        static ComputeLinkPrefix(e, t, a, n) {
          let r = "";
          return (
            (r += s.EncodeEventComponent(e)),
            (r += "_"),
            (r += s.EncodeEventComponent(t)),
            (r += "_"),
            (r += s.EncodeEventComponent(a)),
            (r += "_"),
            (r += s.EncodeEventComponent(n)),
            r
          );
        }
        static EncodeEventComponent(e) {
          return e
            ? e in r
              ? "" + r[e]
              : (e.match(/^[0-9]+$/) || (e = e.replace(/^[0-9]+/, "")),
                e.replace(/[^a-zA-Z0-9\- ]+/g, ""))
            : "";
        }
        static DecodeEventComponent(e) {
          const t = e && parseInt(e);
          if (t && r) for (const e in r) if (r[e] == t) return e;
          return s.SanitizeEventComponent(e);
        }
        static SanitizeEventComponent(e) {
          return e && e.match(/^[a-zA-Z0-9\-.]*$/) ? e : "";
        }
      }
    },
    60014: (e, t, a) => {
      "use strict";
      a.d(t, { n9: () => l, nn: () => o, pn: () => d, ru: () => c });
      var n = a(90626),
        r = a(3578),
        s = a(66418);
      const i = n.createContext({});
      n.createContext(void 0);
      function o(e) {
        const { children: t, ...a } = e,
          r = l(),
          s = n.useMemo(
            () => ({ ...r, ...a }),
            [
              r,
              a.domain,
              a.controller,
              a.method,
              a.submethod,
              a.feature,
              a.depth,
            ],
          );
        return n.createElement(i.Provider, { value: s }, t);
      }
      function l() {
        return n.useContext(i);
      }
      function d(e, t, a) {
        return {
          ...e,
          feature: t || e.feature,
          depth: a || e.depth,
          countrycode: s.T.COUNTRY,
          is_client: s.T.IN_CLIENT,
        };
      }
      function c(e, t) {
        const a = l();
        return n.useMemo(
          () => r.A.GetLinkParam({ ...a, feature: e || a.feature }, t),
          [a, e, t],
        );
      }
    },
    59952: (e, t, a) => {
      "use strict";
      a.d(t, {
        $A: () => O,
        B8: () => U,
        Pk: () => R,
        Sz: () => B,
        Tu: () => A,
        UT: () => N,
        W4: () => S,
        ZS: () => k,
        Zb: () => G,
        _D: () => C,
        _J: () => F,
        ck: () => P,
        j$: () => T,
      });
      var n = a(33645),
        r = a.n(n),
        s = a(22837),
        i = a(90626),
        o = a(45699),
        l = a(76217),
        d = a(15759),
        c = a(55963),
        m = a(27666),
        u = a(86355),
        p = a(74410),
        _ = a(43667),
        h = a(93267),
        g = a(12155),
        y = a(60014),
        v = a(32754),
        f = a(52038),
        b = a(61859),
        E = a(61336),
        w = a(30470),
        I = a(12611);
      const S = new Map([
        [
          "b",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().Bold },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "i",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, f.A)(r().Italic, "BB_Italic") },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["h1", { Constructor: G, autocloses: !1, skipFollowingNewline: !0 }],
        ["h2", { Constructor: B, autocloses: !1, skipFollowingNewline: !0 }],
        ["h3", { Constructor: k, autocloses: !1, skipFollowingNewline: !0 }],
        [
          "h4",
          {
            Constructor: function (e) {
              return D(e, (0, f.A)(r().Header4, "BB_Header4"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "h5",
          {
            Constructor: function (e) {
              return D(e, (0, f.A)(r().Header5, "BB_Header5"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "center",
          {
            Constructor: function (e) {
              let t = T(e.args, "id");
              t &&
                "string" == typeof t &&
                t.length > 0 &&
                "#" === t[0] &&
                (t = t.substring(1));
              return i.createElement(
                "span",
                {
                  id: t || void 0,
                  className: (0, f.A)(r().CenterSpan, "BB_Center"),
                },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "smalltext",
          {
            Constructor: function (e) {
              return D(e, (0, f.A)(r().SmallText, "BB_SmallText"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "u",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().Underline },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "strike",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().Strike },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "spoiler",
          {
            Constructor: function (e) {
              let [t, a] = i.useState(!1),
                n = i.useCallback(() => {
                  a(!t);
                }, [t]);
              return i.createElement(
                l.Z,
                {
                  className: (0, f.A)(r().Spoiler, t && r().Revealed),
                  focusable: !0,
                  onActivate: n,
                  onOKActionDescription: (0, b.we)(
                    t ? "#Bbcode_Spoiler_Hide" : "#Bbcode_Spoiler_Show",
                  ),
                },
                i.createElement(
                  "span",
                  { className: r().SpoilerText },
                  e.children,
                ),
              );
            },
            autocloses: !1,
          },
        ],
        [
          "hr",
          {
            Constructor: function (e) {
              return i.createElement("div", { className: r().HR });
            },
            autocloses: !1,
          },
        ],
        [
          "noparse",
          {
            Constructor: function (e) {
              return e.children;
            },
            autocloses: !1,
          },
        ],
        [
          "url",
          {
            Constructor: function (e) {
              let t = T(e.args);
              if (!t) {
                const a = e.children;
                "string" == typeof a &&
                  (a.startsWith("http://") || a.startsWith("https://")) &&
                  (t = a);
              }
              const a = "button" == T(e.args, "style") ? r().LinkButton : null;
              let n = T(e.args, "id");
              n &&
                "string" == typeof n &&
                n.length > 0 &&
                "#" === n[0] &&
                (n = n.substring(1));
              if (void 0 === t && !n) return e.children || "";
              if (
                void 0 === t ||
                ("string" == typeof t && t.length > 0 && "#" == t[0])
              )
                return i.createElement(
                  "a",
                  { href: t ?? null, id: n },
                  e.children,
                );
              return i.createElement(
                L,
                { className: a, href: t, id: n },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["quote", { Constructor: R, autocloses: !1 }],
        [
          "pullquote",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().PullQuote },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "code",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().CodeBlock },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "c",
          {
            Constructor: function (e) {
              return i.createElement(
                "code",
                { className: r().Code },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["list", { Constructor: U, autocloses: !1, skipInternalNewline: !0 }],
        ["olist", { Constructor: F, autocloses: !1, skipInternalNewline: !0 }],
        ["*", { Constructor: P, autocloses: !0, skipInternalNewline: !0 }],
        [
          "table",
          {
            Constructor: function (e) {
              const t = T(e.args, "noborder"),
                a = T(e.args, "equalcells");
              return i.createElement(
                "div",
                {
                  className: (0, f.A)(
                    r().Table,
                    "BB_Table",
                    t && r().NoBorder,
                    a && r().EqualCells,
                  ),
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
          },
        ],
        [
          "tr",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, f.A)(r().TableRow, "BB_TableRow") },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "th",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: r().TableHeader },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "td",
          {
            Constructor: function (e) {
              const t = T(e.args, "width");
              return i.createElement(
                "div",
                {
                  className: (0, f.A)(r().TableData, "BB_TableData"),
                  style: t && { width: t },
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "expand",
          {
            Constructor: function (e) {
              const t = Boolean(T(e.args, "expanded")),
                [a, n] = i.useState(t),
                s = T(e.args, "title"),
                o = T(e.args, "collapsed_str"),
                l = T(e.args, "expanded_str"),
                d = (function (e, t, a, n) {
                  switch (e) {
                    case "details":
                      return {
                        collapsed: "#Bbcode_Expand_Details_Collapsed",
                        expanded: "#Bbcode_Expand_Details_Expanded",
                        style: r().ExpandSection_Details,
                      };
                    case "spoiler":
                      return {
                        collapsed: "#Bbcode_Expand_Spoiler_Collapsed",
                        expanded: "#Bbcode_Expand_Spoiler_Expanded",
                        style: r().ExpandSection_Spoiler,
                      };
                    case "title":
                      return {
                        collapsed:
                          t || a || "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: t || n || "#Bbcode_Expand_ShowMore_Expanded",
                        style: r().ExpandSection_WithTitle,
                      };
                    default:
                      return {
                        collapsed: "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: "#Bbcode_Expand_ShowMore_Expanded",
                        style: r().ExpandSection_ShowMore,
                      };
                  }
                })(T(e.args, "type"), s, o, l);
              return i.createElement(
                "div",
                {
                  className: (0, f.A)({
                    [r().ExpandSectionBlock]: !0,
                    [d.style]: !0,
                    [r().ExpandSectionExpanded]: a,
                    [r().ExpandSectionCollapsed]: !a,
                    BBCodeExpanded: a,
                    BBCodeCollapsed: !a,
                  }),
                },
                i.createElement(
                  "div",
                  { className: r().ExpandSectionHeader, onClick: () => n(!a) },
                  (0, b.we)(a ? d.expanded : d.collapsed),
                  i.createElement(
                    "div",
                    { className: r().EmbedArrow },
                    i.createElement(g.DK4, { angle: a ? 180 : 0 }),
                  ),
                ),
                a &&
                  i.createElement(
                    "div",
                    { className: r().ExpandSectionBody },
                    e.children,
                  ),
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            allowWrapTextForCopying: !0,
          },
        ],
        [
          "remindme",
          {
            Constructor: function (e) {
              const { event: t, showErrorInfo: a } = e.context,
                n = T(e.args);
              if (n)
                return i.createElement(_.y, { eventGID: n, bPreviewMode: a });
              if (t) {
                const e = (0, s.sf)(w.TS.LANGUAGE);
                return i.createElement(_.j, { eventModel: t, lang: e });
              }
              return null;
            },
            autocloses: !1,
          },
        ],
        [
          "calendarevent",
          {
            Constructor: function (e) {
              const t = T(e.args, "title"),
                a = T(e.args, "datetime"),
                n = T(e.args, "body"),
                s = T(e.args, "id") ?? "",
                o = new Date(a),
                l = o.getUTCFullYear(),
                d = ("0" + (o.getUTCMonth() + 1)).slice(-2),
                c = ("0" + o.getDate()).slice(-2),
                m = ("0" + o.getHours()).slice(-2),
                u = ("0" + o.getMinutes()).slice(-2),
                p = `${l}${d}${c}T${m}${u}Z`;
              let _ = "BEGIN:VCALENDAR\r\n";
              (_ += "VERSION:2.0\r\n"),
                (_ += "BEGIN:VEVENT\r\n"),
                (_ += `DTSTART:${p}\r\n`),
                (_ += `DTEND:${p}\r\n`),
                (_ += `SUMMARY:${t}\r\n`),
                (_ += `DESCRIPTION:${n}\r\n`),
                (_ += "END:VEVENT\r\n"),
                (_ += "END:VCALENDAR\r\n");
              const h = `data:text/plain;charset=utf-8;base64,${btoa(_)}`;
              let g =
                "https://calendar.google.com/calendar/render?action=TEMPLATE";
              return (
                (g += `&text=${encodeURI(t)}`),
                (g += `&details=${encodeURI(n)}`),
                (g += `&dates=${encodeURI(p + "/" + p)}`),
                i.createElement(
                  "div",
                  {
                    className: (0, f.A)(
                      "SaleSectionCalendarEventContainer",
                      r().CalendarEventContainer,
                    ),
                    id: s,
                  },
                  i.createElement(
                    "a",
                    {
                      className: (0, f.A)(
                        "SaleSectionCalendarEventLink",
                        r().CalendarEventLink,
                      ),
                      href: h,
                      download: "steam_deck_white_release.ics",
                    },
                    "Apple",
                  ),
                  i.createElement(
                    "a",
                    {
                      className: (0, f.A)(
                        "SaleSectionCalendarEventLink",
                        r().CalendarEventLink,
                      ),
                      href: g,
                    },
                    "Google",
                  ),
                  i.createElement(
                    "a",
                    {
                      className: (0, f.A)(
                        "SaleSectionCalendarEventLink",
                        r().CalendarEventLink,
                      ),
                      href: h,
                      download: "steam_deck_white_release.ics",
                    },
                    "Outlook",
                  ),
                )
              );
            },
            autocloses: !0,
          },
        ],
        [
          "doclink",
          {
            Constructor: function (e) {
              const t = T(e.args),
                a = "button" == T(e.args, "style") ? r().LinkButton : null;
              return i.createElement(
                L,
                { className: a, href: `${w.TS.PARTNER_BASE_URL}doc/${t}` },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "color",
          {
            Constructor: function (e) {
              const t = T(e.args);
              return i.createElement(
                "span",
                { style: { color: t } },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "p",
          {
            Constructor: function (e) {
              return i.createElement(
                "p",
                { className: r().Paragraph },
                e.children,
                i.createElement("wbr", null),
              );
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
      ]);
      new Map([
        ["looping_media", { Constructor: O, autocloses: !1 }],
        ["video", { Constructor: N, autocloses: !1 }],
        ["youtubeorvideo", { Constructor: p.Eo, autocloses: !1 }],
        ["previewyoutube", { Constructor: p.gH, autocloses: !1 }],
      ]);
      function C(e, t, a = 0) {
        if (e?.startsWith(I.lw)) return (0, m.v6)(e);
        if (e?.startsWith(I.eg)) {
          const n = new Array(),
            r = (0, m.mJ)(),
            i = e.substring(I.eg.length + 1),
            o = u.i6.GetHashFromHashAndExt(i),
            l = u.i6.GetExtensionStringFromHashAndExt(i);
          if (null != t) {
            let e = (0, s.Lg)(t);
            n.push(r + o + "/" + e + l + "?t=" + a),
              4 == t &&
                ((e = (0, s.x6)((0, s.Lg)(t))),
                n.push(r + o + "/" + e + l + "?t=" + a));
          }
          return n.push(r + i), n;
        }
        return e;
      }
      function T(e, t) {
        return void 0 === t ? e[""] : e[t];
      }
      function A(e, t) {
        return (a) => e({ ...a, className: (0, f.A)(a.className, t) });
      }
      function D(e, t) {
        let a = T(e.args, "id");
        return (
          a || (a = T(e.args)),
          a &&
            "string" == typeof a &&
            a.length > 0 &&
            "#" === a[0] &&
            (a = a.substring(1)),
          i.createElement(
            "div",
            { id: a || void 0, className: (0, f.A)(t, e.className) },
            e.children,
          )
        );
      }
      function G(e) {
        return D(e, (0, f.A)(r().Header1, "BB_Header1"));
      }
      function B(e) {
        return D(e, (0, f.A)(r().Header2, "BB_Header2"));
      }
      function k(e) {
        return D(e, (0, f.A)(r().Header3, "BB_Header3"));
      }
      const L = (e) => {
        const { href: t, ...a } = e,
          n = (0, y.n9)();
        let r,
          s = (0, c.VZ)(t, n);
        (0, d.p)(s)
          ? ((s =
              (w.TS.IN_CLIENT ? "steam://openurl_external/" : "") +
              (0, d.E)(s)),
            (r = "noopener nofollow"))
          : (s = (0, E.NT)(s));
        const l =
          "string" == typeof e.children &&
          e.children.length > 0 &&
          t &&
          !t.startsWith("steam://")
            ? (0, E.Qz)(t)
            : void 0;
        return i.createElement(
          v.Gq,
          { toolTipContent: l, direction: "top" },
          i.createElement(o.Ii, { ...a, href: s, rel: r }, e.children),
        );
      };
      function R(e) {
        const t = T(e.args, "author");
        return i.createElement(
          "blockquote",
          { className: (0, f.A)(r().BlockQuote, e.className) },
          !!t &&
            i.createElement(
              "div",
              { className: r().QuoteAuthor },
              (0, b.we)("#Bbcode_Originally_Posted_By") + " ",
              " ",
              i.createElement("b", null, t + ":"),
            ),
          e.children,
        );
      }
      function U(e) {
        return i.createElement(
          "ul",
          { className: (0, f.A)(r().List, "bullets") },
          e.children,
        );
      }
      function F(e) {
        return i.createElement(
          "ol",
          { className: r().OrderedList },
          e.children,
        );
      }
      function P(e) {
        let t = T(e.args, "id");
        return (
          t &&
            "string" == typeof t &&
            t.length > 0 &&
            "#" === t[0] &&
            (t = t.substring(1)),
          i.createElement(
            "li",
            { className: r().ListItem, id: t || void 0 },
            e.children,
          )
        );
      }
      function M(e) {
        let t = T(e.args, "poster");
        t && (t = (0, E.L$)(t));
        const a = new Array();
        {
          const t = T(e.args, "mp4");
          t && a.push({ sURL: (0, E.L$)(t), sFormat: "video/mp4" });
          const n = T(e.args, "webm");
          n && a.push({ sURL: (0, E.L$)(n), sFormat: "video/webm" });
        }
        const n = (0, s.sf)(w.TS.LANGUAGE),
          r = 0 != n,
          i = new Array();
        for (let t = 0; t < 31; t++) {
          const a = T(e.args, "sub_" + (0, s.ww)(t));
          a &&
            i.push({
              sURL: (0, E.L$)(a),
              eLanguage: t,
              sKind: "subtitles",
              bDefault: r && t == n,
            });
          const o = T(e.args, "cap_" + (0, s.ww)(t));
          o &&
            i.push({
              sURL: (0, E.L$)(o),
              eLanguage: t,
              sKind: "captions",
              bDefault: r && t == n,
            });
        }
        return { sPoster: t, rgVideoSources: a, rgVideoTracks: i };
      }
      function O(e) {
        const t = M(e);
        return i.createElement(h.L, {
          video: t,
          bAutoPlay: !0,
          bControls: !1,
          bLoop: !0,
        });
      }
      function N(e) {
        const t = M(e),
          a = e.children ? e.children.toString() : void 0;
        a &&
          a.startsWith("http") &&
          t.rgVideoSources.push({ sURL: (0, E.L$)(a), sFormat: "video/webm" });
        const n = T(e.args, "autoplay"),
          r = "0" !== n && "off" !== n && "false" !== n,
          s = T(e.args, "controls"),
          o = "0" !== s && "off" !== s && "false" !== s,
          l = T(e.args, "loop"),
          d = "0" !== s && "off" !== s && "false" !== s;
        return i.createElement(h.L, {
          video: t,
          bAutoPlay: r,
          bControls: o,
          bLoop: l ? d : r,
        });
      }
    },
    73744: (e, t, a) => {
      "use strict";
      a.d(t, {
        FZ: () => r,
        Fj: () => h,
        Hj: () => i,
        Ho: () => p,
        N_: () => b,
        PL: () => d,
        XY: () => v,
        Yw: () => n,
        _d: () => o,
        cV: () => c,
        on: () => l,
        s4: () => y,
        tW: () => s,
        vz: () => f,
        x: () => _,
        yu: () => g,
      });
      const n = ["app_header_capsule", "app_main_capsule"],
        r = [
          "sale_header",
          "sale_logo",
          "capsule",
          "product_banner",
          "product_mobile_banner",
          "localized_title_image",
        ],
        s = ["takeunder_art", "takeunder_mobile_art"],
        i = [
          "takeover_art",
          "takeover_mobile_art",
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
        ],
        o = ["marketingmessage_art", "marketingmessage_art_2"],
        l = [
          "marketingmessage_art_eventcapsule",
          "marketingmessage_art_2_eventcapsule",
        ],
        d = ["spotlight_art"],
        c = [...n, ...r, ...s, ...i, ...o, ...l, ...d],
        m = [1, 3, 2],
        u = [1, 3],
        p = [5, 4],
        _ = [7, 6],
        h = {
          capsule: { width: 800, height: 450, rgAcceptableTypes: u },
          marketingmessage_art_2_eventcapsule: {
            width: 800,
            height: 450,
            rgAcceptableTypes: u,
          },
          marketingmessage_art_eventcapsule: {
            width: 800,
            height: 450,
            rgAcceptableTypes: u,
          },
          spotlight: { width: 2108, height: 460, rgAcceptableTypes: u },
          localized_store_app_spotlight: {
            width: 1100,
            height: 240,
            rgAcceptableTypes: u,
          },
          localized_store_app_spotlight_mobile: {
            width: 500,
            height: 160,
            rgAcceptableTypes: u,
          },
          localized_title_image: {
            width: 1920,
            height: 622,
            rgAcceptableTypes: u,
          },
          background: { width: 1920, height: 622, rgAcceptableTypes: u },
          hero: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: u,
          },
          email_full: { width: 800, height: 300, rgAcceptableTypes: u },
          email_centered: { width: 644, height: 300, rgAcceptableTypes: u },
          broadcast_left: { width: 155, height: 337, rgAcceptableTypes: u },
          broadcast_right: { width: 155, height: 337, rgAcceptableTypes: u },
          sale_header: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: m,
          },
          sale_overlay: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: m,
          },
          localized_image_group: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: u,
          },
          localized_background_art: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: u,
          },
          sale_section_background: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: m,
          },
          sale_section_title: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: m,
          },
          link_capsule: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: u,
          },
          product_banner: { width: 1100, height: 160, rgAcceptableTypes: u },
          product_mobile_banner: {
            width: 500,
            height: 160,
            rgAcceptableTypes: u,
          },
          product_banner_override: {
            width: 1100,
            height: 160,
            rgAcceptableTypes: u,
          },
          product_mobile_banner_override: {
            width: 500,
            height: 160,
            rgAcceptableTypes: u,
          },
          schedule_track_art: { width: 196, height: 92, rgAcceptableTypes: u },
          tab_bar_background: {
            width: 1500,
            height: 100,
            rgAcceptableTypes: u,
          },
          sale_logo: { width: 940, height: 460, rgAcceptableTypes: u },
          bestofyear_banner: { width: 1100, height: 160, rgAcceptableTypes: m },
          bestofyear_banner_mobile: {
            width: 500,
            height: 160,
            rgAcceptableTypes: m,
          },
          localized_marketing_message: {
            width: 570,
            height: 600,
            rgAcceptableTypes: [1, 3, 2, 10],
          },
          localized_optin_banner: {
            width: 1e3,
            height: 150,
            rgAcceptableTypes: u,
          },
          localized_marketingmessage_webm: {
            width: 570,
            height: 600,
            rgAcceptableTypes: [5],
          },
          localized_marketingmessage_mp4: {
            width: 570,
            height: 600,
            rgAcceptableTypes: [4],
          },
          localized_partnerevent_webm: {
            width: 800,
            height: 450,
            rgAcceptableTypes: [5],
          },
          localized_partnerevent_mp4: {
            width: 800,
            height: 450,
            rgAcceptableTypes: [4],
          },
          localized_subtitles: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: [6, 7],
          },
          localized_marketingmessage_poster: {
            width: 528,
            height: 297,
            rgAcceptableTypes: [1, 3],
          },
          localized_marketingmessage_background: {
            width: 570,
            height: 600,
            rgAcceptableTypes: u,
          },
          localized_email_image: {
            width: 0,
            height: 0,
            bDisableEnforceDimensions: !0,
            rgAcceptableTypes: u,
          },
          spotlight_art: { width: 306, height: 260, rgAcceptableTypes: m },
          old_spotlight_art: { width: 306, height: 350, rgAcceptableTypes: m },
          marketingmessage_art: {
            width: 570,
            height: 600,
            rgAcceptableTypes: m,
          },
          marketingmessage_art_2: {
            width: 570,
            height: 600,
            rgAcceptableTypes: m,
          },
          takeover_art: { width: 1850, height: 450, rgAcceptableTypes: m },
          takeover_webm_art: {
            width: 1850,
            height: 450,
            rgAcceptableTypes: [5],
          },
          takeover_mp4_art: {
            width: 1850,
            height: 450,
            rgAcceptableTypes: [4],
          },
          takeover_mobile_art: {
            width: 500,
            height: 350,
            rgAcceptableTypes: m,
          },
          takeover_webm_mobile_art: {
            width: 500,
            height: 350,
            rgAcceptableTypes: [5],
          },
          takeover_mp4_mobile_art: {
            width: 500,
            height: 350,
            rgAcceptableTypes: [4],
          },
          takeunder_art: { width: 940, height: 150, rgAcceptableTypes: m },
          takeunder_mobile_art: {
            width: 500,
            height: 160,
            rgAcceptableTypes: m,
          },
          app_header_capsule: { width: 460, height: 215, rgAcceptableTypes: u },
          app_main_capsule: { width: 616, height: 353, rgAcceptableTypes: u },
        };
      function g(e, t, a) {
        const n = h[a];
        return (
          !!n && !n.bDisableEnforceDimensions && e === n.width && t === n.height
        );
      }
      function y(e, t, a) {
        const n = h[a];
        return (
          !!n &&
          (!!n.bDisableEnforceDimensions || !(e < n.width || t < n.height))
        );
      }
      function v(e) {
        const t = h[e];
        return (
          t.rgAcceptableTypes.includes(6) || t.rgAcceptableTypes.includes(7)
        );
      }
      function f(e, t) {
        return t.filter((t) => b(e, t));
      }
      function b(e, t) {
        return h[t].rgAcceptableTypes.includes(e);
      }
    },
    47822: (e, t, a) => {
      "use strict";
      a.d(t, { NK: () => o, bK: () => n, dF: () => l, w2: () => d });
      var n,
        r = a(82097),
        s = a(4796),
        i = a(61859);
      !(function (e) {
        (e[(e.k_eLibrary = 1)] = "k_eLibrary"),
          (e[(e.k_eWishlist = 2)] = "k_eWishlist"),
          (e[(e.k_eFollowing = 4)] = "k_eFollowing"),
          (e[(e.k_eRecommended = 8)] = "k_eRecommended"),
          (e[(e.k_eSteam = 16)] = "k_eSteam"),
          (e[(e.k_eRequired = 32)] = "k_eRequired"),
          (e[(e.k_eFeatured = 64)] = "k_eFeatured"),
          (e[(e.k_eCurator = 128)] = "k_eCurator"),
          (e[(e.k_eReposted = 256)] = "k_eReposted");
      })(n || (n = {}));
      class o {
        clanid;
        unique_id;
        event_type;
        appid;
        start_time;
        appInfo;
        clanInfo;
        score;
        GetSource() {
          return this.appInfo ? this.appInfo.source : this.clanInfo.source;
        }
        static GetEntityNameForID(e, t) {
          if (e) return r.A.Get().GetApp(e)?.GetName();
          if (t) {
            const e = s.ac.GetClanInfoByClanAccountID(t);
            if (e) return e.group_name;
          }
          return (0, i.we)("#EventCalendar_MuteApp_Unknown");
        }
        static BHasEntityNameForID(e, t) {
          return e
            ? Boolean(r.A.Get().GetApp(e)?.GetName())
            : !!t && !!s.ac.GetClanInfoByClanAccountID(t)?.group_name;
        }
        GetEntityName() {
          return o.GetEntityNameForID(this.appid, this.clanid);
        }
        GetGameCapsule() {
          if (this.appInfo)
            return r.A.Get()
              .GetApp(this.appInfo.appid)
              ?.GetAssets()
              ?.GetMainCapsuleURL();
          if (this.clanInfo) {
            let e = s.ac.GetClanInfoByClanAccountID(this.clanInfo.clanid);
            if (e) return e.avatar_full_url;
          }
          return (0, i.we)("#EventCalendar_MuteApp_Unknown");
        }
        GetGameIcon() {
          if (this.appInfo)
            return r.A.Get()
              .GetApp(this.appInfo.appid)
              ?.GetAssets()
              ?.GetCommunityIconURL();
          if (this.clanInfo) {
            let e = s.ac.GetClanInfoByClanAccountID(this.clanInfo.clanid);
            if (e) return e.avatar_full_url;
          }
          return (0, i.we)("#EventCalendar_MuteApp_Unknown");
        }
      }
      class l {
        appid;
        source;
        playtime;
        last_played;
        wishlist_added;
      }
      class d {
        clanid;
        source;
      }
    },
    77516: (e, t, a) => {
      "use strict";
      a.d(t, {
        ye: () => O,
        DJ: () => H,
        G6: () => N,
        zv: () => D,
        IS: () => R,
        GE: () => k,
        yX: () => L,
        w: () => x,
        EE: () => B,
        lh: () => W,
        qR: () => M,
        dm: () => z,
        DU: () => w,
        mW: () => T,
        GU: () => I,
        bv: () => S,
        Kd: () => C,
        b9: () => G,
        cB: () => j,
      });
      var n = a(34629),
        r = a(79821),
        s = a(2160),
        i = a(14947);
      const o = {
        bBroadcastEnabled: !1,
        broadcastChatSetting: "hide",
        default_broadcast_title: "#Broadcast_default_title_dev",
        localized_broadcast_title: new Array(31),
        localized_broadcast_left_image: new Array(31),
        localized_broadcast_right_image: new Array(31),
        broadcast_whitelist: [],
      };
      var l = a(17720),
        d = a(27666),
        c = a(86355),
        m = a(4796),
        u = a(67165),
        p = a(44165),
        _ = a(82097),
        h = a(44332),
        g = a(61859),
        y = a(19719),
        v = a(27543),
        f = (a(41735), a(90626), a(68797), a(78327));
      var b = a(41338),
        E = (a(14771), a(6419));
      (0, n.Cg)(
        [E.o],
        class {
          m_eventModel;
          m_entry;
          constructor(e, t) {
            (this.m_eventModel = e), (this.m_entry = t);
          }
          GetEventStartTime() {
            return this.m_entry.rtime_start_specific
              ? this.m_entry.rtime_start_specific
              : this.m_eventModel.startTime +
                  this.m_entry.delta_from_event_start_seconds;
          }
        }.prototype,
        "GetEventStartTime",
        null,
      );
      new Set([9, 11, 20, 21, 22, 23, 24, 25, 26, 27, 31, 35]);
      const w = 593110,
        I = 39049601,
        S = 41316928,
        C = 4,
        T = 20,
        A = 9e4;
      var D;
      !(function (e) {
        (e[(e.k_EEventStateUnpublished = 0)] = "k_EEventStateUnpublished"),
          (e[(e.k_EEventStateStaged = 1)] = "k_EEventStateStaged"),
          (e[(e.k_EEventStateVisible = 2)] = "k_EEventStateVisible"),
          (e[(e.k_EEventStatsUnlisted = 3)] = "k_EEventStatsUnlisted");
      })(D || (D = {}));
      const G = [
        {
          label: "#Sale_BrowserSortOption_NewAndTrending",
          flavor: "newandtrending",
          tooltip: "#Sale_BrowserSortOption_NewAndTrending_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_TopWishlisted",
          flavor: "topwishlisted",
          tooltip: "#Sale_BrowserSortOption_TopWishlisted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_TrendingWishlisted",
          flavor: "trendingwishlisted",
          tooltip: "#Sale_BrowserSortOption_TrendingWishlisted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularUpcoming",
          flavor: "popularcomingsoon",
          tooltip: "#Sale_BrowserSortOption_PopularUpcoming_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MostPlayedDemo",
          flavor: "mostplayeddemo",
          tooltip: "#Sale_BrowserSortOption_MostPlayedDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_DailyActiveUserDemo",
          flavor: "dailyactiveuserdemo",
          tooltip: "#Sale_BrowserSortOption_DailyActiveUserDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PlayedNowDemo",
          flavor: "playednowdemo",
          tooltip: "#Sale_BrowserSortOption_PlayedNowDemo_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_RecentlyReleased",
          flavor: "recentlyreleased",
          tooltip: "#Sale_BrowserSortOption_RecentlyReleased_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularPurchased",
          flavor: "popularpurchased",
          tooltip: "#Sale_BrowserSortOption_PopularPurchased_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_PopularPurchasedDiscounted",
          flavor: "popularpurchaseddiscounted",
          tooltip: "#Sale_BrowserSortOption_PopularPurchasedDiscounted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_Discounted",
          flavor: "discounted",
          tooltip: "#Sale_BrowserSortOption_Discounted_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_Price",
          flavor: "price",
          tooltip: "#Sale_BrowserSortOption_Price_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_All",
          flavor: "all",
          tooltip: "#Sale_BrowserSortOption_All_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_NewAndTrending",
          flavor: "contenthub_newandtrending",
          tooltip: "#Sale_BrowserSortOption_ContentHub_NewAndTrending_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_TopSellers",
          flavor: "contenthub_topsellers",
          tooltip: "#Sale_BrowserSortOption_ContentHub_TopSellers_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_Popular",
          flavor: "contenthub_popular",
          tooltip: "#Sale_BrowserSortOption_ContentHub_Popular_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_TopRated",
          flavor: "contenthub_toprated",
          tooltip: "#Sale_BrowserSortOption_ContentHub_TopRated_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_Upcoming",
          flavor: "contenthub_upcoming",
          tooltip: "#Sale_BrowserSortOption_ContentHub_Upcoming_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_ContentHub_All",
          flavor: "contenthub_all",
          tooltip: "#Sale_BrowserSortOption_ContentHub_All_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MLWishlist",
          flavor: "ml_wishlist_recommender",
          tooltip: "#Sale_BrowserSortOption_MLWishlist_ttip",
        },
        {
          label: "#Sale_BrowserSortOption_MLPlaytime",
          flavor: "ml_playtime_recommender",
          tooltip: "#Sale_BrowserSortOption_MLPlaytime_ttip",
        },
      ];
      var B, k, L, R, U, F, P;
      function M(e) {
        return Boolean(e?.store_filter)
          ? JSON.stringify(e.store_filter)
          : void 0;
      }
      function O(e) {
        return "items" === e || "trailercarousel" === e;
      }
      !(function (e) {
        (e[(e.k_EStoreFilterClauseTypeOr = 0)] = "k_EStoreFilterClauseTypeOr"),
          (e[(e.k_EStoreFilterClauseTypeAnd = 1)] =
            "k_EStoreFilterClauseTypeAnd"),
          (e[(e.k_EStoreFilterClauseTypeStoreTag = 2)] =
            "k_EStoreFilterClauseTypeStoreTag"),
          (e[(e.k_EStoreFilterClauseTypeFeatureTag = 3)] =
            "k_EStoreFilterClauseTypeFeatureTag"),
          (e[(e.k_EStoreFilterClauseTypeLanguage = 4)] =
            "k_EStoreFilterClauseTypeLanguage"),
          (e[(e.k_EStoreFilterClauseTypeContentDescriptor = 5)] =
            "k_EStoreFilterClauseTypeContentDescriptor"),
          (e[(e.k_EStoreFilterClauseTypePrice = 6)] =
            "k_EStoreFilterClauseTypePrice"),
          (e[(e.k_EStoreFilterClauseTypeAppType = 7)] =
            "k_EStoreFilterClauseTypeAppType");
      })(B || (B = {})),
        (function (e) {
          (e[(e.k_ESaleTagFilter = 0)] = "k_ESaleTagFilter"),
            (e[(e.k_ELanguage = 1)] = "k_ELanguage"),
            (e[(e.k_EContentDescriptor = 2)] = "k_EContentDescriptor"),
            (e[(e.k_EUserPreference = 3)] = "k_EUserPreference"),
            (e[(e.k_EPrice = 4)] = "k_EPrice"),
            (e[(e.k_EAppType = 5)] = "k_EAppType");
        })(k || (k = {})),
        (function (e) {
          (e[(e.k_EHideOwnedItems = 0)] = "k_EHideOwnedItems"),
            (e[(e.k_EHideWishlistedItems = 1)] = "k_EHideWishlistedItems"),
            (e[(e.k_EHideIgnoredItems = 2)] = "k_EHideIgnoredItems");
        })(L || (L = {})),
        (function (e) {
          (e[(e.k_ESortFacetsByName = 0)] = "k_ESortFacetsByName"),
            (e[(e.k_ESortFacetsByMatchCount = 1)] =
              "k_ESortFacetsByMatchCount"),
            (e[(e.k_ESortFacetsManually = 2)] = "k_ESortFacetsManually");
        })(R || (R = {})),
        (function (e) {
          (e.Steam = "Steam"),
            (e.Facebook = "Facebook"),
            (e.Twitter = "Twitter"),
            (e.Reddit = "Reddit");
        })(U || (U = {})),
        (function (e) {
          (e.Summary = "summary"),
            (e.SummaryLargeImage = "summary_large_image");
        })(F || (F = {})),
        (function (e) {
          (e.SingleMedia = "SingleMedia"),
            (e.DoubleMedia = "DoubleMedia"),
            (e.QuadMedia = "QuadMedia"),
            (e.MediaLeft = "MediaLeft"),
            (e.MediaRight = "MediaLeft");
        })(P || (P = {}));
      const N = {
        capsules: [],
        events: [],
        links: [],
        localized_label: new Array(31),
        localized_label_image: new Array(31),
        default_label: "#Sale_default_label",
        section_type: "unselected_empty",
      };
      var x;
      !(function (e) {
        (e[(e.k_ETaggedItems = 0)] = "k_ETaggedItems"),
          (e[(e.k_EContentHub = 1)] = "k_EContentHub");
      })(x || (x = {}));
      const H = {
          localized_subtitle: new Array(31),
          localized_summary: new Array(31),
          localized_title_image: new Array(31),
          localized_capsule_image: new Array(31),
          bSaleEnabled: !1,
          sale_show_creator: !1,
          sale_sections: [],
          sale_browsemore_text: "",
          sale_browsemore_url: "",
          sale_browsemore_color: "",
          sale_browsemore_bgcolor: "",
          localized_sale_header: new Array(31),
          localized_sale_overlay: new Array(31),
          localized_sale_product_banner: new Array(31),
          localized_sale_product_mobile_banner: new Array(31),
          localized_sale_logo: new Array(31),
          sale_font: "",
          sale_background_color: "",
          sale_header_offset: 530,
          referenced_appids: [],
          ...o,
          bScheduleEnabled: !1,
          scheduleEntries: [],
        },
        j = "old_announce_",
        z = 80,
        V = [
          "workshop",
          "patchnotes",
          "contenthub",
          "skip_megaphone",
          "curator",
          "curator_group_members",
          "curator_public",
          "audience_followers",
          "enable_steam_china",
          "disable_steam_global",
          "adult_only_content",
          "stablechannel",
          "betachannel",
          "previewchannel",
        ];
      class W {
        constructor() {
          (0, i.Gn)(this);
        }
        GID = void 0;
        AnnouncementGID = void 0;
        clanSteamID;
        forumTopicGID = void 0;
        type = 1;
        appid = 0;
        name = new Map();
        description = new Map();
        timestamp_loc_updated = new Map();
        startTime = void 0;
        endTime = void 0;
        visibilityStartTime = void 0;
        visibilityEndTime = void 0;
        m_nBuildID = void 0;
        m_strBuildBranch = void 0;
        postTime = void 0;
        visibility_state = D.k_EEventStateUnpublished;
        broadcaster = void 0;
        jsondata = H;
        nCommentCount = 0;
        nVotesUp = 0;
        nVotesDown = 0;
        comment_type;
        gidfeature;
        gidfeature2;
        featured_app_tagid;
        bOldAnnouncement = !1;
        announcementClanSteamID = void 0;
        loadedAllLanguages = !1;
        bLoaded = !1;
        deleteInProgress = !1;
        vecTags = new Array();
        creator_steamid;
        last_update_steamid = void 0;
        rtime32_last_modified = void 0;
        rtime32_last_solr_search_col_updated = void 0;
        rtime32_last_local_modification = void 0;
        rtime32_moderator_reviewed = void 0;
        video_preview_type = void 0;
        video_preview_id = void 0;
        has_live_stream;
        live_stream_viewer_count;
        m_overrideCurrentDay = void 0;
        BIsPartnerEvent() {
          return !this.bOldAnnouncement && Boolean(this.GID);
        }
        static FromJSON(e) {
          let t = new W(),
            a = JSON.parse(e);
          return (
            Object.assign(t, a),
            (t.name = new Map(a.name)),
            (t.description = new Map(a.description)),
            (t.vecTags = new Array(a.vecTags)),
            (t.clanSteamID = new l.b(a.clanSteamID)),
            (0, h.w)(
              t.clanSteamID && t.clanSteamID.BIsValid(),
              "Invalid Clan SteamID: " + t.clanSteamID.ConvertTo64BitString(),
            ),
            a.broadcaster &&
              ((t.broadcaster = new l.b(a.broadcaster)),
              (0, h.w)(
                t.broadcaster && t.broadcaster.BIsValid(),
                "Invalid Broadcast SteamID: " +
                  t.broadcaster.ConvertTo64BitString(),
              )),
            t
          );
        }
        toJSON(e) {
          let t = new Object();
          return (
            Object.assign(t, this),
            (t.name = Array.from(this.name)),
            (t.description = Array.from(this.description)),
            (t.tags = Array.from(this.vecTags)),
            (t.clanSteamID = this.clanSteamID.ConvertTo64BitString()),
            this.broadcaster &&
              (t.broadcaster = this.broadcaster.ConvertTo64BitString()),
            t
          );
        }
        clone(e = !1) {
          let t = new W();
          return (
            (t.GID = this.GID),
            (t.AnnouncementGID = this.AnnouncementGID),
            (t.clanSteamID = this.clanSteamID),
            (t.bOldAnnouncement = this.bOldAnnouncement),
            (t.nCommentCount = this.nCommentCount),
            (t.nVotesUp = this.nVotesUp),
            (t.nVotesDown = this.nVotesDown),
            (t.forumTopicGID = this.forumTopicGID),
            (t.comment_type = this.comment_type),
            (t.gidfeature = this.gidfeature),
            (t.gidfeature2 = this.gidfeature2),
            (t.featured_app_tagid = this.featured_app_tagid),
            (t.creator_steamid = this.creator_steamid),
            (t.last_update_steamid = this.last_update_steamid),
            (t.rtime32_last_modified = this.rtime32_last_modified),
            (t.rtime32_last_solr_search_col_updated =
              this.rtime32_last_solr_search_col_updated),
            (t.rtime32_moderator_reviewed = this.rtime32_moderator_reviewed),
            (t.type = this.type),
            (t.appid = this.appid),
            (t.name = new Map()),
            this.name.forEach((e, a) => {
              t.name.set(a, e);
            }),
            (t.description = new Map()),
            this.description.forEach((e, a) => {
              t.description.set(a, e);
            }),
            (t.timestamp_loc_updated = new Map()),
            this.timestamp_loc_updated.forEach((e, a) => {
              t.timestamp_loc_updated.set(a, e);
            }),
            (t.startTime = this.startTime),
            (t.endTime = this.endTime),
            (t.visibilityStartTime = this.visibilityStartTime),
            (t.visibilityEndTime = this.visibilityEndTime),
            (t.postTime = this.postTime),
            (t.visibility_state = this.visibility_state),
            (t.loadedAllLanguages = this.loadedAllLanguages),
            (t.bLoaded = this.bLoaded),
            (t.broadcaster = this.broadcaster
              ? new l.b(this.broadcaster.ConvertTo64BitString())
              : null),
            (t.jsondata = JSON.parse(JSON.stringify(this.jsondata))),
            (t.vecTags = new Array()),
            e
              ? ((t.m_nBuildID = this.m_nBuildID),
                (t.m_strBuildBranch = this.m_strBuildBranch),
                this.vecTags.forEach((e) => t.vecTags.push(e)))
              : this.vecTags.forEach((e) => {
                  V.includes(e) && t.vecTags.push(e);
                }),
            t
          );
        }
        GetLastReferencedSaleDayFromCapsules(e, t) {
          let a = t;
          return (
            e?.forEach((e) => {
              void 0 !== e.visibility_index &&
                (a =
                  void 0 === a
                    ? e.visibility_index
                    : Math.max(a, e.visibility_index));
            }),
            a
          );
        }
        GetLastReferencedSaleDay() {
          let e;
          for (const t of this.GetSaleSections())
            if ("tabs" === t.section_type) {
              if (t.tabs?.length > 0)
                for (const a of t.tabs)
                  e = this.GetLastReferencedSaleDayFromCapsules(a.capsules, e);
            } else e = this.GetLastReferencedSaleDayFromCapsules(t.capsules, e);
          return (
            this.jsondata.sale_num_headers > 1 &&
              (null == e || e < this.jsondata.sale_num_headers) &&
              (e = this.jsondata.sale_num_headers),
            e
          );
        }
        GetDayIndexFromEventStart() {
          let e = 0;
          const t = p.HD.GetTimeNowWithOverride();
          void 0 !== this.startTime &&
            t >= this.startTime &&
            (e = Math.floor((t - this.startTime) / 86400)),
            void 0 !== this.m_overrideCurrentDay &&
              this.m_overrideCurrentDay >= 0 &&
              (e = this.m_overrideCurrentDay);
          const a = this.GetLastReferencedSaleDay() || 0;
          return Math.min(e, a);
        }
        GetNameWithFallback(e) {
          const t = g.A0.GetELanguageFallback(e);
          return this.name.get(e) || this.name.get(t);
        }
        GetGameTitle(e) {
          return _.A.Get().GetApp(this.appid)?.GetName();
        }
        BInRealmGlobal() {
          return !this.BHasTag("disable_steam_global");
        }
        BInRealmChina() {
          return this.BHasTag("enable_steam_china");
        }
        BIsLanguageValidForRealms(e) {
          return (
            !(
              !this.BInRealmGlobal() ||
              !g.A0.IsELanguageValidInRealm(e, s.TU.k_ESteamRealmGlobal)
            ) ||
            !(
              !this.BInRealmChina() ||
              !g.A0.IsELanguageValidInRealm(e, s.TU.k_ESteamRealmChina)
            )
          );
        }
        GetImgArray(e) {
          let t = [];
          if (
            (("background" !== e && "localized_title_image" != e) ||
              (t = this.jsondata.localized_title_image),
            "capsule" === e)
          )
            t = this.jsondata.localized_capsule_image;
          else if ("spotlight" === e)
            t = this.jsondata.localized_spotlight_image;
          else if ("email_full" === e || "email_centered" === e)
            t = this.jsondata.email_setting
              ? this.jsondata.email_setting.sections[0].localized_image
              : [];
          else if ("broadcast_left" === e)
            t = this.jsondata.localized_broadcast_left_image;
          else if ("broadcast_right" === e)
            t = this.jsondata.localized_broadcast_right_image;
          else if ("sale_header" === e)
            if (this.jsondata.sale_num_headers > 1) {
              const e = Math.min(
                this.jsondata.sale_num_headers - 1,
                this.GetDayIndexFromEventStart(),
              );
              t = this.jsondata.localized_per_day_sales_header[e];
            } else t = this.jsondata.localized_sale_header;
          else
            "sale_logo" === e
              ? (t = this.jsondata.localized_sale_logo)
              : "sale_overlay" === e
                ? (t = this.jsondata.localized_sale_overlay)
                : c.pb.includes(e)
                  ? (t = c.pU.GetLocalizedImageGroupForEditAsImgArray(
                      this.clanSteamID,
                    ))
                  : "product_banner" === e
                    ? (t = this.jsondata.localized_sale_product_banner)
                    : "product_mobile_banner" === e
                      ? (t = this.jsondata.localized_sale_product_mobile_banner)
                      : "bestofyear_banner" === e
                        ? (t = this.jsondata.localized_bestofyear_banner)
                        : "bestofyear_banner_mobile" === e
                          ? (t =
                              this.jsondata.localized_bestofyear_banner_mobile)
                          : "localized_store_app_spotlight" === e
                            ? (t = this.jsondata.localized_store_app_spotlight)
                            : "localized_store_app_spotlight_mobile" === e &&
                              (t =
                                this.jsondata
                                  .localized_store_app_spotlight_mobile);
          return t;
        }
        GetImageURL(e, t = 0, a = c.wI.full) {
          const n = this.GetImgArray(e),
            r = n && n.length > t && null != n[t];
          return r && n[t].startsWith("http")
            ? n[t]
            : r
              ? c.i6.GenerateArtworkURLFromHashAndExtensions(
                  this.clanSteamID,
                  n[t],
                  a,
                )
              : void 0;
        }
        GetImageHash(e, t = 0) {
          let a = this.GetImgArray(e);
          return a && a.length > t && null != a[t]
            ? a[t].substr(0, a[t].length - 4)
            : null;
        }
        GetImageHashAndExt(e, t = 0) {
          let a = this.GetImgArray(e);
          return a && a.length > t && null != a[t] ? a[t] : null;
        }
        BHasSomeImage(e) {
          let t = this.GetImgArray(e);
          return t && t.some((e) => null != e && e.length > 0);
        }
        BHasImage(e, t) {
          let a = this.GetImgArray(e);
          return a && a.length > t && null != a[t];
        }
        BHasAnnouncementGID() {
          return (
            null !== this.AnnouncementGID &&
            void 0 !== this.AnnouncementGID &&
            this.AnnouncementGID.length > 1
          );
        }
        GetAnnouncementGID() {
          return this.AnnouncementGID;
        }
        BHasForumTopicGID() {
          return (
            null !== this.forumTopicGID &&
            void 0 !== this.forumTopicGID &&
            this.forumTopicGID.length > 1
          );
        }
        GetForumTopicURL() {
          if (!this.BHasForumTopicGID()) return "";
          if (this.appid)
            return (
              f.TS.COMMUNITY_BASE_URL +
              "app/" +
              this.appid +
              "/eventcomments/" +
              this.forumTopicGID
            );
          {
            const e = m.ac.GetClanInfoByClanAccountID(
              this.clanSteamID.GetAccountID(),
            );
            if (e && e.vanity_url)
              return (
                f.TS.COMMUNITY_BASE_URL +
                "groups/" +
                e.vanity_url +
                "/eventcomments/" +
                this.forumTopicGID
              );
          }
          return (
            f.TS.COMMUNITY_BASE_URL +
            "gid/" +
            this.clanSteamID.ConvertTo64BitString() +
            "/eventcomments/" +
            this.forumTopicGID
          );
        }
        BIsEventInFuture() {
          return p.HD.GetTimeNowWithOverride() < this.startTime;
        }
        BHasEventEnded() {
          return this.endTime < p.HD.GetTimeNowWithOverride();
        }
        UpdateVoteCount(e, t) {
          "up" == e
            ? (this.nVotesUp = (0, y.OQ)(
                this.nVotesUp + t,
                0,
                Number.MAX_SAFE_INTEGER,
              ))
            : "down" == e &&
              (this.nVotesDown = (0, y.OQ)(
                this.nVotesDown + t,
                0,
                Number.MAX_SAFE_INTEGER,
              ));
        }
        GetImageFromBeginningOfDescription(e, t) {
          let a = this.GetDescriptionWithFallback(e);
          if (a) {
            let e = a.indexOf("[img]");
            if (-1 !== e && e < t) {
              e += 5;
              let t = a.indexOf("[/img]", e);
              if (-1 != t) {
                let n = a.substring(e, t).trim();
                if (0 != n.length) return (0, d.v6)(n);
              }
            }
          }
          return null;
        }
        GetImageURLWithFallback(e, t, a = c.wI.full) {
          const n = this.GetImageURL(e, t, a);
          if (n && n.trim().length > 0) return n;
          const r = g.A0.GetELanguageFallback(t);
          if (t != r) {
            const t = this.GetImageURL(e, r, a);
            if (t && t.trim().length > 0) return t;
          }
          const s = m.ac.GetClanInfoByClanAccountID(
            this.clanSteamID.GetAccountID(),
          );
          if ("capsule" == e) {
            let e = this.GetImageFromBeginningOfDescription(
              t,
              Number.MAX_VALUE,
            );
            if (e) return e;
            let a = this.appid;
            if (!a && s && ((s.is_creator_home && !s.is_ogg) || s.is_curator)) {
              if (!this.jsondata?.referenced_appids?.length)
                return s.avatar_full_url;
              a = this.jsondata.referenced_appids[0];
            }
            const n = _.A.Get().GetApp(a);
            return n
              ? n.GetAssets().GetMainCapsuleURL()
              : f.TS.STORE_ICON_BASE_URL + a + "/header.jpg";
          }
          return "background" == e &&
            s &&
            ((s.is_creator_home && !s.is_ogg) || s.is_curator)
            ? s.creator_page_bg_url
            : this.GetFallbackArtworkScreenshot();
        }
        GetFallbackArtworkScreenshot() {
          if (this.appid) {
            _.A.Get().QueueAppRequest(this.appid, { include_screenshots: !0 });
            const e = _.A.Get().GetApp(this.appid);
            let t = Number(
              this.bOldAnnouncement
                ? this.AnnouncementGID
                : null == this.GID
                  ? 0
                  : this.GID,
            );
            return e?.GetOnlyAllAgesSafeScreenshots().length > 1
              ? ((t %= e.GetOnlyAllAgesSafeScreenshots().length),
                e.GetOnlyAllAgesSafeScreenshots()[t])
              : e?.GetBothAllAgesSafeAndMatureScreenshots()?.length > 0
                ? ((t %= e.GetBothAllAgesSafeAndMatureScreenshots().length),
                  e.GetBothAllAgesSafeAndMatureScreenshots()[t])
                : "";
          }
          if (this.clanSteamID) {
            const e = m.ac.GetClanInfoByClanAccountID(
              this.clanSteamID.GetAccountID(),
            );
            if (e && ((e.is_creator_home && !e.is_ogg) || e.is_curator))
              return e.avatar_full_url;
          }
          return "";
        }
        BImageNeedScreenshotFallback(e, t) {
          let a = this.GetImageURL(e, t);
          if (!a || 0 == a.length) {
            const n = g.A0.GetELanguageFallback(t);
            t != n && (a = this.GetImageURL(e, n));
          }
          return !a || 0 == a.length;
        }
        GetImageForSizeAsArrayWithFallback(e, t, a, n) {
          let r = new Array();
          this.BImageNeedScreenshotFallback(e, t) ||
            (r.push(this.GetImageURLWithFallback(e, t, a)),
            a != c.wI.full &&
              r.push(this.GetImageURLWithFallback(e, t, c.wI.full)));
          const s = this.GetFallbackArtworkScreenshot();
          return s && !n && r.push(s), r;
        }
        GetDescriptionWithFallback(e) {
          const t = g.A0.GetELanguageFallback(e);
          return this.description.get(e) || this.description.get(t);
        }
        BIsImageSafeForAllAges(e, t) {
          const a = m.ac.GetClanInfoByClanAccountID(
              this.clanSteamID.GetAccountID(),
            ),
            n = g.A0.GetELanguageFallback(t);
          return (
            null != this.GetImageURL(e, t) ||
            (t != n && null != this.GetImageURL(e, n)) ||
            (this.appid &&
              _.A.Get().GetApp(this.appid)?.BHasAgeSafeScreenshots()) ||
            (!this.appid &&
              a &&
              ((a.is_creator_home && !a.is_ogg) || a.is_curator))
          );
        }
        BIsVisibleEvent() {
          let e = Math.floor(p.HD.GetTimeNowWithOverride());
          return (
            this.visibility_state == D.k_EEventStatsUnlisted ||
            (this.visibility_state == D.k_EEventStateVisible &&
              e > this.visibilityStartTime &&
              (this.visibilityEndTime < 10 || e < this.visibilityEndTime))
          );
        }
        BIsStagedEvent() {
          return this.visibility_state == D.k_EEventStateStaged;
        }
        BIsUnlistedEvent() {
          return this.visibility_state == D.k_EEventStatsUnlisted;
        }
        GetStartTimeAndDateUnixSeconds() {
          return this.startTime;
        }
        GetEndTimeAndDateUnixSeconds() {
          return this.endTime;
        }
        GetPostTimeAndDateUnixSeconds() {
          return this.postTime;
        }
        GetVisibilityStartTimeAndDateUnixSeconds() {
          return this.visibilityStartTime;
        }
        BIsEventActionEnabled() {
          return (
            !!this.jsondata.action_end_time &&
            (this.jsondata.action_end_time > p.HD.GetTimeNowWithOverride() ||
              (1575396e3 == this.jsondata.action_end_time &&
                1606845600 > p.HD.GetTimeNowWithOverride()))
          );
        }
        BHasSubTitle(e) {
          if (
            !this.jsondata ||
            !this.jsondata.localized_subtitle ||
            e >= this.jsondata.localized_subtitle.length
          )
            return !1;
          let t = this.jsondata.localized_subtitle[e];
          return null != t && "" != t;
        }
        GetSubTitle(e) {
          if (
            !this.jsondata ||
            !this.jsondata.localized_subtitle ||
            e >= this.jsondata.localized_subtitle.length
          )
            return "";
          let t = this.jsondata.localized_subtitle[e];
          return t || "";
        }
        GetSubTitleWithLanguageFallback(e) {
          return this.jsondata
            ? g.NT.GetWithFallback(this.jsondata.localized_subtitle, e)
            : "";
        }
        GetSubTitleWithSummaryFallback(e) {
          return (
            g.NT.GetWithFallback(this.jsondata?.localized_subtitle, e) ||
            W.GenerateSummaryFromText(this.GetDescriptionWithFallback(e))
          );
        }
        GetSummaryWithFallback(e, t) {
          return (
            g.NT.GetWithFallback(this.jsondata?.localized_summary, e) ||
            W.GenerateSummaryFromText(this.GetDescriptionWithFallback(e), t)
          );
        }
        GetSummary(e) {
          return g.NT.Get(this.jsondata?.localized_summary, e);
        }
        BHasSummary(e) {
          return Boolean(this.GetSummary(e));
        }
        static GenerateSummaryFromText(e, t) {
          return e && 0 != e.trim().length
            ? ((e = (0, r.Yj)(e, [
                "img",
                "h1",
                "h2",
                "h3",
                "spoiler",
                "table",
                "previewyoutube",
                "looping_media",
                "roomeffect",
                "sticker",
              ])),
              (e = (0, r.zV)(e)),
              (e = (0, b.aX)(e)),
              (0, b.bC)(e, t || 180))
            : "";
        }
        BHasTag(e) {
          return -1 != this.vecTags.indexOf(e);
        }
        BHasTagStartingWith(e) {
          return this.vecTags.some((t) => t.startsWith(e));
        }
        BIsOGGEvent() {
          return Boolean(this.appid) && this.appid > 0;
        }
        BShowLibrarySpotlight() {
          return Boolean(this.jsondata.library_spotlight);
        }
        BShowLibrarySpotlightText() {
          return Boolean(this.jsondata.library_spotlight_text);
        }
        BHasBroadcastEnabled() {
          return this.jsondata.bBroadcastEnabled;
        }
        BEventCanShowBroadcastWidget(e) {
          if (this.jsondata.bSaleEnabled) return this.BHasBroadcastEnabled();
          const t = p.HD.GetTimeNowWithOverride(),
            a = this.endTime ? this.endTime : t + 3600;
          return (
            this.BHasBroadcastEnabled() &&
            this.jsondata.broadcast_whitelist &&
            this.jsondata.broadcast_whitelist.length > 0 &&
            (e || (this.startTime - 600 <= t && t < a))
          );
        }
        BHasBroadcastForceBanner() {
          return this.jsondata.broadcast_force_banner;
        }
        BSaleShowBroadcastAtTopOfPage() {
          return !(
            this.jsondata.sale_sections &&
            this.jsondata.sale_sections.some(
              (e) => "broadcast" == e.section_type,
            )
          );
        }
        BSaleShowCuratorRecommendationAtBottomOfPage() {
          return !(
            this.jsondata.sale_sections &&
            this.jsondata.sale_sections.some(
              (e) => "curator_recommendation" == e.section_type,
            )
          );
        }
        GetBroadcastChatVisibility() {
          return this.jsondata.broadcastChatSetting || "hide";
        }
        GetBroadcastTitle(e) {
          return (
            g.NT.GetWithFallback(this.jsondata.localized_broadcast_title, e) ||
            (0, g.we)(
              this.jsondata.default_broadcast_title ??
                "#Broadcast_default_title_dev",
            )
          );
        }
        GetBroadcastWhitelist() {
          return this.jsondata.broadcast_whitelist;
        }
        GetBroadcastWhitelistAsSteamIDs() {
          return this.jsondata.broadcast_whitelist.map((e) =>
            l.b.InitFromAccountID(e).ConvertTo64BitString(),
          );
        }
        BIsBroadcastAccountIDWhiteListed(e) {
          return (this.jsondata.broadcast_whitelist || []).includes(Number(e));
        }
        BHasSaleEnabled() {
          return this.jsondata.bSaleEnabled;
        }
        BHasSaleVanity() {
          return (
            this.jsondata.bSaleEnabled && Boolean(this.jsondata.sale_vanity_id)
          );
        }
        GetSaleVanity() {
          return this.jsondata.sale_vanity_id;
        }
        GetSaleURL() {
          if (!Boolean(this.jsondata.sale_vanity_id))
            return (
              f.TS.STORE_BASE_URL +
              "newshub/" +
              (this.appid
                ? "app/" + this.appid
                : "group/" + this.clanSteamID.GetAccountID()) +
              "/view/" +
              this.GID
            );
          if (this.BUsesContentHubForItemSource()) {
            const e = this.jsondata.source_content_hub;
            return e
              ? "string" == typeof e
                ? f.TS.STORE_BASE_URL + "category/" + e
                : "category" == e.type
                  ? f.TS.STORE_BASE_URL + "category/" + e.category
                  : "tags" == e.type
                    ? f.TS.STORE_BASE_URL +
                      "tags/" +
                      ((0, g.l4)() || "en") +
                      "/" +
                      e.tagid
                    : "freetoplay" == e.type
                      ? f.TS.STORE_BASE_URL + "genre/Free%20to%20Play/"
                      : "earlyaccess" == e.type
                        ? f.TS.STORE_BASE_URL + "genre/Early%20Access/"
                        : f.TS.STATS_BASE_URL + e.type
              : f.TS.STORE_BASE_URL + "sale/" + this.jsondata.sale_vanity_id;
          }
          if (!this.jsondata.sale_vanity_id_valve_approved_for_sale_subpath) {
            if (u.pF.BHasCreatorHomeLoaded(this.clanSteamID)) {
              return (
                u.pF
                  .GetCreatorHome(this.clanSteamID)
                  .GetCreatorHomeURL("developer") +
                "sale/" +
                this.jsondata.sale_vanity_id
              );
            }
            return (
              f.TS.STORE_BASE_URL +
              "curator/" +
              this.clanSteamID.GetAccountID() +
              "/sale/" +
              this.jsondata.sale_vanity_id
            );
          }
          return f.TS.STORE_BASE_URL + "sale/" + this.jsondata.sale_vanity_id;
        }
        BHasEmailEnabled() {
          return (
            this.jsondata.email_setting && this.jsondata.email_setting.bEnable
          );
        }
        GetSaleSections() {
          return this.jsondata.sale_sections;
        }
        GenerateDynamicSaleSections(e, t, a, n) {
          const r = [],
            s = {
              section_type: "unselected_empty",
              capsules: void 0,
              events: void 0,
              links: void 0,
              localized_label: void 0,
              default_label: void 0,
            };
          return (
            e &&
              r.push({
                ...s,
                section_type: "footer_self_creator_home",
                unique_id: 90010,
                curator_clan_id: this.clanSteamID.GetAccountID(),
              }),
            a &&
              r.push({
                ...s,
                section_type: "footer_browse_more",
                unique_id: 90012,
              }),
            n &&
              r.push({
                ...s,
                section_type: "footer_default_social_share",
                unique_id: 90013,
              }),
            r
          );
        }
        GetSaleSectionIncludingFooterSections() {
          const e = this.jsondata?.sale_show_creator,
            t = this.BSaleShowCuratorRecommendationAtBottomOfPage(),
            a = this.jsondata.sale_browse_more_button,
            n =
              0 == this.GetSaleSectionsByType("social_share").length &&
              !this.jsondata.sale_default_social_media_disabled;
          return e || t || a || n
            ? [
                ...this.GetSaleSections(),
                ...this.GenerateDynamicSaleSections(e, t, a, n),
              ]
            : this.GetSaleSections();
        }
        GetSaleSectionByID(e) {
          if (e > A) {
            return this.GenerateDynamicSaleSections(!0, !0, !0, !0).find(
              (t) => t.unique_id == e,
            );
          }
          return this.jsondata.sale_sections?.find((t) => t.unique_id == e);
        }
        GetSaleSectionCount() {
          return this.jsondata.sale_sections.length;
        }
        GetSaleSectionsByType(e) {
          return this.jsondata.sale_sections?.filter(
            (t) => t.section_type == e,
          );
        }
        GetSaleSectionFirstMatchByType(e) {
          for (let t = 0; t < this.jsondata.sale_sections.length; ++t)
            if (this.jsondata.sale_sections[t].section_type === e)
              return this.jsondata.sale_sections[t];
        }
        static AccumulateCapsuleListIDs(e, t, a, n) {
          e &&
            e.forEach((e) => {
              if (e) {
                t.has(e.type) && ((n && !n(e.id)) || a.add(e.id));
              }
            });
        }
        GetSaleItemOfType(e, t) {
          if (!this.jsondata.sale_sections) return new Set();
          const a = new Set(e),
            n = new Set();
          if (
            ((0, h.w)(
              !this.jsondata.bOptimizedForSize,
              "Cannot find all items in optimized json",
            ),
            this.jsondata.bOptimizedForSize && "dev" == f.TS.WEB_UNIVERSE)
          )
            throw new Error(
              "GetSaleOfItemType called on a truncated jsondata.",
            );
          return (
            this.jsondata.tagged_items?.forEach((e) => {
              W.AccumulateCapsuleListIDs([e.capsule], a, n, t);
            }),
            this.jsondata.sale_sections.forEach((e) => {
              if (O(e.section_type))
                W.AccumulateCapsuleListIDs(e.capsules, a, n, t);
              else if ("tabs" === e.section_type && e.tabs)
                for (const r of e.tabs)
                  W.AccumulateCapsuleListIDs(r.capsules, a, n, t);
            }),
            n
          );
        }
        GetSaleItemCountOfType(e, t) {
          return this.GetSaleItemOfType(e, t).size;
        }
        GetSaleFeaturedAppsCount(e) {
          return this.GetSaleItemCountOfType(
            ["game", "application", "software", "dlc", "music"],
            e,
          );
        }
        GetSaleFeaturedAppsAndDemosCount(e) {
          return this.GetSaleItemCountOfType(
            ["game", "application", "software", "dlc", "music", "demo"],
            e,
          );
        }
        GetSaleFeaturedBundlesCount(e) {
          return this.GetSaleItemCountOfType(["bundle"], e);
        }
        GetSaleFeaturedPackagesCount(e) {
          return this.GetSaleItemCountOfType(["sub"], e);
        }
        GetSaleFeaturedApps(e) {
          return this.GetSaleItemOfType(
            ["game", "application", "software", "dlc", "music"],
            e,
          );
        }
        GetSaleFeaturedAppsAndDemos(e) {
          return this.GetSaleItemOfType(
            ["game", "application", "software", "dlc", "music", "demo"],
            e,
          );
        }
        GetSaleFeaturedBundles(e) {
          return this.GetSaleItemOfType(["bundle"], e);
        }
        GetSaleFeaturedPackages(e) {
          return this.GetSaleItemOfType(["sub"], e);
        }
        GetTaggedItems() {
          return this.jsondata.tagged_items || [];
        }
        BHasScheduleEnabled() {
          return this.jsondata.bScheduleEnabled;
        }
        GetEventType() {
          return this.type;
        }
        GetEventTypeAsString() {
          return (0, v.rG)(this.type);
        }
        GetCategoryAsString() {
          return this.BHasTag("steam_award_nomination_request")
            ? (0, g.we)("#PartnerEvent_SteamAwardNominations")
            : this.BHasTag("steam_award_vote_request")
              ? (0, g.we)("#PartnerEvent_SteamAwardVoteRequest")
              : this.BHasTag("steam_game_festival_artist_statement")
                ? (0, g.we)("#PartnerEvent_SteamGameFestival_ArtistState")
                : this.BHasTag("steam_game_festival_office_hour")
                  ? (0, g.we)("#PartnerEvent_SteamGameFestival_OfficeHour")
                  : this.BHasTag("steam_game_festival_broadcast") ||
                      (this.BHasTagStartingWith("sale_nextfest_") &&
                        11 == this.type)
                    ? (0, g.we)("#PartnerEvent_SteamGameFestival_Broadcast")
                    : this.GetEventTypeAsString();
        }
        GetAllTags() {
          return this.vecTags;
        }
        BMatchesAllTags(e) {
          let t = !0;
          return (
            e?.forEach((e) => {
              this.vecTags.includes(e) || (t = !1);
            }),
            t
          );
        }
        BAllowedSteamStoreSpotlight() {
          return Boolean(this.jsondata.store_spotlight);
        }
        BHasLibaryHomeSpotlight() {
          return Boolean(this.jsondata.library_home_spotlight);
        }
        BHasSaleProductBanners() {
          return (
            this.jsondata.bSaleEnabled &&
            (this.BHasSomeImage("product_banner") ||
              this.BHasSomeImage("product_banner_override"))
          );
        }
        GetSteamAwardCategory() {
          return this.jsondata.steam_award_category_suggestion;
        }
        GetSteamAwardNomineeCategories() {
          return this.jsondata.steam_award_category_voteids;
        }
        BIsLockedToGameOwners() {
          return Boolean(
            this.jsondata.ownership_requirement_info?.bLockedToAppOwners,
          );
        }
        GetRequiredAppIDs() {
          return this.jsondata.ownership_requirement_info
            ? this.jsondata.ownership_requirement_info.rgRequiredAppIDs
            : [];
        }
        GetRequiredPackageIDs() {
          return this.jsondata.ownership_requirement_info
            ? this.jsondata.ownership_requirement_info.rgRequiredPackageIDs
            : [];
        }
        BUseSubscriptionLayout() {
          return !!this.jsondata.sale_use_subscription_layout;
        }
        BIsLockedToPartnerAppRights() {
          return Boolean(
            this.jsondata.app_right_requirement_info?.bLockedToPartnerAppRights,
          );
        }
        GetRequiredPartnerAppRights() {
          return this.jsondata.app_right_requirement_info;
        }
        GetValveAccessLog() {
          return Array.isArray(this.jsondata.valve_access_log)
            ? this.jsondata.valve_access_log
            : [];
        }
        BUsesContentHubForItemSource() {
          return (
            this.jsondata.item_source_type === x.k_EContentHub &&
            Boolean(this.jsondata.source_content_hub)
          );
        }
        GetContentHubType() {
          return this.BUsesContentHubForItemSource()
            ? null == this.jsondata.source_content_hub
              ? "games"
              : "string" == typeof this.jsondata.source_content_hub
                ? "category"
                : this.jsondata.source_content_hub.type
            : void 0;
        }
        GetContentHubCategory() {
          return null == this.jsondata.source_content_hub
            ? void 0
            : "string" == typeof this.jsondata.source_content_hub
              ? this.jsondata.source_content_hub
              : this.jsondata.source_content_hub.category;
        }
        GetContentHubTag() {
          return null == this.jsondata.source_content_hub
            ? void 0
            : "string" == typeof this.jsondata.source_content_hub
              ? 0
              : this.jsondata.source_content_hub.tagid;
        }
        GetContentHub() {
          return "string" == typeof this.jsondata.source_content_hub
            ? { type: "category", category: this.jsondata.source_content_hub }
            : this.jsondata.source_content_hub;
        }
        BContentHubDiscountedOnly() {
          return this.jsondata.content_hub_discounted_only;
        }
        BIsBackgroundImageGroupingEnabled() {
          return this.jsondata.sale_background_img_groups?.enabled;
        }
        GetSalePageGroupDefinition() {
          return this.jsondata.sale_background_img_groups;
        }
        GetSalePageBackgroundImageGroupCount() {
          return this.jsondata.sale_background_img_groups?.enabled
            ? this.jsondata.sale_background_img_groups.groups.length
            : 0;
        }
        GetAllSalePageGroups() {
          return this.jsondata.sale_background_img_groups?.enabled
            ? this.jsondata.sale_background_img_groups.groups
            : [];
        }
        GetSalePageBackgroundGroup(e) {
          return this.jsondata.sale_background_img_groups?.enabled
            ? this.jsondata.sale_background_img_groups.groups[e]
            : null;
        }
        GetIncludedRealmList() {
          const e = new Array();
          return (
            this.BInRealmGlobal() && e.push(s.TU.k_ESteamRealmGlobal),
            this.BInRealmChina() && e.push(s.TU.k_ESteamRealmChina),
            (0, h.w)(
              e.length > 0,
              `Event ${this.GID} is currently configured so that no realms are valid for display. Either enable Steam China or Global to address this issue`,
            ),
            e
          );
        }
        BIsValidForRealm(e) {
          return this.GetIncludedRealmList().includes(e);
        }
      }
      (0, n.Cg)([i.sH], W.prototype, "GID", void 0),
        (0, n.Cg)([i.sH], W.prototype, "AnnouncementGID", void 0),
        (0, n.Cg)([i.sH], W.prototype, "forumTopicGID", void 0),
        (0, n.Cg)([i.sH], W.prototype, "type", void 0),
        (0, n.Cg)([i.sH], W.prototype, "appid", void 0),
        (0, n.Cg)([i.sH], W.prototype, "name", void 0),
        (0, n.Cg)([i.sH], W.prototype, "description", void 0),
        (0, n.Cg)([i.sH], W.prototype, "timestamp_loc_updated", void 0),
        (0, n.Cg)([i.sH], W.prototype, "startTime", void 0),
        (0, n.Cg)([i.sH], W.prototype, "endTime", void 0),
        (0, n.Cg)([i.sH], W.prototype, "visibilityStartTime", void 0),
        (0, n.Cg)([i.sH], W.prototype, "visibilityEndTime", void 0),
        (0, n.Cg)([i.sH], W.prototype, "m_nBuildID", void 0),
        (0, n.Cg)([i.sH], W.prototype, "m_strBuildBranch", void 0),
        (0, n.Cg)([i.sH], W.prototype, "postTime", void 0),
        (0, n.Cg)([i.sH], W.prototype, "visibility_state", void 0),
        (0, n.Cg)([i.sH], W.prototype, "broadcaster", void 0),
        (0, n.Cg)([i.sH], W.prototype, "jsondata", void 0),
        (0, n.Cg)([i.sH], W.prototype, "nCommentCount", void 0),
        (0, n.Cg)([i.sH], W.prototype, "nVotesUp", void 0),
        (0, n.Cg)([i.sH], W.prototype, "nVotesDown", void 0),
        (0, n.Cg)([i.sH], W.prototype, "bOldAnnouncement", void 0),
        (0, n.Cg)([i.sH], W.prototype, "announcementClanSteamID", void 0),
        (0, n.Cg)([i.sH], W.prototype, "loadedAllLanguages", void 0),
        (0, n.Cg)([i.sH], W.prototype, "bLoaded", void 0),
        (0, n.Cg)([i.sH], W.prototype, "deleteInProgress", void 0),
        (0, n.Cg)([i.sH], W.prototype, "vecTags", void 0),
        (0, n.Cg)([i.sH], W.prototype, "last_update_steamid", void 0),
        (0, n.Cg)([i.sH], W.prototype, "rtime32_last_modified", void 0),
        (0, n.Cg)(
          [i.sH],
          W.prototype,
          "rtime32_last_solr_search_col_updated",
          void 0,
        ),
        (0, n.Cg)(
          [i.sH],
          W.prototype,
          "rtime32_last_local_modification",
          void 0,
        ),
        (0, n.Cg)([i.sH], W.prototype, "rtime32_moderator_reviewed", void 0),
        (0, n.Cg)([i.sH], W.prototype, "video_preview_type", void 0),
        (0, n.Cg)([i.sH], W.prototype, "video_preview_id", void 0),
        (0, n.Cg)([i.sH], W.prototype, "m_overrideCurrentDay", void 0);
    },
    38390: (e, t, a) => {
      "use strict";
      a.d(t, { B9: () => l, RR: () => o });
      var n = a(90626),
        r = a(20587),
        s = a(4434),
        i = a(17720);
      a(78327), a(17690);
      function o(e) {
        const [t, a] = (0, n.useState)(() => {
            const t = r.O3.GetClanEventModel(e);
            return console.log("adil", t), t;
          }),
          i = (0, s.m)("usePartnerEventByEventGID");
        return (
          (0, n.useEffect)(() => {
            e &&
              t?.GID != e &&
              (r.O3.Init(),
              r.O3.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                [e],
                [],
                i,
              ).then((t) => {
                1 != t?.length || t[0].GID != e || i.token.reason || a(t[0]);
              }));
          }, [e, t, i]),
          t
        );
      }
      function l(e, t, a) {
        const [o, l] = (0, n.useState)(r.O3.GetClanEventModel(t)),
          [d, c] = (0, n.useState)(!!e && !!t),
          [m, u] = (0, n.useState)(),
          p = (0, s.m)("usePartnerEventByClanAccountAndEventGID");
        return (
          (0, n.useEffect)(() => {
            (async () => {
              try {
                if (o?.GID != t && t) {
                  r.O3.Init();
                  const n = i.b.InitFromClanID(e);
                  let s;
                  try {
                    s =
                      await r.O3.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                        n,
                        t,
                        0,
                        a,
                      );
                  } catch (e) {
                    u(e?.response?.data?.err_msg);
                  }
                  p.token.reason || l(s);
                }
              } finally {
                c(!1);
              }
            })();
          }, [e, t, o, a, p]),
          { eventModel: o, bLoading: d, sErrorMessage: m }
        );
      }
    },
    55963: (e, t, a) => {
      "use strict";
      a.d(t, {
        Ay: () => m,
        L3: () => c,
        VZ: () => l,
        k2: () => o,
        wJ: () => d,
      });
      var n = a(3578),
        r = a(44332),
        s = a(61336),
        i = a(30470);
      function o(e, t = "", a = null) {
        return m.InstrumentLink(e, t, a);
      }
      function l(e, t, a = null) {
        const n = (0, s.wm)(e).toLowerCase(),
          r = (0, s.wm)(i.TS.COMMUNITY_BASE_URL).toLowerCase(),
          o = (0, s.wm)(i.TS.STORE_BASE_URL).toLowerCase();
        return n === r || n === o ? d(e, t, a) : e;
      }
      function d(e, t, a = null) {
        const r = c(t, a);
        return n.A.AddNavParamToURL(e, r);
      }
      function c(e, t = null) {
        return e?.domain ? m.GetLinkParam(e, t) : i.TS.SNR;
      }
      class m {
        static sm_strDomain;
        static sm_strController;
        static sm_strMethod;
        static sm_strSubmethod;
        static sm_strComputedLinkPrefix;
        static SetNavEventParams(e, t, a = null, n = null) {
          (m.sm_strDomain = e),
            (m.sm_strController = t),
            (m.sm_strMethod = a),
            (m.sm_strSubmethod = n),
            (m.sm_strComputedLinkPrefix = null);
        }
        static GetDefaultParams() {
          let e = { domain: m.sm_strDomain, controller: m.sm_strController };
          return (
            m.sm_strMethod && (e.method = m.sm_strMethod),
            m.sm_strSubmethod && (e.submethod = m.sm_strSubmethod),
            e
          );
        }
        static InstrumentLink(e, t, a = null) {
          const r = m.GetLinkParam(t, a);
          return n.A.AddNavParamToURL(e, r);
        }
        static GetLinkParam(e, t = null) {
          let a, r;
          if ("string" != typeof e) {
            if (e.domain) return n.A.GetLinkParam(e, t);
            a = e.feature || "";
          }
          if (!m.sm_strComputedLinkPrefix && !m.ComputeStaticLinkPrefix())
            return null;
          r = m.sm_strComputedLinkPrefix;
          let s = n.A.EncodeEventComponent(a);
          return s && ((r += "_" + s), t && (r += "_" + t)), r;
        }
        static ComputeStaticLinkPrefix() {
          return m.sm_strDomain
            ? ((m.sm_strComputedLinkPrefix = n.A.ComputeLinkPrefix(
                m.sm_strDomain,
                m.sm_strController,
                m.sm_strMethod,
                m.sm_strSubmethod,
              )),
              !0)
            : ((0, r.w)(
                !1,
                "CStoreNavEvents::SetNavEventParams was not called before calling InstrumentLink!",
              ),
              !1);
        }
      }
    },
    13699: (e, t, a) => {
      "use strict";
      a.d(t, { R: () => d });
      var n = a(34629),
        r = a(41735),
        s = a.n(r),
        i = a(14947),
        o = a(78327);
      class l {
        constructor() {
          (0, i.Gn)(this);
        }
        m_mapYouTubeVideo = new Map();
        m_mapSharedFile = new Map();
        async LoadYouTubeDynamicData(e, t) {
          let a = new Array(),
            n = "";
          if (
            (e.forEach((e, t) => {
              this.m_mapYouTubeVideo.has(e)
                ? a.push(this.m_mapYouTubeVideo.get(e))
                : (n.length > 0 && (n += ","), (n += e));
            }),
            0 == n.length)
          )
            return a;
          let r = { youtubevideoids: n },
            l = null;
          return (
            (l = await s().get(
              o.TS.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
              { params: r, cancelToken: t.token },
            )),
            l &&
              l.data &&
              l.data.youtube &&
              (0, i.h5)(() => {
                l.data.youtube.forEach((e, t) => {
                  this.m_mapYouTubeVideo.set(e.videoid, e), a.push(e);
                });
              }),
            a
          );
        }
        async LoadSharedFileDynamicData(e, t) {
          let a = new Array(),
            n = "";
          if (
            (e.forEach((e, t) => {
              this.m_mapSharedFile.has(e)
                ? a.push(this.m_mapSharedFile.get(e))
                : (n.length > 0 && (n += ","), (n += e));
            }),
            0 == n.length)
          )
            return a;
          let r = { sharedfileids: n },
            l = null;
          return (
            (l = await s().get(
              o.TS.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
              { params: r, cancelToken: t.token },
            )),
            l &&
              l.data &&
              l.data.sharedfiles &&
              (0, i.h5)(() => {
                l.data.sharedfiles.forEach((e, t) => {
                  this.m_mapSharedFile.set(e.sharedfileid, e), a.push(e);
                });
              }),
            a
          );
        }
      }
      (0, n.Cg)([i.sH], l.prototype, "m_mapYouTubeVideo", void 0),
        (0, n.Cg)([i.sH], l.prototype, "m_mapSharedFile", void 0);
      const d = new l();
    },
    28954: (e, t, a) => {
      "use strict";
      a.d(t, { V: () => y });
      var n = a(34629),
        r = a(2160),
        s = a(41735),
        i = a.n(s),
        o = a(14947),
        l = a(68797),
        d = a(6419),
        c = a(6144),
        m = a(56011),
        u = a(61859),
        p = a(78327),
        _ = a(86355),
        h = a(64953),
        g = a(69343);
      class y {
        m_filesToUpload = o.sH.array();
        m_filesCompleted = [];
        m_clanSteamID;
        m_allCancelTokens = new Array();
        m_lastError = void 0;
        m_fnSetImageURL = null;
        constructor(e) {
          (0, o.Gn)(this), (this.m_clanSteamID = e);
        }
        GetClanSteamID() {
          return this.m_clanSteamID;
        }
        SetImageAllUrlFunction(e) {
          this.m_fnSetImageURL = e;
        }
        async AddImage(e, t = 0, a, n) {
          const r = (0, g.j)(e.name, t);
          return this.AddImageForLanguage(e, r, a, n);
        }
        async AddImageForLanguage(e, t, a, n) {
          let r = !1;
          return (
            await new Promise((s) => {
              const i = new FileReader();
              (i.onload = () => {
                const o = e.name.split(".").pop().toLowerCase();
                let l = null;
                !p.iA.is_support || ("webm" != o && "mp4" != o)
                  ? ((l = new Image()),
                    (l.onload = () => {
                      const i = new h.i9(e, t, l, a, n);
                      (this.m_filesToUpload = [...this.m_filesToUpload, i]),
                        (r = !0),
                        s();
                    }))
                  : ((l = document.createElement("video")),
                    (l.onloadeddata = () => {
                      const i = new h.i9(e, t, l, a, n);
                      (this.m_filesToUpload = [...this.m_filesToUpload, i]),
                        (r = !0),
                        s();
                    })),
                  (l.onerror = (e) => {
                    console.error(
                      "CClanImageUploader failed to load the image, details",
                      e,
                    ),
                      (r = !1),
                      s();
                  }),
                  (l.src = i.result.toString());
              }),
                i.readAsDataURL(e);
            }),
            r
          );
        }
        async AddExistingClanImage(e, t = 0, a, n) {
          let r = _.i6.GetHashAndExt(e),
            s = _.i6.GenerateEditableArtworkURLFromHashAndExtension(
              this.m_clanSteamID,
              r,
            ),
            o = await i()({ url: s, method: "GET", responseType: "blob" }),
            l = (0, m.pE)(o.data, e.file_name);
          return await this.AddImage(l, t, a, n);
        }
        DeleteUploadImageByIndex(e) {
          this.m_filesToUpload.splice(e, 1),
            (this.m_filesToUpload = [...this.m_filesToUpload]);
        }
        DeleteUploadImage(e) {
          let t = this.m_filesToUpload.findIndex(
            (t) => e.file == t.file && e.uploadTime == t.uploadTime,
          );
          t >= 0 && this.DeleteUploadImageByIndex(t);
        }
        ClearImages() {
          this.m_filesToUpload = o.sH.array();
        }
        GetFilesUploaded() {
          return this.m_filesCompleted;
        }
        GetLastErrorFile() {
          return this.m_lastError;
        }
        GetCompletedFiles() {
          return this.m_filesCompleted.length;
        }
        GetTotalFiles() {
          return this.m_filesToUpload.length;
        }
        GetFilesToUpload() {
          return this.m_filesToUpload.map((e) => e.file);
        }
        GetUploadImages() {
          return this.m_filesToUpload;
        }
        BHasError() {
          return null != this.m_lastError;
        }
        BAllDone() {
          return (
            this.m_filesCompleted.length > 0 &&
            this.m_filesCompleted.length == this.m_filesToUpload.length
          );
        }
        BIsFileCompleted(e) {
          return -1 != this.m_filesCompleted.indexOf(e);
        }
        async UploadAllImages(e, t, a, n, r) {
          const s = {};
          for (let e of this.m_filesToUpload)
            if (!this.BIsFileCompleted(e.file)) {
              const t = e.IsValidAssetType(a, n, r);
              if (t.error || t.needsCrop)
                t.error &&
                  (this.m_lastError = {
                    file: e.file,
                    message: t.error,
                    status: 401,
                  });
              else {
                e.status = "uploading";
                s[`${e.uploadTime}/${e.file.name}`] = this.UploadFile({
                  uploadFile: e.file,
                  filename: e.file.name,
                  artworkType: t.match,
                  resizeRequests: e.GetResizeDimension(),
                  primaryLocalizeImage: e.localizedImageGroupPrimaryImage,
                  lang: e.language,
                  width: e.width,
                  height: e.height,
                });
              }
            }
          const i = await (0, c.RR)(s);
          return (
            Object.keys(i).forEach((a) => {
              const n = i[a],
                r = this.m_filesToUpload.find(
                  (e) => `${e.uploadTime}/${e.file.name}` === a,
                );
              if (r)
                if (1 !== n.success)
                  (r.status = "failed"), (r.message = n.message);
                else if (((r.status = "success"), this.m_fnSetImageURL))
                  if (n.origimagehash) {
                    const a = (0, g.P)(n.language, t, e);
                    _.pU.AddLocalizeImageUploaded(n.origimagehash, a);
                  } else {
                    const a = _.pU.GetClanImageByImageHash(
                      this.m_clanSteamID,
                      n.image_hash,
                    );
                    if (a) {
                      const n = (0, g.P)(r.language, t, e);
                      this.m_fnSetImageURL(r.type, a, n);
                    }
                  }
            }),
            i
          );
        }
        CancelAllUploads() {
          for (let e of this.m_allCancelTokens)
            e.cancel((0, u.we)("#ImageUpload_CancelRequest"));
          this.m_allCancelTokens = new Array();
        }
        RetryAllFailedUploads() {
          this.CancelAllUploads(),
            this.UploadAllImages([r.TU.k_ESteamRealmGlobal], 0);
        }
        async handleUploadRefresh(e) {
          await _.pU.LoadClanImages(this.m_clanSteamID, !0, e);
        }
        async UploadFile(e) {
          const {
            uploadFile: t,
            filename: a,
            artworkType: n,
            resizeRequests: r,
            primaryLocalizeImage: s,
            lang: o,
            width: d,
            height: c,
          } = e;
          let m = null;
          const u = new FormData();
          u.append("clanimage", t, a),
            u.append("sessionid", p.TS.SESSIONID),
            n && u.append("arttype", n),
            r &&
              r.length > 0 &&
              u.append(
                "resize",
                r.map((e) => e.width + "x" + e.height).join(","),
              );
          let _ = "/uploadimage/";
          s &&
            ((_ = "/ajaxuploadlocalizedimage/"),
            u.append("origimagehash", s.image_hash),
            u.append("thumbhash", s.thumbnail_hash),
            u.append("extension", "" + s.file_type),
            u.append("language", "" + o));
          const h = a.split(".").pop().toLocaleLowerCase();
          ("webm" != h && "mp4" != h) ||
            (u.append("video_width", "" + d), u.append("video_height", "" + c));
          const g = i().CancelToken.source();
          this.m_allCancelTokens.push(g);
          let y =
              p.TS.COMMUNITY_BASE_URL +
              "/gid/" +
              this.m_clanSteamID.ConvertTo64BitString() +
              _,
            v = {
              cancelToken: g.token,
              withCredentials: !0,
              headers: { "Content-Type": "multipart/form-data" },
            };
          try {
            (m = await i().post(y, u, v)), this.m_filesCompleted.push(t);
          } catch (e) {
            (this.m_lastError = {
              file: t,
              status: e.response ? e.response.status : 500,
              message: (0, l.H)(e).strErrorMsg,
            }),
              (m = e.response);
          }
          return s || (await this.handleUploadRefresh(g)), m.data;
        }
        static async SendResizeRequest(e, t, a, n, r) {
          let s =
              p.TS.COMMUNITY_BASE_URL +
              "/gid/" +
              t.ConvertTo64BitString() +
              "/resizeimage/",
            o = new FormData();
          return (
            o.append("imagehash", a),
            o.append("extension", n),
            o.append(
              "resize",
              r.map((e) => e.width + "x" + e.height).join(","),
            ),
            o.append("sessionid", p.TS.SESSIONID),
            (await i().post(s, o, { cancelToken: e.token })).data.count
          );
        }
      }
      (0, n.Cg)([o.sH], y.prototype, "m_filesToUpload", void 0),
        (0, n.Cg)([o.sH], y.prototype, "m_filesCompleted", void 0),
        (0, n.Cg)([o.sH], y.prototype, "m_lastError", void 0),
        (0, n.Cg)([d.o], y.prototype, "AddImage", null),
        (0, n.Cg)([d.o], y.prototype, "AddExistingClanImage", null),
        (0, n.Cg)([d.o], y.prototype, "DeleteUploadImageByIndex", null),
        (0, n.Cg)([d.o], y.prototype, "DeleteUploadImage", null),
        (0, n.Cg)([d.o], y.prototype, "ClearImages", null);
    },
    64953: (e, t, a) => {
      "use strict";
      a.d(t, { DA: () => m, _u: () => c, i9: () => p });
      var n = a(34629),
        r = a(14947),
        s = a(73744),
        i = a(56011),
        o = a(61859),
        l = a(86355);
      class d {
        dataUrl = void 0;
        width = void 0;
        height = void 0;
        type = void 0;
        status = void 0;
        message = void 0;
        language;
        file;
        uploadTime;
        fileType = 0;
        constructor(e, t, a, n, i, o) {
          if (
            ((0, r.Gn)(this),
            (this.file = e),
            (this.fileType = l.i6.GetExtensionTypeFromURL(e.name)),
            (this.language = t),
            (this.uploadTime = Date.now()),
            (this.status = "pending"),
            a)
          ) {
            const e = (0, s.vz)(this.fileType, a);
            let t = (0, l.AS)(i, o, e, !1);
            void 0 === t && (t = (0, l.AS)(i, o, e, !0)),
              (this.type = t || a[0]);
          }
          (this.height = o), (this.width = i), (this.dataUrl = n);
        }
        IsValidAssetType(e, t, a) {
          let n = 0,
            r = 0,
            i = !1,
            d = !e || 0 === e.length || e.includes(this.type);
          if (t) (n = t.width), (r = t.height), (i = !0);
          else if (this.type) {
            const e = s.Fj[this.type];
            e &&
              ((n = e.width),
              (r = e.height),
              (i = !e.bDisableEnforceDimensions));
          }
          const c = this.width >= n && this.height >= r,
            m = i ? this.width === n && this.height === r : c,
            u = a && a != this.fileType,
            p =
              !!(e && e.length > 0) &&
              0 == (0, s.vz)(this.fileType, e || []).length,
            h = Boolean(_(this.fileType));
          let g = "",
            y = !1;
          return (
            d
              ? p
                ? (g = (0, o.we)("#ImageUpload_InvalidFileType"))
                : u
                  ? (g = (0, o.we)(
                      "#ImageUpload_InvalidFormat",
                      l.i6.GetExtensionStringForFileType(a),
                    ))
                  : m || h
                    ? c
                      ? !m &&
                        h &&
                        ((g = (0, o.we)(
                          "#ImageUpload_InvalidDimensions",
                          n,
                          r,
                        )),
                        (y = !0))
                      : (g = (0, o.we)("#ImageUpload_TooSmall", n, r))
                    : (g = (0, o.we)("#ImageUpload_InvalidResolution", n, r))
              : (g = (0, o.we)("#ImageUpload_InvalidFormatSelected")),
            { error: g, needsCrop: y, match: this.type }
          );
        }
      }
      (0, n.Cg)([r.sH], d.prototype, "dataUrl", void 0),
        (0, n.Cg)([r.sH], d.prototype, "width", void 0),
        (0, n.Cg)([r.sH], d.prototype, "height", void 0),
        (0, n.Cg)([r.sH], d.prototype, "type", void 0),
        (0, n.Cg)([r.sH], d.prototype, "status", void 0),
        (0, n.Cg)([r.sH], d.prototype, "message", void 0);
      class c extends d {
        video;
        constructor(e, t, a, n) {
          super(e, t, n, a.src, a.videoWidth, a.videoHeight), (this.video = a);
        }
        BIsOriginalMinimumDimensions(e) {
          return (0, s.s4)(this.video.videoWidth, this.video.videoHeight, e);
        }
        GetResizeDimension() {}
      }
      class m extends d {
        constructor(e, t, a) {
          super(e, t, a, URL.createObjectURL(e), 0, 0);
        }
        BIsOriginalMinimumDimensions(e) {
          return (0, s.XY)(e);
        }
        GetResizeDimension() {}
      }
      function u(e) {
        const t = e.split(".").pop().toLocaleLowerCase();
        return "webm" == t || "mp4" == t;
      }
      class p extends d {
        bCropped = !1;
        localizedImageGroupPrimaryImage;
        media;
        constructor(e, t, a, n, s) {
          super(
            e,
            t,
            n,
            a.src,
            u(e.name) ? a.videoWidth : a.width,
            u(e.name) ? a.videoHeight : a.height,
          ),
            (0, r.Gn)(this),
            (this.media = a),
            (this.localizedImageGroupPrimaryImage = s);
        }
        ResetImage() {
          (this.height = this.media.height),
            (this.width = this.media.width),
            (this.dataUrl = this.media.src);
        }
        async CropImage(e, t, a, n, r, s, o) {
          return new Promise((l, d) => {
            const c = _(o);
            if (!c) return void d("Invalid format provided");
            const m = document.createElement("canvas");
            (m.width = r), (m.height = s);
            m.getContext("2d").drawImage(this.media, e, t, a, n, 0, 0, r, s),
              m.toBlob((e) => {
                const t = m.toDataURL(c);
                3 !== o && t.startsWith("data:image/png")
                  ? d("Unable to encode into the requested file format")
                  : ((this.file = (0, i.pE)(e, this.file.name)),
                    (this.width = r),
                    (this.height = s),
                    (this.dataUrl = t),
                    (this.uploadTime = Date.now()),
                    (this.bCropped = !0),
                    l());
              });
          });
        }
        BIsOriginalMinimumDimensions(e) {
          return (0, s.s4)(this.media.width, this.media.height, e);
        }
        GetResizeDimension() {
          return (function (e) {
            if ("background" === e)
              return [
                { width: 960, height: 311 },
                { width: 480, height: 156 },
              ];
            if ("capsule" === e)
              return [{ width: s.Fj[e].width / 2, height: s.Fj[e].height / 2 }];
            if ("spotlight" === e)
              return [{ width: s.Fj[e].width / 2, height: s.Fj[e].height / 2 }];
            return;
          })(this.type);
        }
      }
      function _(e) {
        switch (e) {
          case 3:
            return "image/png";
          case 1:
            return "image/jpeg";
        }
      }
      (0, n.Cg)([r.sH], p.prototype, "bCropped", void 0);
    },
    69343: (e, t, a) => {
      "use strict";
      a.d(t, { P: () => i, j: () => o });
      var n = a(22837),
        r = a(2160),
        s = a(61859);
      function i(e, t, a) {
        if (((null != e && null != e) || (e = t), !a || 0 === a.length))
          return e;
        for (const t of a) if (s.A0.IsELanguageValidInRealm(e, t)) return e;
        for (const e of a) if (s.A0.IsELanguageValidInRealm(t, e)) return t;
        return a.includes(r.TU.k_ESteamRealmGlobal) ? 0 : 29;
      }
      function o(e, t = 0) {
        let a = e.lastIndexOf(".");
        -1 != a && (e = e.slice(0, a).toLowerCase());
        let r = null,
          s = 0;
        e.endsWith("korean") && ((r = 4), (s = 6));
        for (let t = 0; t < 31; ++t) {
          const a = (0, n.Lg)(t);
          a.length <= s || (e.endsWith(a) && ((r = t), (s = a.length)));
        }
        return r || t;
      }
    },
    86355: (e, t, a) => {
      "use strict";
      a.d(t, {
        AS: () => I,
        i6: () => C,
        mr: () => A,
        pU: () => T,
        pb: () => S,
        wI: () => w,
      });
      var n = a(34629),
        r = a(22837),
        s = a(41735),
        i = a.n(s),
        o = a(14947),
        l = a(90626),
        d = a(73744),
        c = a(17720),
        m = a(28954),
        u = a(4434),
        p = a(62490),
        _ = a(44332),
        h = a(68797),
        g = a(6144),
        y = (a(375), a(14771)),
        v = a(78327),
        f = a(27666),
        b = a(82705),
        E = a(56004);
      var w;
      function I(e, t, a, n = !1) {
        if (a)
          for (let r of a) {
            if (n ? (0, d.s4)(e, t, r) : (0, d.yu)(e, t, r)) return r;
          }
      }
      !(function (e) {
        (e.full = ""),
          (e.background_main = "_960x311"),
          (e.background_mini = "_480x156"),
          (e.capsule_main = "_400x225"),
          (e.spotlight_main = "_1054x230");
      })(w || (w = {}));
      const S = [
        "localized_image_group",
        "link_capsule",
        "product_mobile_banner_override",
        "product_banner_override",
        "sale_section_title",
        "schedule_track_art",
        "localized_background_art",
      ];
      class C {
        constructor() {
          (0, o.Gn)(this);
        }
        m_mapClanToImages = new Map();
        m_mapClanImageLoadPromises = new Map();
        m_imageListChangeCallback = new Map();
        m_mapClanImageLoadState = new Map();
        m_mapImageIDToResolution = new Map();
        m_curLocImageGroup = null;
        m_curLocImageGroupType = null;
        BHasImageResolution(e) {
          return this.m_mapImageIDToResolution.has(e.imageid);
        }
        GetImageResolution(e) {
          return this.m_mapImageIDToResolution.get(e.imageid);
        }
        SetImageResolution(e, t) {
          this.m_mapImageIDToResolution.set(e.imageid, t);
        }
        GetImageListCallbackForClanAccountID(e) {
          return (
            this.m_imageListChangeCallback.has(e) ||
              this.m_imageListChangeCallback.set(e, new g.lu()),
            this.m_imageListChangeCallback.get(e)
          );
        }
        static GetExtensionStringForFileType(e) {
          switch (e) {
            case 1:
              return ".jpg";
            case 2:
              return ".gif";
            case 3:
              return ".png";
            case 5:
              return ".webm";
            case 4:
              return ".mp4";
            case 7:
              return ".srt";
            case 6:
              return ".vtt";
            case 10:
              return ".webp";
          }
        }
        static GetExtensionString(e) {
          return C.GetExtensionStringForFileType(e.file_type) || ".jpg";
        }
        static GetExtensionTypeFromURL(e) {
          return (0, b.yh)(e);
        }
        static GetHashAndExt(e) {
          return e ? e.image_hash + C.GetExtensionString(e) : null;
        }
        static GetThumbHashAndExt(e) {
          return e ? e.thumbnail_hash + C.GetExtensionString(e) : null;
        }
        m_vecClanImageDragListener = new Array();
        AddClanImageDragListener(e) {
          -1 == this.m_vecClanImageDragListener.indexOf(e) &&
            this.m_vecClanImageDragListener.push(e);
        }
        RemoveClanImageDragListener(e) {
          let t = this.m_vecClanImageDragListener.indexOf(e);
          -1 != t && this.m_vecClanImageDragListener.splice(t, 1);
        }
        GetClanImageDragListener() {
          return this.m_vecClanImageDragListener;
        }
        BHasLoadedClanImages(e) {
          return this.m_mapClanToImages.has(e.GetAccountID());
        }
        async LoadClanImages(e, t, a) {
          const n = e.GetAccountID();
          return (
            (!t && this.m_mapClanImageLoadPromises.has(n)) ||
              this.m_mapClanImageLoadPromises.set(
                n,
                this.InternalLoadClanImages(e, t, a),
              ),
            this.m_mapClanImageLoadPromises.get(n)
          );
        }
        async InternalLoadClanImages(e, t, a) {
          let n = e.GetAccountID();
          if (
            ((0, _.w)(e && 0 != n, "ClanSteamID missing:" + e),
            e && (!this.m_mapClanToImages.has(n) || t))
          ) {
            let t = {},
              r = null;
            const s =
              v.TS.COMMUNITY_BASE_URL +
              "/gid/" +
              e.ConvertTo64BitString() +
              "/getimages/";
            r = await i().get(s, {
              params: t,
              withCredentials: !0,
              cancelToken: a ? a.token : null,
            });
            for (let e of r.data.images) e.clanAccountID = n;
            (0, o.h5)(() => {
              this.m_mapClanImageLoadState.set(n, { loaded: !0 }),
                this.m_mapClanToImages.set(n, r.data.images),
                this.GetImageListCallbackForClanAccountID(n).Dispatch(
                  r.data.images,
                );
            });
          }
          return this.m_mapClanToImages.get(n);
        }
        GetLoadState(e) {
          return this.m_mapClanImageLoadState.get(e.GetAccountID());
        }
        GetClanImages(e) {
          return this.GetClanImagesByAccount(e.GetAccountID());
        }
        GetClanImagesByAccount(e) {
          let t = this.m_mapClanToImages.get(e);
          return t || new Array();
        }
        GetFilteredClanImages(e, t) {
          let a = T.GetClanImages(e);
          return this.GetFilteredClanImagesList(a, t);
        }
        GetFilteredClanImagesList(e, t) {
          if (t && t.trim().length > 0) {
            t = t.trim().toLowerCase();
            let a = new Array();
            for (let n of e)
              n.file_name &&
                n.file_name.toLowerCase().indexOf(t) >= 0 &&
                a.push(n);
            return a;
          }
          return e;
        }
        GetClanImageByID(e, t) {
          let a = e.GetAccountID(),
            n = this.m_mapClanToImages.get(a);
          return n ? n.find((e) => e.imageid == t) : null;
        }
        GetClanImageByURL(e, t) {
          let a = e.GetAccountID(),
            n = this.m_mapClanToImages.get(a);
          return n ? n.find((e) => e.thumb_url == t || e.url == t) : null;
        }
        GetClanImageByFile(e, t) {
          let a = e.GetAccountID(),
            n = this.m_mapClanToImages.get(a);
          return n ? n.find((e) => e.file_name == t.name) : null;
        }
        GetClanImageByImageHash(e, t) {
          let a = e.GetAccountID(),
            n = this.m_mapClanToImages.get(a);
          return n ? n.find((e) => e.image_hash == t) : null;
        }
        async DeleteClanImageByID(e, t) {
          let a = { sessionid: v.TS.SESSIONID, imageid: t },
            n = e.GetAccountID(),
            r = await i().get(
              v.TS.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/deleteimage/",
              { params: a },
            );
          if (!r || 200 != r.status || 1 != r.data.success) return r.data;
          let s = this.m_mapClanToImages.get(n),
            o = s.findIndex((e, a, n) => e.imageid == t);
          return (
            o >= 0 &&
              (s.splice(o, 1),
              this.GetImageListCallbackForClanAccountID(n).Dispatch([...s])),
            r.data
          );
        }
        async DeleteClanImage(e, t) {
          return this.DeleteClanImageByID(e, t.imageid);
        }
        static GetHashFromHashAndExt(e) {
          let t = e.substring(e.lastIndexOf("."));
          return e.substring(0, e.length - t.length);
        }
        static GetExtensionStringFromHashAndExt(e) {
          return e.substring(e.lastIndexOf("."));
        }
        static GenerateArtworkURLFromHashAndExtensions(e, t, a = w.full, n, s) {
          if (a != w.full || n) {
            let i = t.substring(t.lastIndexOf(".")),
              o = t.substring(0, t.length - i.length);
            return n && "localized_image_group" == s
              ? (0, f.mJ)() +
                  e.GetAccountID() +
                  "/" +
                  o +
                  "/" +
                  (0, r.x6)((0, r.Lg)(n)) +
                  i
              : (0, f.mJ)() + e.GetAccountID() + "/" + o + a + i;
          }
          return (0, f.mJ)() + e.GetAccountID() + "/" + t;
        }
        static GenerateEditableArtworkURLFromHashAndExtension(e, t, a) {
          let n =
            v.TS.COMMUNITY_BASE_URL +
            "gid/" +
            e.ConvertTo64BitString() +
            "/showclanimage/?image_hash_and_ext=" +
            t;
          return a && (n += "&lang=" + a), n;
        }
        static GetMimeType(e) {
          return (0, E.ab)(e);
        }
        async AsyncGetImageResolution(e, t, a, n, r) {
          const s = t + C.GetExtensionString({ file_type: a }),
            i = C.GenerateEditableArtworkURLFromHashAndExtension(e, s);
          return await this.AsyncGetImageResolutionInternal(i, n, r);
        }
        async AsyncGetImageResolutionInternal(e, t, a) {
          let n = { success: void 0 },
            r = new Image();
          (r.crossOrigin = "anonymous"),
            (r.onerror = (t) => {
              a ||
                ((n.err_msg =
                  "Load fail on url " +
                  e +
                  " with error: " +
                  (0, h.H)(t).strErrorMsg),
                console.error(n.err_msg)),
                (n.success = 2);
            }),
            (r.onload = () => {
              (n.width = r.width),
                (n.height = r.height),
                (0, _.w)(
                  n.width > 0 && n.height > 0,
                  "unexpected image resolution discovered for strURL: " + e,
                ),
                (n.success = 1);
            }),
            (r.src = e),
            t.token.promise.catch((e) => {
              (r.onload = () => {}), (n.success = 52);
            });
          let s = 0;
          for (; void 0 === n.success && s < 100; )
            await (0, y.IP)(100), (s += 1);
          return (
            s >= 100 &&
              ((n.success = 16),
              (n.err_msg = "We timed out processing images")),
            n
          );
        }
        async AsyncOverlay(e, t, a, n, r, s) {
          let i,
            o,
            l = new Image();
          (l.crossOrigin = "anonymous"),
            (l.onerror = (e) => {
              (i =
                "Load fail on url " +
                a +
                " with error: " +
                (0, h.H)(e).strErrorMsg),
                console.error(i);
            }),
            (l.onload = () => {
              let e = new Image();
              (e.crossOrigin = "anonymous"),
                (e.onerror = (e) => {
                  (i =
                    "Load fail on url " +
                    t +
                    " with error: " +
                    (0, h.H)(e).strErrorMsg),
                    console.error(i);
                }),
                (e.onload = () => {
                  try {
                    let t = document.createElement("canvas"),
                      a = t.getContext("2d");
                    (t.width = r), (t.height = s), a.drawImage(e, 0, 0, r, s);
                    let n = (r - l.width) / 2,
                      i = (s - l.height) / 2;
                    a.drawImage(l, n, i),
                      t.toBlob((e) => (o = e), "image/jpeg");
                  } catch (e) {
                    i =
                      "Failed during image processing for " + n + " with " + e;
                  }
                }),
                (e.src = t);
            }),
            (l.src = a);
          let d = 0;
          for (; void 0 === o && d < 100; ) await (0, y.IP)(100), (d += 1);
          if (
            (d >= 100 &&
              void 0 === o &&
              (i = "AsyncOverlay - We timed out processing images"),
            i)
          )
            throw (console.log(i), { success: 2, err_msg: i });
          let c = new m.V(e),
            u = await c.UploadFile({
              uploadFile: o,
              filename: n,
              width: s,
              height: s,
            });
          return u.image_hash + C.GetExtensionString(u);
        }
        async BDoesClanImageFileExistsOnCDNOrOrigin(e, t, a, n) {
          let r =
              v.TS.COMMUNITY_BASE_URL +
              "gid/" +
              t.ConvertTo64BitString() +
              "/hasclanimagefile",
            s = { image_hash_and_ext: a, lang: "" + n };
          return (
            1 ==
            (await i().get(r, { params: s, cancelToken: e && e.token })).data
              .success
          );
        }
        SetPrimaryImageForImageGroup(e, t) {
          (this.m_curLocImageGroup &&
            this.m_curLocImageGroup.primaryImage.imageid == e.imageid &&
            t == this.m_curLocImageGroupType) ||
            ((this.m_curLocImageGroup = {
              primaryImage: e,
              localized_images: [],
            }),
            (this.m_curLocImageGroupType = t),
            (this.m_curLocImageGroup.localized_images = (0, p.$Y)(
              this.m_curLocImageGroup.localized_images,
              31,
              null,
            )));
        }
        GetPrimaryImageForImageGroup() {
          return this.m_curLocImageGroup?.primaryImage;
        }
        ClearImageGroup() {
          (this.m_curLocImageGroup = null),
            (this.m_curLocImageGroupType = null);
        }
        GetLocalizedImageGroupForEdit() {
          return this.m_curLocImageGroup;
        }
        GetLocalizedImageGroupForEditAsURL(e, t) {
          if (this.m_curLocImageGroup) {
            let a = this.m_curLocImageGroup.primaryImage;
            return this.m_curLocImageGroup.localized_images[t]
              ? this.m_curLocImageGroup.localized_images[t]
              : C.GenerateArtworkURLFromHashAndExtensions(
                  e,
                  C.GetHashAndExt(a),
                );
          }
          return null;
        }
        GetLocalizedImageGroupForEditAsImgArray(e) {
          return this.GetAllLocalizedGroupImages();
        }
        async DetermineAvailableLocalizationForGroup(e) {
          let t = this.m_curLocImageGroup.primaryImage,
            a = c.b.InitFromClanID(t.clanAccountID),
            n = C.GetHashAndExt(t),
            r = [];
          for (let t = 0; t < 31; ++t)
            r.push(this.BDoesClanImageFileExistsOnCDNOrOrigin(e, a, n, t));
          let s = await Promise.all(r);
          (0, o.h5)(() => {
            for (let e = 0; e < 31; ++e)
              s[e] &&
                (this.m_curLocImageGroup.localized_images[e] =
                  C.GenerateArtworkURLFromHashAndExtensions(
                    a,
                    n,
                    w.full,
                    e,
                    this.m_curLocImageGroupType,
                  ));
          });
        }
        SetLocalizedImageGroupAtLang(e, t, a) {
          this.m_curLocImageGroup &&
            (this.m_curLocImageGroup.localized_images[e] = a
              ? C.GenerateArtworkURLFromHashAndExtensions(
                  t,
                  a,
                  w.full,
                  e,
                  this.m_curLocImageGroupType,
                )
              : null);
        }
        AddLocalizeImageUploaded(e, t) {
          let a = this.m_curLocImageGroup.primaryImage;
          if (a.image_hash == e) {
            let e = c.b.InitFromClanID(a.clanAccountID),
              n = C.GetHashAndExt(a);
            this.m_curLocImageGroup.localized_images[t] =
              C.GenerateArtworkURLFromHashAndExtensions(
                e,
                n,
                w.full,
                t,
                this.m_curLocImageGroupType,
              );
          }
        }
        GetAllLocalizedGroupImages() {
          return (
            (this.m_curLocImageGroup &&
              this.m_curLocImageGroup.localized_images) ||
            []
          );
        }
      }
      (0, n.Cg)([o.sH], C.prototype, "m_mapClanToImages", void 0),
        (0, n.Cg)([o.sH], C.prototype, "m_mapClanImageLoadState", void 0),
        (0, n.Cg)([o.sH], C.prototype, "m_curLocImageGroup", void 0);
      const T = new C();
      function A(e) {
        const t = c.b.InitFromClanID(e),
          a = (0, u.m)("useLoadClanImages"),
          [n, r] = (0, l.useState)(() => T.BHasLoadedClanImages(t));
        return (
          (0, l.useEffect)(() => {
            const t = c.b.InitFromClanID(e);
            T.BHasLoadedClanImages(t) ||
              T.LoadClanImages(t, !1, a).then(() => r(!0));
          }, [e, a]),
          n
        );
      }
    },
    4796: (e, t, a) => {
      "use strict";
      a.d(t, { TB: () => _, ac: () => p, vF: () => h });
      var n = a(34629),
        r = a(41735),
        s = a.n(r),
        i = a(14947),
        o = a(90626),
        l = a(17720),
        d = a(44332),
        c = a(78327),
        m = a(67165);
      class u {
        constructor() {
          (0, i.Gn)(this);
        }
        m_mapAppIDToClanInfo = new Map();
        m_mapVanityToClanInfo = new Map();
        m_mapClanAccountIDToClanInfo = new Map();
        m_mapPromisesLoading = new Map();
        m_rgQueuedEventsClanIDs = new Array();
        m_bLoadedFromConfig = !1;
        Init() {
          this.LazyInit();
        }
        LazyInit() {
          this.m_bLoadedFromConfig ||
            ((0, i.h5)(() => {
              let e = (0, c.Fd)("groupvanityinfo", "application_config");
              this.ValidateClanConfig(e) &&
                e.forEach((e) => {
                  this.InternalSetupValue(e);
                });
            }),
            (this.m_bLoadedFromConfig = !0));
        }
        AddGroupVanities(e) {
          (0, i.h5)(() => {
            this.ValidateClanConfig(e) &&
              e.forEach((e) => {
                this.InternalSetupValue(e);
              });
          });
        }
        ValidateClanConfig(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clanAccountID &&
            ("number" == typeof t[0].appid ||
              "string" == typeof t[0].vanity_url)
          );
        }
        BHasClanInfoLoaded(e) {
          return (
            (0, d.w)(e.BIsValid(), "Clan SteamID is not valid when ClanInfo"),
            (0, d.w)(
              e.BIsClanAccount(),
              "Clan SteamID is not a clan account id when requesting clan info ",
            ),
            this.m_mapClanAccountIDToClanInfo.has(e.GetAccountID())
          );
        }
        BHasClanInfoLoadedByAccountID(e) {
          return this.m_mapClanAccountIDToClanInfo.has(e);
        }
        RegisterClanData(e) {
          for (const t of e) this.InternalSetupValue(t);
        }
        InternalSetupValue(e) {
          const t = {
            clanAccountID: e.clanAccountID,
            clanSteamID: new l.b(e.clanSteamIDString),
            appid: e.appid,
            vanity_url: e.vanity_url,
            member_count: e.member_count,
            is_ogg: e.is_ogg,
            is_creator_home: e.is_creator_home,
            is_curator: e.is_curator,
            has_visible_store_page: e.has_visible_store_page,
            has_rss_feed: e.has_rss_feed,
            rss_language: e.rss_language ? e.rss_language : 0,
            avatar_full_url: e.avatar_full_url,
            avatar_medium_url: e.avatar_medium_url,
            group_name: e.group_name,
            creator_page_bg_url: e.creator_page_bg_url,
            partner_events_enabled: e.partner_events_enabled,
          };
          0 != e.appid && this.m_mapAppIDToClanInfo.set(e.appid, t),
            e.vanity_url &&
              e.vanity_url.length > 0 &&
              this.m_mapVanityToClanInfo.set(
                e.vanity_url.toLocaleLowerCase(),
                t,
              ),
            this.m_mapClanAccountIDToClanInfo.set(e.clanAccountID, t);
        }
        GetRequestParam() {
          return { origin: self.origin };
        }
        async LoadOGGClanInfoForAppID(e) {
          if (
            (this.LazyInit(),
            "string" == typeof e && (e = parseInt(e)),
            (0, d.w)(
              0 != e,
              "LoadOGGClanInfoForAppID called with appid of zero",
            ),
            0 == e)
          )
            return null;
          if (this.m_mapAppIDToClanInfo.has(e))
            return this.m_mapAppIDToClanInfo.get(e);
          let t = "appid_" + e;
          return (
            this.m_mapPromisesLoading.has(t) ||
              this.m_mapPromisesLoading.set(
                t,
                this.InternalLoadOGGClanInfoForAppID(e),
              ),
            this.m_mapPromisesLoading.get(t)
          );
        }
        async InternalLoadOGGClanInfoForAppID(e) {
          const t =
            c.TS.COMMUNITY_BASE_URL + "ogg/" + e + "/ajaxgetvanityandclanid/";
          let a = await s().get(t, { params: this.GetRequestParam() });
          return (
            this.InternalSetupValue(a.data), this.m_mapAppIDToClanInfo.get(e)
          );
        }
        async LoadOGGClanInfoForIdentifier(e) {
          if (
            (this.LazyInit(),
            this.m_mapVanityToClanInfo.has(e?.toLocaleLowerCase()))
          )
            return this.m_mapVanityToClanInfo.get(e?.toLocaleLowerCase());
          let t = "storevanity_" + e?.toLocaleLowerCase();
          return (
            this.m_mapPromisesLoading.has(t) ||
              this.m_mapPromisesLoading.set(
                t,
                this.InternalLoadOGGClanInfoForIdentifier(e),
              ),
            this.m_mapPromisesLoading.get(t)
          );
        }
        async InternalLoadOGGClanInfoForIdentifier(e) {
          const t =
            c.TS.COMMUNITY_BASE_URL + "games/" + e + "/ajaxgetvanityandclanid/";
          let a = await s().get(t, { params: this.GetRequestParam() });
          return (
            this.InternalSetupValue(a.data),
            this.m_mapVanityToClanInfo.get(e?.toLocaleLowerCase())
          );
        }
        async LoadOGGClanInfoForGroupVanity(e) {
          if (
            (this.LazyInit(),
            this.m_mapVanityToClanInfo.has(e?.toLocaleLowerCase()))
          )
            return this.m_mapVanityToClanInfo.get(e?.toLocaleLowerCase());
          let t = "community_name_" + e;
          return (
            this.m_mapPromisesLoading.has(t) ||
              this.m_mapPromisesLoading.set(
                t,
                this.InternalLoadOGGClanInfoForGroupVanity(
                  e?.toLocaleLowerCase(),
                ),
              ),
            this.m_mapPromisesLoading.get(t)
          );
        }
        async InternalLoadOGGClanInfoForGroupVanity(e) {
          const t =
            c.TS.COMMUNITY_BASE_URL +
            "groups/" +
            e +
            "/ajaxgetvanityandclanid/";
          let a = await s().get(t, { params: this.GetRequestParam() });
          return (
            this.InternalSetupValue(a.data),
            this.m_mapVanityToClanInfo.get(e?.toLocaleLowerCase())
          );
        }
        async LoadClanInfoForClanSteamID(e) {
          this.LazyInit();
          let t = e.GetAccountID();
          if (this.m_mapClanAccountIDToClanInfo.has(t))
            return this.m_mapClanAccountIDToClanInfo.get(t);
          let a = "clanaccountid_" + t;
          return (
            this.m_mapPromisesLoading.has(a) ||
              this.m_mapPromisesLoading.set(
                a,
                this.InternalLoadClanInfoForClanSteamID(e),
              ),
            this.m_mapPromisesLoading.get(a)
          );
        }
        async LoadClanInfoForClanAccountID(e) {
          const t = l.b.InitFromClanID(e);
          return this.LoadClanInfoForClanSteamID(t);
        }
        async InternalLoadClanInfoForClanSteamID(e) {
          let t = e.GetAccountID();
          const a =
            c.TS.COMMUNITY_BASE_URL +
            "gid/" +
            e.ConvertTo64BitString() +
            "/ajaxgetvanityandclanid/";
          let n = await s().get(a, { params: this.GetRequestParam() });
          return (
            this.InternalSetupValue(n.data),
            this.m_mapClanAccountIDToClanInfo.get(t)
          );
        }
        GetOGGClanInfo(e) {
          return "string" == typeof e
            ? this.m_mapVanityToClanInfo.get(e?.toLocaleLowerCase())
            : this.m_mapAppIDToClanInfo.get(e);
        }
        GetClanSteamIDForAppID(e) {
          if ((this.LazyInit(), this.m_mapAppIDToClanInfo.has(e)))
            return l.b.InitFromClanID(
              this.m_mapAppIDToClanInfo.get(e).clanAccountID,
            );
        }
        GetClanVanityForAppID(e) {
          if ((this.LazyInit(), this.m_mapAppIDToClanInfo.has(e)))
            return this.m_mapAppIDToClanInfo.get(e).vanity_url;
        }
        GetClanVanityForClanSteamID(e) {
          if (
            (this.LazyInit(),
            this.m_mapClanAccountIDToClanInfo.has(e.GetAccountID()))
          )
            return this.m_mapClanAccountIDToClanInfo.get(e.GetAccountID())
              .vanity_url;
        }
        HasLoadedClanAccountID(e) {
          return this.LazyInit(), this.m_mapClanAccountIDToClanInfo.has(e);
        }
        GetClanMemberCount(e) {
          return this.m_mapAppIDToClanInfo.has(e)
            ? this.m_mapAppIDToClanInfo.get(e).member_count
            : 0;
        }
        GetClanInfoByClanAccountID(e) {
          return (
            this.LazyInit(),
            (0, d.w)(
              !!e,
              "Unepxected clanid when requesting information. GetClanInfoByClanAccountID ",
            ),
            this.m_mapClanAccountIDToClanInfo.get(e)
          );
        }
        GetCreatorStoreURL(e) {
          let t = m.pF.GetCreatorHome(e);
          if (t) return t.GetCreatorHomeURL("developer");
          let a = this.GetClanInfoByClanAccountID(e.GetAccountID());
          return (
            c.TS.COMMUNITY_BASE_URL +
            (a.vanity_url
              ? "groups/" + a.vanity_url
              : "gid/" + e.ConvertTo64BitString())
          );
        }
      }
      (0, n.Cg)([i.sH], u.prototype, "m_mapAppIDToClanInfo", void 0),
        (0, n.Cg)([i.sH], u.prototype, "m_mapVanityToClanInfo", void 0),
        (0, n.Cg)([i.sH], u.prototype, "m_mapClanAccountIDToClanInfo", void 0),
        (0, n.Cg)([i.XI], u.prototype, "RegisterClanData", null),
        (0, n.Cg)([i.XI], u.prototype, "InternalSetupValue", null);
      const p = new u();
      function _(e) {
        const [t, a] = (0, o.useState)(
            e ? p.GetClanInfoByClanAccountID(e) : void 0,
          ),
          [n, r] = (0, o.useState)(!!e && !p.BHasClanInfoLoadedByAccountID(e));
        return (
          (0, o.useEffect)(() => {
            if (e)
              if (p.BHasClanInfoLoadedByAccountID(e))
                a(p.GetClanInfoByClanAccountID(e)), r(!1);
              else {
                r(!0);
                const t = l.b.InitFromClanID(
                  "string" == typeof e ? Number.parseInt(e) : e,
                );
                p.LoadClanInfoForClanSteamID(t).then((e) => {
                  a(e), r(!1);
                });
              }
            else a(void 0), r(!1);
          }, [e]),
          [n, t]
        );
      }
      function h(e) {
        const [t, a] = (0, o.useState)(() => !p.GetOGGClanInfo(e)),
          [n, r] = (0, o.useState)(() => p.GetOGGClanInfo(e));
        return (
          (0, o.useEffect)(() => {
            !e ||
              (n && n.appid == e) ||
              (a(!0),
              p
                .LoadOGGClanInfoForAppID(e)
                .then(r)
                .finally(() => a(!1)));
          }, [n, e]),
          { bLoadingClanInfo: t, clanInfo: n }
        );
      }
      window.g_ClanStore = p;
    },
    56004: (e, t, a) => {
      "use strict";
      a.d(t, { IK: () => p, ab: () => _, qR: () => h });
      var n = a(34629),
        r = a(41735),
        s = a.n(r),
        i = a(14947),
        o = a(68797),
        l = a(6419),
        d = a(6144),
        c = a(30470),
        m = a(64953),
        u = a(69343);
      class p {
        m_filesToUpload = i.sH.array();
        m_strUploadPath = null;
        m_fnUploadSuccessCallback = null;
        constructor(e, t) {
          (0, i.Gn)(this),
            (this.m_strUploadPath = e),
            (this.m_fnUploadSuccessCallback = t);
        }
        GetFnOnUploadSuccess() {
          return this.m_fnUploadSuccessCallback;
        }
        SetFnOnUploadSuccess(e) {
          this.m_fnUploadSuccessCallback = e;
        }
        GetUploadPath() {
          return this.m_strUploadPath;
        }
        SetUploadPath(e) {
          this.m_strUploadPath = e;
        }
        GetUploadImages() {
          return this.m_filesToUpload;
        }
        ClearImages() {
          this.m_filesToUpload = i.sH.array();
        }
        DeleteUploadImage(e) {
          const t = this.m_filesToUpload.findIndex(
            (t) => e.file == t.file && e.uploadTime == t.uploadTime,
          );
          t >= 0 &&
            (this.m_filesToUpload.splice(t, 1),
            (this.m_filesToUpload = [...this.m_filesToUpload]));
        }
        isImageFile(e) {
          return e.type.startsWith("image/");
        }
        isVideoFile(e) {
          return e.type.startsWith("video/");
        }
        isSubtitleTextFile(e) {
          return (
            e.type.startsWith("text/") ||
            ("" == e.type && e.name.split("?")[0].endsWith(".vtt")) ||
            ("" == e.type && e.name.split("?")[0].endsWith(".srt"))
          );
        }
        async AddImageForLanguage(e, t, a, n) {
          let r = !1;
          return (
            await new Promise((s) => {
              if (this.isImageFile(e)) {
                const i = new FileReader();
                (i.onload = () => {
                  const o = new Image();
                  (o.onload = () => {
                    const i = new m.i9(e, t, o, a, n);
                    (this.m_filesToUpload = [...this.m_filesToUpload, i]),
                      (r = !0),
                      s();
                  }),
                    (o.onerror = (e) => {
                      console.error(
                        "CCloudImageUploader failed to load the image, details",
                        e,
                      ),
                        (r = !1),
                        s();
                    }),
                    (o.src = i.result.toString());
                }),
                  i.readAsDataURL(e);
              } else if (this.isVideoFile(e)) {
                const n = document.createElement("video");
                (n.preload = "metadata"),
                  n.addEventListener("loadedmetadata", () => {
                    const i = new m._u(e, t, n, a);
                    (this.m_filesToUpload = [...this.m_filesToUpload, i]),
                      (r = !0),
                      s();
                  }),
                  (n.onerror = (e) => {
                    console.error(
                      "CCloudImageUploader failed to load the video, details",
                      e,
                    ),
                      (r = !1),
                      s();
                  }),
                  (n.src = URL.createObjectURL(e));
              } else
                this.isSubtitleTextFile(e)
                  ? ((this.m_filesToUpload = [
                      ...this.m_filesToUpload,
                      new m.DA(e, t, a),
                    ]),
                    (r = !0),
                    s())
                  : (console.error(
                      "CCloudImageUploader failed to determine file type, not image, video or subtitle",
                      e,
                      e.type,
                    ),
                    (r = !1));
            }),
            r
          );
        }
        async UploadAllImages(e, t, a, n, r) {
          const s = {};
          for (const e of this.m_filesToUpload)
            if ("pending" === e.status) {
              const t = e.IsValidAssetType(a, n, r);
              if (!t.error && !t.needsCrop) {
                e.status = "uploading";
                s[`${e.uploadTime}/${e.file.name}`] = this.UploadFile(
                  e.file,
                  e.file.name,
                  e.language,
                  t.match,
                );
              }
            }
          const i = await (0, d.RR)(s);
          return (
            Object.keys(i).forEach((a) => {
              const n = i[a],
                r = this.m_filesToUpload.find(
                  (e) => `${e.uploadTime}/${e.file.name}` === a,
                );
              if (r)
                if (n && 1 === n.success) {
                  r.status = "success";
                  const a = (0, u.P)(n.language, t, e);
                  this.m_fnUploadSuccessCallback(
                    n.image_hash,
                    n.file_name,
                    a,
                    (function (e) {
                      switch (e) {
                        case 2:
                          return "image/gif";
                        case 1:
                          return "image/jpeg";
                        case 3:
                          return "image/png";
                        case 4:
                          return "video/mp4";
                        case 5:
                          return "video/webm";
                        case 6:
                          return "text/vtt";
                        case 7:
                          return "text/srt";
                        case 10:
                          return "image/webp";
                      }
                      return null;
                    })(n.file_type),
                    r.type,
                    r.width,
                    r.height,
                  );
                } else (r.status = "failed"), (r.message = n.message);
            }),
            i
          );
        }
        async UploadFile(e, t, a, n, r, i) {
          let l = null;
          const d = new FormData();
          d.append("assetfile", e, t),
            d.append("sessionid", c.TS.SESSIONID),
            d.append("elangauge", "" + a),
            d.append("originalname", t),
            r?.length > 0 &&
              d.append(
                "resize",
                r.map((e) => e.width + "x" + e.height).join(","),
              ),
            n && d.append("arttype", n);
          const m = _(t);
          if (!m)
            return {
              success: 8,
              message: "Invalid file extension, cannot determine mimetype",
            };
          d.append("mimetype", m);
          try {
            l = await s().post(this.m_strUploadPath, d, {
              withCredentials: !0,
              headers: { "Content-Type": "multipart/form-data" },
            });
          } catch (e) {
            const t = (0, o.H)(e);
            console.log("CCloudImageUploader.UploadFile failed ", t, e),
              (l = e.response);
          }
          return l?.data;
        }
      }
      function _(e) {
        const t = e.toLowerCase();
        return t.endsWith(".jpg")
          ? "image/jpeg"
          : t.endsWith(".png")
            ? "image/png"
            : t.endsWith(".gif")
              ? "image/gif"
              : t.endsWith(".mp4")
                ? "video/mp4"
                : t.endsWith(".webm")
                  ? "video/webm"
                  : t.endsWith(".srt")
                    ? "text/srt"
                    : t.endsWith(".vtt")
                      ? "text/vtt"
                      : t.endsWith(".webp")
                        ? "image/webp"
                        : null;
      }
      function h(e) {
        switch (e) {
          case "image/jpeg":
            return ".jpg";
          case "image/png":
            return ".png";
          case "image/gif":
            return ".gif";
          case "video/mp4":
            return ".mp4";
          case "video/webm":
            return ".webm";
          case "text/vtt":
            return ".vtt";
          case "text/srt":
            return ".srt";
          case "image/webp":
            return ".webp";
        }
        return (
          console.error("ConvertMimeTypeToExtension:Unexepected mime type ", e),
          ".jpg"
        );
      }
      (0, n.Cg)([i.sH], p.prototype, "m_filesToUpload", void 0),
        (0, n.Cg)([l.o], p.prototype, "GetUploadImages", null),
        (0, n.Cg)([l.o], p.prototype, "ClearImages", null),
        (0, n.Cg)([l.o], p.prototype, "DeleteUploadImage", null),
        (0, n.Cg)([l.o], p.prototype, "AddImageForLanguage", null),
        (0, n.Cg)([l.o], p.prototype, "UploadAllImages", null);
    },
    82705: (e, t, a) => {
      "use strict";
      a.d(t, { yh: () => n });
      a(90626);
      function n(e) {
        return (
          e.indexOf("?") > 0 && (e = e.split("?")[0]),
          e.endsWith(".jpg")
            ? 1
            : e.endsWith(".png")
              ? 3
              : e.endsWith(".gif")
                ? 2
                : e.endsWith(".mp4")
                  ? 4
                  : e.endsWith(".webm")
                    ? 5
                    : e.endsWith(".vtt")
                      ? 6
                      : e.endsWith(".srt")
                        ? 7
                        : e.endsWith(".webp")
                          ? 10
                          : void 0
        );
      }
    },
    67165: (e, t, a) => {
      "use strict";
      a.d(t, { pF: () => I, id: () => C, FV: () => S });
      var n = a(34629),
        r = a(4434),
        s = a(41735),
        i = a.n(s),
        o = a(14947),
        l = a(90626),
        d = a(78327);
      class c {
        m_clanSteamID;
        m_appidList = new Array();
        m_strName = "";
        m_strAvatarURLFullSize = "";
        m_strTagLineLoc = "";
        m_nFollowers = 0;
        m_strVanity = "";
        m_webLink = void 0;
        m_promise;
        m_bIsLoaded = !1;
        m_bIsHidden = !1;
        m_clanAccountFlags = 0;
        constructor(e) {
          (0, o.Gn)(this), (this.m_clanSteamID = e);
        }
        Initialize(e) {
          (this.m_strName = e.name || ""),
            (this.m_strAvatarURLFullSize =
              e.avatar_url_full_size ||
              "https://avatars.steamstatic.com/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg"),
            (this.m_strTagLineLoc = e.tag_line_localized || ""),
            (this.m_nFollowers = e.followers || 0),
            (this.m_strVanity = e.vanity || void 0),
            (this.m_webLink = e.weblink),
            (this.m_bIsHidden = e.hidden || !1),
            (this.m_clanAccountFlags = e.clan_account_flags ?? 0),
            e.appids && e.appids.forEach((e) => this.m_appidList.push(e)),
            (this.m_bIsLoaded = !0);
        }
        GetCreatorHomeIdentifier() {
          return {
            name: this.m_strName,
            clan_account_id: this.m_clanSteamID.GetAccountID(),
            type: "developer",
            hidden: this.m_bIsHidden,
          };
        }
        BIsPartnerEventEditorEnabled() {
          return Boolean(8 & this.m_clanAccountFlags);
        }
        BHasClanAccountFlagSet(e) {
          return Boolean(this.m_clanAccountFlags & e);
        }
        BIsLoaded() {
          return this.m_bIsLoaded;
        }
        GetClanSteamID() {
          return this.m_clanSteamID;
        }
        GetClanAccountID() {
          return this.m_clanSteamID.GetAccountID();
        }
        GetAppIDList() {
          return this.m_appidList;
        }
        GetName() {
          return this.m_strName;
        }
        GetAvatarURLFullSize() {
          return this.m_strAvatarURLFullSize;
        }
        GetTagLine() {
          return this.m_strTagLineLoc;
        }
        GetNumFollowers() {
          return this.m_nFollowers;
        }
        BIsHidden() {
          return this.m_bIsHidden;
        }
        GetCreatorHomeURL(e) {
          if (this.m_strVanity) {
            switch (e) {
              case "publisher":
                return (
                  d.TS.STORE_BASE_URL + "publisher/" + this.m_strVanity + "/"
                );
              case "franchise":
                return (
                  d.TS.STORE_BASE_URL + "franchise/" + this.m_strVanity + "/"
                );
            }
            return d.TS.STORE_BASE_URL + "developer/" + this.m_strVanity + "/";
          }
          return (
            d.TS.STORE_BASE_URL +
            "curator/" +
            this.m_clanSteamID.GetAccountID() +
            "/"
          );
        }
        BHasWebLink() {
          return void 0 !== this.m_webLink;
        }
        GetWebLink() {
          return this.m_webLink;
        }
        GetVanityString() {
          return this.m_strVanity;
        }
        AdjustFollower(e) {
          this.m_nFollowers += e;
        }
        async EnablePartnerEventEditorFlag() {
          this.BIsPartnerEventEditorEnabled() ||
            (await this.UpdateGroupFlagsFeature([2, 8], !0));
        }
        async UpdateGroupFlagsFeature(e, t) {
          let a = d.TS.PARTNER_BASE_URL + "sales/ajaxupdateclanaccountflags",
            n = this.m_clanAccountFlags;
          if (
            (e.forEach((e) => {
              t ? (n |= e) : (n &= ~e);
            }),
            n == this.m_clanAccountFlags)
          )
            return;
          let r = new Array();
          1 & n && r.push(1),
            8 & n && r.push(8),
            2 & n && r.push(2),
            4 & n && r.push(4),
            16 & n && r.push(16),
            32 & n && r.push(32),
            64 & n && r.push(64);
          let s = new FormData();
          s.append("sessionid", d.TS.SESSIONID),
            s.append("clan_account_id", this.GetClanAccountID().toString()),
            s.append("accountflags", JSON.stringify(r));
          let o = await i().post(a, s);
          o &&
            200 == o.status &&
            1 == o.data.success &&
            (this.m_clanAccountFlags = n);
        }
      }
      (0, n.Cg)([o.sH], c.prototype, "m_appidList", void 0),
        (0, n.Cg)([o.sH], c.prototype, "m_nFollowers", void 0),
        (0, n.Cg)([o.sH], c.prototype, "m_clanAccountFlags", void 0);
      var m = a(17720),
        u = a(20194),
        p = a(56545),
        _ = a(80613),
        h = a(89068);
      const g = _.Message;
      class y extends g {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            y.prototype.clan_account_id || h.Sg(y.M()),
            g.initialize(this, e, 0, -1, [2], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            y.sm_m ||
              (y.sm_m = {
                proto: y,
                fields: {
                  clan_account_id: {
                    n: 1,
                    br: h.qM.readUint32,
                    bw: h.gp.writeUint32,
                  },
                  appid_list: {
                    n: 2,
                    r: !0,
                    q: !0,
                    br: h.qM.readUint32,
                    pbr: h.qM.readPackedUint32,
                    bw: h.gp.writeRepeatedUint32,
                  },
                },
              }),
            y.sm_m
          );
        }
        static MBF() {
          return y.sm_mbf || (y.sm_mbf = h.w0(y.M())), y.sm_mbf;
        }
        toObject(e = !1) {
          return y.toObject(e, this);
        }
        static toObject(e, t) {
          return h.BT(y.M(), e, t);
        }
        static fromObject(e) {
          return h.Uq(y.M(), e);
        }
        static deserializeBinary(e) {
          let t = new _.BinaryReader(e),
            a = new y();
          return y.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return h.zj(y.MBF(), e, t);
        }
        serializeBinary() {
          var e = new _.BinaryWriter();
          return y.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          h.i0(y.M(), e, t);
        }
        serializeBase64String() {
          var e = new _.BinaryWriter();
          return y.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CDeveloperPageToApps";
        }
      }
      const v = _.Message;
      class f extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            f.prototype.clan_account_ids || h.Sg(f.M()),
            v.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            f.sm_m ||
              (f.sm_m = {
                proto: f,
                fields: {
                  clan_account_ids: {
                    n: 1,
                    r: !0,
                    q: !0,
                    br: h.qM.readUint32,
                    pbr: h.qM.readPackedUint32,
                    bw: h.gp.writeRepeatedUint32,
                  },
                  ignore_dlc: { n: 2, br: h.qM.readBool, bw: h.gp.writeBool },
                },
              }),
            f.sm_m
          );
        }
        static MBF() {
          return f.sm_mbf || (f.sm_mbf = h.w0(f.M())), f.sm_mbf;
        }
        toObject(e = !1) {
          return f.toObject(e, this);
        }
        static toObject(e, t) {
          return h.BT(f.M(), e, t);
        }
        static fromObject(e) {
          return h.Uq(f.M(), e);
        }
        static deserializeBinary(e) {
          let t = new _.BinaryReader(e),
            a = new f();
          return f.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return h.zj(f.MBF(), e, t);
        }
        serializeBinary() {
          var e = new _.BinaryWriter();
          return f.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          h.i0(f.M(), e, t);
        }
        serializeBase64String() {
          var e = new _.BinaryWriter();
          return f.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreCatalog_GetDevPageAllAppsLinked_Request";
        }
      }
      class b extends v {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            b.prototype.results || h.Sg(b.M()),
            v.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            b.sm_m ||
              (b.sm_m = {
                proto: b,
                fields: { results: { n: 1, c: y, r: !0, q: !0 } },
              }),
            b.sm_m
          );
        }
        static MBF() {
          return b.sm_mbf || (b.sm_mbf = h.w0(b.M())), b.sm_mbf;
        }
        toObject(e = !1) {
          return b.toObject(e, this);
        }
        static toObject(e, t) {
          return h.BT(b.M(), e, t);
        }
        static fromObject(e) {
          return h.Uq(b.M(), e);
        }
        static deserializeBinary(e) {
          let t = new _.BinaryReader(e),
            a = new b();
          return b.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return h.zj(b.MBF(), e, t);
        }
        serializeBinary() {
          var e = new _.BinaryWriter();
          return b.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          h.i0(b.M(), e, t);
        }
        serializeBase64String() {
          var e = new _.BinaryWriter();
          return b.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CStoreCatalog_GetDevPageAllAppsLinked_Response";
        }
      }
      var E;
      !(function (e) {
        e.GetDevPageAllAppsLinked = function (e, t) {
          return e.SendMsg(
            "StoreCatalog.GetDevPageAllAppsLinked#1",
            (0, p.I8)(f, t),
            b,
            { ePrivilege: 1 },
          );
        };
      })(E || (E = {}));
      class w {
        constructor() {
          (0, o.Gn)(this);
        }
        m_mapClanToCreatorHome = new Map();
        m_mapAppToCreatorIDList = new Map();
        m_bLoadedFromConfig = !1;
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, d.Tc)("creatorhome", "application_config");
            this.ValidateStoreDefault(e) &&
              e.forEach((e) => {
                let t = Number(e.creator_clan_id),
                  a = m.b.InitFromClanID(t),
                  n = new c(a);
                n.Initialize(e),
                  (n.m_promise = w.GetAsPromise(n)),
                  this.m_mapClanToCreatorHome.set(t, n);
              });
            let t = (0, d.Tc)("creatorhomeforapp", "application_config");
            this.ValidateStoreDefaultAppList(t) &&
              t.forEach((e) => {
                void 0 !== e.appid &&
                  (this.m_mapAppToCreatorIDList.has(e.appid) ||
                    this.m_mapAppToCreatorIDList.set(e.appid, new Array()),
                  this.m_mapAppToCreatorIDList.get(e.appid).push(e));
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        static async GetAsPromise(e) {
          return e;
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            ("string" == typeof t[0].creator_clan_id ||
              "number" == typeof t[0].creator_clan_id)
          );
        }
        ValidateStoreDefaultAppList(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clan_account_id &&
              t[0].clan_account_id > 0 &&
              "number" == typeof t[0].appid &&
            t[0].appid > 0
          );
        }
        BHasCreatorHomeLoaded(e) {
          return (
            this.m_mapClanToCreatorHome.has(e.GetAccountID()) &&
            this.m_mapClanToCreatorHome.get(e.GetAccountID()).BIsLoaded()
          );
        }
        GetCreatorHome(e) {
          return this.m_mapClanToCreatorHome.get(e.GetAccountID());
        }
        GetCreatorHomeByID(e) {
          return this.m_mapClanToCreatorHome.get(e.clan_account_id);
        }
        async LoadCreatorHome(e, t) {
          if (
            (this.LazyInit(),
            !this.m_mapClanToCreatorHome.has(e.GetAccountID()))
          ) {
            let a = new c(e);
            (a.m_promise = this.InternalCreatorHome(a, t)),
              await a.m_promise,
              this.m_mapClanToCreatorHome.set(e.GetAccountID(), a);
          }
          return this.m_mapClanToCreatorHome.get(e.GetAccountID()).m_promise;
        }
        async InternalCreatorHome(e, t) {
          let a = { get_appids: !0, l: d.TS.LANGUAGE, origin: self.origin },
            n =
              d.TS.STORE_BASE_URL +
              "curator/" +
              e.GetClanAccountID() +
              "/ajaxgetcreatorhomeinfo",
            r = await i().get(n, { params: a, cancelToken: t && t.token });
          return e.Initialize(r.data), e;
        }
        async LoadCreatorHomeListForAppIncludeHiddden(e, t) {
          if ((this.LazyInit(), !this.m_mapAppToCreatorIDList.has(e))) {
            let a = { appid: e },
              n = d.TS.STORE_BASE_URL + "events/ajaxgetcreatorhomeidforapp",
              r = await i().get(n, {
                params: a,
                cancelToken: t && t.token,
                withCredentials: !0,
              });
            this.m_mapAppToCreatorIDList.set(e, r.data.creator_list);
          }
          return this.m_mapAppToCreatorIDList.get(e);
        }
        async SearchCreatorHomeStore(e, t, a) {
          let n = `${d.TS.STORE_BASE_URL}curator/0/ajaxsearchcurators`,
            r = {
              term: e.replace(" ", "+"),
              require_creator: t,
              cc: d.TS.COUNTRY,
              l: d.TS.LANGUAGE,
              origin: self.origin,
            },
            s = new Array();
          const l = await i().get(n, { params: r, cancelToken: a.token });
          return (
            l.data.curators &&
              (0, o.h5)(() => {
                l.data.curators.forEach((e) => {
                  if (!this.m_mapClanToCreatorHome.has(e.creator_clan_id)) {
                    let t = m.b.InitFromClanID(e.creator_clan_id),
                      a = new c(t);
                    a.Initialize(e),
                      this.m_mapClanToCreatorHome.set(e.creator_clan_id, a);
                  }
                  s.push(this.m_mapClanToCreatorHome.get(e.creator_clan_id));
                });
              }),
            s
          );
        }
        GetCreatorHomeListForAppIncludeHidden(e) {
          return this.m_mapAppToCreatorIDList.has(e)
            ? this.m_mapAppToCreatorIDList.get(e)
            : [];
        }
      }
      (0, n.Cg)([o.sH], w.prototype, "m_mapClanToCreatorHome", void 0),
        (0, n.Cg)([o.sH], w.prototype, "m_mapAppToCreatorIDList", void 0),
        (0, n.Cg)([o.XI], w.prototype, "LazyInit", null);
      const I = new w();
      function S(e) {
        const t = m.b.InitFromClanID(e),
          [a, n] = l.useState(I.GetCreatorHome(t)),
          s = (0, r.m)("useCreatorHome");
        return (
          l.useEffect(() => {
            const t = m.b.InitFromClanID(e);
            I.BHasCreatorHomeLoaded(t)
              ? a
                ? a.GetClanAccountID() != e && n(I.GetCreatorHome(t))
                : n(I.GetCreatorHome(t))
              : I.LoadCreatorHome(t).then(() => {
                  s?.token?.reason || n(I.GetCreatorHome(t));
                });
          }, [s?.token?.reason, e, a]),
          a
        );
      }
      function C(e, t, a) {
        const n = (0, u.I)({
          queryKey: ["useCreateHomeLinkedApps", t, a],
          queryFn: async () => {
            const n = p.w.Init(f);
            n.Body().add_clan_account_ids(t), a && n.Body().set_ignore_dlc(!0);
            const r = await E.GetDevPageAllAppsLinked(e, n);
            if (1 != r.GetEResult())
              throw new Error(
                `Error from useCreateHomeLinkedApps: ${r.GetEResult()}`,
              );
            return 0 == r.Body().results().length
              ? []
              : r.Body().results()[0].appid_list();
          },
          enabled: Boolean(t > 0 && e),
        });
        return n?.isLoading ? null : n.data;
      }
      window.g_CreatorHomeStore = I;
    },
    46575: (e, t, a) => {
      "use strict";
      a.d(t, { my: () => C, Ym: () => A, Qw: () => G });
      var n = a(56545),
        r = a(80613),
        s = a(89068);
      const i = r.Message;
      class o extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            o.prototype.clan_event_gid || s.Sg(o.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            o.sm_m ||
              (o.sm_m = {
                proto: o,
                fields: {
                  clan_event_gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  steamid: {
                    n: 2,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  registration_group_id: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  registration_session_id: {
                    n: 4,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  guest_count: {
                    n: 5,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  jsondata: { n: 7, br: s.qM.readString, bw: s.gp.writeString },
                },
              }),
            o.sm_m
          );
        }
        static MBF() {
          return o.sm_mbf || (o.sm_mbf = s.w0(o.M())), o.sm_mbf;
        }
        toObject(e = !1) {
          return o.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(o.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(o.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new o();
          return o.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(o.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return o.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(o.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return o.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_UpdateRegistration_Request";
        }
      }
      class l extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(), i.initialize(this, e, 0, -1, void 0, null);
        }
        toObject(e = !1) {
          return l.toObject(e, this);
        }
        static toObject(e, t) {
          return e ? { $jspbMessageInstance: t } : {};
        }
        static fromObject(e) {
          return new l();
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new l();
          return l.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return e;
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return l.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {}
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return l.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_UpdateRegistration_Response";
        }
      }
      class d extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            d.prototype.clan_event_gid || s.Sg(d.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            d.sm_m ||
              (d.sm_m = {
                proto: d,
                fields: {
                  clan_event_gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            d.sm_m
          );
        }
        static MBF() {
          return d.sm_mbf || (d.sm_mbf = s.w0(d.M())), d.sm_mbf;
        }
        toObject(e = !1) {
          return d.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(d.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(d.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new d();
          return d.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(d.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return d.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(d.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return d.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetAvailability_Request";
        }
      }
      class c extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            c.prototype.availability || s.Sg(c.M()),
            i.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            c.sm_m ||
              (c.sm_m = {
                proto: c,
                fields: { availability: { n: 1, c: m, r: !0, q: !0 } },
              }),
            c.sm_m
          );
        }
        static MBF() {
          return c.sm_mbf || (c.sm_mbf = s.w0(c.M())), c.sm_mbf;
        }
        toObject(e = !1) {
          return c.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(c.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(c.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new c();
          return c.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(c.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return c.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(c.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return c.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetAvailability_Response";
        }
      }
      class m extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            m.prototype.group_id || s.Sg(m.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            m.sm_m ||
              (m.sm_m = {
                proto: m,
                fields: {
                  group_id: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  session_id: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  guest_count: {
                    n: 3,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            m.sm_m
          );
        }
        static MBF() {
          return m.sm_mbf || (m.sm_mbf = s.w0(m.M())), m.sm_mbf;
        }
        toObject(e = !1) {
          return m.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(m.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(m.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new m();
          return m.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(m.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return m.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(m.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return m.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetAvailability_Response_Session";
        }
      }
      class u extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            u.prototype.clan_event_gid || s.Sg(u.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            u.sm_m ||
              (u.sm_m = {
                proto: u,
                fields: {
                  clan_event_gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  steamid: {
                    n: 2,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            u.sm_m
          );
        }
        static MBF() {
          return u.sm_mbf || (u.sm_mbf = s.w0(u.M())), u.sm_mbf;
        }
        toObject(e = !1) {
          return u.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(u.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(u.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new u();
          return u.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(u.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return u.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(u.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return u.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetRegistrations_Request";
        }
      }
      class p extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            p.prototype.registrations || s.Sg(p.M()),
            i.initialize(this, e, 0, -1, [1], null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            p.sm_m ||
              (p.sm_m = {
                proto: p,
                fields: { registrations: { n: 1, c: _, r: !0, q: !0 } },
              }),
            p.sm_m
          );
        }
        static MBF() {
          return p.sm_mbf || (p.sm_mbf = s.w0(p.M())), p.sm_mbf;
        }
        toObject(e = !1) {
          return p.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(p.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(p.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new p();
          return p.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(p.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return p.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(p.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return p.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetRegistrations_Response";
        }
      }
      class _ extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            _.prototype.group_id || s.Sg(_.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            _.sm_m ||
              (_.sm_m = {
                proto: _,
                fields: {
                  group_id: { n: 1, br: s.qM.readUint32, bw: s.gp.writeUint32 },
                  session_id: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  steamid: {
                    n: 3,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  guests_registered: {
                    n: 4,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  jsondata: { n: 5, br: s.qM.readString, bw: s.gp.writeString },
                },
              }),
            _.sm_m
          );
        }
        static MBF() {
          return _.sm_mbf || (_.sm_mbf = s.w0(_.M())), _.sm_mbf;
        }
        toObject(e = !1) {
          return _.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(_.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(_.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new _();
          return _.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(_.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return _.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(_.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return _.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_GetRegistrations_Response_Registration";
        }
      }
      class h extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            h.prototype.clan_event_gid || s.Sg(h.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            h.sm_m ||
              (h.sm_m = {
                proto: h,
                fields: {
                  clan_event_gid: {
                    n: 1,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                  steamid: {
                    n: 2,
                    br: s.qM.readFixed64String,
                    bw: s.gp.writeFixed64String,
                  },
                },
              }),
            h.sm_m
          );
        }
        static MBF() {
          return h.sm_mbf || (h.sm_mbf = s.w0(h.M())), h.sm_mbf;
        }
        toObject(e = !1) {
          return h.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(h.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(h.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new h();
          return h.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(h.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return h.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(h.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return h.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_EmailInvitees_Request";
        }
      }
      class g extends i {
        static ImplementsStaticInterface() {}
        constructor(e = null) {
          super(),
            g.prototype.num_emailed || s.Sg(g.M()),
            i.initialize(this, e, 0, -1, void 0, null);
        }
        static sm_m;
        static sm_mbf;
        static M() {
          return (
            g.sm_m ||
              (g.sm_m = {
                proto: g,
                fields: {
                  num_emailed: {
                    n: 1,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                  num_skipped: {
                    n: 2,
                    br: s.qM.readUint32,
                    bw: s.gp.writeUint32,
                  },
                },
              }),
            g.sm_m
          );
        }
        static MBF() {
          return g.sm_mbf || (g.sm_mbf = s.w0(g.M())), g.sm_mbf;
        }
        toObject(e = !1) {
          return g.toObject(e, this);
        }
        static toObject(e, t) {
          return s.BT(g.M(), e, t);
        }
        static fromObject(e) {
          return s.Uq(g.M(), e);
        }
        static deserializeBinary(e) {
          let t = new r.BinaryReader(e),
            a = new g();
          return g.deserializeBinaryFromReader(a, t);
        }
        static deserializeBinaryFromReader(e, t) {
          return s.zj(g.MBF(), e, t);
        }
        serializeBinary() {
          var e = new r.BinaryWriter();
          return g.serializeBinaryToWriter(this, e), e.getResultBuffer();
        }
        static serializeBinaryToWriter(e, t) {
          s.i0(g.M(), e, t);
        }
        serializeBase64String() {
          var e = new r.BinaryWriter();
          return g.serializeBinaryToWriter(this, e), e.getResultBase64String();
        }
        getClassName() {
          return "CPartnerMeetSteam_EmailInvitees_Response";
        }
      }
      var y;
      !(function (e) {
        (e.UpdateRegistration = function (e, t) {
          return e.SendMsg(
            "PartnerMeetSteam.UpdateRegistration#1",
            (0, n.I8)(o, t),
            l,
            { bConstMethod: !0, ePrivilege: 1 },
          );
        }),
          (e.GetAvailability = function (e, t) {
            return e.SendMsg(
              "PartnerMeetSteam.GetAvailability#1",
              (0, n.I8)(d, t),
              c,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.GetRegistrations = function (e, t) {
            return e.SendMsg(
              "PartnerMeetSteam.GetRegistrations#1",
              (0, n.I8)(u, t),
              p,
              { bConstMethod: !0, ePrivilege: 1 },
            );
          }),
          (e.EmailInvitees = function (e, t) {
            return e.SendMsg(
              "PartnerMeetSteam.EmailInvitees#1",
              (0, n.I8)(h, t),
              g,
              { ePrivilege: 4 },
            );
          });
      })(y || (y = {}));
      var v = a(20194),
        f = a(75233),
        b = a(51614),
        E = a(17720),
        w = a(24054),
        I = a(68797),
        S = a(14771);
      function C(e, t, a) {
        const r = (0, v.I)({
          queryKey: T(t, a),
          queryFn: async () => {
            const t = n.w.Init(d);
            t.Body().set_clan_event_gid(a);
            const r = await y.GetAvailability(e, t);
            return r.BSuccess()
              ? r
                  .Body()
                  .availability()
                  .map((e) => e.toObject())
              : [];
          },
          enabled: (0, w.H7)() == t,
          staleTime: 10 * S.Kp.PerMinute,
        });
        return r.isLoading ? null : r.data;
      }
      const T = (e, t) => ["useMeetSteamGetAvailability", e, t];
      function A(e, t, a, r) {
        const s = (0, v.I)({
          queryKey: D(t, a, r),
          queryFn: async () => {
            const a = n.w.Init(u),
              s = E.b.InitFromAccountID(t);
            a.Body().set_clan_event_gid(r),
              a.Body().set_steamid(s.ConvertTo64BitString());
            const i = await y.GetRegistrations(e, a);
            return i.BSuccess()
              ? i
                  .Body()
                  .registrations()
                  .map((e) => {
                    const t = { ...e.toObject(), regmodel: {} };
                    return (
                      t.jsondata && (t.regmodel = JSON.parse(t.jsondata)), t
                    );
                  })
              : [];
          },
          enabled: Boolean((0, w.H7)() == a && t),
        });
        return s.isLoading ? null : s.data;
      }
      const D = (e, t, a) => ["useMeetSteamGetRegistration", e, t, a];
      function G(e, t, a, r) {
        const s = (0, f.jE)();
        return (0, b.n)({
          mutationFn: async (a) => {
            const s = n.w.Init(o),
              i = E.b.InitFromAccountID(t);
            s.Body().set_clan_event_gid(r),
              s.Body().set_steamid(i.ConvertTo64BitString()),
              s.Body().set_registration_group_id(a.group_id),
              s.Body().set_registration_session_id(a.session_id),
              s.Body().set_guest_count(a.guests_registered),
              s.Body().set_jsondata(JSON.stringify(a.regmodel || {}));
            try {
              return (await y.UpdateRegistration(e, s)).BSuccess();
            } catch (e) {
              const t = (0, I.H)(e);
              console.error(
                "useUpdateRegistrationMutator error: " + t.strErrorMsg,
                t,
              );
            }
            return !1;
          },
          onSuccess: () => {
            s.invalidateQueries({ queryKey: D(t, a, r) }),
              s.invalidateQueries({ queryKey: T(a, r) });
          },
        });
      }
    },
    81477: (e, t, a) => {
      "use strict";
      a.d(t, { E: () => n, V: () => d });
      var n,
        r = a(41735),
        s = a.n(r),
        i = a(78327),
        o = a(6144),
        l = a(46910);
      !(function (e) {
        (e[(e.k_eDiscussions = 0)] = "k_eDiscussions"),
          (e[(e.k_eThumbsUp = 1)] = "k_eThumbsUp"),
          (e[(e.k_eClickThrough = 2)] = "k_eClickThrough"),
          (e[(e.k_eMuted = 3)] = "k_eMuted"),
          (e[(e.k_ePlayedVideo = 4)] = "k_ePlayedVideo"),
          (e[(e.k_eReminder_Opened = 5)] = "k_eReminder_Opened"),
          (e[(e.k_eReminder_MobilePush = 6)] = "k_eReminder_MobilePush"),
          (e[(e.k_eReminder_Email = 7)] = "k_eReminder_Email"),
          (e[(e.k_eReminder_CalendarApple = 8)] = "k_eReminder_CalendarApple"),
          (e[(e.k_eReminder_CalendarGoogle = 9)] =
            "k_eReminder_CalendarGoogle"),
          (e[(e.k_eReminder_CalendarOutlook = 10)] =
            "k_eReminder_CalendarOutlook"),
          (e[(e.k_eReminder_EmailUnverified = 11)] =
            "k_eReminder_EmailUnverified"),
          (e[(e.k_eReminder_MobilePushMissing = 12)] =
            "k_eReminder_MobilePushMissing");
      })(n || (n = {}));
      const d = new (class {
        m_nPastViewedIndex = 0;
        m_nPastViewedDays = 0;
        m_nFutureViewedIndex = 0;
        m_nFutureViewableEvents = 0;
        m_nLastRecordedFilter = 0;
        m_sBrowserID = void 0;
        m_scheduledFilterChange = new o.LU();
        m_scheduledFutureStats = new o.LU();
        m_scheduledPastStats = new o.LU();
        RecordViewedEvent(e, t) {
          const a = e.GetStoreInitializationTimestamp().getTime() / 1e3;
          this.m_nFutureViewableEvents = 0;
          let n,
            r = 0,
            s = null;
          const i = e.GetCurrentlyLoadedItemsForStats();
          for (const e of i) {
            const i = e.start_time > a;
            if ((e.unique_id == t && ((n = r), (s = e)), i))
              this.m_nFutureViewableEvents++;
            else if (void 0 !== n) break;
            r++;
          }
          if (void 0 !== n)
            if (n < this.m_nFutureViewableEvents) {
              const t = this.m_nFutureViewableEvents - n;
              if (this.m_nFutureViewedIndex < t) {
                this.m_nFutureViewedIndex = t;
                const a = () => {
                    const t =
                      Math.min(this.m_nFutureViewedIndex, 4095) |
                      (Math.min(this.m_nFutureViewableEvents, 255) << 12) |
                      (Math.min(this.GetTimeSpentOnPageS(e), 2047) << 20);
                    d.SendExperimentEventToSteam(18, t);
                  },
                  n = 500;
                this.m_scheduledFutureStats.Schedule(n, a);
              }
            } else {
              const t = n - this.m_nFutureViewableEvents;
              if (this.m_nPastViewedIndex < t) {
                (this.m_nPastViewedIndex = t),
                  (this.m_nPastViewedDays = Math.floor(
                    (a - s.start_time) / 86400,
                  ));
                const n = () => {
                    const t =
                      Math.min(this.m_nPastViewedIndex, 4095) |
                      (Math.min(this.m_nPastViewedDays, 255) << 12) |
                      (Math.min(this.GetTimeSpentOnPageS(e), 2047) << 20);
                    d.SendExperimentEventToSteam(17, t);
                  },
                  r = 500;
                this.m_scheduledPastStats.Schedule(r, n);
              }
            }
        }
        RecordFilterChangeEvent(e) {
          this.m_scheduledFilterChange.Schedule(1e3, () => {
            let t = 0;
            e.BIsGameSourceAllowed(l.FD.k_ELibrary) && (t |= 1),
              e.BIsGameSourceAllowed(l.FD.k_EWishlist) && (t |= 2),
              e.BIsGameSourceAllowed(l.FD.k_EFollowing) && (t |= 4),
              e.BIsGameSourceAllowed(l.FD.k_ERecommended) && (t |= 8),
              e.BIsGameSourceAllowed(l.FD.k_ESteam) && (t |= 16),
              e.BIsGameSourceAllowed(l.FD.k_EFeatured) && (t |= 32),
              e.BIsGameSourceAllowed(l.FD.k_ERecent) && (t |= 64),
              e.BIsEventTypeGroupAllowed(l.xj.k_ENews) && (t |= 1024),
              e.BIsEventTypeGroupAllowed(l.xj.k_EEvents) && (t |= 2048),
              e.BIsEventTypeGroupAllowed(l.xj.k_EStreaming) && (t |= 4096),
              e.BIsEventTypeGroupAllowed(l.xj.k_EUpdates) && (t |= 8192),
              e.BIsEventTypeGroupAllowed(l.xj.k_EReleases) && (t |= 16384),
              e.BIsEventTypeGroupAllowed(l.xj.k_ESales) && (t |= 32768),
              t != this.m_nLastRecordedFilter &&
                ((this.m_nLastRecordedFilter = t),
                this.SendExperimentEventToSteam(16, t));
          });
        }
        GetTimeSpentOnPageS(e) {
          const t = e.GetStoreInitializationTimestamp(),
            a = new Date();
          return Math.max(0, Math.floor((a.getTime() - t.getTime()) / 1e3));
        }
        RecordAppInteractionEvent(e, t) {
          this.SendExperimentEventToSteam(19, t);
        }
        SendExperimentEventToSteam(e, t) {
          this.InitBrowserID();
          const a = i.TS.STORE_BASE_URL + "events/ajaxreportnewshubstats/",
            n = new URLSearchParams();
          n.append("page_action", "" + e),
            n.append("snr", i.TS.SNR),
            n.append("uint_data", "" + t),
            n.append("str_data", this.m_sBrowserID),
            s().post(a, n);
        }
        InitBrowserID() {
          if (void 0 === this.m_sBrowserID)
            if (i.TS.IN_CLIENT) this.m_sBrowserID = "steam";
            else {
              const e = navigator.userAgent;
              /iPhone|iPad|iPod/i.test(e) ||
              (/Macintosh/i.test(e) && /Safari/i.test(e))
                ? (this.m_sBrowserID = "ios")
                : /Android/i.test(e)
                  ? (this.m_sBrowserID = "android")
                  : (this.m_sBrowserID = "");
            }
        }
      })();
      window.g_EventCalendarTrackingStore = d;
    },
    46910: (e, t, a) => {
      "use strict";
      a.d(t, { FD: () => n, vJ: () => v, xj: () => _ });
      var n,
        r = a(34629),
        s = a(14947),
        i = a(47822),
        o = a(44332),
        l = a(78327),
        d = a(81477),
        c = a(44165);
      !(function (e) {
        (e.k_ERecent = "recent"),
          (e.k_ELibrary = "library"),
          (e.k_EWishlist = "wishlist"),
          (e.k_EFollowing = "following"),
          (e.k_ERecommended = "recommended"),
          (e.k_ESteam = "steam"),
          (e.k_EFeatured = "featured"),
          (e.k_ECurator = "curator");
      })(n || (n = {}));
      const m = [
          n.k_ELibrary,
          n.k_EWishlist,
          n.k_EFollowing,
          n.k_ERecommended,
          n.k_ESteam,
          n.k_ECurator,
        ],
        u = [...m, n.k_EFeatured],
        p = [n.k_EFeatured];
      var _;
      !(function (e) {
        (e.k_ENews = "news"),
          (e.k_EEvents = "events"),
          (e.k_EStreaming = "streaming"),
          (e.k_EUpdates = "updates"),
          (e.k_EReleases = "releases"),
          (e.k_ESales = "sales");
      })(_ || (_ = {}));
      const h = [
          _.k_ENews,
          _.k_EEvents,
          _.k_EStreaming,
          _.k_EUpdates,
          _.k_EReleases,
          _.k_ESales,
        ],
        g = new Map([
          [_.k_ENews, [28]],
          [_.k_EEvents, [9, 27, 22, 23, 24, 35, 25, 26]],
          [_.k_EStreaming, [11]],
          [_.k_EUpdates, [12, 13, 14]],
          [_.k_EReleases, [10, 29, 16, 15, 32]],
          [_.k_ESales, [20, 21, 31, 34]],
        ]);
      function y(e) {
        return new Map(e.map((e) => [e, !0]));
      }
      class v {
        m_mapEventTypeGroupsAllowed = new Map();
        m_mapGameSources = new Map();
        m_bCuratorUnhideOnFollowDialogDismissed = !1;
        m_mapHiddenApps = new Map();
        m_mapHiddenClans = new Map();
        m_bInitializedForUpdatesOnly;
        m_eStorageType = "session";
        m_strStorageKey;
        constructor(e) {
          (0, s.Gn)(this),
            (0, s.h5)(() => {
              e?.rgHiddenApps &&
                e.rgHiddenApps.forEach((e) => this.m_mapHiddenApps.set(e, !0)),
                e?.rgHiddenClans &&
                  e.rgHiddenClans.forEach((e) =>
                    this.m_mapHiddenClans.set(e, !0),
                  );
            });
        }
        GetGameSources() {
          return Array.from(this.m_mapGameSources.keys());
        }
        GetStorageObject() {
          return this.m_strStorageKey
            ? "session" === this.m_eStorageType
              ? window.sessionStorage
              : window.localStorage
            : null;
        }
        GetPreferencesStorageKey() {
          return `${this.m_strStorageKey}-event-calendar-prefs`;
        }
        get enabledEventTypeSet() {
          const e = new Set();
          for (const t of Array.from(this.m_mapEventTypeGroupsAllowed.keys()))
            g.get(t).forEach((t) => e.add(t));
          return e;
        }
        MapClanEventTypeToGroup(e) {
          let t = null;
          return (
            g.forEach((a, n) => {
              -1 !== a.indexOf(e) && (t = n);
            }),
            t || _.k_EEvents
          );
        }
        InitDefaultCheckboxes(e, t, a) {
          (this.m_bInitializedForUpdatesOnly = t),
            (this.m_mapEventTypeGroupsAllowed = y(t ? [_.k_EUpdates] : h));
          const r = (0, l.Y2)() ? u : m;
          (this.m_mapGameSources = y(e ? r : p)),
            a && this.m_mapGameSources.set(n.k_EFeatured, !0);
        }
        Init(e, t, a, n, r) {
          (this.m_eStorageType = r), (this.m_strStorageKey = n);
          const s = this.GetStorageObject(),
            i = s ? s.getItem(this.GetPreferencesStorageKey()) : null;
          if (i) {
            const e = JSON.parse(i);
            if (e.rgEventTypeGroupsAllowed && e.rgGameSources) {
              const { rgEventTypeGroupsAllowed: t, rgGameSources: a } = e;
              return (
                (this.m_mapEventTypeGroupsAllowed = y(t)),
                (this.m_mapGameSources = y(a)),
                void (
                  void 0 !== e.bCuratorUnhideOnFollowDismissed &&
                  (this.m_bCuratorUnhideOnFollowDialogDismissed =
                    e.bCuratorUnhideOnFollowDismissed)
                )
              );
            }
          }
          this.InitDefaultCheckboxes(e, t, a);
        }
        SaveFilterPreferences() {
          const e = this.GetStorageObject();
          if (!e) return;
          const t = {
            rgEventTypeGroupsAllowed: Array.from(
              this.m_mapEventTypeGroupsAllowed.keys(),
            ),
            rgGameSources: Array.from(this.m_mapGameSources.keys()),
            bCuratorUnhideOnFollowDismissed:
              this.m_bCuratorUnhideOnFollowDialogDismissed,
          };
          e.setItem(this.GetPreferencesStorageKey(), JSON.stringify(t));
        }
        BCuratorUnhideOnFollowDialogDismissed() {
          return this.m_bCuratorUnhideOnFollowDialogDismissed;
        }
        SetCuratorUnhideOnFollowDialogDismissed(e) {
          (this.m_bCuratorUnhideOnFollowDialogDismissed = e),
            this.SaveFilterPreferences();
        }
        BIsEventTypeGroupAllowed(e) {
          return this.m_mapEventTypeGroupsAllowed.has(e);
        }
        BIsGameSourceAllowed(e) {
          return (
            !(e === n.k_EFollowing && !c.HD.bIsFollowingEnabled) &&
            !(e === n.k_ECurator && !c.HD.bIsCuratorsEnabled) &&
            this.m_mapGameSources.has(e)
          );
        }
        SetEventTypeGroupAllowed(e, t) {
          t
            ? this.m_mapEventTypeGroupsAllowed.set(e, !0)
            : this.m_mapEventTypeGroupsAllowed.delete(e),
            this.SaveFilterPreferences(),
            d.V.RecordFilterChangeEvent(this);
        }
        SetGameSourceAllowed(e, t) {
          t
            ? (this.m_mapGameSources.set(e, !0),
              e == n.k_ERecent
                ? this.m_mapGameSources.delete(n.k_ELibrary)
                : e == n.k_ELibrary &&
                  ((0, o.w)(
                    !this.m_mapGameSources.has(n.k_ERecent),
                    "Setting Library although Recent already set - illusion was broken",
                  ),
                  this.m_mapGameSources.delete(n.k_ERecent)))
            : (this.m_mapGameSources.delete(e),
              e == n.k_ERecent
                ? this.m_mapGameSources.set(n.k_ELibrary, !0)
                : e == n.k_ELibrary &&
                  this.m_mapGameSources.delete(n.k_ERecent)),
            this.SaveFilterPreferences(),
            d.V.RecordFilterChangeEvent(this);
        }
        BShouldDisplayEvent(e) {
          const t = e.GetSource(),
            a = Boolean(
              e.appInfo &&
                e.appInfo.last_played &&
                e.appInfo.last_played + 15552e3 >=
                  c.HD.GetTimeNowWithOverride(),
            );
          return (
            !!(
              this.enabledEventTypeSet.has(e.event_type) ||
              (this.m_bInitializedForUpdatesOnly &&
                this.BIsEventTypeGroupAllowed(_.k_EUpdates) &&
                28 == e.event_type &&
                e.start_time < 1599202800)
            ) &&
            !this.m_mapHiddenApps.has(e.appid) &&
              !this.m_mapHiddenClans.has(e.clanid) &&
            (!!(t & i.bK.k_eRequired || t & i.bK.k_eReposted) ||
              Boolean(
                (this.BIsGameSourceAllowed(n.k_ERecent) && a) ||
                  (this.BIsGameSourceAllowed(n.k_ELibrary) &&
                    t & i.bK.k_eLibrary) ||
                  (this.BIsGameSourceAllowed(n.k_EWishlist) &&
                    t & i.bK.k_eWishlist) ||
                  (this.BIsGameSourceAllowed(n.k_EFollowing) &&
                    t & i.bK.k_eFollowing) ||
                  (this.BIsGameSourceAllowed(n.k_ERecommended) &&
                    t & i.bK.k_eRecommended) ||
                  (this.BIsGameSourceAllowed(n.k_ESteam) &&
                    t & i.bK.k_eSteam) ||
                  (this.BIsGameSourceAllowed(n.k_EFeatured) &&
                    t & i.bK.k_eFeatured) ||
                  (this.BIsGameSourceAllowed(n.k_ECurator) &&
                    t & i.bK.k_eCurator),
              ))
          );
        }
        BAreAllEventsHidden() {
          return (
            0 == this.m_mapEventTypeGroupsAllowed.size ||
            0 == this.m_mapGameSources.size
          );
        }
        BAreAnyEventsFiltered(e) {
          const t = (0, l.Y2)() ? u : m;
          return (
            (e ? t : p).some((e) => !this.BIsGameSourceAllowed(e)) ||
            h.some((e) => !this.BIsEventTypeGroupAllowed(e))
          );
        }
        BIsClanVisible(e) {
          return !this.m_mapHiddenClans.has(e);
        }
        SetClanVisibility(e, t) {
          t
            ? this.m_mapHiddenClans.has(e) && this.m_mapHiddenClans.delete(e)
            : this.m_mapHiddenClans.has(e) || this.m_mapHiddenClans.set(e, !0);
        }
        BIsAppVisible(e) {
          return !this.m_mapHiddenApps.has(e);
        }
        SetAppVisibility(e, t) {
          t
            ? this.m_mapHiddenApps.has(e) && this.m_mapHiddenApps.delete(e)
            : this.m_mapHiddenApps.has(e) || this.m_mapHiddenApps.set(e, !0);
        }
      }
      (0, r.Cg)([s.sH], v.prototype, "m_mapEventTypeGroupsAllowed", void 0),
        (0, r.Cg)([s.sH], v.prototype, "m_mapGameSources", void 0),
        (0, r.Cg)(
          [s.sH],
          v.prototype,
          "m_bCuratorUnhideOnFollowDialogDismissed",
          void 0,
        ),
        (0, r.Cg)([s.sH], v.prototype, "m_mapHiddenApps", void 0),
        (0, r.Cg)([s.sH], v.prototype, "m_mapHiddenClans", void 0),
        (0, r.Cg)(
          [(0, s.EW)({ keepAlive: !0, equals: s.m3.structural })],
          v.prototype,
          "enabledEventTypeSet",
          null,
        ),
        (0, r.Cg)([s.XI], v.prototype, "SetEventTypeGroupAllowed", null),
        (0, r.Cg)([s.XI], v.prototype, "SetGameSourceAllowed", null);
    },
    60746: (e, t, a) => {
      "use strict";
      a.d(t, { KN: () => f, Nh: () => _, Ec: () => b });
      var n = a(34629),
        r = a(41735),
        s = a.n(r),
        i = a(14947),
        o = a(56545),
        l = a(37403),
        d = a(6144),
        c = a(6419),
        m = a(78327),
        u = a(68797);
      class p {
        m_CMInterface;
        m_setShownEvents = new Set();
        m_setReadEvents = new Set();
        m_rgPendingUpload = [];
        m_schUpload = new d.LU();
        m_bUploading = !1;
        constructor(e) {
          this.m_CMInterface = e;
        }
        MarkEventShown(e, t, a) {
          let n = this.MakeKey(e, a);
          if (this.m_setShownEvents.has(n)) return !1;
          this.m_setShownEvents.add(n);
          let r = new l.kZ();
          return (
            r.set_event_gid(e),
            r.set_clanid(t),
            r.set_display_location(a),
            r.set_mark_shown(!0),
            this.QueueForUpload(r),
            !0
          );
        }
        MarkEventRead(e, t, a) {
          let n = this.MakeKey(e, a);
          if (this.m_setReadEvents.has(n)) return !1;
          this.m_setReadEvents.add(n);
          let r = new l.kZ();
          return (
            r.set_event_gid(e),
            r.set_clanid(t),
            r.set_display_location(a),
            r.set_mark_read(!0),
            this.QueueForUpload(r),
            !0
          );
        }
        MakeKey(e, t) {
          return `${e}_${t}`;
        }
        QueueForUpload(e) {
          this.m_rgPendingUpload.push(e), this.ScheduleUpload();
        }
        ScheduleUpload() {
          this.m_bUploading ||
            (this.m_rgPendingUpload.length >= 30
              ? this.UploadPendingData()
              : this.m_schUpload.IsScheduled() ||
                this.m_schUpload.Schedule(6e4, this.UploadPendingData));
        }
        async Flush() {
          if (!this.m_bUploading) return this.UploadPendingData();
        }
        async UploadPendingData() {
          if (this.m_bUploading) return;
          this.m_schUpload.Cancel();
          let e = this.m_rgPendingUpload.splice(0, 30);
          if (0 == e.length) return;
          let t = !1;
          if (this.m_CMInterface) {
            let a = o.w.Init(l.wS);
            for (let t of e) a.Body().add_markings(t);
            this.m_bUploading = !0;
            let n = await l.BE.MarkPartnerEventsForUser(
              this.m_CMInterface.GetServiceTransport(),
              a,
            );
            (this.m_bUploading = !1), (t = 1 == n.GetEResult());
          } else {
            if (!m.iA.logged_in) return;
            let a = e.map((e) => e.toObject()),
              n = (0, m.xv)() + "actions/ajaxmarkpartnerevents";
            const r = new FormData();
            r.append("sessionid", m.TS.SESSIONID),
              r.append("request", JSON.stringify(a));
            try {
              t =
                1 ==
                (await s().post(n, r, { withCredentials: !0 })).data.success;
            } catch (e) {
              let t = (0, u.H)(e);
              console.error(
                "CPartnerEventUserTracking.UploadPendingData error " +
                  t.strErrorMsg,
                t,
              );
            }
          }
          t
            ? this.m_rgPendingUpload.length > 0 && this.ScheduleUpload()
            : (console.log(
                "Saving news event state failed. Will try again soon!",
              ),
              (this.m_rgPendingUpload = this.m_rgPendingUpload.concat(e)),
              this.m_schUpload.Schedule(6e4, this.UploadPendingData));
        }
      }
      (0, n.Cg)([c.o], p.prototype, "UploadPendingData", null);
      var _,
        h = a(17720),
        g = a(44332),
        y = a(90626);
      class v {
        clanid = void 0;
        appid = 0;
        can_edit = !1;
        owns_app = !1;
        follows_app = !1;
        support_user = !1;
        valve_admin = !1;
        limited_user = !1;
        event_ignored = new Array();
        event_followed = new Array();
        event_followed_flags = new Array();
        constructor(e) {
          (0, i.Gn)(this), (this.clanid = e);
        }
      }
      (0, n.Cg)([i.sH], v.prototype, "clanid", void 0),
        (0, n.Cg)([i.sH], v.prototype, "appid", void 0),
        (0, n.Cg)([i.sH], v.prototype, "can_edit", void 0),
        (0, n.Cg)([i.sH], v.prototype, "owns_app", void 0),
        (0, n.Cg)([i.sH], v.prototype, "follows_app", void 0),
        (0, n.Cg)([i.sH], v.prototype, "support_user", void 0),
        (0, n.Cg)([i.sH], v.prototype, "valve_admin", void 0),
        (0, n.Cg)([i.sH], v.prototype, "limited_user", void 0),
        (0, n.Cg)([i.sH], v.prototype, "event_ignored", void 0),
        (0, n.Cg)([i.sH], v.prototype, "event_followed", void 0),
        (0, n.Cg)([i.sH], v.prototype, "event_followed_flags", void 0),
        (function (e) {
          (e[(e.k_ENotifyFlagNone = 0)] = "k_ENotifyFlagNone"),
            (e[(e.k_ENotifyFlagByEmail = 1)] = "k_ENotifyFlagByEmail"),
            (e[(e.k_ENotifyFlagByPush = 2)] = "k_ENotifyFlagByPush");
        })(_ || (_ = {}));
      class f {
        constructor() {
          (0, i.Gn)(this);
        }
        m_mapClanToUserPermissions = new Map();
        m_mapAnnounceGIDToVote = new Map();
        m_setReadEventGIDs = new Set();
        m_tracker;
        m_cm = void 0;
        static s_EventUserStore;
        m_bIsPresentationMode = (0, m.Bu)();
        static Get() {
          return (
            (0, g.w)(
              !!f.s_EventUserStore,
              "Have not yet initialized global EventUserStore",
            ),
            f.s_EventUserStore
          );
        }
        static IsInitialized() {
          return !!f.s_EventUserStore;
        }
        static async InitGlobal(e) {
          if (!f.s_EventUserStore) {
            const t = new f();
            await t.Init(e),
              (f.s_EventUserStore = t),
              "dev" == m.TS.WEB_UNIVERSE && (window.g_EventUserStore = t);
          }
        }
        async Init(e) {
          (this.m_cm = e), (this.m_tracker = new p(e));
          const t = (0, m.Fd)("partnereventpermissions", "application_config");
          this.ValidateStoreDefault(t) &&
            ((0, i.h5)(() => {
              t.forEach((e) => {
                let t = new v(e.clanid),
                  a = { result: t, promise: f.RemapToPromise(t) };
                this.CopyFromResponseToTrack(a, e),
                  this.m_mapClanToUserPermissions.set(e.clanid, a);
              });
            }),
            ("dev" != m.TS.WEB_UNIVERSE && "beta" != m.TS.WEB_UNIVERSE) ||
              console.log(
                "CEventUserStore has loaded",
                this.m_mapClanToUserPermissions.size,
                this.m_mapClanToUserPermissions,
              ));
          let a = (0, m.Fd)("uservotes", "application_config");
          a &&
            (0, i.h5)(() => {
              a.forEach((e) => {
                let t = !!e.voted_up || (!e.voted_down && void 0);
                this.m_mapAnnounceGIDToVote.set(e.clanAnnouncementGID, t);
              });
            });
        }
        GetTracker() {
          return this.m_tracker;
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clanid &&
            "number" == typeof t[0].appid
          );
        }
        RecordEventShown(e, t) {
          e &&
            !e.bOldAnnouncement &&
            this.m_tracker.MarkEventShown(
              e.GID,
              e.clanSteamID.GetAccountID(),
              t,
            );
        }
        RecordEventRead(e, t) {
          e &&
            !e.bOldAnnouncement &&
            (this.HasEventBeenRead(e.GID) ||
              (this.SetEventAsRead(e.GID),
              this.m_tracker.MarkEventRead(
                e.GID,
                e.clanSteamID.GetAccountID(),
                t,
              )));
        }
        SetEventAsRead(e) {
          this.m_setReadEventGIDs.add(e);
        }
        HasEventBeenRead(e) {
          return this.m_setReadEventGIDs.has(e);
        }
        static async RemapToPromise(e) {
          return e;
        }
        BIsUserLoggedIn() {
          return m.iA.logged_in;
        }
        BIsPartnerEventPermissionsLoaded(e) {
          return this.m_mapClanToUserPermissions.has(e);
        }
        GetPartnerEventPermissions(e) {
          if (!e || !e.BIsValid()) return new v(0);
          const t = e.GetAccountID();
          this.m_mapClanToUserPermissions.has(t) ||
            this.LoadSingleAppEventPermissions(e);
          return this.m_mapClanToUserPermissions.get(t).result;
        }
        BFollowsEvent(e, t) {
          return (
            -1 != this.GetPartnerEventPermissions(e).event_followed.indexOf(t)
          );
        }
        BFollowsEventAndNotifiedBy(e, t, a) {
          let n = this.GetPartnerEventPermissions(e),
            r = n.event_followed.indexOf(t);
          return -1 !== r && (n.event_followed_flags[r] & a) == a;
        }
        BIgnoresEvent(e, t) {
          return (
            -1 != this.GetPartnerEventPermissions(e).event_ignored.indexOf(t)
          );
        }
        async LoadSingleAppEventPermissions(e) {
          let t = e.GetAccountID(),
            a = this.m_mapClanToUserPermissions.get(t);
          return (
            a ||
              ((a = {
                promise: this.InternalLoadSingleAppEventPermissions(e),
                result: new v(t),
              }),
              this.m_mapClanToUserPermissions.set(t, a)),
            a.promise
          );
        }
        CopyFromResponseToTrack(e, t) {
          (e.result.appid = t.appid),
            (e.result.can_edit = t.can_edit),
            (e.result.clanid = t.appid),
            (e.result.event_followed = t.event_followed),
            (e.result.event_ignored = t.event_ignored),
            (e.result.event_followed_flags = t.event_followed_flags),
            (e.result.follows_app = t.follows_app),
            (e.result.owns_app = t.owns_app),
            (e.result.limited_user = t.limited_user),
            (t.support_user || t.valve_admin) && this.m_bIsPresentationMode
              ? ((e.result.can_edit = !0),
                (e.result.support_user = !1),
                (e.result.valve_admin = !1))
              : ((e.result.support_user = t.support_user),
                (e.result.valve_admin = t.valve_admin));
        }
        async InternalLoadSingleAppEventPermissions(e) {
          let t = null,
            a = e.GetAccountID(),
            n = !Boolean(m.iA.logged_in);
          if (!this.m_mapClanToUserPermissions.has(a)) {
            let t = new v(e.GetAccountID());
            this.m_mapClanToUserPermissions.set(a, {
              result: t,
              promise: f.RemapToPromise(t),
            });
          }
          try {
            if (Boolean(m.iA.logged_in)) {
              let r =
                  m.TS.COMMUNITY_BASE_URL +
                  "gid/" +
                  e.ConvertTo64BitString() +
                  "/ajaxgetpartnereventpermissions/",
                i = {};
              if (
                ("partnerweb" == (0, m.yK)() &&
                  ((r =
                    m.TS.PARTNER_BASE_URL +
                    "partnerevents/ajaxgetpartnereventpermissions"),
                  (i = { clanaccountid: e.GetAccountID() })),
                (t = await s().get(r, { params: i, withCredentials: !0 })),
                1 != t.data.success)
              )
                console.error(
                  "Partner Events Failed Load:" + (0, u.H)(t.data).strErrorMsg,
                ),
                  (n = !0);
              else {
                let e = this.m_mapClanToUserPermissions.get(a);
                this.CopyFromResponseToTrack(e, t.data);
              }
            }
          } catch (e) {
            if (
              ((t = e.response),
              (n = !0),
              e &&
                void 0 !== e.response &&
                void 0 !== e.response.data &&
                void 0 !== e.response.data.success &&
                21 == e.response.data.success)
            );
            else {
              const t = (0, u.H)(e);
              console.error(
                "InternalLoadSingleAppEventPermissions account: " +
                  a +
                  ": " +
                  t.strErrorMsg,
                t,
              );
            }
          } finally {
            n &&
              (0, i.h5)(() => {
                let e = this.m_mapClanToUserPermissions.get(a);
                (e.result.appid = t && t.data ? t.data.appid : 0),
                  (e.result.can_edit = !1),
                  (e.result.clanid = t && t.data ? t.data.clanid : 0),
                  (e.result.event_followed = new Array()),
                  (e.result.event_ignored = new Array()),
                  (e.result.event_followed_flags = new Array()),
                  (e.result.follows_app = !1),
                  (e.result.owns_app = !1),
                  (e.result.support_user = !1),
                  (e.result.valve_admin = !1),
                  (e.result.limited_user = !1);
              });
          }
          return this.m_mapClanToUserPermissions.get(a).result;
        }
        async SetFollowOrUnfollowEvent(e, t, a, n, r) {
          let o = this.GetPartnerEventPermissions(a),
            l = o.event_followed.indexOf(n),
            d = 0;
          -1 !== l &&
            ((d = o.event_followed_flags[l]), e ? (r = d & ~r) : (r |= d));
          let c = 0 == r,
            u =
              ("store" === (0, m.yK)()
                ? m.TS.STORE_BASE_URL + "events"
                : m.TS.COMMUNITY_BASE_URL +
                  "/gid/" +
                  a.ConvertTo64BitString()) +
              (c ? "/unfolloworunignoreevent" : "/followorignoreevent"),
            p = new URLSearchParams();
          p.append("sessionid", m.TS.SESSIONID),
            p.append("ignore", "" + t),
            p.append("gid", n),
            p.append("notification_flag", "" + r),
            p.append("clan_accountid", "" + a.GetAccountID());
          await s().post(u, p, { withCredentials: !0 });
          (0, i.h5)(() => {
            let e = this.m_mapClanToUserPermissions.get(a.GetAccountID()),
              s = null,
              i = null,
              o = null,
              l = null;
            c
              ? ((s = t ? e.result.event_ignored : e.result.event_followed),
                (o = t ? null : e.result.event_followed_flags))
              : t
                ? ((s = e.result.event_followed),
                  (o = e.result.event_followed_flags),
                  (i = e.result.event_ignored))
                : ((s = e.result.event_ignored),
                  (i = e.result.event_followed),
                  (l = e.result.event_followed_flags));
            let d = s.indexOf(n);
            if ((d > -1 && (s.splice(d, 1), o && o.splice(d, 1)), i)) {
              let e = i.indexOf(n);
              -1 == e ? (i.push(n), l && l.push(r)) : (l[e] = r);
            }
          });
        }
        async Vote(e, t, a) {
          if (!e || !e.AnnouncementGID) return !1;
          const n = this.m_mapAnnounceGIDToVote.get(e.AnnouncementGID);
          if (n === t) return !0;
          if (
            (this.m_mapAnnounceGIDToVote.set(e.AnnouncementGID, t),
            (0, i.h5)(() => {
              !0 === n && e.UpdateVoteCount("up", -1),
                !1 === n && e.UpdateVoteCount("down", -1),
                !0 === t && e.UpdateVoteCount("up", 1),
                !1 === t && e.UpdateVoteCount("down", 1);
            }),
            this.m_cm)
          ) {
            let a = o.w.Init(l.QU);
            return (
              a.Body().set_announcementid(e.AnnouncementGID),
              a.Body().set_vote_up(!!t),
              a.Body().set_clan_accountid(e.clanSteamID.GetAccountID()),
              1 ==
                (
                  await l.BE.RateClanAnnouncement(
                    this.m_cm.GetServiceTransport(),
                    a,
                  )
                ).GetEResult()
            );
          }
          {
            const n = (0, m.yK)(),
              r =
                "community" == n || "steamtv" == n
                  ? m.TS.COMMUNITY_BASE_URL +
                    "gid/" +
                    e.clanSteamID.ConvertTo64BitString() +
                    "/announcements/rate/" +
                    e.AnnouncementGID
                  : m.TS.STORE_BASE_URL +
                    "updated/ajaxrateupdate/" +
                    e.AnnouncementGID,
              i = new URLSearchParams();
            i.append("sessionid", m.TS.SESSIONID),
              i.append("voteup", t ? "1" : "0"),
              i.append("clanid", "" + e.clanSteamID.GetAccountID()),
              i.append("ajax", "1");
            const o = { withCredentials: !0, cancelToken: a.token };
            return 1 == (await s().post(r, i, o)).data.success;
          }
        }
        async LoadMyVote(e, t) {
          if (e?.AnnouncementGID) {
            if (this.m_mapAnnounceGIDToVote.has(e.AnnouncementGID))
              return this.m_mapAnnounceGIDToVote.get(e.AnnouncementGID);
            let a;
            if (this.m_cm) {
              let t = o.w.Init(l.$Y);
              t.Body().set_announcementid(e.AnnouncementGID);
              let n = await l.BE.GetClanAnnouncementVoteForUser(
                this.m_cm.GetServiceTransport(),
                t,
              );
              1 == n.GetEResult() &&
                (a =
                  !!n.Body().voted_up() || (!n.Body().voted_down() && void 0));
            } else {
              const n = "store" == (0, m.yK)(),
                r = n
                  ? m.TS.STORE_BASE_URL + "actions/ajaxgetmyannouncementvote"
                  : m.TS.COMMUNITY_BASE_URL +
                    "gid/" +
                    e.clanSteamID.ConvertTo64BitString() +
                    "/announcements/ajaxgetmyvote/" +
                    e.AnnouncementGID,
                i = { gid: n ? e.AnnouncementGID : void 0 },
                o = await s().get(r, {
                  withCredentials: !0,
                  cancelToken: t.token,
                  params: i,
                });
              a = !!o.data.voted_up || (!o.data.voted_down && void 0);
            }
            return this.m_mapAnnounceGIDToVote.set(e.AnnouncementGID, a), a;
          }
        }
        SetVote(e, t) {
          this.m_mapAnnounceGIDToVote.set(e, t);
        }
        BHasMyVote(e) {
          return (
            !!e.AnnouncementGID &&
            this.m_mapAnnounceGIDToVote.has(e.AnnouncementGID)
          );
        }
        GetPreviouslyLoadedVote(e) {
          return e.AnnouncementGID
            ? this.m_mapAnnounceGIDToVote.get(e.AnnouncementGID)
            : void 0;
        }
        BShowEmailEditorTab(e) {
          if (e.BHasEmailEnabled()) return !0;
          let t = this.GetPartnerEventPermissions(e.clanSteamID);
          return (m.UF.IS_OGG || m.UF.IS_VALVE_GROUP) && t.valve_admin;
        }
        BShowSaleEditorTab(e) {
          if (e.BHasSaleEnabled()) return !0;
          let t = this.GetPartnerEventPermissions(e.clanSteamID);
          return (
            !m.UF.IS_OGG &&
            (t.valve_admin ||
              (e.jsondata.clone_from_event_gid &&
                e.jsondata.clone_from_sale_enabled))
          );
        }
      }
      function b(e) {
        const [t, a] = (0, y.useState)(
            f.Get().BIsPartnerEventPermissionsLoaded(e),
          ),
          n = h.b.InitFromClanID(e),
          [r, s] = (0, y.useState)(f.Get().GetPartnerEventPermissions(n));
        return (
          (0, y.useEffect)(() => {
            if (!t) {
              const t = h.b.InitFromClanID(e);
              f.Get()
                .LoadSingleAppEventPermissions(t)
                .then((e) => {
                  s(e), a(!0);
                });
            }
          }, [t, e]),
          r
        );
      }
      (0, n.Cg)([i.sH], f.prototype, "m_mapClanToUserPermissions", void 0),
        (0, n.Cg)([i.sH], f.prototype, "m_mapAnnounceGIDToVote", void 0),
        (0, n.Cg)([i.sH], f.prototype, "m_setReadEventGIDs", void 0),
        (0, n.Cg)([i.XI], f.prototype, "CopyFromResponseToTrack", null);
    },
    20587: (e, t, a) => {
      "use strict";
      a.d(t, { ZQ: () => w, O3: () => I, dB: () => S, CO: () => C });
      var n = a(34629),
        r = a(41735),
        s = a.n(r),
        i = a(14947),
        o = a(31561),
        l = a(22837),
        d = a(77516),
        c = a(17720);
      var m = a(62490),
        u = a(44332),
        p = a(68797),
        _ = a(6144),
        h = a(61859),
        g = a(41338),
        y = a(78327),
        v = a(90626),
        f = a(375);
      class b {
        appid;
        date;
        can_play;
        playtime;
        announcementid;
        constructor(e) {
          (0, u.w)(
            "number" == typeof e.appid,
            "AJAX updated app returned a non-numeric AppID! Did the PHP change?",
          ),
            (this.appid = e.appid),
            (this.date = e.date),
            (this.can_play = e.can_play),
            (this.playtime = e.playtime),
            (this.announcementid = e.announcementid);
        }
      }
      function E(e) {
        let t = "" + e;
        const a = h.A0.GetELanguageFallback(e);
        return e != a && (t += "_" + a), t;
      }
      class w {
        constructor() {
          (0, i.Gn)(this);
        }
        m_mapExistingEvents = new Map();
        m_mapEventUpdateCallback = new Map();
        m_mapAnnouncementBodyToEvent = new Map();
        m_mapClanToGIDs = new Map();
        m_mapAppIDToGIDs = new Map();
        m_mapAdjacentAnnouncementGIDs = new Map();
        m_mapUpdatedApps = new Map();
        m_tsUpdatedAppsQueryTime = 0;
        m_rgQueuedEventsClanIDs = new Array();
        m_rgQueuedEventsUniqueIDs = new Array();
        m_rgQueuedEventsForEditFlags = new Array();
        m_QueuedEventTimeout = new _.LU();
        m_PendingInfoPromise;
        m_PendingInfoResolve;
        m_bLoadedFromConfig = !1;
        Init() {
          if (!this.m_bLoadedFromConfig) {
            let t =
              ((e = "PartnerEventStore"),
              window.StoreDefaults ? window.StoreDefaults[e] : void 0);
            this.ValidateStoreDefault(t) &&
              t.forEach((e) => {
                if (e) {
                  let t = new c.b(e.clan_steamid);
                  const a = this.InsertEventModelFromClanEventData(t, e);
                  e.announcement_body &&
                    this.m_mapExistingEvents.set(
                      d.cB + e.announcement_body.gid,
                      a,
                    );
                }
              });
            let a = (0, y.Fd)("partnereventstore", "application_config");
            this.ValidateStoreDefault(a) &&
              a.forEach((e) => {
                if (e) {
                  let t = new c.b(e.clan_steamid);
                  const a = this.InsertEventModelFromClanEventData(t, e);
                  e.announcement_body &&
                    !this.m_mapExistingEvents.has(
                      d.cB + e.announcement_body.gid,
                    ) &&
                    this.m_mapExistingEvents.set(
                      d.cB + e.announcement_body.gid,
                      a,
                    );
                }
              });
            let n = (0, y.Fd)("partnereventadjacents", "application_config");
            this.ValidateAdjacentEvent(n) &&
              (("dev" != y.TS.WEB_UNIVERSE && "beta" != y.TS.WEB_UNIVERSE) ||
                console.log(
                  "DEV_DEBUG: CPartnerEventStore loading adjacents gids payload: " +
                    n.length,
                ),
              n.forEach((e) => {
                e &&
                  this.m_mapAdjacentAnnouncementGIDs.set(
                    e.announcementGID,
                    e.adjacents,
                  );
              })),
              "dev" == y.TS.WEB_UNIVERSE &&
                console.log(
                  "PartnerEventStore Loaded events: " +
                    this.m_mapExistingEvents.size +
                    " with adjacent info: " +
                    this.m_mapExistingEvents.size,
                ),
              (this.m_bLoadedFromConfig = !0);
          }
          var e;
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            ("string" == typeof t[0].gid ||
              ("object" == typeof t[0].announcement_body &&
                "string" == typeof t[0].announcement_body.gid))
          );
        }
        ValidateAdjacentEvent(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].announcementGID &&
              Array.isArray(t[0].adjacents) &&
            (0 == t[0].adjacents.length || "string" == typeof t[0].adjacents[0])
          );
        }
        GetPartnerEventChangeCallback(e) {
          return (
            this.m_mapEventUpdateCallback.has(e) ||
              this.m_mapEventUpdateCallback.set(e, new _.lu()),
            this.m_mapEventUpdateCallback.get(e)
          );
        }
        GetClanEventGIDs(e) {
          let t = this.m_mapClanToGIDs.get(e.GetAccountID());
          return t || [];
        }
        GetClanEventGIDsForApp(e) {
          let t = this.m_mapAppIDToGIDs.get(e);
          return t || [];
        }
        GetClanEventModel(e) {
          return this.m_mapExistingEvents.get(e);
        }
        BHasClanEventModel(e) {
          return this.m_mapExistingEvents.has(e);
        }
        BHasClanAnnouncementGID(e) {
          if (this.m_mapAnnouncementBodyToEvent.has(e)) {
            let t = this.m_mapAnnouncementBodyToEvent.get(e);
            return this.BHasClanEventModel(t);
          }
          return !1;
        }
        GetClanEventGIDFromAnnouncementGID(e) {
          return this.m_mapAnnouncementBodyToEvent.get(e);
        }
        GetClanEventFromAnnouncementGID(e) {
          return this.m_mapExistingEvents.get(
            this.m_mapAnnouncementBodyToEvent.get(e),
          );
        }
        DefaultEventSortFunction(e, t) {
          return e.startTime == t.startTime
            ? (0, g.kd)(e.GID, t.GID)
            : t.startTime - e.startTime;
        }
        RegisterClanEvents(e) {
          if (e)
            for (const t of e) {
              const e = this.GetEventLookupKey(t);
              if (!this.m_mapExistingEvents.has(e)) {
                const e = new c.b(t.clan_steamid);
                this.InsertEventModelFromClanEventData(e, t);
              }
            }
        }
        GetRankedClanEvents(e, t) {
          let a = [],
            n = e ? this.GetClanEventGIDs(e) : this.GetClanEventGIDsForApp(t);
          if (!n || 0 == n.length) return a;
          for (let e of n) {
            let t = this.GetClanEventModel(e);
            a.push(t);
          }
          return a.sort(this.DefaultEventSortFunction), a;
        }
        BIsOldAnnouncement(e) {
          return (
            (null == e.gid || null == e.gid || "0" == e.gid) &&
            e.announcement_body &&
            "0" != e.announcement_body.gid
          );
        }
        GetEventLookupKey(e) {
          return this.BIsOldAnnouncement(e)
            ? d.cB + e.announcement_body.gid
            : e.gid;
        }
        InsertEventModelFromClanEventData(e, t) {
          let a = new d.lh();
          if (
            ((a.clanSteamID = e),
            (0, u.w)(
              a.clanSteamID && a.clanSteamID.BIsValid(),
              "Invalid Clan SteamID: " +
                a.clanSteamID.ConvertTo64BitString() +
                " " +
                y.TS.EUNIVERSE,
            ),
            (a.GID = this.GetEventLookupKey(t)),
            (a.bOldAnnouncement = this.BIsOldAnnouncement(t)),
            (a.appid = t.appid),
            (a.startTime = t.rtime32_start_time),
            (a.endTime = t.rtime32_end_time),
            (a.visibilityStartTime = t.rtime32_visibility_start),
            (a.visibilityEndTime = t.rtime32_visibility_end),
            (a.loadedAllLanguages = !1),
            (a.type = t.event_type),
            (a.nVotesUp = t.votes_up),
            (a.nVotesDown = t.votes_down),
            (a.comment_type = t.comment_type),
            (a.gidfeature = t.gidfeature),
            (a.gidfeature2 = t.gidfeature2),
            (a.featured_app_tagid = t.featured_app_tagid),
            (a.vecTags = new Array()),
            (a.creator_steamid = t.creator_steamid),
            (a.last_update_steamid = t.last_update_steamid),
            (a.rtime32_last_modified = t.rtime32_last_modified),
            (a.rtime32_moderator_reviewed = t.rtime_mod_reviewed),
            (a.video_preview_type = t.video_preview_type),
            (a.video_preview_id = t.video_preview_id),
            (a.has_live_stream = t.has_live_stream),
            (a.live_stream_viewer_count = t.live_stream_viewer_count),
            (a.m_nBuildID = t.build_id),
            (a.m_strBuildBranch = t.build_branch),
            t.announcement_body)
          ) {
            let e = t.announcement_body;
            (a.AnnouncementGID = e.gid),
              a.name.set(e.language, e.headline),
              a.description.set(e.language, e.body),
              a.timestamp_loc_updated.clear(),
              (a.forumTopicGID = e.forum_topic_id),
              (a.nCommentCount = e.commentcount),
              (a.postTime = e.posttime),
              a.bOldAnnouncement && !e.hidden && (a.startTime = e.posttime),
              (a.announcementClanSteamID = new c.b(e.clanid)),
              e.tags &&
                e.tags.length > 0 &&
                e.tags.forEach((e) => a.vecTags.push(e)),
              !a.rtime32_last_solr_search_col_updated &&
                a.rtime32_last_modified &&
                ((a.rtime32_last_solr_search_col_updated =
                  a.rtime32_last_modified),
                (a.rtime32_last_modified = e.updatetime));
          } else
            (a.AnnouncementGID = "0"),
              (a.forumTopicGID = t.forum_topic_id),
              a.name.clear(),
              a.description.clear(),
              a.timestamp_loc_updated.clear(),
              (a.postTime = t.rtime32_start_time),
              (a.nCommentCount = t.comment_count),
              a.name.set(0, t.event_name),
              a.description.set(0, t.event_notes);
          t.broadcaster_accountid &&
            (a.broadcaster = new c.b(t.broadcaster_accountid));
          const n = d.DJ;
          try {
            a.jsondata = {
              ...n,
              ...(t.jsondata ? JSON.parse(t.jsondata) : void 0),
            };
          } catch (e) {
            const t = (0, p.H)(e);
            throw (
              (console.error(
                "PartnerEventStore::InsertEventModelFromClanEventData: failed to parse embedded json model" +
                  t.strErrorMsg,
                t,
              ),
              e)
            );
          }
          if (
            ((a.jsondata.localized_capsule_image = (0, m.$Y)(
              a.jsondata.localized_capsule_image || [],
              31,
              null,
            )),
            (a.jsondata.localized_title_image = (0, m.$Y)(
              a.jsondata.localized_title_image || [],
              31,
              null,
            )),
            (a.jsondata.localized_subtitle = (0, m.$Y)(
              a.jsondata.localized_subtitle || [],
              31,
              null,
            )),
            (a.jsondata.localized_summary = (0, m.$Y)(
              a.jsondata.localized_summary || [],
              31,
              null,
            )),
            (a.jsondata.localized_broadcast_title = (0, m.$Y)(
              a.jsondata.localized_broadcast_title || [],
              31,
              null,
            )),
            (a.jsondata.localized_broadcast_left_image = (0, m.$Y)(
              a.jsondata.localized_broadcast_left_image || [],
              31,
              null,
            )),
            (a.jsondata.localized_broadcast_right_image = (0, m.$Y)(
              a.jsondata.localized_broadcast_right_image || [],
              31,
              null,
            )),
            (a.jsondata.localized_sale_header = (0, m.$Y)(
              a.jsondata.localized_sale_header || [],
              31,
              null,
            )),
            (a.jsondata.localized_sale_overlay = (0, m.$Y)(
              a.jsondata.localized_sale_overlay || [],
              31,
              null,
            )),
            (a.jsondata.localized_sale_product_banner = (0, m.$Y)(
              a.jsondata.localized_sale_product_banner || [],
              31,
              null,
            )),
            (a.jsondata.localized_sale_product_mobile_banner = (0, m.$Y)(
              a.jsondata.localized_sale_product_mobile_banner || [],
              31,
              null,
            )),
            (a.jsondata.localized_sale_logo = (0, m.$Y)(
              a.jsondata.localized_sale_logo || [],
              31,
              null,
            )),
            void 0 !== a.jsondata.sale_num_headers)
          )
            for (let e = 0; e < a.jsondata.sale_num_headers; ++e)
              a.jsondata.localized_per_day_sales_header[e] = (0, m.$Y)(
                a.jsondata.localized_per_day_sales_header[e],
                31,
                null,
              );
          return (
            a.jsondata.sale_sections &&
              a.jsondata.sale_sections.forEach((e, t) => {
                e.localized_label &&
                  (e.localized_label = (0, m.$Y)(e.localized_label, 31, null)),
                  "trailercarousel" === e.section_type &&
                    (e.show_as_carousel = !1),
                  (a.jsondata.sale_sections[t] = { ...d.G6, ...e });
              }),
            a.jsondata.email_setting &&
              a.jsondata.email_setting.sections &&
              a.jsondata.email_setting.sections.forEach((e) => {
                void 0 !== e.localized_headline &&
                  null !== e.localized_headline &&
                  (e.localized_headline = (0, m.$Y)(
                    e.localized_headline,
                    31,
                    null,
                  )),
                  void 0 !== e.localized_body &&
                    null !== e.localized_body &&
                    (e.localized_body = (0, m.$Y)(e.localized_body, 31, null)),
                  void 0 !== e.localized_image &&
                    null !== e.localized_image &&
                    (e.localized_image = (0, m.$Y)(
                      e.localized_image,
                      31,
                      null,
                    ));
              }),
            a.jsondata.localized_title_image.forEach((e, t) => {
              if (null != e && "http" == e.substr(0, 4)) {
                let n = e.lastIndexOf("/"),
                  r = e.substr(n + 1);
                a.jsondata.localized_title_image[t] = r;
              }
            }),
            t.published
              ? t.unlisted
                ? (a.visibility_state = d.zv.k_EEventStatsUnlisted)
                : t.hidden
                  ? (a.visibility_state = d.zv.k_EEventStateStaged)
                  : (a.visibility_state = d.zv.k_EEventStateVisible)
              : (a.visibility_state = d.zv.k_EEventStateUnpublished),
            this.InsertUniqueEventGID(e.GetAccountID(), a.appid, a.GID),
            this.m_mapExistingEvents.set(a.GID, a),
            a.AnnouncementGID &&
              a.AnnouncementGID.length > 1 &&
              this.m_mapAnnouncementBodyToEvent.set(a.AnnouncementGID, a.GID),
            (a.bLoaded = !0),
            a
          );
        }
        HelperInitializeNumSalesHeaderArray(e) {
          if (e.jsondata.sale_num_headers > 1) {
            e.jsondata.localized_per_day_sales_header = [];
            for (let t = 0; t < e.jsondata.sale_num_headers; ++t)
              e.jsondata.localized_per_day_sales_header.push(
                (0, m.$Y)([], 31, null),
              );
            e.m_overrideCurrentDay = 0;
          } else e.m_overrideCurrentDay = void 0;
        }
        GetAllClanEvents(e) {
          let t = new Array();
          return (
            this.m_mapClanToGIDs.has(e.GetAccountID()) &&
              this.m_mapClanToGIDs.get(e.GetAccountID()).forEach((e) => {
                let a = this.m_mapExistingEvents.get(e);
                a && t.push(a);
              }),
            t
          );
        }
        async QueueLoadPartnerEvent(e, t, a) {
          if (this.m_mapExistingEvents.has(t)) return;
          this.m_rgQueuedEventsClanIDs.push(e),
            this.m_rgQueuedEventsUniqueIDs.push(t),
            this.m_rgQueuedEventsForEditFlags.push(Boolean(a)),
            this.m_PendingInfoPromise ||
              (this.m_PendingInfoPromise = new Promise(
                (e) => (this.m_PendingInfoResolve = e),
              ));
          const n = this.m_PendingInfoPromise,
            r = () => {
              const e = this.m_PendingInfoResolve,
                t = this.m_rgQueuedEventsClanIDs,
                a = this.m_rgQueuedEventsUniqueIDs,
                n = this.m_rgQueuedEventsForEditFlags;
              (this.m_PendingInfoPromise = null),
                (this.m_rgQueuedEventsClanIDs = new Array()),
                (this.m_rgQueuedEventsUniqueIDs = new Array()),
                (this.m_rgQueuedEventsForEditFlags = new Array()),
                this.InternalLoadPartnerEventList(t, a, n).then(() => e());
            };
          if (this.m_rgQueuedEventsClanIDs.length >= 30)
            this.m_QueuedEventTimeout.Cancel(), r();
          else if (!this.m_QueuedEventTimeout.IsScheduled()) {
            const e = 50;
            this.m_QueuedEventTimeout.Schedule(e, r);
          }
          return n;
        }
        async InternalLoadPartnerEventList(e, t, a) {
          let n = a.some((e) => e);
          const r =
              y.TS.STORE_BASE_URL +
              (n
                ? "events/ajaxgeteventdetailsforedit/"
                : "events/ajaxgeteventdetails/"),
            i = E((0, l.sf)(y.TS.LANGUAGE)),
            o = {
              clanid_list: e.join(","),
              uniqueid_list: t.join(","),
              lang_list: i,
              origin: self.origin,
            };
          try {
            const e = await s().get(r, { params: o, withCredentials: n });
            this.RegisterClanEvents(e.data.events);
          } catch (e) {
            let t = (0, p.H)(e);
            console.error("GetEventDetails hit error " + t.strErrorMsg, t);
          }
        }
        async LoadAdjacentPartnerEvents(e, t, a, n, r, s, i) {
          return this.InternalLoadAdjacentPartnerEvents(
            e,
            void 0,
            t,
            a,
            n,
            r,
            s,
            i,
          );
        }
        async LoadAdjacentPartnerEventsByAnnouncement(e, t, a, n, r, s, i) {
          return this.InternalLoadAdjacentPartnerEvents(
            void 0,
            e,
            t,
            a,
            n,
            r,
            s,
            i,
          );
        }
        async LoadAdjacentPartnerEventsByEvent(e, t, a, n, r, s, i) {
          const o = t || e.clanSteamID;
          return e.bOldAnnouncement
            ? this.InternalLoadAdjacentPartnerEvents(
                void 0,
                e.AnnouncementGID,
                o,
                a,
                n,
                r,
                s,
                i,
              )
            : this.InternalLoadAdjacentPartnerEvents(
                e.GID,
                e.AnnouncementGID,
                o,
                a,
                n,
                r,
                s,
                i,
              );
        }
        async InternalLoadAdjacentPartnerEvents(e, t, a, n, r, o, d, m) {
          let u = new Array();
          if (this.m_mapAdjacentAnnouncementGIDs.has(t)) {
            let e = this.m_mapAdjacentAnnouncementGIDs.get(t),
              a = new Array();
            if (
              (e.forEach((e) => {
                if (this.m_mapAnnouncementBodyToEvent.has(e)) {
                  let t = this.m_mapAnnouncementBodyToEvent.get(e);
                  u.push(this.m_mapExistingEvents.get(t));
                } else a.push(e);
              }),
              a.length > 0)
            ) {
              (
                await this.LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                  null,
                  a,
                  m,
                )
              ).forEach((e) => u.push(e));
            }
          } else {
            let _ =
              y.TS.STORE_BASE_URL + "events/ajaxgetadjacentpartnerevents/";
            const h = E((0, l.sf)(y.TS.LANGUAGE));
            let g = {
              clan_accountid: a ? a.GetAccountID() : void 0,
              appid: n,
              count_before: r,
              count_after: o,
              gidevent: e,
              gidannouncement: t,
              lang_list: h,
              rtime_oldestevent: d ? d.rtime_oldestevent : void 0,
              require_tags:
                d && d.require_tags ? d.require_tags.join(",") : void 0,
              exclude_tags:
                d && d.exclude_tags ? d.exclude_tags.join(",") : void 0,
              require_no_tags: d ? d.require_no_tags : void 0,
              event_type_filter:
                d && d.event_type_filter
                  ? d.event_type_filter.join(",")
                  : void 0,
              exclude_event_types:
                d && d.exclude_event_types
                  ? d.exclude_event_types.join(",")
                  : void 0,
              origin: self.origin,
            };
            try {
              let r = await s().get(_, { params: g, cancelToken: m?.token });
              if (1 == r?.data?.success)
                (0, i.h5)(() => {
                  for (let e of r.data.events) {
                    let t = this.GetEventLookupKey(e);
                    if (!this.m_mapExistingEvents.has(t)) {
                      let t = new c.b(e.clan_steamid);
                      this.InsertEventModelFromClanEventData(a || t, e);
                    }
                    u.push(this.m_mapExistingEvents.get(t));
                  }
                  0 == u.length &&
                    (e && this.BHasClanEventModel(e)
                      ? u.push(this.m_mapExistingEvents.get(e))
                      : t &&
                        this.BHasClanAnnouncementGID(t) &&
                        u.push(this.GetClanEventFromAnnouncementGID(t)));
                });
              else {
                let e = (0, p.H)(r?.data);
                console.error(
                  "LoadAdjacentPartnerEvents Success but empty response:" +
                    n +
                    " clanAccount:" +
                    (a ? a.GetAccountID() : 0) +
                    " " +
                    e.strErrorMsg,
                  e,
                );
              }
            } catch (e) {
              let t = (0, p.H)(e);
              52 != t.errorCode &&
                console.error(
                  "LoadAdjacentPartnerEvents hit error on appid:" +
                    n +
                    " clanAccount:" +
                    (a ? a.GetAccountID() : 0) +
                    " " +
                    t.strErrorMsg,
                  t,
                );
            }
          }
          return u;
        }
        async LoadPartnerEventsPageable(e, t, a = 0, n = 0) {
          let r = new Array(),
            o = y.TS.STORE_BASE_URL + "events/ajaxgetpartnereventspageable/",
            l = {
              clan_accountid: e ? e.GetAccountID() : void 0,
              appid: t,
              offset: a,
              count: n,
              l: y.TS.LANGUAGE,
              origin: self.origin,
            };
          try {
            let e = await s().get(o, { params: l });
            (0, i.h5)(() => {
              for (let t of e.data.events) {
                let e = this.GetEventLookupKey(t);
                if (!this.m_mapExistingEvents.has(e)) {
                  let e = new c.b(t.clan_steamid);
                  this.InsertEventModelFromClanEventData(e, t);
                }
                r.push(this.m_mapExistingEvents.get(e));
              }
            });
          } catch (e) {
            console.error(
              "LoadClanEventInDateRange hit error " + (0, p.H)(e).strErrorMsg,
            );
          }
          return r;
        }
        async GetBestEventsForCurrentUser(e, t, a) {
          let n = new Array(),
            r = {
              l: y.TS.LANGUAGE,
              include_steam_blog: !0,
              filter_to_played_within_days: e,
              include_only_game_updates: t,
            },
            o = y.TS.STORE_BASE_URL + "events/ajaxgetbesteventsforuser",
            l = await s().get(o, {
              params: r,
              withCredentials: !0,
              cancelToken: a ? a.token : void 0,
            });
          if (!l.data?.events) {
            let e = l.data?.err_msg || "";
            throw new Error(
              `GetBestEventsForCurrentUser request failed (${e})`,
            );
          }
          return (
            (0, i.h5)(() => {
              for (let e of l.data.events) {
                let t = this.GetEventLookupKey(e);
                if (!this.m_mapExistingEvents.has(t)) {
                  let t = new c.b(e.clan_steamid);
                  this.InsertEventModelFromClanEventData(t, e);
                }
                let a = {
                  nAppPriority: e.nAppPriority,
                  bPossibleTakeOver: e.bPossibleTakeOver,
                  event: this.m_mapExistingEvents.get(t),
                };
                n.push(a);
              }
            }),
            n
          );
        }
        async LoadImportantEventsAroundToday(e, t, a, n, r, o) {
          let l = new Array(),
            d = new Array();
          d.push({ priority: 0, appids: t }),
            a && d.push({ priority: 1, appids: a }),
            n && d.push({ priority: 2, appids: n });
          let m = {
              count: e,
              strAppIDPriority: JSON.stringify({ prioritized_apps: d }),
              filterToEventTypes: o ? o.toString() : "",
              l: y.TS.LANGUAGE,
            },
            u = y.TS.STORE_BASE_URL + "events/ajaxgettodayboundedevents",
            p = await s().get(u, {
              params: m,
              withCredentials: !0,
              cancelToken: r.token,
            });
          return (
            (0, i.h5)(() => {
              for (let e of p.data.events) {
                let t = this.GetEventLookupKey(e);
                if (!this.m_mapExistingEvents.has(t)) {
                  let t = new c.b(e.clan_steamid);
                  this.InsertEventModelFromClanEventData(t, e);
                }
                l.push(this.m_mapExistingEvents.get(t));
              }
            }),
            l
          );
        }
        InsertUniqueEventGID(e, t, a) {
          this.m_mapClanToGIDs.has(e) ||
            this.m_mapClanToGIDs.set(e, new Array()),
            this.m_mapAppIDToGIDs.has(t) ||
              this.m_mapAppIDToGIDs.set(t, new Array());
          let n = this.m_mapClanToGIDs.get(e);
          -1 == n.indexOf(a) &&
            (n.push(a), this.m_mapAppIDToGIDs.get(t).push(a));
        }
        ResetModel() {}
        async DeleteClanEvent(e, t) {
          this.m_mapExistingEvents.has(t) &&
            (this.m_mapExistingEvents.get(t).deleteInProgress = !0);
          let a = null,
            n = new URLSearchParams();
          return (
            n.append("sessionid", y.TS.SESSIONID),
            n.append("bDelete", "1"),
            n.append("gid", t),
            (a = await s().post(
              y.TS.COMMUNITY_BASE_URL +
                "/gid/" +
                e.ConvertTo64BitString() +
                "/ajaxcreateupdatedeletepartnerevents/",
              n,
            )),
            this.RemoveGIDFromList(e, t),
            a.data
          );
        }
        RemoveGIDFromList(e, t) {
          if (
            (this.m_mapExistingEvents.delete(t),
            this.m_mapClanToGIDs.has(e.GetAccountID()))
          ) {
            let a = this.m_mapClanToGIDs.get(e.GetAccountID()),
              n = a.indexOf(t);
            n >= 0 && a.splice(n, 1);
          }
        }
        FlushEventFromCache(e, t) {
          if (e && this.m_mapExistingEvents.has(e)) {
            if (!t) {
              t = this.m_mapExistingEvents.get(e).AnnouncementGID;
            }
            this.m_mapExistingEvents.delete(e);
          }
          if (
            t &&
            (this.m_mapExistingEvents.has(d.cB + t) &&
              this.m_mapExistingEvents.delete(d.cB + t),
            this.m_mapAnnouncementBodyToEvent.has(t))
          ) {
            const e = this.m_mapAnnouncementBodyToEvent.get(t);
            this.m_mapExistingEvents.has(e) &&
              this.m_mapExistingEvents.delete(e),
              this.m_mapAnnouncementBodyToEvent.delete(t);
          }
        }
        async InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(
          e,
          t,
          a,
          n,
          r,
          i = !1,
        ) {
          let o = E(i ? 0 : (0, l.sf)(y.TS.LANGUAGE)),
            d = {
              appid: t,
              clan_accountid: e ? e.GetAccountID() : void 0,
              announcement_gid: n,
              event_gid: a,
              lang_list: o,
              last_modified_time: r || 0,
              origin: self.origin,
              for_edit: i,
            },
            m = null,
            p = null;
          if (i) {
            const a = (0, y.yK)();
            "community" === a
              ? ((p = y.TS.COMMUNITY_BASE_URL),
                (p += e ? "gid/" + e.ConvertTo64BitString() : "ogg/" + t),
                (p += "/"))
              : (p =
                  "partnerweb" === a
                    ? y.TS.PARTNER_BASE_URL + "sales/"
                    : y.TS.STORE_BASE_URL + "events/"),
              (p += "ajaxgetpartnereventforedit"),
              (m = { params: d, withCredentials: !0 });
          } else
            (p = y.TS.STORE_BASE_URL + "events/ajaxgetpartnerevent"),
              (m = { params: d, withCredentials: !1 });
          let _ = (await s().get(p, m)).data.event,
            h = this.GetEventLookupKey(_);
          if (
            !this.m_mapExistingEvents.has(h) ||
            this.m_mapExistingEvents.get(h).rtime32_last_modified <
              _.rtime32_last_modified ||
            this.m_mapExistingEvents.get(h).rtime32_moderator_reviewed <
              _.rtime_mod_reviewed
          ) {
            (0, u.w)(
              _.clan_steamid,
              "ClanSteamID is missing from data we received",
            );
            let e = new c.b(_.clan_steamid);
            this.InsertEventModelFromClanEventData(e, _);
          }
          return this.m_mapExistingEvents.get(h);
        }
        async InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
          e,
          t,
          a,
          n,
          r,
          s,
        ) {
          if (a && this.m_mapExistingEvents.has(a))
            return this.m_mapExistingEvents.get(a);
          if (n) {
            if (this.m_mapExistingEvents.has(d.cB + n))
              return this.m_mapExistingEvents.get(d.cB + n);
            if (this.m_mapAnnouncementBodyToEvent.has(n)) {
              const e = this.m_mapAnnouncementBodyToEvent.get(n);
              if (this.m_mapExistingEvents.has(e))
                return this.m_mapExistingEvents.get(e);
            }
          }
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(
            e,
            t,
            a,
            n,
            r,
            s,
          );
        }
        async LoadPartnerEventFromAnnoucementGID(e, t, a) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
            void 0,
            e,
            void 0,
            t,
            a,
          );
        }
        async LoadPartnerEventFromAnnoucementGIDAndClanSteamID(e, t, a, n) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
            e,
            void 0,
            void 0,
            t,
            a,
            n,
          );
        }
        async LoadPartnerEventFromClanEventGID(e, t, a) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
            void 0,
            e,
            t,
            void 0,
            a,
          );
        }
        async LoadPartnerEventFromClanEventGIDAndClanSteamID(e, t, a, n) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
            e,
            void 0,
            t,
            void 0,
            a,
            n,
          );
        }
        async LoadPartnerEventGeneric(e, t, a, n, r) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(
            e,
            t,
            a,
            n,
            r,
          );
        }
        async LoadHiddenPartnerEvent(e, t) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(
            e,
            null,
            t,
            null,
            0,
            !0,
          );
        }
        async LoadHiddenPartnerEventByAnnouncementGID(e, t) {
          return this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(
            e,
            null,
            null,
            t,
            0,
            !0,
          );
        }
        async HintLoadImportantUpdates() {
          const e = (0, o.tB)(36e5);
          if (e != this.m_tsUpdatedAppsQueryTime) {
            this.m_tsUpdatedAppsQueryTime = e;
            const t = { page: 1, numPerPage: 500, includeAnnouncements: !1 },
              a = y.TS.STORE_BASE_URL + "updated/ajaxgetmyappsraw",
              n = await s().get(a, { params: t, withCredentials: !0 });
            n.data.apps &&
              n.data.apps.length > 0 &&
              (0, i.h5)(() => {
                const e = new Map(n.data.apps.map((e) => [e.appid, new b(e)]));
                this.m_mapUpdatedApps = e;
              });
          }
          return this.m_mapUpdatedApps;
        }
        GetAppImportantUpdate(e) {
          return (
            this.HintLoadImportantUpdates().catch((e) => {
              console.log("UpdatedApps failed to load: ", e.response.data);
            }),
            this.m_mapUpdatedApps && this.m_mapUpdatedApps.get(e)
          );
        }
        async LoadClanEventLocalizationFromAnnouncementGID(e, t) {
          let a =
            y.TS.COMMUNITY_BASE_URL +
            "gid/" +
            e.ConvertTo64BitString() +
            "/announcements/ajaxgetlocalization/" +
            t;
          return (await s().get(a)).data.localization;
        }
        async LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(e, t, a) {
          const n = new Array(),
            r = y.TS.STORE_BASE_URL + "events/ajaxgetbatchedpartnerevent/",
            o = E((0, l.sf)(y.TS.LANGUAGE));
          let d = null,
            m = null;
          if (e) {
            let t = new Array();
            e.forEach((e) => {
              this.m_mapExistingEvents.has(e)
                ? n.push(this.m_mapExistingEvents.get(e))
                : t.push(e);
            }),
              t.sort(),
              (d = t);
          }
          if (t) {
            let e = new Array();
            t.forEach((t) => {
              if (
                this.m_mapAnnouncementBodyToEvent.has(t) &&
                this.m_mapExistingEvents.has(
                  this.m_mapAnnouncementBodyToEvent.get(t),
                )
              ) {
                let e = this.m_mapAnnouncementBodyToEvent.get(t);
                n.push(this.m_mapExistingEvents.get(e));
              } else e.push(t);
            }),
              e.sort(),
              (m = e);
          }
          if (!d && !m) return n;
          const u = new Array();
          for (; d?.length > 0 || m?.length > 0; ) {
            let e = {
              event_gids: d?.length > 0 ? d?.splice(0, 100).join(",") : void 0,
              announcement_gids:
                m?.length > 0 ? m?.splice(0, 100).join(",") : void 0,
              lang_list: o,
              origin: self.origin,
            };
            u.push(
              s().get(r, { params: e, cancelToken: a ? a.token : void 0 }),
            );
          }
          try {
            const e = await Promise.all([...u]);
            let t = 0;
            (0, i.h5)(() =>
              e.forEach((e) => {
                if (e && e.data && e.data.events)
                  for (let t of e.data.events) {
                    let e = this.GetEventLookupKey(t);
                    if (!this.m_mapExistingEvents.has(e)) {
                      let e = new c.b(t.clan_steamid);
                      this.InsertEventModelFromClanEventData(e, t);
                    }
                    n.push(this.m_mapExistingEvents.get(e));
                  }
                else {
                  const t = (0, p.H)(e);
                  console.error(
                    "LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs partial processing hit error " +
                      t.strErrorMsg,
                    t,
                  );
                }
                t += 1;
              }),
            );
          } catch (e) {
            const t = (0, p.H)(e);
            console.error(
              "LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs hit error " +
                t.strErrorMsg,
              t,
            );
          }
          return n;
        }
        async SavePartnerEventSaleAssets(e, t, a) {
          let n = null;
          if (!this.m_mapExistingEvents.has(t)) return !1;
          try {
            const r = `${y.TS.PARTNER_BASE_URL}promotion/sales/ajaxsaveasset/${e}`,
              i = new FormData();
            i.append("sessionid", y.TS.SESSIONID),
              i.append("gidclanevent", t),
              i.append("json", JSON.stringify(a));
            const o = await s().post(r, i, { withCredentials: !0 });
            if (1 == o?.data?.success) {
              const e = this.m_mapExistingEvents.get(t);
              for (const t in a)
                a.hasOwnProperty(t) && a[t] && (e.jsondata[t] = a[t]);
              return this.GetPartnerEventChangeCallback(t).Dispatch(e), !0;
            }
            n = (0, p.H)(o);
          } catch (e) {
            n = (0, p.H)(e);
          }
          return (
            console.error(
              "CPartnerEventStore.SavePartnerEventSaleAssets failed: " +
                n?.strErrorMsg,
              n,
            ),
            !1
          );
        }
      }
      (0, n.Cg)([i.sH], w.prototype, "m_mapExistingEvents", void 0),
        (0, n.Cg)([i.sH], w.prototype, "m_mapAnnouncementBodyToEvent", void 0),
        (0, n.Cg)([i.sH], w.prototype, "m_mapClanToGIDs", void 0),
        (0, n.Cg)([i.sH], w.prototype, "m_mapAppIDToGIDs", void 0),
        (0, n.Cg)([i.sH], w.prototype, "m_mapUpdatedApps", void 0),
        (0, n.Cg)([i.XI], w.prototype, "Init", null),
        (0, n.Cg)([f.oI], w.prototype, "GetPartnerEventChangeCallback", null),
        (0, n.Cg)([i.XI], w.prototype, "RegisterClanEvents", null),
        (0, n.Cg)(
          [i.XI],
          w.prototype,
          "InsertEventModelFromClanEventData",
          null,
        ),
        (0, n.Cg)([i.XI], w.prototype, "DeleteClanEvent", null),
        (0, n.Cg)([i.XI], w.prototype, "RemoveGIDFromList", null),
        (0, n.Cg)([i.XI], w.prototype, "FlushEventFromCache", null),
        (0, n.Cg)([f.oI], w.prototype, "SavePartnerEventSaleAssets", null);
      const I = new w();
      function S(e, t) {
        const [a, n] = (0, v.useState)(() => I.GetClanEventModel(t)),
          r = (0, v.useMemo)(() => c.b.InitFromClanID(e), [e]);
        return (
          (0, v.useEffect)(() => {
            !a &&
              e > 0 &&
              (I.Init(),
              I.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                r,
                t,
                0,
                !0,
              ).then(n));
          }, [r, t, a, e]),
          (0, f.hL)(I.GetPartnerEventChangeCallback(t), n),
          a
        );
      }
      function C() {
        return { fnSaveSaleAssets: I.SavePartnerEventSaleAssets };
      }
      window.g_PartnerEventStore = I;
    },
    74410: (e, t, a) => {
      "use strict";
      a.d(t, { Eo: () => m, V2: () => n, gH: () => c });
      var n,
        r = a(90626),
        s = a(59952),
        i = a(43070),
        o = a(78327),
        l = a(73662);
      function d(e) {
        return {
          sizeStr: e == n.full ? l.sizeFull : l.sizeThumb,
          alignStr: e == n.full ? "" : e == n.left ? l.floatLeft : l.floatRight,
        };
      }
      function c(e) {
        if ((0, o.Y2)()) return null;
        let t = (0, s.j$)(e.args);
        if (t) {
          let e = t.split(";");
          if (2 == e.length) {
            let t = e[0],
              a = e[1].toLocaleLowerCase();
            const { sizeStr: n, alignStr: s } = d(a);
            return r.createElement(i.A, {
              videoID: t,
              classNameAlign: s,
              classNameSize: n,
              bShowVideoImmediately: !0,
            });
          }
        }
        return r.createElement(r.Fragment, null);
      }
      function m(e) {
        if ((0, o.Y2)() || "CN" == o.TS.COUNTRY.toLocaleUpperCase())
          return (0, s.UT)(e);
        const t = (0, s.j$)(e.args, "youtubeid"),
          a = (0, s.j$)(e.args, "size"),
          n = (0, s.j$)(e.args, "seconds"),
          { sizeStr: l, alignStr: c } = d(a);
        return r.createElement(i.A, {
          videoID: t,
          nStartSeconds: n ? Number.parseInt(n) : void 0,
          classNameAlign: c,
          classNameSize: l,
          bShowVideoImmediately: !0,
        });
      }
      !(function (e) {
        (e.left = "leftthumb"),
          (e.right = "rightthumb"),
          (e.full = "full"),
          (e.summary = "summary");
      })(n || (n = {}));
    },
    43070: (e, t, a) => {
      "use strict";
      a.d(t, { A: () => S });
      var n,
        r = a(90626),
        s = a(13699),
        i = a(22797),
        o = a(4434),
        l = a(68797),
        d = a(52038),
        c = a(61859),
        m = a(82227),
        u = a(78327),
        p = a(34629),
        _ = a(62490),
        h = a(94607),
        g = a(375);
      !(function (e) {
        (e[(e.NotLoaded = 0)] = "NotLoaded"),
          (e[(e.Loading = 1)] = "Loading"),
          (e[(e.Loaded = 2)] = "Loaded");
      })(n || (n = {}));
      let y = n.NotLoaded,
        v = [];
      function f(e) {
        if (y == n.Loaded) return void e();
        if (y == n.NotLoaded) {
          let e = document.createElement("script");
          e.src = "https://www.youtube.com/iframe_api";
          let t = document.getElementsByTagName("script")[0];
          t.parentNode.insertBefore(e, t), (window.onYouTubeIframeAPIReady = b);
        }
        v.findIndex((t) => e == t) < 0 && v.push(e);
      }
      function b() {
        y = n.Loaded;
        for (let e of v) e();
        v = [];
      }
      class E extends r.Component {
        m_strPlayerID = "";
        m_player = null;
        m_playerContainer = null;
        m_bPlayerReady = !1;
        static s_nPlayerIndex = 0;
        constructor(e) {
          super(e),
            (this.m_strPlayerID = "YoutubePlayer_" + E.s_nPlayerIndex++),
            (this.state = { bYoutubeLoaded: !1 });
        }
        componentWillUnmount() {
          var e;
          this.DestroyPlayer(), (e = this.OnYoutubeScriptsReady), _.x9(v, e);
        }
        shouldComponentUpdate(e, t) {
          if (!this.m_player) return !1;
          const a = this.props;
          return a.autoplay != e.autoplay ||
            a.controls != e.controls ||
            a.showInfo != e.showInfo ||
            a.video != e.video
            ? (this.CreatePlayer(e), !1)
            : ((a.width == e.width && a.height == e.height) ||
                (this.m_bPlayerReady &&
                  e.width &&
                  e.height &&
                  this.m_player.setSize(e.width, e.height)),
              a.forcePause != e.forcePause);
        }
        componentDidUpdate(e) {
          e.forcePause != this.props.forcePause &&
            (this.props.forcePause
              ? this.m_player.pauseVideo()
              : this.m_player.playVideo());
        }
        DestroyPlayer() {
          if (this.m_player)
            try {
              this.m_player.stopVideo && this.m_player.stopVideo(),
                this.m_player.destroy && this.m_player.destroy();
            } catch (e) {
            } finally {
              this.m_player = null;
            }
        }
        BindPlayerContainer(e) {
          this.m_playerContainer != e &&
            ((this.m_playerContainer = e),
            this.DestroyPlayer(),
            this.m_playerContainer && f(this.OnYoutubeScriptsReady));
        }
        OnYoutubeScriptsReady() {
          this.CreatePlayer(this.props);
        }
        CreatePlayer(e) {
          if ((this.DestroyPlayer(), !this.m_playerContainer)) return;
          const t = !1 === e.autoplay ? 0 : 1,
            a = !0 === e.showInfo ? 1 : 0,
            n = !0 === e.controls ? 1 : 0,
            r = !0 === e.showFullscreenBtn ? 1 : 0,
            s = !0 === e.playsInline ? 1 : 0;
          let i = {
              width: void 0 !== e.width ? String(e.width) : void 0,
              height: void 0 !== e.height ? String(e.height) : void 0,
              videoId: e.video,
              playerVars: {
                autoplay: t,
                showinfo: a,
                autohide: 1,
                fs: r,
                modestbranding: 1,
                rel: 0,
                playsinline: s,
                iv_load_policy: 3,
                controls: n,
                start: e.startSeconds,
              },
              events: {
                onReady: this.OnPlayerReady,
                onStateChange: this.OnPlayerStateChange,
                onError: this.OnError,
              },
            },
            o = this.m_playerContainer.firstElementChild;
          (this.m_bPlayerReady = !1), (this.m_player = new YT.Player(o, i));
        }
        OnPlayerReady(e) {
          if (((this.m_bPlayerReady = !0), this.props.onVideoInfoChanged)) {
            let e = this.m_player.getVideoData(),
              t = { strAuthor: "", strTitle: "", strVideoID: "" };
            e.author && (t.strAuthor = e.author),
              e.title && (t.strTitle = e.title),
              e.video_id && (t.strVideoID = e.video_id),
              this.props.onVideoInfoChanged(t);
          }
          this.props.width &&
            this.props.height &&
            this.m_player.setSize(this.props.width, this.props.height),
            this.props.autoplay && this.m_player.playVideo(),
            this.props.onPlayerReady && this.props.onPlayerReady();
        }
        OnPlayerStateChange(e) {
          switch (e.data) {
            case YT.PlayerState.UNSTARTED:
              break;
            case YT.PlayerState.BUFFERING:
              this.props.onBuffering && this.props.onBuffering();
              break;
            case YT.PlayerState.PLAYING:
              this.props.onPlaying && this.props.onPlaying();
              break;
            case YT.PlayerState.PAUSED:
              this.props.onPaused && this.props.onPaused();
              break;
            case YT.PlayerState.ENDED:
              this.props.onMovieEnd && this.props.onMovieEnd();
          }
        }
        OnError(e) {
          console.log("Youtube: Playback failed", e),
            this.props.onError && this.props.onError(e);
        }
        OnPlayerLeftView() {
          this.props.autopause &&
            this.m_player &&
            this.m_bPlayerReady &&
            this.m_player.pauseVideo();
        }
        PlayVideo(e) {
          this.m_player &&
            this.m_bPlayerReady &&
            (e && this.m_player.seekTo(0, !0), this.m_player.playVideo());
        }
        render() {
          const e = r.createElement(
            "div",
            {
              key: this.m_strPlayerID,
              ref: this.BindPlayerContainer,
              className: (0, d.A)("YoutubePlayer", this.props.classnames),
            },
            r.createElement(i.t, { className: "YoutubePlayerThrobber" }),
          );
          return this.props.autopause
            ? r.createElement(h.Y, { onLeave: this.OnPlayerLeftView }, e)
            : e;
        }
      }
      (0, p.Cg)([g.oI], E.prototype, "BindPlayerContainer", null),
        (0, p.Cg)([g.oI], E.prototype, "OnYoutubeScriptsReady", null),
        (0, p.Cg)([g.oI], E.prototype, "CreatePlayer", null),
        (0, p.Cg)([g.oI], E.prototype, "OnPlayerReady", null),
        (0, p.Cg)([g.oI], E.prototype, "OnPlayerStateChange", null),
        (0, p.Cg)([g.oI], E.prototype, "OnError", null),
        (0, p.Cg)([g.oI], E.prototype, "OnPlayerLeftView", null),
        (0, p.Cg)([g.oI], E.prototype, "PlayVideo", null);
      var w = a(73662),
        I = a.n(w);
      function S(e) {
        const {
            videoID: t,
            bShowVideoImmediately: a,
            bAutoPlay: n,
            nStartSeconds: p,
            classNameSize: _,
            classNameAlign: h,
          } = e,
          [g, y] = (0, r.useState)(!a),
          [v, b] = (0, r.useState)(!1),
          w = (0, o.m)("YouTubeInlineSnippet"),
          [S, C] = (0, r.useState)({
            title: (0, c.we)("#Loading"),
            description: "",
            videoid: t,
            views: "0",
          });
        (0, r.useEffect)(() => {
          g &&
            s.R.LoadYouTubeDynamicData([t], w)
              .then((e) => {
                !w.token.reason && e.length > 0 && (C(e[0]), b(!0));
              })
              .catch((e) =>
                console.error(
                  "YouTubeInlineSnippet: " + (0, l.H)(e).strErrorMsg,
                ),
              );
        }, [g, w, t]);
        const T = !1;
        if (
          (r.useEffect(() => {
            a && f(() => {});
          }, [a, T]),
          g)
        ) {
          const e = S.title,
            a = S.views,
            n = S.description;
          return r.createElement(
            "div",
            { className: I().DynamicLinkBox, onClick: () => y(!1) },
            r.createElement("img", {
              className: I().DynamicLink_Preview,
              src: "https://img.youtube.com/vi/" + t + "/0.jpg",
            }),
            r.createElement(
              "div",
              { className: I().DynamicLink_Content },
              r.createElement(
                "div",
                { className: I().DynamicLink_Name },
                (0, c.we)("#EventEditor_YouTubeVideoTitle", e),
              ),
              r.createElement(
                "div",
                { className: I().DynamicLink_YoutubeViews },
                (0, c.we)(
                  "#EventEditor_YouTubeVideoViews",
                  (0, m.Dq)(Number(a)),
                ),
              ),
              r.createElement(
                "div",
                { className: I().Dynamiclink_Content },
                v && n,
                !v && r.createElement(i.t, { size: "medium" }),
              ),
            ),
          );
        }
        return r.createElement(
          "div",
          { className: (0, d.A)(I().PreviewYouTubeVideo, _, h), id: t },
          r.createElement("img", {
            className: I().PlaceholderImg,
            src:
              u.TS.COMMUNITY_CDN_URL +
              "public/shared/images/responsive/youtube_16x9_placeholder.gif",
          }),
          r.createElement(E, {
            video: t,
            autoplay: n ?? !1,
            startSeconds: p,
            controls: !0,
            playsInline: !0,
            autopause: !0,
            showFullscreenBtn: !0,
          }),
        );
      }
    },
    24054: (e, t, a) => {
      "use strict";
      a.d(t, { ac: () => C, H7: () => S });
      var n = a(22837),
        r = a(81393),
        s = a(64753),
        i = a(66418),
        o = a(65946),
        l = a(90626),
        d = a(59952),
        c = a(96059),
        m = a(46575),
        u = a(9154),
        p = a(22797),
        _ = a(52038),
        h = a(61859),
        g = a(91675),
        y = a(30470),
        v = a(24484),
        f = a(34542),
        b = a(62490),
        E = a(71541),
        w = a(56330);
      function I(e) {
        const { hideModal: t, oReg: a, fnSetReg: r, group: s, session: i } = e,
          d = (0, l.useCallback)(
            () =>
              a
                ? { ...a, session_id: i.id }
                : {
                    group_id: s.group_id,
                    session_id: i.id,
                    regmodel: { guest_names: [] },
                    guests_registered: 1,
                  },
            [s.group_id, a, i.id],
          ),
          [c, m] = (0, l.useState)(() => d()),
          [p, _, v, f] = (0, o.q3)(() => [
            s.localized_session_title,
            i.rtime_start,
            i.rtime_end,
            i.max_per_team,
          ]),
          I = (0, n.sf)(y.TS.LANGUAGE),
          S = h.NT.GetWithFallback(p, I),
          C = Math.floor((v - _) / 60),
          T = [];
        for (let e = 0; e <= f; ++e) T.push({ data: e, label: e });
        return l.createElement(
          u.EN,
          { active: !0 },
          l.createElement(
            u.o0,
            {
              strTitle: (0, h.we)("#MeetSteam_Register_title", S),
              strDescription: (0, h.we)(
                "#MeetSteam_Register_session_start",
                (0, g.lQ)(_),
                C,
              ),
              onCancel: () => {
                m(d()), t();
              },
              bOKDisabled:
                c.regmodel.name?.length < 1 ||
                c.regmodel.guest_names?.some((e) => e.length < 1) ||
                c.regmodel.email?.length < 1 ||
                c.regmodel.company?.length < 1 ||
                c.regmodel.game?.length < 1,
              onOK: () => {
                r(c), t();
              },
            },
            Boolean(a && a.session_id !== c.session_id) &&
              l.createElement(
                "div",
                { className: w.WarningStylesWithIcon },
                (0, h.we)("#MeetSteam_ChangingRegistration"),
              ),
            l.createElement(E.pd, {
              type: "text",
              label: (0, h.we)("#MeetSteam_Reg_Name"),
              value: c.regmodel.name || "",
              onChange: (e) => {
                const t = { ...c.regmodel };
                (t.name = e.currentTarget.value), m({ ...c, regmodel: t });
              },
            }),
            l.createElement(E.pd, {
              type: "text",
              label: (0, h.we)("#MeetSteam_Reg_Email"),
              value: c.regmodel.email || "",
              mustBeEmail: !0,
              onChange: (e) => {
                const t = { ...c.regmodel };
                (t.email = e.currentTarget.value), m({ ...c, regmodel: t });
              },
            }),
            l.createElement(E.pd, {
              type: "text",
              label: (0, h.we)("#MeetSteam_Reg_Company"),
              value: c.regmodel.company || "",
              onChange: (e) => {
                const t = { ...c.regmodel };
                (t.company = e.currentTarget.value), m({ ...c, regmodel: t });
              },
            }),
            l.createElement(E.pd, {
              type: "text",
              label: (0, h.we)("#MeetSteam_Reg_Game"),
              value: c.regmodel.game || "",
              onChange: (e) => {
                const t = { ...c.regmodel };
                (t.game = e.currentTarget.value), m({ ...c, regmodel: t });
              },
            }),
            Boolean(f > 0) &&
              l.createElement(E.m, {
                label: (0, h.we)("#MeetSteam_Reg_GuestCount", f),
                tooltip: (0, h.we)("#MeetSteam_Reg_GuestCount_ttip"),
                rgOptions: T,
                selectedOption: c.guests_registered - 1,
                onChange: (e) => {
                  const t = { ...c, regmodel: { ...c.regmodel } };
                  (t.guests_registered = e.data + 1),
                    t.regmodel.guest_names.length > e.data
                      ? (t.regmodel.guest_names = t.regmodel.guest_names.slice(
                          0,
                          e.data,
                        ))
                      : (t.regmodel.guest_names = b.$Y(
                          t.regmodel.guest_names,
                          e.data,
                          "",
                        )),
                    m(t);
                },
              }),
            Boolean(c.guests_registered > 1) &&
              l.createElement(
                "div",
                null,
                l.createElement(
                  "div",
                  null,
                  (0, h.we)("#MeetSteam_Reg_Others"),
                ),
                c.regmodel.guest_names.map((e, t) =>
                  l.createElement(E.pd, {
                    key: "guesname_" + t,
                    type: "text",
                    label: (0, h.we)("#MeetSteam_Reg_Others_name"),
                    value: e,
                    onChange: (e) => {
                      const a = { ...c.regmodel };
                      (a.guest_names[t] = e.currentTarget.value),
                        m({ ...c, regmodel: a });
                    },
                  }),
                ),
              ),
            Boolean(a && a.session_id === i.id) &&
              l.createElement(
                E.jn,
                {
                  onClick: () => {
                    const e = { ...a };
                    (e.guests_registered = 0), m(e), r(e), t();
                  },
                },
                (0, h.we)("#MeetSteam_CancelRegistration"),
              ),
          ),
        );
      }
      const S = () => (2 === y.TS.EUNIVERSE ? 2581 : 45267781);
      function C(e) {
        const t = e.context.event,
          a = e.context.showErrorInfo,
          n = (0, o.q3)(() => t?.jsondata?.meet_steam_groups || []);
        if (t.clanSteamID.GetAccountID() != S())
          return a
            ? l.createElement("div", null, "Only support on special group")
            : null;
        const r = (0, d.j$)(e.args, "group_id"),
          s = Number.parseInt(r);
        let i = null;
        return (
          n && (i = n.find((e) => e.group_id == s)),
          i
            ? l.createElement(T, { groupData: i, eventModel: t })
            : a
              ? l.createElement(
                  "div",
                  null,
                  "Failed to find session group id ",
                  s,
                )
              : null
        );
      }
      function T(e) {
        const { groupData: t, eventModel: a } = e,
          n = (function () {
            const e = (0, v.Tc)(
              "promotion_operation_token",
              "application_config",
            );
            (0, r.w)(Boolean(e), "require promotion_operation_token");
            const [t] = (0, l.useState)(() =>
              new c.D(y.TS.WEBAPI_BASE_URL, e).GetServiceTransport(),
            );
            return t;
          })(),
          [d, _] = (0, l.useState)(null),
          [g, f, b] = (0, s.uD)(),
          E = (0, m.my)(n, a.clanSteamID.GetAccountID(), a.GID),
          w = (0, m.Ym)(n, i.i.accountid, a.clanSteamID.GetAccountID(), a.GID),
          S = (0, m.Qw)(n, i.i.accountid, a.clanSteamID.GetAccountID(), a.GID),
          [C, T] = (0, l.useState)(!1),
          G = (0, o.q3)(() => t?.sessions);
        return null == E || (null == w && i.i.accountid)
          ? l.createElement(p.t, {
              size: "medium",
              position: "center",
              string: (0, h.we)("#Loading"),
            })
          : l.createElement(
              l.Fragment,
              null,
              Boolean(d) &&
                l.createElement(I, {
                  group: t,
                  session: d,
                  oReg: w.find((e) => e.group_id === t.group_id),
                  fnSetReg: async (e) => {
                    T(!0);
                    try {
                      await S.mutate(e);
                    } catch (e) {
                      f();
                    } finally {
                      T(!1);
                    }
                  },
                  hideModal: () => _(null),
                }),
              Boolean(g) &&
                l.createElement(
                  u.EN,
                  { active: !0 },
                  l.createElement(u.o0, {
                    strTitle: (0, h.we)("#Error_Generic"),
                    strDescription: (0, h.we)(
                      "#Error_ErrorCommunicatingWithNetwork",
                    ),
                    closeModal: b,
                  }),
                ),
              l.createElement(
                A,
                { groupData: t },
                G.map((e, a) => {
                  const n = E.find(
                      (a) => a.group_id === t.group_id && a.session_id === e.id,
                    ),
                    r = w.find(
                      (a) => a.group_id === t.group_id && a.session_id == e.id,
                    );
                  return l.createElement(D, {
                    key: "timecol_" + t.group_id + "_" + e.id,
                    sessionData: e,
                    bShowOR: a + 1 < G.length,
                    onClick: () => _(e),
                    nGuestReservations: n?.guest_count || 0,
                    nMyGuestRegistration: r?.guests_registered || 0,
                  });
                }),
                C &&
                  l.createElement(p.t, {
                    size: "small",
                    position: "center",
                    string: (0, h.we)("#Saving"),
                  }),
              ),
            );
      }
      function A(e) {
        const { groupData: t, children: a } = e,
          r = (0, n.sf)(y.TS.LANGUAGE),
          s = h.NT.GetWithFallback(t?.localized_session_title, r),
          i = h.NT.GetWithFallback(t?.localized_session_description, r);
        return t
          ? l.createElement(
              "div",
              { className: (0, _.A)({ [f.ctn]: !0, [f.ctn_registered]: !1 }) },
              Boolean(s) && l.createElement("div", { className: f.day }, s),
              Boolean(i) && l.createElement("div", { className: f.desc }, i),
              a,
            )
          : null;
      }
      function D(e) {
        const {
            sessionData: t,
            bShowOR: a,
            onClick: n,
            nGuestReservations: r,
            nMyGuestRegistration: s,
          } = e,
          [i, d, c] = (0, o.q3)(() => [
            t.rtime_start,
            t.rtime_end,
            t.max_capacity,
          ]),
          m = Math.max(0, c - (r || 0));
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            null,
            Boolean(s > 0) &&
              l.createElement(
                "div",
                { className: f.Registered },
                (0, h.Yp)("#MeetSteam_Registered", s),
              ),
            l.createElement(
              "div",
              { className: f.row, onClick: n },
              l.createElement(
                "div",
                { className: f.day },
                (0, g.$w)(new Date(1e3 * i)),
              ),
              l.createElement("div", { className: f.time }, (0, g.Vx)(i, d)),
            ),
            l.createElement(
              "div",
              { className: f.max },
              (0, h.Yp)("#MeetSteam_Spot", m.toLocaleString()),
            ),
          ),
          a && l.createElement("div", null, (0, h.we)("#MeetSteam_Or")),
        );
      }
    },
    3919: (e, t, a) => {
      "use strict";
      a.d(t, {
        PH: () => d,
        _: () => c,
        tj: () => S,
        qT: () => w,
        Hx: () => I,
        LJ: () => b,
        Bd: () => y,
        cq: () => v,
      });
      var n = a(90626),
        r = a(92757),
        s = a(45699),
        i = a(44332),
        o = a(78327);
      const l = n.createContext({ bCanUseLink: !1 });
      var d,
        c,
        m = a(55963),
        u = a(61336),
        p = a(60014),
        _ = a(24054);
      !(function (e) {
        (e.k_eView = "view"),
          (e.k_eViewWebSiteHub = "websitehub"),
          (e.k_eCommunityView = "communityview"),
          (e.k_eCommunityEdit = "edit"),
          (e.k_eCommunityEditBroadcast = "editBroadcast"),
          (e.k_eCommunityAdminPage = "admin"),
          (e.k_eCommunityPublish = "publish"),
          (e.k_eCommunityMigrate = "migrate"),
          (e.k_eCommunityPreview = "preview"),
          (e.k_eCommunityPreviewSale = "previewsale"),
          (e.k_eCommunityAnnouncementHub = "community_announcehub"),
          (e.k_eStoreView = "storeview"),
          (e.k_eStoreNewsHub = "newshub"),
          (e.k_eStoreOwnerPage = "store"),
          (e.k_eStoreSalePage = "sale"),
          (e.k_eStoreUsersNewsHub = "usernewshub");
      })(d || (d = {})),
        (function (e) {
          (e.k_eFacebook = "facebook"),
            (e.k_eTwitter = "twitter"),
            (e.k_eReddit = "reddit");
        })(c || (c = {}));
      const h =
        /(?:steampowered\.com|community\.\S+\.steam\.dev|store\.\S+\.steam\.dev|valve\.org\/store|steam\.dev\/store|\.steamchina\.com|steamcommunity\.com|valve\.org\/community|steam\.dev\/community)\/(\w+)(\/|$)/i;
      function g(e, t) {
        const a = "store" === (0, o.yK)(),
          n = (function (e) {
            const t = e.match(h);
            return t?.[1];
          })(window.location.href),
          r = a && "news" == n,
          s = "community" === (0, o.yK)(),
          l = t.appid ? "games" : "groups",
          c =
            s &&
            l == n &&
            ((t.appid && t.appid === o.UF.APPID) ||
              (!t.appid &&
                t.clanSteamID.GetAccountID() === o.UF.CLANACCOUNTID));
        switch (e) {
          case d.k_eView:
            return c || r;
          case d.k_eCommunityView:
          case d.k_eCommunityEdit:
          case d.k_eCommunityEditBroadcast:
          case d.k_eCommunityAdminPage:
          case d.k_eCommunityPublish:
          case d.k_eCommunityMigrate:
          case d.k_eCommunityPreview:
          case d.k_eCommunityPreviewSale:
          case d.k_eCommunityAnnouncementHub:
            return c;
          case d.k_eViewWebSiteHub:
            return c || r;
          case d.k_eStoreView:
          case d.k_eStoreNewsHub:
          case d.k_eStoreOwnerPage:
          case d.k_eStoreUsersNewsHub:
            return r;
          case d.k_eStoreSalePage:
            return !1;
          default:
            return (0, i.w)(!1, "Unknown route specified for link: " + e), !1;
        }
      }
      function y(e, t) {
        const a =
          o.TS.COMMUNITY_BASE_URL +
          "gid/" +
          e.clanSteamID.ConvertTo64BitString() +
          "/announcements/share/" +
          e.AnnouncementGID +
          "?site=" +
          t;
        return t === c.k_eFacebook ? a + "&t=" + Math.random() : a;
      }
      function v(e) {
        return E(e, d.k_eStoreView, "absolute");
      }
      function f(e, t, a) {
        if (a)
          return (
            (e ? "/games/" + o.UF.VANITY_ID : "/groups/" + o.UF.VANITY_ID) + "/"
          );
        const n = e ? "ogg/" + e : "gid/" + t.ConvertTo64BitString();
        return o.TS.COMMUNITY_BASE_URL + n + "/";
      }
      function b() {
        return "news";
      }
      function E(e, t, a) {
        const n = "relative" === a,
          r = "community" === (0, o.yK)(),
          s = n ? "/" : o.TS.STORE_BASE_URL,
          l = f(e.appid, e.clanSteamID, n);
        t === d.k_eView
          ? (t = r ? d.k_eCommunityView : d.k_eStoreView)
          : t === d.k_eViewWebSiteHub &&
            (t = r ? d.k_eCommunityAnnouncementHub : d.k_eStoreNewsHub);
        const c = e.GID ? e.GID : "",
          m = e.AnnouncementGID ? e.AnnouncementGID : "";
        switch (t) {
          case d.k_eCommunityPublish:
            return (
              l +
              (e.bOldAnnouncement
                ? "partnerevents/migrate_announcement/" + m
                : "partnerevents/publish/" + c + "?tab=publishing")
            );
          case d.k_eCommunityEdit:
            return (
              l +
              (e.bOldAnnouncement
                ? "partnerevents/migrate_announcement/" + m
                : "partnerevents/edit/" + c)
            );
          case d.k_eCommunityEditBroadcast:
            return (
              l +
              (e.bOldAnnouncement
                ? "partnerevents/migrate_announcement/" + m
                : "partnerevents/edit/" + c) +
              "?tab=broadcast"
            );
          case d.k_eCommunityMigrate:
            return l + "partnerevents/migrate_announcement/" + m;
          case d.k_eCommunityPreview:
            return (
              l +
              (e.bOldAnnouncement
                ? "partnerevents/preview_old_announcement/" + m
                : "partnerevents/preview/" + c)
            );
          case d.k_eCommunityPreviewSale:
            return l + "partnerevents/previewsale/" + c;
          case d.k_eCommunityAdminPage:
            return l + "partnerevents";
          case d.k_eCommunityAnnouncementHub:
            return l + "announcements";
          case d.k_eStoreNewsHub:
            return (
              s +
              `news/${e.appid ? `app/${e.appid}` : `group/${e.clanSteamID.GetAccountID()}`}`
            );
          case d.k_eStoreOwnerPage:
            return (
              s +
              (e.appid
                ? "app/" + e.appid
                : "curator/" + e.clanSteamID.GetAccountID())
            );
          case d.k_eStoreSalePage:
            return e.jsondata.bSaleEnabled
              ? s +
                  (e.jsondata.sale_vanity_id_valve_approved_for_sale_subpath
                    ? "sale/"
                    : "curator/" + e.clanSteamID.GetAccountID() + "/sale/") +
                  e.jsondata.sale_vanity_id
              : s;
          case d.k_eCommunityView:
            return l + "announcements/detail/" + m;
          case d.k_eStoreView:
            if (e.clanSteamID.GetAccountID() == (0, _.H7)())
              return `${o.TS.STORE_BASE_URL}meetsteam/${c}`;
            return `${s}news/${e.appid ? `app/${e.appid}` : `group/${e.clanSteamID.GetAccountID()}`}/${e.bOldAnnouncement ? `old_view/${m}` : `view/${c}`}`;
          case d.k_eStoreUsersNewsHub:
            return `${s}news/`;
          default:
            return (0, i.w)(!1, "Unknown route specified for link"), "";
        }
      }
      function w(e, t, a) {
        return E(
          e,
          t,
          "forceAbsolute" === a || !g(t, e) ? "absolute" : "relative",
        );
      }
      function I(e, t, a) {
        const n = f(e, t, !1);
        return "admin" === a ? n + "partnerevents" : "";
      }
      function S(e) {
        const { preferredFocus: t } = e,
          { bCanUseLink: a } = n.useContext(l),
          i = (0, p.n9)(),
          o = (0, r.W6)();
        if (!e.eventModel) return null;
        const d = a && g(e.route, e.eventModel),
          c = E(e.eventModel, e.route, d ? "relative" : "absolute"),
          _ = d ? c : (0, u.NT)(c),
          h = d ? _ : (0, m.wJ)(_, i);
        return d
          ? n.createElement(
              s.Ii,
              {
                style: e.style,
                className: e.className,
                href: o.createHref({ pathname: h }),
                onClick: (t) => {
                  e.onClick?.(t), o.push(h), t.preventDefault();
                },
                preferredFocus: t,
              },
              e.children,
            )
          : n.createElement(
              s.Ii,
              {
                href: h,
                style: e.style,
                className: e.className,
                onClick: e.onClick,
                preferredFocus: t,
              },
              e.children,
            );
      }
    },
    43667: (e, t, a) => {
      "use strict";
      a.d(t, { y: () => z, j: () => j });
      var n = a(34629),
        r = a(75844),
        s = a(19367),
        i = a(90626),
        o = a(22837),
        l = a(88997),
        d = a(47822),
        c = a(38390),
        m = a(4796),
        u = a(81477),
        p = a(44165),
        _ = a(60746),
        h = a(14947),
        g = a(78327),
        y = a(41735),
        v = a.n(y);
      class f {
        constructor() {
          (0, h.Gn)(this);
        }
        m_bValidatedEmail = !1;
        m_nMobileDeviceCount = 0;
        m_bIsLoaded = !1;
        m_promise;
        m_bLoadedFromConfig = !1;
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, g.Fd)("notificationstore", "application_config");
            this.ValidateStoreDefault(e) &&
              (0, h.h5)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = e.email_validated),
                  (this.m_nMobileDeviceCount = e.mobile_device_count);
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          return (
            e &&
            "object" == typeof e &&
            "number" == typeof e.mobile_device_count
          );
        }
        BIsLoaded() {
          return this.m_bIsLoaded;
        }
        BHasValidatedEmail() {
          return this.m_bValidatedEmail;
        }
        BHasPushNotification() {
          return this.m_nMobileDeviceCount > 0;
        }
        async HintLoad() {
          return (
            this.LazyInit(),
            this.m_bIsLoaded
              ? 1
              : g.iA.logged_in
                ? (this.m_promise || (this.m_promise = this.InternalLoad()),
                  this.m_promise)
                : 1
          );
        }
        async InternalLoad() {
          const e = g.TS.STORE_BASE_URL + "notification/ajaxusersettings",
            t = await v().get(e, { withCredentials: !0 });
          return (
            1 == t.data.success &&
              (0, h.h5)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = t.data.email_validated),
                  (this.m_nMobileDeviceCount = t.data.mobile_device_count);
              }),
            t.data.success
          );
        }
      }
      (0, n.Cg)([h.sH], f.prototype, "m_bValidatedEmail", void 0),
        (0, n.Cg)([h.sH], f.prototype, "m_nMobileDeviceCount", void 0);
      let b = new f();
      var E = a(40650),
        w = a(71541),
        I = a(76684),
        S = a(9154),
        C = a(738),
        T = a(12155),
        A = a(22797),
        D = a(32754),
        G = a(68797),
        B = a(52038),
        k = a(61859),
        L = a(375),
        R = a(14771),
        U = a(61336),
        F = a(6878),
        P = a.n(F),
        M = a(3919),
        O = a(1078),
        N = a(95695),
        x = a(82477),
        H = a(39256);
      let j = class extends i.Component {
        m_iMenuInstance;
        m_elDropDownRef = i.createRef();
        m_bLoadWasCancelled = !1;
        state = { bIsOpen: !1, bIsLoadingNotificationSettings: !b.BIsLoaded() };
        componentDidMount() {
          this.state.bIsLoadingNotificationSettings &&
            b
              .HintLoad()
              .catch(
                (e) => (
                  console.error(
                    "EventReminderWidget load fail: " + (0, G.H)(e).strErrorMsg,
                  ),
                  2
                ),
              )
              .then((e) => {
                1 != e ||
                  this.m_bLoadWasCancelled ||
                  this.setState({ bIsLoadingNotificationSettings: !1 });
              }),
            !this.props.eventModel.appid &&
              this.props.eventModel.clanSteamID &&
              m.ac.LoadClanInfoForClanSteamID(
                this.props.eventModel.clanSteamID,
              );
        }
        componentWillUnmount() {
          this.m_bLoadWasCancelled = !0;
        }
        ToggleMenu(e) {
          const t = _.KN.Get().BIsUserLoggedIn();
          t || g.TS.IN_CLIENT
            ? (!t &&
                g.TS.IN_CLIENT &&
                console.log(
                  "EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in.",
                ),
              this.state.bIsOpen ? this.HideMenu() : this.ShowMenu(),
              e.stopPropagation(),
              e.preventDefault())
            : (0, C.pg)(
                i.createElement(S.o0, {
                  strTitle: (0, k.we)("#EventDisplay_Share_NotLoggedIn"),
                  strDescription: (0, k.we)(
                    "#EventDisplay_Share_NotLoggedIn_Description",
                  ),
                  strOKButtonText: (0, k.we)("#MobileLogin_SignIn"),
                  onOK: () => (0, x.vg)(),
                }),
                window,
              );
        }
        ShowMenu() {
          let e = i.createElement(W, {
              ...this.props,
              fnHasReminderSet: (e) => this.BHasSomeNotificationSetting(e),
              fnHidePanel: this.HideMenu,
            }),
            t = {
              bOverlapHorizontal: !0,
              bOverlapVertical: !0,
              bDisablePopTop: !0,
              bMatchWidth: !0,
              strClassName: (0, B.A)(
                O.ReminderDialog,
                O.ReminderOptions,
                E.contextMenu,
              ),
            };
          (this.m_iMenuInstance = (0, l.lX)(
            e,
            this.m_elDropDownRef.current,
            t,
          )),
            this.m_iMenuInstance.SetOnHideCallback(this.HideMenu),
            this.setState({ bIsOpen: !0 }),
            u.V.RecordAppInteractionEvent(
              this.props.eventModel.appid,
              u.E.k_eReminder_Opened,
            );
        }
        HideMenu() {
          this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
            this.setState({ bIsOpen: !1 });
        }
        BHasSomeNotificationSetting(e) {
          const t = e.GID;
          return (
            (b.BHasValidatedEmail() &&
              _.KN.Get().BFollowsEventAndNotifiedBy(
                e.clanSteamID,
                t,
                _.Nh.k_ENotifyFlagByEmail,
              )) ||
            (b.BHasPushNotification() &&
              _.KN.Get().BFollowsEventAndNotifiedBy(
                e.clanSteamID,
                t,
                _.Nh.k_ENotifyFlagByPush,
              ))
          );
        }
        render() {
          const e = this.props.bOnlyShowIcon && !this.state.bIsOpen,
            t = this.BHasSomeNotificationSetting(this.props.eventModel),
            a = (0, p.sB)();
          return this.props.eventModel.startTime < a
            ? null
            : i.createElement(
                "div",
                {
                  className: (0, B.A)({
                    [O.ReminderCheckBox]: !0,
                    [P().ReminderCtn]: !0,
                    [O.IconMode]: e,
                    [O.TextMode]: !e,
                    ReminderSet: t,
                    RemindMeWidget: !0,
                  }),
                  onClick: this.ToggleMenu,
                  ref: this.m_elDropDownRef,
                },
                t &&
                  i.createElement(
                    "div",
                    { className: O.RemindCheck },
                    i.createElement(T.Jlk, null),
                  ),
                e &&
                  i.createElement(
                    "div",
                    { className: O.RemindBell },
                    i.createElement(T.IrQ, null),
                  ),
                i.createElement(
                  "div",
                  { className: O.ReminderDefault },
                  (0, k.we)("#EventDisplay_Reminder_SetReminder"),
                ),
                i.createElement("div", { className: O.ReminderOptions }),
              );
        }
      };
      function z(e) {
        const { bPreviewMode: t, eventGID: a, ...n } = e,
          r = (0, c.RR)(a);
        if (!r)
          return t
            ? i.createElement(
                "div",
                { className: H.ErrorDiv },
                (0, k.we)("#EventDidplay_Reminder_EventNotVisible", a),
              )
            : null;
        const s = (0, o.sf)(g.TS.LANGUAGE);
        return i.createElement(j, { lang: s, ...n, eventModel: r });
      }
      function V(e) {
        return s.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]");
      }
      (0, n.Cg)([L.oI], j.prototype, "ToggleMenu", null),
        (0, n.Cg)([L.oI], j.prototype, "ShowMenu", null),
        (0, n.Cg)([L.oI], j.prototype, "HideMenu", null),
        (j = (0, n.Cg)([r.PA], j));
      let W = class extends i.Component {
        state = { bIsRequestInFlight: !1 };
        async OnChangeFollowOrIgnore(e, t, a) {
          const { eventModel: n } = this.props,
            r = n?.GID;
          if (r && r != o.kF) {
            this.setState({ bIsRequestInFlight: !0 });
            try {
              await _.KN.Get().SetFollowOrUnfollowEvent(
                !e,
                t,
                n.clanSteamID,
                r,
                a,
              ),
                e &&
                  (a === _.Nh.k_ENotifyFlagByEmail
                    ? this.TrackEventAction(u.E.k_eReminder_Email)
                    : a === _.Nh.k_ENotifyFlagByPush &&
                      this.TrackEventAction(u.E.k_eReminder_MobilePush));
            } catch (e) {
              (0, C.HT)(
                i.createElement(
                  S.KG,
                  {
                    strTitle: (0, k.we)(
                      t
                        ? "#EventDisplay_Reminder_IgnoreEvent_Error"
                        : "#EventDisplay_Reminder_FollowEvent_Error",
                    ),
                    strDescription: (0, k.we)(
                      t
                        ? "#EventDisplay_Reminder_IgnoreEvent_ErrorDesc"
                        : "#EventDisplay_Reminder_FollowEvent_ErrorDesc",
                    ),
                  },
                  (0, G.H)(e).strErrorMsg,
                ),
                window,
              );
            }
            this.setState({ bIsRequestInFlight: !1 });
          }
        }
        OnChangeFollowByEmail(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.Nh.k_ENotifyFlagByEmail);
        }
        OnChangeFollowByPush(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.Nh.k_ENotifyFlagByPush);
        }
        GetExternalCalendarEventTitle() {
          const { eventModel: e, lang: t } = this.props,
            a = e.GetNameWithFallback(t);
          if (d.NK.BHasEntityNameForID(e.appid, e.clanSteamID.GetAccountID())) {
            return `${d.NK.GetEntityNameForID(e.appid, e.clanSteamID.GetAccountID())}: ${a}`;
          }
          return a;
        }
        TrackEventAction(e) {
          const { eventModel: t } = this.props;
          u.V.RecordAppInteractionEvent(t.appid, e);
        }
        GetExternalCalendarEventBody() {
          const { eventModel: e, lang: t } = this.props;
          let a = e.GetSubTitleWithLanguageFallback(t);
          a = a ? `${a}\n\n\n` : "";
          const n = e.GetSummaryWithFallback(t),
            r = e.jsondata.bSaleEnabled
              ? M.PH.k_eStoreSalePage
              : M.PH.k_eStoreView;
          return `${a}${n}\n\n${(0, M.qT)(e, r, "forceAbsolute")}`;
        }
        GetGoogleCalendarLink() {
          const { eventModel: e } = this.props,
            t = encodeURIComponent(this.GetExternalCalendarEventTitle()),
            a = encodeURIComponent(this.GetExternalCalendarEventBody()),
            n = e.GetStartTimeAndDateUnixSeconds(),
            r = V(n),
            s = V(e.GetEndTimeAndDateUnixSeconds() || n + R.Kp.PerHour),
            i =
              (g.TS.IN_CLIENT ? "steam://openurl_external/" : "") +
              `https://calendar.google.com/calendar/r/eventedit?text=${t}&details=${a}&dates=${r}/${s}`;
          return (0, U.k2)(i);
        }
        GetICSDownloadLink(e) {
          const { eventModel: t, lang: a } = this.props,
            n = t.appid
              ? "app/" + t.appid
              : "group/" + t.clanSteamID.GetAccountID(),
            r = "l=" + (0, o.Lg)(a);
          return `${g.TS.STORE_BASE_URL}${(0, M.LJ)()}/download/${n}/${e}/${t.GID}?${r}`;
        }
        render() {
          const {
              eventModel: e,
              bShowStartTime: t,
              bExpandLeft: a,
              bOnlyShowIcon: n,
              fnHasReminderSet: r,
              fnHidePanel: s,
            } = this.props,
            o = b.BHasValidatedEmail(),
            l = b.BHasPushNotification(),
            d = t && e.GetStartTimeAndDateUnixSeconds();
          return i.createElement(
            "div",
            null,
            i.createElement(
              "div",
              {
                className: (0, B.A)(
                  O.ReminderCheckBox,
                  n ? O.IconMode : O.TextMode,
                  "RemindMeWidget",
                ),
                onClick: s,
              },
              r(this.props.eventModel) &&
                i.createElement(
                  "div",
                  { className: O.RemindCheck },
                  i.createElement(T.Jlk, null),
                ),
              n &&
                i.createElement(
                  "div",
                  { className: O.RemindBell },
                  i.createElement(T.IrQ, null),
                ),
              i.createElement(
                "div",
                { className: O.ReminderDefault },
                (0, k.we)("#EventDisplay_Reminder_SetReminder"),
              ),
              i.createElement("div", { className: O.ReminderOpennedOptions }),
            ),
            i.createElement(
              "div",
              {
                className: (0, B.A)(
                  O.FlexColumnContainer,
                  O.ReminderBackground,
                  a && O.ReminderExpandsLeft,
                ),
              },
              this.state.bIsRequestInFlight &&
                i.createElement(A.t, {
                  className: O.RpcThrobber,
                  size: "xlarge",
                  position: "center",
                }),
              d &&
                i.createElement(
                  "div",
                  { className: O.FullStartTime },
                  (0, k.PP)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    (0, k.TW)(
                      d,
                      (0, R.Ct)(
                        new Date(1e3 * d),
                        p.HD.GetTimeNowWithOverrideAsDate(),
                      ),
                    ),
                    (0, I.yi)(d, !0),
                  ),
                ),
              i.createElement(
                "div",
                { className: O.ReminderOptionsHeader },
                (0, k.we)("#EventDisplay_Reminder_GetNotification_Via"),
              ),
              i.createElement(
                "div",
                { className: (0, B.A)(O.ReminderOption, !o && O.Unverified) },
                i.createElement(
                  D.he,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, k.we)(
                      o
                        ? "#EventReminder_NotifyByEmail_ttip"
                        : "#EventReminder_NotifyByEmail_Missing",
                    ),
                  },
                  i.createElement(w.Yh, {
                    label: (0, k.we)("#EventDisplay_Reminder_ViaEmail"),
                    disabled: !o,
                    checked: _.KN.Get().BFollowsEventAndNotifiedBy(
                      e.clanSteamID,
                      e.GID,
                      _.Nh.k_ENotifyFlagByEmail,
                    ),
                    onChange: this.OnChangeFollowByEmail,
                  }),
                ),
                !o &&
                  i.createElement(
                    "div",
                    { className: N.FlexColumnContainer },
                    i.createElement(
                      "a",
                      {
                        href: g.TS.STORE_BASE_URL + "account/",
                        target: g.TS.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.E.k_eReminder_EmailUnverified,
                          ),
                      },
                      (0, k.we)("#EventReminder_NotifyByEmail_Missing_Add"),
                    ),
                  ),
              ),
              i.createElement(
                "div",
                { className: (0, B.A)(O.ReminderOption, !l && O.Unverified) },
                i.createElement(
                  D.he,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, k.we)(
                      l
                        ? "#EventReminder_NotifyByMobile_ttip"
                        : "#EventReminder_NotifyByMobile_Missing",
                    ),
                  },
                  i.createElement(w.Yh, {
                    label: (0, k.we)("#EventDisplay_Reminder_ViaMobileApp"),
                    disabled: !l,
                    checked: _.KN.Get().BFollowsEventAndNotifiedBy(
                      e.clanSteamID,
                      e.GID,
                      _.Nh.k_ENotifyFlagByPush,
                    ),
                    onChange: this.OnChangeFollowByPush,
                  }),
                ),
                !l &&
                  i.createElement(
                    "div",
                    { className: N.FlexColumnContainer },
                    i.createElement(
                      "a",
                      {
                        href: g.TS.STORE_BASE_URL + "mobile/?show=steamapp",
                        target: g.TS.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.E.k_eReminder_MobilePushMissing,
                          ),
                      },
                      (0, k.we)("#EventReminder_NotifyByMobile_Install"),
                    ),
                  ),
              ),
              i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "div",
                  { className: O.ReminderOptionsHeader },
                  (0, k.we)("#EventDisplay_Reminder_AddToCalendar"),
                ),
                i.createElement(
                  "div",
                  { className: O.ReminderCalendarOptions },
                  i.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("ics"),
                      onClick: () =>
                        this.TrackEventAction(u.E.k_eReminder_CalendarApple),
                    },
                    (0, k.we)("#EventDisplay_Reminder_AppleCalendar_Short"),
                  ),
                  i.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      target: g.TS.IN_CLIENT ? void 0 : "_blank",
                      href: this.GetGoogleCalendarLink(),
                      onClick: () =>
                        this.TrackEventAction(u.E.k_eReminder_CalendarGoogle),
                    },
                    (0, k.we)("#EventDisplay_Reminder_GoogleCalendar_Short"),
                  ),
                  i.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("outlook"),
                      onClick: () =>
                        this.TrackEventAction(u.E.k_eReminder_CalendarOutlook),
                    },
                    (0, k.we)("#EventDisplay_Reminder_OutlookCalendar_Short"),
                  ),
                ),
              ),
              !1,
            ),
          );
        }
      };
      (0, n.Cg)([L.oI], W.prototype, "OnChangeFollowByEmail", null),
        (0, n.Cg)([L.oI], W.prototype, "OnChangeFollowByPush", null),
        (0, n.Cg)([L.oI], W.prototype, "TrackEventAction", null),
        (W = (0, n.Cg)([r.PA], W));
    },
    82477: (e, t, a) => {
      "use strict";
      a.d(t, { vg: () => m });
      var n = a(90626),
        r = a(738),
        s = a(61859),
        i = a(78327),
        o = a(97436),
        l = a(96059),
        d = a(28240);
      a(9154);
      function c(e) {
        return n.createElement(
          r.x_,
          { onEscKeypress: e.closeModal, bDisableBackgroundDismiss: !0 },
          n.createElement(u, {
            redirectURL: e.redirectURL,
            guestOption: e.guestOption,
          }),
        );
      }
      function m() {
        (0, r.pg)(
          n.createElement(c, {
            ownerWin: window,
            redirectURL: window.location.href,
          }),
          window,
          { strTitle: (0, s.we)("#Login_SignInTitle") },
        );
      }
      function u(e) {
        const { redirectURL: t, guestOption: a } = e,
          [r] = (0, n.useState)(
            new l.D(i.TS.WEBAPI_BASE_URL).GetAnonymousServiceTransport(),
          ),
          [s, c] = (0, n.useState)(!1);
        return n.createElement(
          "div",
          null,
          s
            ? n.createElement(o.Fn, null)
            : n.createElement(
                o.YN,
                {
                  autoFocus: !0,
                  transport: r,
                  platform: 2,
                  onComplete: (e) => {
                    e == d.wI.k_PrimaryDomainFail
                      ? c(!0)
                      : window.location.assign(t);
                  },
                  redirectUrl: t,
                  theme: "modal",
                },
                a && n.createElement(o.Mk, { redirectURL: t }),
              ),
        );
      }
    },
    93267: (e, t, a) => {
      "use strict";
      a.d(t, { L: () => u });
      var n = a(34629),
        r = a(90626),
        s = a(22837),
        i = a(2160),
        o = a(61859),
        l = a(61336),
        d = a(78327),
        c = a(375);
      class m {
        m_bUserHasVolumePreference = !1;
        m_flVolumePreference = 0;
        BUserHasVolumePreference() {
          return this.m_bUserHasVolumePreference;
        }
        SetVolumePreference(e) {
          (this.m_flVolumePreference = e),
            (this.m_bUserHasVolumePreference = !0);
        }
        GetVolumePreference() {
          return this.m_flVolumePreference;
        }
        BVolumePreferenceMuted() {
          return this.m_flVolumePreference < 0.001;
        }
        static s_Singleton;
        static Get() {
          return m.s_Singleton || (m.s_Singleton = new m()), m.s_Singleton;
        }
      }
      (0, n.Cg)([c.oI], m.prototype, "BUserHasVolumePreference", null),
        (0, n.Cg)([c.oI], m.prototype, "SetVolumePreference", null);
      const u = (0, r.forwardRef)(function (e, t) {
        const { video: a, bAutoPlay: n, bControls: c, bLoop: u, bMuted: p } = e,
          _ = (0, r.useMemo)(
            () =>
              Boolean(
                a.rgVideoTracks?.some(
                  (e) => "subtitles" == e.sKind || "captions" == e.sKind,
                ),
              ),
            [a.rgVideoTracks],
          ),
          [h, g] = r.useState(!1);
        if (!a.rgVideoSources || !a.rgVideoSources.length) return null;
        const y = (e) => {
            const t = new URL(e);
            return (
              (t.search =
                (t.search ? t.search + "&" : "?") + "origin=" + (0, d.xv)()),
              t.toString()
            );
          },
          v = a.rgVideoSources
            .filter((e) => Boolean(e.sURL))
            .map((e) =>
              r.createElement("source", {
                key: e.sURL,
                src: y(e.sURL),
                type: e.sFormat,
              }),
            ),
          f = a.rgVideoTracks
            ? a.rgVideoTracks.map((e) => {
                let t = e.eLanguage;
                if ((0, d.Y2)())
                  if (o.A0.IsELanguageValidInRealm(t, i.TU.k_ESteamRealmChina))
                    t = o.A0.GetELanguageFallback(t);
                  else {
                    if (6 !== t) return null;
                    if (
                      a.rgVideoTracks.find(
                        (e) => o.A0.GetELanguageFallback(e.eLanguage) === t,
                      )
                    )
                      return null;
                  }
                else if (
                  !o.A0.IsELanguageValidInRealm(t, i.TU.k_ESteamRealmGlobal)
                )
                  return null;
                return r.createElement("track", {
                  key: e.sURL + t,
                  src: y(e.sURL),
                  kind: e.sKind,
                  default: e.bDefault,
                  srcLang: (0, s.ww)(t),
                  label: (0, o.we)("#language_selection_" + (0, s.Lg)(t)),
                });
              })
            : null,
          b = (function (e) {
            return !(
              !(0, l.ZF)(e.sPoster) ||
              (e.rgVideoSources &&
                e.rgVideoSources.some((e) => !(0, l.ZF)(e.sURL))) ||
              (e.rgVideoTracks &&
                e.rgVideoTracks.some((e) => !(0, l.ZF)(e.sURL)))
            );
          })(a);
        let E;
        (!b || (_ && "public" == d.TS.WEB_UNIVERSE)) && (E = "anonymous");
        const w = p || (n && m.Get().BVolumePreferenceMuted()),
          I = a.sPoster ? y(a.sPoster) : "";
        return r.createElement(
          "video",
          {
            width: "100%",
            height: "auto",
            autoPlay: n,
            muted: w,
            playsInline: !0,
            controls: c,
            poster: I,
            loop: u,
            crossOrigin: E,
            onVolumeChange: (e) => {
              const t = e.target,
                a = t.muted ? 0 : t.volume;
              h && m.Get().SetVolumePreference(a);
            },
            onPlay: (e) => {
              const t = e.target,
                a = 0 == t.currentTime,
                r = m.Get().BUserHasVolumePreference();
              if ((g(!0), a))
                if (r || n)
                  r &&
                    ((t.volume = m.Get().GetVolumePreference()),
                    (t.muted = m.Get().BVolumePreferenceMuted()));
                else {
                  const e = t.muted ? 0 : t.volume;
                  m.Get().SetVolumePreference(e);
                }
            },
            ref: t,
          },
          v,
          f,
        );
      });
    },
    76684: (e, t, a) => {
      "use strict";
      a.d(t, {
        K4: () => g,
        X0: () => E,
        gS: () => y,
        l1: () => b,
        pg: () => _,
        u1: () => f,
        v9: () => v,
        yi: () => h,
      });
      var n = a(34629),
        r = a(90626),
        s = a(32754),
        i = a(61859),
        o = a(75844),
        l = a(52038),
        d = a(14771),
        c = a(55351),
        m = a.n(c),
        u = a(44165);
      const p = a(87937);
      function _(e) {
        const t = p.tz.guess(),
          a = p.unix(e).tz(t),
          n = (0, i.l4)();
        return n && a.locale(n), a.format("LT");
      }
      function h(e, t) {
        const a = p.tz.guess(),
          n = p.unix(e).tz(a),
          o = (0, i.l4)();
        return (
          o && n.locale(o),
          r.createElement(
            r.Fragment,
            null,
            n.format("LT"),
            t
              ? r.createElement(
                  s.Gq,
                  { toolTipContent: n.format("Z") + ", " + a },
                  r.createElement("span", null, " ", n.zoneAbbr()),
                )
              : null,
          )
        );
      }
      const g = (0, o.PA)((e) => {
          const {
              dateAndTime: t,
              bSingleLine: a,
              bOnlyTime: n,
              bOnlyDate: s,
            } = e,
            o = !n && Boolean(t),
            l = !s && Boolean(t),
            d = o && (0, i.TW)(t),
            c = e.stylesmodule ? { ...m(), ...e.stylesmodule } : m();
          return a
            ? r.createElement(
                "span",
                { className: n || s ? c.DateAndTimeInline : c.DateAndTime },
                o && d,
                o && l ? r.createElement("span", null, " ") : void 0,
                Boolean(t && l) && h(t, l),
              )
            : r.createElement(
                "div",
                { className: c.DateAndTime },
                o &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement("div", { className: c.LocalizedDate }, d),
                    " ",
                    r.createElement("span", { className: c.At }, "@"),
                  ),
                r.createElement(
                  "div",
                  { className: c.LocalizedTime },
                  Boolean(t && l) && h(t, l),
                ),
              );
        }),
        y = (e) => {
          const t = r.createElement(
            "div",
            { className: e.stylesmodule.DateToolTip },
            r.createElement(g, {
              dateAndTime: e.rtFullDate,
              bSingleLine: !0,
              stylesmodule: e.stylesmodule,
            }),
          );
          return r.createElement(
            s.he,
            {
              toolTipContent: t,
              direction: "top",
              className: e.className,
              bTopmost: !0,
            },
            e.children,
          );
        };
      let v = class extends r.Component {
        render() {
          const { startDateAndTime: e, endDateAndTime: t } = this.props,
            a = this.props.stylesmodule
              ? { ...m(), ...this.props.stylesmodule }
              : m();
          let n =
            this.props.bHideEndTime ||
            null == this.props.endDateAndTime ||
            this.props.endDateAndTime < 1;
          if (null == e || 0 == e)
            return r.createElement(
              "div",
              { className: a.DateAndTime },
              r.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, i.we)("#EventDisplay_TimeRange"),
              ),
              (0, i.we)("#EventDisplay_TimeDisplayNone"),
            );
          let s = u.HD.GetTimeNowWithOverride();
          if (n)
            return r.createElement(
              "div",
              { className: a.StartDate },
              r.createElement(
                "div",
                { className: a.RightSideTitles },
                (0, i.we)(
                  e < s
                    ? "#EventDisplay_TimeInPast"
                    : "#EventDisplay_TimeUpcoming",
                ),
                " ",
              ),
              r.createElement(g, { stylesmodule: a, dateAndTime: e }),
            );
          let o = e <= s && s <= t;
          const c = (0, d.JD)(new Date(1e3 * e), new Date(1e3 * t));
          return r.createElement(
            "div",
            { className: a.MultiDateAndTime },
            r.createElement(
              "div",
              { className: a.StartDate },
              r.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, i.we)(
                  e >= s
                    ? "#EventDisplay_TimeBeginsOn"
                    : t >= s
                      ? "#EventDisplay_TimeBeginsOn_Past"
                      : "#EventDisplay_TimeBeginsOn_StartAndEnd_Past",
                ),
              ),
              r.createElement(g, {
                stylesmodule: a,
                bSingleLine: !0,
                dateAndTime: e,
              }),
            ),
            r.createElement(
              "div",
              { className: a.EndDate },
              r.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, i.we)(
                  t < s
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              r.createElement(g, {
                stylesmodule: a,
                bSingleLine: !0,
                bOnlyTime: c,
                dateAndTime: t,
              }),
            ),
            o &&
              r.createElement(
                "span",
                { className: a.ActiveEvent },
                r.createElement(
                  "span",
                  {
                    className: (0, l.A)(
                      a.RightSideTitles,
                      a.ActiveEventCallOut,
                    ),
                  },
                  (0, i.we)("#Time_Now"),
                ),
              ),
          );
        }
      };
      v = (0, n.Cg)([o.PA], v);
      let f = class extends r.Component {
        render() {
          const {
              startDateAndTime: e,
              endDateAndTime: t,
              bHideEndTime: a,
            } = this.props,
            n = this.props.stylesmodule
              ? { ...m(), ...this.props.stylesmodule }
              : m();
          if (null == e || 0 == e)
            return r.createElement(
              "div",
              { className: n.DateAndTime },
              r.createElement(
                "span",
                { className: n.RightSideTitles },
                (0, i.we)("#EventDisplay_TimeRange"),
              ),
              (0, i.we)("#EventDisplay_TimeDisplayNone"),
            );
          const s = u.HD.GetTimeNowWithOverrideAsDate(),
            o = u.HD.GetTimeNowWithOverride(),
            l = (0, d.Ct)(new Date(1e3 * e), s),
            c = r.createElement(
              "div",
              { className: n.ShortDateAndTime },
              (0, i.TW)(e, l),
            );
          let p = r.createElement(
            y,
            { rtFullDate: e, stylesmodule: n },
            r.createElement(
              "div",
              { className: n.RightSideTitles },
              (0, i.we)(
                e < o
                  ? "#EventDisplay_TimeInPast"
                  : "#EventDisplay_TimeUpcoming",
              ),
            ),
            c,
          );
          if (
            (o < e &&
              e < o + d.Kp.PerWeek &&
              (p = r.createElement(
                y,
                { rtFullDate: e, stylesmodule: n },
                r.createElement(
                  "div",
                  { className: n.RightSideTitles },
                  (0, i.PP)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    c,
                    r.createElement(
                      "div",
                      { className: n.ShortDateAndTime },
                      h(e),
                      " ",
                    ),
                  ),
                ),
              )),
            a || null == t || t < 1)
          )
            return p;
          const _ = e <= o && o <= t;
          _ &&
            (p = r.createElement(
              y,
              { rtFullDate: e, className: n.ActiveEvent, stylesmodule: n },
              r.createElement(
                "span",
                { className: n.ActiveEventCallOut },
                (0, i.we)("#Time_Now"),
              ),
            ));
          let g = null;
          const v = _ ? t - o : t - e;
          if (v <= d.Kp.PerDay) {
            const e = r.createElement(
              "div",
              { className: n.ShortDateAndTime },
              (0, i.Hq)(v, !0),
            );
            g =
              t < o
                ? r.createElement(
                    "div",
                    { className: n.RightSideTitles },
                    (0, i.we)("#EventDisplay_TimeEndsOn_Ran"),
                    e,
                  )
                : r.createElement(
                    "div",
                    { className: n.RightSideTitles },
                    (0, i.PP)(
                      _
                        ? "#EventDisplay_TimeLeft"
                        : "#EventDisplay_RunsForDuration",
                      e,
                    ),
                  );
          } else {
            const e = s.getFullYear() == new Date(1e3 * t).getFullYear();
            g = r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "div",
                { className: n.RightSideTitles },
                (0, i.we)(
                  t < o
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              r.createElement(
                "div",
                { className: n.ShortDateAndTime },
                (0, i.TW)(t, e),
              ),
            );
          }
          const f = r.createElement(y, { rtFullDate: t, stylesmodule: n }, g);
          return r.createElement("div", { className: n.ShortDateRange }, p, f);
        }
      };
      function b(e, t, a) {
        const n = u.HD.GetTimeNowWithOverrideAsDate(),
          r = new Date(1e3 * e),
          s = new Date(1e3 * t),
          o = n.getFullYear() == r.getFullYear(),
          l = n.getFullYear() == s.getFullYear(),
          d = r.getFullYear() == s.getFullYear(),
          c = d && r.getMonth() == s.getMonth(),
          m = c && r.getDate() == s.getDate(),
          p = {
            day: "numeric",
            month: a ?? "long",
            year: o ? void 0 : "numeric",
          },
          _ = r.toLocaleDateString(i.pf.GetPreferredLocales(), p);
        if (m) return _;
        {
          const e = {
            day: "numeric",
            month: c && l ? void 0 : (a ?? "long"),
            year: d ? void 0 : "numeric",
          };
          return (
            _ + " - " + s.toLocaleDateString(i.pf.GetPreferredLocales(), e)
          );
        }
      }
      function E(e) {
        const {
          rtStartDate: t,
          rtEndDate: a,
          strMonthFormat: n,
          className: s,
        } = e;
        return r.createElement("div", { className: s }, b(t, a, n), " ");
      }
      f = (0, n.Cg)([o.PA], f);
    },
    82227: (e, t, a) => {
      "use strict";
      a.d(t, { Dq: () => s, NO: () => i, dm: () => r });
      var n = a(61859);
      function r(e, t, a, r) {
        let s = t;
        s =
          "number" == typeof s
            ? {
                nDigitsAfterDecimal: t,
                bUseBinary1K: a || void 0 === a,
                bValueIsInBytes: !r,
                bValueIsRate: r,
                nMinimumDigitsAfterDecimal: 0,
              }
            : {
                nDigitsAfterDecimal: 2,
                bUseBinary1K: !0,
                bValueIsInBytes: !0,
                bValueIsRate: !1,
                nMinimumDigitsAfterDecimal: 0,
                ...s,
              };
        const i = s.bUseBinary1K ? 1024 : 1e3,
          o = i * i,
          l = o * i,
          d = l * i;
        let c,
          m = "";
        e > d
          ? ((c = e / d), (m = "Tera"))
          : e > l
            ? ((c = e / l), (m = "Giga"))
            : e > o
              ? ((c = e / o), (m = "Mega"))
              : e > i
                ? ((c = e / i), (m = "Kilo"))
                : (c = e);
        const u =
          "#" +
          m +
          (s.bValueIsInBytes ? "bytes" : "bits") +
          (s.bValueIsRate ? "_PerSecond" : "");
        return (0, n.we)(
          u,
          c.toLocaleString(n.pf.GetPreferredLocales(), {
            minimumFractionDigits: s.nMinimumDigitsAfterDecimal,
            maximumFractionDigits: s.nDigitsAfterDecimal,
          }),
        );
      }
      function s(e) {
        return e ? e.toLocaleString(n.pf.GetPreferredLocales()) : "" + e;
      }
      function i(e) {
        return e > 1e9
          ? Math.trunc(e / 1e9).toString() + "B"
          : e > 1e6
            ? Math.trunc(e / 1e6).toString() + "M"
            : e > 1e3
              ? Math.trunc(e / 1e3).toString() + "K"
              : e.toString();
      }
    },
    27543: (e, t, a) => {
      "use strict";
      a.d(t, { JS: () => r, rG: () => s });
      var n = a(61859);
      function r(e) {
        switch (e) {
          case 29:
          case 27:
          case 2:
          case 4:
          case 5:
          case 6:
          case 8:
          case 7:
          case 9:
          case 11:
          case 17:
          case 18:
          case 19:
          case 20:
          case 21:
          case 22:
          case 23:
          case 24:
          case 35:
          case 25:
          case 26:
          case 31:
          case 32:
          case 1:
          case 34:
            return !0;
        }
        return !1;
      }
      function s(e) {
        let t = "#PartnerEvent_" + e,
          a = (0, n.we)(t);
        return a != t ? a : (0, n.we)("#PartnerEvent_Other");
      }
    },
  },
]);
