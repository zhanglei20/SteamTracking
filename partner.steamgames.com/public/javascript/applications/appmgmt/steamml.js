/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [4262],
  {
    64642: (e) => {
      e.exports = {
        Background: "msjGfUYNm8rJ4bLS19n2g",
        SteamMLButton: "_2yReXdObU3Ij9YBkzvgYQ7",
        AcceptButton: "_2tY__PC6O-mUh8jRVOh_S7",
        Inner: "_1Zoc2tlDWolWjsI-W18Wvf",
        CancelButton: "_2BCE0thhjq41eNyAVsDAP4",
        Disabled: "_1W_vxrkrcK4BoMnWdzcIo2",
        FullSize: "_1-nKcLiXhx0iBBulrD55Xo",
        Header: "_35ajnHTsONJ6abrtNB0tiG",
        HeaderOption: "_3KFf6Xq-7-jJ29jn3bW4PL",
        Selected: "OilN-vRxEfOtVM-aw6H4Y",
        SchemaPage: "_36OV-RyYj5N9zIaubjlkDo",
        SchemaList: "_3r0tlX7BEcUjUC0nk5CW8i",
        SelectAppID: "_3nezXM-f76hluq1iA1sBte",
        Hidden: "_1VPtlX8LmlSvqpBchxC_7s",
        SchemaElement: "_1xjli_L5ZMmh-nvw9GnUWQ",
        Label: "_3uE4kPiSHlhS4R4wHqX-fN",
        SchemaName: "_36bwAwPhrWLdDlGBGrT1k1",
        AppID: "_3UaebM6BfC-B0yVyI-eoIJ",
        HorizontalSection: "_1rTEk-J6WyXu1fqOq9PjzY",
        RowCount: "gPsPXhyVjxvOBH82Veunm",
        KeepCount: "_2RxONnczAg5Y1_Xnnd7Grt",
        SchemaDetails: "_1gFQfWKXhOQbkaNjbGVU16",
        Back: "_2m9wkgXpcf3-99TaQKL0tE",
        SchemaDetailsHeader: "cUNhZfaxsGzKaFQAx4vvf",
        SchemaDetailsBack: "_15COwPUDCRCEDUMsYujCkU",
        SchemaDetailsTitle: "_9IFURqUFtrCAO5kbHAO_U",
        SchemaDetailsName: "CblW8QTasV2DO4cRW0prn",
        SchemaDetailsSchemaID: "_16qUhwW_c8Pbmu5Z6xinEO",
        SchemaDetailsElements: "_3DsdfooA5ZsBVzHlo0spou",
        SchemaDetailsElement: "_2_-ubEumKcrrljcqkDz-nd",
        SchemaDetailsElementBody: "_1lLqQDLnUIIdV6R57346No",
        TypeInt32: "_3q6FZ-EpaofO1UX84CRKPz",
        TypeName: "_11e6zJoDlODofUVbR3Lua3",
        TypeInt64: "_1sUna6-XvlT6BdFU-xDxr_",
        TypeBool: "_3QiDC_egBPUil1L8Lxw-E6",
        TypeFloat: "DfgR36rhRvbWATh2rkEU3",
        TypeEnum: "_3w9sP-z9NZw5JwDMJvGha_",
        TypeTimestamp: "_33yo73pTOoKCyF87NLP4Io",
        ElementName: "_1v_wKNlVbQ4nQF8_Zbhiea",
        SchemaDetailsStructRow: "lWQfKVb7uqk9UKbjyyGIM",
        CollapseIcon: "_1vRxM4k_iJiVi6F1fzS1e3",
        Collapsed: "_3qRbu04vYScSY1knrHbExY",
        StructIndent: "_1bga0T4ksdggWPn8sb1tmQ",
        IndentCollapsed: "_1OU7XyPtFGtCm92v_LX-be",
        ProblemPage: "_3F8_Lyio-BwNK1Z5Pbu5vv",
        ProblemListContainer: "_35Ll4m_-B9fWDt-no-d8xp",
        ProblemListHeader: "_21PbN-aJWj8YJP-4YCaaVU",
        NoProblems: "IRyHOENJwvmX3tAY16ZaS",
        ProblemEntry: "_13BKEPL1RjPkUJgyypi6LX",
        ProblemName: "_3Hgxj-6wNEi2QJdiNmSEq8",
        Inactive: "TW09gRIZG46PUd8KEpPJM",
        ProblemDescription: "_3qnlNmBMwzicL--uJDt0xW",
        ProblemID: "_2yjPq_vUBe5vX8477Nd6Lb",
        Dates: "_3jJSRWPIEMmq_zw-n_Vmuj",
        CreatedDate: "_3nOnI7HpOqBDP7GOYro3RB",
        UpdatedDate: "_3gM54QZsU-d3rfw7v88yoF",
        ProblemSchemaList: "_2k2xZ2WqcQSptTfC2u-1WK",
        AddNewProblem: "_1IaIKe5N5mtG4ReCT5Nfnk",
        IsPrompt: "_1F_iVaudtZtIBggLz8TgsQ",
        NewProblemHeader: "_2Uxe1WauLy_WSI8HBMDmpb",
        PlusSymbol: "_2zfyC9pxT6ynYwfsxjjIcc",
        NewProblemDescription: "_3vIDf6PJy59Oae8lfCLYRT",
        IsHeader: "_1vZgEO-rIh1azL1QsqnUkE",
        AddProblemHeader: "_3dXukBGeFSKrjNRapz-vdw",
        LabelValue: "_3wqW3cCIDXXgA0L0ry28IN",
        Value: "_3RWed3mcqH6MmHhBgbkBGD",
        SchemaListContainer: "_3TzDRcTE7EvonQr-6ImEtT",
        SchemaSelectListTitle: "_37bp6yYCYbU-Aaxc6idCSh",
        ButtonContainer: "Sp68rQoQKv4sPj4vE-rm6",
        SchemaSelectList: "_3spVxRuLYDKpX2IsKvxhXN",
        SchemaOption: "_2eV2TTGJXmq22-NxPpT3eI",
        ProblemDetails: "UGqiqHtL23JkoCU_MSnsq",
        BackButton: "_1Sb8R2jk0DatSLTFo4nULP",
        ProblemDetailsHeaderContainer: "_28zUxX41jCodxcCCVF55ZH",
        ProblemNameEditing: "_2268oRWsoMSsQ4JcKBxJlp",
        ProblemDescEditing: "VSvOsoK438LYv7WiV-r91",
        SchemaListHeader: "_3rvzlEx7gsz_CuUwlLbLeL",
        SchemaListEdit: "_1Ch8t8kvrdudLjhmNW6D86",
        DeleteLink: "_2lI41nfrJhWqIcuoYAfdcC",
      };
    },
    30899: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { SteamMLRoutes: () => w, default: () => B });
      var m,
        s = a(43527),
        l = a(90626),
        n = a(17083),
        c = a(92757),
        r = a(64642),
        i = a(14947),
        o = a(34629),
        d = a(78327),
        p = a(41735),
        S = a.n(p);
      !(function (e) {
        (e[(e.Unrequested = 0)] = "Unrequested"),
          (e[(e.Pending = 1)] = "Pending"),
          (e[(e.Valid = 2)] = "Valid"),
          (e[(e.Failed = 3)] = "Failed"),
          (e[(e.Rerequest = 4)] = "Rerequest");
      })(m || (m = {}));
      class h {
        constructor() {
          (0, i.Gn)(this);
        }
        getData(e, t, a) {
          const s = this.eState == m.Pending || this.eState == m.Rerequest;
          return (
            this.isExpired() &&
              !s &&
              ((this.eState = m.Pending),
              t()
                .then((s) => {
                  if (this.eState == m.Rerequest)
                    return this.expireData(), void this.getData(e, t, a);
                  (this.data = a ? a(s) : s),
                    s
                      ? (this.delayNewData(e), (this.eState = m.Valid))
                      : (this.eState = m.Failed);
                })
                .catch((e) => {
                  (this.data = a(void 0)), (this.eState = m.Failed);
                })),
            this.data
          );
        }
        clearData() {
          (this.eState = m.Unrequested),
            (this.data = null),
            (this.nExpirationTime = 0);
        }
        setDataPending() {
          this.eState = m.Pending;
        }
        isDataPending() {
          return this.eState == m.Pending;
        }
        setData(e, t) {
          (this.data = t), this.delayNewData(e), (this.eState = m.Valid);
        }
        expireData() {
          this.nExpirationTime = 0;
        }
        isExpired() {
          const e = Date.now() / 1e3;
          return this.nExpirationTime < e;
        }
        delayNewData(e) {
          if (e <= 0) this.nExpirationTime = Number.MAX_SAFE_INTEGER;
          else {
            const t = Date.now() / 1e3;
            this.nExpirationTime = t + e;
          }
        }
        rerequestDataIfPending() {
          this.eState == m.Pending && (this.eState = m.Rerequest);
        }
        getCachedData() {
          return this.data;
        }
        data = void 0;
        eState = m.Unrequested;
        nExpirationTime = 0;
      }
      (0, o.Cg)([i.sH], h.prototype, "data", void 0),
        (0, o.Cg)([i.sH], h.prototype, "nExpirationTime", void 0);
      class E {
        constructor() {
          (0, i.Gn)(this);
        }
        getAsyncDataWrapper(e) {
          let t;
          return (
            this.m_mapKeyToDataWrapper.has(e)
              ? (t = this.m_mapKeyToDataWrapper.get(e))
              : ((t = new h()), this.m_mapKeyToDataWrapper.set(e, t)),
            t
          );
        }
        clearKey(e) {
          this.m_mapKeyToDataWrapper.has(e) &&
            this.m_mapKeyToDataWrapper.get(e).clearData(),
            this.m_mapKeyToDataWrapper.delete(e);
        }
        getAllElements() {
          return Array.from(this.m_mapKeyToDataWrapper.values()).map((e) =>
            e.getCachedData(),
          );
        }
        getAllElementsAndKeys() {
          let e = [],
            t = this.m_mapKeyToDataWrapper.entries(),
            a = t.next();
          for (; !a.done; )
            e.push({ key: a.value[0], data: a.value[1].getCachedData() }),
              (a = t.next());
          return e;
        }
        m_mapKeyToDataWrapper = new Map();
      }
      (0, o.Cg)([i.sH], E.prototype, "m_mapKeyToDataWrapper", void 0);
      class u {
        constructor() {
          (0, i.Gn)(this);
        }
        static s_SteamMLStore;
        m_asyncSchemaList = new E();
        m_asyncSchemaDetails = new E();
        m_asyncProblemList = new h();
        m_asyncProblemDetails = new E();
        static Get() {
          return (
            u.s_SteamMLStore ||
              ((u.s_SteamMLStore = new u()), u.s_SteamMLStore.Init()),
            u.s_SteamMLStore
          );
        }
        Init() {}
        GetSchemaList(e, t) {
          const a = e + "_" + t;
          return this.m_asyncSchemaList.getAsyncDataWrapper(a).getData(
            30,
            async () =>
              await S().get(
                `${d.TS.PARTNER_BASE_URL}steamml/get_schemas?appid=${e}&includesteammlapp=${t}&sessionid=${d.TS.SESSIONID}`,
              ),
            (e) => e.data.schemas,
          );
        }
        GetSchemaDetails(e, t) {
          return this.m_asyncSchemaDetails.getAsyncDataWrapper(t).getData(
            30,
            async () =>
              await S().get(
                `${d.TS.PARTNER_BASE_URL}steamml/get_schema_details?appid=${e}&schemaid=${t}&sessionid=${d.TS.SESSIONID}`,
              ),
            (e) => JSON.parse(e.data.schema_description_json),
          );
        }
        GetProblemList() {
          return this.m_asyncProblemList.getData(
            30,
            async () =>
              await S().get(
                `${d.TS.PARTNER_BASE_URL}steamml/get_problems?sessionid=${d.TS.SESSIONID}`,
              ),
            (e) => e.data.problems,
          );
        }
        GetProblemDetails(e) {
          return this.m_asyncProblemDetails.getAsyncDataWrapper(e).getData(
            30,
            async () =>
              await S().get(
                `${d.TS.PARTNER_BASE_URL}steamml/get_problem_details?problemid=${e}&sessionid=${d.TS.SESSIONID}`,
              ),
            (e) => e.data.problem,
          );
        }
        CreateProblem(e, t, a) {
          let m = new FormData();
          return (
            m.append("sessionid", d.TS.SESSIONID),
            m.append("name", e),
            m.append("description", t),
            m.append("schemaids", a.join(",")),
            S()
              .post(`${d.TS.PARTNER_BASE_URL}steamml/create_problem`, m)
              .then(() => {
                this.m_asyncProblemList.clearData();
              })
          );
        }
        EditProblemName(e, t) {
          let a = new FormData();
          a.append("name", t), this.EditProblem(e, a);
        }
        EditProblemDesc(e, t) {
          let a = new FormData();
          a.append("description", t), this.EditProblem(e, a);
        }
        EditProblemSchemas(e, t) {
          let a = new FormData();
          a.append("schemaids", t.join(",")), this.EditProblem(e, a);
        }
        EditProblem(e, t) {
          return (
            t.append("sessionid", d.TS.SESSIONID),
            t.append("problemid", e.toString()),
            S()
              .post(`${d.TS.PARTNER_BASE_URL}steamml/edit_problem`, t)
              .then(() => {
                this.m_asyncProblemDetails.getAsyncDataWrapper(e).expireData();
              })
          );
        }
        DeleteProblem(e) {
          let t = new FormData();
          return (
            t.append("sessionid", d.TS.SESSIONID),
            t.append("problemid", e.toString()),
            S()
              .post(`${d.TS.PARTNER_BASE_URL}steamml/delete_problem`, t)
              .then(() => {
                this.m_asyncProblemList.clearData();
              })
          );
        }
      }
      (0, o.Cg)([i.sH], u.prototype, "m_asyncSchemaList", void 0),
        (0, o.Cg)([i.sH], u.prototype, "m_asyncSchemaDetails", void 0),
        (0, o.Cg)([i.sH], u.prototype, "m_asyncProblemList", void 0),
        (0, o.Cg)([i.sH], u.prototype, "m_asyncProblemDetails", void 0),
        (0, o.Cg)([i.XI], u.prototype, "Init", null);
      var N = a(75844),
        _ = a(52038);
      const D = (0, N.PA)((e) => {
        const t = "0" == (0, c.g)().schemaid,
          a = [
            { label: "816 - Dota Beta", value: "816" },
            { label: "570 - Dota", value: "570" },
            { label: "730 - CS:GO", value: "730" },
            { label: "1015410 - SteamML", value: "1015410" },
          ],
          [m, s] = (0, l.useState)(a[0].value);
        if (!t) return null;
        const i = u.Get().GetSchemaList(parseInt(m), !0);
        if (!i) return null;
        let o = [];
        for (const e of i)
          o.push(
            l.createElement(
              n.N_,
              {
                to: w.SteamMLSchemas(e.appid, e.schemaid),
                className: r.SchemaElement,
                key: e.schemaid,
              },
              l.createElement(
                "div",
                { className: r.HorizontalSection },
                l.createElement("div", { className: r.SchemaName }, e.name),
                l.createElement(
                  "div",
                  { className: r.SchemaID },
                  l.createElement("span", { className: r.Label }, "Schema ID"),
                  " ",
                  e.schemaid,
                ),
              ),
              l.createElement("div", { className: r.AppID }, "AppID ", e.appid),
              l.createElement(
                "div",
                { className: r.HorizontalSection },
                l.createElement(
                  "div",
                  { className: r.RowCount },
                  l.createElement("span", { className: r.Label }, "Rows:"),
                  " ",
                  e.row_count,
                ),
                l.createElement(
                  "div",
                  { className: r.KeepCount },
                  l.createElement(
                    "span",
                    { className: r.Label },
                    "Keep Count:",
                  ),
                  " ",
                  e.keep_count.toLocaleString(),
                ),
              ),
            ),
          );
        return l.createElement(
          "div",
          { className: r.SchemaList },
          l.createElement(
            "select",
            {
              className: r.SelectAppID,
              value: m,
              onChange: (e) => s(e.target.value),
            },
            a.map((e) =>
              l.createElement(
                "option",
                { key: e.value, value: e.value },
                e.label,
              ),
            ),
          ),
          o,
        );
      });
      function v(e) {
        switch (e) {
          case 1:
            return "int32";
          case 2:
            return "int64";
          case 3:
            return "bool";
          case 4:
            return "float";
          case 5:
            return "enum";
          case 6:
            return "timestamp";
        }
        return "";
      }
      function b(e) {
        switch (e) {
          case 1:
            return r.TypeInt32;
          case 2:
            return r.TypeInt64;
          case 3:
            return r.TypeBool;
          case 4:
            return r.TypeFloat;
          case 5:
            return r.TypeEnum;
          case 6:
            return r.TypeTimestamp;
        }
        return "";
      }
      function y(e, t, a) {
        let m;
        const s = t.indexOf(e.name),
          n = -1 == s && !e.count;
        return (
          e.structure
            ? (m = l.createElement(
                "div",
                {
                  className: (0, _.A)(
                    r.SchemaDetailsElement,
                    r.SchemaDetailsStruct,
                  ),
                },
                !e.count &&
                  l.createElement(
                    "div",
                    {
                      className: r.SchemaDetailsStructRow,
                      onClick: () => {
                        a(
                          n
                            ? [...t, e.name]
                            : t.slice(0, s).concat(t.slice(s + 1)),
                        );
                      },
                    },
                    l.createElement(
                      "div",
                      { className: (0, _.A)(n && r.Collapsed, r.CollapseIcon) },
                      "▼",
                    ),
                    l.createElement(
                      "div",
                      { className: r.SchemaDetailsElementBody },
                      l.createElement(
                        "div",
                        { className: r.ElementName },
                        e.name,
                      ),
                      l.createElement(
                        "div",
                        { className: r.TypeName },
                        "STRUCT",
                      ),
                    ),
                  ),
                e.structure.member.map((e) =>
                  l.createElement(
                    "div",
                    {
                      className: (0, _.A)(
                        n && r.IndentCollapsed,
                        r.StructIndent,
                      ),
                      key: e.name,
                    },
                    y(e, t, a),
                  ),
                ),
              ))
            : e.array && e.array.primitive
              ? (m = l.createElement(
                  "div",
                  {
                    className: (0, _.A)(
                      r.SchemaDetailsElement,
                      r.SchemaDetailsArray,
                    ),
                  },
                  l.createElement(
                    "div",
                    {
                      className: (0, _.A)(
                        r.SchemaDetailsElementBody,
                        b(e.array.primitive.type_info.type),
                      ),
                    },
                    l.createElement(
                      "div",
                      { className: r.ElementName },
                      e.name,
                    ),
                    l.createElement(
                      "div",
                      { className: r.TypeName },
                      v(e.array.primitive.type_info.type),
                      " [",
                      e.array.max_length,
                      "]",
                    ),
                  ),
                ))
              : e.array && e.array.structure
                ? (m = l.createElement(
                    "div",
                    {
                      className: (0, _.A)(
                        r.SchemaDetailsElement,
                        r.SchemaDetailsArray,
                      ),
                    },
                    !e.count &&
                      l.createElement(
                        "div",
                        {
                          className: r.SchemaDetailsStructRow,
                          onClick: () => {
                            a(
                              n
                                ? [...t, e.name]
                                : t.slice(0, s).concat(t.slice(s + 1)),
                            );
                          },
                        },
                        l.createElement(
                          "div",
                          {
                            className: (0, _.A)(
                              n && r.Collapsed,
                              r.CollapseIcon,
                            ),
                          },
                          "▼",
                        ),
                        l.createElement(
                          "div",
                          { className: r.SchemaDetailsElementBody },
                          l.createElement(
                            "div",
                            { className: r.ElementName },
                            e.name,
                          ),
                          l.createElement(
                            "div",
                            { className: r.TypeName },
                            "STRUCT [",
                            e.array.max_length,
                            "]",
                          ),
                        ),
                      ),
                    e.array.structure.member.map((e) =>
                      l.createElement(
                        "div",
                        {
                          className: (0, _.A)(
                            n && r.IndentCollapsed,
                            r.StructIndent,
                          ),
                          key: e.name,
                        },
                        y(e, t, a),
                      ),
                    ),
                  ))
                : e.primitive &&
                  (m = l.createElement(
                    "div",
                    {
                      className: (0, _.A)(
                        r.SchemaDetailsElement,
                        r.SchemaDetailsArray,
                      ),
                    },
                    l.createElement(
                      "div",
                      {
                        className: (0, _.A)(
                          r.SchemaDetailsElementBody,
                          b(e.primitive.type_info.type),
                        ),
                      },
                      l.createElement(
                        "div",
                        { className: r.ElementName },
                        e.name,
                      ),
                      l.createElement(
                        "div",
                        { className: r.TypeName },
                        v(e.primitive.type_info.type),
                      ),
                    ),
                  )),
          m
        );
      }
      const P = (0, N.PA)((e) => {
          const t = (0, c.g)(),
            a = "0" == t.schemaid,
            [m, s] = (0, l.useState)([]);
          if (a) return null;
          const o = u.Get().GetSchemaDetails(parseInt(t.appid), t.schemaid);
          return o
            ? (console.log((0, i.HO)(o)),
              l.createElement(
                "div",
                { className: r.SchemaDetails },
                l.createElement(
                  n.N_,
                  { to: w.SteamMLSchemas("0"), className: r.Back },
                  "<< BACK",
                ),
                l.createElement(
                  "div",
                  { className: r.SchemaDetailsHeader },
                  l.createElement(
                    "div",
                    { className: r.SchemaDetailsTitle },
                    l.createElement(
                      "div",
                      { className: r.SchemaDetailsName },
                      "SCHEMA ",
                      o.name,
                    ),
                    l.createElement(
                      "div",
                      { className: r.SchemaDetailsSchemaID },
                      t.schemaid,
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  { className: r.SchemaDetailsElements },
                  y(o, m, s),
                ),
              ))
            : null;
        }),
        L = (0, N.PA)((e) =>
          l.createElement(
            "div",
            { className: r.SchemaPage },
            l.createElement(D, null),
            l.createElement(P, null),
          ),
        ),
        g = (e) =>
          l.createElement(
            "div",
            {
              className: (0, _.A)(
                r.SteamMLButton,
                e.acceptStyle && r.AcceptButton,
                e.cancelStyle && r.CancelButton,
                e.disabled && r.Disabled,
              ),
              style: { minWidth: e.minWidth },
              onClick: (t) => {
                e.disabled || (e.onClick(), t.stopPropagation());
              },
            },
            l.createElement("div", { className: r.Inner }, e.children),
          ),
        C = ({ problem: e }) => (
          console.log((0, i.HO)(e)),
          l.createElement(
            n.N_,
            { to: w.SteamMLProblems(e.problemid), className: r.ProblemEntry },
            l.createElement("div", { className: r.ProblemName }, e.name),
            !e.active &&
              l.createElement("div", { className: r.Inactive }, "Inactive"),
            l.createElement(
              "div",
              { className: r.ProblemDescription },
              e.problem_description,
            ),
            l.createElement("div", { className: r.ProblemID }, e.problemid),
            l.createElement(
              "div",
              { className: r.Dates },
              l.createElement(
                "div",
                { className: r.CreatedDate },
                "Created ",
                new Date(1e3 * e.create_time).toLocaleDateString(),
              ),
              l.createElement(
                "div",
                { className: r.UpdatedDate },
                "Last modified ",
                new Date(1e3 * e.update_time).toLocaleDateString(),
              ),
            ),
          )
        ),
        I = (e) => {
          const [t, a] = (0, l.useState)(!1),
            [m, s] = (0, l.useState)(""),
            [n, c] = (0, l.useState)(""),
            [i, o] = (0, l.useState)([]),
            p = u
              .Get()
              .GetSchemaList(0, !0)
              ?.sort((e, t) => (e.name < t.name ? -1 : 1)),
            S = p?.filter((e, t, a) => 0 == t || e.name != a[t - 1].name),
            h = m.length > 0 && n.length > 0 && i.length > 0;
          return l.createElement(
            "div",
            {
              className: (0, _.A)(
                r.AddNewProblem,
                !t && r.IsPrompt,
                t && r.IsHeader,
              ),
              onClick: () => a(!0),
            },
            l.createElement(
              "div",
              { className: r.NewProblemHeader },
              l.createElement("img", {
                className: r.PlusSymbol,
                src: `${d.TS.IMG_URL}webui/storeadmin/plus.png`,
              }),
              l.createElement(
                "div",
                { className: r.AddProblemHeader },
                "Add New Problem" + (t ? "" : "?"),
              ),
            ),
            l.createElement(
              "div",
              { className: r.NewProblemDescription },
              l.createElement(
                "div",
                { className: r.LabelValue },
                l.createElement("div", { className: r.Label }, "Name"),
                l.createElement("input", {
                  className: r.Value,
                  type: "text",
                  value: m,
                  onChange: (e) => s(e.target.value),
                }),
              ),
              l.createElement(
                "div",
                { className: r.LabelValue },
                l.createElement("div", { className: r.Label }, "Description"),
                l.createElement("input", {
                  className: r.Value,
                  type: "text",
                  value: n,
                  onChange: (e) => c(e.target.value),
                }),
              ),
              S &&
                l.createElement(
                  "div",
                  { className: r.SchemaListContainer },
                  l.createElement(
                    "div",
                    { className: r.SchemaSelectListTitle },
                    "Select Schemas to Include",
                  ),
                  l.createElement(
                    "div",
                    { className: r.SchemaSelectList },
                    S.map((e) => {
                      const t = -1 != i.indexOf(e.schemaid);
                      return l.createElement(
                        "div",
                        {
                          key: e.schemaid,
                          className: (0, _.A)(r.SchemaOption, t && r.Selected),
                          onClick: () =>
                            o(
                              t
                                ? i.filter((t) => t != e.schemaid)
                                : i.concat(e.schemaid),
                            ),
                        },
                        e.name,
                      );
                    }),
                  ),
                ),
              l.createElement(
                "div",
                { className: r.ButtonContainer },
                l.createElement(
                  g,
                  {
                    acceptStyle: !0,
                    minWidth: 100,
                    disabled: !h,
                    onClick: () => h && void u.Get().CreateProblem(m, n, i),
                  },
                  "Create",
                ),
                l.createElement(
                  g,
                  { cancelStyle: !0, minWidth: 100, onClick: () => a(!1) },
                  "Cancel",
                ),
              ),
            ),
          );
        },
        T = (0, N.PA)(({ schemaid: e }) => {
          const t = u.Get().GetSchemaList(0, !0);
          let a;
          if (t) {
            const m = t.filter((t) => t.schemaid == e);
            m.length > 0 && (a = m[0]);
          }
          return l.createElement(
            "div",
            { className: r.SchemaElement },
            a && l.createElement("div", { className: r.SchemaName }, a.name),
          );
        }),
        A = (0, N.PA)(({ problem: e }) => {
          const [t, a] = (0, l.useState)(!1),
            [m, s] = (0, l.useState)(e.name),
            [i, o] = (0, l.useState)(!1),
            [d, p] = (0, l.useState)(e.problem_description),
            [S, h] = (0, l.useState)(!1),
            [E, N] = (0, l.useState)(e.schemaid),
            D = (0, c.W6)(),
            v = (0, l.useRef)(null),
            b = (0, l.useRef)(null),
            y = parseInt(e.problemid),
            P = u
              .Get()
              .GetSchemaList(0, !0)
              ?.slice()
              .sort((e, t) => (e.name < t.name ? -1 : 1)),
            L = P?.filter((e, t, a) => 0 == t || e.name != a[t - 1].name);
          var C;
          (C = () => {
            I(), A(), p(e.problem_description), o(!1);
          }),
            (0, l.useEffect)(() => {
              const e = (e) => {
                27 === e.keyCode && C();
              };
              return (
                window.addEventListener("keydown", e),
                () => {
                  window.removeEventListener("keydown", e);
                }
              );
            }, [C]);
          const I = () => {
              s(e.name), a(!1);
            },
            A = () => {
              p(e.problem_description), o(!1);
            },
            f = () => {
              N(e.schemaid), h(!1);
            };
          return (
            t && v.current.focus(),
            i && b.current.focus(),
            l.createElement(
              "div",
              { className: r.ProblemDetails },
              l.createElement(
                n.N_,
                { to: w.SteamMLProblems(0), className: r.BackButton },
                "<< BACK ",
              ),
              l.createElement(
                "div",
                { className: r.ProblemDetailsHeaderContainer },
                l.createElement(
                  "div",
                  {
                    className: (0, _.A)(r.ProblemName, t && r.Hidden),
                    onClick: (e) => (A(), f(), void a(!0)),
                  },
                  e.name,
                ),
                l.createElement(
                  "form",
                  {
                    className: t ? void 0 : r.Hidden,
                    onSubmit: (t) => {
                      u.Get().EditProblemName(y, m),
                        (e.name = m),
                        a(!1),
                        t.preventDefault();
                    },
                  },
                  l.createElement("input", {
                    ref: v,
                    className: r.ProblemNameEditing,
                    type: "text",
                    value: m,
                    onBlur: () => I(),
                    onFocus: (e) => e.target.select(),
                    onChange: (e) => s(e.target.value),
                  }),
                ),
                l.createElement(
                  "div",
                  {
                    className: (0, _.A)(r.ProblemDescription, i && r.Hidden),
                    onClick: (e) => (I(), f(), void o(!0)),
                  },
                  e.problem_description,
                ),
                l.createElement(
                  "form",
                  {
                    className: i ? void 0 : r.Hidden,
                    onSubmit: (t) => {
                      u.Get().EditProblemDesc(y, d),
                        (e.problem_description = d),
                        o(!1),
                        t.preventDefault();
                    },
                  },
                  l.createElement("input", {
                    ref: b,
                    className: r.ProblemDescEditing,
                    type: "text",
                    value: d,
                    onBlur: () => A(),
                    onFocus: (e) => e.target.select(),
                    onChange: (e) => p(e.target.value),
                  }),
                ),
                l.createElement("div", { className: r.ProblemID }, e.problemid),
                l.createElement(
                  "div",
                  { className: r.Dates },
                  l.createElement(
                    "div",
                    { className: r.CreatedDate },
                    "Created ",
                    new Date(1e3 * e.create_time).toLocaleDateString(),
                  ),
                  l.createElement(
                    "div",
                    { className: r.UpdatedDate },
                    "Last modified ",
                    new Date(1e3 * e.update_time).toLocaleDateString(),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: r.SchemaListContainer },
                l.createElement(
                  "div",
                  { className: r.SchemaListHeader },
                  "Schemas:",
                ),
                l.createElement(
                  "div",
                  {
                    className: r.SchemaListEdit,
                    onClick: () => (I(), A(), void h(!0)),
                  },
                  "Edit",
                ),
                l.createElement(
                  "div",
                  { className: (0, _.A)(r.SchemaList, S && r.Hidden) },
                  e.schemaid.map((e) =>
                    l.createElement(T, { key: e, schemaid: e }),
                  ),
                ),
                l.createElement(
                  "div",
                  {
                    className: (0, _.A)(
                      r.SchemaSelectList,
                      (!S || !L) && r.Hidden,
                    ),
                  },
                  L &&
                    L.map((e) => {
                      const t = -1 != E.indexOf(e.schemaid);
                      return l.createElement(
                        "div",
                        {
                          key: e.schemaid,
                          className: (0, _.A)(r.SchemaOption, t && r.Selected),
                          onClick: () =>
                            N(
                              t
                                ? E.filter((t) => t != e.schemaid)
                                : E.concat(e.schemaid),
                            ),
                        },
                        e.name,
                      );
                    }),
                ),
                S &&
                  l.createElement(
                    "div",
                    { className: r.ButtonContainer },
                    l.createElement(
                      g,
                      {
                        minWidth: 100,
                        acceptStyle: !0,
                        disabled: 0 == E.length,
                        onClick: () => (
                          u.Get().EditProblemSchemas(y, E),
                          (e.schemaid = E),
                          void h(!1)
                        ),
                      },
                      "Accept",
                    ),
                    l.createElement(
                      g,
                      { minWidth: 100, cancelStyle: !0, onClick: () => f() },
                      "Cancel",
                    ),
                  ),
                l.createElement(
                  "div",
                  {
                    className: (0, _.A)(r.DeleteLink, S && r.Hidden),
                    onClick: () => (
                      u.Get().DeleteProblem(y),
                      void D.push(w.SteamMLProblems(0))
                    ),
                  },
                  "Delete Problem",
                ),
              ),
            )
          );
        }),
        f = (0, N.PA)((e) => {
          const t = (0, c.g)(),
            a = "0" == t.problemid;
          let m, s;
          return (
            a
              ? (m = u.Get().GetProblemList())
              : (s = u.Get().GetProblemDetails(parseInt(t.problemid))),
            l.createElement(
              "div",
              { className: r.ProblemPage },
              a &&
                m &&
                l.createElement(
                  "div",
                  { className: r.ProblemListContainer },
                  m.map((e) =>
                    l.createElement(C, { key: e.problemid, problem: e }),
                  ),
                  0 == m.length &&
                    l.createElement(
                      "div",
                      { className: r.NoProblems },
                      "No Existing Problems",
                    ),
                  l.createElement(I, null),
                ),
              !a &&
                s &&
                l.createElement(
                  "div",
                  { className: r.ProblemDetails },
                  l.createElement(A, { problem: s }),
                ),
            )
          );
        }),
        w = {
          SteamMLBase: () => "steamml",
          SteamMLSchemas: (e, t) => `/schemas/${e ?? "0"}/${t ?? "0"}`,
          SteamMLModels: () => "/models",
          SteamMLProblems: (e) => `/problems/${e ?? "0"}`,
        };
      class B extends l.Component {
        render() {
          return l.createElement(
            "div",
            { className: r.Background },
            l.createElement(
              n.Kd,
              { basename: (0, s.C)() + w.SteamMLBase() },
              l.createElement(R, null),
              l.createElement(
                c.dO,
                null,
                l.createElement(c.qh, {
                  exact: !0,
                  path: w.SteamMLSchemas(":appid", ":schemaid"),
                  component: L,
                }),
                l.createElement(c.qh, {
                  exact: !0,
                  path: w.SteamMLModels(),
                  component: k,
                }),
                l.createElement(c.qh, {
                  exact: !0,
                  path: w.SteamMLProblems(":problemid"),
                  component: f,
                }),
                l.createElement(
                  c.qh,
                  { exact: !0, path: "/" },
                  l.createElement(c.rd, { to: w.SteamMLSchemas() }),
                ),
              ),
            ),
          );
        }
      }
      const R = (e) => {
          const t = (0, c.zy)(),
            a = (0, c.B6)(t.pathname, {
              path: w.SteamMLSchemas(":appid", ":schemaid"),
              exact: !0,
            }),
            m = (0, c.B6)(t.pathname, { path: w.SteamMLModels(), exact: !0 }),
            s = (0, c.B6)(t.pathname, {
              path: w.SteamMLProblems(":problemid"),
              exact: !0,
            });
          return l.createElement(
            "div",
            { className: r.Header },
            l.createElement(
              n.N_,
              {
                to: w.SteamMLSchemas(),
                className: (0, _.A)(r.HeaderOption, a && r.Selected),
              },
              "SCHEMAS",
            ),
            l.createElement(
              n.N_,
              {
                to: w.SteamMLModels(),
                className: (0, _.A)(r.HeaderOption, m && r.Selected),
              },
              "MODELS",
            ),
            l.createElement(
              n.N_,
              {
                to: w.SteamMLProblems(),
                className: (0, _.A)(r.HeaderOption, s && r.Selected),
              },
              "PROBLEMS",
            ),
          );
        },
        k = (e) => l.createElement("div", null, "MODEL PAGE");
    },
  },
]);
